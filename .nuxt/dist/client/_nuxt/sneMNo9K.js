const __vite__fileDeps=["./BK29jVmm.js","./Bz3MVxCK.js","./DX0GNj1a.js","./CmeVSlrn.js","./BsNVKChx.js","./BCOqiT4g.js","./CgfoXXaf.js","./BneCoJRQ.js","./BpPgDkYw.js","./index.BCmafDcp.css","./CPvi8saG.js","./resources_seenote.CudSnXCl.css","./CTEmN3N9.js","./sandbox.Cdf5pWNj.css","./DXppPzIU.js","./DAt68Jb4.js","./DBSdlidD.js","./test.CaUO67lb.css","./Dyo51Ogr.js","./tools.FVCG9F-L.css","./CfXOGG8q.js","./CardComponent1.DCgPNMdl.css","./DTZuBpMU.js","./TabComponent.DD53_FgV.css","./DgcATuEO.js","./ArticleList.BhMYtCVS.css","./BswwkGDC.js","./MethodCardList.BhcU3Ie5.css","./BUTJYs8p.js","./SimpleCarousel.BrxcEcJA.css","./D-bVfl5L.js","./BWH2avYc.js","./DE6PI94R.js","./CJ-jNicz.js","./BCpnhRbv.js","./Ds2f6c8D.js","./CKs5PfIK.js","./DeSviFF2.js","./DY9wHvhN.js","./DA5yWpgh.js","./ProseCode.CchFRBtv.css","./CISixVox.js","./BKetJ_NX.js","./BDBgRg6D.js","./BsCtX_0E.js","./BE3lw7cN.js","./C54y17DQ.js","./BlITEx32.js","./CS2r5cGS.js","./DUfmRgMC.js","./BeGLzDu9.js","./IconCSS.Z2BAHt_z.css","./C-1QmcaX.js","./useStudio.DjuB_Dwr.css","./BzIAakft.js","./ContentSearch.BAwwa_q2.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
/**
* @vue/shared v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function $m(k,N){const Q=new Set(k.split(","));return oe=>Q.has(oe)}const Oa={},mh=[],Gl=()=>{},Q6=()=>!1,rd=k=>k.charCodeAt(0)===111&&k.charCodeAt(1)===110&&(k.charCodeAt(2)>122||k.charCodeAt(2)<97),Zm=k=>k.startsWith("onUpdate:"),co=Object.assign,Xm=(k,N)=>{const Q=k.indexOf(N);Q>-1&&k.splice(Q,1)},eT=Object.prototype.hasOwnProperty,Wi=(k,N)=>eT.call(k,N),ri=Array.isArray,yh=k=>id(k)==="[object Map]",c_=k=>id(k)==="[object Set]",tT=k=>id(k)==="[object RegExp]",oi=k=>typeof k=="function",Ra=k=>typeof k=="string",Uf=k=>typeof k=="symbol",ka=k=>k!==null&&typeof k=="object",Km=k=>(ka(k)||oi(k))&&oi(k.then)&&oi(k.catch),f_=Object.prototype.toString,id=k=>f_.call(k),nT=k=>id(k).slice(8,-1),h_=k=>id(k)==="[object Object]",Jm=k=>Ra(k)&&k!=="NaN"&&k[0]!=="-"&&""+parseInt(k,10)===k,xh=$m(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ig=k=>{const N=Object.create(null);return Q=>N[Q]||(N[Q]=k(Q))},rT=/-(\w)/g,Hu=ig(k=>k.replace(rT,(N,Q)=>Q?Q.toUpperCase():"")),iT=/\B([A-Z])/g,Vf=ig(k=>k.replace(iT,"-$1").toLowerCase()),ag=ig(k=>k.charAt(0).toUpperCase()+k.slice(1)),hv=ig(k=>k?`on${ag(k)}`:""),Xc=(k,N)=>!Object.is(k,N),Ep=(k,...N)=>{for(let Q=0;Q<k.length;Q++)k[Q](...N)},p_=(k,N,Q,oe=!1)=>{Object.defineProperty(k,N,{configurable:!0,enumerable:!1,writable:oe,value:Q})},aT=k=>{const N=parseFloat(k);return isNaN(N)?k:N},d_=k=>{const N=Ra(k)?Number(k):NaN;return isNaN(N)?k:N};let qx;const g_=()=>qx||(qx=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Kc(k){if(ri(k)){const N={};for(let Q=0;Q<k.length;Q++){const oe=k[Q],he=Ra(oe)?uT(oe):Kc(oe);if(he)for(const O in he)N[O]=he[O]}return N}else if(Ra(k)||ka(k))return k}const oT=/;(?![^(]*\))/g,sT=/:([^]+)/,lT=/\/\*[^]*?\*\//g;function uT(k){const N={};return k.replace(lT,"").split(oT).forEach(Q=>{if(Q){const oe=Q.split(sT);oe.length>1&&(N[oe[0].trim()]=oe[1].trim())}}),N}function Cr(k){let N="";if(Ra(k))N=k;else if(ri(k))for(let Q=0;Q<k.length;Q++){const oe=Cr(k[Q]);oe&&(N+=oe+" ")}else if(ka(k))for(const Q in k)k[Q]&&(N+=Q+" ");return N.trim()}function Gx(k){if(!k)return null;let{class:N,style:Q}=k;return N&&!Ra(N)&&(k.class=Cr(N)),Q&&(k.style=Kc(Q)),k}const cT="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",fT=$m(cT);function v_(k){return!!k||k===""}const wa=k=>Ra(k)?k:k==null?"":ri(k)||ka(k)&&(k.toString===f_||!oi(k.toString))?JSON.stringify(k,m_,2):String(k),m_=(k,N)=>N&&N.__v_isRef?m_(k,N.value):yh(N)?{[`Map(${N.size})`]:[...N.entries()].reduce((Q,[oe,he],O)=>(Q[pv(oe,O)+" =>"]=he,Q),{})}:c_(N)?{[`Set(${N.size})`]:[...N.values()].map(Q=>pv(Q))}:Uf(N)?pv(N):ka(N)&&!ri(N)&&!h_(N)?String(N):N,pv=(k,N="")=>{var Q;return Uf(k)?`Symbol(${(Q=k.description)!=null?Q:N})`:k};/**
* @vue/reactivity v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let _l;class y_{constructor(N=!1){this.detached=N,this._active=!0,this.effects=[],this.cleanups=[],this.parent=_l,!N&&_l&&(this.index=(_l.scopes||(_l.scopes=[])).push(this)-1)}get active(){return this._active}run(N){if(this._active){const Q=_l;try{return _l=this,N()}finally{_l=Q}}}on(){_l=this}off(){_l=this.parent}stop(N){if(this._active){let Q,oe;for(Q=0,oe=this.effects.length;Q<oe;Q++)this.effects[Q].stop();for(Q=0,oe=this.cleanups.length;Q<oe;Q++)this.cleanups[Q]();if(this.scopes)for(Q=0,oe=this.scopes.length;Q<oe;Q++)this.scopes[Q].stop(!0);if(!this.detached&&this.parent&&!N){const he=this.parent.scopes.pop();he&&he!==this&&(this.parent.scopes[this.index]=he,he.index=this.index)}this.parent=void 0,this._active=!1}}}function x_(k){return new y_(k)}function hT(k,N=_l){N&&N.active&&N.effects.push(k)}function Hf(){return _l}function Ah(k){_l&&_l.cleanups.push(k)}let If;class Qm{constructor(N,Q,oe,he){this.fn=N,this.trigger=Q,this.scheduler=oe,this.active=!0,this.deps=[],this._dirtyLevel=5,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,hT(this,he)}get dirty(){if(this._dirtyLevel===2)return!1;if(this._dirtyLevel===3||this._dirtyLevel===4){this._dirtyLevel=1,tf();for(let N=0;N<this._depsLength;N++){const Q=this.deps[N];if(Q.computed){if(Q.computed.effect._dirtyLevel===2)return!0;if(pT(Q.computed),this._dirtyLevel>=5)break}}this._dirtyLevel===1&&(this._dirtyLevel=0),nf()}return this._dirtyLevel>=5}set dirty(N){this._dirtyLevel=N?5:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let N=Wc,Q=If;try{return Wc=!0,If=this,this._runnings++,Wx(this),this.fn()}finally{Yx(this),this._runnings--,If=Q,Wc=N}}stop(){this.active&&(Wx(this),Yx(this),this.onStop&&this.onStop(),this.active=!1)}}function pT(k){return k.value}function Wx(k){k._trackId++,k._depsLength=0}function Yx(k){if(k.deps.length>k._depsLength){for(let N=k._depsLength;N<k.deps.length;N++)b_(k.deps[N],k);k.deps.length=k._depsLength}}function b_(k,N){const Q=k.get(N);Q!==void 0&&N._trackId!==Q&&(k.delete(N),k.size===0&&k.cleanup())}let Wc=!0,Vv=0;const __=[];function tf(){__.push(Wc),Wc=!1}function nf(){const k=__.pop();Wc=k===void 0?!0:k}function ey(){Vv++}function ty(){for(Vv--;!Vv&&Hv.length;)Hv.shift()()}function w_(k,N,Q){if(N.get(k)!==k._trackId){N.set(k,k._trackId);const oe=k.deps[k._depsLength];oe!==N?(oe&&b_(oe,k),k.deps[k._depsLength++]=N):k._depsLength++}}const Hv=[];function T_(k,N,Q){ey();for(const oe of k.keys()){if(!k.computed&&oe.computed&&k.get(oe)===oe._trackId&&oe._runnings>0){oe._dirtyLevel=2;continue}let he;oe._dirtyLevel<N&&(he??(he=k.get(oe)===oe._trackId))&&(oe._shouldSchedule||(oe._shouldSchedule=oe._dirtyLevel===0),oe.computed&&oe._dirtyLevel===2&&(oe._shouldSchedule=!0),oe._dirtyLevel=N),oe._shouldSchedule&&(he??(he=k.get(oe)===oe._trackId))&&(oe.trigger(),(!oe._runnings||oe.allowRecurse)&&oe._dirtyLevel!==3&&(oe._shouldSchedule=!1,oe.scheduler&&Hv.push(oe.scheduler)))}ty()}const k_=(k,N)=>{const Q=new Map;return Q.cleanup=k,Q.computed=N,Q},N0=new WeakMap,Rf=Symbol(""),qv=Symbol("");function tl(k,N,Q){if(Wc&&If){let oe=N0.get(k);oe||N0.set(k,oe=new Map);let he=oe.get(Q);he||oe.set(Q,he=k_(()=>oe.delete(Q))),w_(If,he)}}function cc(k,N,Q,oe,he,O){const S=N0.get(k);if(!S)return;let e=[];if(N==="clear")e=[...S.values()];else if(Q==="length"&&ri(k)){const v=Number(oe);S.forEach((x,t)=>{(t==="length"||!Uf(t)&&t>=v)&&e.push(x)})}else switch(Q!==void 0&&e.push(S.get(Q)),N){case"add":ri(k)?Jm(Q)&&e.push(S.get("length")):(e.push(S.get(Rf)),yh(k)&&e.push(S.get(qv)));break;case"delete":ri(k)||(e.push(S.get(Rf)),yh(k)&&e.push(S.get(qv)));break;case"set":yh(k)&&e.push(S.get(Rf));break}ey();for(const v of e)v&&T_(v,5);ty()}function dT(k,N){const Q=N0.get(k);return Q&&Q.get(N)}const gT=$m("__proto__,__v_isRef,__isVue"),A_=new Set(Object.getOwnPropertyNames(Symbol).filter(k=>k!=="arguments"&&k!=="caller").map(k=>Symbol[k]).filter(Uf)),$x=vT();function vT(){const k={};return["includes","indexOf","lastIndexOf"].forEach(N=>{k[N]=function(...Q){const oe=Xi(this);for(let O=0,S=this.length;O<S;O++)tl(oe,"get",O+"");const he=oe[N](...Q);return he===-1||he===!1?oe[N](...Q.map(Xi)):he}}),["push","pop","shift","unshift","splice"].forEach(N=>{k[N]=function(...Q){tf(),ey();const oe=Xi(this)[N].apply(this,Q);return ty(),nf(),oe}}),k}function mT(k){Uf(k)||(k=String(k));const N=Xi(this);return tl(N,"has",k),N.hasOwnProperty(k)}class M_{constructor(N=!1,Q=!1){this._isReadonly=N,this._isShallow=Q}get(N,Q,oe){const he=this._isReadonly,O=this._isShallow;if(Q==="__v_isReactive")return!he;if(Q==="__v_isReadonly")return he;if(Q==="__v_isShallow")return O;if(Q==="__v_raw")return oe===(he?O?CT:C_:O?L_:E_).get(N)||Object.getPrototypeOf(N)===Object.getPrototypeOf(oe)?N:void 0;const S=ri(N);if(!he){if(S&&Wi($x,Q))return Reflect.get($x,Q,oe);if(Q==="hasOwnProperty")return mT}const e=Reflect.get(N,Q,oe);return(Uf(Q)?A_.has(Q):gT(Q))||(he||tl(N,"get",Q),O)?e:_o(e)?S&&Jm(Q)?e:e.value:ka(e)?he?sg(e):_u(e):e}}class S_ extends M_{constructor(N=!1){super(!1,N)}set(N,Q,oe,he){let O=N[Q];if(!this._isShallow){const v=Mh(O);if(!j0(oe)&&!Mh(oe)&&(O=Xi(O),oe=Xi(oe)),!ri(N)&&_o(O)&&!_o(oe))return v?!1:(O.value=oe,!0)}const S=ri(N)&&Jm(Q)?Number(Q)<N.length:Wi(N,Q),e=Reflect.set(N,Q,oe,he);return N===Xi(he)&&(S?Xc(oe,O)&&cc(N,"set",Q,oe):cc(N,"add",Q,oe)),e}deleteProperty(N,Q){const oe=Wi(N,Q);N[Q];const he=Reflect.deleteProperty(N,Q);return he&&oe&&cc(N,"delete",Q,void 0),he}has(N,Q){const oe=Reflect.has(N,Q);return(!Uf(Q)||!A_.has(Q))&&tl(N,"has",Q),oe}ownKeys(N){return tl(N,"iterate",ri(N)?"length":Rf),Reflect.ownKeys(N)}}class yT extends M_{constructor(N=!1){super(!0,N)}set(N,Q){return!0}deleteProperty(N,Q){return!0}}const xT=new S_,bT=new yT,_T=new S_(!0);const ny=k=>k,og=k=>Reflect.getPrototypeOf(k);function o0(k,N,Q=!1,oe=!1){k=k.__v_raw;const he=Xi(k),O=Xi(N);Q||(Xc(N,O)&&tl(he,"get",N),tl(he,"get",O));const{has:S}=og(he),e=oe?ny:Q?ay:jp;if(S.call(he,N))return e(k.get(N));if(S.call(he,O))return e(k.get(O));k!==he&&k.get(N)}function s0(k,N=!1){const Q=this.__v_raw,oe=Xi(Q),he=Xi(k);return N||(Xc(k,he)&&tl(oe,"has",k),tl(oe,"has",he)),k===he?Q.has(k):Q.has(k)||Q.has(he)}function l0(k,N=!1){return k=k.__v_raw,!N&&tl(Xi(k),"iterate",Rf),Reflect.get(k,"size",k)}function Zx(k){k=Xi(k);const N=Xi(this);return og(N).has.call(N,k)||(N.add(k),cc(N,"add",k,k)),this}function Xx(k,N){N=Xi(N);const Q=Xi(this),{has:oe,get:he}=og(Q);let O=oe.call(Q,k);O||(k=Xi(k),O=oe.call(Q,k));const S=he.call(Q,k);return Q.set(k,N),O?Xc(N,S)&&cc(Q,"set",k,N):cc(Q,"add",k,N),this}function Kx(k){const N=Xi(this),{has:Q,get:oe}=og(N);let he=Q.call(N,k);he||(k=Xi(k),he=Q.call(N,k)),oe&&oe.call(N,k);const O=N.delete(k);return he&&cc(N,"delete",k,void 0),O}function Jx(){const k=Xi(this),N=k.size!==0,Q=k.clear();return N&&cc(k,"clear",void 0,void 0),Q}function u0(k,N){return function(oe,he){const O=this,S=O.__v_raw,e=Xi(S),v=N?ny:k?ay:jp;return!k&&tl(e,"iterate",Rf),S.forEach((x,t)=>oe.call(he,v(x),v(t),O))}}function c0(k,N,Q){return function(...oe){const he=this.__v_raw,O=Xi(he),S=yh(O),e=k==="entries"||k===Symbol.iterator&&S,v=k==="keys"&&S,x=he[k](...oe),t=Q?ny:N?ay:jp;return!N&&tl(O,"iterate",v?qv:Rf),{next(){const{value:b,done:g}=x.next();return g?{value:b,done:g}:{value:e?[t(b[0]),t(b[1])]:t(b),done:g}},[Symbol.iterator](){return this}}}}function Pc(k){return function(...N){return k==="delete"?!1:k==="clear"?void 0:this}}function wT(){const k={get(O){return o0(this,O)},get size(){return l0(this)},has:s0,add:Zx,set:Xx,delete:Kx,clear:Jx,forEach:u0(!1,!1)},N={get(O){return o0(this,O,!1,!0)},get size(){return l0(this)},has:s0,add:Zx,set:Xx,delete:Kx,clear:Jx,forEach:u0(!1,!0)},Q={get(O){return o0(this,O,!0)},get size(){return l0(this,!0)},has(O){return s0.call(this,O,!0)},add:Pc("add"),set:Pc("set"),delete:Pc("delete"),clear:Pc("clear"),forEach:u0(!0,!1)},oe={get(O){return o0(this,O,!0,!0)},get size(){return l0(this,!0)},has(O){return s0.call(this,O,!0)},add:Pc("add"),set:Pc("set"),delete:Pc("delete"),clear:Pc("clear"),forEach:u0(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(O=>{k[O]=c0(O,!1,!1),Q[O]=c0(O,!0,!1),N[O]=c0(O,!1,!0),oe[O]=c0(O,!0,!0)}),[k,Q,N,oe]}const[TT,kT,AT,MT]=wT();function ry(k,N){const Q=N?k?MT:AT:k?kT:TT;return(oe,he,O)=>he==="__v_isReactive"?!k:he==="__v_isReadonly"?k:he==="__v_raw"?oe:Reflect.get(Wi(Q,he)&&he in oe?Q:oe,he,O)}const ST={get:ry(!1,!1)},ET={get:ry(!1,!0)},LT={get:ry(!0,!1)};const E_=new WeakMap,L_=new WeakMap,C_=new WeakMap,CT=new WeakMap;function PT(k){switch(k){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function OT(k){return k.__v_skip||!Object.isExtensible(k)?0:PT(nT(k))}function _u(k){return Mh(k)?k:iy(k,!1,xT,ST,E_)}function lc(k){return iy(k,!1,_T,ET,L_)}function sg(k){return iy(k,!0,bT,LT,C_)}function iy(k,N,Q,oe,he){if(!ka(k)||k.__v_raw&&!(N&&k.__v_isReactive))return k;const O=he.get(k);if(O)return O;const S=OT(k);if(S===0)return k;const e=new Proxy(k,S===2?oe:Q);return he.set(k,e),e}function Lp(k){return Mh(k)?Lp(k.__v_raw):!!(k&&k.__v_isReactive)}function Mh(k){return!!(k&&k.__v_isReadonly)}function j0(k){return!!(k&&k.__v_isShallow)}function P_(k){return k?!!k.__v_raw:!1}function Xi(k){const N=k&&k.__v_raw;return N?Xi(N):k}function IT(k){return Object.isExtensible(k)&&p_(k,"__v_skip",!0),k}const jp=k=>ka(k)?_u(k):k,ay=k=>ka(k)?sg(k):k;class O_{constructor(N,Q,oe,he){this.getter=N,this._setter=Q,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Qm(()=>N(this._value),()=>bh(this,this.effect._dirtyLevel===3?3:4)),this.effect.computed=this,this.effect.active=this._cacheable=!he,this.__v_isReadonly=oe}get value(){const N=Xi(this);return(!N._cacheable||N.effect.dirty)&&Xc(N._value,N._value=N.effect.run())&&bh(N,5),oy(N),N.effect._dirtyLevel>=2&&bh(N,3),N._value}set value(N){this._setter(N)}get _dirty(){return this.effect.dirty}set _dirty(N){this.effect.dirty=N}}function RT(k,N,Q=!1){let oe,he;const O=oi(k);return O?(oe=k,he=Gl):(oe=k.get,he=k.set),new O_(oe,he,O||!he,Q)}function oy(k){var N;Wc&&If&&(k=Xi(k),w_(If,(N=k.dep)!=null?N:k.dep=k_(()=>k.dep=void 0,k instanceof O_?k:void 0)))}function bh(k,N=5,Q,oe){k=Xi(k);const he=k.dep;he&&T_(he,N)}function _o(k){return!!(k&&k.__v_isRef===!0)}function wr(k){return I_(k,!1)}function hc(k){return I_(k,!0)}function I_(k,N){return _o(k)?k:new DT(k,N)}class DT{constructor(N,Q){this.__v_isShallow=Q,this.dep=void 0,this.__v_isRef=!0,this._rawValue=Q?N:Xi(N),this._value=Q?N:jp(N)}get value(){return oy(this),this._value}set value(N){const Q=this.__v_isShallow||j0(N)||Mh(N);N=Q?N:Xi(N),Xc(N,this._rawValue)&&(this._rawValue,this._rawValue=N,this._value=Q?N:jp(N),bh(this,5))}}function wD(k){bh(k,5)}function Fn(k){return _o(k)?k.value:k}function Nu(k){return oi(k)?k():Fn(k)}const zT={get:(k,N,Q)=>Fn(Reflect.get(k,N,Q)),set:(k,N,Q,oe)=>{const he=k[N];return _o(he)&&!_o(Q)?(he.value=Q,!0):Reflect.set(k,N,Q,oe)}};function R_(k){return Lp(k)?k:new Proxy(k,zT)}class FT{constructor(N){this.dep=void 0,this.__v_isRef=!0;const{get:Q,set:oe}=N(()=>oy(this),()=>bh(this));this._get=Q,this._set=oe}get value(){return this._get()}set value(N){this._set(N)}}function BT(k){return new FT(k)}function TD(k){const N=ri(k)?new Array(k.length):{};for(const Q in k)N[Q]=D_(k,Q);return N}class NT{constructor(N,Q,oe){this._object=N,this._key=Q,this._defaultValue=oe,this.__v_isRef=!0}get value(){const N=this._object[this._key];return N===void 0?this._defaultValue:N}set value(N){this._object[this._key]=N}get dep(){return dT(Xi(this._object),this._key)}}class jT{constructor(N){this._getter=N,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Ai(k,N,Q){return _o(k)?k:oi(k)?new jT(k):ka(k)&&arguments.length>1?D_(k,N,Q):wr(k)}function D_(k,N,Q){const oe=k[N];return _o(oe)?oe:new NT(k,N,Q)}/**
* @vue/runtime-core v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Yc(k,N,Q,oe){try{return oe?k(...oe):k()}catch(he){Bh(he,N,Q)}}function $l(k,N,Q,oe){if(oi(k)){const he=Yc(k,N,Q,oe);return he&&Km(he)&&he.catch(O=>{Bh(O,N,Q)}),he}if(ri(k)){const he=[];for(let O=0;O<k.length;O++)he.push($l(k[O],N,Q,oe));return he}}function Bh(k,N,Q,oe=!0){const he=N?N.vnode:null;if(N){let O=N.parent;const S=N.proxy,e=`https://vuejs.org/error-reference/#runtime-${Q}`;for(;O;){const x=O.ec;if(x){for(let t=0;t<x.length;t++)if(x[t](k,S,e)===!1)return}O=O.parent}const v=N.appContext.config.errorHandler;if(v){tf(),Yc(v,null,10,[k,S,e]),nf();return}}UT(k,Q,he,oe)}function UT(k,N,Q,oe=!0){console.error(k)}let Up=!1,Gv=!1;const hs=[];let ju=0;const _h=[];let Bc=null,Lf=0;const z_=Promise.resolve();let sy=null;function gc(k){const N=sy||z_;return k?N.then(this?k.bind(this):k):N}function VT(k){let N=ju+1,Q=hs.length;for(;N<Q;){const oe=N+Q>>>1,he=hs[oe],O=Vp(he);O<k||O===k&&he.pre?N=oe+1:Q=oe}return N}function lg(k){(!hs.length||!hs.includes(k,Up&&k.allowRecurse?ju+1:ju))&&(k.id==null?hs.push(k):hs.splice(VT(k.id),0,k),F_())}function F_(){!Up&&!Gv&&(Gv=!0,sy=z_.then(B_))}function HT(k){const N=hs.indexOf(k);N>ju&&hs.splice(N,1)}function Wv(k){ri(k)?_h.push(...k):(!Bc||!Bc.includes(k,k.allowRecurse?Lf+1:Lf))&&_h.push(k),F_()}function Qx(k,N,Q=Up?ju+1:0){for(;Q<hs.length;Q++){const oe=hs[Q];if(oe&&oe.pre){if(k&&oe.id!==k.uid)continue;hs.splice(Q,1),Q--,oe()}}}function U0(k){if(_h.length){const N=[...new Set(_h)].sort((Q,oe)=>Vp(Q)-Vp(oe));if(_h.length=0,Bc){Bc.push(...N);return}for(Bc=N,Lf=0;Lf<Bc.length;Lf++){const Q=Bc[Lf];Q.active!==!1&&Q()}Bc=null,Lf=0}}const Vp=k=>k.id==null?1/0:k.id,qT=(k,N)=>{const Q=Vp(k)-Vp(N);if(Q===0){if(k.pre&&!N.pre)return-1;if(N.pre&&!k.pre)return 1}return Q};function B_(k){Gv=!1,Up=!0,hs.sort(qT);try{for(ju=0;ju<hs.length;ju++){const N=hs[ju];N&&N.active!==!1&&Yc(N,null,14)}}finally{ju=0,hs.length=0,U0(),Up=!1,sy=null,(hs.length||_h.length)&&B_()}}function GT(k,N,...Q){if(k.isUnmounted)return;const oe=k.vnode.props||Oa;let he=Q;const O=N.startsWith("update:"),S=O&&N.slice(7);if(S&&S in oe){const t=`${S==="modelValue"?"model":S}Modifiers`,{number:b,trim:g}=oe[t]||Oa;g&&(he=Q.map(c=>Ra(c)?c.trim():c)),b&&(he=Q.map(aT))}let e,v=oe[e=hv(N)]||oe[e=hv(Hu(N))];!v&&O&&(v=oe[e=hv(Vf(N))]),v&&$l(v,k,6,he);const x=oe[e+"Once"];if(x){if(!k.emitted)k.emitted={};else if(k.emitted[e])return;k.emitted[e]=!0,$l(x,k,6,he)}}function N_(k,N,Q=!1){const oe=N.emitsCache,he=oe.get(k);if(he!==void 0)return he;const O=k.emits;let S={},e=!1;if(!oi(k)){const v=x=>{const t=N_(x,N,!0);t&&(e=!0,co(S,t))};!Q&&N.mixins.length&&N.mixins.forEach(v),k.extends&&v(k.extends),k.mixins&&k.mixins.forEach(v)}return!O&&!e?(ka(k)&&oe.set(k,null),null):(ri(O)?O.forEach(v=>S[v]=null):co(S,O),ka(k)&&oe.set(k,S),S)}function ug(k,N){return!k||!rd(N)?!1:(N=N.slice(2).replace(/Once$/,""),Wi(k,N[0].toLowerCase()+N.slice(1))||Wi(k,Vf(N))||Wi(k,N))}let bo=null,cg=null;function V0(k){const N=bo;return bo=k,cg=k&&k.type.__scopeId||null,N}function j_(k){cg=k}function U_(){cg=null}function Yr(k,N=bo,Q){if(!N||k._n)return k;const oe=(...he)=>{oe._d&&g2(-1);const O=V0(N);let S;try{S=k(...he)}finally{V0(O),oe._d&&g2(1)}return S};return oe._n=!0,oe._c=!0,oe._d=!0,oe}function dv(k){const{type:N,vnode:Q,proxy:oe,withProxy:he,propsOptions:[O],slots:S,attrs:e,emit:v,render:x,renderCache:t,props:b,data:g,setupState:c,ctx:s,inheritAttrs:n}=k,i=V0(k);let a,r;try{if(Q.shapeFlag&4){const l=he||oe,u=l;a=ql(x.call(u,l,t,b,c,g,s)),r=e}else{const l=N;a=ql(l.length>1?l(b,{attrs:e,slots:S,emit:v}):l(b,null)),r=N.props?e:YT(e)}}catch(l){Op.length=0,Bh(l,k,1),a=Rr(Zo)}let o=a;if(r&&n!==!1){const l=Object.keys(r),{shapeFlag:u}=o;l.length&&u&7&&(O&&l.some(Zm)&&(r=$T(r,O)),o=Xl(o,r,!1,!0))}return Q.dirs&&(o=Xl(o,null,!1,!0),o.dirs=o.dirs?o.dirs.concat(Q.dirs):Q.dirs),Q.transition&&(o.transition=Q.transition),a=o,V0(i),a}function WT(k,N=!0){let Q;for(let oe=0;oe<k.length;oe++){const he=k[oe];if(Lh(he)){if(he.type!==Zo||he.children==="v-if"){if(Q)return;Q=he}}else return}return Q}const YT=k=>{let N;for(const Q in k)(Q==="class"||Q==="style"||rd(Q))&&((N||(N={}))[Q]=k[Q]);return N},$T=(k,N)=>{const Q={};for(const oe in k)(!Zm(oe)||!(oe.slice(9)in N))&&(Q[oe]=k[oe]);return Q};function ZT(k,N,Q){const{props:oe,children:he,component:O}=k,{props:S,children:e,patchFlag:v}=N,x=O.emitsOptions;if(N.dirs||N.transition)return!0;if(Q&&v>=0){if(v&1024)return!0;if(v&16)return oe?e2(oe,S,x):!!S;if(v&8){const t=N.dynamicProps;for(let b=0;b<t.length;b++){const g=t[b];if(S[g]!==oe[g]&&!ug(x,g))return!0}}}else return(he||e)&&(!e||!e.$stable)?!0:oe===S?!1:oe?S?e2(oe,S,x):!0:!!S;return!1}function e2(k,N,Q){const oe=Object.keys(N);if(oe.length!==Object.keys(k).length)return!0;for(let he=0;he<oe.length;he++){const O=oe[he];if(N[O]!==k[O]&&!ug(Q,O))return!0}return!1}function ly({vnode:k,parent:N},Q){for(;N;){const oe=N.subTree;if(oe.suspense&&oe.suspense.activeBranch===k&&(oe.el=k.el),oe===k)(k=N.vnode).el=Q,N=N.parent;else break}}const V_="components";function fc(k,N){return q_(V_,k,!0,N)||k}const H_=Symbol.for("v-ndc");function ad(k){return Ra(k)?q_(V_,k,!1)||k:k||H_}function q_(k,N,Q=!0,oe=!1){const he=bo||xo;if(he){const O=he.type;{const e=om(O,!1);if(e&&(e===N||e===Hu(N)||e===ag(Hu(N))))return O}const S=t2(he[k]||O[k],N)||t2(he.appContext[k],N);return!S&&oe?O:S}}function t2(k,N){return k&&(k[N]||k[Hu(N)]||k[ag(Hu(N))])}const Yv=k=>k.__isSuspense;let $v=0;const XT={name:"Suspense",__isSuspense:!0,process(k,N,Q,oe,he,O,S,e,v,x){if(k==null)KT(N,Q,oe,he,O,S,e,v,x);else{if(O&&O.deps>0&&!k.suspense.isInFallback){N.suspense=k.suspense,N.suspense.vnode=N,N.el=k.el;return}JT(k,N,Q,oe,he,S,e,v,x)}},hydrate:QT,create:cy,normalize:ek},uy=XT;function Hp(k,N){const Q=k.props&&k.props[N];oi(Q)&&Q()}function KT(k,N,Q,oe,he,O,S,e,v){const{p:x,o:{createElement:t}}=v,b=t("div"),g=k.suspense=cy(k,he,oe,N,b,Q,O,S,e,v);x(null,g.pendingBranch=k.ssContent,b,null,oe,g,O,S),g.deps>0?(Hp(k,"onPending"),Hp(k,"onFallback"),x(null,k.ssFallback,N,Q,oe,null,O,S),wh(g,k.ssFallback)):g.resolve(!1,!0)}function JT(k,N,Q,oe,he,O,S,e,{p:v,um:x,o:{createElement:t}}){const b=N.suspense=k.suspense;b.vnode=N,N.el=k.el;const g=N.ssContent,c=N.ssFallback,{activeBranch:s,pendingBranch:n,isInFallback:i,isHydrating:a}=b;if(n)b.pendingBranch=g,mu(g,n)?(v(n,g,b.hiddenContainer,null,he,b,O,S,e),b.deps<=0?b.resolve():i&&(a||(v(s,c,Q,oe,he,null,O,S,e),wh(b,c)))):(b.pendingId=$v++,a?(b.isHydrating=!1,b.activeBranch=n):x(n,he,b),b.deps=0,b.effects.length=0,b.hiddenContainer=t("div"),i?(v(null,g,b.hiddenContainer,null,he,b,O,S,e),b.deps<=0?b.resolve():(v(s,c,Q,oe,he,null,O,S,e),wh(b,c))):s&&mu(g,s)?(v(s,g,Q,oe,he,b,O,S,e),b.resolve(!0)):(v(null,g,b.hiddenContainer,null,he,b,O,S,e),b.deps<=0&&b.resolve()));else if(s&&mu(g,s))v(s,g,Q,oe,he,b,O,S,e),wh(b,g);else if(Hp(N,"onPending"),b.pendingBranch=g,g.shapeFlag&512?b.pendingId=g.component.suspenseId:b.pendingId=$v++,v(null,g,b.hiddenContainer,null,he,b,O,S,e),b.deps<=0)b.resolve();else{const{timeout:r,pendingId:o}=b;r>0?setTimeout(()=>{b.pendingId===o&&b.fallback(c)},r):r===0&&b.fallback(c)}}function cy(k,N,Q,oe,he,O,S,e,v,x,t=!1){const{p:b,m:g,um:c,n:s,o:{parentNode:n,remove:i}}=x;let a;const r=tk(k);r&&N&&N.pendingBranch&&(a=N.pendingId,N.deps++);const o=k.props?d_(k.props.timeout):void 0,l=O,u={vnode:k,parent:N,parentComponent:Q,namespace:S,container:oe,hiddenContainer:he,deps:0,pendingId:$v++,timeout:typeof o=="number"?o:-1,activeBranch:null,pendingBranch:null,isInFallback:!t,isHydrating:t,isUnmounted:!1,effects:[],resolve(h=!1,f=!1){const{vnode:T,activeBranch:d,pendingBranch:y,pendingId:m,effects:w,parentComponent:_,container:A}=u;let p=!1;u.isHydrating?u.isHydrating=!1:h||(p=d&&y.transition&&y.transition.mode==="out-in",p&&(d.transition.afterLeave=()=>{m===u.pendingId&&(g(y,A,O===l?s(d):O,0),Wv(w))}),d&&(n(d.el)!==u.hiddenContainer&&(O=s(d)),c(d,_,u,!0)),p||g(y,A,O,0)),wh(u,y),u.pendingBranch=null,u.isInFallback=!1;let L=u.parent,M=!1;for(;L;){if(L.pendingBranch){L.effects.push(...w),M=!0;break}L=L.parent}!M&&!p&&Wv(w),u.effects=[],r&&N&&N.pendingBranch&&a===N.pendingId&&(N.deps--,N.deps===0&&!f&&N.resolve()),Hp(T,"onResolve")},fallback(h){if(!u.pendingBranch)return;const{vnode:f,activeBranch:T,parentComponent:d,container:y,namespace:m}=u;Hp(f,"onFallback");const w=s(T),_=()=>{u.isInFallback&&(b(null,h,y,w,d,null,m,e,v),wh(u,h))},A=h.transition&&h.transition.mode==="out-in";A&&(T.transition.afterLeave=_),u.isInFallback=!0,c(T,d,null,!0),A||_()},move(h,f,T){u.activeBranch&&g(u.activeBranch,h,f,T),u.container=h},next(){return u.activeBranch&&s(u.activeBranch)},registerDep(h,f,T){const d=!!u.pendingBranch;d&&u.deps++;const y=h.vnode.el;h.asyncDep.catch(m=>{Bh(m,h,0)}).then(m=>{if(h.isUnmounted||u.isUnmounted||u.pendingId!==h.suspenseId)return;h.asyncResolved=!0;const{vnode:w}=h;am(h,m,!1),y&&(w.el=y);const _=!y&&h.subTree.el;f(h,w,n(y||h.subTree.el),y?null:s(h.subTree),u,S,T),_&&i(_),ly(h,w.el),d&&--u.deps===0&&u.resolve()})},unmount(h,f){u.isUnmounted=!0,u.activeBranch&&c(u.activeBranch,Q,h,f),u.pendingBranch&&c(u.pendingBranch,Q,h,f)}};return u}function QT(k,N,Q,oe,he,O,S,e,v){const x=N.suspense=cy(N,oe,Q,k.parentNode,document.createElement("div"),null,he,O,S,e,!0),t=v(k,x.pendingBranch=N.ssContent,Q,x,O,S);return x.deps===0&&x.resolve(!1,!0),t}function ek(k){const{shapeFlag:N,children:Q}=k,oe=N&32;k.ssContent=n2(oe?Q.default:Q),k.ssFallback=oe?n2(Q.fallback):Rr(Zo)}function n2(k){let N;if(oi(k)){const Q=Eh&&k._c;Q&&(k._d=!1,pr()),k=k(),Q&&(k._d=!0,N=Wl,ww())}return ri(k)&&(k=WT(k)),k=ql(k),N&&!k.dynamicChildren&&(k.dynamicChildren=N.filter(Q=>Q!==k)),k}function G_(k,N){N&&N.pendingBranch?ri(k)?N.effects.push(...k):N.effects.push(k):Wv(k)}function wh(k,N){k.activeBranch=N;const{vnode:Q,parentComponent:oe}=k;let he=N.el;for(;!he&&N.component;)N=N.component.subTree,he=N.el;Q.el=he,oe&&oe.subTree===Q&&(oe.vnode.el=he,ly(oe,he))}function tk(k){const N=k.props&&k.props.suspensible;return N!=null&&N!==!1}function fg(k,N,Q=xo,oe=!1){if(Q){const he=Q[k]||(Q[k]=[]),O=N.__weh||(N.__weh=(...S)=>{tf();const e=Ff(Q),v=$l(N,Q,k,S);return e(),nf(),v});return oe?he.unshift(O):he.push(O),O}}const vc=k=>(N,Q=xo)=>{(!ld||k==="sp")&&fg(k,(...oe)=>N(...oe),Q)},W_=vc("bm"),la=vc("m"),nk=vc("bu"),Y_=vc("u"),od=vc("bum"),wo=vc("um"),rk=vc("sp"),ik=vc("rtg"),ak=vc("rtc");function $_(k,N=xo){fg("ec",k,N)}function ok(k,N){if(bo===null)return k;const Q=dg(bo),oe=k.dirs||(k.dirs=[]);for(let he=0;he<N.length;he++){let[O,S,e,v=Oa]=N[he];O&&(oi(O)&&(O={mounted:O,updated:O}),O.deep&&Vc(S),oe.push({dir:O,instance:Q,value:S,oldValue:void 0,arg:e,modifiers:v}))}return k}function Bu(k,N,Q,oe){const he=k.dirs,O=N&&N.dirs;for(let S=0;S<he.length;S++){const e=he[S];O&&(e.oldValue=O[S].value);let v=e.dir[oe];v&&(tf(),$l(v,Q,8,[k.el,e,k,N]),nf())}}function nl(k,N,Q,oe){let he;const O=Q;if(ri(k)||Ra(k)){he=new Array(k.length);for(let S=0,e=k.length;S<e;S++)he[S]=N(k[S],S,void 0,O)}else if(typeof k=="number"){he=new Array(k);for(let S=0;S<k;S++)he[S]=N(S+1,S,void 0,O)}else if(ka(k))if(k[Symbol.iterator])he=Array.from(k,(S,e)=>N(S,e,void 0,O));else{const S=Object.keys(k);he=new Array(S.length);for(let e=0,v=S.length;e<v;e++){const x=S[e];he[e]=N(k[x],x,e,O)}}else he=[];return he}function hg(k,N){for(let Q=0;Q<N.length;Q++){const oe=N[Q];if(ri(oe))for(let he=0;he<oe.length;he++)k[oe[he].name]=oe[he].fn;else oe&&(k[oe.name]=oe.key?(...he)=>{const O=oe.fn(...he);return O&&(O.key=oe.key),O}:oe.fn)}return k}/*! #__NO_SIDE_EFFECTS__ */function Kr(k,N){return oi(k)?co({name:k.name},N,{setup:k}):k}const Df=k=>!!k.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function Xr(k){oi(k)&&(k={loader:k});const{loader:N,loadingComponent:Q,errorComponent:oe,delay:he=200,timeout:O,suspensible:S=!0,onError:e}=k;let v=null,x,t=0;const b=()=>(t++,v=null,g()),g=()=>{let c;return v||(c=v=N().catch(s=>{if(s=s instanceof Error?s:new Error(String(s)),e)return new Promise((n,i)=>{e(s,()=>n(b()),()=>i(s),t+1)});throw s}).then(s=>c!==v&&v?v:(s&&(s.__esModule||s[Symbol.toStringTag]==="Module")&&(s=s.default),x=s,s)))};return Kr({name:"AsyncComponentWrapper",__asyncLoader:g,get __asyncResolved(){return x},setup(){const c=xo;if(x)return()=>gv(x,c);const s=r=>{v=null,Bh(r,c,13,!oe)};if(S&&c.suspense||ld)return g().then(r=>()=>gv(r,c)).catch(r=>(s(r),()=>oe?Rr(oe,{error:r}):null));const n=wr(!1),i=wr(),a=wr(!!he);return he&&setTimeout(()=>{a.value=!1},he),O!=null&&setTimeout(()=>{if(!n.value&&!i.value){const r=new Error(`Async component timed out after ${O}ms.`);s(r),i.value=r}},O),g().then(()=>{n.value=!0,c.parent&&sd(c.parent.vnode)&&(c.parent.effect.dirty=!0,lg(c.parent.update))}).catch(r=>{s(r),i.value=r}),()=>{if(n.value&&x)return gv(x,c);if(i.value&&oe)return Rr(oe,{error:i.value});if(Q&&!a.value)return Rr(Q)}}})}function gv(k,N){const{ref:Q,props:oe,children:he,ce:O}=N.vnode,S=Rr(k,oe,he);return S.ref=Q,S.ce=O,delete N.vnode.ce,S}function fi(k,N,Q={},oe,he){if(bo.isCE||bo.parent&&Df(bo.parent)&&bo.parent.isCE)return N!=="default"&&(Q.name=N),Rr("slot",Q,oe&&oe());let O=k[N];O&&O._c&&(O._d=!1),pr();const S=O&&Z_(O(Q)),e=ti(ki,{key:Q.key||S&&S.key||`_${N}`},S||(oe?oe():[]),S&&k._===1?64:-2);return!he&&e.scopeId&&(e.slotScopeIds=[e.scopeId+"-s"]),O&&O._c&&(O._d=!0),e}function Z_(k){return k.some(N=>Lh(N)?!(N.type===Zo||N.type===ki&&!Z_(N.children)):!0)?k:null}const Zv=k=>k?Aw(k)?dg(k):Zv(k.parent):null,Cp=co(Object.create(null),{$:k=>k,$el:k=>k.vnode.el,$data:k=>k.data,$props:k=>k.props,$attrs:k=>k.attrs,$slots:k=>k.slots,$refs:k=>k.refs,$parent:k=>Zv(k.parent),$root:k=>Zv(k.root),$emit:k=>k.emit,$options:k=>hy(k),$forceUpdate:k=>k.f||(k.f=()=>{k.effect.dirty=!0,lg(k.update)}),$nextTick:k=>k.n||(k.n=gc.bind(k.proxy)),$watch:k=>Ck.bind(k)}),vv=(k,N)=>k!==Oa&&!k.__isScriptSetup&&Wi(k,N),sk={get({_:k},N){if(N==="__v_skip")return!0;const{ctx:Q,setupState:oe,data:he,props:O,accessCache:S,type:e,appContext:v}=k;let x;if(N[0]!=="$"){const c=S[N];if(c!==void 0)switch(c){case 1:return oe[N];case 2:return he[N];case 4:return Q[N];case 3:return O[N]}else{if(vv(oe,N))return S[N]=1,oe[N];if(he!==Oa&&Wi(he,N))return S[N]=2,he[N];if((x=k.propsOptions[0])&&Wi(x,N))return S[N]=3,O[N];if(Q!==Oa&&Wi(Q,N))return S[N]=4,Q[N];Xv&&(S[N]=0)}}const t=Cp[N];let b,g;if(t)return N==="$attrs"&&tl(k.attrs,"get",""),t(k);if((b=e.__cssModules)&&(b=b[N]))return b;if(Q!==Oa&&Wi(Q,N))return S[N]=4,Q[N];if(g=v.config.globalProperties,Wi(g,N))return g[N]},set({_:k},N,Q){const{data:oe,setupState:he,ctx:O}=k;return vv(he,N)?(he[N]=Q,!0):oe!==Oa&&Wi(oe,N)?(oe[N]=Q,!0):Wi(k.props,N)||N[0]==="$"&&N.slice(1)in k?!1:(O[N]=Q,!0)},has({_:{data:k,setupState:N,accessCache:Q,ctx:oe,appContext:he,propsOptions:O}},S){let e;return!!Q[S]||k!==Oa&&Wi(k,S)||vv(N,S)||(e=O[0])&&Wi(e,S)||Wi(oe,S)||Wi(Cp,S)||Wi(he.config.globalProperties,S)},defineProperty(k,N,Q){return Q.get!=null?k._.accessCache[N]=0:Wi(Q,"value")&&this.set(k,N,Q.value,null),Reflect.defineProperty(k,N,Q)}};function X_(){return K_().slots}function lk(){return K_().attrs}function K_(){const k=Ml();return k.setupContext||(k.setupContext=Sw(k))}function r2(k){return ri(k)?k.reduce((N,Q)=>(N[Q]=null,N),{}):k}function fy(k){const N=Ml();let Q=k();return im(),Km(Q)&&(Q=Q.catch(oe=>{throw Ff(N),oe})),[Q,()=>Ff(N)]}let Xv=!0;function uk(k){const N=hy(k),Q=k.proxy,oe=k.ctx;Xv=!1,N.beforeCreate&&i2(N.beforeCreate,k,"bc");const{data:he,computed:O,methods:S,watch:e,provide:v,inject:x,created:t,beforeMount:b,mounted:g,beforeUpdate:c,updated:s,activated:n,deactivated:i,beforeDestroy:a,beforeUnmount:r,destroyed:o,unmounted:l,render:u,renderTracked:h,renderTriggered:f,errorCaptured:T,serverPrefetch:d,expose:y,inheritAttrs:m,components:w,directives:_,filters:A}=N;if(x&&ck(x,oe,null),S)for(const M in S){const C=S[M];oi(C)&&(oe[M]=C.bind(Q))}if(he){const M=he.call(Q,Q);ka(M)&&(k.data=_u(M))}if(Xv=!0,O)for(const M in O){const C=O[M],R=oi(C)?C.bind(Q,Q):oi(C.get)?C.get.bind(Q,Q):Gl,I=!oi(C)&&oi(C.set)?C.set.bind(Q):Gl,D=cr({get:R,set:I});Object.defineProperty(oe,M,{enumerable:!0,configurable:!0,get:()=>D.value,set:F=>D.value=F})}if(e)for(const M in e)J_(e[M],oe,Q,M);if(v){const M=oi(v)?v.call(Q):v;Reflect.ownKeys(M).forEach(C=>{Ta(C,M[C])})}t&&i2(t,k,"c");function L(M,C){ri(C)?C.forEach(R=>M(R.bind(Q))):C&&M(C.bind(Q))}if(L(W_,b),L(la,g),L(nk,c),L(Y_,s),L(pw,n),L(dw,i),L($_,T),L(ak,h),L(ik,f),L(od,r),L(wo,l),L(rk,d),ri(y))if(y.length){const M=k.exposed||(k.exposed={});y.forEach(C=>{Object.defineProperty(M,C,{get:()=>Q[C],set:R=>Q[C]=R})})}else k.exposed||(k.exposed={});u&&k.render===Gl&&(k.render=u),m!=null&&(k.inheritAttrs=m),w&&(k.components=w),_&&(k.directives=_)}function ck(k,N,Q=Gl){ri(k)&&(k=Kv(k));for(const oe in k){const he=k[oe];let O;ka(he)?"default"in he?O=Oi(he.from||oe,he.default,!0):O=Oi(he.from||oe):O=Oi(he),_o(O)?Object.defineProperty(N,oe,{enumerable:!0,configurable:!0,get:()=>O.value,set:S=>O.value=S}):N[oe]=O}}function i2(k,N,Q){$l(ri(k)?k.map(oe=>oe.bind(N.proxy)):k.bind(N.proxy),N,Q)}function J_(k,N,Q,oe){const he=oe.includes(".")?hw(Q,oe):()=>Q[oe];if(Ra(k)){const O=N[k];oi(O)&&na(he,O)}else if(oi(k))na(he,k.bind(Q));else if(ka(k))if(ri(k))k.forEach(O=>J_(O,N,Q,oe));else{const O=oi(k.handler)?k.handler.bind(Q):N[k.handler];oi(O)&&na(he,O,k)}}function hy(k){const N=k.type,{mixins:Q,extends:oe}=N,{mixins:he,optionsCache:O,config:{optionMergeStrategies:S}}=k.appContext,e=O.get(N);let v;return e?v=e:!he.length&&!Q&&!oe?v=N:(v={},he.length&&he.forEach(x=>H0(v,x,S,!0)),H0(v,N,S)),ka(N)&&O.set(N,v),v}function H0(k,N,Q,oe=!1){const{mixins:he,extends:O}=N;O&&H0(k,O,Q,!0),he&&he.forEach(S=>H0(k,S,Q,!0));for(const S in N)if(!(oe&&S==="expose")){const e=fk[S]||Q&&Q[S];k[S]=e?e(k[S],N[S]):N[S]}return k}const fk={data:a2,props:o2,emits:o2,methods:Mp,computed:Mp,beforeCreate:Cs,created:Cs,beforeMount:Cs,mounted:Cs,beforeUpdate:Cs,updated:Cs,beforeDestroy:Cs,beforeUnmount:Cs,destroyed:Cs,unmounted:Cs,activated:Cs,deactivated:Cs,errorCaptured:Cs,serverPrefetch:Cs,components:Mp,directives:Mp,watch:pk,provide:a2,inject:hk};function a2(k,N){return N?k?function(){return co(oi(k)?k.call(this,this):k,oi(N)?N.call(this,this):N)}:N:k}function hk(k,N){return Mp(Kv(k),Kv(N))}function Kv(k){if(ri(k)){const N={};for(let Q=0;Q<k.length;Q++)N[k[Q]]=k[Q];return N}return k}function Cs(k,N){return k?[...new Set([].concat(k,N))]:N}function Mp(k,N){return k?co(Object.create(null),k,N):N}function o2(k,N){return k?ri(k)&&ri(N)?[...new Set([...k,...N])]:co(Object.create(null),r2(k),r2(N??{})):N}function pk(k,N){if(!k)return N;if(!N)return k;const Q=co(Object.create(null),k);for(const oe in N)Q[oe]=Cs(k[oe],N[oe]);return Q}function Q_(){return{app:null,config:{isNativeTag:Q6,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let dk=0;function gk(k,N){return function(oe,he=null){oi(oe)||(oe=co({},oe)),he!=null&&!ka(he)&&(he=null);const O=Q_(),S=new WeakSet;let e=!1;const v=O.app={_uid:dk++,_component:oe,_props:he,_container:null,_context:O,_instance:null,version:Ew,get config(){return O.config},set config(x){},use(x,...t){return S.has(x)||(x&&oi(x.install)?(S.add(x),x.install(v,...t)):oi(x)&&(S.add(x),x(v,...t))),v},mixin(x){return O.mixins.includes(x)||O.mixins.push(x),v},component(x,t){return t?(O.components[x]=t,v):O.components[x]},directive(x,t){return t?(O.directives[x]=t,v):O.directives[x]},mount(x,t,b){if(!e){const g=Rr(oe,he);return g.appContext=O,b===!0?b="svg":b===!1&&(b=void 0),t&&N?N(g,x):k(g,x,b),e=!0,v._container=x,x.__vue_app__=v,dg(g.component)}},unmount(){e&&(k(null,v._container),delete v._container.__vue_app__)},provide(x,t){return O.provides[x]=t,v},runWithContext(x){const t=Th;Th=v;try{return x()}finally{Th=t}}};return v}}let Th=null;function Ta(k,N){if(xo){let Q=xo.provides;const oe=xo.parent&&xo.parent.provides;oe===Q&&(Q=xo.provides=Object.create(oe)),Q[k]=N}}function Oi(k,N,Q=!1){const oe=xo||bo;if(oe||Th){const he=oe?oe.parent==null?oe.vnode.appContext&&oe.vnode.appContext.provides:oe.parent.provides:Th._context.provides;if(he&&k in he)return he[k];if(arguments.length>1)return Q&&oi(N)?N.call(oe&&oe.proxy):N}}function ew(){return!!(xo||bo||Th)}const tw={},nw=()=>Object.create(tw),rw=k=>Object.getPrototypeOf(k)===tw;function vk(k,N,Q,oe=!1){const he={},O=nw();k.propsDefaults=Object.create(null),iw(k,N,he,O);for(const S in k.propsOptions[0])S in he||(he[S]=void 0);Q?k.props=oe?he:lc(he):k.type.props?k.props=he:k.props=O,k.attrs=O}function mk(k,N,Q,oe){const{props:he,attrs:O,vnode:{patchFlag:S}}=k,e=Xi(he),[v]=k.propsOptions;let x=!1;if((oe||S>0)&&!(S&16)){if(S&8){const t=k.vnode.dynamicProps;for(let b=0;b<t.length;b++){let g=t[b];if(ug(k.emitsOptions,g))continue;const c=N[g];if(v)if(Wi(O,g))c!==O[g]&&(O[g]=c,x=!0);else{const s=Hu(g);he[s]=Jv(v,e,s,c,k,!1)}else c!==O[g]&&(O[g]=c,x=!0)}}}else{iw(k,N,he,O)&&(x=!0);let t;for(const b in e)(!N||!Wi(N,b)&&((t=Vf(b))===b||!Wi(N,t)))&&(v?Q&&(Q[b]!==void 0||Q[t]!==void 0)&&(he[b]=Jv(v,e,b,void 0,k,!0)):delete he[b]);if(O!==e)for(const b in O)(!N||!Wi(N,b))&&(delete O[b],x=!0)}x&&cc(k.attrs,"set","")}function iw(k,N,Q,oe){const[he,O]=k.propsOptions;let S=!1,e;if(N)for(let v in N){if(xh(v))continue;const x=N[v];let t;he&&Wi(he,t=Hu(v))?!O||!O.includes(t)?Q[t]=x:(e||(e={}))[t]=x:ug(k.emitsOptions,v)||(!(v in oe)||x!==oe[v])&&(oe[v]=x,S=!0)}if(O){const v=Xi(Q),x=e||Oa;for(let t=0;t<O.length;t++){const b=O[t];Q[b]=Jv(he,v,b,x[b],k,!Wi(x,b))}}return S}function Jv(k,N,Q,oe,he,O){const S=k[Q];if(S!=null){const e=Wi(S,"default");if(e&&oe===void 0){const v=S.default;if(S.type!==Function&&!S.skipFactory&&oi(v)){const{propsDefaults:x}=he;if(Q in x)oe=x[Q];else{const t=Ff(he);oe=x[Q]=v.call(null,N),t()}}else oe=v}S[0]&&(O&&!e?oe=!1:S[1]&&(oe===""||oe===Vf(Q))&&(oe=!0))}return oe}function aw(k,N,Q=!1){const oe=N.propsCache,he=oe.get(k);if(he)return he;const O=k.props,S={},e=[];let v=!1;if(!oi(k)){const t=b=>{v=!0;const[g,c]=aw(b,N,!0);co(S,g),c&&e.push(...c)};!Q&&N.mixins.length&&N.mixins.forEach(t),k.extends&&t(k.extends),k.mixins&&k.mixins.forEach(t)}if(!O&&!v)return ka(k)&&oe.set(k,mh),mh;if(ri(O))for(let t=0;t<O.length;t++){const b=Hu(O[t]);s2(b)&&(S[b]=Oa)}else if(O)for(const t in O){const b=Hu(t);if(s2(b)){const g=O[t],c=S[b]=ri(g)||oi(g)?{type:g}:co({},g);if(c){const s=c2(Boolean,c.type),n=c2(String,c.type);c[0]=s>-1,c[1]=n<0||s<n,(s>-1||Wi(c,"default"))&&e.push(b)}}}const x=[S,e];return ka(k)&&oe.set(k,x),x}function s2(k){return k[0]!=="$"&&!xh(k)}function l2(k){return k===null?"null":typeof k=="function"?k.name||"":typeof k=="object"&&k.constructor&&k.constructor.name||""}function u2(k,N){return l2(k)===l2(N)}function c2(k,N){return ri(N)?N.findIndex(Q=>u2(Q,k)):oi(N)&&u2(N,k)?0:-1}const ow=k=>k[0]==="_"||k==="$stable",py=k=>ri(k)?k.map(ql):[ql(k)],yk=(k,N,Q)=>{if(N._n)return N;const oe=Yr((...he)=>py(N(...he)),Q);return oe._c=!1,oe},sw=(k,N,Q)=>{const oe=k._ctx;for(const he in k){if(ow(he))continue;const O=k[he];if(oi(O))N[he]=yk(he,O,oe);else if(O!=null){const S=py(O);N[he]=()=>S}}},lw=(k,N)=>{const Q=py(N);k.slots.default=()=>Q},xk=(k,N)=>{const Q=k.slots=nw();if(k.vnode.shapeFlag&32){const oe=N._;oe?(co(Q,N),p_(Q,"_",oe,!0)):sw(N,Q)}else N&&lw(k,N)},bk=(k,N,Q)=>{const{vnode:oe,slots:he}=k;let O=!0,S=Oa;if(oe.shapeFlag&32){const e=N._;e?Q&&e===1?O=!1:(co(he,N),!Q&&e===1&&delete he._):(O=!N.$stable,sw(N,he)),S=N}else N&&(lw(k,N),S={default:1});if(O)for(const e in he)!ow(e)&&S[e]==null&&delete he[e]};function q0(k,N,Q,oe,he=!1){if(ri(k)){k.forEach((g,c)=>q0(g,N&&(ri(N)?N[c]:N),Q,oe,he));return}if(Df(oe)&&!he)return;const O=oe.shapeFlag&4?dg(oe.component):oe.el,S=he?null:O,{i:e,r:v}=k,x=N&&N.r,t=e.refs===Oa?e.refs={}:e.refs,b=e.setupState;if(x!=null&&x!==v&&(Ra(x)?(t[x]=null,Wi(b,x)&&(b[x]=null)):_o(x)&&(x.value=null)),oi(v))Yc(v,e,12,[S,t]);else{const g=Ra(v),c=_o(v);if(g||c){const s=()=>{if(k.f){const n=g?Wi(b,v)?b[v]:t[v]:v.value;he?ri(n)&&Xm(n,O):ri(n)?n.includes(O)||n.push(O):g?(t[v]=[O],Wi(b,v)&&(b[v]=t[v])):(v.value=[O],k.k&&(t[k.k]=v.value))}else g?(t[v]=S,Wi(b,v)&&(b[v]=S)):c&&(v.value=S,k.k&&(t[k.k]=S))};S?(s.id=-1,Ro(s,Q)):s()}}}let f2=!1;const ph=()=>{f2||(console.error("Hydration completed but contains mismatches."),f2=!0)},_k=k=>k.namespaceURI.includes("svg")&&k.tagName!=="foreignObject",wk=k=>k.namespaceURI.includes("MathML"),f0=k=>{if(_k(k))return"svg";if(wk(k))return"mathml"},h0=k=>k.nodeType===8;function Tk(k){const{mt:N,p:Q,o:{patchProp:oe,createText:he,nextSibling:O,parentNode:S,remove:e,insert:v,createComment:x}}=k,t=(o,l)=>{if(!l.hasChildNodes()){Q(null,o,l),U0(),l._vnode=o;return}b(l.firstChild,o,null,null,null),U0(),l._vnode=o},b=(o,l,u,h,f,T=!1)=>{T=T||!!l.dynamicChildren;const d=h0(o)&&o.data==="[",y=()=>n(o,l,u,h,f,d),{type:m,ref:w,shapeFlag:_,patchFlag:A}=l;let p=o.nodeType;l.el=o,A===-2&&(T=!1,l.dynamicChildren=null);let L=null;switch(m){case Sh:p!==3?l.children===""?(v(l.el=he(""),S(o),o),L=o):L=y():(o.data!==l.children&&(ph(),o.data=l.children),L=O(o));break;case Zo:r(o)?(L=O(o),a(l.el=o.content.firstChild,o,u)):p!==8||d?L=y():L=O(o);break;case kh:if(d&&(o=O(o),p=o.nodeType),p===1||p===3){L=o;const M=!l.children.length;for(let C=0;C<l.staticCount;C++)M&&(l.children+=L.nodeType===1?L.outerHTML:L.data),C===l.staticCount-1&&(l.anchor=L),L=O(L);return d?O(L):L}else y();break;case ki:d?L=s(o,l,u,h,f,T):L=y();break;default:if(_&1)(p!==1||l.type.toLowerCase()!==o.tagName.toLowerCase())&&!r(o)?L=y():L=g(o,l,u,h,f,T);else if(_&6){l.slotScopeIds=f;const M=S(o);if(d?L=i(o):h0(o)&&o.data==="teleport start"?L=i(o,o.data,"teleport end"):L=O(o),N(l,M,null,u,h,f0(M),T),Df(l)){let C;d?(C=Rr(ki),C.anchor=L?L.previousSibling:M.lastChild):C=o.nodeType===3?To(""):Rr("div"),C.el=o,l.component.subTree=C}}else _&64?p!==8?L=y():L=l.type.hydrate(o,l,u,h,f,T,k,c):_&128&&(L=l.type.hydrate(o,l,u,h,f0(S(o)),f,T,k,b))}return w!=null&&q0(w,null,h,l),L},g=(o,l,u,h,f,T)=>{T=T||!!l.dynamicChildren;const{type:d,props:y,patchFlag:m,shapeFlag:w,dirs:_,transition:A}=l,p=d==="input"||d==="option";if(p||m!==-1){_&&Bu(l,null,u,"created");let L=!1;if(r(o)){L=cw(h,A)&&u&&u.vnode.props&&u.vnode.props.appear;const C=o.content.firstChild;L&&A.beforeEnter(C),a(C,o,u),l.el=o=C}if(w&16&&!(y&&(y.innerHTML||y.textContent))){let C=c(o.firstChild,l,o,u,h,f,T);for(;C;){ph();const R=C;C=C.nextSibling,e(R)}}else w&8&&o.textContent!==l.children&&(ph(),o.textContent=l.children);if(y)if(p||!T||m&48)for(const C in y)(p&&(C.endsWith("value")||C==="indeterminate")||rd(C)&&!xh(C)||C[0]===".")&&oe(o,C,null,y[C],void 0,void 0,u);else y.onClick&&oe(o,"onClick",null,y.onClick,void 0,void 0,u);let M;(M=y&&y.onVnodeBeforeMount)&&Qs(M,u,l),_&&Bu(l,null,u,"beforeMount"),((M=y&&y.onVnodeMounted)||_||L)&&G_(()=>{M&&Qs(M,u,l),L&&A.enter(o),_&&Bu(l,null,u,"mounted")},h)}return o.nextSibling},c=(o,l,u,h,f,T,d)=>{d=d||!!l.dynamicChildren;const y=l.children,m=y.length;for(let w=0;w<m;w++){const _=d?y[w]:y[w]=ql(y[w]);o?o=b(o,_,h,f,T,d):_.type===Sh&&!_.children?v(_.el=he(""),u):(ph(),Q(null,_,u,null,h,f,f0(u),T))}return o},s=(o,l,u,h,f,T)=>{const{slotScopeIds:d}=l;d&&(f=f?f.concat(d):d);const y=S(o),m=c(O(o),l,y,u,h,f,T);return m&&h0(m)&&m.data==="]"?O(l.anchor=m):(ph(),v(l.anchor=x("]"),y,m),m)},n=(o,l,u,h,f,T)=>{if(ph(),l.el=null,T){const m=i(o);for(;;){const w=O(o);if(w&&w!==m)e(w);else break}}const d=O(o),y=S(o);return e(o),Q(null,l,y,d,u,h,f0(y),f),d},i=(o,l="[",u="]")=>{let h=0;for(;o;)if(o=O(o),o&&h0(o)&&(o.data===l&&h++,o.data===u)){if(h===0)return O(o);h--}return o},a=(o,l,u)=>{const h=l.parentNode;h&&h.replaceChild(o,l);let f=u;for(;f;)f.vnode.el===l&&(f.vnode.el=f.subTree.el=o),f=f.parent},r=o=>o.nodeType===1&&o.tagName.toLowerCase()==="template";return[t,b]}const Ro=G_;function kk(k){return uw(k)}function Ak(k){return uw(k,Tk)}function uw(k,N){const Q=g_();Q.__VUE__=!0;const{insert:oe,remove:he,patchProp:O,createElement:S,createText:e,createComment:v,setText:x,setElementText:t,parentNode:b,nextSibling:g,setScopeId:c=Gl,insertStaticContent:s}=k,n=(K,J,$,ae=null,ue=null,ce=null,de=void 0,pe=null,me=!!J.dynamicChildren)=>{if(K===J)return;K&&!mu(K,J)&&(ae=j(K),F(K,ue,ce,!0),K=null),J.patchFlag===-2&&(me=!1,J.dynamicChildren=null);const{type:be,ref:we,shapeFlag:Te}=J;switch(be){case Sh:i(K,J,$,ae);break;case Zo:a(K,J,$,ae);break;case kh:K==null&&r(J,$,ae,de);break;case ki:w(K,J,$,ae,ue,ce,de,pe,me);break;default:Te&1?u(K,J,$,ae,ue,ce,de,pe,me):Te&6?_(K,J,$,ae,ue,ce,de,pe,me):(Te&64||Te&128)&&be.process(K,J,$,ae,ue,ce,de,pe,me,ie)}we!=null&&ue&&q0(we,K&&K.ref,ce,J||K,!J)},i=(K,J,$,ae)=>{if(K==null)oe(J.el=e(J.children),$,ae);else{const ue=J.el=K.el;J.children!==K.children&&x(ue,J.children)}},a=(K,J,$,ae)=>{K==null?oe(J.el=v(J.children||""),$,ae):J.el=K.el},r=(K,J,$,ae)=>{[K.el,K.anchor]=s(K.children,J,$,ae,K.el,K.anchor)},o=({el:K,anchor:J},$,ae)=>{let ue;for(;K&&K!==J;)ue=g(K),oe(K,$,ae),K=ue;oe(J,$,ae)},l=({el:K,anchor:J})=>{let $;for(;K&&K!==J;)$=g(K),he(K),K=$;he(J)},u=(K,J,$,ae,ue,ce,de,pe,me)=>{J.type==="svg"?de="svg":J.type==="math"&&(de="mathml"),K==null?h(J,$,ae,ue,ce,de,pe,me):d(K,J,ue,ce,de,pe,me)},h=(K,J,$,ae,ue,ce,de,pe)=>{let me,be;const{props:we,shapeFlag:Te,transition:Le,dirs:Ie}=K;if(me=K.el=S(K.type,ce,we&&we.is,we),Te&8?t(me,K.children):Te&16&&T(K.children,me,null,ae,ue,mv(K,ce),de,pe),Ie&&Bu(K,null,ae,"created"),f(me,K,K.scopeId,de,ae),we){for(const fe in we)fe!=="value"&&!xh(fe)&&O(me,fe,null,we[fe],ce,K.children,ae,ue,X);"value"in we&&O(me,"value",null,we.value,ce),(be=we.onVnodeBeforeMount)&&Qs(be,ae,K)}Ie&&Bu(K,null,ae,"beforeMount");const _e=cw(ue,Le);_e&&Le.beforeEnter(me),oe(me,J,$),((be=we&&we.onVnodeMounted)||_e||Ie)&&Ro(()=>{be&&Qs(be,ae,K),_e&&Le.enter(me),Ie&&Bu(K,null,ae,"mounted")},ue)},f=(K,J,$,ae,ue)=>{if($&&c(K,$),ae)for(let ce=0;ce<ae.length;ce++)c(K,ae[ce]);if(ue){let ce=ue.subTree;if(J===ce){const de=ue.vnode;f(K,de,de.scopeId,de.slotScopeIds,ue.parent)}}},T=(K,J,$,ae,ue,ce,de,pe,me=0)=>{for(let be=me;be<K.length;be++){const we=K[be]=pe?jc(K[be]):ql(K[be]);n(null,we,J,$,ae,ue,ce,de,pe)}},d=(K,J,$,ae,ue,ce,de)=>{const pe=J.el=K.el;let{patchFlag:me,dynamicChildren:be,dirs:we}=J;me|=K.patchFlag&16;const Te=K.props||Oa,Le=J.props||Oa;let Ie;if($&&wf($,!1),(Ie=Le.onVnodeBeforeUpdate)&&Qs(Ie,$,J,K),we&&Bu(J,K,$,"beforeUpdate"),$&&wf($,!0),be?y(K.dynamicChildren,be,pe,$,ae,mv(J,ue),ce):de||C(K,J,pe,null,$,ae,mv(J,ue),ce,!1),me>0){if(me&16)m(pe,J,Te,Le,$,ae,ue);else if(me&2&&Te.class!==Le.class&&O(pe,"class",null,Le.class,ue),me&4&&O(pe,"style",Te.style,Le.style,ue),me&8){const _e=J.dynamicProps;for(let fe=0;fe<_e.length;fe++){const le=_e[fe],ye=Te[le],Oe=Le[le];(Oe!==ye||le==="value")&&O(pe,le,ye,Oe,ue,K.children,$,ae,X)}}me&1&&K.children!==J.children&&t(pe,J.children)}else!de&&be==null&&m(pe,J,Te,Le,$,ae,ue);((Ie=Le.onVnodeUpdated)||we)&&Ro(()=>{Ie&&Qs(Ie,$,J,K),we&&Bu(J,K,$,"updated")},ae)},y=(K,J,$,ae,ue,ce,de)=>{for(let pe=0;pe<J.length;pe++){const me=K[pe],be=J[pe],we=me.el&&(me.type===ki||!mu(me,be)||me.shapeFlag&70)?b(me.el):$;n(me,be,we,null,ae,ue,ce,de,!0)}},m=(K,J,$,ae,ue,ce,de)=>{if($!==ae){if($!==Oa)for(const pe in $)!xh(pe)&&!(pe in ae)&&O(K,pe,$[pe],null,de,J.children,ue,ce,X);for(const pe in ae){if(xh(pe))continue;const me=ae[pe],be=$[pe];me!==be&&pe!=="value"&&O(K,pe,be,me,de,J.children,ue,ce,X)}"value"in ae&&O(K,"value",$.value,ae.value,de)}},w=(K,J,$,ae,ue,ce,de,pe,me)=>{const be=J.el=K?K.el:e(""),we=J.anchor=K?K.anchor:e("");let{patchFlag:Te,dynamicChildren:Le,slotScopeIds:Ie}=J;Ie&&(pe=pe?pe.concat(Ie):Ie),K==null?(oe(be,$,ae),oe(we,$,ae),T(J.children||[],$,we,ue,ce,de,pe,me)):Te>0&&Te&64&&Le&&K.dynamicChildren?(y(K.dynamicChildren,Le,$,ue,ce,de,pe),(J.key!=null||ue&&J===ue.subTree)&&dy(K,J,!0)):C(K,J,$,we,ue,ce,de,pe,me)},_=(K,J,$,ae,ue,ce,de,pe,me)=>{J.slotScopeIds=pe,K==null?J.shapeFlag&512?ue.ctx.activate(J,$,ae,de,me):A(J,$,ae,ue,ce,de,me):p(K,J,me)},A=(K,J,$,ae,ue,ce,de)=>{const pe=K.component=Hk(K,ae,ue);if(sd(K)&&(pe.ctx.renderer=ie),qk(pe),pe.asyncDep){if(ue&&ue.registerDep(pe,L,de),!K.el){const me=pe.subTree=Rr(Zo);a(null,me,J,$)}}else L(pe,K,J,$,ue,ce,de)},p=(K,J,$)=>{const ae=J.component=K.component;if(ZT(K,J,$))if(ae.asyncDep&&!ae.asyncResolved){M(ae,J,$);return}else ae.next=J,HT(ae.update),ae.effect.dirty=!0,ae.update();else J.el=K.el,ae.vnode=J},L=(K,J,$,ae,ue,ce,de)=>{const pe=()=>{if(K.isMounted){let{next:we,bu:Te,u:Le,parent:Ie,vnode:_e}=K;{const Ae=fw(K);if(Ae){we&&(we.el=_e.el,M(K,we,de)),Ae.asyncDep.then(()=>{K.isUnmounted||pe()});return}}let fe=we,le;wf(K,!1),we?(we.el=_e.el,M(K,we,de)):we=_e,Te&&Ep(Te),(le=we.props&&we.props.onVnodeBeforeUpdate)&&Qs(le,Ie,we,_e),wf(K,!0);const ye=dv(K),Oe=K.subTree;K.subTree=ye,n(Oe,ye,b(Oe.el),j(Oe),K,ue,ce),we.el=ye.el,fe===null&&ly(K,ye.el),Le&&Ro(Le,ue),(le=we.props&&we.props.onVnodeUpdated)&&Ro(()=>Qs(le,Ie,we,_e),ue)}else{let we;const{el:Te,props:Le}=J,{bm:Ie,m:_e,parent:fe}=K,le=Df(J);if(wf(K,!1),Ie&&Ep(Ie),!le&&(we=Le&&Le.onVnodeBeforeMount)&&Qs(we,fe,J),wf(K,!0),Te&&te){const ye=()=>{K.subTree=dv(K),te(Te,K.subTree,K,ue,null)};le?J.type.__asyncLoader().then(()=>!K.isUnmounted&&ye()):ye()}else{const ye=K.subTree=dv(K);n(null,ye,$,ae,K,ue,ce),J.el=ye.el}if(_e&&Ro(_e,ue),!le&&(we=Le&&Le.onVnodeMounted)){const ye=J;Ro(()=>Qs(we,fe,ye),ue)}(J.shapeFlag&256||fe&&Df(fe.vnode)&&fe.vnode.shapeFlag&256)&&K.a&&Ro(K.a,ue),K.isMounted=!0,J=$=ae=null}},me=K.effect=new Qm(pe,Gl,()=>lg(be),K.scope),be=K.update=()=>{me.dirty&&me.run()};be.id=K.uid,wf(K,!0),be()},M=(K,J,$)=>{J.component=K;const ae=K.vnode.props;K.vnode=J,K.next=null,mk(K,J.props,ae,$),bk(K,J.children,$),tf(),Qx(K),nf()},C=(K,J,$,ae,ue,ce,de,pe,me=!1)=>{const be=K&&K.children,we=K?K.shapeFlag:0,Te=J.children,{patchFlag:Le,shapeFlag:Ie}=J;if(Le>0){if(Le&128){I(be,Te,$,ae,ue,ce,de,pe,me);return}else if(Le&256){R(be,Te,$,ae,ue,ce,de,pe,me);return}}Ie&8?(we&16&&X(be,ue,ce),Te!==be&&t($,Te)):we&16?Ie&16?I(be,Te,$,ae,ue,ce,de,pe,me):X(be,ue,ce,!0):(we&8&&t($,""),Ie&16&&T(Te,$,ae,ue,ce,de,pe,me))},R=(K,J,$,ae,ue,ce,de,pe,me)=>{K=K||mh,J=J||mh;const be=K.length,we=J.length,Te=Math.min(be,we);let Le;for(Le=0;Le<Te;Le++){const Ie=J[Le]=me?jc(J[Le]):ql(J[Le]);n(K[Le],Ie,$,null,ue,ce,de,pe,me)}be>we?X(K,ue,ce,!0,!1,Te):T(J,$,ae,ue,ce,de,pe,me,Te)},I=(K,J,$,ae,ue,ce,de,pe,me)=>{let be=0;const we=J.length;let Te=K.length-1,Le=we-1;for(;be<=Te&&be<=Le;){const Ie=K[be],_e=J[be]=me?jc(J[be]):ql(J[be]);if(mu(Ie,_e))n(Ie,_e,$,null,ue,ce,de,pe,me);else break;be++}for(;be<=Te&&be<=Le;){const Ie=K[Te],_e=J[Le]=me?jc(J[Le]):ql(J[Le]);if(mu(Ie,_e))n(Ie,_e,$,null,ue,ce,de,pe,me);else break;Te--,Le--}if(be>Te){if(be<=Le){const Ie=Le+1,_e=Ie<we?J[Ie].el:ae;for(;be<=Le;)n(null,J[be]=me?jc(J[be]):ql(J[be]),$,_e,ue,ce,de,pe,me),be++}}else if(be>Le)for(;be<=Te;)F(K[be],ue,ce,!0),be++;else{const Ie=be,_e=be,fe=new Map;for(be=_e;be<=Le;be++){const Be=J[be]=me?jc(J[be]):ql(J[be]);Be.key!=null&&fe.set(Be.key,be)}let le,ye=0;const Oe=Le-_e+1;let Ae=!1,Se=0;const Pe=new Array(Oe);for(be=0;be<Oe;be++)Pe[be]=0;for(be=Ie;be<=Te;be++){const Be=K[be];if(ye>=Oe){F(Be,ue,ce,!0);continue}let xe;if(Be.key!=null)xe=fe.get(Be.key);else for(le=_e;le<=Le;le++)if(Pe[le-_e]===0&&mu(Be,J[le])){xe=le;break}xe===void 0?F(Be,ue,ce,!0):(Pe[xe-_e]=be+1,xe>=Se?Se=xe:Ae=!0,n(Be,J[xe],$,null,ue,ce,de,pe,me),ye++)}const Fe=Ae?Mk(Pe):mh;for(le=Fe.length-1,be=Oe-1;be>=0;be--){const Be=_e+be,xe=J[Be],Me=Be+1<we?J[Be+1].el:ae;Pe[be]===0?n(null,xe,$,Me,ue,ce,de,pe,me):Ae&&(le<0||be!==Fe[le]?D(xe,$,Me,2):le--)}}},D=(K,J,$,ae,ue=null)=>{const{el:ce,type:de,transition:pe,children:me,shapeFlag:be}=K;if(be&6){D(K.component.subTree,J,$,ae);return}if(be&128){K.suspense.move(J,$,ae);return}if(be&64){de.move(K,J,$,ie);return}if(de===ki){oe(ce,J,$);for(let Te=0;Te<me.length;Te++)D(me[Te],J,$,ae);oe(K.anchor,J,$);return}if(de===kh){o(K,J,$);return}if(ae!==2&&be&1&&pe)if(ae===0)pe.beforeEnter(ce),oe(ce,J,$),Ro(()=>pe.enter(ce),ue);else{const{leave:Te,delayLeave:Le,afterLeave:Ie}=pe,_e=()=>oe(ce,J,$),fe=()=>{Te(ce,()=>{_e(),Ie&&Ie()})};Le?Le(ce,_e,fe):fe()}else oe(ce,J,$)},F=(K,J,$,ae=!1,ue=!1)=>{const{type:ce,props:de,ref:pe,children:me,dynamicChildren:be,shapeFlag:we,patchFlag:Te,dirs:Le,memoIndex:Ie}=K;if(pe!=null&&q0(pe,null,$,K,!0),Ie!=null&&(J.renderCache[Ie]=void 0),we&256){J.ctx.deactivate(K);return}const _e=we&1&&Le,fe=!Df(K);let le;if(fe&&(le=de&&de.onVnodeBeforeUnmount)&&Qs(le,J,K),we&6)V(K.component,$,ae);else{if(we&128){K.suspense.unmount($,ae);return}_e&&Bu(K,null,J,"beforeUnmount"),we&64?K.type.remove(K,J,$,ue,ie,ae):be&&(ce!==ki||Te>0&&Te&64)?X(be,J,$,!1,!0):(ce===ki&&Te&384||!ue&&we&16)&&X(me,J,$),ae&&q(K)}(fe&&(le=de&&de.onVnodeUnmounted)||_e)&&Ro(()=>{le&&Qs(le,J,K),_e&&Bu(K,null,J,"unmounted")},$)},q=K=>{const{type:J,el:$,anchor:ae,transition:ue}=K;if(J===ki){z($,ae);return}if(J===kh){l(K);return}const ce=()=>{he($),ue&&!ue.persisted&&ue.afterLeave&&ue.afterLeave()};if(K.shapeFlag&1&&ue&&!ue.persisted){const{leave:de,delayLeave:pe}=ue,me=()=>de($,ce);pe?pe(K.el,ce,me):me()}else ce()},z=(K,J)=>{let $;for(;K!==J;)$=g(K),he(K),K=$;he(J)},V=(K,J,$)=>{const{bum:ae,scope:ue,update:ce,subTree:de,um:pe,m:me,a:be}=K;G0(me),G0(be),ae&&Ep(ae),ue.stop(),ce&&(ce.active=!1,F(de,K,J,$)),pe&&Ro(pe,J),Ro(()=>{K.isUnmounted=!0},J),J&&J.pendingBranch&&!J.isUnmounted&&K.asyncDep&&!K.asyncResolved&&K.suspenseId===J.pendingId&&(J.deps--,J.deps===0&&J.resolve())},X=(K,J,$,ae=!1,ue=!1,ce=0)=>{for(let de=ce;de<K.length;de++)F(K[de],J,$,ae,ue)},j=K=>K.shapeFlag&6?j(K.component.subTree):K.shapeFlag&128?K.suspense.next():g(K.anchor||K.el);let H=!1;const G=(K,J,$)=>{K==null?J._vnode&&F(J._vnode,null,null,!0):n(J._vnode||null,K,J,null,null,null,$),H||(H=!0,Qx(),U0(),H=!1),J._vnode=K},ie={p:n,um:F,m:D,r:q,mt:A,mc:T,pc:C,pbc:y,n:j,o:k};let re,te;return N&&([re,te]=N(ie)),{render:G,hydrate:re,createApp:gk(G,re)}}function mv({type:k,props:N},Q){return Q==="svg"&&k==="foreignObject"||Q==="mathml"&&k==="annotation-xml"&&N&&N.encoding&&N.encoding.includes("html")?void 0:Q}function wf({effect:k,update:N},Q){k.allowRecurse=N.allowRecurse=Q}function cw(k,N){return(!k||k&&!k.pendingBranch)&&N&&!N.persisted}function dy(k,N,Q=!1){const oe=k.children,he=N.children;if(ri(oe)&&ri(he))for(let O=0;O<oe.length;O++){const S=oe[O];let e=he[O];e.shapeFlag&1&&!e.dynamicChildren&&((e.patchFlag<=0||e.patchFlag===32)&&(e=he[O]=jc(he[O]),e.el=S.el),!Q&&e.patchFlag!==-2&&dy(S,e)),e.type===Sh&&(e.el=S.el)}}function Mk(k){const N=k.slice(),Q=[0];let oe,he,O,S,e;const v=k.length;for(oe=0;oe<v;oe++){const x=k[oe];if(x!==0){if(he=Q[Q.length-1],k[he]<x){N[oe]=he,Q.push(oe);continue}for(O=0,S=Q.length-1;O<S;)e=O+S>>1,k[Q[e]]<x?O=e+1:S=e;x<k[Q[O]]&&(O>0&&(N[oe]=Q[O-1]),Q[O]=oe)}}for(O=Q.length,S=Q[O-1];O-- >0;)Q[O]=S,S=N[S];return Q}function fw(k){const N=k.subTree.component;if(N)return N.asyncDep&&!N.asyncResolved?N:fw(N)}function G0(k){if(k)for(let N=0;N<k.length;N++)k[N].active=!1}const Sk=Symbol.for("v-scx"),Ek=()=>Oi(Sk);function fo(k,N){return pg(k,null,N)}function Lk(k,N){return pg(k,null,{flush:"post"})}const p0={};function na(k,N,Q){return pg(k,N,Q)}function pg(k,N,{immediate:Q,deep:oe,flush:he,once:O,onTrack:S,onTrigger:e}=Oa){if(N&&O){const h=N;N=(...f)=>{h(...f),u()}}const v=xo,x=h=>oe===!0?h:Vc(h,oe===!1?1:void 0);let t,b=!1,g=!1;if(_o(k)?(t=()=>k.value,b=j0(k)):Lp(k)?(t=()=>x(k),b=!0):ri(k)?(g=!0,b=k.some(h=>Lp(h)||j0(h)),t=()=>k.map(h=>{if(_o(h))return h.value;if(Lp(h))return x(h);if(oi(h))return Yc(h,v,2)})):oi(k)?N?t=()=>Yc(k,v,2):t=()=>(c&&c(),$l(k,v,3,[s])):t=Gl,N&&oe){const h=t;t=()=>Vc(h())}let c,s=h=>{c=o.onStop=()=>{Yc(h,v,4),c=o.onStop=void 0}},n;if(ld)if(s=Gl,N?Q&&$l(N,v,3,[t(),g?[]:void 0,s]):t(),he==="sync"){const h=Ek();n=h.__watcherHandles||(h.__watcherHandles=[])}else return Gl;let i=g?new Array(k.length).fill(p0):p0;const a=()=>{if(!(!o.active||!o.dirty))if(N){const h=o.run();(oe||b||(g?h.some((f,T)=>Xc(f,i[T])):Xc(h,i)))&&(c&&c(),$l(N,v,3,[h,i===p0?void 0:g&&i[0]===p0?[]:i,s]),i=h)}else o.run()};a.allowRecurse=!!N;let r;he==="sync"?r=a:he==="post"?r=()=>Ro(a,v&&v.suspense):(a.pre=!0,v&&(a.id=v.uid),r=()=>lg(a));const o=new Qm(t,Gl,r),l=Hf(),u=()=>{o.stop(),l&&Xm(l.effects,o)};return N?Q?a():i=o.run():he==="post"?Ro(o.run.bind(o),v&&v.suspense):o.run(),n&&n.push(u),u}function Ck(k,N,Q){const oe=this.proxy,he=Ra(k)?k.includes(".")?hw(oe,k):()=>oe[k]:k.bind(oe,oe);let O;oi(N)?O=N:(O=N.handler,Q=N);const S=Ff(this),e=pg(he,O.bind(oe),Q);return S(),e}function hw(k,N){const Q=N.split(".");return()=>{let oe=k;for(let he=0;he<Q.length&&oe;he++)oe=oe[Q[he]];return oe}}function Vc(k,N=1/0,Q){if(N<=0||!ka(k)||k.__v_skip||(Q=Q||new Set,Q.has(k)))return k;if(Q.add(k),N--,_o(k))Vc(k.value,N,Q);else if(ri(k))for(let oe=0;oe<k.length;oe++)Vc(k[oe],N,Q);else if(c_(k)||yh(k))k.forEach(oe=>{Vc(oe,N,Q)});else if(h_(k)){for(const oe in k)Vc(k[oe],N,Q);for(const oe of Object.getOwnPropertySymbols(k))Object.prototype.propertyIsEnumerable.call(k,oe)&&Vc(k[oe],N,Q)}return k}const sd=k=>k.type.__isKeepAlive,Pk={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(k,{slots:N}){const Q=Ml(),oe=Q.ctx;if(!oe.renderer)return()=>{const r=N.default&&N.default();return r&&r.length===1?r[0]:r};const he=new Map,O=new Set;let S=null;const e=Q.suspense,{renderer:{p:v,m:x,um:t,o:{createElement:b}}}=oe,g=b("div");oe.activate=(r,o,l,u,h)=>{const f=r.component;x(r,o,l,0,e),v(f.vnode,r,o,l,f,e,u,r.slotScopeIds,h),Ro(()=>{f.isDeactivated=!1,f.a&&Ep(f.a);const T=r.props&&r.props.onVnodeMounted;T&&Qs(T,f.parent,r)},e)},oe.deactivate=r=>{const o=r.component;G0(o.m),G0(o.a),x(r,g,null,1,e),Ro(()=>{o.da&&Ep(o.da);const l=r.props&&r.props.onVnodeUnmounted;l&&Qs(l,o.parent,r),o.isDeactivated=!0},e)};function c(r){yv(r),t(r,Q,e,!0)}function s(r){he.forEach((o,l)=>{const u=om(o.type);u&&(!r||!r(u))&&n(l)})}function n(r){const o=he.get(r);!S||!mu(o,S)?c(o):S&&yv(S),he.delete(r),O.delete(r)}na(()=>[k.include,k.exclude],([r,o])=>{r&&s(l=>Sp(r,l)),o&&s(l=>!Sp(o,l))},{flush:"post",deep:!0});let i=null;const a=()=>{i!=null&&(Yv(Q.subTree.type)?Ro(()=>{he.set(i,d0(Q.subTree))},Q.subTree.suspense):he.set(i,d0(Q.subTree)))};return la(a),Y_(a),od(()=>{he.forEach(r=>{const{subTree:o,suspense:l}=Q,u=d0(o);if(r.type===u.type&&r.key===u.key){yv(u);const h=u.component.da;h&&Ro(h,l);return}c(r)})}),()=>{if(i=null,!N.default)return null;const r=N.default(),o=r[0];if(r.length>1)return S=null,r;if(!Lh(o)||!(o.shapeFlag&4)&&!(o.shapeFlag&128))return S=null,o;let l=d0(o);const u=l.type,h=om(Df(l)?l.type.__asyncResolved||{}:u),{include:f,exclude:T,max:d}=k;if(f&&(!h||!Sp(f,h))||T&&h&&Sp(T,h))return S=l,o;const y=l.key==null?u:l.key,m=he.get(y);return l.el&&(l=Xl(l),o.shapeFlag&128&&(o.ssContent=l)),i=y,m?(l.el=m.el,l.component=m.component,l.transition&&qp(l,l.transition),l.shapeFlag|=512,O.delete(y),O.add(y)):(O.add(y),d&&O.size>parseInt(d,10)&&n(O.values().next().value)),l.shapeFlag|=256,S=l,Yv(o.type)?o:l}}},Ok=Pk;function Sp(k,N){return ri(k)?k.some(Q=>Sp(Q,N)):Ra(k)?k.split(",").includes(N):tT(k)?k.test(N):!1}function pw(k,N){gw(k,"a",N)}function dw(k,N){gw(k,"da",N)}function gw(k,N,Q=xo){const oe=k.__wdc||(k.__wdc=()=>{let he=Q;for(;he;){if(he.isDeactivated)return;he=he.parent}return k()});if(fg(N,oe,Q),Q){let he=Q.parent;for(;he&&he.parent;)sd(he.parent.vnode)&&Ik(oe,N,Q,he),he=he.parent}}function Ik(k,N,Q,oe){const he=fg(N,k,oe,!0);wo(()=>{Xm(oe[N],he)},Q)}function yv(k){k.shapeFlag&=-257,k.shapeFlag&=-513}function d0(k){return k.shapeFlag&128?k.ssContent:k}const Nc=Symbol("_leaveCb"),g0=Symbol("_enterCb");function Rk(){const k={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return la(()=>{k.isMounted=!0}),od(()=>{k.isUnmounting=!0}),k}const Hl=[Function,Array],vw={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Hl,onEnter:Hl,onAfterEnter:Hl,onEnterCancelled:Hl,onBeforeLeave:Hl,onLeave:Hl,onAfterLeave:Hl,onLeaveCancelled:Hl,onBeforeAppear:Hl,onAppear:Hl,onAfterAppear:Hl,onAppearCancelled:Hl},mw=k=>{const N=k.subTree;return N.component?mw(N.component):N},Dk={name:"BaseTransition",props:vw,setup(k,{slots:N}){const Q=Ml(),oe=Rk();return()=>{const he=N.default&&xw(N.default(),!0);if(!he||!he.length)return;let O=he[0];if(he.length>1){for(const g of he)if(g.type!==Zo){O=g;break}}const S=Xi(k),{mode:e}=S;if(oe.isLeaving)return xv(O);const v=h2(O);if(!v)return xv(O);let x=Qv(v,S,oe,Q,g=>x=g);qp(v,x);const t=Q.subTree,b=t&&h2(t);if(b&&b.type!==Zo&&!mu(v,b)&&mw(Q).type!==Zo){const g=Qv(b,S,oe,Q);if(qp(b,g),e==="out-in"&&v.type!==Zo)return oe.isLeaving=!0,g.afterLeave=()=>{oe.isLeaving=!1,Q.update.active!==!1&&(Q.effect.dirty=!0,Q.update())},xv(O);e==="in-out"&&v.type!==Zo&&(g.delayLeave=(c,s,n)=>{const i=yw(oe,b);i[String(b.key)]=b,c[Nc]=()=>{s(),c[Nc]=void 0,delete x.delayedLeave},x.delayedLeave=n})}return O}}},zk=Dk;function yw(k,N){const{leavingVNodes:Q}=k;let oe=Q.get(N.type);return oe||(oe=Object.create(null),Q.set(N.type,oe)),oe}function Qv(k,N,Q,oe,he){const{appear:O,mode:S,persisted:e=!1,onBeforeEnter:v,onEnter:x,onAfterEnter:t,onEnterCancelled:b,onBeforeLeave:g,onLeave:c,onAfterLeave:s,onLeaveCancelled:n,onBeforeAppear:i,onAppear:a,onAfterAppear:r,onAppearCancelled:o}=N,l=String(k.key),u=yw(Q,k),h=(d,y)=>{d&&$l(d,oe,9,y)},f=(d,y)=>{const m=y[1];h(d,y),ri(d)?d.every(w=>w.length<=1)&&m():d.length<=1&&m()},T={mode:S,persisted:e,beforeEnter(d){let y=v;if(!Q.isMounted)if(O)y=i||v;else return;d[Nc]&&d[Nc](!0);const m=u[l];m&&mu(k,m)&&m.el[Nc]&&m.el[Nc](),h(y,[d])},enter(d){let y=x,m=t,w=b;if(!Q.isMounted)if(O)y=a||x,m=r||t,w=o||b;else return;let _=!1;const A=d[g0]=p=>{_||(_=!0,p?h(w,[d]):h(m,[d]),T.delayedLeave&&T.delayedLeave(),d[g0]=void 0)};y?f(y,[d,A]):A()},leave(d,y){const m=String(k.key);if(d[g0]&&d[g0](!0),Q.isUnmounting)return y();h(g,[d]);let w=!1;const _=d[Nc]=A=>{w||(w=!0,y(),A?h(n,[d]):h(s,[d]),d[Nc]=void 0,u[m]===k&&delete u[m])};u[m]=k,c?f(c,[d,_]):_()},clone(d){const y=Qv(d,N,Q,oe,he);return he&&he(y),y}};return T}function xv(k){if(sd(k))return k=Xl(k),k.children=null,k}function h2(k){if(!sd(k))return k;const{shapeFlag:N,children:Q}=k;if(Q){if(N&16)return Q[0];if(N&32&&oi(Q.default))return Q.default()}}function qp(k,N){k.shapeFlag&6&&k.component?qp(k.component.subTree,N):k.shapeFlag&128?(k.ssContent.transition=N.clone(k.ssContent),k.ssFallback.transition=N.clone(k.ssFallback)):k.transition=N}function xw(k,N=!1,Q){let oe=[],he=0;for(let O=0;O<k.length;O++){let S=k[O];const e=Q==null?S.key:String(Q)+String(S.key!=null?S.key:O);S.type===ki?(S.patchFlag&128&&he++,oe=oe.concat(xw(S.children,N,e))):(N||S.type!==Zo)&&oe.push(e!=null?Xl(S,{key:e}):S)}if(he>1)for(let O=0;O<oe.length;O++)oe[O].patchFlag=-2;return oe}const Fk=k=>k.__isTeleport,Pp=k=>k&&(k.disabled||k.disabled===""),p2=k=>typeof SVGElement<"u"&&k instanceof SVGElement,d2=k=>typeof MathMLElement=="function"&&k instanceof MathMLElement,em=(k,N)=>{const Q=k&&k.to;return Ra(Q)?N?N(Q):null:Q},Bk={name:"Teleport",__isTeleport:!0,process(k,N,Q,oe,he,O,S,e,v,x){const{mc:t,pc:b,pbc:g,o:{insert:c,querySelector:s,createText:n,createComment:i}}=x,a=Pp(N.props);let{shapeFlag:r,children:o,dynamicChildren:l}=N;if(k==null){const u=N.el=n(""),h=N.anchor=n("");c(u,Q,oe),c(h,Q,oe);const f=N.target=em(N.props,s),T=N.targetAnchor=n("");f&&(c(T,f),S==="svg"||p2(f)?S="svg":(S==="mathml"||d2(f))&&(S="mathml"));const d=(y,m)=>{r&16&&t(o,y,m,he,O,S,e,v)};a?d(Q,h):f&&d(f,T)}else{N.el=k.el;const u=N.anchor=k.anchor,h=N.target=k.target,f=N.targetAnchor=k.targetAnchor,T=Pp(k.props),d=T?Q:h,y=T?u:f;if(S==="svg"||p2(h)?S="svg":(S==="mathml"||d2(h))&&(S="mathml"),l?(g(k.dynamicChildren,l,d,he,O,S,e),dy(k,N,!0)):v||b(k,N,d,y,he,O,S,e,!1),a)T?N.props&&k.props&&N.props.to!==k.props.to&&(N.props.to=k.props.to):v0(N,Q,u,x,1);else if((N.props&&N.props.to)!==(k.props&&k.props.to)){const m=N.target=em(N.props,s);m&&v0(N,m,null,x,0)}else T&&v0(N,h,f,x,1)}_w(N)},remove(k,N,Q,oe,{um:he,o:{remove:O}},S){const{shapeFlag:e,children:v,anchor:x,targetAnchor:t,target:b,props:g}=k;if(b&&O(t),S&&O(x),e&16){const c=S||!Pp(g);for(let s=0;s<v.length;s++){const n=v[s];he(n,N,Q,c,!!n.dynamicChildren)}}},move:v0,hydrate:Nk};function v0(k,N,Q,{o:{insert:oe},m:he},O=2){O===0&&oe(k.targetAnchor,N,Q);const{el:S,anchor:e,shapeFlag:v,children:x,props:t}=k,b=O===2;if(b&&oe(S,N,Q),(!b||Pp(t))&&v&16)for(let g=0;g<x.length;g++)he(x[g],N,Q,2);b&&oe(e,N,Q)}function Nk(k,N,Q,oe,he,O,{o:{nextSibling:S,parentNode:e,querySelector:v}},x){const t=N.target=em(N.props,v);if(t){const b=t._lpa||t.firstChild;if(N.shapeFlag&16)if(Pp(N.props))N.anchor=x(S(k),N,e(k),Q,oe,he,O),N.targetAnchor=b;else{N.anchor=S(k);let g=b;for(;g;)if(g=S(g),g&&g.nodeType===8&&g.data==="teleport anchor"){N.targetAnchor=g,t._lpa=N.targetAnchor&&S(N.targetAnchor);break}x(b,N,t,Q,oe,he,O)}_w(N)}return N.anchor&&S(N.anchor)}const bw=Bk;function _w(k){const N=k.ctx;if(N&&N.ut){let Q=k.children[0].el;for(;Q&&Q!==k.targetAnchor;)Q.nodeType===1&&Q.setAttribute("data-v-owner",N.uid),Q=Q.nextSibling;N.ut()}}const ki=Symbol.for("v-fgt"),Sh=Symbol.for("v-txt"),Zo=Symbol.for("v-cmt"),kh=Symbol.for("v-stc"),Op=[];let Wl=null;function pr(k=!1){Op.push(Wl=k?null:[])}function ww(){Op.pop(),Wl=Op[Op.length-1]||null}let Eh=1;function g2(k){Eh+=k}function Tw(k){return k.dynamicChildren=Eh>0?Wl||mh:null,ww(),Eh>0&&Wl&&Wl.push(k),k}function Wr(k,N,Q,oe,he,O){return Tw(jr(k,N,Q,oe,he,O,!0))}function ti(k,N,Q,oe,he){return Tw(Rr(k,N,Q,oe,he,!0))}function Lh(k){return k?k.__v_isVNode===!0:!1}function mu(k,N){return k.type===N.type&&k.key===N.key}const kw=({key:k})=>k??null,S0=({ref:k,ref_key:N,ref_for:Q})=>(typeof k=="number"&&(k=""+k),k!=null?Ra(k)||_o(k)||oi(k)?{i:bo,r:k,k:N,f:!!Q}:k:null);function jr(k,N=null,Q=null,oe=0,he=null,O=k===ki?0:1,S=!1,e=!1){const v={__v_isVNode:!0,__v_skip:!0,type:k,props:N,key:N&&kw(N),ref:N&&S0(N),scopeId:cg,slotScopeIds:null,children:Q,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:O,patchFlag:oe,dynamicProps:he,dynamicChildren:null,appContext:null,ctx:bo};return e?(gy(v,Q),O&128&&k.normalize(v)):Q&&(v.shapeFlag|=Ra(Q)?8:16),Eh>0&&!S&&Wl&&(v.patchFlag>0||O&6)&&v.patchFlag!==32&&Wl.push(v),v}const Rr=jk;function jk(k,N=null,Q=null,oe=0,he=null,O=!1){if((!k||k===H_)&&(k=Zo),Lh(k)){const e=Xl(k,N,!0);return Q&&gy(e,Q),Eh>0&&!O&&Wl&&(e.shapeFlag&6?Wl[Wl.indexOf(k)]=e:Wl.push(e)),e.patchFlag=-2,e}if(Yk(k)&&(k=k.__vccOpts),N){N=tm(N);let{class:e,style:v}=N;e&&!Ra(e)&&(N.class=Cr(e)),ka(v)&&(P_(v)&&!ri(v)&&(v=co({},v)),N.style=Kc(v))}const S=Ra(k)?1:Yv(k)?128:Fk(k)?64:ka(k)?4:oi(k)?2:0;return jr(k,N,Q,oe,he,S,O,!0)}function tm(k){return k?P_(k)||rw(k)?co({},k):k:null}function Xl(k,N,Q=!1,oe=!1){const{props:he,ref:O,patchFlag:S,children:e,transition:v}=k,x=N?ii(he||{},N):he,t={__v_isVNode:!0,__v_skip:!0,type:k.type,props:x,key:x&&kw(x),ref:N&&N.ref?Q&&O?ri(O)?O.concat(S0(N)):[O,S0(N)]:S0(N):O,scopeId:k.scopeId,slotScopeIds:k.slotScopeIds,children:e,target:k.target,targetAnchor:k.targetAnchor,staticCount:k.staticCount,shapeFlag:k.shapeFlag,patchFlag:N&&k.type!==ki?S===-1?16:S|16:S,dynamicProps:k.dynamicProps,dynamicChildren:k.dynamicChildren,appContext:k.appContext,dirs:k.dirs,transition:v,component:k.component,suspense:k.suspense,ssContent:k.ssContent&&Xl(k.ssContent),ssFallback:k.ssFallback&&Xl(k.ssFallback),el:k.el,anchor:k.anchor,ctx:k.ctx,ce:k.ce};return v&&oe&&qp(t,v.clone(t)),t}function To(k=" ",N=0){return Rr(Sh,null,k,N)}function nm(k,N){const Q=Rr(kh,null,k);return Q.staticCount=N,Q}function li(k="",N=!1){return N?(pr(),ti(Zo,null,k)):Rr(Zo,null,k)}function ql(k){return k==null||typeof k=="boolean"?Rr(Zo):ri(k)?Rr(ki,null,k.slice()):typeof k=="object"?jc(k):Rr(Sh,null,String(k))}function jc(k){return k.el===null&&k.patchFlag!==-1||k.memo?k:Xl(k)}function gy(k,N){let Q=0;const{shapeFlag:oe}=k;if(N==null)N=null;else if(ri(N))Q=16;else if(typeof N=="object")if(oe&65){const he=N.default;he&&(he._c&&(he._d=!1),gy(k,he()),he._c&&(he._d=!0));return}else{Q=32;const he=N._;!he&&!rw(N)?N._ctx=bo:he===3&&bo&&(bo.slots._===1?N._=1:(N._=2,k.patchFlag|=1024))}else oi(N)?(N={default:N,_ctx:bo},Q=32):(N=String(N),oe&64?(Q=16,N=[To(N)]):Q=8);k.children=N,k.shapeFlag|=Q}function ii(...k){const N={};for(let Q=0;Q<k.length;Q++){const oe=k[Q];for(const he in oe)if(he==="class")N.class!==oe.class&&(N.class=Cr([N.class,oe.class]));else if(he==="style")N.style=Kc([N.style,oe.style]);else if(rd(he)){const O=N[he],S=oe[he];S&&O!==S&&!(ri(O)&&O.includes(S))&&(N[he]=O?[].concat(O,S):S)}else he!==""&&(N[he]=oe[he])}return N}function Qs(k,N,Q,oe=null){$l(k,N,7,[Q,oe])}const Uk=Q_();let Vk=0;function Hk(k,N,Q){const oe=k.type,he=(N?N.appContext:k.appContext)||Uk,O={uid:Vk++,vnode:k,type:oe,parent:N,appContext:he,root:null,next:null,subTree:null,effect:null,update:null,scope:new y_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:N?N.provides:Object.create(he.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:aw(oe,he),emitsOptions:N_(oe,he),emit:null,emitted:null,propsDefaults:Oa,inheritAttrs:oe.inheritAttrs,ctx:Oa,data:Oa,props:Oa,attrs:Oa,slots:Oa,refs:Oa,setupState:Oa,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:Q,suspenseId:Q?Q.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return O.ctx={_:O},O.root=N?N.root:O,O.emit=GT.bind(null,O),k.ce&&k.ce(O),O}let xo=null;const Ml=()=>xo||bo;let W0,rm;{const k=g_(),N=(Q,oe)=>{let he;return(he=k[Q])||(he=k[Q]=[]),he.push(oe),O=>{he.length>1?he.forEach(S=>S(O)):he[0](O)}};W0=N("__VUE_INSTANCE_SETTERS__",Q=>xo=Q),rm=N("__VUE_SSR_SETTERS__",Q=>ld=Q)}const Ff=k=>{const N=xo;return W0(k),k.scope.on(),()=>{k.scope.off(),W0(N)}},im=()=>{xo&&xo.scope.off(),W0(null)};function Aw(k){return k.vnode.shapeFlag&4}let ld=!1;function qk(k,N=!1){N&&rm(N);const{props:Q,children:oe}=k.vnode,he=Aw(k);vk(k,Q,he,N),xk(k,oe);const O=he?Gk(k,N):void 0;return N&&rm(!1),O}function Gk(k,N){const Q=k.type;k.accessCache=Object.create(null),k.proxy=new Proxy(k.ctx,sk);const{setup:oe}=Q;if(oe){const he=k.setupContext=oe.length>1?Sw(k):null,O=Ff(k);tf();const S=Yc(oe,k,0,[k.props,he]);if(nf(),O(),Km(S)){if(S.then(im,im),N)return S.then(e=>{am(k,e,N)}).catch(e=>{Bh(e,k,0)});k.asyncDep=S}else am(k,S,N)}else Mw(k,N)}function am(k,N,Q){oi(N)?k.type.__ssrInlineRender?k.ssrRender=N:k.render=N:ka(N)&&(k.setupState=R_(N)),Mw(k,Q)}let v2;function Mw(k,N,Q){const oe=k.type;if(!k.render){if(!N&&v2&&!oe.render){const he=oe.template||hy(k).template;if(he){const{isCustomElement:O,compilerOptions:S}=k.appContext.config,{delimiters:e,compilerOptions:v}=oe,x=co(co({isCustomElement:O,delimiters:e},S),v);oe.render=v2(he,x)}}k.render=oe.render||Gl}{const he=Ff(k);tf();try{uk(k)}finally{nf(),he()}}}const Wk={get(k,N){return tl(k,"get",""),k[N]}};function Sw(k){const N=Q=>{k.exposed=Q||{}};return{attrs:new Proxy(k.attrs,Wk),slots:k.slots,emit:k.emit,expose:N}}function dg(k){return k.exposed?k.exposeProxy||(k.exposeProxy=new Proxy(R_(IT(k.exposed)),{get(N,Q){if(Q in N)return N[Q];if(Q in Cp)return Cp[Q](k)},has(N,Q){return Q in N||Q in Cp}})):k.proxy}function om(k,N=!0){return oi(k)?k.displayName||k.name:k.name||N&&k.__name}function Yk(k){return oi(k)&&"__vccOpts"in k}const cr=(k,N)=>RT(k,N,ld);function hi(k,N,Q){const oe=arguments.length;return oe===2?ka(N)&&!ri(N)?Lh(N)?Rr(k,null,[N]):Rr(k,N):Rr(k,null,N):(oe>3?Q=Array.prototype.slice.call(arguments,2):oe===3&&Lh(Q)&&(Q=[Q]),Rr(k,N,Q))}const Ew="3.4.29";/**
* @vue/runtime-dom v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const $k="http://www.w3.org/2000/svg",Zk="http://www.w3.org/1998/Math/MathML",sc=typeof document<"u"?document:null,m2=sc&&sc.createElement("template"),Xk={insert:(k,N,Q)=>{N.insertBefore(k,Q||null)},remove:k=>{const N=k.parentNode;N&&N.removeChild(k)},createElement:(k,N,Q,oe)=>{const he=N==="svg"?sc.createElementNS($k,k):N==="mathml"?sc.createElementNS(Zk,k):Q?sc.createElement(k,{is:Q}):sc.createElement(k);return k==="select"&&oe&&oe.multiple!=null&&he.setAttribute("multiple",oe.multiple),he},createText:k=>sc.createTextNode(k),createComment:k=>sc.createComment(k),setText:(k,N)=>{k.nodeValue=N},setElementText:(k,N)=>{k.textContent=N},parentNode:k=>k.parentNode,nextSibling:k=>k.nextSibling,querySelector:k=>sc.querySelector(k),setScopeId(k,N){k.setAttribute(N,"")},insertStaticContent(k,N,Q,oe,he,O){const S=Q?Q.previousSibling:N.lastChild;if(he&&(he===O||he.nextSibling))for(;N.insertBefore(he.cloneNode(!0),Q),!(he===O||!(he=he.nextSibling)););else{m2.innerHTML=oe==="svg"?`<svg>${k}</svg>`:oe==="mathml"?`<math>${k}</math>`:k;const e=m2.content;if(oe==="svg"||oe==="mathml"){const v=e.firstChild;for(;v.firstChild;)e.appendChild(v.firstChild);e.removeChild(v)}N.insertBefore(e,Q)}return[S?S.nextSibling:N.firstChild,Q?Q.previousSibling:N.lastChild]}},Oc="transition",gp="animation",Gp=Symbol("_vtc"),Jc=(k,{slots:N})=>hi(zk,Kk(k),N);Jc.displayName="Transition";const Lw={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Jc.props=co({},vw,Lw);const Tf=(k,N=[])=>{ri(k)?k.forEach(Q=>Q(...N)):k&&k(...N)},y2=k=>k?ri(k)?k.some(N=>N.length>1):k.length>1:!1;function Kk(k){const N={};for(const w in k)w in Lw||(N[w]=k[w]);if(k.css===!1)return N;const{name:Q="v",type:oe,duration:he,enterFromClass:O=`${Q}-enter-from`,enterActiveClass:S=`${Q}-enter-active`,enterToClass:e=`${Q}-enter-to`,appearFromClass:v=O,appearActiveClass:x=S,appearToClass:t=e,leaveFromClass:b=`${Q}-leave-from`,leaveActiveClass:g=`${Q}-leave-active`,leaveToClass:c=`${Q}-leave-to`}=k,s=Jk(he),n=s&&s[0],i=s&&s[1],{onBeforeEnter:a,onEnter:r,onEnterCancelled:o,onLeave:l,onLeaveCancelled:u,onBeforeAppear:h=a,onAppear:f=r,onAppearCancelled:T=o}=N,d=(w,_,A)=>{kf(w,_?t:e),kf(w,_?x:S),A&&A()},y=(w,_)=>{w._isLeaving=!1,kf(w,b),kf(w,c),kf(w,g),_&&_()},m=w=>(_,A)=>{const p=w?f:r,L=()=>d(_,w,A);Tf(p,[_,L]),x2(()=>{kf(_,w?v:O),Ic(_,w?t:e),y2(p)||b2(_,oe,n,L)})};return co(N,{onBeforeEnter(w){Tf(a,[w]),Ic(w,O),Ic(w,S)},onBeforeAppear(w){Tf(h,[w]),Ic(w,v),Ic(w,x)},onEnter:m(!1),onAppear:m(!0),onLeave(w,_){w._isLeaving=!0;const A=()=>y(w,_);Ic(w,b),Ic(w,g),t8(),x2(()=>{w._isLeaving&&(kf(w,b),Ic(w,c),y2(l)||b2(w,oe,i,A))}),Tf(l,[w,A])},onEnterCancelled(w){d(w,!1),Tf(o,[w])},onAppearCancelled(w){d(w,!0),Tf(T,[w])},onLeaveCancelled(w){y(w),Tf(u,[w])}})}function Jk(k){if(k==null)return null;if(ka(k))return[bv(k.enter),bv(k.leave)];{const N=bv(k);return[N,N]}}function bv(k){return d_(k)}function Ic(k,N){N.split(/\s+/).forEach(Q=>Q&&k.classList.add(Q)),(k[Gp]||(k[Gp]=new Set)).add(N)}function kf(k,N){N.split(/\s+/).forEach(oe=>oe&&k.classList.remove(oe));const Q=k[Gp];Q&&(Q.delete(N),Q.size||(k[Gp]=void 0))}function x2(k){requestAnimationFrame(()=>{requestAnimationFrame(k)})}let Qk=0;function b2(k,N,Q,oe){const he=k._endId=++Qk,O=()=>{he===k._endId&&oe()};if(Q)return setTimeout(O,Q);const{type:S,timeout:e,propCount:v}=e8(k,N);if(!S)return oe();const x=S+"end";let t=0;const b=()=>{k.removeEventListener(x,g),O()},g=c=>{c.target===k&&++t>=v&&b()};setTimeout(()=>{t<v&&b()},e+1),k.addEventListener(x,g)}function e8(k,N){const Q=window.getComputedStyle(k),oe=s=>(Q[s]||"").split(", "),he=oe(`${Oc}Delay`),O=oe(`${Oc}Duration`),S=_2(he,O),e=oe(`${gp}Delay`),v=oe(`${gp}Duration`),x=_2(e,v);let t=null,b=0,g=0;N===Oc?S>0&&(t=Oc,b=S,g=O.length):N===gp?x>0&&(t=gp,b=x,g=v.length):(b=Math.max(S,x),t=b>0?S>x?Oc:gp:null,g=t?t===Oc?O.length:v.length:0);const c=t===Oc&&/\b(transform|all)(,|$)/.test(oe(`${Oc}Property`).toString());return{type:t,timeout:b,propCount:g,hasTransform:c}}function _2(k,N){for(;k.length<N.length;)k=k.concat(k);return Math.max(...N.map((Q,oe)=>w2(Q)+w2(k[oe])))}function w2(k){return k==="auto"?0:Number(k.slice(0,-1).replace(",","."))*1e3}function t8(){return document.body.offsetHeight}function n8(k,N,Q){const oe=k[Gp];oe&&(N=(N?[N,...oe]:[...oe]).join(" ")),N==null?k.removeAttribute("class"):Q?k.setAttribute("class",N):k.className=N}const Y0=Symbol("_vod"),Cw=Symbol("_vsh"),r8={beforeMount(k,{value:N},{transition:Q}){k[Y0]=k.style.display==="none"?"":k.style.display,Q&&N?Q.beforeEnter(k):vp(k,N)},mounted(k,{value:N},{transition:Q}){Q&&N&&Q.enter(k)},updated(k,{value:N,oldValue:Q},{transition:oe}){!N!=!Q&&(oe?N?(oe.beforeEnter(k),vp(k,!0),oe.enter(k)):oe.leave(k,()=>{vp(k,!1)}):vp(k,N))},beforeUnmount(k,{value:N}){vp(k,N)}};function vp(k,N){k.style.display=N?k[Y0]:"none",k[Cw]=!N}const Pw=Symbol("");function kD(k){const N=Ml();if(!N)return;const Q=N.ut=(he=k(N.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${N.uid}"]`)).forEach(O=>lm(O,he))},oe=()=>{const he=k(N.proxy);sm(N.subTree,he),Q(he)};la(()=>{Lk(oe);const he=new MutationObserver(oe);he.observe(N.subTree.el.parentNode,{childList:!0}),wo(()=>he.disconnect())})}function sm(k,N){if(k.shapeFlag&128){const Q=k.suspense;k=Q.activeBranch,Q.pendingBranch&&!Q.isHydrating&&Q.effects.push(()=>{sm(Q.activeBranch,N)})}for(;k.component;)k=k.component.subTree;if(k.shapeFlag&1&&k.el)lm(k.el,N);else if(k.type===ki)k.children.forEach(Q=>sm(Q,N));else if(k.type===kh){let{el:Q,anchor:oe}=k;for(;Q&&(lm(Q,N),Q!==oe);)Q=Q.nextSibling}}function lm(k,N){if(k.nodeType===1){const Q=k.style;let oe="";for(const he in N)Q.setProperty(`--${he}`,N[he]),oe+=`--${he}: ${N[he]};`;Q[Pw]=oe}}const i8=/(^|;)\s*display\s*:/;function a8(k,N,Q){const oe=k.style,he=Ra(Q);let O=!1;if(Q&&!he){if(N)if(Ra(N))for(const S of N.split(";")){const e=S.slice(0,S.indexOf(":")).trim();Q[e]==null&&E0(oe,e,"")}else for(const S in N)Q[S]==null&&E0(oe,S,"");for(const S in Q)S==="display"&&(O=!0),E0(oe,S,Q[S])}else if(he){if(N!==Q){const S=oe[Pw];S&&(Q+=";"+S),oe.cssText=Q,O=i8.test(Q)}}else N&&k.removeAttribute("style");Y0 in k&&(k[Y0]=O?oe.display:"",k[Cw]&&(oe.display="none"))}const T2=/\s*!important$/;function E0(k,N,Q){if(ri(Q))Q.forEach(oe=>E0(k,N,oe));else if(Q==null&&(Q=""),N.startsWith("--"))k.setProperty(N,Q);else{const oe=o8(k,N);T2.test(Q)?k.setProperty(Vf(oe),Q.replace(T2,""),"important"):k[oe]=Q}}const k2=["Webkit","Moz","ms"],_v={};function o8(k,N){const Q=_v[N];if(Q)return Q;let oe=Hu(N);if(oe!=="filter"&&oe in k)return _v[N]=oe;oe=ag(oe);for(let he=0;he<k2.length;he++){const O=k2[he]+oe;if(O in k)return _v[N]=O}return N}const A2="http://www.w3.org/1999/xlink";function M2(k,N,Q,oe,he,O=fT(N)){oe&&N.startsWith("xlink:")?Q==null?k.removeAttributeNS(A2,N.slice(6,N.length)):k.setAttributeNS(A2,N,Q):Q==null||O&&!v_(Q)?k.removeAttribute(N):k.setAttribute(N,O?"":String(Q))}function s8(k,N,Q,oe,he,O,S){if(N==="innerHTML"||N==="textContent"){oe&&S(oe,he,O),k[N]=Q??"";return}const e=k.tagName;if(N==="value"&&e!=="PROGRESS"&&!e.includes("-")){const x=e==="OPTION"?k.getAttribute("value")||"":k.value,t=Q==null?"":String(Q);(x!==t||!("_value"in k))&&(k.value=t),Q==null&&k.removeAttribute(N),k._value=Q;return}let v=!1;if(Q===""||Q==null){const x=typeof k[N];x==="boolean"?Q=v_(Q):Q==null&&x==="string"?(Q="",v=!0):x==="number"&&(Q=0,v=!0)}try{k[N]=Q}catch{}v&&k.removeAttribute(N)}function l8(k,N,Q,oe){k.addEventListener(N,Q,oe)}function u8(k,N,Q,oe){k.removeEventListener(N,Q,oe)}const S2=Symbol("_vei");function c8(k,N,Q,oe,he=null){const O=k[S2]||(k[S2]={}),S=O[N];if(oe&&S)S.value=oe;else{const[e,v]=f8(N);if(oe){const x=O[N]=d8(oe,he);l8(k,e,x,v)}else S&&(u8(k,e,S,v),O[N]=void 0)}}const E2=/(?:Once|Passive|Capture)$/;function f8(k){let N;if(E2.test(k)){N={};let oe;for(;oe=k.match(E2);)k=k.slice(0,k.length-oe[0].length),N[oe[0].toLowerCase()]=!0}return[k[2]===":"?k.slice(3):Vf(k.slice(2)),N]}let wv=0;const h8=Promise.resolve(),p8=()=>wv||(h8.then(()=>wv=0),wv=Date.now());function d8(k,N){const Q=oe=>{if(!oe._vts)oe._vts=Date.now();else if(oe._vts<=Q.attached)return;$l(g8(oe,Q.value),N,5,[oe])};return Q.value=k,Q.attached=p8(),Q}function g8(k,N){if(ri(N)){const Q=k.stopImmediatePropagation;return k.stopImmediatePropagation=()=>{Q.call(k),k._stopped=!0},N.map(oe=>he=>!he._stopped&&oe&&oe(he))}else return N}const L2=k=>k.charCodeAt(0)===111&&k.charCodeAt(1)===110&&k.charCodeAt(2)>96&&k.charCodeAt(2)<123,v8=(k,N,Q,oe,he,O,S,e,v)=>{const x=he==="svg";N==="class"?n8(k,oe,x):N==="style"?a8(k,Q,oe):rd(N)?Zm(N)||c8(k,N,Q,oe,S):(N[0]==="."?(N=N.slice(1),!0):N[0]==="^"?(N=N.slice(1),!1):m8(k,N,oe,x))?(s8(k,N,oe,O,S,e,v),(N==="value"||N==="checked"||N==="selected")&&M2(k,N,oe,x,S,N!=="value")):(N==="true-value"?k._trueValue=oe:N==="false-value"&&(k._falseValue=oe),M2(k,N,oe,x))};function m8(k,N,Q,oe){if(oe)return!!(N==="innerHTML"||N==="textContent"||N in k&&L2(N)&&oi(Q));if(N==="spellcheck"||N==="draggable"||N==="translate"||N==="form"||N==="list"&&k.tagName==="INPUT"||N==="type"&&k.tagName==="TEXTAREA")return!1;if(N==="width"||N==="height"){const he=k.tagName;if(he==="IMG"||he==="VIDEO"||he==="CANVAS"||he==="SOURCE")return!1}return L2(N)&&Ra(Q)?!1:N in k}const y8=["ctrl","shift","alt","meta"],x8={stop:k=>k.stopPropagation(),prevent:k=>k.preventDefault(),self:k=>k.target!==k.currentTarget,ctrl:k=>!k.ctrlKey,shift:k=>!k.shiftKey,alt:k=>!k.altKey,meta:k=>!k.metaKey,left:k=>"button"in k&&k.button!==0,middle:k=>"button"in k&&k.button!==1,right:k=>"button"in k&&k.button!==2,exact:(k,N)=>y8.some(Q=>k[`${Q}Key`]&&!N.includes(Q))},Tv=(k,N)=>{const Q=k._withMods||(k._withMods={}),oe=N.join(".");return Q[oe]||(Q[oe]=(he,...O)=>{for(let S=0;S<N.length;S++){const e=x8[N[S]];if(e&&e(he,N))return}return k(he,...O)})},b8={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},C2=(k,N)=>{const Q=k._withKeys||(k._withKeys={}),oe=N.join(".");return Q[oe]||(Q[oe]=he=>{if(!("key"in he))return;const O=Vf(he.key);if(N.some(S=>S===O||b8[S]===O))return k(he)})},Ow=co({patchProp:v8},Xk);let Ip,P2=!1;function _8(){return Ip||(Ip=kk(Ow))}function w8(){return Ip=P2?Ip:Ak(Ow),P2=!0,Ip}const T8=(...k)=>{const N=_8().createApp(...k),{mount:Q}=N;return N.mount=oe=>{const he=Rw(oe);if(!he)return;const O=N._component;!oi(O)&&!O.render&&!O.template&&(O.template=he.innerHTML),he.innerHTML="";const S=Q(he,!1,Iw(he));return he instanceof Element&&(he.removeAttribute("v-cloak"),he.setAttribute("data-v-app","")),S},N},k8=(...k)=>{const N=w8().createApp(...k),{mount:Q}=N;return N.mount=oe=>{const he=Rw(oe);if(he)return Q(he,!0,Iw(he))},N};function Iw(k){if(k instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&k instanceof MathMLElement)return"mathml"}function Rw(k){return Ra(k)?document.querySelector(k):k}const A8=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,M8=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,S8=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function E8(k,N){if(k==="__proto__"||k==="constructor"&&N&&typeof N=="object"&&"prototype"in N){L8(k);return}return N}function L8(k){console.warn(`[destr] Dropping "${k}" key to prevent prototype pollution.`)}function Wp(k,N={}){if(typeof k!="string")return k;const Q=k.trim();if(k[0]==='"'&&k.endsWith('"')&&!k.includes("\\"))return Q.slice(1,-1);if(Q.length<=9){const oe=Q.toLowerCase();if(oe==="true")return!0;if(oe==="false")return!1;if(oe==="undefined")return;if(oe==="null")return null;if(oe==="nan")return Number.NaN;if(oe==="infinity")return Number.POSITIVE_INFINITY;if(oe==="-infinity")return Number.NEGATIVE_INFINITY}if(!S8.test(k)){if(N.strict)throw new SyntaxError("[destr] Invalid JSON");return k}try{if(A8.test(k)||M8.test(k)){if(N.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(k,E8)}return JSON.parse(k)}catch(oe){if(N.strict)throw oe;return k}}const C8=/#/g,P8=/&/g,O8=/\//g,I8=/=/g,vy=/\+/g,R8=/%5e/gi,D8=/%60/gi,z8=/%7c/gi,F8=/%20/gi;function B8(k){return encodeURI(""+k).replace(z8,"|")}function um(k){return B8(typeof k=="string"?k:JSON.stringify(k)).replace(vy,"%2B").replace(F8,"+").replace(C8,"%23").replace(P8,"%26").replace(D8,"`").replace(R8,"^").replace(O8,"%2F")}function kv(k){return um(k).replace(I8,"%3D")}function $0(k=""){try{return decodeURIComponent(""+k)}catch{return""+k}}function N8(k){return $0(k.replace(vy," "))}function j8(k){return $0(k.replace(vy," "))}function Dw(k=""){const N={};k[0]==="?"&&(k=k.slice(1));for(const Q of k.split("&")){const oe=Q.match(/([^=]+)=?(.*)/)||[];if(oe.length<2)continue;const he=N8(oe[1]);if(he==="__proto__"||he==="constructor")continue;const O=j8(oe[2]||"");N[he]===void 0?N[he]=O:Array.isArray(N[he])?N[he].push(O):N[he]=[N[he],O]}return N}function U8(k,N){return(typeof N=="number"||typeof N=="boolean")&&(N=String(N)),N?Array.isArray(N)?N.map(Q=>`${kv(k)}=${um(Q)}`).join("&"):`${kv(k)}=${um(N)}`:kv(k)}function V8(k){return Object.keys(k).filter(N=>k[N]!==void 0).map(N=>U8(N,k[N])).filter(Boolean).join("&")}const H8=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,q8=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,G8=/^([/\\]\s*){2,}[^/\\]/,W8=/^[\s\0]*(blob|data|javascript|vbscript):$/i,Y8=/\/$|\/\?|\/#/,$8=/^\.?\//;function mc(k,N={}){return typeof N=="boolean"&&(N={acceptRelative:N}),N.strict?H8.test(k):q8.test(k)||(N.acceptRelative?G8.test(k):!1)}function Z8(k){return!!k&&W8.test(k)}function cm(k="",N){return N?Y8.test(k):k.endsWith("/")}function ud(k="",N){if(!N)return(cm(k)?k.slice(0,-1):k)||"/";if(!cm(k,!0))return k||"/";let Q=k,oe="";const he=k.indexOf("#");he>=0&&(Q=k.slice(0,he),oe=k.slice(he));const[O,...S]=Q.split("?");return((O.endsWith("/")?O.slice(0,-1):O)||"/")+(S.length>0?`?${S.join("?")}`:"")+oe}function Z0(k="",N){if(!N)return k.endsWith("/")?k:k+"/";if(cm(k,!0))return k||"/";let Q=k,oe="";const he=k.indexOf("#");if(he>=0&&(Q=k.slice(0,he),oe=k.slice(he),!Q))return oe;const[O,...S]=Q.split("?");return O+"/"+(S.length>0?`?${S.join("?")}`:"")+oe}function X8(k=""){return k.startsWith("/")}function fm(k=""){return X8(k)?k:"/"+k}function zw(k,N){if(Fw(N)||mc(k))return k;const Q=ud(N);return k.startsWith(Q)?k:cd(Q,k)}function O2(k,N){if(Fw(N))return k;const Q=ud(N);if(!k.startsWith(Q))return k;const oe=k.slice(Q.length);return oe[0]==="/"?oe:"/"+oe}function my(k,N){const Q=Q8(k),oe={...Dw(Q.search),...N};return Q.search=V8(oe),eA(Q)}function Fw(k){return!k||k==="/"}function K8(k){return k&&k!=="/"}function cd(k,...N){let Q=k||"";for(const oe of N.filter(he=>K8(he)))if(Q){const he=oe.replace($8,"");Q=Z0(Q)+he}else Q=oe;return Q}function Bw(...k){var S,e,v,x;const N=/\/(?!\/)/,Q=k.filter(Boolean),oe=[];let he=0;for(const t of Q)if(!(!t||t==="/")){for(const[b,g]of t.split(N).entries())if(!(!g||g===".")){if(g===".."){if(oe.length===1&&mc(oe[0]))continue;oe.pop(),he--;continue}if(b===1&&((S=oe[oe.length-1])!=null&&S.endsWith(":/"))){oe[oe.length-1]+="/"+g;continue}oe.push(g),he++}}let O=oe.join("/");return he>=0?(e=Q[0])!=null&&e.startsWith("/")&&!O.startsWith("/")?O="/"+O:(v=Q[0])!=null&&v.startsWith("./")&&!O.startsWith("./")&&(O="./"+O):O="../".repeat(-1*he)+O,(x=Q[Q.length-1])!=null&&x.endsWith("/")&&!O.endsWith("/")&&(O+="/"),O}function J8(k,N,Q={}){return Q.trailingSlash||(k=Z0(k),N=Z0(N)),Q.leadingSlash||(k=fm(k),N=fm(N)),Q.encoding||(k=$0(k),N=$0(N)),k===N}const Nw=Symbol.for("ufo:protocolRelative");function Q8(k="",N){const Q=k.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(Q){const[,b,g=""]=Q;return{protocol:b.toLowerCase(),pathname:g,href:b+g,auth:"",host:"",search:"",hash:""}}if(!mc(k,{acceptRelative:!0}))return I2(k);const[,oe="",he,O=""]=k.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[],[,S="",e=""]=O.match(/([^#/?]*)(.*)?/)||[],{pathname:v,search:x,hash:t}=I2(e.replace(/\/(?=[A-Za-z]:)/,""));return{protocol:oe.toLowerCase(),auth:he?he.slice(0,Math.max(0,he.length-1)):"",host:S,pathname:v,search:x,hash:t,[Nw]:!oe}}function I2(k=""){const[N="",Q="",oe=""]=(k.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:N,search:Q,hash:oe}}function eA(k){const N=k.pathname||"",Q=k.search?(k.search.startsWith("?")?"":"?")+k.search:"",oe=k.hash||"",he=k.auth?k.auth+"@":"",O=k.host||"";return(k.protocol||k[Nw]?(k.protocol||"")+"//":"")+he+O+N+Q+oe}class tA extends Error{constructor(N,Q){super(N,Q),this.name="FetchError",Q!=null&&Q.cause&&!this.cause&&(this.cause=Q.cause)}}function nA(k){var v,x,t,b,g;const N=((v=k.error)==null?void 0:v.message)||((x=k.error)==null?void 0:x.toString())||"",Q=((t=k.request)==null?void 0:t.method)||((b=k.options)==null?void 0:b.method)||"GET",oe=((g=k.request)==null?void 0:g.url)||String(k.request)||"/",he=`[${Q}] ${JSON.stringify(oe)}`,O=k.response?`${k.response.status} ${k.response.statusText}`:"<no response>",S=`${he}: ${O}${N?` ${N}`:""}`,e=new tA(S,k.error?{cause:k.error}:void 0);for(const c of["request","options","response"])Object.defineProperty(e,c,{get(){return k[c]}});for(const[c,s]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(e,c,{get(){return k.response&&k.response[s]}});return e}const rA=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function R2(k="GET"){return rA.has(k.toUpperCase())}function iA(k){if(k===void 0)return!1;const N=typeof k;return N==="string"||N==="number"||N==="boolean"||N===null?!0:N!=="object"?!1:Array.isArray(k)?!0:k.buffer?!1:k.constructor&&k.constructor.name==="Object"||typeof k.toJSON=="function"}const aA=new Set(["image/svg","application/xml","application/xhtml","application/html"]),oA=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function sA(k=""){if(!k)return"json";const N=k.split(";").shift()||"";return oA.test(N)?"json":aA.has(N)||N.startsWith("text/")?"text":"blob"}function lA(k,N,Q=globalThis.Headers){const oe={...N,...k};if(N!=null&&N.params&&(k!=null&&k.params)&&(oe.params={...N==null?void 0:N.params,...k==null?void 0:k.params}),N!=null&&N.query&&(k!=null&&k.query)&&(oe.query={...N==null?void 0:N.query,...k==null?void 0:k.query}),N!=null&&N.headers&&(k!=null&&k.headers)){oe.headers=new Q((N==null?void 0:N.headers)||{});for(const[he,O]of new Q((k==null?void 0:k.headers)||{}))oe.headers.set(he,O)}return oe}const uA=new Set([408,409,425,429,500,502,503,504]),cA=new Set([101,204,205,304]);function jw(k={}){const{fetch:N=globalThis.fetch,Headers:Q=globalThis.Headers,AbortController:oe=globalThis.AbortController}=k;async function he(e){const v=e.error&&e.error.name==="AbortError"&&!e.options.timeout||!1;if(e.options.retry!==!1&&!v){let t;typeof e.options.retry=="number"?t=e.options.retry:t=R2(e.options.method)?0:1;const b=e.response&&e.response.status||500;if(t>0&&(Array.isArray(e.options.retryStatusCodes)?e.options.retryStatusCodes.includes(b):uA.has(b))){const g=e.options.retryDelay||0;return g>0&&await new Promise(c=>setTimeout(c,g)),O(e.request,{...e.options,retry:t-1})}}const x=nA(e);throw Error.captureStackTrace&&Error.captureStackTrace(x,O),x}const O=async function(v,x={}){var c;const t={request:v,options:lA(x,k.defaults,Q),response:void 0,error:void 0};t.options.method=(c=t.options.method)==null?void 0:c.toUpperCase(),t.options.onRequest&&await t.options.onRequest(t),typeof t.request=="string"&&(t.options.baseURL&&(t.request=zw(t.request,t.options.baseURL)),(t.options.query||t.options.params)&&(t.request=my(t.request,{...t.options.params,...t.options.query}))),t.options.body&&R2(t.options.method)&&(iA(t.options.body)?(t.options.body=typeof t.options.body=="string"?t.options.body:JSON.stringify(t.options.body),t.options.headers=new Q(t.options.headers||{}),t.options.headers.has("content-type")||t.options.headers.set("content-type","application/json"),t.options.headers.has("accept")||t.options.headers.set("accept","application/json")):("pipeTo"in t.options.body&&typeof t.options.body.pipeTo=="function"||typeof t.options.body.pipe=="function")&&("duplex"in t.options||(t.options.duplex="half")));let b;if(!t.options.signal&&t.options.timeout){const s=new oe;b=setTimeout(()=>s.abort(),t.options.timeout),t.options.signal=s.signal}try{t.response=await N(t.request,t.options)}catch(s){return t.error=s,t.options.onRequestError&&await t.options.onRequestError(t),await he(t)}finally{b&&clearTimeout(b)}if(t.response.body&&!cA.has(t.response.status)&&t.options.method!=="HEAD"){const s=(t.options.parseResponse?"json":t.options.responseType)||sA(t.response.headers.get("content-type")||"");switch(s){case"json":{const n=await t.response.text(),i=t.options.parseResponse||Wp;t.response._data=i(n);break}case"stream":{t.response._data=t.response.body;break}default:t.response._data=await t.response[s]()}}return t.options.onResponse&&await t.options.onResponse(t),!t.options.ignoreResponseError&&t.response.status>=400&&t.response.status<600?(t.options.onResponseError&&await t.options.onResponseError(t),await he(t)):t.response},S=async function(v,x){return(await O(v,x))._data};return S.raw=O,S.native=(...e)=>N(...e),S.create=(e={})=>jw({...k,defaults:{...k.defaults,...e}}),S}const yy=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),fA=yy.fetch||(()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!"))),hA=yy.Headers,pA=yy.AbortController,dA=jw({fetch:fA,Headers:hA,AbortController:pA}),gA=dA,vA=()=>{var k;return((k=window==null?void 0:window.__NUXT__)==null?void 0:k.config)||{}},X0=vA().app,mA=()=>X0.baseURL,yA=()=>X0.buildAssetsDir,xy=(...k)=>Bw(Uw(),yA(),...k),Uw=(...k)=>{const N=X0.cdnURL||X0.baseURL;return k.length?Bw(N,...k):N};globalThis.__buildAssetsURL=xy,globalThis.__publicAssetsURL=Uw;globalThis.$fetch||(globalThis.$fetch=gA.create({baseURL:mA()}));function hm(k,N={},Q){for(const oe in k){const he=k[oe],O=Q?`${Q}:${oe}`:oe;typeof he=="object"&&he!==null?hm(he,N,O):typeof he=="function"&&(N[O]=he)}return N}const xA={run:k=>k()},bA=()=>xA,Vw=typeof console.createTask<"u"?console.createTask:bA;function _A(k,N){const Q=N.shift(),oe=Vw(Q);return k.reduce((he,O)=>he.then(()=>oe.run(()=>O(...N))),Promise.resolve())}function wA(k,N){const Q=N.shift(),oe=Vw(Q);return Promise.all(k.map(he=>oe.run(()=>he(...N))))}function Av(k,N){for(const Q of[...k])Q(N)}class TA{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(N,Q,oe={}){if(!N||typeof Q!="function")return()=>{};const he=N;let O;for(;this._deprecatedHooks[N];)O=this._deprecatedHooks[N],N=O.to;if(O&&!oe.allowDeprecated){let S=O.message;S||(S=`${he} hook has been deprecated`+(O.to?`, please use ${O.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(S)||(console.warn(S),this._deprecatedMessages.add(S))}if(!Q.name)try{Object.defineProperty(Q,"name",{get:()=>"_"+N.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[N]=this._hooks[N]||[],this._hooks[N].push(Q),()=>{Q&&(this.removeHook(N,Q),Q=void 0)}}hookOnce(N,Q){let oe,he=(...O)=>(typeof oe=="function"&&oe(),oe=void 0,he=void 0,Q(...O));return oe=this.hook(N,he),oe}removeHook(N,Q){if(this._hooks[N]){const oe=this._hooks[N].indexOf(Q);oe!==-1&&this._hooks[N].splice(oe,1),this._hooks[N].length===0&&delete this._hooks[N]}}deprecateHook(N,Q){this._deprecatedHooks[N]=typeof Q=="string"?{to:Q}:Q;const oe=this._hooks[N]||[];delete this._hooks[N];for(const he of oe)this.hook(N,he)}deprecateHooks(N){Object.assign(this._deprecatedHooks,N);for(const Q in N)this.deprecateHook(Q,N[Q])}addHooks(N){const Q=hm(N),oe=Object.keys(Q).map(he=>this.hook(he,Q[he]));return()=>{for(const he of oe.splice(0,oe.length))he()}}removeHooks(N){const Q=hm(N);for(const oe in Q)this.removeHook(oe,Q[oe])}removeAllHooks(){for(const N in this._hooks)delete this._hooks[N]}callHook(N,...Q){return Q.unshift(N),this.callHookWith(_A,N,...Q)}callHookParallel(N,...Q){return Q.unshift(N),this.callHookWith(wA,N,...Q)}callHookWith(N,Q,...oe){const he=this._before||this._after?{name:Q,args:oe,context:{}}:void 0;this._before&&Av(this._before,he);const O=N(Q in this._hooks?[...this._hooks[Q]]:[],oe);return O instanceof Promise?O.finally(()=>{this._after&&he&&Av(this._after,he)}):(this._after&&he&&Av(this._after,he),O)}beforeEach(N){return this._before=this._before||[],this._before.push(N),()=>{if(this._before!==void 0){const Q=this._before.indexOf(N);Q!==-1&&this._before.splice(Q,1)}}}afterEach(N){return this._after=this._after||[],this._after.push(N),()=>{if(this._after!==void 0){const Q=this._after.indexOf(N);Q!==-1&&this._after.splice(Q,1)}}}}function Hw(){return new TA}function kA(k={}){let N,Q=!1;const oe=S=>{if(N&&N!==S)throw new Error("Context conflict")};let he;if(k.asyncContext){const S=k.AsyncLocalStorage||globalThis.AsyncLocalStorage;S?he=new S:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const O=()=>{if(he&&N===void 0){const S=he.getStore();if(S!==void 0)return S}return N};return{use:()=>{const S=O();if(S===void 0)throw new Error("Context is not available");return S},tryUse:()=>O(),set:(S,e)=>{e||oe(S),N=S,Q=!0},unset:()=>{N=void 0,Q=!1},call:(S,e)=>{oe(S),N=S;try{return he?he.run(S,e):e()}finally{Q||(N=void 0)}},async callAsync(S,e){N=S;const v=()=>{N=S},x=()=>N===S?v:void 0;pm.add(x);try{const t=he?he.run(S,e):e();return Q||(N=void 0),await t}finally{pm.delete(x)}}}}function AA(k={}){const N={};return{get(Q,oe={}){return N[Q]||(N[Q]=kA({...k,...oe})),N[Q],N[Q]}}}const K0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},D2="__unctx__",MA=K0[D2]||(K0[D2]=AA()),SA=(k,N={})=>MA.get(k,N),z2="__unctx_async_handlers__",pm=K0[z2]||(K0[z2]=new Set);function Yp(k){const N=[];for(const he of pm){const O=he();O&&N.push(O)}const Q=()=>{for(const he of N)he()};let oe=k();return oe&&typeof oe=="object"&&"catch"in oe&&(oe=oe.catch(he=>{throw Q(),he})),[oe,Q]}const EA=!1,dm=!1,LA=!1,CA={componentName:"NuxtLink"},gh={value:null,errorValue:null,deep:!0},PA=null,OA={},IA="#__nuxt",qw="nuxt-app",F2=36e5;function Gw(k=qw){return SA(k,{asyncContext:!1})}const RA="__nuxt_plugin";function DA(k){let N=0;const Q={_name:qw,_scope:x_(),provide:void 0,globalName:"nuxt",versions:{get nuxt(){return"3.12.2"},get vue(){return Q.vueApp.version}},payload:lc({data:lc({}),state:_u({}),once:new Set,_errors:lc({})}),static:{data:{}},runWithContext(he){return Q._scope.active&&!Hf()?Q._scope.run(()=>B2(Q,he)):B2(Q,he)},isHydrating:!0,deferHydration(){if(!Q.isHydrating)return()=>{};N++;let he=!1;return()=>{if(!he&&(he=!0,N--,N===0))return Q.isHydrating=!1,Q.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:lc({}),_payloadRevivers:{},...k};if(window.__NUXT__)for(const he in window.__NUXT__)switch(he){case"data":case"state":case"_errors":Object.assign(Q.payload[he],window.__NUXT__[he]);break;default:Q.payload[he]=window.__NUXT__[he]}Q.hooks=Hw(),Q.hook=Q.hooks.hook,Q.callHook=Q.hooks.callHook,Q.provide=(he,O)=>{const S="$"+he;m0(Q,S,O),m0(Q.vueApp.config.globalProperties,S,O)},m0(Q.vueApp,"$nuxt",Q),m0(Q.vueApp.config.globalProperties,"$nuxt",Q);{window.addEventListener("nuxt.preloadError",O=>{Q.callHook("app:chunkError",{error:O.payload})}),window.useNuxtApp=window.useNuxtApp||Yi;const he=Q.hook("app:error",(...O)=>{console.error("[nuxt] error caught during app initialization",...O)});Q.hook("app:mounted",he)}const oe=Q.payload.config;return Q.provide("config",oe),Q}function zA(k,N){N.hooks&&k.hooks.addHooks(N.hooks)}async function FA(k,N){if(typeof N=="function"){const{provide:Q}=await k.runWithContext(()=>N(k))||{};if(Q&&typeof Q=="object")for(const oe in Q)k.provide(oe,Q[oe])}}async function BA(k,N){const Q=[],oe=[],he=[],O=[];let S=0;async function e(v){var t;const x=((t=v.dependsOn)==null?void 0:t.filter(b=>N.some(g=>g._name===b)&&!Q.includes(b)))??[];if(x.length>0)oe.push([new Set(x),v]);else{const b=FA(k,v).then(async()=>{v._name&&(Q.push(v._name),await Promise.all(oe.map(async([g,c])=>{g.has(v._name)&&(g.delete(v._name),g.size===0&&(S++,await e(c)))})))});v.parallel?he.push(b.catch(g=>O.push(g))):await b}}for(const v of N)zA(k,v);for(const v of N)await e(v);if(await Promise.all(he),S)for(let v=0;v<S;v++)await Promise.all(he);if(O.length)throw O[0]}function zo(k){if(typeof k=="function")return k;const N=k._name||k.name;return delete k.name,Object.assign(k.setup||(()=>{}),k,{[RA]:!0,_name:N})}function B2(k,N,Q){const oe=()=>N();return Gw(k._name).set(k),k.vueApp.runWithContext(oe)}function NA(k){var Q;let N;return ew()&&(N=(Q=Ml())==null?void 0:Q.appContext.app.$nuxt),N=N||Gw(k).tryUse(),N||null}function Yi(k){const N=NA(k);if(!N)throw new Error("[nuxt] instance unavailable");return N}function wu(k){return Yi().$config}function m0(k,N,Q){Object.defineProperty(k,N,{get:()=>Q})}const y0=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function jA(k,N){if(typeof k!="string")throw new TypeError("argument str must be a string");const Q={},he=(N||{}).decode||HA;let O=0;for(;O<k.length;){const S=k.indexOf("=",O);if(S===-1)break;let e=k.indexOf(";",O);if(e===-1)e=k.length;else if(e<S){O=k.lastIndexOf(";",S-1)+1;continue}const v=k.slice(O,S).trim();if(Q[v]===void 0){let x=k.slice(S+1,e).trim();x.codePointAt(0)===34&&(x=x.slice(1,-1)),Q[v]=VA(x,he)}O=e+1}return Q}function N2(k,N,Q){const oe=Q||{},he=oe.encode||qA;if(typeof he!="function")throw new TypeError("option encode is invalid");if(!y0.test(k))throw new TypeError("argument name is invalid");const O=he(N);if(O&&!y0.test(O))throw new TypeError("argument val is invalid");let S=k+"="+O;if(oe.maxAge!==void 0&&oe.maxAge!==null){const e=oe.maxAge-0;if(Number.isNaN(e)||!Number.isFinite(e))throw new TypeError("option maxAge is invalid");S+="; Max-Age="+Math.floor(e)}if(oe.domain){if(!y0.test(oe.domain))throw new TypeError("option domain is invalid");S+="; Domain="+oe.domain}if(oe.path){if(!y0.test(oe.path))throw new TypeError("option path is invalid");S+="; Path="+oe.path}if(oe.expires){if(!UA(oe.expires)||Number.isNaN(oe.expires.valueOf()))throw new TypeError("option expires is invalid");S+="; Expires="+oe.expires.toUTCString()}if(oe.httpOnly&&(S+="; HttpOnly"),oe.secure&&(S+="; Secure"),oe.priority)switch(typeof oe.priority=="string"?oe.priority.toLowerCase():oe.priority){case"low":{S+="; Priority=Low";break}case"medium":{S+="; Priority=Medium";break}case"high":{S+="; Priority=High";break}default:throw new TypeError("option priority is invalid")}if(oe.sameSite)switch(typeof oe.sameSite=="string"?oe.sameSite.toLowerCase():oe.sameSite){case!0:{S+="; SameSite=Strict";break}case"lax":{S+="; SameSite=Lax";break}case"strict":{S+="; SameSite=Strict";break}case"none":{S+="; SameSite=None";break}default:throw new TypeError("option sameSite is invalid")}return oe.partitioned&&(S+="; Partitioned"),S}function UA(k){return Object.prototype.toString.call(k)==="[object Date]"||k instanceof Date}function VA(k,N){try{return N(k)}catch{return k}}function HA(k){return k.includes("%")?decodeURIComponent(k):k}function qA(k){return encodeURIComponent(k)}const j2=Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0});function gm(k,N){N?N={...j2,...N}:N=j2;const Q=Ww(N);return Q.dispatch(k),Q.toString()}const GA=Object.freeze(["prototype","__proto__","constructor"]);function Ww(k){let N="",Q=new Map;const oe=he=>{N+=he};return{toString(){return N},getContext(){return Q},dispatch(he){return k.replacer&&(he=k.replacer(he)),this[he===null?"null":typeof he](he)},object(he){if(he&&typeof he.toJSON=="function")return this.object(he.toJSON());const O=Object.prototype.toString.call(he);let S="";const e=O.length;e<10?S="unknown:["+O+"]":S=O.slice(8,e-1),S=S.toLowerCase();let v=null;if((v=Q.get(he))===void 0)Q.set(he,Q.size);else return this.dispatch("[CIRCULAR:"+v+"]");if(typeof Buffer<"u"&&Buffer.isBuffer&&Buffer.isBuffer(he))return oe("buffer:"),oe(he.toString("utf8"));if(S!=="object"&&S!=="function"&&S!=="asyncfunction")this[S]?this[S](he):k.ignoreUnknown||this.unkown(he,S);else{let x=Object.keys(he);k.unorderedObjects&&(x=x.sort());let t=[];k.respectType!==!1&&!U2(he)&&(t=GA),k.excludeKeys&&(x=x.filter(g=>!k.excludeKeys(g)),t=t.filter(g=>!k.excludeKeys(g))),oe("object:"+(x.length+t.length)+":");const b=g=>{this.dispatch(g),oe(":"),k.excludeValues||this.dispatch(he[g]),oe(",")};for(const g of x)b(g);for(const g of t)b(g)}},array(he,O){if(O=O===void 0?k.unorderedArrays!==!1:O,oe("array:"+he.length+":"),!O||he.length<=1){for(const v of he)this.dispatch(v);return}const S=new Map,e=he.map(v=>{const x=Ww(k);x.dispatch(v);for(const[t,b]of x.getContext())S.set(t,b);return x.toString()});return Q=S,e.sort(),this.array(e,!1)},date(he){return oe("date:"+he.toJSON())},symbol(he){return oe("symbol:"+he.toString())},unkown(he,O){if(oe(O),!!he&&(oe(":"),he&&typeof he.entries=="function"))return this.array(Array.from(he.entries()),!0)},error(he){return oe("error:"+he.toString())},boolean(he){return oe("bool:"+he)},string(he){oe("string:"+he.length+":"),oe(he)},function(he){oe("fn:"),U2(he)?this.dispatch("[native]"):this.dispatch(he.toString()),k.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(he.name)),k.respectFunctionProperties&&this.object(he)},number(he){return oe("number:"+he)},xml(he){return oe("xml:"+he.toString())},null(){return oe("Null")},undefined(){return oe("Undefined")},regexp(he){return oe("regex:"+he.toString())},uint8array(he){return oe("uint8array:"),this.dispatch(Array.prototype.slice.call(he))},uint8clampedarray(he){return oe("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(he))},int8array(he){return oe("int8array:"),this.dispatch(Array.prototype.slice.call(he))},uint16array(he){return oe("uint16array:"),this.dispatch(Array.prototype.slice.call(he))},int16array(he){return oe("int16array:"),this.dispatch(Array.prototype.slice.call(he))},uint32array(he){return oe("uint32array:"),this.dispatch(Array.prototype.slice.call(he))},int32array(he){return oe("int32array:"),this.dispatch(Array.prototype.slice.call(he))},float32array(he){return oe("float32array:"),this.dispatch(Array.prototype.slice.call(he))},float64array(he){return oe("float64array:"),this.dispatch(Array.prototype.slice.call(he))},arraybuffer(he){return oe("arraybuffer:"),this.dispatch(new Uint8Array(he))},url(he){return oe("url:"+he.toString())},map(he){oe("map:");const O=[...he];return this.array(O,k.unorderedSets!==!1)},set(he){oe("set:");const O=[...he];return this.array(O,k.unorderedSets!==!1)},file(he){return oe("file:"),this.dispatch([he.name,he.size,he.type,he.lastModfied])},blob(){if(k.ignoreUnknown)return oe("[blob]");throw new Error(`Hashing Blob objects is currently not supported
Use "options.replacer" or "options.ignoreUnknown"
`)},domwindow(){return oe("domwindow")},bigint(he){return oe("bigint:"+he.toString())},process(){return oe("process")},timer(){return oe("timer")},pipe(){return oe("pipe")},tcp(){return oe("tcp")},udp(){return oe("udp")},tty(){return oe("tty")},statwatcher(){return oe("statwatcher")},securecontext(){return oe("securecontext")},connection(){return oe("connection")},zlib(){return oe("zlib")},context(){return oe("context")},nodescript(){return oe("nodescript")},httpparser(){return oe("httpparser")},dataview(){return oe("dataview")},signal(){return oe("signal")},fsevent(){return oe("fsevent")},tlswrap(){return oe("tlswrap")}}}const Yw="[native code] }",WA=Yw.length;function U2(k){return typeof k!="function"?!1:Function.prototype.toString.call(k).slice(-WA)===Yw}class $c{constructor(N,Q){N=this.words=N||[],this.sigBytes=Q===void 0?N.length*4:Q}toString(N){return(N||YA).stringify(this)}concat(N){if(this.clamp(),this.sigBytes%4)for(let Q=0;Q<N.sigBytes;Q++){const oe=N.words[Q>>>2]>>>24-Q%4*8&255;this.words[this.sigBytes+Q>>>2]|=oe<<24-(this.sigBytes+Q)%4*8}else for(let Q=0;Q<N.sigBytes;Q+=4)this.words[this.sigBytes+Q>>>2]=N.words[Q>>>2];return this.sigBytes+=N.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new $c([...this.words])}}const YA={stringify(k){const N=[];for(let Q=0;Q<k.sigBytes;Q++){const oe=k.words[Q>>>2]>>>24-Q%4*8&255;N.push((oe>>>4).toString(16),(oe&15).toString(16))}return N.join("")}},$A={stringify(k){const N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Q=[];for(let oe=0;oe<k.sigBytes;oe+=3){const he=k.words[oe>>>2]>>>24-oe%4*8&255,O=k.words[oe+1>>>2]>>>24-(oe+1)%4*8&255,S=k.words[oe+2>>>2]>>>24-(oe+2)%4*8&255,e=he<<16|O<<8|S;for(let v=0;v<4&&oe*8+v*6<k.sigBytes*8;v++)Q.push(N.charAt(e>>>6*(3-v)&63))}return Q.join("")}},ZA={parse(k){const N=k.length,Q=[];for(let oe=0;oe<N;oe++)Q[oe>>>2]|=(k.charCodeAt(oe)&255)<<24-oe%4*8;return new $c(Q,N)}},XA={parse(k){return ZA.parse(unescape(encodeURIComponent(k)))}};class KA{constructor(){this._data=new $c,this._nDataBytes=0,this._minBufferSize=0,this.blockSize=512/32}reset(){this._data=new $c,this._nDataBytes=0}_append(N){typeof N=="string"&&(N=XA.parse(N)),this._data.concat(N),this._nDataBytes+=N.sigBytes}_doProcessBlock(N,Q){}_process(N){let Q,oe=this._data.sigBytes/(this.blockSize*4);N?oe=Math.ceil(oe):oe=Math.max((oe|0)-this._minBufferSize,0);const he=oe*this.blockSize,O=Math.min(he*4,this._data.sigBytes);if(he){for(let S=0;S<he;S+=this.blockSize)this._doProcessBlock(this._data.words,S);Q=this._data.words.splice(0,he),this._data.sigBytes-=O}return new $c(Q,O)}}class JA extends KA{update(N){return this._append(N),this._process(),this}finalize(N){N&&this._append(N)}}const V2=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],QA=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Af=[];class eM extends JA{constructor(){super(...arguments),this._hash=new $c([...V2])}reset(){super.reset(),this._hash=new $c([...V2])}_doProcessBlock(N,Q){const oe=this._hash.words;let he=oe[0],O=oe[1],S=oe[2],e=oe[3],v=oe[4],x=oe[5],t=oe[6],b=oe[7];for(let g=0;g<64;g++){if(g<16)Af[g]=N[Q+g]|0;else{const o=Af[g-15],l=(o<<25|o>>>7)^(o<<14|o>>>18)^o>>>3,u=Af[g-2],h=(u<<15|u>>>17)^(u<<13|u>>>19)^u>>>10;Af[g]=l+Af[g-7]+h+Af[g-16]}const c=v&x^~v&t,s=he&O^he&S^O&S,n=(he<<30|he>>>2)^(he<<19|he>>>13)^(he<<10|he>>>22),i=(v<<26|v>>>6)^(v<<21|v>>>11)^(v<<7|v>>>25),a=b+i+c+QA[g]+Af[g],r=n+s;b=t,t=x,x=v,v=e+a|0,e=S,S=O,O=he,he=a+r|0}oe[0]=oe[0]+he|0,oe[1]=oe[1]+O|0,oe[2]=oe[2]+S|0,oe[3]=oe[3]+e|0,oe[4]=oe[4]+v|0,oe[5]=oe[5]+x|0,oe[6]=oe[6]+t|0,oe[7]=oe[7]+b|0}finalize(N){super.finalize(N);const Q=this._nDataBytes*8,oe=this._data.sigBytes*8;return this._data.words[oe>>>5]|=128<<24-oe%32,this._data.words[(oe+64>>>9<<4)+14]=Math.floor(Q/4294967296),this._data.words[(oe+64>>>9<<4)+15]=Q,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}}function tM(k){return new eM().finalize(k).toString($A)}function $p(k,N={}){const Q=typeof k=="string"?k:gm(k,N);return tM(Q).slice(0,10)}function $w(k,N,Q={}){return k===N||gm(k,Q)===gm(N,Q)}function nM(k,N){return{ctx:{table:k},matchAll:Q=>Xw(Q,k)}}function Zw(k){const N={};for(const Q in k)N[Q]=Q==="dynamic"?new Map(Object.entries(k[Q]).map(([oe,he])=>[oe,Zw(he)])):new Map(Object.entries(k[Q]));return N}function rM(k){return nM(Zw(k))}function Xw(k,N,Q){k.endsWith("/")&&(k=k.slice(0,-1)||"/");const oe=[];for(const[O,S]of H2(N.wildcard))(k===O||k.startsWith(O+"/"))&&oe.push(S);for(const[O,S]of H2(N.dynamic))if(k.startsWith(O+"/")){const e="/"+k.slice(O.length).split("/").splice(2).join("/");oe.push(...Xw(e,S))}const he=N.static.get(k);return he&&oe.push(he),oe.filter(Boolean)}function H2(k){return[...k.entries()].sort((N,Q)=>N[0].length-Q[0].length)}function Mv(k){if(k===null||typeof k!="object")return!1;const N=Object.getPrototypeOf(k);return N!==null&&N!==Object.prototype&&Object.getPrototypeOf(N)!==null||Symbol.iterator in k?!1:Symbol.toStringTag in k?Object.prototype.toString.call(k)==="[object Module]":!0}function vm(k,N,Q=".",oe){if(!Mv(N))return vm(k,{},Q,oe);const he=Object.assign({},N);for(const O in k){if(O==="__proto__"||O==="constructor")continue;const S=k[O];S!=null&&(oe&&oe(he,O,S,Q)||(Array.isArray(S)&&Array.isArray(he[O])?he[O]=[...S,...he[O]]:Mv(S)&&Mv(he[O])?he[O]=vm(S,he[O],(Q?`${Q}.`:"")+O.toString(),oe):he[O]=S))}return he}function by(k){return(...N)=>N.reduce((Q,oe)=>vm(Q,oe,"",k),{})}const gg=by(),iM=by((k,N,Q)=>{if(k[N]!==void 0&&typeof Q=="function")return k[N]=Q(k[N]),!0});function aM(k,N){try{return N in k}catch{return!1}}var oM=Object.defineProperty,sM=(k,N,Q)=>N in k?oM(k,N,{enumerable:!0,configurable:!0,writable:!0,value:Q}):k[N]=Q,Ef=(k,N,Q)=>(sM(k,typeof N!="symbol"?N+"":N,Q),Q);class mm extends Error{constructor(N,Q={}){super(N,Q),Ef(this,"statusCode",500),Ef(this,"fatal",!1),Ef(this,"unhandled",!1),Ef(this,"statusMessage"),Ef(this,"data"),Ef(this,"cause"),Q.cause&&!this.cause&&(this.cause=Q.cause)}toJSON(){const N={message:this.message,statusCode:xm(this.statusCode,500)};return this.statusMessage&&(N.statusMessage=Kw(this.statusMessage)),this.data!==void 0&&(N.data=this.data),N}}Ef(mm,"__h3_error__",!0);function ym(k){if(typeof k=="string")return new mm(k);if(lM(k))return k;const N=new mm(k.message??k.statusMessage??"",{cause:k.cause||k});if(aM(k,"stack"))try{Object.defineProperty(N,"stack",{get(){return k.stack}})}catch{try{N.stack=k.stack}catch{}}if(k.data&&(N.data=k.data),k.statusCode?N.statusCode=xm(k.statusCode,N.statusCode):k.status&&(N.statusCode=xm(k.status,N.statusCode)),k.statusMessage?N.statusMessage=k.statusMessage:k.statusText&&(N.statusMessage=k.statusText),N.statusMessage){const Q=N.statusMessage;Kw(N.statusMessage)!==Q&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return k.fatal!==void 0&&(N.fatal=k.fatal),k.unhandled!==void 0&&(N.unhandled=k.unhandled),N}function lM(k){var N;return((N=k==null?void 0:k.constructor)==null?void 0:N.__h3_error__)===!0}const uM=/[^\u0009\u0020-\u007E]/g;function Kw(k=""){return k.replace(uM,"")}function xm(k,N=200){return!k||(typeof k=="string"&&(k=Number.parseInt(k,10)),k<100||k>999)?N:k}const Jw=Symbol("layout-meta"),Nh=Symbol("route"),rl=()=>{var k;return(k=Yi())==null?void 0:k.$router},pc=()=>ew()?Oi(Nh,Yi()._route):Yi()._route;const cM=()=>{try{if(Yi()._processingMiddleware)return!0}catch{return!1}return!1},fM=(k,N)=>{k||(k="/");const Q=typeof k=="string"?k:my(k.path||"/",k.query||{})+(k.hash||"");if(N!=null&&N.open){const{target:e="_blank",windowFeatures:v={}}=N.open,x=Object.entries(v).filter(([t,b])=>b!==void 0).map(([t,b])=>`${t.toLowerCase()}=${b}`).join(", ");return open(Q,e,x),Promise.resolve()}const oe=(N==null?void 0:N.external)||mc(Q,{acceptRelative:!0});if(oe){if(!(N!=null&&N.external))throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const{protocol:e}=new URL(Q,window.location.href);if(e&&Z8(e))throw new Error(`Cannot navigate to a URL with '${e}' protocol.`)}const he=cM();if(!oe&&he)return k;const O=rl(),S=Yi();return oe?(S._scope.stop(),N!=null&&N.replace?location.replace(Q):location.href=Q,he?S.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):N!=null&&N.replace?O.replace(k):O.push(k)},Qw="__nuxt_error",vg=()=>Ai(Yi().payload,"error"),vh=k=>{const N=fd(k);try{const Q=Yi(),oe=vg();Q.hooks.callHook("app:error",N),oe.value=oe.value||N}catch{throw N}return N},e3=async(k={})=>{const N=Yi(),Q=vg();N.callHook("app:error:cleared",k),k.redirect&&await rl().replace(k.redirect),Q.value=PA},hM=k=>!!k&&typeof k=="object"&&Qw in k,fd=k=>{const N=ym(k);return Object.defineProperty(N,Qw,{value:!0,configurable:!1,writable:!1}),N},pM=-1,dM=-2,gM=-3,vM=-4,mM=-5,yM=-6;function xM(k,N){return bM(JSON.parse(k),N)}function bM(k,N){if(typeof k=="number")return he(k,!0);if(!Array.isArray(k)||k.length===0)throw new Error("Invalid input");const Q=k,oe=Array(Q.length);function he(O,S=!1){if(O===pM)return;if(O===gM)return NaN;if(O===vM)return 1/0;if(O===mM)return-1/0;if(O===yM)return-0;if(S)throw new Error("Invalid input");if(O in oe)return oe[O];const e=Q[O];if(!e||typeof e!="object")oe[O]=e;else if(Array.isArray(e))if(typeof e[0]=="string"){const v=e[0],x=N==null?void 0:N[v];if(x)return oe[O]=x(he(e[1]));switch(v){case"Date":oe[O]=new Date(e[1]);break;case"Set":const t=new Set;oe[O]=t;for(let c=1;c<e.length;c+=1)t.add(he(e[c]));break;case"Map":const b=new Map;oe[O]=b;for(let c=1;c<e.length;c+=2)b.set(he(e[c]),he(e[c+1]));break;case"RegExp":oe[O]=new RegExp(e[1],e[2]);break;case"Object":oe[O]=Object(e[1]);break;case"BigInt":oe[O]=BigInt(e[1]);break;case"null":const g=Object.create(null);oe[O]=g;for(let c=1;c<e.length;c+=2)g[e[c]]=he(e[c+1]);break;default:throw new Error(`Unknown type ${v}`)}}else{const v=new Array(e.length);oe[O]=v;for(let x=0;x<e.length;x+=1){const t=e[x];t!==dM&&(v[x]=he(t))}}else{const v={};oe[O]=v;for(const x in e){const t=e[x];v[x]=he(t)}}return oe[O]}return he(0)}function _M(k){return Array.isArray(k)?k:[k]}const wM=["title","titleTemplate","script","style","noscript"],L0=["base","meta","link","style","script","noscript"],TM=["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"],kM=["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"],t3=["tagPosition","tagPriority","tagDuplicateStrategy","children","innerHTML","textContent","processTemplateParams"],AM=typeof window<"u";function _y(k){let N=9;for(let Q=0;Q<k.length;)N=Math.imul(N^k.charCodeAt(Q++),9**9);return((N^N>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function q2(k){return k._h||_y(k._d?k._d:`${k.tag}:${k.textContent||k.innerHTML||""}:${Object.entries(k.props).map(([N,Q])=>`${N}:${String(Q)}`).join(",")}`)}function n3(k,N){const{props:Q,tag:oe}=k;if(kM.includes(oe))return oe;if(oe==="link"&&Q.rel==="canonical")return"canonical";if(Q.charset)return"charset";const he=["id"];oe==="meta"&&he.push("name","property","http-equiv");for(const O of he)if(typeof Q[O]<"u"){const S=String(Q[O]);return`${oe}:${O}:${S}`}return!1}function G2(k,N){return k==null?N||null:typeof k=="function"?k(N):k}function r3(k,N){const Q=[],oe=N.resolveKeyData||(O=>O.key),he=N.resolveValueData||(O=>O.value);for(const[O,S]of Object.entries(k))Q.push(...(Array.isArray(S)?S:[S]).map(e=>{const v={key:O,value:e},x=he(v);return typeof x=="object"?r3(x,N):Array.isArray(x)?x:{[typeof N.key=="function"?N.key(v):N.key]:oe(v),[typeof N.value=="function"?N.value(v):N.value]:x}}).flat());return Q}function i3(k,N){return Object.entries(k).map(([Q,oe])=>{if(typeof oe=="object"&&(oe=i3(oe,N)),N.resolve){const he=N.resolve({key:Q,value:oe});if(typeof he<"u")return he}return typeof oe=="number"&&(oe=oe.toString()),typeof oe=="string"&&N.wrapValue&&(oe=oe.replace(new RegExp(N.wrapValue,"g"),`\\${N.wrapValue}`),oe=`${N.wrapValue}${oe}${N.wrapValue}`),`${Q}${N.keyValueSeparator||""}${oe}`}).join(N.entrySeparator||"")}const Ls=k=>({keyValue:k,metaKey:"property"}),Sv=k=>({keyValue:k}),wy={appleItunesApp:{unpack:{entrySeparator:", ",resolve({key:k,value:N}){return`${uc(k)}=${N}`}}},articleExpirationTime:Ls("article:expiration_time"),articleModifiedTime:Ls("article:modified_time"),articlePublishedTime:Ls("article:published_time"),bookReleaseDate:Ls("book:release_date"),charset:{metaKey:"charset"},contentSecurityPolicy:{unpack:{entrySeparator:"; ",resolve({key:k,value:N}){return`${uc(k)} ${N}`}},metaKey:"http-equiv"},contentType:{metaKey:"http-equiv"},defaultStyle:{metaKey:"http-equiv"},fbAppId:Ls("fb:app_id"),msapplicationConfig:Sv("msapplication-Config"),msapplicationTileColor:Sv("msapplication-TileColor"),msapplicationTileImage:Sv("msapplication-TileImage"),ogAudioSecureUrl:Ls("og:audio:secure_url"),ogAudioUrl:Ls("og:audio"),ogImageSecureUrl:Ls("og:image:secure_url"),ogImageUrl:Ls("og:image"),ogSiteName:Ls("og:site_name"),ogVideoSecureUrl:Ls("og:video:secure_url"),ogVideoUrl:Ls("og:video"),profileFirstName:Ls("profile:first_name"),profileLastName:Ls("profile:last_name"),profileUsername:Ls("profile:username"),refresh:{metaKey:"http-equiv",unpack:{entrySeparator:";",resolve({key:k,value:N}){if(k==="seconds")return`${N}`}}},robots:{unpack:{entrySeparator:", ",resolve({key:k,value:N}){return typeof N=="boolean"?`${uc(k)}`:`${uc(k)}:${N}`}}},xUaCompatible:{metaKey:"http-equiv"}},a3=["og","book","article","profile"];function o3(k){var Q;const N=uc(k).split(":")[0];return a3.includes(N)?"property":((Q=wy[k])==null?void 0:Q.metaKey)||"name"}function MM(k){var N;return((N=wy[k])==null?void 0:N.keyValue)||uc(k)}function uc(k){const N=k.replace(/([A-Z])/g,"-$1").toLowerCase(),Q=N.split("-")[0];return a3.includes(Q)||Q==="twitter"?k.replace(/([A-Z])/g,":$1").toLowerCase():N}function bm(k){if(Array.isArray(k))return k.map(Q=>bm(Q));if(typeof k!="object"||Array.isArray(k))return k;const N={};for(const[Q,oe]of Object.entries(k))N[uc(Q)]=bm(oe);return N}function SM(k,N){const Q=wy[N];return N==="refresh"?`${k.seconds};url=${k.url}`:i3(bm(k),{keyValueSeparator:"=",entrySeparator:", ",resolve({value:oe,key:he}){if(oe===null)return"";if(typeof oe=="boolean")return`${he}`},...Q==null?void 0:Q.unpack})}const s3=["og:image","og:video","og:audio","twitter:image"];function l3(k){const N={};return Object.entries(k).forEach(([Q,oe])=>{String(oe)!=="false"&&Q&&(N[Q]=oe)}),N}function W2(k,N){const Q=l3(N),oe=uc(k),he=o3(oe);if(s3.includes(oe)){const O={};return Object.entries(Q).forEach(([S,e])=>{O[`${k}${S==="url"?"":`${S.charAt(0).toUpperCase()}${S.slice(1)}`}`]=e}),Ty(O).sort((S,e)=>{var v,x;return(((v=S[he])==null?void 0:v.length)||0)-(((x=e[he])==null?void 0:x.length)||0)})}return[{[he]:oe,...Q}]}function Ty(k){const N=[],Q={};Object.entries(k).forEach(([he,O])=>{if(!Array.isArray(O)){if(typeof O=="object"&&O){if(s3.includes(uc(he))){N.push(...W2(he,O));return}Q[he]=l3(O)}else Q[he]=O;return}O.forEach(S=>{N.push(...typeof S=="string"?Ty({[he]:S}):W2(he,S))})});const oe=r3(Q,{key({key:he}){return o3(he)},value({key:he}){return he==="charset"?"charset":"content"},resolveKeyData({key:he}){return MM(he)},resolveValueData({value:he,key:O}){return he===null?"_null":typeof he=="object"?SM(he,O):typeof he=="number"?he.toString():he}});return[...N,...oe].map(he=>(he.content==="_null"&&(he.content=null),he))}async function EM(k,N,Q){const oe={tag:k,props:await u3(typeof N=="object"&&typeof N!="function"&&!(N instanceof Promise)?{...N}:{[["script","noscript","style"].includes(k)?"innerHTML":"textContent"]:N},["templateParams","titleTemplate"].includes(k))};return t3.forEach(he=>{const O=typeof oe.props[he]<"u"?oe.props[he]:Q[he];typeof O<"u"&&((!["innerHTML","textContent","children"].includes(he)||wM.includes(oe.tag))&&(oe[he==="children"?"innerHTML":he]=O),delete oe.props[he])}),oe.props.body&&(oe.tagPosition="bodyClose",delete oe.props.body),oe.tag==="script"&&typeof oe.innerHTML=="object"&&(oe.innerHTML=JSON.stringify(oe.innerHTML),oe.props.type=oe.props.type||"application/json"),Array.isArray(oe.props.content)?oe.props.content.map(he=>({...oe,props:{...oe.props,content:he}})):oe}function LM(k,N){var oe;const Q=k==="class"?" ":";";return typeof N=="object"&&!Array.isArray(N)&&(N=Object.entries(N).filter(([,he])=>he).map(([he,O])=>k==="style"?`${he}:${O}`:he)),(oe=String(Array.isArray(N)?N.join(Q):N))==null?void 0:oe.split(Q).filter(he=>he.trim()).filter(Boolean).join(Q)}async function u3(k,N){for(const Q of Object.keys(k)){if(["class","style"].includes(Q)){k[Q]=LM(Q,k[Q]);continue}if(k[Q]instanceof Promise&&(k[Q]=await k[Q]),!N&&!t3.includes(Q)){const oe=String(k[Q]),he=Q.startsWith("data-");oe==="true"||oe===""?k[Q]=he?"true":!0:k[Q]||(he&&oe==="false"?k[Q]="false":delete k[Q])}}return k}const CM=10;async function PM(k){const N=[];return Object.entries(k.resolvedInput).filter(([Q,oe])=>typeof oe<"u"&&TM.includes(Q)).forEach(([Q,oe])=>{const he=_M(oe);N.push(...he.map(O=>EM(Q,O,k)).flat())}),(await Promise.all(N)).flat().filter(Boolean).map((Q,oe)=>(Q._e=k._i,k.mode&&(Q._m=k.mode),Q._p=(k._i<<CM)+oe,Q))}const Y2={base:-10,title:10},$2={critical:-80,high:-10,low:20};function J0(k){let N=100;const Q=k.tagPriority;return typeof Q=="number"?Q:(k.tag==="meta"?(k.props["http-equiv"]==="content-security-policy"&&(N=-30),k.props.charset&&(N=-20),k.props.name==="viewport"&&(N=-15)):k.tag==="link"&&k.props.rel==="preconnect"?N=20:k.tag in Y2&&(N=Y2[k.tag]),typeof Q=="string"&&Q in $2?N+$2[Q]:N)}const OM=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],Z2=["onload","onerror","onabort","onprogress","onloadstart"],Rc="%separator";function C0(k,N,Q){if(typeof k!="string"||!k.includes("%"))return k;function oe(S){let e;return["s","pageTitle"].includes(S)?e=N.pageTitle:S.includes(".")?e=S.split(".").reduce((v,x)=>v&&v[x]||void 0,N):e=N[S],typeof e<"u"?(e||"").replace(/"/g,'\\"'):!1}let he=k;try{he=decodeURI(k)}catch{}return(he.match(/%(\w+\.+\w+)|%(\w+)/g)||[]).sort().reverse().forEach(S=>{const e=oe(S.slice(1));typeof e=="string"&&(k=k.replace(new RegExp(`\\${S}(\\W|$)`,"g"),(v,x)=>`${e}${x}`).trim())}),k.includes(Rc)&&(k.endsWith(Rc)&&(k=k.slice(0,-Rc.length).trim()),k.startsWith(Rc)&&(k=k.slice(Rc.length).trim()),k=k.replace(new RegExp(`\\${Rc}\\s*\\${Rc}`,"g"),Rc),k=C0(k,{separator:Q},Q)),k}async function c3(k,N={}){var t;const Q=N.document||k.resolvedOptions.document;if(!Q||!k.dirty)return;const oe={shouldRender:!0,tags:[]};if(await k.hooks.callHook("dom:beforeRender",oe),!oe.shouldRender)return;const he=(await k.resolveTags()).map(b=>({tag:b,id:L0.includes(b.tag)?q2(b):b.tag,shouldRender:!0}));let O=k._dom;if(!O){O={elMap:{htmlAttrs:Q.documentElement,bodyAttrs:Q.body}};for(const b of["body","head"]){const g=(t=Q[b])==null?void 0:t.children,c=[];for(const s of[...g].filter(n=>L0.includes(n.tagName.toLowerCase()))){const n={tag:s.tagName.toLowerCase(),props:await u3(s.getAttributeNames().reduce((r,o)=>({...r,[o]:s.getAttribute(o)}),{})),innerHTML:s.innerHTML};let i=1,a=n3(n);for(;a&&c.find(r=>r._d===a);)a=`${a}:${i++}`;n._d=a||void 0,c.push(n),O.elMap[s.getAttribute("data-hid")||q2(n)]=s}}}O.pendingSideEffects={...O.sideEffects||{}},O.sideEffects={};function S(b,g,c){const s=`${b}:${g}`;O.sideEffects[s]=c,delete O.pendingSideEffects[s]}function e({id:b,$el:g,tag:c}){const s=c.tag.endsWith("Attrs");O.elMap[b]=g,s||(["textContent","innerHTML"].forEach(n=>{c[n]&&c[n]!==g[n]&&(g[n]=c[n])}),S(b,"el",()=>{var n;(n=O.elMap[b])==null||n.remove(),delete O.elMap[b]}));for(const[n,i]of Object.entries(c._eventHandlers||{}))g.getAttribute(`data-${n}`)!==""&&((c.tag==="bodyAttrs"?Q.defaultView:g).addEventListener(n.replace("on",""),i.bind(g)),g.setAttribute(`data-${n}`,""));Object.entries(c.props).forEach(([n,i])=>{const a=`attr:${n}`;if(n==="class")for(const r of(i||"").split(" ").filter(Boolean))s&&S(b,`${a}:${r}`,()=>g.classList.remove(r)),!g.classList.contains(r)&&g.classList.add(r);else if(n==="style")for(const r of(i||"").split(";").filter(Boolean)){const[o,...l]=r.split(":").map(u=>u.trim());S(b,`${a}:${r}:${o}`,()=>{g.style.removeProperty(o)}),g.style.setProperty(o,l.join(":"))}else g.getAttribute(n)!==i&&g.setAttribute(n,i===!0?"":String(i)),s&&S(b,a,()=>g.removeAttribute(n))})}const v=[],x={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const b of he){const{tag:g,shouldRender:c,id:s}=b;if(c){if(g.tag==="title"){Q.title=g.textContent;continue}b.$el=b.$el||O.elMap[s],b.$el?e(b):L0.includes(g.tag)&&v.push(b)}}for(const b of v){const g=b.tag.tagPosition||"head";b.$el=Q.createElement(b.tag.tag),e(b),x[g]=x[g]||Q.createDocumentFragment(),x[g].appendChild(b.$el)}for(const b of he)await k.hooks.callHook("dom:renderTag",b,Q,S);x.head&&Q.head.appendChild(x.head),x.bodyOpen&&Q.body.insertBefore(x.bodyOpen,Q.body.firstChild),x.bodyClose&&Q.body.appendChild(x.bodyClose),Object.values(O.pendingSideEffects).forEach(b=>b()),k._dom=O,k.dirty=!1,await k.hooks.callHook("dom:rendered",{renders:he})}async function IM(k,N={}){const Q=N.delayFn||(oe=>setTimeout(oe,10));return k._domUpdatePromise=k._domUpdatePromise||new Promise(oe=>Q(async()=>{await c3(k,N),delete k._domUpdatePromise,oe()}))}function RM(k){return N=>{var oe,he;const Q=((he=(oe=N.resolvedOptions.document)==null?void 0:oe.head.querySelector('script[id="unhead:payload"]'))==null?void 0:he.innerHTML)||!1;return Q&&N.push(JSON.parse(Q)),{mode:"client",hooks:{"entries:updated":function(O){IM(O,k)}}}}}const DM=["templateParams","htmlAttrs","bodyAttrs"],zM={hooks:{"tag:normalise":function({tag:k}){["hid","vmid","key"].forEach(oe=>{k.props[oe]&&(k.key=k.props[oe],delete k.props[oe])});const Q=n3(k)||(k.key?`${k.tag}:${k.key}`:!1);Q&&(k._d=Q)},"tags:resolve":function(k){const N={};k.tags.forEach(oe=>{const he=(oe.key?`${oe.tag}:${oe.key}`:oe._d)||oe._p,O=N[he];if(O){let e=oe==null?void 0:oe.tagDuplicateStrategy;if(!e&&DM.includes(oe.tag)&&(e="merge"),e==="merge"){const v=O.props;["class","style"].forEach(x=>{v[x]&&(oe.props[x]?(x==="style"&&!v[x].endsWith(";")&&(v[x]+=";"),oe.props[x]=`${v[x]} ${oe.props[x]}`):oe.props[x]=v[x])}),N[he].props={...v,...oe.props};return}else if(oe._e===O._e){O._duped=O._duped||[],oe._d=`${O._d}:${O._duped.length+1}`,O._duped.push(oe);return}else if(J0(oe)>J0(O))return}const S=Object.keys(oe.props).length+(oe.innerHTML?1:0)+(oe.textContent?1:0);if(L0.includes(oe.tag)&&S===0){delete N[he];return}N[he]=oe});const Q=[];Object.values(N).forEach(oe=>{const he=oe._duped;delete oe._duped,Q.push(oe),he&&Q.push(...he)}),k.tags=Q,k.tags=k.tags.filter(oe=>!(oe.tag==="meta"&&(oe.props.name||oe.props.property)&&!oe.props.content))}}},FM={mode:"server",hooks:{"tags:resolve":function(k){const N={};k.tags.filter(Q=>["titleTemplate","templateParams","title"].includes(Q.tag)&&Q._m==="server").forEach(Q=>{N[Q.tag]=Q.tag.startsWith("title")?Q.textContent:Q.props}),Object.keys(N).length&&k.tags.push({tag:"script",innerHTML:JSON.stringify(N),props:{id:"unhead:payload",type:"application/json"}})}}},BM=["script","link","bodyAttrs"],NM=k=>({hooks:{"tags:resolve":function(N){for(const Q of N.tags.filter(oe=>BM.includes(oe.tag)))Object.entries(Q.props).forEach(([oe,he])=>{oe.startsWith("on")&&typeof he=="function"&&(k.ssr&&Z2.includes(oe)?Q.props[oe]=`this.dataset.${oe}fired = true`:delete Q.props[oe],Q._eventHandlers=Q._eventHandlers||{},Q._eventHandlers[oe]=he)}),k.ssr&&Q._eventHandlers&&(Q.props.src||Q.props.href)&&(Q.key=Q.key||_y(Q.props.src||Q.props.href))},"dom:renderTag":function({$el:N,tag:Q}){var oe,he;for(const O of Object.keys((N==null?void 0:N.dataset)||{}).filter(S=>Z2.some(e=>`${e}fired`===S))){const S=O.replace("fired","");(he=(oe=Q._eventHandlers)==null?void 0:oe[S])==null||he.call(N,new Event(S.replace("on","")))}}}}),jM=["link","style","script","noscript"],UM={hooks:{"tag:normalise":({tag:k})=>{k.key&&jM.includes(k.tag)&&(k.props["data-hid"]=k._h=_y(k.key))}}},VM={hooks:{"tags:resolve":k=>{const N=Q=>{var oe;return(oe=k.tags.find(he=>he._d===Q))==null?void 0:oe._p};for(const{prefix:Q,offset:oe}of OM)for(const he of k.tags.filter(O=>typeof O.tagPriority=="string"&&O.tagPriority.startsWith(Q))){const O=N(he.tagPriority.replace(Q,""));typeof O<"u"&&(he._p=O+oe)}k.tags.sort((Q,oe)=>Q._p-oe._p).sort((Q,oe)=>J0(Q)-J0(oe))}}},HM={meta:"content",link:"href",htmlAttrs:"lang"},qM=k=>({hooks:{"tags:resolve":N=>{var e;const{tags:Q}=N,oe=(e=Q.find(v=>v.tag==="title"))==null?void 0:e.textContent,he=Q.findIndex(v=>v.tag==="templateParams"),O=he!==-1?Q[he].props:{},S=O.separator||"|";delete O.separator,O.pageTitle=C0(O.pageTitle||oe||"",O,S);for(const v of Q.filter(x=>x.processTemplateParams!==!1)){const x=HM[v.tag];x&&typeof v.props[x]=="string"?v.props[x]=C0(v.props[x],O,S):(v.processTemplateParams===!0||["titleTemplate","title"].includes(v.tag))&&["innerHTML","textContent"].forEach(t=>{typeof v[t]=="string"&&(v[t]=C0(v[t],O,S))})}k._templateParams=O,k._separator=S,N.tags=Q.filter(v=>v.tag!=="templateParams")}}}),GM={hooks:{"tags:resolve":k=>{const{tags:N}=k;let Q=N.findIndex(he=>he.tag==="titleTemplate");const oe=N.findIndex(he=>he.tag==="title");if(oe!==-1&&Q!==-1){const he=G2(N[Q].textContent,N[oe].textContent);he!==null?N[oe].textContent=he||N[oe].textContent:delete N[oe]}else if(Q!==-1){const he=G2(N[Q].textContent);he!==null&&(N[Q].textContent=he,N[Q].tag="title",Q=-1)}Q!==-1&&delete N[Q],k.tags=N.filter(Boolean)}}},WM={hooks:{"tags:afterResolve":function(k){for(const N of k.tags)typeof N.innerHTML=="string"&&(N.innerHTML&&["application/ld+json","application/json"].includes(N.props.type)?N.innerHTML=N.innerHTML.replace(/</g,"\\u003C"):N.innerHTML=N.innerHTML.replace(new RegExp(`</${N.tag}`,"g"),`<\\/${N.tag}`))}}};let f3;function YM(k={}){const N=$M(k);return N.use(RM()),f3=N}function X2(k,N){return!k||k==="server"&&N||k==="client"&&!N}function $M(k={}){const N=Hw();N.addHooks(k.hooks||{}),k.document=k.document||(AM?document:void 0);const Q=!k.document,oe=()=>{e.dirty=!0,N.callHook("entries:updated",e)};let he=0,O=[];const S=[],e={plugins:S,dirty:!1,resolvedOptions:k,hooks:N,headEntries(){return O},use(v){const x=typeof v=="function"?v(e):v;(!x.key||!S.some(t=>t.key===x.key))&&(S.push(x),X2(x.mode,Q)&&N.addHooks(x.hooks||{}))},push(v,x){x==null||delete x.head;const t={_i:he++,input:v,...x};return X2(t.mode,Q)&&(O.push(t),oe()),{dispose(){O=O.filter(b=>b._i!==t._i),N.callHook("entries:updated",e),oe()},patch(b){O=O.map(g=>(g._i===t._i&&(g.input=t.input=b),g)),oe()}}},async resolveTags(){const v={tags:[],entries:[...O]};await N.callHook("entries:resolve",v);for(const x of v.entries){const t=x.resolvedInput||x.input;if(x.resolvedInput=await(x.transform?x.transform(t):t),x.resolvedInput)for(const b of await PM(x)){const g={tag:b,entry:x,resolvedOptions:e.resolvedOptions};await N.callHook("tag:normalise",g),v.tags.push(g.tag)}}return await N.callHook("tags:beforeResolve",v),await N.callHook("tags:resolve",v),await N.callHook("tags:afterResolve",v),v.tags},ssr:Q};return[zM,FM,NM,UM,VM,qM,GM,WM,...(k==null?void 0:k.plugins)||[]].forEach(v=>e.use(v)),e.hooks.callHook("init",e),e}function ZM(){return f3}const XM=Ew.startsWith("3");function KM(k){return typeof k=="function"?k():Fn(k)}function Q0(k,N=""){if(k instanceof Promise)return k;const Q=KM(k);return!k||!Q?Q:Array.isArray(Q)?Q.map(oe=>Q0(oe,N)):typeof Q=="object"?Object.fromEntries(Object.entries(Q).map(([oe,he])=>oe==="titleTemplate"||oe.startsWith("on")?[oe,Fn(he)]:[oe,Q0(he,oe)])):Q}const JM={hooks:{"entries:resolve":function(k){for(const N of k.entries)N.resolvedInput=Q0(N.input)}}},h3="usehead";function QM(k){return{install(Q){XM&&(Q.config.globalProperties.$unhead=k,Q.config.globalProperties.$head=k,Q.provide(h3,k))}}.install}function eS(k={}){k.domDelayFn=k.domDelayFn||(Q=>gc(()=>setTimeout(()=>Q(),0)));const N=YM(k);return N.use(JM),N.install=QM(N),N}const _m=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wm="__unhead_injection_handler__";function tS(k){_m[wm]=k}function nS(){if(wm in _m)return _m[wm]();const k=Oi(h3);return k||ZM()}function hd(k,N={}){const Q=N.head||nS();if(Q)return Q.ssr?Q.push(k,N):rS(Q,k,N)}function rS(k,N,Q={}){const oe=wr(!1),he=wr({});fo(()=>{he.value=oe.value?{}:Q0(N)});const O=k.push(he.value,Q);return na(he,e=>{O.patch(e)}),Ml()&&(od(()=>{O.dispose()}),dw(()=>{oe.value=!0}),pw(()=>{oe.value=!1})),O}function p3(k,N){const{title:Q,titleTemplate:oe,...he}=k;return hd({title:Q,titleTemplate:oe,_flatMeta:he},{...N,transform(O){const S=Ty({...O._flatMeta});return delete O._flatMeta,{...O,meta:S}}})}let P0,O0;function iS(){return P0=$fetch(xy(`builds/meta/${wu().app.buildId}.json`),{responseType:"json"}),P0.then(k=>{O0=rM(k.matcher)}).catch(k=>{console.error("[nuxt] Error fetching app manifest.",k)}),P0}function mg(){return P0||iS()}async function ky(k){if(await mg(),!O0)return console.error("[nuxt] Error creating app manifest matcher.",O0),{};try{return gg({},...O0.matchAll(k).reverse())}catch(N){return console.error("[nuxt] Error matching route rules.",N),{}}}async function K2(k,N={}){const Q=await oS(k,N),oe=Yi(),he=oe._payloadCache=oe._payloadCache||{};return Q in he||(he[Q]=g3(k).then(O=>O?d3(Q).then(S=>S||(delete he[Q],null)):(he[Q]=null,null))),he[Q]}const aS="_payload.json";async function oS(k,N={}){const Q=new URL(k,"http://localhost");if(Q.host!=="localhost"||mc(Q.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+k);const oe=wu(),he=N.hash||(N.fresh?Date.now():oe.app.buildId),O=oe.app.cdnURL,S=O&&await g3(k)?O:oe.app.baseURL;return cd(S,Q.pathname,aS+(he?`?${he}`:""))}async function d3(k){const N=fetch(k).then(Q=>Q.text().then(v3));try{return await N}catch(Q){console.warn("[nuxt] Cannot load payload ",k,Q)}return null}async function g3(k=pc().path){if(k=ud(k),(await mg()).prerendered.includes(k))return!0;const Q=await ky(k);return!!Q.prerender&&!Q.redirect}let x0=null;async function sS(){if(x0)return x0;const k=document.getElementById("__NUXT_DATA__");if(!k)return{};const N=await v3(k.textContent||""),Q=k.dataset.src?await d3(k.dataset.src):void 0;return x0={...N,...Q,...window.__NUXT__},x0}async function v3(k){return await xM(k,Yi()._payloadRevivers)}function lS(k,N){Yi()._payloadRevivers[k]=N}const J2={NuxtError:k=>fd(k),EmptyShallowRef:k=>hc(k==="_"?void 0:k==="0n"?BigInt(0):Wp(k)),EmptyRef:k=>wr(k==="_"?void 0:k==="0n"?BigInt(0):Wp(k)),ShallowRef:k=>hc(k),ShallowReactive:k=>lc(k),Ref:k=>wr(k),Reactive:k=>_u(k)},uS=zo({name:"nuxt:revive-payload:client",order:-30,async setup(k){let N,Q;for(const oe in J2)lS(oe,J2[oe]);Object.assign(k.payload,([N,Q]=Yp(()=>k.runWithContext(sS)),N=await N,Q(),N)),window.__NUXT__=k.payload}}),cS=[],fS=zo({name:"nuxt:head",enforce:"pre",setup(k){const N=eS({plugins:cS});tS(()=>Yi().vueApp._context.provides.usehead),k.vueApp.use(N);{let Q=!0;const oe=async()=>{Q=!1,await c3(N)};N.hooks.hook("dom:beforeRender",he=>{he.shouldRender=!Q}),k.hooks.hook("page:start",()=>{Q=!0}),k.hooks.hook("page:finish",()=>{k.isHydrating||oe()}),k.hooks.hook("app:error",oe),k.hooks.hook("app:suspense:resolve",oe)}}});/*!
  * vue-router v4.3.3
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const dh=typeof document<"u";function hS(k){return k.__esModule||k[Symbol.toStringTag]==="Module"}const ha=Object.assign;function Ev(k,N){const Q={};for(const oe in N){const he=N[oe];Q[oe]=yu(he)?he.map(k):k(he)}return Q}const Rp=()=>{},yu=Array.isArray,m3=/#/g,pS=/&/g,dS=/\//g,gS=/=/g,vS=/\?/g,y3=/\+/g,mS=/%5B/g,yS=/%5D/g,x3=/%5E/g,xS=/%60/g,b3=/%7B/g,bS=/%7C/g,_3=/%7D/g,_S=/%20/g;function Ay(k){return encodeURI(""+k).replace(bS,"|").replace(mS,"[").replace(yS,"]")}function wS(k){return Ay(k).replace(b3,"{").replace(_3,"}").replace(x3,"^")}function Tm(k){return Ay(k).replace(y3,"%2B").replace(_S,"+").replace(m3,"%23").replace(pS,"%26").replace(xS,"`").replace(b3,"{").replace(_3,"}").replace(x3,"^")}function TS(k){return Tm(k).replace(gS,"%3D")}function kS(k){return Ay(k).replace(m3,"%23").replace(vS,"%3F")}function AS(k){return k==null?"":kS(k).replace(dS,"%2F")}function Zp(k){try{return decodeURIComponent(""+k)}catch{}return""+k}const MS=/\/$/,SS=k=>k.replace(MS,"");function Lv(k,N,Q="/"){let oe,he={},O="",S="";const e=N.indexOf("#");let v=N.indexOf("?");return e<v&&e>=0&&(v=-1),v>-1&&(oe=N.slice(0,v),O=N.slice(v+1,e>-1?e:N.length),he=k(O)),e>-1&&(oe=oe||N.slice(0,e),S=N.slice(e,N.length)),oe=PS(oe??N,Q),{fullPath:oe+(O&&"?")+O+S,path:oe,query:he,hash:Zp(S)}}function ES(k,N){const Q=N.query?k(N.query):"";return N.path+(Q&&"?")+Q+(N.hash||"")}function Q2(k,N){return!N||!k.toLowerCase().startsWith(N.toLowerCase())?k:k.slice(N.length)||"/"}function LS(k,N,Q){const oe=N.matched.length-1,he=Q.matched.length-1;return oe>-1&&oe===he&&Ch(N.matched[oe],Q.matched[he])&&w3(N.params,Q.params)&&k(N.query)===k(Q.query)&&N.hash===Q.hash}function Ch(k,N){return(k.aliasOf||k)===(N.aliasOf||N)}function w3(k,N){if(Object.keys(k).length!==Object.keys(N).length)return!1;for(const Q in k)if(!CS(k[Q],N[Q]))return!1;return!0}function CS(k,N){return yu(k)?eb(k,N):yu(N)?eb(N,k):k===N}function eb(k,N){return yu(N)?k.length===N.length&&k.every((Q,oe)=>Q===N[oe]):k.length===1&&k[0]===N}function PS(k,N){if(k.startsWith("/"))return k;if(!k)return N;const Q=N.split("/"),oe=k.split("/"),he=oe[oe.length-1];(he===".."||he===".")&&oe.push("");let O=Q.length-1,S,e;for(S=0;S<oe.length;S++)if(e=oe[S],e!==".")if(e==="..")O>1&&O--;else break;return Q.slice(0,O).join("/")+"/"+oe.slice(S).join("/")}var Xp;(function(k){k.pop="pop",k.push="push"})(Xp||(Xp={}));var Dp;(function(k){k.back="back",k.forward="forward",k.unknown=""})(Dp||(Dp={}));function OS(k){if(!k)if(dh){const N=document.querySelector("base");k=N&&N.getAttribute("href")||"/",k=k.replace(/^\w+:\/\/[^\/]+/,"")}else k="/";return k[0]!=="/"&&k[0]!=="#"&&(k="/"+k),SS(k)}const IS=/^[^#]+#/;function RS(k,N){return k.replace(IS,"#")+N}function DS(k,N){const Q=document.documentElement.getBoundingClientRect(),oe=k.getBoundingClientRect();return{behavior:N.behavior,left:oe.left-Q.left-(N.left||0),top:oe.top-Q.top-(N.top||0)}}const yg=()=>({left:window.scrollX,top:window.scrollY});function zS(k){let N;if("el"in k){const Q=k.el,oe=typeof Q=="string"&&Q.startsWith("#"),he=typeof Q=="string"?oe?document.getElementById(Q.slice(1)):document.querySelector(Q):Q;if(!he)return;N=DS(he,k)}else N=k;"scrollBehavior"in document.documentElement.style?window.scrollTo(N):window.scrollTo(N.left!=null?N.left:window.scrollX,N.top!=null?N.top:window.scrollY)}function tb(k,N){return(history.state?history.state.position-N:-1)+k}const km=new Map;function FS(k,N){km.set(k,N)}function BS(k){const N=km.get(k);return km.delete(k),N}let NS=()=>location.protocol+"//"+location.host;function T3(k,N){const{pathname:Q,search:oe,hash:he}=N,O=k.indexOf("#");if(O>-1){let e=he.includes(k.slice(O))?k.slice(O).length:1,v=he.slice(e);return v[0]!=="/"&&(v="/"+v),Q2(v,"")}return Q2(Q,k)+oe+he}function jS(k,N,Q,oe){let he=[],O=[],S=null;const e=({state:g})=>{const c=T3(k,location),s=Q.value,n=N.value;let i=0;if(g){if(Q.value=c,N.value=g,S&&S===s){S=null;return}i=n?g.position-n.position:0}else oe(c);he.forEach(a=>{a(Q.value,s,{delta:i,type:Xp.pop,direction:i?i>0?Dp.forward:Dp.back:Dp.unknown})})};function v(){S=Q.value}function x(g){he.push(g);const c=()=>{const s=he.indexOf(g);s>-1&&he.splice(s,1)};return O.push(c),c}function t(){const{history:g}=window;g.state&&g.replaceState(ha({},g.state,{scroll:yg()}),"")}function b(){for(const g of O)g();O=[],window.removeEventListener("popstate",e),window.removeEventListener("beforeunload",t)}return window.addEventListener("popstate",e),window.addEventListener("beforeunload",t,{passive:!0}),{pauseListeners:v,listen:x,destroy:b}}function nb(k,N,Q,oe=!1,he=!1){return{back:k,current:N,forward:Q,replaced:oe,position:window.history.length,scroll:he?yg():null}}function US(k){const{history:N,location:Q}=window,oe={value:T3(k,Q)},he={value:N.state};he.value||O(oe.value,{back:null,current:oe.value,forward:null,position:N.length-1,replaced:!0,scroll:null},!0);function O(v,x,t){const b=k.indexOf("#"),g=b>-1?(Q.host&&document.querySelector("base")?k:k.slice(b))+v:NS()+k+v;try{N[t?"replaceState":"pushState"](x,"",g),he.value=x}catch(c){console.error(c),Q[t?"replace":"assign"](g)}}function S(v,x){const t=ha({},N.state,nb(he.value.back,v,he.value.forward,!0),x,{position:he.value.position});O(v,t,!0),oe.value=v}function e(v,x){const t=ha({},he.value,N.state,{forward:v,scroll:yg()});O(t.current,t,!0);const b=ha({},nb(oe.value,v,null),{position:t.position+1},x);O(v,b,!1),oe.value=v}return{location:oe,state:he,push:e,replace:S}}function k3(k){k=OS(k);const N=US(k),Q=jS(k,N.state,N.location,N.replace);function oe(O,S=!0){S||Q.pauseListeners(),history.go(O)}const he=ha({location:"",base:k,go:oe,createHref:RS.bind(null,k)},N,Q);return Object.defineProperty(he,"location",{enumerable:!0,get:()=>N.location.value}),Object.defineProperty(he,"state",{enumerable:!0,get:()=>N.state.value}),he}function VS(k){return k=location.host?k||location.pathname+location.search:"",k.includes("#")||(k+="#"),k3(k)}function HS(k){return typeof k=="string"||k&&typeof k=="object"}function A3(k){return typeof k=="string"||typeof k=="symbol"}const vu={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},M3=Symbol("");var rb;(function(k){k[k.aborted=4]="aborted",k[k.cancelled=8]="cancelled",k[k.duplicated=16]="duplicated"})(rb||(rb={}));function Ph(k,N){return ha(new Error,{type:k,[M3]:!0},N)}function nc(k,N){return k instanceof Error&&M3 in k&&(N==null||!!(k.type&N))}const ib="[^/]+?",qS={sensitive:!1,strict:!1,start:!0,end:!0},GS=/[.+*?^${}()[\]/\\]/g;function WS(k,N){const Q=ha({},qS,N),oe=[];let he=Q.start?"^":"";const O=[];for(const x of k){const t=x.length?[]:[90];Q.strict&&!x.length&&(he+="/");for(let b=0;b<x.length;b++){const g=x[b];let c=40+(Q.sensitive?.25:0);if(g.type===0)b||(he+="/"),he+=g.value.replace(GS,"\\$&"),c+=40;else if(g.type===1){const{value:s,repeatable:n,optional:i,regexp:a}=g;O.push({name:s,repeatable:n,optional:i});const r=a||ib;if(r!==ib){c+=10;try{new RegExp(`(${r})`)}catch(l){throw new Error(`Invalid custom RegExp for param "${s}" (${r}): `+l.message)}}let o=n?`((?:${r})(?:/(?:${r}))*)`:`(${r})`;b||(o=i&&x.length<2?`(?:/${o})`:"/"+o),i&&(o+="?"),he+=o,c+=20,i&&(c+=-8),n&&(c+=-20),r===".*"&&(c+=-50)}t.push(c)}oe.push(t)}if(Q.strict&&Q.end){const x=oe.length-1;oe[x][oe[x].length-1]+=.7000000000000001}Q.strict||(he+="/?"),Q.end?he+="$":Q.strict&&(he+="(?:/|$)");const S=new RegExp(he,Q.sensitive?"":"i");function e(x){const t=x.match(S),b={};if(!t)return null;for(let g=1;g<t.length;g++){const c=t[g]||"",s=O[g-1];b[s.name]=c&&s.repeatable?c.split("/"):c}return b}function v(x){let t="",b=!1;for(const g of k){(!b||!t.endsWith("/"))&&(t+="/"),b=!1;for(const c of g)if(c.type===0)t+=c.value;else if(c.type===1){const{value:s,repeatable:n,optional:i}=c,a=s in x?x[s]:"";if(yu(a)&&!n)throw new Error(`Provided param "${s}" is an array but it is not repeatable (* or + modifiers)`);const r=yu(a)?a.join("/"):a;if(!r)if(i)g.length<2&&(t.endsWith("/")?t=t.slice(0,-1):b=!0);else throw new Error(`Missing required param "${s}"`);t+=r}}return t||"/"}return{re:S,score:oe,keys:O,parse:e,stringify:v}}function YS(k,N){let Q=0;for(;Q<k.length&&Q<N.length;){const oe=N[Q]-k[Q];if(oe)return oe;Q++}return k.length<N.length?k.length===1&&k[0]===80?-1:1:k.length>N.length?N.length===1&&N[0]===80?1:-1:0}function S3(k,N){let Q=0;const oe=k.score,he=N.score;for(;Q<oe.length&&Q<he.length;){const O=YS(oe[Q],he[Q]);if(O)return O;Q++}if(Math.abs(he.length-oe.length)===1){if(ab(oe))return 1;if(ab(he))return-1}return he.length-oe.length}function ab(k){const N=k[k.length-1];return k.length>0&&N[N.length-1]<0}const $S={type:0,value:""},ZS=/[a-zA-Z0-9_]/;function XS(k){if(!k)return[[]];if(k==="/")return[[$S]];if(!k.startsWith("/"))throw new Error(`Invalid path "${k}"`);function N(c){throw new Error(`ERR (${Q})/"${x}": ${c}`)}let Q=0,oe=Q;const he=[];let O;function S(){O&&he.push(O),O=[]}let e=0,v,x="",t="";function b(){x&&(Q===0?O.push({type:0,value:x}):Q===1||Q===2||Q===3?(O.length>1&&(v==="*"||v==="+")&&N(`A repeatable param (${x}) must be alone in its segment. eg: '/:ids+.`),O.push({type:1,value:x,regexp:t,repeatable:v==="*"||v==="+",optional:v==="*"||v==="?"})):N("Invalid state to consume buffer"),x="")}function g(){x+=v}for(;e<k.length;){if(v=k[e++],v==="\\"&&Q!==2){oe=Q,Q=4;continue}switch(Q){case 0:v==="/"?(x&&b(),S()):v===":"?(b(),Q=1):g();break;case 4:g(),Q=oe;break;case 1:v==="("?Q=2:ZS.test(v)?g():(b(),Q=0,v!=="*"&&v!=="?"&&v!=="+"&&e--);break;case 2:v===")"?t[t.length-1]=="\\"?t=t.slice(0,-1)+v:Q=3:t+=v;break;case 3:b(),Q=0,v!=="*"&&v!=="?"&&v!=="+"&&e--,t="";break;default:N("Unknown state");break}}return Q===2&&N(`Unfinished custom RegExp for param "${x}"`),b(),S(),he}function KS(k,N,Q){const oe=WS(XS(k.path),Q),he=ha(oe,{record:k,parent:N,children:[],alias:[]});return N&&!he.record.aliasOf==!N.record.aliasOf&&N.children.push(he),he}function JS(k,N){const Q=[],oe=new Map;N=lb({strict:!1,end:!0,sensitive:!1},N);function he(t){return oe.get(t)}function O(t,b,g){const c=!g,s=QS(t);s.aliasOf=g&&g.record;const n=lb(N,t),i=[s];if("alias"in t){const o=typeof t.alias=="string"?[t.alias]:t.alias;for(const l of o)i.push(ha({},s,{components:g?g.record.components:s.components,path:l,aliasOf:g?g.record:s}))}let a,r;for(const o of i){const{path:l}=o;if(b&&l[0]!=="/"){const u=b.record.path,h=u[u.length-1]==="/"?"":"/";o.path=b.record.path+(l&&h+l)}if(a=KS(o,b,n),g?g.alias.push(a):(r=r||a,r!==a&&r.alias.push(a),c&&t.name&&!sb(a)&&S(t.name)),E3(a)&&v(a),s.children){const u=s.children;for(let h=0;h<u.length;h++)O(u[h],a,g&&g.children[h])}g=g||a}return r?()=>{S(r)}:Rp}function S(t){if(A3(t)){const b=oe.get(t);b&&(oe.delete(t),Q.splice(Q.indexOf(b),1),b.children.forEach(S),b.alias.forEach(S))}else{const b=Q.indexOf(t);b>-1&&(Q.splice(b,1),t.record.name&&oe.delete(t.record.name),t.children.forEach(S),t.alias.forEach(S))}}function e(){return Q}function v(t){const b=n7(t,Q);Q.splice(b,0,t),t.record.name&&!sb(t)&&oe.set(t.record.name,t)}function x(t,b){let g,c={},s,n;if("name"in t&&t.name){if(g=oe.get(t.name),!g)throw Ph(1,{location:t});n=g.record.name,c=ha(ob(b.params,g.keys.filter(r=>!r.optional).concat(g.parent?g.parent.keys.filter(r=>r.optional):[]).map(r=>r.name)),t.params&&ob(t.params,g.keys.map(r=>r.name))),s=g.stringify(c)}else if(t.path!=null)s=t.path,g=Q.find(r=>r.re.test(s)),g&&(c=g.parse(s),n=g.record.name);else{if(g=b.name?oe.get(b.name):Q.find(r=>r.re.test(b.path)),!g)throw Ph(1,{location:t,currentLocation:b});n=g.record.name,c=ha({},b.params,t.params),s=g.stringify(c)}const i=[];let a=g;for(;a;)i.unshift(a.record),a=a.parent;return{name:n,path:s,params:c,matched:i,meta:t7(i)}}return k.forEach(t=>O(t)),{addRoute:O,resolve:x,removeRoute:S,getRoutes:e,getRecordMatcher:he}}function ob(k,N){const Q={};for(const oe of N)oe in k&&(Q[oe]=k[oe]);return Q}function QS(k){return{path:k.path,redirect:k.redirect,name:k.name,meta:k.meta||{},aliasOf:void 0,beforeEnter:k.beforeEnter,props:e7(k),children:k.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in k?k.components||null:k.component&&{default:k.component}}}function e7(k){const N={},Q=k.props||!1;if("component"in k)N.default=Q;else for(const oe in k.components)N[oe]=typeof Q=="object"?Q[oe]:Q;return N}function sb(k){for(;k;){if(k.record.aliasOf)return!0;k=k.parent}return!1}function t7(k){return k.reduce((N,Q)=>ha(N,Q.meta),{})}function lb(k,N){const Q={};for(const oe in k)Q[oe]=oe in N?N[oe]:k[oe];return Q}function n7(k,N){let Q=0,oe=N.length;for(;Q!==oe;){const O=Q+oe>>1;S3(k,N[O])<0?oe=O:Q=O+1}const he=r7(k);return he&&(oe=N.lastIndexOf(he,oe-1)),oe}function r7(k){let N=k;for(;N=N.parent;)if(E3(N)&&S3(k,N)===0)return N}function E3({record:k}){return!!(k.name||k.components&&Object.keys(k.components).length||k.redirect)}function i7(k){const N={};if(k===""||k==="?")return N;const oe=(k[0]==="?"?k.slice(1):k).split("&");for(let he=0;he<oe.length;++he){const O=oe[he].replace(y3," "),S=O.indexOf("="),e=Zp(S<0?O:O.slice(0,S)),v=S<0?null:Zp(O.slice(S+1));if(e in N){let x=N[e];yu(x)||(x=N[e]=[x]),x.push(v)}else N[e]=v}return N}function ub(k){let N="";for(let Q in k){const oe=k[Q];if(Q=TS(Q),oe==null){oe!==void 0&&(N+=(N.length?"&":"")+Q);continue}(yu(oe)?oe.map(O=>O&&Tm(O)):[oe&&Tm(oe)]).forEach(O=>{O!==void 0&&(N+=(N.length?"&":"")+Q,O!=null&&(N+="="+O))})}return N}function a7(k){const N={};for(const Q in k){const oe=k[Q];oe!==void 0&&(N[Q]=yu(oe)?oe.map(he=>he==null?null:""+he):oe==null?oe:""+oe)}return N}const o7=Symbol(""),cb=Symbol(""),My=Symbol(""),Sy=Symbol(""),Am=Symbol("");function mp(){let k=[];function N(oe){return k.push(oe),()=>{const he=k.indexOf(oe);he>-1&&k.splice(he,1)}}function Q(){k=[]}return{add:N,list:()=>k.slice(),reset:Q}}function Uc(k,N,Q,oe,he,O=S=>S()){const S=oe&&(oe.enterCallbacks[he]=oe.enterCallbacks[he]||[]);return()=>new Promise((e,v)=>{const x=g=>{g===!1?v(Ph(4,{from:Q,to:N})):g instanceof Error?v(g):HS(g)?v(Ph(2,{from:N,to:g})):(S&&oe.enterCallbacks[he]===S&&typeof g=="function"&&S.push(g),e())},t=O(()=>k.call(oe&&oe.instances[he],N,Q,x));let b=Promise.resolve(t);k.length<3&&(b=b.then(x)),b.catch(g=>v(g))})}function Cv(k,N,Q,oe,he=O=>O()){const O=[];for(const S of k)for(const e in S.components){let v=S.components[e];if(!(N!=="beforeRouteEnter"&&!S.instances[e]))if(s7(v)){const t=(v.__vccOpts||v)[N];t&&O.push(Uc(t,Q,oe,S,e,he))}else{let x=v();O.push(()=>x.then(t=>{if(!t)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${S.path}"`));const b=hS(t)?t.default:t;S.components[e]=b;const c=(b.__vccOpts||b)[N];return c&&Uc(c,Q,oe,S,e,he)()}))}}return O}function s7(k){return typeof k=="object"||"displayName"in k||"props"in k||"__vccOpts"in k}function fb(k){const N=Oi(My),Q=Oi(Sy),oe=cr(()=>{const v=Fn(k.to);return N.resolve(v)}),he=cr(()=>{const{matched:v}=oe.value,{length:x}=v,t=v[x-1],b=Q.matched;if(!t||!b.length)return-1;const g=b.findIndex(Ch.bind(null,t));if(g>-1)return g;const c=hb(v[x-2]);return x>1&&hb(t)===c&&b[b.length-1].path!==c?b.findIndex(Ch.bind(null,v[x-2])):g}),O=cr(()=>he.value>-1&&f7(Q.params,oe.value.params)),S=cr(()=>he.value>-1&&he.value===Q.matched.length-1&&w3(Q.params,oe.value.params));function e(v={}){return c7(v)?N[Fn(k.replace)?"replace":"push"](Fn(k.to)).catch(Rp):Promise.resolve()}return{route:oe,href:cr(()=>oe.value.href),isActive:O,isExactActive:S,navigate:e}}const l7=Kr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:fb,setup(k,{slots:N}){const Q=_u(fb(k)),{options:oe}=Oi(My),he=cr(()=>({[pb(k.activeClass,oe.linkActiveClass,"router-link-active")]:Q.isActive,[pb(k.exactActiveClass,oe.linkExactActiveClass,"router-link-exact-active")]:Q.isExactActive}));return()=>{const O=N.default&&N.default(Q);return k.custom?O:hi("a",{"aria-current":Q.isExactActive?k.ariaCurrentValue:null,href:Q.href,onClick:Q.navigate,class:he.value},O)}}}),u7=l7;function c7(k){if(!(k.metaKey||k.altKey||k.ctrlKey||k.shiftKey)&&!k.defaultPrevented&&!(k.button!==void 0&&k.button!==0)){if(k.currentTarget&&k.currentTarget.getAttribute){const N=k.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(N))return}return k.preventDefault&&k.preventDefault(),!0}}function f7(k,N){for(const Q in N){const oe=N[Q],he=k[Q];if(typeof oe=="string"){if(oe!==he)return!1}else if(!yu(he)||he.length!==oe.length||oe.some((O,S)=>O!==he[S]))return!1}return!0}function hb(k){return k?k.aliasOf?k.aliasOf.path:k.path:""}const pb=(k,N,Q)=>k??N??Q,h7=Kr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(k,{attrs:N,slots:Q}){const oe=Oi(Am),he=cr(()=>k.route||oe.value),O=Oi(cb,0),S=cr(()=>{let x=Fn(O);const{matched:t}=he.value;let b;for(;(b=t[x])&&!b.components;)x++;return x}),e=cr(()=>he.value.matched[S.value]);Ta(cb,cr(()=>S.value+1)),Ta(o7,e),Ta(Am,he);const v=wr();return na(()=>[v.value,e.value,k.name],([x,t,b],[g,c,s])=>{t&&(t.instances[b]=x,c&&c!==t&&x&&x===g&&(t.leaveGuards.size||(t.leaveGuards=c.leaveGuards),t.updateGuards.size||(t.updateGuards=c.updateGuards))),x&&t&&(!c||!Ch(t,c)||!g)&&(t.enterCallbacks[b]||[]).forEach(n=>n(x))},{flush:"post"}),()=>{const x=he.value,t=k.name,b=e.value,g=b&&b.components[t];if(!g)return db(Q.default,{Component:g,route:x});const c=b.props[t],s=c?c===!0?x.params:typeof c=="function"?c(x):c:null,i=hi(g,ha({},s,N,{onVnodeUnmounted:a=>{a.component.isUnmounted&&(b.instances[t]=null)},ref:v}));return db(Q.default,{Component:i,route:x})||i}}});function db(k,N){if(!k)return null;const Q=k(N);return Q.length===1?Q[0]:Q}const L3=h7;function p7(k){const N=JS(k.routes,k),Q=k.parseQuery||i7,oe=k.stringifyQuery||ub,he=k.history,O=mp(),S=mp(),e=mp(),v=hc(vu);let x=vu;dh&&k.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const t=Ev.bind(null,j=>""+j),b=Ev.bind(null,AS),g=Ev.bind(null,Zp);function c(j,H){let G,ie;return A3(j)?(G=N.getRecordMatcher(j),ie=H):ie=j,N.addRoute(ie,G)}function s(j){const H=N.getRecordMatcher(j);H&&N.removeRoute(H)}function n(){return N.getRoutes().map(j=>j.record)}function i(j){return!!N.getRecordMatcher(j)}function a(j,H){if(H=ha({},H||v.value),typeof j=="string"){const J=Lv(Q,j,H.path),$=N.resolve({path:J.path},H),ae=he.createHref(J.fullPath);return ha(J,$,{params:g($.params),hash:Zp(J.hash),redirectedFrom:void 0,href:ae})}let G;if(j.path!=null)G=ha({},j,{path:Lv(Q,j.path,H.path).path});else{const J=ha({},j.params);for(const $ in J)J[$]==null&&delete J[$];G=ha({},j,{params:b(J)}),H.params=b(H.params)}const ie=N.resolve(G,H),re=j.hash||"";ie.params=t(g(ie.params));const te=ES(oe,ha({},j,{hash:wS(re),path:ie.path})),K=he.createHref(te);return ha({fullPath:te,hash:re,query:oe===ub?a7(j.query):j.query||{}},ie,{redirectedFrom:void 0,href:K})}function r(j){return typeof j=="string"?Lv(Q,j,v.value.path):ha({},j)}function o(j,H){if(x!==j)return Ph(8,{from:H,to:j})}function l(j){return f(j)}function u(j){return l(ha(r(j),{replace:!0}))}function h(j){const H=j.matched[j.matched.length-1];if(H&&H.redirect){const{redirect:G}=H;let ie=typeof G=="function"?G(j):G;return typeof ie=="string"&&(ie=ie.includes("?")||ie.includes("#")?ie=r(ie):{path:ie},ie.params={}),ha({query:j.query,hash:j.hash,params:ie.path!=null?{}:j.params},ie)}}function f(j,H){const G=x=a(j),ie=v.value,re=j.state,te=j.force,K=j.replace===!0,J=h(G);if(J)return f(ha(r(J),{state:typeof J=="object"?ha({},re,J.state):re,force:te,replace:K}),H||G);const $=G;$.redirectedFrom=H;let ae;return!te&&LS(oe,ie,G)&&(ae=Ph(16,{to:$,from:ie}),D(ie,ie,!0,!1)),(ae?Promise.resolve(ae):y($,ie)).catch(ue=>nc(ue)?nc(ue,2)?ue:I(ue):C(ue,$,ie)).then(ue=>{if(ue){if(nc(ue,2))return f(ha({replace:K},r(ue.to),{state:typeof ue.to=="object"?ha({},re,ue.to.state):re,force:te}),H||$)}else ue=w($,ie,!0,K,re);return m($,ie,ue),ue})}function T(j,H){const G=o(j,H);return G?Promise.reject(G):Promise.resolve()}function d(j){const H=z.values().next().value;return H&&typeof H.runWithContext=="function"?H.runWithContext(j):j()}function y(j,H){let G;const[ie,re,te]=d7(j,H);G=Cv(ie.reverse(),"beforeRouteLeave",j,H);for(const J of ie)J.leaveGuards.forEach($=>{G.push(Uc($,j,H))});const K=T.bind(null,j,H);return G.push(K),X(G).then(()=>{G=[];for(const J of O.list())G.push(Uc(J,j,H));return G.push(K),X(G)}).then(()=>{G=Cv(re,"beforeRouteUpdate",j,H);for(const J of re)J.updateGuards.forEach($=>{G.push(Uc($,j,H))});return G.push(K),X(G)}).then(()=>{G=[];for(const J of te)if(J.beforeEnter)if(yu(J.beforeEnter))for(const $ of J.beforeEnter)G.push(Uc($,j,H));else G.push(Uc(J.beforeEnter,j,H));return G.push(K),X(G)}).then(()=>(j.matched.forEach(J=>J.enterCallbacks={}),G=Cv(te,"beforeRouteEnter",j,H,d),G.push(K),X(G))).then(()=>{G=[];for(const J of S.list())G.push(Uc(J,j,H));return G.push(K),X(G)}).catch(J=>nc(J,8)?J:Promise.reject(J))}function m(j,H,G){e.list().forEach(ie=>d(()=>ie(j,H,G)))}function w(j,H,G,ie,re){const te=o(j,H);if(te)return te;const K=H===vu,J=dh?history.state:{};G&&(ie||K?he.replace(j.fullPath,ha({scroll:K&&J&&J.scroll},re)):he.push(j.fullPath,re)),v.value=j,D(j,H,G,K),I()}let _;function A(){_||(_=he.listen((j,H,G)=>{if(!V.listening)return;const ie=a(j),re=h(ie);if(re){f(ha(re,{replace:!0}),ie).catch(Rp);return}x=ie;const te=v.value;dh&&FS(tb(te.fullPath,G.delta),yg()),y(ie,te).catch(K=>nc(K,12)?K:nc(K,2)?(f(K.to,ie).then(J=>{nc(J,20)&&!G.delta&&G.type===Xp.pop&&he.go(-1,!1)}).catch(Rp),Promise.reject()):(G.delta&&he.go(-G.delta,!1),C(K,ie,te))).then(K=>{K=K||w(ie,te,!1),K&&(G.delta&&!nc(K,8)?he.go(-G.delta,!1):G.type===Xp.pop&&nc(K,20)&&he.go(-1,!1)),m(ie,te,K)}).catch(Rp)}))}let p=mp(),L=mp(),M;function C(j,H,G){I(j);const ie=L.list();return ie.length?ie.forEach(re=>re(j,H,G)):console.error(j),Promise.reject(j)}function R(){return M&&v.value!==vu?Promise.resolve():new Promise((j,H)=>{p.add([j,H])})}function I(j){return M||(M=!j,A(),p.list().forEach(([H,G])=>j?G(j):H()),p.reset()),j}function D(j,H,G,ie){const{scrollBehavior:re}=k;if(!dh||!re)return Promise.resolve();const te=!G&&BS(tb(j.fullPath,0))||(ie||!G)&&history.state&&history.state.scroll||null;return gc().then(()=>re(j,H,te)).then(K=>K&&zS(K)).catch(K=>C(K,j,H))}const F=j=>he.go(j);let q;const z=new Set,V={currentRoute:v,listening:!0,addRoute:c,removeRoute:s,hasRoute:i,getRoutes:n,resolve:a,options:k,push:l,replace:u,go:F,back:()=>F(-1),forward:()=>F(1),beforeEach:O.add,beforeResolve:S.add,afterEach:e.add,onError:L.add,isReady:R,install(j){const H=this;j.component("RouterLink",u7),j.component("RouterView",L3),j.config.globalProperties.$router=H,Object.defineProperty(j.config.globalProperties,"$route",{enumerable:!0,get:()=>Fn(v)}),dh&&!q&&v.value===vu&&(q=!0,l(he.location).catch(re=>{}));const G={};for(const re in vu)Object.defineProperty(G,re,{get:()=>v.value[re],enumerable:!0});j.provide(My,H),j.provide(Sy,lc(G)),j.provide(Am,v);const ie=j.unmount;z.add(j),j.unmount=function(){z.delete(j),z.size<1&&(x=vu,_&&_(),_=null,v.value=vu,q=!1,M=!1),ie()}}};function X(j){return j.reduce((H,G)=>H.then(()=>d(G)),Promise.resolve())}return V}function d7(k,N){const Q=[],oe=[],he=[],O=Math.max(N.matched.length,k.matched.length);for(let S=0;S<O;S++){const e=N.matched[S];e&&(k.matched.find(x=>Ch(x,e))?oe.push(e):Q.push(e));const v=k.matched[S];v&&(N.matched.find(x=>Ch(x,v))||he.push(v))}return[Q,oe,he]}function g7(){return Oi(Sy)}const v7=(k,N)=>N.path.replace(/(:\w+)\([^)]+\)/g,"$1").replace(/(:\w+)[?+*]/g,"$1").replace(/:\w+/g,Q=>{var oe;return((oe=k.params[Q.slice(1)])==null?void 0:oe.toString())||""}),Mm=(k,N)=>{const Q=k.route.matched.find(he=>{var O;return((O=he.components)==null?void 0:O.default)===k.Component.type}),oe=N??(Q==null?void 0:Q.meta.key)??(Q&&v7(k.route,Q));return typeof oe=="function"?oe(k.route):oe},m7=(k,N)=>({default:()=>k?hi(Ok,k===!0?{}:k,N):N});function Ey(k){return Array.isArray(k)?k:[k]}const y7="modulepreload",x7=function(k,N){return k[0]==="."?new URL(k,N).href:k},gb={},b7=function(N,Q,oe){let he=Promise.resolve();if(Q&&Q.length>0){const O=document.getElementsByTagName("link"),S=document.querySelector("meta[property=csp-nonce]"),e=(S==null?void 0:S.nonce)||(S==null?void 0:S.getAttribute("nonce"));he=Promise.all(Q.map(v=>{if(v=x7(v,oe),v in gb)return;gb[v]=!0;const x=v.endsWith(".css"),t=x?'[rel="stylesheet"]':"";if(!!oe)for(let c=O.length-1;c>=0;c--){const s=O[c];if(s.href===v&&(!x||s.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${v}"]${t}`))return;const g=document.createElement("link");if(g.rel=x?"stylesheet":y7,x||(g.as="script",g.crossOrigin=""),g.href=v,e&&g.setAttribute("nonce",e),document.head.appendChild(g),x)return new Promise((c,s)=>{g.addEventListener("load",c),g.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${v}`)))})}))}return he.then(()=>N()).catch(O=>{const S=new Event("vite:preloadError",{cancelable:!0});if(S.payload=O,window.dispatchEvent(S),!S.defaultPrevented)throw O})},Ur=(...k)=>b7(...k).catch(N=>{const Q=new Event("nuxt.preloadError");throw Q.payload=N,window.dispatchEvent(Q),N}),_7={layout:"docs"},vb=[{name:"slug",path:"/:slug(.*)*",meta:_7||{},component:()=>Ur(()=>import("./BK29jVmm.js"),__vite__mapDeps([0,1,2,3]),import.meta.url).then(k=>k.default||k)},{name:"about",path:"/about",component:()=>Ur(()=>import("./Csm1FxpS.js"),[],import.meta.url).then(k=>k.default||k)},{name:"contribute",path:"/contribute",component:()=>Ur(()=>import("./BsNVKChx.js"),__vite__mapDeps([4,5]),import.meta.url).then(k=>k.default||k)},{name:"index",path:"/",component:()=>Ur(()=>import("./CgfoXXaf.js").then(k=>k.i),__vite__mapDeps([6,3,7,8,9]),import.meta.url).then(k=>k.default||k)},{name:"plotly-view",path:"/plotly-view",component:()=>Ur(()=>import("./BKEAQDys.js"),[],import.meta.url).then(k=>k.default||k)},{name:"resources_seenote",path:"/resources_seenote",component:()=>Ur(()=>import("./CPvi8saG.js"),__vite__mapDeps([10,11]),import.meta.url).then(k=>k.default||k)},{name:"sandbox",path:"/sandbox",component:()=>Ur(()=>import("./CTEmN3N9.js"),__vite__mapDeps([12,5,13]),import.meta.url).then(k=>k.default||k)},{name:"test",path:"/test",component:()=>Ur(()=>import("./DXppPzIU.js"),__vite__mapDeps([14,15,16,17]),import.meta.url).then(k=>k.default||k)},{name:"tools",path:"/tools",component:()=>Ur(()=>import("./Dyo51Ogr.js"),__vite__mapDeps([18,15,19]),import.meta.url).then(k=>k.default||k)}],C3=(k,N,Q)=>(N=N===!0?{}:N,{default:()=>{var oe;return N?hi(k,N,Q):(oe=Q.default)==null?void 0:oe.call(Q)}});function mb(k){const N=(k==null?void 0:k.meta.key)??k.path.replace(/(:\w+)\([^)]+\)/g,"$1").replace(/(:\w+)[?+*]/g,"$1").replace(/:\w+/g,Q=>{var oe;return((oe=k.params[Q.slice(1)])==null?void 0:oe.toString())||""});return typeof N=="function"?N(k):N}function w7(k,N){return k===N||N===vu?!1:mb(k)!==mb(N)?!0:!k.matched.every((oe,he)=>{var O,S;return oe.components&&oe.components.default===((S=(O=N.matched[he])==null?void 0:O.components)==null?void 0:S.default)})}function yb(k,N=!1){if(k){if(k.nodeName==="#comment"&&k.nodeValue==="[")return P3(k,[],N);if(N){const Q=k.cloneNode(!0);return Q.querySelectorAll("[data-island-slot]").forEach(oe=>{oe.innerHTML=""}),[Q.outerHTML]}return[k.outerHTML]}return null}function P3(k,N=[],Q=!1){if(k&&k.nodeName){if(k7(k))return N;if(!T7(k)){const oe=k.cloneNode(!0);Q&&oe.querySelectorAll("[data-island-slot]").forEach(he=>{he.innerHTML=""}),N.push(oe.outerHTML)}P3(k.nextSibling,N,Q)}return N}function T7(k){return k.nodeName==="#comment"&&k.nodeValue==="["}function k7(k){return k.nodeName==="#comment"&&k.nodeValue==="]"}const A7={scrollBehavior(k,N,Q){var x;const oe=Yi(),he=((x=rl().options)==null?void 0:x.scrollBehaviorType)??"auto";let O=Q||void 0;const S=typeof k.meta.scrollToTop=="function"?k.meta.scrollToTop(k,N):k.meta.scrollToTop;if(!O&&N&&k&&S!==!1&&w7(k,N)&&(O={left:0,top:0}),k.path===N.path)return N.hash&&!k.hash?{left:0,top:0}:k.hash?{el:k.hash,top:xb(k.hash),behavior:he}:!1;const e=t=>!!(t.meta.pageTransition??dm),v=e(N)&&e(k)?"page:transition:finish":"page:finish";return new Promise(t=>{oe.hooks.hookOnce(v,async()=>{await new Promise(b=>setTimeout(b,0)),k.hash&&(O={el:k.hash,top:xb(k.hash),behavior:he}),t(O)})})}};function xb(k){try{const N=document.querySelector(k);if(N)return Number.parseFloat(getComputedStyle(N).scrollMarginTop)}catch{}return 0}function bb(k){const N=document.querySelector(k);if(N){const Q=parseFloat(getComputedStyle(N).scrollMarginTop);return{el:k,behavior:"smooth",top:Q}}}const M7={scrollBehavior(k,N,Q){const oe=Yi();if(!(history.state&&history.state.stop))return history.state&&history.state.smooth?{el:history.state.smooth,behavior:"smooth"}:Q?new Promise(he=>{oe.hooks.hookOnce("page:finish",()=>{setTimeout(()=>he(Q),50)})}):k.hash?new Promise(he=>{k.path===N.path?setTimeout(()=>he(bb(k.hash)),50):oe.hooks.hookOnce("page:finish",()=>{setTimeout(()=>he(bb(k.hash)),50)})}):{top:0}}},S7={hashMode:!1,scrollBehaviorType:"auto"},bl={...S7,...A7,...M7},E7=async k=>{var v;let N,Q;if(!((v=k.meta)!=null&&v.validate))return;const oe=Yi(),he=rl();if(([N,Q]=Yp(()=>Promise.resolve(k.meta.validate(k))),N=await N,Q(),N)===!0)return;const S=fd({statusCode:404,statusMessage:`Page Not Found: ${k.fullPath}`,data:{path:k.fullPath}}),e=he.beforeResolve(x=>{if(e(),x===k){const t=he.afterEach(async()=>{t(),await oe.runWithContext(()=>vh(S)),window.history.pushState({},"",k.fullPath)});return!1}})},L7=async k=>{let N,Q;const oe=([N,Q]=Yp(()=>ky(k.path)),N=await N,Q(),N);if(oe.redirect)return mc(oe.redirect,{acceptRelative:!0})?(window.location.href=oe.redirect,!1):oe.redirect},C7=[E7,L7],zp={};function P7(k,N,Q){const{pathname:oe,search:he,hash:O}=N,S=k.indexOf("#");if(S>-1){const x=O.includes(k.slice(S))?k.slice(S).length:1;let t=O.slice(x);return t[0]!=="/"&&(t="/"+t),O2(t,"")}const e=O2(oe,k),v=!Q||J8(e,Q,{trailingSlash:!0})?e:Q;return v+(v.includes("?")?"":he)+O}const O7=zo({name:"nuxt:router",enforce:"pre",async setup(k){var i,a;let N,Q,oe=wu().app.baseURL;bl.hashMode&&!oe.includes("#")&&(oe+="#");const he=((i=bl.history)==null?void 0:i.call(bl,oe))??(bl.hashMode?VS(oe):k3(oe)),O=((a=bl.routes)==null?void 0:a.call(bl,vb))??vb;let S;const e=p7({...bl,scrollBehavior:(r,o,l)=>{if(o===vu){S=l;return}if(bl.scrollBehavior){if(e.options.scrollBehavior=bl.scrollBehavior,"scrollRestoration"in window.history){const u=e.beforeEach(()=>{u(),window.history.scrollRestoration="manual"})}return bl.scrollBehavior(r,vu,S||l)}},history:he,routes:O});"scrollRestoration"in window.history&&(window.history.scrollRestoration="auto"),k.vueApp.use(e);const v=hc(e.currentRoute.value);e.afterEach((r,o)=>{v.value=o}),Object.defineProperty(k.vueApp.config.globalProperties,"previousRoute",{get:()=>v.value});const x=P7(oe,window.location,k.payload.path),t=hc(e.currentRoute.value),b=()=>{t.value=e.currentRoute.value};k.hook("page:finish",b),e.afterEach((r,o)=>{var l,u,h,f;((u=(l=r.matched[0])==null?void 0:l.components)==null?void 0:u.default)===((f=(h=o.matched[0])==null?void 0:h.components)==null?void 0:f.default)&&b()});const g={};for(const r in t.value)Object.defineProperty(g,r,{get:()=>t.value[r]});k._route=lc(g),k._middleware=k._middleware||{global:[],named:{}};const c=vg();e.afterEach(async(r,o,l)=>{delete k._processingMiddleware,!k.isHydrating&&c.value&&await k.runWithContext(e3),l&&await k.callHook("page:loading:end"),r.matched.length===0&&await k.runWithContext(()=>vh(ym({statusCode:404,fatal:!1,statusMessage:`Page not found: ${r.fullPath}`,data:{path:r.fullPath}})))});try{[N,Q]=Yp(()=>e.isReady()),await N,Q()}catch(r){[N,Q]=Yp(()=>k.runWithContext(()=>vh(r))),await N,Q()}const s=x!==e.currentRoute.value.fullPath?e.resolve(x):e.currentRoute.value;b();const n=k.payload.state._layout;return e.beforeEach(async(r,o)=>{var l;await k.callHook("page:loading:start"),r.meta=_u(r.meta),k.isHydrating&&n&&!Mh(r.meta.layout)&&(r.meta.layout=n),k._processingMiddleware=!0;{const u=new Set([...C7,...k._middleware.global]);for(const h of r.matched){const f=h.meta.middleware;if(f)for(const T of Ey(f))u.add(T)}{const h=await k.runWithContext(()=>ky(r.path));if(h.appMiddleware)for(const f in h.appMiddleware)h.appMiddleware[f]?u.add(f):u.delete(f)}for(const h of u){const f=typeof h=="string"?k._middleware.named[h]||await((l=zp[h])==null?void 0:l.call(zp).then(d=>d.default||d)):h;if(!f)throw new Error(`Unknown route middleware: '${h}'.`);const T=await k.runWithContext(()=>f(r,o));if(!k.payload.serverRendered&&k.isHydrating&&(T===!1||T instanceof Error)){const d=T||ym({statusCode:404,statusMessage:`Page Not Found: ${x}`});return await k.runWithContext(()=>vh(d)),!1}if(T!==!0&&(T||T===!1))return T}}}),e.onError(async()=>{delete k._processingMiddleware,await k.callHook("page:loading:end")}),k.hooks.hookOnce("app:created",async()=>{try{"name"in s&&(s.name=void 0),await e.replace({...s,force:!0}),e.options.scrollBehavior=bl.scrollBehavior}catch(r){await k.runWithContext(()=>vh(r))}}),{provide:{router:e}}}}),Sm=globalThis.requestIdleCallback||(k=>{const N=Date.now(),Q={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-N))};return setTimeout(()=>{k(Q)},1)}),I7=globalThis.cancelIdleCallback||(k=>{clearTimeout(k)}),Ly=k=>{const N=Yi();N.isHydrating?N.hooks.hookOnce("app:suspense:resolve",()=>{Sm(()=>k())}):Sm(()=>k())},R7=zo({name:"nuxt:payload",setup(k){rl().beforeResolve(async(N,Q)=>{if(N.path===Q.path)return;const oe=await K2(N.path);oe&&Object.assign(k.static.data,oe.data)}),Ly(()=>{var N;k.hooks.hook("link:prefetch",async Q=>{const{hostname:oe}=new URL(Q,window.location.href);oe===window.location.hostname&&await K2(Q)}),((N=navigator.connection)==null?void 0:N.effectiveType)!=="slow-2g"&&setTimeout(mg,1e3)})}}),D7=zo(k=>{let N;async function Q(){const oe=await mg();N&&clearTimeout(N),N=setTimeout(Q,F2);try{const he=await $fetch(xy("builds/latest.json")+`?${Date.now()}`);he.id!==oe.id&&k.hooks.callHook("app:manifest:update",he)}catch{}}Ly(()=>{N=setTimeout(Q,F2)})}),z7=Xr(()=>Ur(()=>import("./CfXOGG8q.js"),__vite__mapDeps([20,21]),import.meta.url).then(k=>k.default||k.default||k)),F7=Xr(()=>Ur(()=>import("./BgxY0UIb.js"),[],import.meta.url).then(k=>k.default||k.default||k)),B7=Xr(()=>Ur(()=>import("./DTZuBpMU.js"),__vite__mapDeps([22,23]),import.meta.url).then(k=>k.default||k.default||k)),N7=Xr(()=>Ur(()=>import("./BceDlEIp.js"),[],import.meta.url).then(k=>k.default||k.default||k)),j7=Xr(()=>Ur(()=>import("./DgcATuEO.js"),__vite__mapDeps([24,25]),import.meta.url).then(k=>k.default||k.default||k)),U7=Xr(()=>Ur(()=>import("./BswwkGDC.js"),__vite__mapDeps([26,27]),import.meta.url).then(k=>k.default||k.default||k)),V7=Xr(()=>Ur(()=>import("./BUTJYs8p.js"),__vite__mapDeps([28,29]),import.meta.url).then(k=>k.default||k.default||k)),H7=Xr(()=>Ur(()=>import("./D-bVfl5L.js"),__vite__mapDeps([30,31,7,32]),import.meta.url).then(k=>k.default||k.default||k)),q7=Xr(()=>Ur(()=>import("./CJ-jNicz.js"),__vite__mapDeps([33,31,7,8,32]),import.meta.url).then(k=>k.default||k.default||k)),G7=Xr(()=>Ur(()=>import("./uW_Z6J38.js"),[],import.meta.url).then(k=>k.default||k.default||k)),W7=Xr(()=>Ur(()=>import("./BCpnhRbv.js"),__vite__mapDeps([34,35]),import.meta.url).then(k=>k.default||k.default||k)),Y7=Xr(()=>Ur(()=>import("./CKs5PfIK.js"),__vite__mapDeps([36,31,7,32]),import.meta.url).then(k=>k.default||k.default||k)),$7=Xr(()=>Ur(()=>import("./Dggs10Rx.js"),[],import.meta.url).then(k=>k.default||k.default||k)),Z7=Xr(()=>Ur(()=>import("./CSzmDrOI.js"),[],import.meta.url).then(k=>k.default||k.default||k)),X7=Xr(()=>Ur(()=>import("./k_HN6tZU.js"),[],import.meta.url).then(k=>k.default||k.default||k)),K7=Xr(()=>Ur(()=>import("./D1WUh2Y0.js"),[],import.meta.url).then(k=>k.default||k.default||k)),J7=Xr(()=>Ur(()=>import("./DeSviFF2.js"),__vite__mapDeps([37,38,35,39,40]),import.meta.url).then(k=>k.default||k.default||k)),Q7=Xr(()=>Ur(()=>import("./CISixVox.js"),__vite__mapDeps([41,39]),import.meta.url).then(k=>k.default||k.default||k)),e9=Xr(()=>Ur(()=>import("./BKetJ_NX.js"),__vite__mapDeps([42,35]),import.meta.url).then(k=>k.default||k.default||k)),t9=Xr(()=>Ur(()=>import("./CWkiBmW0.js"),[],import.meta.url).then(k=>k.default||k.default||k)),n9=Xr(()=>Ur(()=>import("./KZ5PNgz6.js"),[],import.meta.url).then(k=>k.default||k.default||k)),r9=Xr(()=>Ur(()=>import("./Bv0n1_n2.js"),[],import.meta.url).then(k=>k.default||k.default||k)),i9=Xr(()=>Ur(()=>import("./mTz3ERTE.js"),[],import.meta.url).then(k=>k.default||k.default||k)),a9=Xr(()=>Ur(()=>import("./BDBgRg6D.js"),__vite__mapDeps([43,1,2,3,44]),import.meta.url).then(k=>k.default||k.default||k)),o9=Xr(()=>Ur(()=>import("./BE3lw7cN.js"),__vite__mapDeps([45,44]),import.meta.url).then(k=>k.default||k.default||k)),s9=Xr(()=>Ur(()=>import("./CXukrq6N.js"),[],import.meta.url).then(k=>k.default||k.default||k)),l9=Xr(()=>Ur(()=>import("./BsCtX_0E.js"),[],import.meta.url).then(k=>k.default||k.default||k)),u9=Xr(()=>Ur(()=>import("./Bz3MVxCK.js"),__vite__mapDeps([1,2,3]),import.meta.url).then(k=>k.default||k.default||k)),c9=Xr(()=>Ur(()=>import("./C54y17DQ.js"),__vite__mapDeps([46,2,3]),import.meta.url).then(k=>k.default||k.default||k)),f9=Xr(()=>Ur(()=>import("./BlITEx32.js"),__vite__mapDeps([47,31,7]),import.meta.url).then(k=>k.default||k.default||k)),h9=Xr(()=>Ur(()=>import("./aILVNi2k.js"),[],import.meta.url).then(k=>k.default||k.default||k)),p9=Xr(()=>Ur(()=>import("./DUTV03Az.js"),[],import.meta.url).then(k=>k.default||k.default||k)),d9=Xr(()=>Ur(()=>import("./CS2r5cGS.js"),__vite__mapDeps([48,47,31,7]),import.meta.url).then(k=>k.default||k.default||k)),g9=Xr(()=>Ur(()=>import("./B4nPhHy8.js"),[],import.meta.url).then(k=>k.default||k.default||k)),v9=Xr(()=>Ur(()=>import("./DUfmRgMC.js"),__vite__mapDeps([49,38,35,39,40]),import.meta.url).then(k=>k.default||k.default||k)),m9=Xr(()=>Ur(()=>import("./kpPbYDPA.js"),[],import.meta.url).then(k=>k.default||k.default||k)),y9=Xr(()=>Ur(()=>import("./DZXZ2HMR.js"),[],import.meta.url).then(k=>k.default||k.default||k)),x9=Xr(()=>Ur(()=>import("./CAiGOBvE.js"),[],import.meta.url).then(k=>k.default||k.default||k)),b9=Xr(()=>Ur(()=>import("./Cso8LCux.js"),[],import.meta.url).then(k=>k.default||k.default||k)),_9=Xr(()=>Ur(()=>import("./BEEAyZIQ.js"),[],import.meta.url).then(k=>k.default||k.default||k)),w9=Xr(()=>Ur(()=>import("./nPgJLzUu.js"),[],import.meta.url).then(k=>k.default||k.default||k)),T9=Xr(()=>Ur(()=>import("./Du0NdKR8.js"),[],import.meta.url).then(k=>k.default||k.default||k)),k9=Xr(()=>Ur(()=>import("./D5n_0qNH.js"),[],import.meta.url).then(k=>k.default||k.default||k)),A9=Xr(()=>Ur(()=>import("./ZgTe9QOt.js"),[],import.meta.url).then(k=>k.default||k.default||k)),M9=Xr(()=>Ur(()=>import("./BsFi8vmS.js"),[],import.meta.url).then(k=>k.default||k.default||k)),S9=Xr(()=>Ur(()=>import("./CaC9PsHa.js"),[],import.meta.url).then(k=>k.default||k.default||k)),E9=Xr(()=>Ur(()=>import("./uICRlGKd.js"),[],import.meta.url).then(k=>k.default||k.default||k)),L9=Xr(()=>Ur(()=>import("./B0P_S2pW.js"),[],import.meta.url).then(k=>k.default||k.default||k)),C9=Xr(()=>Ur(()=>import("./BKssjLNV.js"),[],import.meta.url).then(k=>k.default||k.default||k)),P9=Xr(()=>Ur(()=>import("./9WRrUYCR.js"),[],import.meta.url).then(k=>k.default||k.default||k)),O9=Xr(()=>Ur(()=>import("./BNZOqNjH.js"),[],import.meta.url).then(k=>k.default||k.default||k)),I9=Xr(()=>Ur(()=>import("./CEwi-gVz.js"),[],import.meta.url).then(k=>k.default||k.default||k)),R9=Xr(()=>Ur(()=>import("./Dq-jDB3w.js"),[],import.meta.url).then(k=>k.default||k.default||k)),D9=Xr(()=>Ur(()=>Promise.resolve().then(()=>RP),void 0,import.meta.url).then(k=>k.default||k.default||k)),z9=Xr(()=>Ur(()=>Promise.resolve().then(()=>kP),void 0,import.meta.url).then(k=>k.default||k.default||k)),F9=Xr(()=>Ur(()=>Promise.resolve().then(()=>_P),void 0,import.meta.url).then(k=>k.default||k.default||k)),B9=Xr(()=>Ur(()=>import("./BeGLzDu9.js"),__vite__mapDeps([50,51]),import.meta.url).then(k=>k.default||k.default||k)),N9=[["CardComponent1",z7],["CardComponent2",F7],["TabComponent",B7],["TestComponent",N7],["ArticleList",j7],["MethodCardList",U7],["SimpleCarousel",V7],["Callout",H7],["Card",q7],["CardGroup",G7],["CodeGroup",W7],["Collapsible",Y7],["Field",$7],["FieldGroup",Z7],["Shortcut",X7],["Tabs",K7],["ProseCode",J7],["ProseCodeButton",Q7],["ProseCodeIcon",e9],["ProseH1",t9],["ProseH2",n9],["ProseH3",r9],["ProseH4",i9],["ContentDoc",a9],["ContentList",o9],["ContentNavigation",s9],["ContentQuery",l9],["ContentRenderer",u9],["ContentRendererMarkdown",c9],["MDCSlot",f9],["DocumentDrivenEmpty",h9],["DocumentDrivenNotFound",p9],["Markdown",d9],["ProseCodeInline",g9],["ProsePre",v9],["ProseA",m9],["ProseBlockquote",y9],["ProseEm",x9],["ProseH5",b9],["ProseH6",_9],["ProseHr",w9],["ProseImg",T9],["ProseLi",k9],["ProseOl",A9],["ProseP",M9],["ProseStrong",S9],["ProseTable",E9],["ProseTbody",L9],["ProseTd",C9],["ProseTh",P9],["ProseThead",O9],["ProseTr",I9],["ProseUl",R9],["UButton",D9],["UIcon",z9],["Icon",F9],["IconCSS",B9]],j9=zo({name:"nuxt:global-components",setup(k){for(const[N,Q]of N9)k.vueApp.component(N,Q),k.vueApp.component("Lazy"+N,Q)}}),Hc={},U9=zo({name:"nuxt:prefetch",setup(k){const N=rl();k.hooks.hook("app:mounted",()=>{N.beforeEach(async Q=>{var he;const oe=(he=Q==null?void 0:Q.meta)==null?void 0:he.layout;oe&&typeof Hc[oe]=="function"&&await Hc[oe]()})}),k.hooks.hook("link:prefetch",Q=>{if(mc(Q))return;const oe=N.resolve(Q);if(!oe)return;const he=oe.meta.layout;let O=Ey(oe.meta.middleware);O=O.filter(S=>typeof S=="string");for(const S of O)typeof zp[S]=="function"&&zp[S]();he&&typeof Hc[he]=="function"&&Hc[he]()})}});var AD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function V9(k){return k&&k.__esModule&&Object.prototype.hasOwnProperty.call(k,"default")?k.default:k}var O3={exports:{}};(function(k,N){/*! For license information please see plotly.min.js.LICENSE.txt */(function(Q,oe){k.exports=oe()})(self,function(){return function(){var Q={79288:function(O,S,e){var v=e(3400),x={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var t in x){var b=t.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");v.addStyleRule(b,x[t])}},86712:function(O,S,e){O.exports=e(84224)},37240:function(O,S,e){O.exports=e(51132)},29744:function(O,S,e){O.exports=e(94456)},29352:function(O,S,e){O.exports=e(67244)},96144:function(O,S,e){O.exports=e(97776)},53219:function(O,S,e){O.exports=e(61712)},4624:function(O,S,e){O.exports=e(95856)},54543:function(O,S,e){O.exports=e(54272)},45e3:function(O,S,e){O.exports=e(85404)},62300:function(O,S,e){O.exports=e(26048)},6920:function(O,S,e){O.exports=e(66240)},10264:function(O,S,e){O.exports=e(40448)},32016:function(O,S,e){O.exports=e(64884)},27528:function(O,S,e){O.exports=e(15088)},75556:function(O,S,e){O.exports=e(76744)},39204:function(O,S,e){O.exports=e(94704)},73996:function(O,S,e){O.exports=e(62396)},16489:function(O,S,e){O.exports=e(32028)},5e3:function(O,S,e){O.exports=e(81932)},77280:function(O,S,e){O.exports=e(45536)},33992:function(O,S,e){O.exports=e(42600)},17600:function(O,S,e){O.exports=e(21536)},49116:function(O,S,e){O.exports=e(65664)},46808:function(O,S,e){O.exports=e(29044)},36168:function(O,S,e){O.exports=e(48928)},13792:function(O,S,e){var v=e(32016);v.register([e(37240),e(29352),e(5e3),e(33992),e(17600),e(49116),e(6920),e(67484),e(79440),e(39204),e(83096),e(36168),e(20260),e(63560),e(65832),e(46808),e(73996),e(48824),e(89904),e(25120),e(13752),e(4340),e(62300),e(29800),e(8363),e(54543),e(86636),e(42192),e(32140),e(77280),e(89296),e(56816),e(70192),e(45e3),e(27528),e(84764),e(3920),e(50248),e(4624),e(69967),e(10264),e(86152),e(53219),e(81604),e(63796),e(29744),e(89336),e(86712),e(75556),e(16489),e(97312),e(96144)]),O.exports=v},3920:function(O,S,e){O.exports=e(43480)},25120:function(O,S,e){O.exports=e(6296)},4340:function(O,S,e){O.exports=e(7404)},86152:function(O,S,e){O.exports=e(65456)},56816:function(O,S,e){O.exports=e(22020)},89296:function(O,S,e){O.exports=e(29928)},20260:function(O,S,e){O.exports=e(75792)},32140:function(O,S,e){O.exports=e(156)},84764:function(O,S,e){O.exports=e(45499)},48824:function(O,S,e){O.exports=e(3296)},69967:function(O,S,e){O.exports=e(4184)},8363:function(O,S,e){O.exports=e(36952)},86636:function(O,S,e){O.exports=e(38983)},70192:function(O,S,e){O.exports=e(11572)},81604:function(O,S,e){O.exports=e(76924)},63796:function(O,S,e){O.exports=e(62944)},89336:function(O,S,e){O.exports=e(95443)},67484:function(O,S,e){O.exports=e(34864)},97312:function(O,S,e){O.exports=e(76272)},42192:function(O,S,e){O.exports=e(97924)},29800:function(O,S,e){O.exports=e(15436)},63560:function(O,S,e){O.exports=e(5621)},89904:function(O,S,e){O.exports=e(91304)},50248:function(O,S,e){O.exports=e(41724)},65832:function(O,S,e){O.exports=e(31991)},79440:function(O,S,e){O.exports=e(22869)},13752:function(O,S,e){O.exports=e(67776)},83096:function(O,S,e){O.exports=e(95952)},72196:function(O){O.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},13916:function(O,S,e){var v=e(72196),x=e(25376),t=e(33816),b=e(31780).templatedArray;e(36208),O.exports=b("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:x({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:v.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:v.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",t.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",t.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",t.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",t.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:x({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},90272:function(O,S,e){var v=e(3400),x=e(54460),t=e(23816).draw;function b(c){var s=c._fullLayout;v.filterVisible(s.annotations).forEach(function(n){var i=x.getFromId(c,n.xref),a=x.getFromId(c,n.yref),r=x.getRefType(n.xref),o=x.getRefType(n.yref);n._extremes={},r==="range"&&g(n,i),o==="range"&&g(n,a)})}function g(c,s){var n,i=s._id,a=i.charAt(0),r=c[a],o=c["a"+a],l=c[a+"ref"],u=c["a"+a+"ref"],h=c["_"+a+"padplus"],f=c["_"+a+"padminus"],T={x:1,y:-1}[a]*c[a+"shift"],d=3*c.arrowsize*c.arrowwidth||0,y=d+T,m=d-T,w=3*c.startarrowsize*c.arrowwidth||0,_=w+T,A=w-T;if(u===l){var p=x.findExtremes(s,[s.r2c(r)],{ppadplus:y,ppadminus:m}),L=x.findExtremes(s,[s.r2c(o)],{ppadplus:Math.max(h,_),ppadminus:Math.max(f,A)});n={min:[p.min[0],L.min[0]],max:[p.max[0],L.max[0]]}}else _=o?_+o:_,A=o?A-o:A,n=x.findExtremes(s,[s.r2c(r)],{ppadplus:Math.max(h,y,_),ppadminus:Math.max(f,m,A)});c._extremes[i]=n}O.exports=function(c){var s=c._fullLayout;if(v.filterVisible(s.annotations).length&&c._fullData.length)return v.syncOrAsync([t,b],c)}},42300:function(O,S,e){var v=e(3400),x=e(24040),t=e(31780).arrayEditor;function b(c,s){var n,i,a,r,o,l,u,h=c._fullLayout.annotations,f=[],T=[],d=[],y=(s||[]).length;for(n=0;n<h.length;n++)if(r=(a=h[n]).clicktoshow){for(i=0;i<y;i++)if(l=(o=s[i]).xaxis,u=o.yaxis,l._id===a.xref&&u._id===a.yref&&l.d2r(o.x)===g(a._xclick,l)&&u.d2r(o.y)===g(a._yclick,u)){(a.visible?r==="onout"?T:d:f).push(n);break}i===y&&a.visible&&r==="onout"&&T.push(n)}return{on:f,off:T,explicitOff:d}}function g(c,s){return s.type==="log"?s.l2r(c):s.d2r(c)}O.exports={hasClickToShow:function(c,s){var n=b(c,s);return n.on.length>0||n.explicitOff.length>0},onClick:function(c,s){var n,i,a=b(c,s),r=a.on,o=a.off.concat(a.explicitOff),l={},u=c._fullLayout.annotations;if(r.length||o.length){for(n=0;n<r.length;n++)(i=t(c.layout,"annotations",u[r[n]])).modifyItem("visible",!0),v.extendFlat(l,i.getUpdateObj());for(n=0;n<o.length;n++)(i=t(c.layout,"annotations",u[o[n]])).modifyItem("visible",!1),v.extendFlat(l,i.getUpdateObj());return x.call("update",c,{},l)}}}},87192:function(O,S,e){var v=e(3400),x=e(76308);O.exports=function(t,b,g,c){c("opacity");var s=c("bgcolor"),n=c("bordercolor"),i=x.opacity(n);c("borderpad");var a=c("borderwidth"),r=c("showarrow");if(c("text",r?" ":g._dfltTitle.annotation),c("textangle"),v.coerceFont(c,"font",g.font),c("width"),c("align"),c("height")&&c("valign"),r){var o,l,u=c("arrowside");u.indexOf("end")!==-1&&(o=c("arrowhead"),l=c("arrowsize")),u.indexOf("start")!==-1&&(c("startarrowhead",o),c("startarrowsize",l)),c("arrowcolor",i?b.bordercolor:x.defaultLine),c("arrowwidth",2*(i&&a||1)),c("standoff"),c("startstandoff")}var h=c("hovertext"),f=g.hoverlabel||{};if(h){var T=c("hoverlabel.bgcolor",f.bgcolor||(x.opacity(s)?x.rgb(s):x.defaultLine)),d=c("hoverlabel.bordercolor",f.bordercolor||x.contrast(T)),y=v.extendFlat({},f.font);y.color||(y.color=d),v.coerceFont(c,"hoverlabel.font",y)}c("captureevents",!!h)}},26828:function(O,S,e){var v=e(38248),x=e(36896);O.exports=function(t,b,g,c){b=b||{};var s=g==="log"&&b.type==="linear",n=g==="linear"&&b.type==="log";if(s||n)for(var i,a,r=t._fullLayout.annotations,o=b._id.charAt(0),l=0;l<r.length;l++)i=r[l],a="annotations["+l+"].",i[o+"ref"]===b._id&&u(o),i["a"+o+"ref"]===b._id&&u("a"+o);function u(h){var f=i[h],T=null;T=s?x(f,b.range):Math.pow(10,f),v(T)||(T=null),c(a+h,T)}}},45216:function(O,S,e){var v=e(3400),x=e(54460),t=e(51272),b=e(87192),g=e(13916);function c(s,n,i){function a(L,M){return v.coerce(s,n,g,L,M)}var r=a("visible"),o=a("clicktoshow");if(r||o){b(s,n,i,a);for(var l=n.showarrow,u=["x","y"],h=[-10,-30],f={_fullLayout:i},T=0;T<2;T++){var d=u[T],y=x.coerceRef(s,n,f,d,"","paper");if(y!=="paper"&&x.getFromId(f,y)._annIndices.push(n._index),x.coercePosition(n,f,a,y,d,.5),l){var m="a"+d,w=x.coerceRef(s,n,f,m,"pixel",["pixel","paper"]);w!=="pixel"&&w!==y&&(w=n[m]="pixel");var _=w==="pixel"?h[T]:.4;x.coercePosition(n,f,a,w,m,_)}a(d+"anchor"),a(d+"shift")}if(v.noneOrAll(s,n,["x","y"]),l&&v.noneOrAll(s,n,["ax","ay"]),o){var A=a("xclick"),p=a("yclick");n._xclick=A===void 0?n.x:x.cleanPosition(A,f,n.xref),n._yclick=p===void 0?n.y:x.cleanPosition(p,f,n.yref)}}}O.exports=function(s,n){t(s,n,{name:"annotations",handleItemDefaults:c})}},23816:function(O,S,e){var v=e(33428),x=e(24040),t=e(7316),b=e(3400),g=b.strTranslate,c=e(54460),s=e(76308),n=e(43616),i=e(93024),a=e(72736),r=e(93972),o=e(86476),l=e(31780).arrayEditor,u=e(33652);function h(d,y){var m=d._fullLayout.annotations[y]||{},w=c.getFromId(d,m.xref),_=c.getFromId(d,m.yref);w&&w.setScale(),_&&_.setScale(),T(d,m,y,!1,w,_)}function f(d,y,m,w,_){var A=_[m],p=_[m+"ref"],L=m.indexOf("y")!==-1,M=c.getRefType(p)==="domain",C=L?w.h:w.w;return d?M?A+(L?-y:y)/d._length:d.p2r(d.r2p(A)+y):A+(L?-y:y)/C}function T(d,y,m,w,_,A){var p,L,M=d._fullLayout,C=d._fullLayout._size,R=d._context.edits;w?(p="annotation-"+w,L=w+".annotations"):(p="annotation",L="annotations");var I=l(d.layout,L,y),D=I.modifyBase,F=I.modifyItem,q=I.getUpdateObj;M._infolayer.selectAll("."+p+'[data-index="'+m+'"]').remove();var z="clip"+M._uid+"_ann"+m;if(y._input&&y.visible!==!1){var V={x:{},y:{}},X=+y.textangle||0,j=M._infolayer.append("g").classed(p,!0).attr("data-index",String(m)).style("opacity",y.opacity),H=j.append("g").classed("annotation-text-g",!0),G=R[y.showarrow?"annotationTail":"annotationPosition"],ie=y.captureevents||R.annotationText||G,re=H.append("g").style("pointer-events",ie?"all":null).call(r,"pointer").on("click",function(){d._dragging=!1,d.emit("plotly_clickannotation",me(v.event))});y.hovertext&&re.on("mouseover",function(){var Te=y.hoverlabel,Le=Te.font,Ie=this.getBoundingClientRect(),_e=d.getBoundingClientRect();i.loneHover({x0:Ie.left-_e.left,x1:Ie.right-_e.left,y:(Ie.top+Ie.bottom)/2-_e.top,text:y.hovertext,color:Te.bgcolor,borderColor:Te.bordercolor,fontFamily:Le.family,fontSize:Le.size,fontColor:Le.color,fontWeight:Le.weight,fontStyle:Le.style,fontVariant:Le.variant,fontShadow:Le.fontShadow,fontLineposition:Le.fontLineposition,fontTextcase:Le.fontTextcase},{container:M._hoverlayer.node(),outerContainer:M._paper.node(),gd:d})}).on("mouseout",function(){i.loneUnhover(M._hoverlayer.node())});var te=y.borderwidth,K=y.borderpad,J=te+K,$=re.append("rect").attr("class","bg").style("stroke-width",te+"px").call(s.stroke,y.bordercolor).call(s.fill,y.bgcolor),ae=y.width||y.height,ue=M._topclips.selectAll("#"+z).data(ae?[0]:[]);ue.enter().append("clipPath").classed("annclip",!0).attr("id",z).append("rect"),ue.exit().remove();var ce=y.font,de=M._meta?b.templateString(y.text,M._meta):y.text,pe=re.append("text").classed("annotation-text",!0).text(de);R.annotationText?pe.call(a.makeEditable,{delegate:re,gd:d}).call(be).on("edit",function(Te){y.text=Te,this.call(be),F("text",Te),_&&_.autorange&&D(_._name+".autorange",!0),A&&A.autorange&&D(A._name+".autorange",!0),x.call("_guiRelayout",d,q())}):pe.call(be)}else v.selectAll("#"+z).remove();function me(Te){var Le={index:m,annotation:y._input,fullAnnotation:y,event:Te};return w&&(Le.subplotId=w),Le}function be(Te){return Te.call(n.font,ce).attr({"text-anchor":{left:"start",right:"end"}[y.align]||"middle"}),a.convertToTspans(Te,d,we),Te}function we(){var Te=pe.selectAll("a");Te.size()===1&&Te.text()===pe.text()&&re.insert("a",":first-child").attr({"xlink:xlink:href":Te.attr("xlink:href"),"xlink:xlink:show":Te.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild($.node());var Le=re.select(".annotation-text-math-group"),Ie=!Le.empty(),_e=n.bBox((Ie?Le:pe).node()),fe=_e.width,le=_e.height,ye=y.width||fe,Oe=y.height||le,Ae=Math.round(ye+2*J),Se=Math.round(Oe+2*J);function Pe(bt,dt){return dt==="auto"&&(dt=bt<.3333333333333333?"left":bt>.6666666666666666?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[dt]}for(var Fe=!1,Be=["x","y"],xe=0;xe<Be.length;xe++){var Me,Ce,Ne,Re,He,Ye=Be[xe],Qe=y[Ye+"ref"]||Ye,lt=y["a"+Ye+"ref"],ut={x:_,y:A}[Ye],xt=(X+(Ye==="x"?0:-90))*Math.PI/180,_t=Ae*Math.cos(xt),mt=Se*Math.sin(xt),it=Math.abs(_t)+Math.abs(mt),nt=y[Ye+"anchor"],Et=y[Ye+"shift"]*(Ye==="x"?1:-1),zt=V[Ye],Ft=c.getRefType(Qe);if(ut&&Ft!=="domain"){var Pt=ut.r2fraction(y[Ye]);(Pt<0||Pt>1)&&(lt===Qe?((Pt=ut.r2fraction(y["a"+Ye]))<0||Pt>1)&&(Fe=!0):Fe=!0),Me=ut._offset+ut.r2p(y[Ye]),Re=.5}else{var Ze=Ft==="domain";Ye==="x"?(Ne=y[Ye],Me=Ze?ut._offset+ut._length*Ne:Me=C.l+C.w*Ne):(Ne=1-y[Ye],Me=Ze?ut._offset+ut._length*Ne:Me=C.t+C.h*Ne),Re=y.showarrow?.5:Ne}if(y.showarrow){zt.head=Me;var Je=y["a"+Ye];if(He=_t*Pe(.5,y.xanchor)-mt*Pe(.5,y.yanchor),lt===Qe){var qe=c.getRefType(lt);qe==="domain"?(Ye==="y"&&(Je=1-Je),zt.tail=ut._offset+ut._length*Je):qe==="paper"?Ye==="y"?(Je=1-Je,zt.tail=C.t+C.h*Je):zt.tail=C.l+C.w*Je:zt.tail=ut._offset+ut.r2p(Je),Ce=He}else zt.tail=Me+Je,Ce=He+Je;zt.text=zt.tail+He;var Ke=M[Ye==="x"?"width":"height"];if(Qe==="paper"&&(zt.head=b.constrain(zt.head,1,Ke-1)),lt==="pixel"){var ft=-Math.max(zt.tail-3,zt.text),ot=Math.min(zt.tail+3,zt.text)-Ke;ft>0?(zt.tail+=ft,zt.text+=ft):ot>0&&(zt.tail-=ot,zt.text-=ot)}zt.tail+=Et,zt.head+=Et}else Ce=He=it*Pe(Re,nt),zt.text=Me+He;zt.text+=Et,He+=Et,Ce+=Et,y["_"+Ye+"padplus"]=it/2+Ce,y["_"+Ye+"padminus"]=it/2-Ce,y["_"+Ye+"size"]=it,y["_"+Ye+"shift"]=He}if(Fe)re.remove();else{var Ue=0,Ve=0;if(y.align!=="left"&&(Ue=(ye-fe)*(y.align==="center"?.5:1)),y.valign!=="top"&&(Ve=(Oe-le)*(y.valign==="middle"?.5:1)),Ie)Le.select("svg").attr({x:J+Ue-1,y:J+Ve}).call(n.setClipUrl,ae?z:null,d);else{var st=J+Ve-_e.top,Xe=J+Ue-_e.left;pe.call(a.positionText,Xe,st).call(n.setClipUrl,ae?z:null,d)}ue.select("rect").call(n.setRect,J,J,ye,Oe),$.call(n.setRect,te/2,te/2,Ae-te,Se-te),re.call(n.setTranslate,Math.round(V.x.text-Ae/2),Math.round(V.y.text-Se/2)),H.attr({transform:"rotate("+X+","+V.x.text+","+V.y.text+")"});var gt,yt=function(bt,dt){j.selectAll(".annotation-arrow-g").remove();var Lt=V.x.head,wt=V.y.head,Ct=V.x.tail+bt,Rt=V.y.tail+dt,Dt=V.x.text+bt,Nt=V.y.text+dt,Xt=b.rotationXYMatrix(X,Dt,Nt),un=b.apply2DTransform(Xt),qt=b.apply2DTransform2(Xt),Kt=+$.attr("width"),Ut=+$.attr("height"),Rn=Dt-.5*Kt,An=Rn+Kt,mn=Nt-.5*Ut,tn=mn+Ut,fn=[[Rn,mn,Rn,tn],[Rn,tn,An,tn],[An,tn,An,mn],[An,mn,Rn,mn]].map(qt);if(!fn.reduce(function(ir,Kn){return ir^!!b.segmentsIntersect(Lt,wt,Lt+1e6,wt+1e6,Kn[0],Kn[1],Kn[2],Kn[3])},!1)){fn.forEach(function(ir){var Kn=b.segmentsIntersect(Ct,Rt,Lt,wt,ir[0],ir[1],ir[2],ir[3]);Kn&&(Ct=Kn.x,Rt=Kn.y)});var rn=y.arrowwidth,pn=y.arrowcolor,wn=y.arrowside,kn=j.append("g").style({opacity:s.opacity(pn)}).classed("annotation-arrow-g",!0),Pn=kn.append("path").attr("d","M"+Ct+","+Rt+"L"+Lt+","+wt).style("stroke-width",rn+"px").call(s.stroke,s.rgb(pn));if(u(Pn,wn,y),R.annotationPosition&&Pn.node().parentNode&&!w){var On=Lt,En=wt;if(y.standoff){var Vn=Math.sqrt(Math.pow(Lt-Ct,2)+Math.pow(wt-Rt,2));On+=y.standoff*(Ct-Lt)/Vn,En+=y.standoff*(Rt-wt)/Vn}var Bn,Wn,rr=kn.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(Ct-On)+","+(Rt-En),transform:g(On,En)}).style("stroke-width",rn+6+"px").call(s.stroke,"rgba(0,0,0,0)").call(s.fill,"rgba(0,0,0,0)");o.init({element:rr.node(),gd:d,prepFn:function(){var ir=n.getTranslate(re);Bn=ir.x,Wn=ir.y,_&&_.autorange&&D(_._name+".autorange",!0),A&&A.autorange&&D(A._name+".autorange",!0)},moveFn:function(ir,Kn){var vr=un(Bn,Wn),nn=vr[0]+ir,an=vr[1]+Kn;re.call(n.setTranslate,nn,an),F("x",f(_,ir,"x",C,y)),F("y",f(A,Kn,"y",C,y)),y.axref===y.xref&&F("ax",f(_,ir,"ax",C,y)),y.ayref===y.yref&&F("ay",f(A,Kn,"ay",C,y)),kn.attr("transform",g(ir,Kn)),H.attr({transform:"rotate("+X+","+nn+","+an+")"})},doneFn:function(){x.call("_guiRelayout",d,q());var ir=document.querySelector(".js-notes-box-panel");ir&&ir.redraw(ir.selectedObj)}})}}};y.showarrow&&yt(0,0),G&&o.init({element:re.node(),gd:d,prepFn:function(){gt=H.attr("transform")},moveFn:function(bt,dt){var Lt="pointer";if(y.showarrow)y.axref===y.xref?F("ax",f(_,bt,"ax",C,y)):F("ax",y.ax+bt),y.ayref===y.yref?F("ay",f(A,dt,"ay",C.w,y)):F("ay",y.ay+dt),yt(bt,dt);else{if(w)return;var wt,Ct;if(_)wt=f(_,bt,"x",C,y);else{var Rt=y._xsize/C.w,Dt=y.x+(y._xshift-y.xshift)/C.w-Rt/2;wt=o.align(Dt+bt/C.w,Rt,0,1,y.xanchor)}if(A)Ct=f(A,dt,"y",C,y);else{var Nt=y._ysize/C.h,Xt=y.y-(y._yshift+y.yshift)/C.h-Nt/2;Ct=o.align(Xt-dt/C.h,Nt,0,1,y.yanchor)}F("x",wt),F("y",Ct),_&&A||(Lt=o.getCursor(_?.5:wt,A?.5:Ct,y.xanchor,y.yanchor))}H.attr({transform:g(bt,dt)+gt}),r(re,Lt)},clickFn:function(bt,dt){y.captureevents&&d.emit("plotly_clickannotation",me(dt))},doneFn:function(){r(re),x.call("_guiRelayout",d,q());var bt=document.querySelector(".js-notes-box-panel");bt&&bt.redraw(bt.selectedObj)}})}}}O.exports={draw:function(d){var y=d._fullLayout;y._infolayer.selectAll(".annotation").remove();for(var m=0;m<y.annotations.length;m++)y.annotations[m].visible&&h(d,m);return t.previousPromises(d)},drawOne:h,drawRaw:T}},33652:function(O,S,e){var v=e(33428),x=e(76308),t=e(72196),b=e(3400),g=b.strScale,c=b.strRotate,s=b.strTranslate;O.exports=function(n,i,a){var r,o,l,u,h=n.node(),f=t[a.arrowhead||0],T=t[a.startarrowhead||0],d=(a.arrowwidth||1)*(a.arrowsize||1),y=(a.arrowwidth||1)*(a.startarrowsize||1),m=i.indexOf("start")>=0,w=i.indexOf("end")>=0,_=f.backoff*d+a.standoff,A=T.backoff*y+a.startstandoff;if(h.nodeName==="line"){r={x:+n.attr("x1"),y:+n.attr("y1")},o={x:+n.attr("x2"),y:+n.attr("y2")};var p=r.x-o.x,L=r.y-o.y;if(u=(l=Math.atan2(L,p))+Math.PI,_&&A&&_+A>Math.sqrt(p*p+L*L))return void j();if(_){if(_*_>p*p+L*L)return void j();var M=_*Math.cos(l),C=_*Math.sin(l);o.x+=M,o.y+=C,n.attr({x2:o.x,y2:o.y})}if(A){if(A*A>p*p+L*L)return void j();var R=A*Math.cos(l),I=A*Math.sin(l);r.x-=R,r.y-=I,n.attr({x1:r.x,y1:r.y})}}else if(h.nodeName==="path"){var D=h.getTotalLength(),F="";if(D<_+A)return void j();var q=h.getPointAtLength(0),z=h.getPointAtLength(.1);l=Math.atan2(q.y-z.y,q.x-z.x),r=h.getPointAtLength(Math.min(A,D)),F="0px,"+A+"px,";var V=h.getPointAtLength(D),X=h.getPointAtLength(D-.1);u=Math.atan2(V.y-X.y,V.x-X.x),o=h.getPointAtLength(Math.max(0,D-_)),F+=D-(F?A+_:_)+"px,"+D+"px",n.style("stroke-dasharray",F)}function j(){n.style("stroke-dasharray","0px,100px")}function H(G,ie,re,te){G.path&&(G.noRotate&&(re=0),v.select(h.parentNode).append("path").attr({class:n.attr("class"),d:G.path,transform:s(ie.x,ie.y)+c(180*re/Math.PI)+g(te)}).style({fill:x.rgb(a.arrowcolor),"stroke-width":0}))}m&&H(T,r,l,y),w&&H(f,o,u,d)}},79180:function(O,S,e){var v=e(23816),x=e(42300);O.exports={moduleType:"component",name:"annotations",layoutAttributes:e(13916),supplyLayoutDefaults:e(45216),includeBasePlot:e(36632)("annotations"),calcAutorange:e(90272),draw:v.draw,drawOne:v.drawOne,drawRaw:v.drawRaw,hasClickToShow:x.hasClickToShow,onClick:x.onClick,convertCoords:e(26828)}},45899:function(O,S,e){var v=e(13916),x=e(67824).overrideAll,t=e(31780).templatedArray;O.exports=x(t("annotation",{visible:v.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:v.xanchor,xshift:v.xshift,yanchor:v.yanchor,yshift:v.yshift,text:v.text,textangle:v.textangle,font:v.font,width:v.width,height:v.height,opacity:v.opacity,align:v.align,valign:v.valign,bgcolor:v.bgcolor,bordercolor:v.bordercolor,borderpad:v.borderpad,borderwidth:v.borderwidth,showarrow:v.showarrow,arrowcolor:v.arrowcolor,arrowhead:v.arrowhead,startarrowhead:v.startarrowhead,arrowside:v.arrowside,arrowsize:v.arrowsize,startarrowsize:v.startarrowsize,arrowwidth:v.arrowwidth,standoff:v.standoff,startstandoff:v.startstandoff,hovertext:v.hovertext,hoverlabel:v.hoverlabel,captureevents:v.captureevents}),"calc","from-root")},42456:function(O,S,e){var v=e(3400),x=e(54460);function t(b,g){var c=g.fullSceneLayout.domain,s=g.fullLayout._size,n={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};b._xa={},v.extendFlat(b._xa,n),x.setConvert(b._xa),b._xa._offset=s.l+c.x[0]*s.w,b._xa.l2p=function(){return .5*(1+b._pdata[0]/b._pdata[3])*s.w*(c.x[1]-c.x[0])},b._ya={},v.extendFlat(b._ya,n),x.setConvert(b._ya),b._ya._offset=s.t+(1-c.y[1])*s.h,b._ya.l2p=function(){return .5*(1-b._pdata[1]/b._pdata[3])*s.h*(c.y[1]-c.y[0])}}O.exports=function(b){for(var g=b.fullSceneLayout.annotations,c=0;c<g.length;c++)t(g[c],b);b.fullLayout._infolayer.selectAll(".annotation-"+b.id).remove()}},52808:function(O,S,e){var v=e(3400),x=e(54460),t=e(51272),b=e(87192),g=e(45899);function c(s,n,i,a){function r(l,u){return v.coerce(s,n,g,l,u)}function o(l){var u=l+"axis",h={_fullLayout:{}};return h._fullLayout[u]=i[u],x.coercePosition(n,h,r,l,l,.5)}r("visible")&&(b(s,n,a.fullLayout,r),o("x"),o("y"),o("z"),v.noneOrAll(s,n,["x","y","z"]),n.xref="x",n.yref="y",n.zref="z",r("xanchor"),r("yanchor"),r("xshift"),r("yshift"),n.showarrow&&(n.axref="pixel",n.ayref="pixel",r("ax",-10),r("ay",-30),v.noneOrAll(s,n,["ax","ay"])))}O.exports=function(s,n,i){t(s,n,{name:"annotations",handleItemDefaults:c,fullLayout:i.fullLayout})}},71836:function(O,S,e){var v=e(23816).drawRaw,x=e(94424),t=["x","y","z"];O.exports=function(b){for(var g=b.fullSceneLayout,c=b.dataScale,s=g.annotations,n=0;n<s.length;n++){for(var i=s[n],a=!1,r=0;r<3;r++){var o=t[r],l=i[o],u=g[o+"axis"].r2fraction(l);if(u<0||u>1){a=!0;break}}a?b.fullLayout._infolayer.select(".annotation-"+b.id+'[data-index="'+n+'"]').remove():(i._pdata=x(b.glplot.cameraParams,[g.xaxis.r2l(i.x)*c[0],g.yaxis.r2l(i.y)*c[1],g.zaxis.r2l(i.z)*c[2]]),v(b.graphDiv,i,n,b.id,i._xa,i._ya))}}},56864:function(O,S,e){var v=e(24040),x=e(3400);O.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(45899)}}},layoutAttributes:e(45899),handleDefaults:e(52808),includeBasePlot:function(t,b){var g=v.subplotsRegistry.gl3d;if(g)for(var c=g.attrRegex,s=Object.keys(t),n=0;n<s.length;n++){var i=s[n];c.test(i)&&(t[i].annotations||[]).length&&(x.pushUnique(b._basePlotModules,g),x.pushUnique(b._subplots.gl3d,i))}},convert:e(42456),draw:e(71836)}},54976:function(O,S,e){O.exports=e(38700),e(15168),e(67020),e(89792),e(55668),e(65168),e(2084),e(26368),e(24747),e(65616),e(30632),e(73040),e(1104),e(51456),e(4592),e(45348)},97776:function(O,S,e){var v=e(54976),x=e(3400),t=e(39032),b=t.EPOCHJD,g=t.ONEDAY,c={valType:"enumerated",values:x.sortObjectKeys(v.calendars),editType:"calc",dflt:"gregorian"},s=function(d,y,m,w){var _={};return _[m]=c,x.coerce(d,y,_,m,w)},n="##",i={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:n,w:n,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},a={};function r(d){var y=a[d];return y||(a[d]=v.instance(d))}function o(d){return x.extendFlat({},c,{description:d})}function l(d){return"Sets the calendar system to use with `"+d+"` date data."}var u={xcalendar:o(l("x"))},h=x.extendFlat({},u,{ycalendar:o(l("y"))}),f=x.extendFlat({},h,{zcalendar:o(l("z"))}),T=o(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));O.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:h,bar:h,box:h,heatmap:h,contour:h,histogram:h,histogram2d:h,histogram2dcontour:h,scatter3d:f,surface:f,mesh3d:f,scattergl:h,ohlc:u,candlestick:u},layout:{calendar:o(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:T},yaxis:{calendar:T},scene:{xaxis:{calendar:T},yaxis:{calendar:T},zaxis:{calendar:T}},polar:{radialaxis:{calendar:T}}},transforms:{filter:{valuecalendar:o(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:o(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:c,handleDefaults:s,handleTraceDefaults:function(d,y,m,w){for(var _=0;_<m.length;_++)s(d,y,m[_]+"calendar",w.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:r,worldCalFmt:function(d,y,m){for(var w,_,A,p,L,M=Math.floor((y+.05)/g)+b,C=r(m).fromJD(M),R=0;(R=d.indexOf("%",R))!==-1;)(w=d.charAt(R+1))==="0"||w==="-"||w==="_"?(A=3,_=d.charAt(R+2),w==="_"&&(w="-")):(_=w,w="0",A=2),(p=i[_])?(L=p===n?n:C.formatDate(p[w]),d=d.substr(0,R)+L+d.substr(R+A),R+=L.length):R+=A;return d}}},22548:function(O,S){S.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],S.defaultLine="#444",S.lightLine="#eee",S.background="#fff",S.borderLine="#BEC8D9",S.lightFraction=90.9090909090909},76308:function(O,S,e){var v=e(49760),x=e(38248),t=e(38116).isTypedArray,b=O.exports={},g=e(22548);b.defaults=g.defaults;var c=b.defaultLine=g.defaultLine;b.lightLine=g.lightLine;var s=b.background=g.background;function n(i){if(x(i)||typeof i!="string")return i;var a=i.trim();if(a.substr(0,3)!=="rgb")return i;var r=a.match(/^rgba?\s*\(([^()]*)\)$/);if(!r)return i;var o=r[1].trim().split(/\s*[\s,]\s*/),l=a.charAt(3)==="a"&&o.length===4;if(!l&&o.length!==3)return i;for(var u=0;u<o.length;u++){if(!o[u].length||(o[u]=Number(o[u]),!(o[u]>=0)))return i;if(u===3)o[u]>1&&(o[u]=1);else if(o[u]>=1)return i}var h=Math.round(255*o[0])+", "+Math.round(255*o[1])+", "+Math.round(255*o[2]);return l?"rgba("+h+", "+o[3]+")":"rgb("+h+")"}b.tinyRGB=function(i){var a=i.toRgb();return"rgb("+Math.round(a.r)+", "+Math.round(a.g)+", "+Math.round(a.b)+")"},b.rgb=function(i){return b.tinyRGB(v(i))},b.opacity=function(i){return i?v(i).getAlpha():0},b.addOpacity=function(i,a){var r=v(i).toRgb();return"rgba("+Math.round(r.r)+", "+Math.round(r.g)+", "+Math.round(r.b)+", "+a+")"},b.combine=function(i,a){var r=v(i).toRgb();if(r.a===1)return v(i).toRgbString();var o=v(a||s).toRgb(),l=o.a===1?o:{r:255*(1-o.a)+o.r*o.a,g:255*(1-o.a)+o.g*o.a,b:255*(1-o.a)+o.b*o.a},u={r:l.r*(1-r.a)+r.r*r.a,g:l.g*(1-r.a)+r.g*r.a,b:l.b*(1-r.a)+r.b*r.a};return v(u).toRgbString()},b.interpolate=function(i,a,r){var o=v(i).toRgb(),l=v(a).toRgb(),u={r:r*o.r+(1-r)*l.r,g:r*o.g+(1-r)*l.g,b:r*o.b+(1-r)*l.b};return v(u).toRgbString()},b.contrast=function(i,a,r){var o=v(i);return o.getAlpha()!==1&&(o=v(b.combine(i,s))),(o.isDark()?a?o.lighten(a):s:r?o.darken(r):c).toString()},b.stroke=function(i,a){var r=v(a);i.style({stroke:b.tinyRGB(r),"stroke-opacity":r.getAlpha()})},b.fill=function(i,a){var r=v(a);i.style({fill:b.tinyRGB(r),"fill-opacity":r.getAlpha()})},b.clean=function(i){if(i&&typeof i=="object"){var a,r,o,l,u=Object.keys(i);for(a=0;a<u.length;a++)if(l=i[o=u[a]],o.substr(o.length-5)==="color")if(Array.isArray(l))for(r=0;r<l.length;r++)l[r]=n(l[r]);else i[o]=n(l);else if(o.substr(o.length-10)==="colorscale"&&Array.isArray(l))for(r=0;r<l.length;r++)Array.isArray(l[r])&&(l[r][1]=n(l[r][1]));else if(Array.isArray(l)){var h=l[0];if(!Array.isArray(h)&&h&&typeof h=="object")for(r=0;r<l.length;r++)b.clean(l[r])}else l&&typeof l=="object"&&!t(l)&&b.clean(l)}}},42996:function(O,S,e){var v=e(94724),x=e(25376),t=e(92880).extendFlat,b=e(67824).overrideAll;O.exports=b({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:v.linecolor,outlinewidth:v.linewidth,bordercolor:v.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:v.minor.tickmode,nticks:v.nticks,tick0:v.tick0,dtick:v.dtick,tickvals:v.tickvals,ticktext:v.ticktext,ticks:t({},v.ticks,{dflt:""}),ticklabeloverflow:t({},v.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:v.ticklen,tickwidth:v.tickwidth,tickcolor:v.tickcolor,ticklabelstep:v.ticklabelstep,showticklabels:v.showticklabels,labelalias:v.labelalias,tickfont:x({}),tickangle:v.tickangle,tickformat:v.tickformat,tickformatstops:v.tickformatstops,tickprefix:v.tickprefix,showtickprefix:v.showtickprefix,ticksuffix:v.ticksuffix,showticksuffix:v.showticksuffix,separatethousands:v.separatethousands,exponentformat:v.exponentformat,minexponent:v.minexponent,showexponent:v.showexponent,title:{text:{valType:"string"},font:x({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:x({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},63964:function(O){O.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},64013:function(O,S,e){var v=e(3400),x=e(31780),t=e(26332),b=e(25404),g=e(95936),c=e(42568),s=e(42996);O.exports=function(n,i,a){var r=x.newContainer(i,"colorbar"),o=n.colorbar||{};function l(F,q){return v.coerce(o,r,s,F,q)}var u=a.margin||{t:0,b:0,l:0,r:0},h=a.width-u.l-u.r,f=a.height-u.t-u.b,T=l("orientation")==="v",d=l("thicknessmode");l("thickness",d==="fraction"?30/(T?h:f):30);var y=l("lenmode");l("len",y==="fraction"?1:T?f:h);var m,w,_,A=l("yref")==="paper",p=l("xref")==="paper",L="left";T?(_="middle",L=p?"left":"right",m=p?1.02:1,w=.5):(_=A?"bottom":"top",L="center",m=.5,w=A?1.02:1),v.coerce(o,r,{x:{valType:"number",min:p?-2:0,max:p?3:1,dflt:m}},"x"),v.coerce(o,r,{y:{valType:"number",min:A?-2:0,max:A?3:1,dflt:w}},"y"),l("xanchor",L),l("xpad"),l("yanchor",_),l("ypad"),v.noneOrAll(o,r,["x","y"]),l("outlinecolor"),l("outlinewidth"),l("bordercolor"),l("borderwidth"),l("bgcolor");var M=v.coerce(o,r,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:T?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");l("ticklabeloverflow",M.indexOf("inside")!==-1?"hide past domain":"hide past div"),t(o,r,l,"linear");var C=a.font,R={noAutotickangles:!0,outerTicks:!1,font:C};M.indexOf("inside")!==-1&&(R.bgColor="black"),c(o,r,l,"linear",R),g(o,r,l,"linear",R),b(o,r,l,"linear",R),l("title.text",a._dfltTitle.colorbar);var I=r.showticklabels?r.tickfont:C,D=v.extendFlat({},C,{family:I.family,size:v.bigFont(I.size)});v.coerceFont(l,"title.font",D),l("title.side",T?"top":"right")}},37848:function(O,S,e){var v=e(33428),x=e(49760),t=e(7316),b=e(24040),g=e(54460),c=e(86476),s=e(3400),n=s.strTranslate,i=e(92880).extendFlat,a=e(93972),r=e(43616),o=e(76308),l=e(81668),u=e(72736),h=e(94288).flipScale,f=e(28336),T=e(37668),d=e(94724),y=e(84284),m=y.LINE_SPACING,w=y.FROM_TL,_=y.FROM_BR,A=e(63964).cn;O.exports={draw:function(p){var L=p._fullLayout._infolayer.selectAll("g."+A.colorbar).data(function(M){var C,R,I,D,F=M._fullLayout,q=M.calcdata,z=[];function V(ae){return i(ae,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function X(){typeof D.calc=="function"?D.calc(M,I,C):(C._fillgradient=R.reversescale?h(R.colorscale):R.colorscale,C._zrange=[R[D.min],R[D.max]])}for(var j=0;j<q.length;j++){var H=q[j];if((I=H[0].trace)._module){var G=I._module.colorbar;if(I.visible===!0&&G)for(var ie=Array.isArray(G),re=ie?G:[G],te=0;te<re.length;te++){var K=(D=re[te]).container;(R=K?I[K]:I)&&R.showscale&&((C=V(R.colorbar))._id="cb"+I.uid+(ie&&K?"-"+K:""),C._traceIndex=I.index,C._propPrefix=(K?K+".":"")+"colorbar.",C._meta=I._meta,X(),z.push(C))}}}for(var J in F._colorAxes)if((R=F[J]).showscale){var $=F._colorAxes[J];(C=V(R.colorbar))._id="cb"+J,C._propPrefix=J+".colorbar.",C._meta=F._meta,D={min:"cmin",max:"cmax"},$[0]!=="heatmap"&&(I=$[1],D.calc=I._module.colorbar.calc),X(),z.push(C)}return z}(p),function(M){return M._id});L.enter().append("g").attr("class",function(M){return M._id}).classed(A.colorbar,!0),L.each(function(M){var C=v.select(this);s.ensureSingle(C,"rect",A.cbbg),s.ensureSingle(C,"g",A.cbfills),s.ensureSingle(C,"g",A.cblines),s.ensureSingle(C,"g",A.cbaxis,function(I){I.classed(A.crisp,!0)}),s.ensureSingle(C,"g",A.cbtitleunshift,function(I){I.append("g").classed(A.cbtitle,!0)}),s.ensureSingle(C,"rect",A.cboutline);var R=function(I,D,F){var q=D.orientation==="v",z=D.len,V=D.lenmode,X=D.thickness,j=D.thicknessmode,H=D.outlinewidth,G=D.borderwidth,ie=D.bgcolor,re=D.xanchor,te=D.yanchor,K=D.xpad,J=D.ypad,$=D.x,ae=q?D.y:1-D.y,ue=D.yref==="paper",ce=D.xref==="paper",de=F._fullLayout,pe=de._size,me=D._fillcolor,be=D._line,we=D.title,Te=we.side,Le=D._zrange||v.extent((typeof me=="function"?me:be.color).domain()),Ie=typeof be.color=="function"?be.color:function(){return be.color},_e=typeof me=="function"?me:function(){return me},fe=D._levels,le=function(qe,Ke,ft){var ot,Ue,Ve=Ke._levels,st=[],Xe=[],gt=Ve.end+Ve.size/100,yt=Ve.size,bt=1.001*ft[0]-.001*ft[1],dt=1.001*ft[1]-.001*ft[0];for(Ue=0;Ue<1e5&&(ot=Ve.start+Ue*yt,!(yt>0?ot>=gt:ot<=gt));Ue++)ot>bt&&ot<dt&&st.push(ot);if(Ke._fillgradient)Xe=[0];else if(typeof Ke._fillcolor=="function"){var Lt=Ke._filllevels;if(Lt)for(gt=Lt.end+Lt.size/100,yt=Lt.size,Ue=0;Ue<1e5&&(ot=Lt.start+Ue*yt,!(yt>0?ot>=gt:ot<=gt));Ue++)ot>ft[0]&&ot<ft[1]&&Xe.push(ot);else(Xe=st.map(function(wt){return wt-Ve.size/2})).push(Xe[Xe.length-1]+Ve.size)}else Ke._fillcolor&&typeof Ke._fillcolor=="string"&&(Xe=[0]);return Ve.size<0&&(st.reverse(),Xe.reverse()),{line:st,fill:Xe}}(0,D,Le),ye=le.fill,Oe=le.line,Ae=Math.round(X*(j==="fraction"?q?pe.w:pe.h:1)),Se=Ae/(q?pe.w:pe.h),Pe=Math.round(z*(V==="fraction"?q?pe.h:pe.w:1)),Fe=Pe/(q?pe.h:pe.w),Be=ce?pe.w:F._fullLayout.width,xe=ue?pe.h:F._fullLayout.height,Me=Math.round(q?$*Be+K:ae*xe+J),Ce={center:.5,right:1}[re]||0,Ne={top:1,middle:.5}[te]||0,Re=q?$-Ce*Se:ae-Ne*Se,He=q?ae-Ne*Fe:$-Ce*Fe,Ye=Math.round(q?xe*(1-He):Be*He);D._lenFrac=Fe,D._thickFrac=Se,D._uFrac=Re,D._vFrac=He;var Qe=D._axis=function(qe,Ke,ft){var ot=qe._fullLayout,Ue=Ke.orientation==="v",Ve={type:"linear",range:ft,tickmode:Ke.tickmode,nticks:Ke.nticks,tick0:Ke.tick0,dtick:Ke.dtick,tickvals:Ke.tickvals,ticktext:Ke.ticktext,ticks:Ke.ticks,ticklen:Ke.ticklen,tickwidth:Ke.tickwidth,tickcolor:Ke.tickcolor,showticklabels:Ke.showticklabels,labelalias:Ke.labelalias,ticklabelposition:Ke.ticklabelposition,ticklabeloverflow:Ke.ticklabeloverflow,ticklabelstep:Ke.ticklabelstep,tickfont:Ke.tickfont,tickangle:Ke.tickangle,tickformat:Ke.tickformat,exponentformat:Ke.exponentformat,minexponent:Ke.minexponent,separatethousands:Ke.separatethousands,showexponent:Ke.showexponent,showtickprefix:Ke.showtickprefix,tickprefix:Ke.tickprefix,showticksuffix:Ke.showticksuffix,ticksuffix:Ke.ticksuffix,title:Ke.title,showline:!0,anchor:"free",side:Ue?"right":"bottom",position:1},st=Ue?"y":"x",Xe={type:"linear",_id:st+Ke._id},gt={letter:st,font:ot.font,noAutotickangles:st==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:ot.calendar};function yt(bt,dt){return s.coerce(Ve,Xe,d,bt,dt)}return f(Ve,Xe,yt,gt,ot),T(Ve,Xe,yt,gt),Xe}(F,D,Le);Qe.position=Se+(q?$+K/pe.w:ae+J/pe.h);var lt=["top","bottom"].indexOf(Te)!==-1;if(q&&lt&&(Qe.title.side=Te,Qe.titlex=$+K/pe.w,Qe.titley=He+(we.side==="top"?Fe-J/pe.h:J/pe.h)),q||lt||(Qe.title.side=Te,Qe.titley=ae+J/pe.h,Qe.titlex=He+K/pe.w),be.color&&D.tickmode==="auto"){Qe.tickmode="linear",Qe.tick0=fe.start;var ut=fe.size,xt=s.constrain(Pe/50,4,15)+1,_t=(Le[1]-Le[0])/((D.nticks||xt)*ut);if(_t>1){var mt=Math.pow(10,Math.floor(Math.log(_t)/Math.LN10));ut*=mt*s.roundUp(_t/mt,[2,5,10]),(Math.abs(fe.start)/fe.size+1e-6)%1<2e-6&&(Qe.tick0=0)}Qe.dtick=ut}Qe.domain=q?[He+J/pe.h,He+Fe-J/pe.h]:[He+K/pe.w,He+Fe-K/pe.w],Qe.setScale(),I.attr("transform",n(Math.round(pe.l),Math.round(pe.t)));var it,nt=I.select("."+A.cbtitleunshift).attr("transform",n(-Math.round(pe.l),-Math.round(pe.t))),Et=Qe.ticklabelposition,zt=Qe.title.font.size,Ft=I.select("."+A.cbaxis),Pt=0,Ze=0;function Je(qe,Ke){var ft={propContainer:Qe,propName:D._propPrefix+"title",traceIndex:D._traceIndex,_meta:D._meta,placeholder:de._dfltTitle.colorbar,containerGroup:I.select("."+A.cbtitle)},ot=qe.charAt(0)==="h"?qe.substr(1):"h"+qe;I.selectAll("."+ot+",."+ot+"-math-group").remove(),l.draw(F,qe,i(ft,Ke||{}))}return s.syncOrAsync([t.previousPromises,function(){var qe,Ke;(q&&lt||!q&&!lt)&&(Te==="top"&&(qe=K+pe.l+Be*$,Ke=J+pe.t+xe*(1-He-Fe)+3+.75*zt),Te==="bottom"&&(qe=K+pe.l+Be*$,Ke=J+pe.t+xe*(1-He)-3-.25*zt),Te==="right"&&(Ke=J+pe.t+xe*ae+3+.75*zt,qe=K+pe.l+Be*He),Je(Qe._id+"title",{attributes:{x:qe,y:Ke,"text-anchor":q?"start":"middle"}}))},function(){if(!q&&!lt||q&&lt){var qe,Ke=I.select("."+A.cbtitle),ft=Ke.select("text"),ot=[-H/2,H/2],Ue=Ke.select(".h"+Qe._id+"title-math-group").node(),Ve=15.6;if(ft.node()&&(Ve=parseInt(ft.node().style.fontSize,10)*m),Ue?(qe=r.bBox(Ue),Ze=qe.width,(Pt=qe.height)>Ve&&(ot[1]-=(Pt-Ve)/2)):ft.node()&&!ft.classed(A.jsPlaceholder)&&(qe=r.bBox(ft.node()),Ze=qe.width,Pt=qe.height),q){if(Pt){if(Pt+=5,Te==="top")Qe.domain[1]-=Pt/pe.h,ot[1]*=-1;else{Qe.domain[0]+=Pt/pe.h;var st=u.lineCount(ft);ot[1]+=(1-st)*Ve}Ke.attr("transform",n(ot[0],ot[1])),Qe.setScale()}}else Ze&&(Te==="right"&&(Qe.domain[0]+=(Ze+zt/2)/pe.w),Ke.attr("transform",n(ot[0],ot[1])),Qe.setScale())}I.selectAll("."+A.cbfills+",."+A.cblines).attr("transform",q?n(0,Math.round(pe.h*(1-Qe.domain[1]))):n(Math.round(pe.w*Qe.domain[0]),0)),Ft.attr("transform",q?n(0,Math.round(-pe.t)):n(Math.round(-pe.l),0));var Xe=I.select("."+A.cbfills).selectAll("rect."+A.cbfill).attr("style","").data(ye);Xe.enter().append("rect").classed(A.cbfill,!0).attr("style",""),Xe.exit().remove();var gt=Le.map(Qe.c2p).map(Math.round).sort(function(wt,Ct){return wt-Ct});Xe.each(function(wt,Ct){var Rt=[Ct===0?Le[0]:(ye[Ct]+ye[Ct-1])/2,Ct===ye.length-1?Le[1]:(ye[Ct]+ye[Ct+1])/2].map(Qe.c2p).map(Math.round);q&&(Rt[1]=s.constrain(Rt[1]+(Rt[1]>Rt[0])?1:-1,gt[0],gt[1]));var Dt=v.select(this).attr(q?"x":"y",Me).attr(q?"y":"x",v.min(Rt)).attr(q?"width":"height",Math.max(Ae,2)).attr(q?"height":"width",Math.max(v.max(Rt)-v.min(Rt),2));if(D._fillgradient)r.gradient(Dt,F,D._id,q?"vertical":"horizontalreversed",D._fillgradient,"fill");else{var Nt=_e(wt).replace("e-","");Dt.attr("fill",x(Nt).toHexString())}});var yt=I.select("."+A.cblines).selectAll("path."+A.cbline).data(be.color&&be.width?Oe:[]);yt.enter().append("path").classed(A.cbline,!0),yt.exit().remove(),yt.each(function(wt){var Ct=Me,Rt=Math.round(Qe.c2p(wt))+be.width/2%1;v.select(this).attr("d","M"+(q?Ct+","+Rt:Rt+","+Ct)+(q?"h":"v")+Ae).call(r.lineGroupStyle,be.width,Ie(wt),be.dash)}),Ft.selectAll("g."+Qe._id+"tick,path").remove();var bt=Me+Ae+(H||0)/2-(D.ticks==="outside"?1:0),dt=g.calcTicks(Qe),Lt=g.getTickSigns(Qe)[2];return g.drawTicks(F,Qe,{vals:Qe.ticks==="inside"?g.clipEnds(Qe,dt):dt,layer:Ft,path:g.makeTickPath(Qe,bt,Lt),transFn:g.makeTransTickFn(Qe)}),g.drawLabels(F,Qe,{vals:dt,layer:Ft,transFn:g.makeTransTickLabelFn(Qe),labelFns:g.makeLabelFns(Qe,bt)})},function(){if(q&&!lt||!q&&lt){var qe,Ke,ft=Qe.position||0,ot=Qe._offset+Qe._length/2;if(Te==="right")Ke=ot,qe=pe.l+Be*ft+10+zt*(Qe.showticklabels?1:.5);else if(qe=ot,Te==="bottom"&&(Ke=pe.t+xe*ft+10+(Et.indexOf("inside")===-1?Qe.tickfont.size:0)+(Qe.ticks!=="intside"&&D.ticklen||0)),Te==="top"){var Ue=we.text.split("<br>").length;Ke=pe.t+xe*ft+10-Ae-m*zt*Ue}Je((q?"h":"v")+Qe._id+"title",{avoid:{selection:v.select(F).selectAll("g."+Qe._id+"tick"),side:Te,offsetTop:q?0:pe.t,offsetLeft:q?pe.l:0,maxShift:q?de.width:de.height},attributes:{x:qe,y:Ke,"text-anchor":"middle"},transform:{rotate:q?-90:0,offset:0}})}},t.previousPromises,function(){var qe,Ke=Ae+H/2;Et.indexOf("inside")===-1&&(qe=r.bBox(Ft.node()),Ke+=q?qe.width:qe.height),it=nt.select("text");var ft=0,ot=q&&Te==="top",Ue=!q&&Te==="right",Ve=0;if(it.node()&&!it.classed(A.jsPlaceholder)){var st,Xe=nt.select(".h"+Qe._id+"title-math-group").node();Xe&&(q&&lt||!q&&!lt)?(ft=(qe=r.bBox(Xe)).width,st=qe.height):(ft=(qe=r.bBox(nt.node())).right-pe.l-(q?Me:Ye),st=qe.bottom-pe.t-(q?Ye:Me),q||Te!=="top"||(Ke+=qe.height,Ve=qe.height)),Ue&&(it.attr("transform",n(ft/2+zt/2,0)),ft*=2),Ke=Math.max(Ke,q?ft:st)}var gt=2*(q?K:J)+Ke+G+H/2,yt=0;!q&&we.text&&te==="bottom"&&ae<=0&&(gt+=yt=gt/2,Ve+=yt),de._hColorbarMoveTitle=yt,de._hColorbarMoveCBTitle=Ve;var bt=G+H,dt=(q?Me:Ye)-bt/2-(q?K:0),Lt=(q?Ye:Me)-(q?Pe:J+Ve-yt);I.select("."+A.cbbg).attr("x",dt).attr("y",Lt).attr(q?"width":"height",Math.max(gt-yt,2)).attr(q?"height":"width",Math.max(Pe+bt,2)).call(o.fill,ie).call(o.stroke,D.bordercolor).style("stroke-width",G);var wt=Ue?Math.max(ft-10,0):0;I.selectAll("."+A.cboutline).attr("x",(q?Me:Ye+K)+wt).attr("y",(q?Ye+J-Pe:Me)+(ot?Pt:0)).attr(q?"width":"height",Math.max(Ae,2)).attr(q?"height":"width",Math.max(Pe-(q?2*J+Pt:2*K+wt),2)).call(o.stroke,D.outlinecolor).style({fill:"none","stroke-width":H});var Ct=q?Ce*gt:0,Rt=q?0:(1-Ne)*gt-Ve;if(Ct=ce?pe.l-Ct:-Ct,Rt=ue?pe.t-Rt:-Rt,I.attr("transform",n(Ct,Rt)),!q&&(G||x(ie).getAlpha()&&!x.equals(de.paper_bgcolor,ie))){var Dt=Ft.selectAll("text"),Nt=Dt[0].length,Xt=I.select("."+A.cbbg).node(),un=r.bBox(Xt),qt=r.getTranslate(I);Dt.each(function(wn,kn){var Pn=Nt-1;if(kn===0||kn===Pn){var On,En=r.bBox(this),Vn=r.getTranslate(this);if(kn===Pn){var Bn=En.right+Vn.x;(On=un.right+qt.x+Ye-G-2+$-Bn)>0&&(On=0)}else if(kn===0){var Wn=En.left+Vn.x;(On=un.left+qt.x+Ye+G+2-Wn)<0&&(On=0)}On&&(Nt<3?this.setAttribute("transform","translate("+On+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Kt={},Ut=w[re],Rn=_[re],An=w[te],mn=_[te],tn=gt-Ae;q?(V==="pixels"?(Kt.y=ae,Kt.t=Pe*An,Kt.b=Pe*mn):(Kt.t=Kt.b=0,Kt.yt=ae+z*An,Kt.yb=ae-z*mn),j==="pixels"?(Kt.x=$,Kt.l=gt*Ut,Kt.r=gt*Rn):(Kt.l=tn*Ut,Kt.r=tn*Rn,Kt.xl=$-X*Ut,Kt.xr=$+X*Rn)):(V==="pixels"?(Kt.x=$,Kt.l=Pe*Ut,Kt.r=Pe*Rn):(Kt.l=Kt.r=0,Kt.xl=$+z*Ut,Kt.xr=$-z*Rn),j==="pixels"?(Kt.y=1-ae,Kt.t=gt*An,Kt.b=gt*mn):(Kt.t=tn*An,Kt.b=tn*mn,Kt.yt=ae-X*An,Kt.yb=ae+X*mn));var fn=D.y<.5?"b":"t",rn=D.x<.5?"l":"r";F._fullLayout._reservedMargin[D._id]={};var pn={r:de.width-dt-Ct,l:dt+Kt.r,b:de.height-Lt-Rt,t:Lt+Kt.b};ce&&ue?t.autoMargin(F,D._id,Kt):ce?F._fullLayout._reservedMargin[D._id][fn]=pn[fn]:ue||q?F._fullLayout._reservedMargin[D._id][rn]=pn[rn]:F._fullLayout._reservedMargin[D._id][fn]=pn[fn]}],F)}(C,M,p);R&&R.then&&(p._promises||[]).push(R),p._context.edits.colorbarPosition&&function(I,D,F){var q,z,V,X=D.orientation==="v",j=F._fullLayout._size;c.init({element:I.node(),gd:F,prepFn:function(){q=I.attr("transform"),a(I)},moveFn:function(H,G){I.attr("transform",q+n(H,G)),z=c.align((X?D._uFrac:D._vFrac)+H/j.w,X?D._thickFrac:D._lenFrac,0,1,D.xanchor),V=c.align((X?D._vFrac:1-D._uFrac)-G/j.h,X?D._lenFrac:D._thickFrac,0,1,D.yanchor);var ie=c.getCursor(z,V,D.xanchor,D.yanchor);a(I,ie)},doneFn:function(){if(a(I),z!==void 0&&V!==void 0){var H={};H[D._propPrefix+"x"]=z,H[D._propPrefix+"y"]=V,D._traceIndex!==void 0?b.call("_guiRestyle",F,H,D._traceIndex):b.call("_guiRelayout",F,H)}}})}(C,M,p)}),L.exit().each(function(M){t.autoMargin(p,M._id)}).remove(),L.order()}}},90553:function(O,S,e){var v=e(3400);O.exports=function(x){return v.isPlainObject(x.colorbar)}},55080:function(O,S,e){O.exports={moduleType:"component",name:"colorbar",attributes:e(42996),supplyDefaults:e(64013),draw:e(37848).draw,hasColorbar:e(90553)}},49084:function(O,S,e){var v=e(42996),x=e(53756).counter,t=e(95376),b=e(88304).scales;function g(c){return"`"+c+"`"}t(b),O.exports=function(c,s){c=c||"";var n,i=(s=s||{}).cLetter||"c",a=("onlyIfNumerical"in s&&s.onlyIfNumerical,"noScale"in s?s.noScale:c==="marker.line"),r="showScaleDflt"in s?s.showScaleDflt:i==="z",o=typeof s.colorscaleDflt=="string"?b[s.colorscaleDflt]:null,l=s.editTypeOverride||"",u=c?c+".":"";"colorAttr"in s?(n=s.colorAttr,s.colorAttr):g(u+(n={z:"z",c:"color"}[i]));var h=i+"auto",f=i+"min",T=i+"max",d=i+"mid",y={};y[f]=y[T]=void 0;var m={};m[h]=!1;var w={};return n==="color"&&(w.color={valType:"color",arrayOk:!0,editType:l||"style"},s.anim&&(w.color.anim=!0)),w[h]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:y},w[f]={valType:"number",dflt:null,editType:l||"plot",impliedEdits:m},w[T]={valType:"number",dflt:null,editType:l||"plot",impliedEdits:m},w[d]={valType:"number",dflt:null,editType:"calc",impliedEdits:y},w.colorscale={valType:"colorscale",editType:"calc",dflt:o,impliedEdits:{autocolorscale:!1}},w.autocolorscale={valType:"boolean",dflt:s.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},w.reversescale={valType:"boolean",dflt:!1,editType:"plot"},a||(w.showscale={valType:"boolean",dflt:r,editType:"calc"},w.colorbar=v),s.noColorAxis||(w.coloraxis={valType:"subplotid",regex:x("coloraxis"),dflt:null,editType:"calc"}),w}},47128:function(O,S,e){var v=e(38248),x=e(3400),t=e(94288).extractOpts;O.exports=function(b,g,c){var s,n=b._fullLayout,i=c.vals,a=c.containerStr,r=a?x.nestedProperty(g,a).get():g,o=t(r),l=o.auto!==!1,u=o.min,h=o.max,f=o.mid,T=function(){return x.aggNums(Math.min,null,i)},d=function(){return x.aggNums(Math.max,null,i)};u===void 0?u=T():l&&(u=r._colorAx&&v(u)?Math.min(u,T()):T()),h===void 0?h=d():l&&(h=r._colorAx&&v(h)?Math.max(h,d()):d()),l&&f!==void 0&&(h-f>f-u?u=f-(h-f):h-f<f-u&&(h=f+(f-u))),u===h&&(u-=.5,h+=.5),o._sync("min",u),o._sync("max",h),o.autocolorscale&&(s=u*h<0?n.colorscale.diverging:u>=0?n.colorscale.sequential:n.colorscale.sequentialminus,o._sync("colorscale",s))}},95504:function(O,S,e){var v=e(3400),x=e(94288).hasColorscale,t=e(94288).extractOpts;O.exports=function(b,g){function c(l,u){var h=l["_"+u];h!==void 0&&(l[u]=h)}function s(l,u){var h=u.container?v.nestedProperty(l,u.container).get():l;if(h)if(h.coloraxis)h._colorAx=g[h.coloraxis];else{var f=t(h),T=f.auto;(T||f.min===void 0)&&c(h,u.min),(T||f.max===void 0)&&c(h,u.max),f.autocolorscale&&c(h,"colorscale")}}for(var n=0;n<b.length;n++){var i=b[n],a=i._module.colorbar;if(a)if(Array.isArray(a))for(var r=0;r<a.length;r++)s(i,a[r]);else s(i,a);x(i,"marker.line")&&s(i,{container:"marker.line",min:"cmin",max:"cmax"})}for(var o in g._colorAxes)s(g[o],{min:"cmin",max:"cmax"})}},27260:function(O,S,e){var v=e(38248),x=e(3400),t=e(90553),b=e(64013),g=e(88304).isValid,c=e(24040).traceIs;function s(n,i){var a=i.slice(0,i.length-1);return i?x.nestedProperty(n,a).get()||{}:n}O.exports=function n(i,a,r,o,l){var u=l.prefix,h=l.cLetter,f="_module"in a,T=s(i,u),d=s(a,u),y=s(a._template||{},u)||{},m=function(){return delete i.coloraxis,delete a.coloraxis,n(i,a,r,o,l)};if(f){var w=r._colorAxes||{},_=o(u+"coloraxis");if(_){var A=c(a,"contour")&&x.nestedProperty(a,"contours.coloring").get()||"heatmap",p=w[_];return void(p?(p[2].push(m),p[0]!==A&&(p[0]=!1,x.warn(["Ignoring coloraxis:",_,"setting","as it is linked to incompatible colorscales."].join(" ")))):w[_]=[A,a,[m]])}}var L=T[h+"min"],M=T[h+"max"],C=v(L)&&v(M)&&L<M;o(u+h+"auto",!C)?o(u+h+"mid"):(o(u+h+"min"),o(u+h+"max"));var R,I,D=T.colorscale,F=y.colorscale;D!==void 0&&(R=!g(D)),F!==void 0&&(R=!g(F)),o(u+"autocolorscale",R),o(u+"colorscale"),o(u+"reversescale"),u!=="marker.line."&&(u&&f&&(I=t(T)),o(u+"showscale",I)&&(u&&y&&(d._template=y),b(T,d,r)))}},94288:function(O,S,e){var v=e(33428),x=e(49760),t=e(38248),b=e(3400),g=e(76308),c=e(88304).isValid,s=["showscale","autocolorscale","colorscale","reversescale","colorbar"],n=["min","max","mid","auto"];function i(u){var h,f,T,d=u._colorAx,y=d||u,m={};for(f=0;f<s.length;f++)m[T=s[f]]=y[T];if(d)for(h="c",f=0;f<n.length;f++)m[T=n[f]]=y["c"+T];else{var w;for(f=0;f<n.length;f++)((w="c"+(T=n[f]))in y||(w="z"+T)in y)&&(m[T]=y[w]);h=w.charAt(0)}return m._sync=function(_,A){var p=n.indexOf(_)!==-1?h+_:_;y[p]=y["_"+p]=A},m}function a(u){for(var h=i(u),f=h.min,T=h.max,d=h.reversescale?r(h.colorscale):h.colorscale,y=d.length,m=new Array(y),w=new Array(y),_=0;_<y;_++){var A=d[_];m[_]=f+A[0]*(T-f),w[_]=A[1]}return{domain:m,range:w}}function r(u){for(var h=u.length,f=new Array(h),T=h-1,d=0;T>=0;T--,d++){var y=u[T];f[d]=[1-y[0],y[1]]}return f}function o(u,h){h=h||{};for(var f=u.domain,T=u.range,d=T.length,y=new Array(d),m=0;m<d;m++){var w=x(T[m]).toRgb();y[m]=[w.r,w.g,w.b,w.a]}var _,A=v.scale.linear().domain(f).range(y).clamp(!0),p=h.noNumericCheck,L=h.returnArray;return(_=p&&L?A:p?function(M){return l(A(M))}:L?function(M){return t(M)?A(M):x(M).isValid()?M:g.defaultLine}:function(M){return t(M)?l(A(M)):x(M).isValid()?M:g.defaultLine}).domain=A.domain,_.range=function(){return T},_}function l(u){var h={r:u[0],g:u[1],b:u[2],a:u[3]};return x(h).toRgbString()}O.exports={hasColorscale:function(u,h,f){var T=h?b.nestedProperty(u,h).get()||{}:u,d=T[f||"color"];d&&d._inputArray&&(d=d._inputArray);var y=!1;if(b.isArrayOrTypedArray(d)){for(var m=0;m<d.length;m++)if(t(d[m])){y=!0;break}}return b.isPlainObject(T)&&(y||T.showscale===!0||t(T.cmin)&&t(T.cmax)||c(T.colorscale)||b.isPlainObject(T.colorbar))},extractOpts:i,extractScale:a,flipScale:r,makeColorScaleFunc:o,makeColorScaleFuncFromTrace:function(u,h){return o(a(u),h)}}},8932:function(O,S,e){var v=e(88304),x=e(94288);O.exports={moduleType:"component",name:"colorscale",attributes:e(49084),layoutAttributes:e(92332),supplyLayoutDefaults:e(51608),handleDefaults:e(27260),crossTraceDefaults:e(95504),calc:e(47128),scales:v.scales,defaultScale:v.defaultScale,getScale:v.get,isValidScale:v.isValid,hasColorscale:x.hasColorscale,extractOpts:x.extractOpts,extractScale:x.extractScale,flipScale:x.flipScale,makeColorScaleFunc:x.makeColorScaleFunc,makeColorScaleFuncFromTrace:x.makeColorScaleFuncFromTrace}},92332:function(O,S,e){var v=e(92880).extendFlat,x=e(49084),t=e(88304).scales;O.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:t.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:t.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:t.RdBu,editType:"calc"}},coloraxis:v({_isSubplotObj:!0,editType:"calc"},x("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},51608:function(O,S,e){var v=e(3400),x=e(31780),t=e(92332),b=e(27260);O.exports=function(g,c){function s(h,f){return v.coerce(g,c,t,h,f)}s("colorscale.sequential"),s("colorscale.sequentialminus"),s("colorscale.diverging");var n,i,a=c._colorAxes;function r(h,f){return v.coerce(n,i,t.coloraxis,h,f)}for(var o in a){var l=a[o];if(l[0])n=g[o]||{},(i=x.newContainer(c,o,"coloraxis"))._name=o,b(n,i,c,r,{prefix:"",cLetter:"c"});else{for(var u=0;u<l[2].length;u++)l[2][u]();delete c._colorAxes[o]}}}},88304:function(O,S,e){var v=e(49760),x={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},t=x.RdBu;function b(g){var c=0;if(!Array.isArray(g)||g.length<2||!g[0]||!g[g.length-1]||+g[0][0]!=0||+g[g.length-1][0]!=1)return!1;for(var s=0;s<g.length;s++){var n=g[s];if(n.length!==2||+n[0]<c||!v(n[1]).isValid())return!1;c=+n[0]}return!0}O.exports={scales:x,defaultScale:t,get:function(g,c){if(c||(c=t),!g)return c;function s(){try{g=x[g]||JSON.parse(g)}catch{g=c}}return typeof g=="string"&&(s(),typeof g=="string"&&s()),b(g)?g:c},isValid:function(g){return x[g]!==void 0||b(g)}}},78316:function(O){O.exports=function(S,e,v,x,t){var b=(S-v)/(x-v),g=b+e/(x-v),c=(b+g)/2;return t==="left"||t==="bottom"?b:t==="center"||t==="middle"?c:t==="right"||t==="top"?g:b<.6666666666666666-c?b:g>1.3333333333333333-c?g:c}},67416:function(O,S,e){var v=e(3400),x=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];O.exports=function(t,b,g,c){return t=g==="left"?0:g==="center"?1:g==="right"?2:v.constrain(Math.floor(3*t),0,2),b=c==="bottom"?0:c==="middle"?1:c==="top"?2:v.constrain(Math.floor(3*b),0,2),x[b][t]}},72760:function(O,S){S.selectMode=function(e){return e==="lasso"||e==="select"},S.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},S.openMode=function(e){return e==="drawline"||e==="drawopenpath"},S.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},S.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},S.selectingOrDrawing=function(e){return S.freeMode(e)||S.rectMode(e)}},86476:function(O,S,e){var v=e(29128),x=e(52264),t=e(89184),b=e(3400).removeElement,g=e(33816),c=O.exports={};c.align=e(78316),c.getCursor=e(67416);var s=e(2616);function n(){var a=document.createElement("div");a.className="dragcover";var r=a.style;return r.position="fixed",r.left=0,r.right=0,r.top=0,r.bottom=0,r.zIndex=999999999,r.background="none",document.body.appendChild(a),a}function i(a){return v(a.changedTouches?a.changedTouches[0]:a,document.body)}c.unhover=s.wrapped,c.unhoverRaw=s.raw,c.init=function(a){var r,o,l,u,h,f,T,d,y=a.gd,m=1,w=y._context.doubleClickDelay,_=a.element;y._mouseDownTime||(y._mouseDownTime=0),_.style.pointerEvents="all",_.onmousedown=p,t?(_._ontouchstart&&_.removeEventListener("touchstart",_._ontouchstart),_._ontouchstart=p,_.addEventListener("touchstart",p,{passive:!1})):_.ontouchstart=p;var A=a.clampFn||function(C,R,I){return Math.abs(C)<I&&(C=0),Math.abs(R)<I&&(R=0),[C,R]};function p(C){y._dragged=!1,y._dragging=!0;var R=i(C);r=R[0],o=R[1],T=C.target,f=C,d=C.buttons===2||C.ctrlKey,C.clientX===void 0&&C.clientY===void 0&&(C.clientX=r,C.clientY=o),(l=new Date().getTime())-y._mouseDownTime<w?m+=1:(m=1,y._mouseDownTime=l),a.prepFn&&a.prepFn(C,r,o),x&&!d?(h=n()).style.cursor=window.getComputedStyle(_).cursor:x||(h=document,u=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(_).cursor),document.addEventListener("mouseup",M),document.addEventListener("touchend",M),a.dragmode!==!1&&(C.preventDefault(),document.addEventListener("mousemove",L),document.addEventListener("touchmove",L,{passive:!1}))}function L(C){C.preventDefault();var R=i(C),I=a.minDrag||g.MINDRAG,D=A(R[0]-r,R[1]-o,I),F=D[0],q=D[1];(F||q)&&(y._dragged=!0,c.unhover(y,C)),y._dragged&&a.moveFn&&!d&&(y._dragdata={element:_,dx:F,dy:q},a.moveFn(F,q))}function M(C){if(delete y._dragdata,a.dragmode!==!1&&(C.preventDefault(),document.removeEventListener("mousemove",L),document.removeEventListener("touchmove",L)),document.removeEventListener("mouseup",M),document.removeEventListener("touchend",M),x?b(h):u&&(h.documentElement.style.cursor=u,u=null),y._dragging){if(y._dragging=!1,new Date().getTime()-y._mouseDownTime>w&&(m=Math.max(m-1,1)),y._dragged)a.doneFn&&a.doneFn();else if(a.clickFn&&a.clickFn(m,f),!d){var R;try{R=new MouseEvent("click",C)}catch{var I=i(C);(R=document.createEvent("MouseEvents")).initMouseEvent("click",C.bubbles,C.cancelable,C.view,C.detail,C.screenX,C.screenY,I[0],I[1],C.ctrlKey,C.altKey,C.shiftKey,C.metaKey,C.button,C.relatedTarget)}T.dispatchEvent(R)}y._dragging=!1,y._dragged=!1}else y._dragged=!1}},c.coverSlip=n},2616:function(O,S,e){var v=e(95924),x=e(91200),t=e(52200).getGraphDiv,b=e(92456),g=O.exports={};g.wrapped=function(c,s,n){(c=t(c))._fullLayout&&x.clear(c._fullLayout._uid+b.HOVERID),g.raw(c,s,n)},g.raw=function(c,s){var n=c._fullLayout,i=c._hoverdata;s||(s={}),s.target&&!c._dragged&&v.triggerHandler(c,"plotly_beforehover",s)===!1||(n._hoverlayer.selectAll("g").remove(),n._hoverlayer.selectAll("line").remove(),n._hoverlayer.selectAll("circle").remove(),c._hoverdata=void 0,s.target&&i&&c.emit("plotly_unhover",{event:s,points:i}))}},98192:function(O,S){S.u={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},S.c={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},43616:function(O,S,e){var v=e(33428),x=e(3400),t=x.numberFormat,b=e(38248),g=e(49760),c=e(24040),s=e(76308),n=e(8932),i=x.strTranslate,a=e(72736),r=e(9616),o=e(84284).LINE_SPACING,l=e(13448).DESELECTDIM,u=e(43028),h=e(7152),f=e(10624).appendArrayPointValue,T=O.exports={};function d(_e){return _e==="none"?void 0:_e}T.font=function(_e,fe){var le=fe.variant,ye=fe.style,Oe=fe.weight,Ae=fe.color,Se=fe.size,Pe=fe.family,Fe=fe.shadow,Be=fe.lineposition,xe=fe.textcase;Pe&&_e.style("font-family",Pe),Se+1&&_e.style("font-size",Se+"px"),Ae&&_e.call(s.fill,Ae),Oe&&_e.style("font-weight",Oe),ye&&_e.style("font-style",ye),le&&_e.style("font-variant",le),xe&&_e.style("text-transform",d(function(Me){return y[Me]}(xe))),Fe&&_e.style("text-shadow",Fe==="auto"?a.makeTextShadow(s.contrast(Ae)):d(Fe)),Be&&_e.style("text-decoration-line",d(function(Me){return Me.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}(Be)))};var y={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function m(_e,fe,le,ye){var Oe=fe.fillpattern,Ae=fe.fillgradient,Se=Oe&&T.getPatternAttr(Oe.shape,0,"");if(Se){var Pe=T.getPatternAttr(Oe.bgcolor,0,null),Fe=T.getPatternAttr(Oe.fgcolor,0,null),Be=Oe.fgopacity,xe=T.getPatternAttr(Oe.size,0,8),Me=T.getPatternAttr(Oe.solidity,0,.3),Ce=fe.uid;T.pattern(_e,"point",le,Ce,Se,xe,Me,void 0,Oe.fillmode,Pe,Fe,Be)}else if(Ae&&Ae.type!=="none"){var Ne,Re,He=Ae.type,Ye="scatterfill-"+fe.uid;ye&&(Ye="legendfill-"+fe.uid),ye||Ae.start===void 0&&Ae.stop===void 0?(He==="horizontal"&&(He+="reversed"),_e.call(T.gradient,le,Ye,He,Ae.colorscale,"fill")):(He==="horizontal"?(Ne={x:Ae.start,y:0},Re={x:Ae.stop,y:0}):He==="vertical"&&(Ne={x:0,y:Ae.start},Re={x:0,y:Ae.stop}),Ne.x=fe._xA.c2p(Ne.x===void 0?fe._extremes.x.min[0].val:Ne.x,!0),Ne.y=fe._yA.c2p(Ne.y===void 0?fe._extremes.y.min[0].val:Ne.y,!0),Re.x=fe._xA.c2p(Re.x===void 0?fe._extremes.x.max[0].val:Re.x,!0),Re.y=fe._yA.c2p(Re.y===void 0?fe._extremes.y.max[0].val:Re.y,!0),_e.call(M,le,Ye,"linear",Ae.colorscale,"fill",Ne,Re,!0,!1))}else fe.fillcolor&&_e.call(s.fill,fe.fillcolor)}T.setPosition=function(_e,fe,le){_e.attr("x",fe).attr("y",le)},T.setSize=function(_e,fe,le){_e.attr("width",fe).attr("height",le)},T.setRect=function(_e,fe,le,ye,Oe){_e.call(T.setPosition,fe,le).call(T.setSize,ye,Oe)},T.translatePoint=function(_e,fe,le,ye){var Oe=le.c2p(_e.x),Ae=ye.c2p(_e.y);return!!(b(Oe)&&b(Ae)&&fe.node())&&(fe.node().nodeName==="text"?fe.attr("x",Oe).attr("y",Ae):fe.attr("transform",i(Oe,Ae)),!0)},T.translatePoints=function(_e,fe,le){_e.each(function(ye){var Oe=v.select(this);T.translatePoint(ye,Oe,fe,le)})},T.hideOutsideRangePoint=function(_e,fe,le,ye,Oe,Ae){fe.attr("display",le.isPtWithinRange(_e,Oe)&&ye.isPtWithinRange(_e,Ae)?null:"none")},T.hideOutsideRangePoints=function(_e,fe){if(fe._hasClipOnAxisFalse){var le=fe.xaxis,ye=fe.yaxis;_e.each(function(Oe){var Ae=Oe[0].trace,Se=Ae.xcalendar,Pe=Ae.ycalendar,Fe=c.traceIs(Ae,"bar-like")?".bartext":".point,.textpoint";_e.selectAll(Fe).each(function(Be){T.hideOutsideRangePoint(Be,v.select(this),le,ye,Se,Pe)})})}},T.crispRound=function(_e,fe,le){return fe&&b(fe)?_e._context.staticPlot?fe:fe<1?1:Math.round(fe):le||0},T.singleLineStyle=function(_e,fe,le,ye,Oe){fe.style("fill","none");var Ae=(((_e||[])[0]||{}).trace||{}).line||{},Se=le||Ae.width||0,Pe=Oe||Ae.dash||"";s.stroke(fe,ye||Ae.color),T.dashLine(fe,Pe,Se)},T.lineGroupStyle=function(_e,fe,le,ye){_e.style("fill","none").each(function(Oe){var Ae=(((Oe||[])[0]||{}).trace||{}).line||{},Se=fe||Ae.width||0,Pe=ye||Ae.dash||"";v.select(this).call(s.stroke,le||Ae.color).call(T.dashLine,Pe,Se)})},T.dashLine=function(_e,fe,le){le=+le||0,fe=T.dashStyle(fe,le),_e.style({"stroke-dasharray":fe,"stroke-width":le+"px"})},T.dashStyle=function(_e,fe){fe=+fe||1;var le=Math.max(fe,3);return _e==="solid"?_e="":_e==="dot"?_e=le+"px,"+le+"px":_e==="dash"?_e=3*le+"px,"+3*le+"px":_e==="longdash"?_e=5*le+"px,"+5*le+"px":_e==="dashdot"?_e=3*le+"px,"+le+"px,"+le+"px,"+le+"px":_e==="longdashdot"&&(_e=5*le+"px,"+2*le+"px,"+le+"px,"+2*le+"px"),_e},T.singleFillStyle=function(_e,fe){var le=v.select(_e.node());m(_e,((le.data()[0]||[])[0]||{}).trace||{},fe,!1)},T.fillGroupStyle=function(_e,fe,le){_e.style("stroke-width",0).each(function(ye){var Oe=v.select(this);ye[0].trace&&m(Oe,ye[0].trace,fe,le)})};var w=e(71984);T.symbolNames=[],T.symbolFuncs=[],T.symbolBackOffs=[],T.symbolNeedLines={},T.symbolNoDot={},T.symbolNoFill={},T.symbolList=[],Object.keys(w).forEach(function(_e){var fe=w[_e],le=fe.n;T.symbolList.push(le,String(le),_e,le+100,String(le+100),_e+"-open"),T.symbolNames[le]=_e,T.symbolFuncs[le]=fe.f,T.symbolBackOffs[le]=fe.backoff||0,fe.needLine&&(T.symbolNeedLines[le]=!0),fe.noDot?T.symbolNoDot[le]=!0:T.symbolList.push(le+200,String(le+200),_e+"-dot",le+300,String(le+300),_e+"-open-dot"),fe.noFill&&(T.symbolNoFill[le]=!0)});var _=T.symbolNames.length;function A(_e,fe,le,ye){var Oe=_e%100;return T.symbolFuncs[Oe](fe,le,ye)+(_e>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}T.symbolNumber=function(_e){if(b(_e))_e=+_e;else if(typeof _e=="string"){var fe=0;_e.indexOf("-open")>0&&(fe=100,_e=_e.replace("-open","")),_e.indexOf("-dot")>0&&(fe+=200,_e=_e.replace("-dot","")),(_e=T.symbolNames.indexOf(_e))>=0&&(_e+=fe)}return _e%100>=_||_e>=400?0:Math.floor(Math.max(_e,0))};var p=t("~f"),L={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};function M(_e,fe,le,ye,Oe,Ae,Se,Pe,Fe,Be){var xe,Me=Oe.length;ye==="linear"?xe={node:"linearGradient",attrs:{x1:Se.x,y1:Se.y,x2:Pe.x,y2:Pe.y,gradientUnits:Fe?"userSpaceOnUse":"objectBoundingBox"},reversed:Be}:ye==="radial"&&(xe={node:"radialGradient",reversed:Be});for(var Ce=new Array(Me),Ne=0;Ne<Me;Ne++)xe.reversed?Ce[Me-1-Ne]=[p(100*(1-Oe[Ne][0])),Oe[Ne][1]]:Ce[Ne]=[p(100*Oe[Ne][0]),Oe[Ne][1]];var Re=fe._fullLayout,He="g"+Re._uid+"-"+le,Ye=Re._defs.select(".gradients").selectAll("#"+He).data([ye+Ce.join(";")],x.identity);Ye.exit().remove(),Ye.enter().append(xe.node).each(function(){var Qe=v.select(this);xe.attrs&&Qe.attr(xe.attrs),Qe.attr("id",He);var lt=Qe.selectAll("stop").data(Ce);lt.exit().remove(),lt.enter().append("stop"),lt.each(function(ut){var xt=g(ut[1]);v.select(this).attr({offset:ut[0]+"%","stop-color":s.tinyRGB(xt),"stop-opacity":xt.getAlpha()})})}),_e.style(Ae,te(He,fe)).style(Ae+"-opacity",null),_e.classed("gradient_filled",!0)}T.gradient=function(_e,fe,le,ye,Oe,Ae){var Se=L[ye];return M(_e,fe,le,Se.type,Oe,Ae,Se.start,Se.stop,!1,Se.reversed)},T.pattern=function(_e,fe,le,ye,Oe,Ae,Se,Pe,Fe,Be,xe,Me){var Ce=fe==="legend";Pe&&(Fe==="overlay"?(Be=Pe,xe=s.contrast(Be)):(Be=void 0,xe=Pe));var Ne,Re,He,Ye,Qe,lt,ut,xt,_t,mt=le._fullLayout,it="p"+mt._uid+"-"+ye,nt={},Et=g(xe),zt=s.tinyRGB(Et),Ft=Me*Et.getAlpha();switch(Oe){case"/":Ne=Ae*Math.sqrt(2),Re=Ae*Math.sqrt(2),lt="path",nt={d:He="M-"+Ne/4+","+Re/4+"l"+Ne/2+",-"+Re/2+"M0,"+Re+"L"+Ne+",0M"+Ne/4*3+","+Re/4*5+"l"+Ne/2+",-"+Re/2,opacity:Ft,stroke:zt,"stroke-width":(Ye=Se*Ae)+"px"};break;case"\\":Ne=Ae*Math.sqrt(2),Re=Ae*Math.sqrt(2),lt="path",nt={d:He="M"+Ne/4*3+",-"+Re/4+"l"+Ne/2+","+Re/2+"M0,0L"+Ne+","+Re+"M-"+Ne/4+","+Re/4*3+"l"+Ne/2+","+Re/2,opacity:Ft,stroke:zt,"stroke-width":(Ye=Se*Ae)+"px"};break;case"x":Ne=Ae*Math.sqrt(2),Re=Ae*Math.sqrt(2),He="M-"+Ne/4+","+Re/4+"l"+Ne/2+",-"+Re/2+"M0,"+Re+"L"+Ne+",0M"+Ne/4*3+","+Re/4*5+"l"+Ne/2+",-"+Re/2+"M"+Ne/4*3+",-"+Re/4+"l"+Ne/2+","+Re/2+"M0,0L"+Ne+","+Re+"M-"+Ne/4+","+Re/4*3+"l"+Ne/2+","+Re/2,Ye=Ae-Ae*Math.sqrt(1-Se),lt="path",nt={d:He,opacity:Ft,stroke:zt,"stroke-width":Ye+"px"};break;case"|":lt="path",lt="path",nt={d:He="M"+(Ne=Ae)/2+",0L"+Ne/2+","+(Re=Ae),opacity:Ft,stroke:zt,"stroke-width":(Ye=Se*Ae)+"px"};break;case"-":lt="path",lt="path",nt={d:He="M0,"+(Re=Ae)/2+"L"+(Ne=Ae)+","+Re/2,opacity:Ft,stroke:zt,"stroke-width":(Ye=Se*Ae)+"px"};break;case"+":lt="path",He="M"+(Ne=Ae)/2+",0L"+Ne/2+","+(Re=Ae)+"M0,"+Re/2+"L"+Ne+","+Re/2,Ye=Ae-Ae*Math.sqrt(1-Se),lt="path",nt={d:He,opacity:Ft,stroke:zt,"stroke-width":Ye+"px"};break;case".":Ne=Ae,Re=Ae,Se<Math.PI/4?Qe=Math.sqrt(Se*Ae*Ae/Math.PI):(ut=Se,xt=Math.PI/4,Qe=(_t=Ae/2)+(Ae/Math.sqrt(2)-_t)*(ut-xt)/(1-xt)),lt="circle",nt={cx:Ne/2,cy:Re/2,r:Qe,opacity:Ft,fill:zt}}var Pt=[Oe||"noSh",Be||"noBg",xe||"noFg",Ae,Se].join(";"),Ze=mt._defs.select(".patterns").selectAll("#"+it).data([Pt],x.identity);Ze.exit().remove(),Ze.enter().append("pattern").each(function(){var Je=v.select(this);if(Je.attr({id:it,width:Ne+"px",height:Re+"px",patternUnits:"userSpaceOnUse",patternTransform:Ce?"scale(0.8)":""}),Be){var qe=g(Be),Ke=s.tinyRGB(qe),ft=qe.getAlpha(),ot=Je.selectAll("rect").data([0]);ot.exit().remove(),ot.enter().append("rect").attr({width:Ne+"px",height:Re+"px",fill:Ke,"fill-opacity":ft})}var Ue=Je.selectAll(lt).data([0]);Ue.exit().remove(),Ue.enter().append(lt).attr(nt)}),_e.style("fill",te(it,le)).style("fill-opacity",null),_e.classed("pattern_filled",!0)},T.initGradients=function(_e){var fe=_e._fullLayout;x.ensureSingle(fe._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),v.select(_e).selectAll(".gradient_filled").classed("gradient_filled",!1)},T.initPatterns=function(_e){var fe=_e._fullLayout;x.ensureSingle(fe._defs,"g","patterns").selectAll("pattern").remove(),v.select(_e).selectAll(".pattern_filled").classed("pattern_filled",!1)},T.getPatternAttr=function(_e,fe,le){return _e&&x.isArrayOrTypedArray(_e)?fe<_e.length?_e[fe]:le:_e},T.pointStyle=function(_e,fe,le,ye){if(_e.size()){var Oe=T.makePointStyleFns(fe);_e.each(function(Ae){T.singlePointStyle(Ae,v.select(this),fe,Oe,le,ye)})}},T.singlePointStyle=function(_e,fe,le,ye,Oe,Ae){var Se=le.marker,Pe=Se.line;if(Ae&&Ae.i>=0&&_e.i===void 0&&(_e.i=Ae.i),fe.style("opacity",ye.selectedOpacityFn?ye.selectedOpacityFn(_e):_e.mo===void 0?Se.opacity:_e.mo),ye.ms2mrc){var Fe;Fe=_e.ms==="various"||Se.size==="various"?3:ye.ms2mrc(_e.ms),_e.mrc=Fe,ye.selectedSizeFn&&(Fe=_e.mrc=ye.selectedSizeFn(_e));var Be=T.symbolNumber(_e.mx||Se.symbol)||0;_e.om=Be%200>=100;var xe=Ie(_e,le),Me=$(_e,le);fe.attr("d",A(Be,Fe,xe,Me))}var Ce,Ne,Re,He=!1;if(_e.so)Re=Pe.outlierwidth,Ne=Pe.outliercolor,Ce=Se.outliercolor;else{var Ye=(Pe||{}).width;Re=(_e.mlw+1||Ye+1||(_e.trace?(_e.trace.marker.line||{}).width:0)+1)-1||0,Ne="mlc"in _e?_e.mlcc=ye.lineScale(_e.mlc):x.isArrayOrTypedArray(Pe.color)?s.defaultLine:Pe.color,x.isArrayOrTypedArray(Se.color)&&(Ce=s.defaultLine,He=!0),Ce="mc"in _e?_e.mcc=ye.markerScale(_e.mc):Se.color||Se.colors||"rgba(0,0,0,0)",ye.selectedColorFn&&(Ce=ye.selectedColorFn(_e))}if(_e.om)fe.call(s.stroke,Ce).style({"stroke-width":(Re||1)+"px",fill:"none"});else{fe.style("stroke-width",(_e.isBlank?0:Re)+"px");var Qe=Se.gradient,lt=_e.mgt;lt?He=!0:lt=Qe&&Qe.type,x.isArrayOrTypedArray(lt)&&(lt=lt[0],L[lt]||(lt=0));var ut=Se.pattern,xt=ut&&T.getPatternAttr(ut.shape,_e.i,"");if(lt&&lt!=="none"){var _t=_e.mgc;_t?He=!0:_t=Qe.color;var mt=le.uid;He&&(mt+="-"+_e.i),T.gradient(fe,Oe,mt,lt,[[0,_t],[1,Ce]],"fill")}else if(xt){var it=!1,nt=ut.fgcolor;!nt&&Ae&&Ae.color&&(nt=Ae.color,it=!0);var Et=T.getPatternAttr(nt,_e.i,Ae&&Ae.color||null),zt=T.getPatternAttr(ut.bgcolor,_e.i,null),Ft=ut.fgopacity,Pt=T.getPatternAttr(ut.size,_e.i,8),Ze=T.getPatternAttr(ut.solidity,_e.i,.3);it=it||_e.mcc||x.isArrayOrTypedArray(ut.shape)||x.isArrayOrTypedArray(ut.bgcolor)||x.isArrayOrTypedArray(ut.fgcolor)||x.isArrayOrTypedArray(ut.size)||x.isArrayOrTypedArray(ut.solidity);var Je=le.uid;it&&(Je+="-"+_e.i),T.pattern(fe,"point",Oe,Je,xt,Pt,Ze,_e.mcc,ut.fillmode,zt,Et,Ft)}else x.isArrayOrTypedArray(Ce)?s.fill(fe,Ce[_e.i]):s.fill(fe,Ce);Re&&s.stroke(fe,Ne)}},T.makePointStyleFns=function(_e){var fe={},le=_e.marker;return fe.markerScale=T.tryColorscale(le,""),fe.lineScale=T.tryColorscale(le,"line"),c.traceIs(_e,"symbols")&&(fe.ms2mrc=u.isBubble(_e)?h(_e):function(){return(le.size||6)/2}),_e.selectedpoints&&x.extendFlat(fe,T.makeSelectedPointStyleFns(_e)),fe},T.makeSelectedPointStyleFns=function(_e){var fe={},le=_e.selected||{},ye=_e.unselected||{},Oe=_e.marker||{},Ae=le.marker||{},Se=ye.marker||{},Pe=Oe.opacity,Fe=Ae.opacity,Be=Se.opacity,xe=Fe!==void 0,Me=Be!==void 0;(x.isArrayOrTypedArray(Pe)||xe||Me)&&(fe.selectedOpacityFn=function(xt){var _t=xt.mo===void 0?Oe.opacity:xt.mo;return xt.selected?xe?Fe:_t:Me?Be:l*_t});var Ce=Oe.color,Ne=Ae.color,Re=Se.color;(Ne||Re)&&(fe.selectedColorFn=function(xt){var _t=xt.mcc||Ce;return xt.selected?Ne||_t:Re||_t});var He=Oe.size,Ye=Ae.size,Qe=Se.size,lt=Ye!==void 0,ut=Qe!==void 0;return c.traceIs(_e,"symbols")&&(lt||ut)&&(fe.selectedSizeFn=function(xt){var _t=xt.mrc||He/2;return xt.selected?lt?Ye/2:_t:ut?Qe/2:_t}),fe},T.makeSelectedTextStyleFns=function(_e){var fe={},le=_e.selected||{},ye=_e.unselected||{},Oe=_e.textfont||{},Ae=le.textfont||{},Se=ye.textfont||{},Pe=Oe.color,Fe=Ae.color,Be=Se.color;return fe.selectedTextColorFn=function(xe){var Me=xe.tc||Pe;return xe.selected?Fe||Me:Be||(Fe?Me:s.addOpacity(Me,l))},fe},T.selectedPointStyle=function(_e,fe){if(_e.size()&&fe.selectedpoints){var le=T.makeSelectedPointStyleFns(fe),ye=fe.marker||{},Oe=[];le.selectedOpacityFn&&Oe.push(function(Ae,Se){Ae.style("opacity",le.selectedOpacityFn(Se))}),le.selectedColorFn&&Oe.push(function(Ae,Se){s.fill(Ae,le.selectedColorFn(Se))}),le.selectedSizeFn&&Oe.push(function(Ae,Se){var Pe=Se.mx||ye.symbol||0,Fe=le.selectedSizeFn(Se);Ae.attr("d",A(T.symbolNumber(Pe),Fe,Ie(Se,fe),$(Se,fe))),Se.mrc2=Fe}),Oe.length&&_e.each(function(Ae){for(var Se=v.select(this),Pe=0;Pe<Oe.length;Pe++)Oe[Pe](Se,Ae)})}},T.tryColorscale=function(_e,fe){var le=fe?x.nestedProperty(_e,fe).get():_e;if(le){var ye=le.color;if((le.colorscale||le._colorAx)&&x.isArrayOrTypedArray(ye))return n.makeColorScaleFuncFromTrace(le)}return x.identity};var C,R,I={start:1,end:-1,middle:0,bottom:1,top:-1};function D(_e,fe,le,ye,Oe){var Ae=v.select(_e.node().parentNode),Se=fe.indexOf("top")!==-1?"top":fe.indexOf("bottom")!==-1?"bottom":"middle",Pe=fe.indexOf("left")!==-1?"end":fe.indexOf("right")!==-1?"start":"middle",Fe=ye?ye/.8+1:0,Be=(a.lineCount(_e)-1)*o+1,xe=I[Pe]*Fe,Me=.75*le+I[Se]*Fe+(I[Se]-1)*Be*le/2;_e.attr("text-anchor",Pe),Oe||Ae.attr("transform",i(xe,Me))}function F(_e,fe){var le=_e.ts||fe.textfont.size;return b(le)&&le>0?le:0}function q(_e,fe,le){return le&&(_e=G(_e)),fe?V(_e[1]):z(_e[0])}function z(_e){var fe=v.round(_e,2);return C=fe,fe}function V(_e){var fe=v.round(_e,2);return R=fe,fe}function X(_e,fe,le,ye){var Oe=_e[0]-fe[0],Ae=_e[1]-fe[1],Se=le[0]-fe[0],Pe=le[1]-fe[1],Fe=Math.pow(Oe*Oe+Ae*Ae,.25),Be=Math.pow(Se*Se+Pe*Pe,.25),xe=(Be*Be*Oe-Fe*Fe*Se)*ye,Me=(Be*Be*Ae-Fe*Fe*Pe)*ye,Ce=3*Be*(Fe+Be),Ne=3*Fe*(Fe+Be);return[[z(fe[0]+(Ce&&xe/Ce)),V(fe[1]+(Ce&&Me/Ce))],[z(fe[0]-(Ne&&xe/Ne)),V(fe[1]-(Ne&&Me/Ne))]]}T.textPointStyle=function(_e,fe,le){if(_e.size()){var ye;if(fe.selectedpoints){var Oe=T.makeSelectedTextStyleFns(fe);ye=Oe.selectedTextColorFn}var Ae=fe.texttemplate,Se=le._fullLayout;_e.each(function(Pe){var Fe=v.select(this),Be=Ae?x.extractOption(Pe,fe,"txt","texttemplate"):x.extractOption(Pe,fe,"tx","text");if(Be||Be===0){if(Ae){var xe=fe._module.formatLabels,Me=xe?xe(Pe,fe,Se):{},Ce={};f(Ce,fe,Pe.i);var Ne=fe._meta||{};Be=x.texttemplateString(Be,Me,Se._d3locale,Ce,Pe,Ne)}var Re=Pe.tp||fe.textposition,He=F(Pe,fe),Ye=ye?ye(Pe):Pe.tc||fe.textfont.color;Fe.call(T.font,{family:Pe.tf||fe.textfont.family,weight:Pe.tw||fe.textfont.weight,style:Pe.ty||fe.textfont.style,variant:Pe.tv||fe.textfont.variant,textcase:Pe.tC||fe.textfont.textcase,lineposition:Pe.tE||fe.textfont.lineposition,shadow:Pe.tS||fe.textfont.shadow,size:He,color:Ye}).text(Be).call(a.convertToTspans,le).call(D,Re,He,Pe.mrc)}else Fe.remove()})}},T.selectedTextStyle=function(_e,fe){if(_e.size()&&fe.selectedpoints){var le=T.makeSelectedTextStyleFns(fe);_e.each(function(ye){var Oe=v.select(this),Ae=le.selectedTextColorFn(ye),Se=ye.tp||fe.textposition,Pe=F(ye,fe);s.fill(Oe,Ae);var Fe=c.traceIs(fe,"bar-like");D(Oe,Se,Pe,ye.mrc2||ye.mrc,Fe)})}},T.smoothopen=function(_e,fe){if(_e.length<3)return"M"+_e.join("L");var le,ye="M"+_e[0],Oe=[];for(le=1;le<_e.length-1;le++)Oe.push(X(_e[le-1],_e[le],_e[le+1],fe));for(ye+="Q"+Oe[0][0]+" "+_e[1],le=2;le<_e.length-1;le++)ye+="C"+Oe[le-2][1]+" "+Oe[le-1][0]+" "+_e[le];return ye+"Q"+Oe[_e.length-3][1]+" "+_e[_e.length-1]},T.smoothclosed=function(_e,fe){if(_e.length<3)return"M"+_e.join("L")+"Z";var le,ye="M"+_e[0],Oe=_e.length-1,Ae=[X(_e[Oe],_e[0],_e[1],fe)];for(le=1;le<Oe;le++)Ae.push(X(_e[le-1],_e[le],_e[le+1],fe));for(Ae.push(X(_e[Oe-1],_e[Oe],_e[0],fe)),le=1;le<=Oe;le++)ye+="C"+Ae[le-1][1]+" "+Ae[le][0]+" "+_e[le];return ye+"C"+Ae[Oe][1]+" "+Ae[0][0]+" "+_e[0]+"Z"};var j={hv:function(_e,fe,le){return"H"+z(fe[0])+"V"+q(fe,1,le)},vh:function(_e,fe,le){return"V"+V(fe[1])+"H"+q(fe,0,le)},hvh:function(_e,fe,le){return"H"+z((_e[0]+fe[0])/2)+"V"+V(fe[1])+"H"+q(fe,0,le)},vhv:function(_e,fe,le){return"V"+V((_e[1]+fe[1])/2)+"H"+z(fe[0])+"V"+q(fe,1,le)}},H=function(_e,fe,le){return"L"+q(fe,0,le)+","+q(fe,1,le)};function G(_e,fe){var le=_e.backoff,ye=_e.trace,Oe=_e.d,Ae=_e.i;if(le&&ye&&ye.marker&&ye.marker.angle%360==0&&ye.line&&ye.line.shape!=="spline"){var Se=x.isArrayOrTypedArray(le),Pe=_e,Fe=fe?fe[0]:C||0,Be=fe?fe[1]:R||0,xe=Pe[0],Me=Pe[1],Ce=xe-Fe,Ne=Me-Be,Re=Math.atan2(Ne,Ce),He=Se?le[Ae]:le;if(He==="auto"){var Ye=Pe.i;ye.type==="scatter"&&Ye--;var Qe=Pe.marker,lt=Qe.symbol;x.isArrayOrTypedArray(lt)&&(lt=lt[Ye]);var ut=Qe.size;x.isArrayOrTypedArray(ut)&&(ut=ut[Ye]),He=Qe?T.symbolBackOffs[T.symbolNumber(lt)]*ut:0,He+=T.getMarkerStandoff(Oe[Ye],ye)||0}var xt=xe-He*Math.cos(Re),_t=Me-He*Math.sin(Re);(xt<=xe&&xt>=Fe||xt>=xe&&xt<=Fe)&&(_t<=Me&&_t>=Be||_t>=Me&&_t<=Be)&&(_e=[xt,_t])}return _e}T.steps=function(_e){var fe=j[_e]||H;return function(le){for(var ye="M"+z(le[0][0])+","+V(le[0][1]),Oe=le.length,Ae=1;Ae<Oe;Ae++)ye+=fe(le[Ae-1],le[Ae],Ae===Oe-1);return ye}},T.applyBackoff=G,T.makeTester=function(){var _e=x.ensureSingleById(v.select("body"),"svg","js-plotly-tester",function(le){le.attr(r.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),fe=x.ensureSingle(_e,"path","js-reference-point",function(le){le.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});T.tester=_e,T.testref=fe},T.savedBBoxes={};var ie=0;function re(_e){var fe=_e.getAttribute("data-unformatted");if(fe!==null)return fe+_e.getAttribute("data-math")+_e.getAttribute("text-anchor")+_e.getAttribute("style")}function te(_e,fe){if(!_e)return null;var le=fe._context,ye=le._exportedPlot?"":le._baseUrl||"";return ye?"url('"+ye+"#"+_e+"')":"url(#"+_e+")"}T.bBox=function(_e,fe,le){var ye,Oe,Ae;if(le||(le=re(_e)),le){if(ye=T.savedBBoxes[le])return x.extendFlat({},ye)}else if(_e.childNodes.length===1){var Se=_e.childNodes[0];if(le=re(Se)){var Pe=+Se.getAttribute("x")||0,Fe=+Se.getAttribute("y")||0,Be=Se.getAttribute("transform");if(!Be){var xe=T.bBox(Se,!1,le);return Pe&&(xe.left+=Pe,xe.right+=Pe),Fe&&(xe.top+=Fe,xe.bottom+=Fe),xe}if(le+="~"+Pe+"~"+Fe+"~"+Be,ye=T.savedBBoxes[le])return x.extendFlat({},ye)}}fe?Oe=_e:(Ae=T.tester.node(),Oe=_e.cloneNode(!0),Ae.appendChild(Oe)),v.select(Oe).attr("transform",null).call(a.positionText,0,0);var Me=Oe.getBoundingClientRect(),Ce=T.testref.node().getBoundingClientRect();fe||Ae.removeChild(Oe);var Ne={height:Me.height,width:Me.width,left:Me.left-Ce.left,top:Me.top-Ce.top,right:Me.right-Ce.left,bottom:Me.bottom-Ce.top};return ie>=1e4&&(T.savedBBoxes={},ie=0),le&&(T.savedBBoxes[le]=Ne),ie++,x.extendFlat({},Ne)},T.setClipUrl=function(_e,fe,le){_e.attr("clip-path",te(fe,le))},T.getTranslate=function(_e){var fe=(_e[_e.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(le,ye,Oe){return[ye,Oe].join(" ")}).split(" ");return{x:+fe[0]||0,y:+fe[1]||0}},T.setTranslate=function(_e,fe,le){var ye=_e.attr?"attr":"getAttribute",Oe=_e.attr?"attr":"setAttribute",Ae=_e[ye]("transform")||"";return fe=fe||0,le=le||0,Ae=Ae.replace(/(\btranslate\(.*?\);?)/,"").trim(),Ae=(Ae+=i(fe,le)).trim(),_e[Oe]("transform",Ae),Ae},T.getScale=function(_e){var fe=(_e[_e.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(le,ye,Oe){return[ye,Oe].join(" ")}).split(" ");return{x:+fe[0]||1,y:+fe[1]||1}},T.setScale=function(_e,fe,le){var ye=_e.attr?"attr":"getAttribute",Oe=_e.attr?"attr":"setAttribute",Ae=_e[ye]("transform")||"";return fe=fe||1,le=le||1,Ae=Ae.replace(/(\bscale\(.*?\);?)/,"").trim(),Ae=(Ae+="scale("+fe+","+le+")").trim(),_e[Oe]("transform",Ae),Ae};var K=/\s*sc.*/;T.setPointGroupScale=function(_e,fe,le){if(fe=fe||1,le=le||1,_e){var ye=fe===1&&le===1?"":"scale("+fe+","+le+")";_e.each(function(){var Oe=(this.getAttribute("transform")||"").replace(K,"");Oe=(Oe+=ye).trim(),this.setAttribute("transform",Oe)})}};var J=/translate\([^)]*\)\s*$/;function $(_e,fe){var le;return _e&&(le=_e.mf),le===void 0&&(le=fe.marker&&fe.marker.standoff||0),fe._geo||fe._xA?le:-le}T.setTextPointsScale=function(_e,fe,le){_e&&_e.each(function(){var ye,Oe=v.select(this),Ae=Oe.select("text");if(Ae.node()){var Se=parseFloat(Ae.attr("x")||0),Pe=parseFloat(Ae.attr("y")||0),Fe=(Oe.attr("transform")||"").match(J);ye=fe===1&&le===1?[]:[i(Se,Pe),"scale("+fe+","+le+")",i(-Se,-Pe)],Fe&&ye.push(Fe),Oe.attr("transform",ye.join(""))}})},T.getMarkerStandoff=$;var ae,ue,ce,de,pe,me,be=Math.atan2,we=Math.cos,Te=Math.sin;function Le(_e,fe){var le=fe[0],ye=fe[1];return[le*we(_e)-ye*Te(_e),le*Te(_e)+ye*we(_e)]}function Ie(_e,fe){var le,ye,Oe=_e.ma;Oe===void 0&&((Oe=fe.marker.angle)&&!x.isArrayOrTypedArray(Oe)||(Oe=0));var Ae=fe.marker.angleref;if(Ae==="previous"||Ae==="north"){if(fe._geo){var Se=fe._geo.project(_e.lonlat);le=Se[0],ye=Se[1]}else{var Pe=fe._xA,Fe=fe._yA;if(!Pe||!Fe)return 90;le=Pe.c2p(_e.x),ye=Fe.c2p(_e.y)}if(fe._geo){var Be,xe=_e.lonlat[0],Me=_e.lonlat[1],Ce=fe._geo.project([xe,Me+1e-5]),Ne=fe._geo.project([xe+1e-5,Me]),Re=be(Ne[1]-ye,Ne[0]-le),He=be(Ce[1]-ye,Ce[0]-le);if(Ae==="north")Be=Oe/180*Math.PI;else if(Ae==="previous"){var Ye=xe/180*Math.PI,Qe=Me/180*Math.PI,lt=ae/180*Math.PI,ut=ue/180*Math.PI,xt=lt-Ye,_t=we(ut)*Te(xt),mt=Te(ut)*we(Qe)-we(ut)*Te(Qe)*we(xt);Be=-be(_t,mt)-Math.PI,ae=xe,ue=Me}var it=Le(Re,[we(Be),0]),nt=Le(He,[Te(Be),0]);Oe=be(it[1]+nt[1],it[0]+nt[0])/Math.PI*180,Ae!=="previous"||me===fe.uid&&_e.i===pe+1||(Oe=null)}if(Ae==="previous"&&!fe._geo)if(me===fe.uid&&_e.i===pe+1&&b(le)&&b(ye)){var Et=le-ce,zt=ye-de,Ft=fe.line&&fe.line.shape||"",Pt=Ft.slice(Ft.length-1);Pt==="h"&&(zt=0),Pt==="v"&&(Et=0),Oe+=be(zt,Et)/Math.PI*180+90}else Oe=null}return ce=le,de=ye,pe=_e.i,me=fe.uid,Oe}T.getMarkerAngle=Ie},71984:function(O,S,e){var v,x,t,b,g=e(21984),c=e(33428).round,s="M0,0Z",n=Math.sqrt(2),i=Math.sqrt(3),a=Math.PI,r=Math.cos,o=Math.sin;function l(h){return h===null}function u(h,f,T){if(!(h&&h%360!=0||f))return T;if(t===h&&b===f&&v===T)return x;function d(F,q){var z=r(F),V=o(F),X=q[0],j=q[1]+(f||0);return[X*z-j*V,X*V+j*z]}t=h,b=f,v=T;for(var y=h/180*a,m=0,w=0,_=g(T),A="",p=0;p<_.length;p++){var L=_[p],M=L[0],C=m,R=w;if(M==="M"||M==="L")m=+L[1],w=+L[2];else if(M==="m"||M==="l")m+=+L[1],w+=+L[2];else if(M==="H")m=+L[1];else if(M==="h")m+=+L[1];else if(M==="V")w=+L[1];else if(M==="v")w+=+L[1];else if(M==="A"){m=+L[1],w=+L[2];var I=d(y,[+L[6],+L[7]]);L[6]=I[0],L[7]=I[1],L[3]=+L[3]+h}M!=="H"&&M!=="V"||(M="L"),M!=="h"&&M!=="v"||(M="l"),M!=="m"&&M!=="l"||(m-=C,w-=R);var D=d(y,[m,w]);M!=="H"&&M!=="V"||(M="L"),M!=="M"&&M!=="L"&&M!=="m"&&M!=="l"||(L[1]=D[0],L[2]=D[1]),L[0]=M,A+=L[0]+L.slice(1).join(",")}return x=A,A}O.exports={circle:{n:0,f:function(h,f,T){if(l(f))return s;var d=c(h,2),y="M"+d+",0A"+d+","+d+" 0 1,1 0,-"+d+"A"+d+","+d+" 0 0,1 "+d+",0Z";return T?u(f,T,y):y}},square:{n:1,f:function(h,f,T){if(l(f))return s;var d=c(h,2);return u(f,T,"M"+d+","+d+"H-"+d+"V-"+d+"H"+d+"Z")}},diamond:{n:2,f:function(h,f,T){if(l(f))return s;var d=c(1.3*h,2);return u(f,T,"M"+d+",0L0,"+d+"L-"+d+",0L0,-"+d+"Z")}},cross:{n:3,f:function(h,f,T){if(l(f))return s;var d=c(.4*h,2),y=c(1.2*h,2);return u(f,T,"M"+y+","+d+"H"+d+"V"+y+"H-"+d+"V"+d+"H-"+y+"V-"+d+"H-"+d+"V-"+y+"H"+d+"V-"+d+"H"+y+"Z")}},x:{n:4,f:function(h,f,T){if(l(f))return s;var d=c(.8*h/n,2),y="l"+d+","+d,m="l"+d+",-"+d,w="l-"+d+",-"+d,_="l-"+d+","+d;return u(f,T,"M0,"+d+y+m+w+m+w+_+w+_+y+_+y+"Z")}},"triangle-up":{n:5,f:function(h,f,T){if(l(f))return s;var d=c(2*h/i,2);return u(f,T,"M-"+d+","+c(h/2,2)+"H"+d+"L0,-"+c(h,2)+"Z")}},"triangle-down":{n:6,f:function(h,f,T){if(l(f))return s;var d=c(2*h/i,2);return u(f,T,"M-"+d+",-"+c(h/2,2)+"H"+d+"L0,"+c(h,2)+"Z")}},"triangle-left":{n:7,f:function(h,f,T){if(l(f))return s;var d=c(2*h/i,2);return u(f,T,"M"+c(h/2,2)+",-"+d+"V"+d+"L-"+c(h,2)+",0Z")}},"triangle-right":{n:8,f:function(h,f,T){if(l(f))return s;var d=c(2*h/i,2);return u(f,T,"M-"+c(h/2,2)+",-"+d+"V"+d+"L"+c(h,2)+",0Z")}},"triangle-ne":{n:9,f:function(h,f,T){if(l(f))return s;var d=c(.6*h,2),y=c(1.2*h,2);return u(f,T,"M-"+y+",-"+d+"H"+d+"V"+y+"Z")}},"triangle-se":{n:10,f:function(h,f,T){if(l(f))return s;var d=c(.6*h,2),y=c(1.2*h,2);return u(f,T,"M"+d+",-"+y+"V"+d+"H-"+y+"Z")}},"triangle-sw":{n:11,f:function(h,f,T){if(l(f))return s;var d=c(.6*h,2),y=c(1.2*h,2);return u(f,T,"M"+y+","+d+"H-"+d+"V-"+y+"Z")}},"triangle-nw":{n:12,f:function(h,f,T){if(l(f))return s;var d=c(.6*h,2),y=c(1.2*h,2);return u(f,T,"M-"+d+","+y+"V-"+d+"H"+y+"Z")}},pentagon:{n:13,f:function(h,f,T){if(l(f))return s;var d=c(.951*h,2),y=c(.588*h,2),m=c(-h,2),w=c(-.309*h,2);return u(f,T,"M"+d+","+w+"L"+y+","+c(.809*h,2)+"H-"+y+"L-"+d+","+w+"L0,"+m+"Z")}},hexagon:{n:14,f:function(h,f,T){if(l(f))return s;var d=c(h,2),y=c(h/2,2),m=c(h*i/2,2);return u(f,T,"M"+m+",-"+y+"V"+y+"L0,"+d+"L-"+m+","+y+"V-"+y+"L0,-"+d+"Z")}},hexagon2:{n:15,f:function(h,f,T){if(l(f))return s;var d=c(h,2),y=c(h/2,2),m=c(h*i/2,2);return u(f,T,"M-"+y+","+m+"H"+y+"L"+d+",0L"+y+",-"+m+"H-"+y+"L-"+d+",0Z")}},octagon:{n:16,f:function(h,f,T){if(l(f))return s;var d=c(.924*h,2),y=c(.383*h,2);return u(f,T,"M-"+y+",-"+d+"H"+y+"L"+d+",-"+y+"V"+y+"L"+y+","+d+"H-"+y+"L-"+d+","+y+"V-"+y+"Z")}},star:{n:17,f:function(h,f,T){if(l(f))return s;var d=1.4*h,y=c(.225*d,2),m=c(.951*d,2),w=c(.363*d,2),_=c(.588*d,2),A=c(-d,2),p=c(-.309*d,2),L=c(.118*d,2),M=c(.809*d,2);return u(f,T,"M"+y+","+p+"H"+m+"L"+w+","+L+"L"+_+","+M+"L0,"+c(.382*d,2)+"L-"+_+","+M+"L-"+w+","+L+"L-"+m+","+p+"H-"+y+"L0,"+A+"Z")}},hexagram:{n:18,f:function(h,f,T){if(l(f))return s;var d=c(.66*h,2),y=c(.38*h,2),m=c(.76*h,2);return u(f,T,"M-"+m+",0l-"+y+",-"+d+"h"+m+"l"+y+",-"+d+"l"+y+","+d+"h"+m+"l-"+y+","+d+"l"+y+","+d+"h-"+m+"l-"+y+","+d+"l-"+y+",-"+d+"h-"+m+"Z")}},"star-triangle-up":{n:19,f:function(h,f,T){if(l(f))return s;var d=c(h*i*.8,2),y=c(.8*h,2),m=c(1.6*h,2),w=c(4*h,2),_="A "+w+","+w+" 0 0 1 ";return u(f,T,"M-"+d+","+y+_+d+","+y+_+"0,-"+m+_+"-"+d+","+y+"Z")}},"star-triangle-down":{n:20,f:function(h,f,T){if(l(f))return s;var d=c(h*i*.8,2),y=c(.8*h,2),m=c(1.6*h,2),w=c(4*h,2),_="A "+w+","+w+" 0 0 1 ";return u(f,T,"M"+d+",-"+y+_+"-"+d+",-"+y+_+"0,"+m+_+d+",-"+y+"Z")}},"star-square":{n:21,f:function(h,f,T){if(l(f))return s;var d=c(1.1*h,2),y=c(2*h,2),m="A "+y+","+y+" 0 0 1 ";return u(f,T,"M-"+d+",-"+d+m+"-"+d+","+d+m+d+","+d+m+d+",-"+d+m+"-"+d+",-"+d+"Z")}},"star-diamond":{n:22,f:function(h,f,T){if(l(f))return s;var d=c(1.4*h,2),y=c(1.9*h,2),m="A "+y+","+y+" 0 0 1 ";return u(f,T,"M-"+d+",0"+m+"0,"+d+m+d+",0"+m+"0,-"+d+m+"-"+d+",0Z")}},"diamond-tall":{n:23,f:function(h,f,T){if(l(f))return s;var d=c(.7*h,2),y=c(1.4*h,2);return u(f,T,"M0,"+y+"L"+d+",0L0,-"+y+"L-"+d+",0Z")}},"diamond-wide":{n:24,f:function(h,f,T){if(l(f))return s;var d=c(1.4*h,2),y=c(.7*h,2);return u(f,T,"M0,"+y+"L"+d+",0L0,-"+y+"L-"+d+",0Z")}},hourglass:{n:25,f:function(h,f,T){if(l(f))return s;var d=c(h,2);return u(f,T,"M"+d+","+d+"H-"+d+"L"+d+",-"+d+"H-"+d+"Z")},noDot:!0},bowtie:{n:26,f:function(h,f,T){if(l(f))return s;var d=c(h,2);return u(f,T,"M"+d+","+d+"V-"+d+"L-"+d+","+d+"V-"+d+"Z")},noDot:!0},"circle-cross":{n:27,f:function(h,f,T){if(l(f))return s;var d=c(h,2);return u(f,T,"M0,"+d+"V-"+d+"M"+d+",0H-"+d+"M"+d+",0A"+d+","+d+" 0 1,1 0,-"+d+"A"+d+","+d+" 0 0,1 "+d+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(h,f,T){if(l(f))return s;var d=c(h,2),y=c(h/n,2);return u(f,T,"M"+y+","+y+"L-"+y+",-"+y+"M"+y+",-"+y+"L-"+y+","+y+"M"+d+",0A"+d+","+d+" 0 1,1 0,-"+d+"A"+d+","+d+" 0 0,1 "+d+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(h,f,T){if(l(f))return s;var d=c(h,2);return u(f,T,"M0,"+d+"V-"+d+"M"+d+",0H-"+d+"M"+d+","+d+"H-"+d+"V-"+d+"H"+d+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(h,f,T){if(l(f))return s;var d=c(h,2);return u(f,T,"M"+d+","+d+"L-"+d+",-"+d+"M"+d+",-"+d+"L-"+d+","+d+"M"+d+","+d+"H-"+d+"V-"+d+"H"+d+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(h,f,T){if(l(f))return s;var d=c(1.3*h,2);return u(f,T,"M"+d+",0L0,"+d+"L-"+d+",0L0,-"+d+"ZM0,-"+d+"V"+d+"M-"+d+",0H"+d)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(h,f,T){if(l(f))return s;var d=c(1.3*h,2),y=c(.65*h,2);return u(f,T,"M"+d+",0L0,"+d+"L-"+d+",0L0,-"+d+"ZM-"+y+",-"+y+"L"+y+","+y+"M-"+y+","+y+"L"+y+",-"+y)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(h,f,T){if(l(f))return s;var d=c(1.4*h,2);return u(f,T,"M0,"+d+"V-"+d+"M"+d+",0H-"+d)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(h,f,T){if(l(f))return s;var d=c(h,2);return u(f,T,"M"+d+","+d+"L-"+d+",-"+d+"M"+d+",-"+d+"L-"+d+","+d)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(h,f,T){if(l(f))return s;var d=c(1.2*h,2),y=c(.85*h,2);return u(f,T,"M0,"+d+"V-"+d+"M"+d+",0H-"+d+"M"+y+","+y+"L-"+y+",-"+y+"M"+y+",-"+y+"L-"+y+","+y)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(h,f,T){if(l(f))return s;var d=c(h/2,2),y=c(h,2);return u(f,T,"M"+d+","+y+"V-"+y+"M"+(d-y)+",-"+y+"V"+y+"M"+y+","+d+"H-"+y+"M-"+y+","+(d-y)+"H"+y)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(h,f,T){if(l(f))return s;var d=c(1.2*h,2),y=c(1.6*h,2),m=c(.8*h,2);return u(f,T,"M-"+d+","+m+"L0,0M"+d+","+m+"L0,0M0,-"+y+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(h,f,T){if(l(f))return s;var d=c(1.2*h,2),y=c(1.6*h,2),m=c(.8*h,2);return u(f,T,"M-"+d+",-"+m+"L0,0M"+d+",-"+m+"L0,0M0,"+y+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(h,f,T){if(l(f))return s;var d=c(1.2*h,2),y=c(1.6*h,2),m=c(.8*h,2);return u(f,T,"M"+m+","+d+"L0,0M"+m+",-"+d+"L0,0M-"+y+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(h,f,T){if(l(f))return s;var d=c(1.2*h,2),y=c(1.6*h,2),m=c(.8*h,2);return u(f,T,"M-"+m+","+d+"L0,0M-"+m+",-"+d+"L0,0M"+y+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(h,f,T){if(l(f))return s;var d=c(1.4*h,2);return u(f,T,"M"+d+",0H-"+d)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(h,f,T){if(l(f))return s;var d=c(1.4*h,2);return u(f,T,"M0,"+d+"V-"+d)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(h,f,T){if(l(f))return s;var d=c(h,2);return u(f,T,"M"+d+",-"+d+"L-"+d+","+d)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(h,f,T){if(l(f))return s;var d=c(h,2);return u(f,T,"M"+d+","+d+"L-"+d+",-"+d)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(h,f,T){if(l(f))return s;var d=c(h,2);return u(f,T,"M0,0L-"+d+","+c(2*h,2)+"H"+d+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(h,f,T){if(l(f))return s;var d=c(h,2);return u(f,T,"M0,0L-"+d+",-"+c(2*h,2)+"H"+d+"Z")},noDot:!0},"arrow-left":{n:47,f:function(h,f,T){if(l(f))return s;var d=c(2*h,2),y=c(h,2);return u(f,T,"M0,0L"+d+",-"+y+"V"+y+"Z")},noDot:!0},"arrow-right":{n:48,f:function(h,f,T){if(l(f))return s;var d=c(2*h,2),y=c(h,2);return u(f,T,"M0,0L-"+d+",-"+y+"V"+y+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(h,f,T){if(l(f))return s;var d=c(h,2);return u(f,T,"M-"+d+",0H"+d+"M0,0L-"+d+","+c(2*h,2)+"H"+d+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(h,f,T){if(l(f))return s;var d=c(h,2);return u(f,T,"M-"+d+",0H"+d+"M0,0L-"+d+",-"+c(2*h,2)+"H"+d+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(h,f,T){if(l(f))return s;var d=c(2*h,2),y=c(h,2);return u(f,T,"M0,-"+y+"V"+y+"M0,0L"+d+",-"+y+"V"+y+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(h,f,T){if(l(f))return s;var d=c(2*h,2),y=c(h,2);return u(f,T,"M0,-"+y+"V"+y+"M0,0L-"+d+",-"+y+"V"+y+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(h,f,T){if(l(f))return s;var d=a/2.5,y=2*h*r(d),m=2*h*o(d);return u(f,T,"M0,0L"+-y+","+m+"L"+y+","+m+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(h,f,T){if(l(f))return s;var d=a/4,y=2*h*r(d),m=2*h*o(d);return u(f,T,"M0,0L"+-y+","+m+"A "+2*h+","+2*h+" 0 0 1 "+y+","+m+"Z")},backoff:.4,noDot:!0}}},97644:function(O){O.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},14880:function(O,S,e){var v=e(38248),x=e(24040),t=e(54460),b=e(3400),g=e(93792);function c(s,n,i,a){var r=n["error_"+a]||{},o=[];if(r.visible&&["linear","log"].indexOf(i.type)!==-1){for(var l=g(r),u=0;u<s.length;u++){var h=s[u],f=h.i;if(f===void 0)f=u;else if(f===null)continue;var T=h[a];if(v(i.c2l(T))){var d=l(T,f);if(v(d[0])&&v(d[1])){var y=h[a+"s"]=T-d[0],m=h[a+"h"]=T+d[1];o.push(y,m)}}}var w=i._id,_=n._extremes[w],A=t.findExtremes(i,o,b.extendFlat({tozero:_.opts.tozero},{padded:!0}));_.min=_.min.concat(A.min),_.max=_.max.concat(A.max)}}O.exports=function(s){for(var n=s.calcdata,i=0;i<n.length;i++){var a=n[i],r=a[0].trace;if(r.visible===!0&&x.traceIs(r,"errorBarsOK")){var o=t.getFromId(s,r.xaxis),l=t.getFromId(s,r.yaxis);c(a,r,o,"x"),c(a,r,l,"y")}}}},93792:function(O){function S(e,v){return e==="percent"?function(x){return Math.abs(x*v/100)}:e==="constant"?function(){return Math.abs(v)}:e==="sqrt"?function(x){return Math.sqrt(Math.abs(x))}:void 0}O.exports=function(e){var v=e.type,x=e.symmetric;if(v==="data"){var t=e.array||[];if(x)return function(s,n){var i=+t[n];return[i,i]};var b=e.arrayminus||[];return function(s,n){var i=+t[n],a=+b[n];return isNaN(i)&&isNaN(a)?[NaN,NaN]:[a||0,i||0]}}var g=S(v,e.value),c=S(v,e.valueminus);return x||e.valueminus===void 0?function(s){var n=g(s);return[n,n]}:function(s){return[c(s),g(s)]}}},65200:function(O,S,e){var v=e(38248),x=e(24040),t=e(3400),b=e(31780),g=e(97644);O.exports=function(c,s,n,i){var a="error_"+i.axis,r=b.newContainer(s,a),o=c[a]||{};function l(T,d){return t.coerce(o,r,g,T,d)}if(l("visible",o.array!==void 0||o.value!==void 0||o.type==="sqrt")!==!1){var u=l("type","array"in o?"data":"percent"),h=!0;u!=="sqrt"&&(h=l("symmetric",!((u==="data"?"arrayminus":"valueminus")in o))),u==="data"?(l("array"),l("traceref"),h||(l("arrayminus"),l("tracerefminus"))):u!=="percent"&&u!=="constant"||(l("value"),h||l("valueminus"));var f="copy_"+i.inherit+"style";i.inherit&&(s["error_"+i.inherit]||{}).visible&&l(f,!(o.color||v(o.thickness)||v(o.width))),i.inherit&&r[f]||(l("color",n),l("thickness"),l("width",x.traceIs(s,"gl3d")?0:4))}}},64968:function(O,S,e){var v=e(3400),x=e(67824).overrideAll,t=e(97644),b={error_x:v.extendFlat({},t),error_y:v.extendFlat({},t)};delete b.error_x.copy_zstyle,delete b.error_y.copy_zstyle,delete b.error_y.copy_ystyle;var g={error_x:v.extendFlat({},t),error_y:v.extendFlat({},t),error_z:v.extendFlat({},t)};delete g.error_x.copy_ystyle,delete g.error_y.copy_ystyle,delete g.error_z.copy_ystyle,delete g.error_z.copy_zstyle,O.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:b,bar:b,histogram:b,scatter3d:x(g,"calc","nested"),scattergl:x(b,"calc","nested")}},supplyDefaults:e(65200),calc:e(14880),makeComputeError:e(93792),plot:e(78512),style:e(92036),hoverInfo:function(c,s,n){(s.error_y||{}).visible&&(n.yerr=c.yh-c.y,s.error_y.symmetric||(n.yerrneg=c.y-c.ys)),(s.error_x||{}).visible&&(n.xerr=c.xh-c.x,s.error_x.symmetric||(n.xerrneg=c.x-c.xs))}}},78512:function(O,S,e){var v=e(33428),x=e(38248),t=e(43616),b=e(43028);O.exports=function(g,c,s,n){var i=s.xaxis,a=s.yaxis,r=n&&n.duration>0,o=g._context.staticPlot;c.each(function(l){var u,h=l[0].trace,f=h.error_x||{},T=h.error_y||{};h.ids&&(u=function(w){return w.id});var d=b.hasMarkers(h)&&h.marker.maxdisplayed>0;T.visible||f.visible||(l=[]);var y=v.select(this).selectAll("g.errorbar").data(l,u);if(y.exit().remove(),l.length){f.visible||y.selectAll("path.xerror").remove(),T.visible||y.selectAll("path.yerror").remove(),y.style("opacity",1);var m=y.enter().append("g").classed("errorbar",!0);r&&m.style("opacity",0).transition().duration(n.duration).style("opacity",1),t.setClipUrl(y,s.layerClipId,g),y.each(function(w){var _=v.select(this),A=function(I,D,F){var q={x:D.c2p(I.x),y:F.c2p(I.y)};return I.yh!==void 0&&(q.yh=F.c2p(I.yh),q.ys=F.c2p(I.ys),x(q.ys)||(q.noYS=!0,q.ys=F.c2p(I.ys,!0))),I.xh!==void 0&&(q.xh=D.c2p(I.xh),q.xs=D.c2p(I.xs),x(q.xs)||(q.noXS=!0,q.xs=D.c2p(I.xs,!0))),q}(w,i,a);if(!d||w.vis){var p,L=_.select("path.yerror");if(T.visible&&x(A.x)&&x(A.yh)&&x(A.ys)){var M=T.width;p="M"+(A.x-M)+","+A.yh+"h"+2*M+"m-"+M+",0V"+A.ys,A.noYS||(p+="m-"+M+",0h"+2*M),L.size()?r&&(L=L.transition().duration(n.duration).ease(n.easing)):L=_.append("path").style("vector-effect",o?"none":"non-scaling-stroke").classed("yerror",!0),L.attr("d",p)}else L.remove();var C=_.select("path.xerror");if(f.visible&&x(A.y)&&x(A.xh)&&x(A.xs)){var R=(f.copy_ystyle?T:f).width;p="M"+A.xh+","+(A.y-R)+"v"+2*R+"m0,-"+R+"H"+A.xs,A.noXS||(p+="m0,-"+R+"v"+2*R),C.size()?r&&(C=C.transition().duration(n.duration).ease(n.easing)):C=_.append("path").style("vector-effect",o?"none":"non-scaling-stroke").classed("xerror",!0),C.attr("d",p)}else C.remove()}})}})}},92036:function(O,S,e){var v=e(33428),x=e(76308);O.exports=function(t){t.each(function(b){var g=b[0].trace,c=g.error_y||{},s=g.error_x||{},n=v.select(this);n.selectAll("path.yerror").style("stroke-width",c.thickness+"px").call(x.stroke,c.color),s.copy_ystyle&&(s=c),n.selectAll("path.xerror").style("stroke-width",s.thickness+"px").call(x.stroke,s.color)})}},55756:function(O,S,e){var v=e(25376),x=e(65460).hoverlabel,t=e(92880).extendFlat;O.exports={hoverlabel:{bgcolor:t({},x.bgcolor,{arrayOk:!0}),bordercolor:t({},x.bordercolor,{arrayOk:!0}),font:v({arrayOk:!0,editType:"none"}),align:t({},x.align,{arrayOk:!0}),namelength:t({},x.namelength,{arrayOk:!0}),editType:"none"}}},55056:function(O,S,e){var v=e(3400),x=e(24040);function t(b,g,c,s){s=s||v.identity,Array.isArray(b)&&(g[0][c]=s(b))}O.exports=function(b){var g=b.calcdata,c=b._fullLayout;function s(o){return function(l){return v.coerceHoverinfo({hoverinfo:l},{_module:o._module},c)}}for(var n=0;n<g.length;n++){var i=g[n],a=i[0].trace;if(!x.traceIs(a,"pie-like")){var r=x.traceIs(a,"2dMap")?t:v.fillArray;r(a.hoverinfo,i,"hi",s(a)),a.hovertemplate&&r(a.hovertemplate,i,"ht"),a.hoverlabel&&(r(a.hoverlabel.bgcolor,i,"hbg"),r(a.hoverlabel.bordercolor,i,"hbc"),r(a.hoverlabel.font.size,i,"hts"),r(a.hoverlabel.font.color,i,"htc"),r(a.hoverlabel.font.family,i,"htf"),r(a.hoverlabel.font.weight,i,"htw"),r(a.hoverlabel.font.style,i,"hty"),r(a.hoverlabel.font.variant,i,"htv"),r(a.hoverlabel.namelength,i,"hnl"),r(a.hoverlabel.align,i,"hta"))}}}},62376:function(O,S,e){var v=e(24040),x=e(83292).hover;O.exports=function(t,b,g){var c=v.getComponentMethod("annotations","onClick")(t,t._hoverdata);function s(){t.emit("plotly_click",{points:t._hoverdata,event:b})}g!==void 0&&x(t,b,g,!0),t._hoverdata&&b&&b.target&&(c&&c.then?c.then(s):s(),b.stopImmediatePropagation&&b.stopImmediatePropagation())}},92456:function(O){O.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},95448:function(O,S,e){var v=e(3400),x=e(55756),t=e(16132);O.exports=function(b,g,c,s){var n=v.extendFlat({},s.hoverlabel);g.hovertemplate&&(n.namelength=-1),t(b,g,function(i,a){return v.coerce(b,g,x,i,a)},n)}},10624:function(O,S,e){var v=e(3400);S.getSubplot=function(s){return s.subplot||s.xaxis+s.yaxis||s.geo},S.isTraceInSubplots=function(s,n){if(s.type==="splom"){for(var i=s.xaxes||[],a=s.yaxes||[],r=0;r<i.length;r++)for(var o=0;o<a.length;o++)if(n.indexOf(i[r]+a[o])!==-1)return!0;return!1}return n.indexOf(S.getSubplot(s))!==-1},S.flat=function(s,n){for(var i=new Array(s.length),a=0;a<s.length;a++)i[a]=n;return i},S.p2c=function(s,n){for(var i=new Array(s.length),a=0;a<s.length;a++)i[a]=s[a].p2c(n);return i},S.getDistanceFunction=function(s,n,i,a){return s==="closest"?a||S.quadrature(n,i):s.charAt(0)==="x"?n:i},S.getClosest=function(s,n,i){if(i.index!==!1)i.index>=0&&i.index<s.length?i.distance=0:i.index=!1;else for(var a=0;a<s.length;a++){var r=n(s[a]);r<=i.distance&&(i.index=a,i.distance=r)}return i},S.inbox=function(s,n,i){return s*n<0||s===0?i:1/0},S.quadrature=function(s,n){return function(i){var a=s(i),r=n(i);return Math.sqrt(a*a+r*r)}},S.makeEventData=function(s,n,i){var a="index"in s?s.index:s.pointNumber,r={data:n._input,fullData:n,curveNumber:n.index,pointNumber:a};if(n._indexToPoints){var o=n._indexToPoints[a];o.length===1?r.pointIndex=o[0]:r.pointIndices=o}else r.pointIndex=a;return n._module.eventData?r=n._module.eventData(r,s,n,i,a):("xVal"in s?r.x=s.xVal:"x"in s&&(r.x=s.x),"yVal"in s?r.y=s.yVal:"y"in s&&(r.y=s.y),s.xa&&(r.xaxis=s.xa),s.ya&&(r.yaxis=s.ya),s.zLabelVal!==void 0&&(r.z=s.zLabelVal)),S.appendArrayPointValue(r,n,a),r},S.appendArrayPointValue=function(s,n,i){var a=n._arrayAttrs;if(a)for(var r=0;r<a.length;r++){var o=a[r],l=t(o);if(s[l]===void 0){var u=b(v.nestedProperty(n,o).get(),i);u!==void 0&&(s[l]=u)}}},S.appendArrayMultiPointValues=function(s,n,i){var a=n._arrayAttrs;if(a)for(var r=0;r<a.length;r++){var o=a[r],l=t(o);if(s[l]===void 0){for(var u=v.nestedProperty(n,o).get(),h=new Array(i.length),f=0;f<i.length;f++)h[f]=b(u,i[f]);s[l]=h}}};var x={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function t(s){return x[s]||s}function b(s,n){return Array.isArray(n)?Array.isArray(s)&&Array.isArray(s[n[0]])?s[n[0]][n[1]]:void 0:s[n]}var g={x:!0,y:!0},c={"x unified":!0,"y unified":!0};S.isUnifiedHover=function(s){return typeof s=="string"&&!!c[s]},S.isXYhover=function(s){return typeof s=="string"&&!!g[s]}},83292:function(O,S,e){var v=e(33428),x=e(38248),t=e(49760),b=e(3400),g=b.pushUnique,c=b.strTranslate,s=b.strRotate,n=e(95924),i=e(72736),a=e(72213),r=e(43616),o=e(76308),l=e(86476),u=e(54460),h=e(24040),f=e(10624),T=e(92456),d=e(77864),y=e(31140),m=T.YANGLE,w=Math.PI*m/180,_=1/Math.sin(w),A=Math.cos(w),p=Math.sin(w),L=T.HOVERARROWSIZE,M=T.HOVERTEXTPAD,C={box:!0,ohlc:!0,violin:!0,candlestick:!0},R={scatter:!0,scattergl:!0,splom:!0};function I($,ae){return $.distance-ae.distance}function D($){return[$.trace.index,$.index,$.x0,$.y0,$.name,$.attr,$.xa?$.xa._id:"",$.ya?$.ya._id:""].join(",")}S.hover=function($,ae,ue,ce){$=b.getGraphDiv($);var de=ae.target;b.throttle($._fullLayout._uid+T.HOVERID,T.HOVERMINTIME,function(){(function(pe,me,be,we,Te){be||(be="xy");var Le,Ie,_e,fe=Array.isArray(be)?be:[be],le=pe._fullLayout,ye=le.hoversubplots,Oe=le._plots||[],Ae=Oe[be],Se=le._has("cartesian"),Pe=me.hovermode||le.hovermode,Fe=(Pe||"").charAt(0)==="x",Be=(Pe||"").charAt(0)==="y";if(Se&&(Fe||Be)&&ye==="axis"){for(var xe=fe.length,Me=0;Me<xe;Me++)if(Oe[Le=fe[Me]]){Ie=u.getFromId(pe,Le,"x"),_e=u.getFromId(pe,Le,"y");var Ce=(Fe?Ie:_e)._subplotsWith;if(Ce&&Ce.length)for(var Ne=0;Ne<Ce.length;Ne++)g(fe,Ce[Ne])}}if(Ae&&ye!=="single"){var Re=Ae.overlays.map(function(At){return At.id});fe=fe.concat(Re)}for(var He=fe.length,Ye=new Array(He),Qe=new Array(He),lt=!1,ut=0;ut<He;ut++)if(Oe[Le=fe[ut]])lt=!0,Ye[ut]=Oe[Le].xaxis,Qe[ut]=Oe[Le].yaxis;else{if(!le[Le]||!le[Le]._subplot)return void b.warn("Unrecognized subplot: "+Le);var xt=le[Le]._subplot;Ye[ut]=xt.xaxis,Qe[ut]=xt.yaxis}if(Pe&&!lt&&(Pe="closest"),["x","y","closest","x unified","y unified"].indexOf(Pe)===-1||!pe.calcdata||pe.querySelector(".zoombox")||pe._dragging)return l.unhoverRaw(pe,me);var _t=le.hoverdistance;_t===-1&&(_t=1/0);var mt=le.spikedistance;mt===-1&&(mt=1/0);var it,nt,Et,zt,Ft,Pt,Ze,Je,qe,Ke,ft,ot,Ue,Ve=[],st=[],Xe={hLinePoint:null,vLinePoint:null},gt=!1;if(Array.isArray(me))for(Pe="array",Et=0;Et<me.length;Et++)(Ft=pe.calcdata[me[Et].curveNumber||0])&&(Pt=Ft[0].trace,Ft[0].trace.hoverinfo!=="skip"&&(st.push(Ft),Pt.orientation==="h"&&(gt=!0)));else{var yt,bt,dt=pe.calcdata.slice();for(dt.sort(function(At,Wt){return(At[0].trace.zorder||0)-(Wt[0].trace.zorder||0)}),zt=0;zt<dt.length;zt++)Ft=dt[zt],(Pt=Ft[0].trace).hoverinfo!=="skip"&&f.isTraceInSubplots(Pt,fe)&&(st.push(Ft),Pt.orientation==="h"&&(gt=!0));if(Te){if(n.triggerHandler(pe,"plotly_beforehover",me)===!1)return;var Lt=Te.getBoundingClientRect();yt=me.clientX-Lt.left,bt=me.clientY-Lt.top,le._calcInverseTransform(pe);var wt=b.apply3DTransform(le._invTransform)(yt,bt);if(yt=wt[0],bt=wt[1],yt<0||yt>Ye[0]._length||bt<0||bt>Qe[0]._length)return l.unhoverRaw(pe,me)}else yt="xpx"in me?me.xpx:Ye[0]._length/2,bt="ypx"in me?me.ypx:Qe[0]._length/2;if(me.pointerX=yt+Ye[0]._offset,me.pointerY=bt+Qe[0]._offset,it="xval"in me?f.flat(fe,me.xval):f.p2c(Ye,yt),nt="yval"in me?f.flat(fe,me.yval):f.p2c(Qe,bt),!x(it[0])||!x(nt[0]))return b.warn("Fx.hover failed",me,pe),l.unhoverRaw(pe,me)}var Ct=1/0;function Rt(At,Wt){for(zt=0;zt<st.length;zt++)if((Ft=st[zt])&&Ft[0]&&Ft[0].trace&&(Pt=Ft[0].trace).visible===!0&&Pt._length!==0&&["carpet","contourcarpet"].indexOf(Pt._module.name)===-1){if(qe=Pe,f.isUnifiedHover(qe)&&(qe=qe.charAt(0)),Pt.type==="splom"?Ze=fe[Je=0]:(Ze=f.getSubplot(Pt),Je=fe.indexOf(Ze)),ot={cd:Ft,trace:Pt,xa:Ye[Je],ya:Qe[Je],maxHoverDistance:_t,maxSpikeDistance:mt,index:!1,distance:Math.min(Ct,_t),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:o.defaultLine,name:Pt.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},le[Ze]&&(ot.subplot=le[Ze]._subplot),le._splomScenes&&le._splomScenes[Pt.uid]&&(ot.scene=le._splomScenes[Pt.uid]),qe==="array"){var en=me[zt];"pointNumber"in en?(ot.index=en.pointNumber,qe="closest"):(qe="","xval"in en&&(Ke=en.xval,qe="x"),"yval"in en&&(ft=en.yval,qe=qe?"closest":"y"))}else At!==void 0&&Wt!==void 0?(Ke=At,ft=Wt):(Ke=it[Je],ft=nt[Je]);if(Ue=Ve.length,_t!==0)if(Pt._module&&Pt._module.hoverPoints){var dn=Pt._module.hoverPoints(ot,Ke,ft,qe,{finiteRange:!0,hoverLayer:le._hoverlayer,hoversubplots:ye,gd:pe});if(dn)for(var gn,_n=0;_n<dn.length;_n++)gn=dn[_n],x(gn.x0)&&x(gn.y0)&&Ve.push(j(gn,Pe))}else b.log("Unrecognized trace type in hover:",Pt);if(Pe==="closest"&&Ve.length>Ue&&(Ve.splice(0,Ue),Ct=Ve[0].distance),Se&&mt!==0&&Ve.length===0){ot.distance=mt,ot.index=!1;var on=Pt._module.hoverPoints(ot,Ke,ft,"closest",{hoverLayer:le._hoverlayer});if(on&&(on=on.filter(function(Cn){return Cn.spikeDistance<=mt})),on&&on.length){var Yt,Zt=on.filter(function(Cn){return Cn.xa.showspikes&&Cn.xa.spikesnap!=="hovered data"});if(Zt.length){var sn=Zt[0];x(sn.x0)&&x(sn.y0)&&(Yt=Nt(sn),(!Xe.vLinePoint||Xe.vLinePoint.spikeDistance>Yt.spikeDistance)&&(Xe.vLinePoint=Yt))}var hn=on.filter(function(Cn){return Cn.ya.showspikes&&Cn.ya.spikesnap!=="hovered data"});if(hn.length){var Sn=hn[0];x(Sn.x0)&&x(Sn.y0)&&(Yt=Nt(Sn),(!Xe.hLinePoint||Xe.hLinePoint.spikeDistance>Yt.spikeDistance)&&(Xe.hLinePoint=Yt))}}}}}function Dt(At,Wt,en){for(var dn,gn=null,_n=1/0,on=0;on<At.length;on++)Ie&&Ie._id!==At[on].xa._id||_e&&_e._id!==At[on].ya._id||(dn=At[on].spikeDistance,en&&on===0&&(dn=-1/0),dn<=_n&&dn<=Wt&&(gn=At[on],_n=dn));return gn}function Nt(At){return At?{xa:At.xa,ya:At.ya,x:At.xSpike!==void 0?At.xSpike:(At.x0+At.x1)/2,y:At.ySpike!==void 0?At.ySpike:(At.y0+At.y1)/2,distance:At.distance,spikeDistance:At.spikeDistance,curveNumber:At.trace.index,color:At.color,pointNumber:At.index}:null}Rt();var Xt={fullLayout:le,container:le._hoverlayer,event:me};pe._spikepoints;var un={vLinePoint:Xe.vLinePoint,hLinePoint:Xe.hLinePoint};pe._spikepoints=un;var qt=function(){var At=Ve.filter(function(en){return Ie&&Ie._id===en.xa._id&&_e&&_e._id===en.ya._id}),Wt=Ve.filter(function(en){return!(Ie&&Ie._id===en.xa._id&&_e&&_e._id===en.ya._id)});At.sort(I),Wt.sort(I),Ve=function(en,dn){for(var gn=dn.charAt(0),_n=[],on=[],Yt=[],Zt=0;Zt<en.length;Zt++){var sn=en[Zt];h.traceIs(sn.trace,"bar-like")||h.traceIs(sn.trace,"box-violin")?Yt.push(sn):sn.trace[gn+"period"]?on.push(sn):_n.push(sn)}return _n.concat(on).concat(Yt)}(Ve=At.concat(Wt),Pe)};qt();var Kt=Pe.charAt(0),Ut=(Kt==="x"||Kt==="y")&&Ve[0]&&R[Ve[0].trace.type];if(Se&&mt!==0&&Ve.length!==0){var Rn=Dt(Ve.filter(function(At){return At.ya.showspikes}),mt,Ut);Xe.hLinePoint=Nt(Rn);var An=Dt(Ve.filter(function(At){return At.xa.showspikes}),mt,Ut);Xe.vLinePoint=Nt(An)}if(Ve.length===0){var mn=l.unhoverRaw(pe,me);return!Se||Xe.hLinePoint===null&&Xe.vLinePoint===null||H(pe,Xe,Xt),mn}if(Se&&G()&&H(pe,Xe,Xt),f.isXYhover(qe)&&Ve[0].length!==0&&Ve[0].trace.type!=="splom"){var tn=Ve[0],fn=(Ve=C[tn.trace.type]?Ve.filter(function(At){return At.trace.index===tn.trace.index}):[tn]).length;Rt(re("x",tn,le),re("y",tn,le));var rn,pn=[],wn={},kn=0,Pn=function(At){var Wt=C[At.trace.type]?D(At):At.trace.index;if(wn[Wt]){var en=wn[Wt]-1,dn=pn[en];en>0&&Math.abs(At.distance)<Math.abs(dn.distance)&&(pn[en]=At)}else kn++,wn[Wt]=kn,pn.push(At)};for(rn=0;rn<fn;rn++)Pn(Ve[rn]);for(rn=Ve.length-1;rn>fn-1;rn--)Pn(Ve[rn]);Ve=pn,qt()}var On=pe._hoverdata,En=[],Vn=te(pe),Bn=K(pe);for(Et=0;Et<Ve.length;Et++){var Wn=Ve[Et],rr=f.makeEventData(Wn,Wn.trace,Wn.cd);if(Wn.hovertemplate!==!1){var ir=!1;Wn.cd[Wn.index]&&Wn.cd[Wn.index].ht&&(ir=Wn.cd[Wn.index].ht),Wn.hovertemplate=ir||Wn.trace.hovertemplate||!1}if(Wn.xa&&Wn.ya){var Kn=Wn.x0+Wn.xa._offset,vr=Wn.x1+Wn.xa._offset,nn=Wn.y0+Wn.ya._offset,an=Wn.y1+Wn.ya._offset,In=Math.min(Kn,vr),yn=Math.max(Kn,vr),Dn=Math.min(nn,an),$n=Math.max(nn,an);rr.bbox={x0:In+Bn,x1:yn+Bn,y0:Dn+Vn,y1:$n+Vn}}Wn.eventData=[rr],En.push(rr)}pe._hoverdata=En;var Hn=Pe==="y"&&(st.length>1||Ve.length>1)||Pe==="closest"&&gt&&Ve.length>1,Qn=o.combine(le.plot_bgcolor||o.background,le.paper_bgcolor),xr=q(Ve,{gd:pe,hovermode:Pe,rotateLabels:Hn,bgColor:Qn,container:le._hoverlayer,outerContainer:le._paper.node(),commonLabelOpts:le.hoverlabel,hoverdistance:le.hoverdistance}),Qt=xr.hoverLabels;if(f.isUnifiedHover(Pe)||(function(At,Wt,en,dn){var gn,_n,on,Yt,Zt,sn,hn,Sn=Wt?"xa":"ya",Cn=Wt?"ya":"xa",Un=0,qn=1,tr=At.size(),Yn=new Array(tr),sr=0,ar=dn.minX,er=dn.maxX,mr=dn.minY,Mr=dn.maxY,br=function(Gr){return Gr*en._invScaleX},ur=function(Gr){return Gr*en._invScaleY};function kr(Gr){var Ui=Gr[0],$a=Gr[Gr.length-1];if(_n=Ui.pmin-Ui.pos-Ui.dp+Ui.size,on=$a.pos+$a.dp+$a.size-Ui.pmax,_n>.01){for(Zt=Gr.length-1;Zt>=0;Zt--)Gr[Zt].dp+=_n;gn=!1}if(!(on<.01)){if(_n<-.01){for(Zt=Gr.length-1;Zt>=0;Zt--)Gr[Zt].dp-=on;gn=!1}if(gn){var Da=0;for(Yt=0;Yt<Gr.length;Yt++)(sn=Gr[Yt]).pos+sn.dp+sn.size>Ui.pmax&&Da++;for(Yt=Gr.length-1;Yt>=0&&!(Da<=0);Yt--)(sn=Gr[Yt]).pos>Ui.pmax-1&&(sn.del=!0,Da--);for(Yt=0;Yt<Gr.length&&!(Da<=0);Yt++)if((sn=Gr[Yt]).pos<Ui.pmin+1)for(sn.del=!0,Da--,on=2*sn.size,Zt=Gr.length-1;Zt>=0;Zt--)Gr[Zt].dp-=on;for(Yt=Gr.length-1;Yt>=0&&!(Da<=0);Yt--)(sn=Gr[Yt]).pos+sn.dp+sn.size>Ui.pmax&&(sn.del=!0,Da--)}}}for(At.each(function(Gr){var Ui=Gr[Sn],$a=Gr[Cn],Da=Ui._id.charAt(0)==="x",ds=Ui.range;sr===0&&ds&&ds[0]>ds[1]!==Da&&(qn=-1);var gs=0,Jo=Da?en.width:en.height;if(en.hovermode==="x"||en.hovermode==="y"){var za,Qo,Rs=V(Gr,Wt),il=Gr.anchor,ko=il==="end"?-1:1;if(il==="middle")Qo=(za=Gr.crossPos+(Da?ur(Rs.y-Gr.by/2):br(Gr.bx/2+Gr.tx2width/2)))+(Da?ur(Gr.by):br(Gr.bx));else if(Da)Qo=(za=Gr.crossPos+ur(L+Rs.y)-ur(Gr.by/2-L))+ur(Gr.by);else{var Ao=br(ko*L+Rs.x),es=Ao+br(ko*Gr.bx);za=Gr.crossPos+Math.min(Ao,es),Qo=Gr.crossPos+Math.max(Ao,es)}Da?mr!==void 0&&Mr!==void 0&&Math.min(Qo,Mr)-Math.max(za,mr)>1&&($a.side==="left"?(gs=$a._mainLinePosition,Jo=en.width):Jo=$a._mainLinePosition):ar!==void 0&&er!==void 0&&Math.min(Qo,er)-Math.max(za,ar)>1&&($a.side==="top"?(gs=$a._mainLinePosition,Jo=en.height):Jo=$a._mainLinePosition)}Yn[sr++]=[{datum:Gr,traceIndex:Gr.trace.index,dp:0,pos:Gr.pos,posref:Gr.posref,size:Gr.by*(Da?_:1)/2,pmin:gs,pmax:Jo}]}),Yn.sort(function(Gr,Ui){return Gr[0].posref-Ui[0].posref||qn*(Ui[0].traceIndex-Gr[0].traceIndex)});!gn&&Un<=tr;){for(Un++,gn=!0,Yt=0;Yt<Yn.length-1;){var Er=Yn[Yt],$r=Yn[Yt+1],Ii=Er[Er.length-1],Di=$r[0];if((_n=Ii.pos+Ii.dp+Ii.size-Di.pos-Di.dp+Di.size)>.01&&Ii.pmin===Di.pmin&&Ii.pmax===Di.pmax){for(Zt=$r.length-1;Zt>=0;Zt--)$r[Zt].dp+=_n;for(Er.push.apply(Er,$r),Yn.splice(Yt+1,1),hn=0,Zt=Er.length-1;Zt>=0;Zt--)hn+=Er[Zt].dp;for(on=hn/Er.length,Zt=Er.length-1;Zt>=0;Zt--)Er[Zt].dp-=on;gn=!1}else Yt++}Yn.forEach(kr)}for(Yt=Yn.length-1;Yt>=0;Yt--){var Aa=Yn[Yt];for(Zt=Aa.length-1;Zt>=0;Zt--){var Li=Aa[Zt],ra=Li.datum;ra.offset=Li.dp,ra.del=Li.del}}}(Qt,Hn,le,xr.commonLabelBoundingBox),X(Qt,Hn,le._invScaleX,le._invScaleY)),Te&&Te.tagName){var xn=h.getComponentMethod("annotations","hasClickToShow")(pe,En);a(v.select(Te),xn?"pointer":"")}Te&&!we&&function(At,Wt,en){if(!en||en.length!==At._hoverdata.length)return!0;for(var dn=en.length-1;dn>=0;dn--){var gn=en[dn],_n=At._hoverdata[dn];if(gn.curveNumber!==_n.curveNumber||String(gn.pointNumber)!==String(_n.pointNumber)||String(gn.pointNumbers)!==String(_n.pointNumbers))return!0}return!1}(pe,0,On)&&(On&&pe.emit("plotly_unhover",{event:me,points:On}),pe.emit("plotly_hover",{event:me,points:pe._hoverdata,xaxes:Ye,yaxes:Qe,xvals:it,yvals:nt}))})($,ae,ue,ce,de)})},S.loneHover=function($,ae){var ue=!0;Array.isArray($)||(ue=!1,$=[$]);var ce=ae.gd,de=te(ce),pe=K(ce),me=q($.map(function(Te){var Le=Te._x0||Te.x0||Te.x||0,Ie=Te._x1||Te.x1||Te.x||0,_e=Te._y0||Te.y0||Te.y||0,fe=Te._y1||Te.y1||Te.y||0,le=Te.eventData;if(le){var ye=Math.min(Le,Ie),Oe=Math.max(Le,Ie),Ae=Math.min(_e,fe),Se=Math.max(_e,fe),Pe=Te.trace;if(h.traceIs(Pe,"gl3d")){var Fe=ce._fullLayout[Pe.scene]._scene.container,Be=Fe.offsetLeft,xe=Fe.offsetTop;ye+=Be,Oe+=Be,Ae+=xe,Se+=xe}le.bbox={x0:ye+pe,x1:Oe+pe,y0:Ae+de,y1:Se+de},ae.inOut_bbox&&ae.inOut_bbox.push(le.bbox)}else le=!1;return{color:Te.color||o.defaultLine,x0:Te.x0||Te.x||0,x1:Te.x1||Te.x||0,y0:Te.y0||Te.y||0,y1:Te.y1||Te.y||0,xLabel:Te.xLabel,yLabel:Te.yLabel,zLabel:Te.zLabel,text:Te.text,name:Te.name,idealAlign:Te.idealAlign,borderColor:Te.borderColor,fontFamily:Te.fontFamily,fontSize:Te.fontSize,fontColor:Te.fontColor,fontWeight:Te.fontWeight,fontStyle:Te.fontStyle,fontVariant:Te.fontVariant,nameLength:Te.nameLength,textAlign:Te.textAlign,trace:Te.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Te.hovertemplate||!1,hovertemplateLabels:Te.hovertemplateLabels||!1,eventData:le}}),{gd:ce,hovermode:"closest",rotateLabels:!1,bgColor:ae.bgColor||o.background,container:v.select(ae.container),outerContainer:ae.outerContainer||ae.container}).hoverLabels,be=0,we=0;return me.sort(function(Te,Le){return Te.y0-Le.y0}).each(function(Te,Le){var Ie=Te.y0-Te.by/2;Te.offset=Ie-5<be?be-Ie+5:0,be=Ie+Te.by+Te.offset,Le===ae.anchorIndex&&(we=Te.offset)}).each(function(Te){Te.offset-=we}),X(me,!1,ce._fullLayout._invScaleX,ce._fullLayout._invScaleY),ue?me:me.node()};var F=/<extra>([\s\S]*)<\/extra>/;function q($,ae){var ue=ae.gd,ce=ue._fullLayout,de=ae.hovermode,pe=ae.rotateLabels,me=ae.bgColor,be=ae.container,we=ae.outerContainer,Te=ae.commonLabelOpts||{};if($.length===0)return[[]];var Le=ae.fontFamily||T.HOVERFONT,Ie=ae.fontSize||T.HOVERFONTSIZE,_e=ae.fontWeight||ce.font.weight,fe=ae.fontStyle||ce.font.style,le=ae.fontVariant||ce.font.variant,ye=ae.fontTextcase||ce.font.textcase,Oe=ae.fontLineposition||ce.font.lineposition,Ae=ae.fontShadow||ce.font.shadow,Se=$[0],Pe=Se.xa,Fe=Se.ya,Be=de.charAt(0),xe=Be+"Label",Me=Se[xe];if(Me===void 0&&Pe.type==="multicategory")for(var Ce=0;Ce<$.length&&(Me=$[Ce][xe])===void 0;Ce++);var Ne=J(ue,we),Re=Ne.top,He=Ne.width,Ye=Ne.height,Qe=Me!==void 0&&Se.distance<=ae.hoverdistance&&(de==="x"||de==="y");if(Qe){var lt,ut,xt=!0;for(lt=0;lt<$.length;lt++)if(xt&&$[lt].zLabel===void 0&&(xt=!1),ut=$[lt].hoverinfo||$[lt].trace.hoverinfo){var _t=Array.isArray(ut)?ut:ut.split("+");if(_t.indexOf("all")===-1&&_t.indexOf(de)===-1){Qe=!1;break}}xt&&(Qe=!1)}var mt=be.selectAll("g.axistext").data(Qe?[0]:[]);mt.enter().append("g").classed("axistext",!0),mt.exit().remove();var it={minX:0,maxX:0,minY:0,maxY:0};if(mt.each(function(){var Ut=v.select(this),Rn=b.ensureSingle(Ut,"path","",function(yn){yn.style({"stroke-width":"1px"})}),An=b.ensureSingle(Ut,"text","",function(yn){yn.attr("data-notex",1)}),mn=Te.bgcolor||o.defaultLine,tn=Te.bordercolor||o.contrast(mn),fn=o.contrast(mn),rn=Te.font,pn={weight:rn.weight||_e,style:rn.style||fe,variant:rn.variant||le,textcase:rn.textcase||ye,lineposition:rn.lineposition||Oe,shadow:rn.shadow||Ae,family:rn.family||Le,size:rn.size||Ie,color:rn.color||fn};Rn.style({fill:mn,stroke:tn}),An.text(Me).call(r.font,pn).call(i.positionText,0,0).call(i.convertToTspans,ue),Ut.attr("transform","");var wn,kn,Pn=J(ue,An.node());if(de==="x"){var On=Pe.side==="top"?"-":"";An.attr("text-anchor","middle").call(i.positionText,0,Pe.side==="top"?Re-Pn.bottom-L-M:Re-Pn.top+L+M),wn=Pe._offset+(Se.x0+Se.x1)/2,kn=Fe._offset+(Pe.side==="top"?0:Fe._length);var En=Pn.width/2+M,Vn=wn;wn<En?Vn=En:wn>ce.width-En&&(Vn=ce.width-En),Rn.attr("d","M"+(wn-Vn)+",0L"+(wn-Vn+L)+","+On+L+"H"+En+"v"+On+(2*M+Pn.height)+"H"+-En+"V"+On+L+"H"+(wn-Vn-L)+"Z"),wn=Vn,it.minX=wn-En,it.maxX=wn+En,Pe.side==="top"?(it.minY=kn-(2*M+Pn.height),it.maxY=kn-M):(it.minY=kn+M,it.maxY=kn+(2*M+Pn.height))}else{var Bn,Wn,rr;Fe.side==="right"?(Bn="start",Wn=1,rr="",wn=Pe._offset+Pe._length):(Bn="end",Wn=-1,rr="-",wn=Pe._offset),kn=Fe._offset+(Se.y0+Se.y1)/2,An.attr("text-anchor",Bn),Rn.attr("d","M0,0L"+rr+L+","+L+"V"+(M+Pn.height/2)+"h"+rr+(2*M+Pn.width)+"V-"+(M+Pn.height/2)+"H"+rr+L+"V-"+L+"Z"),it.minY=kn-(M+Pn.height/2),it.maxY=kn+(M+Pn.height/2),Fe.side==="right"?(it.minX=wn+L,it.maxX=wn+L+(2*M+Pn.width)):(it.minX=wn-L-(2*M+Pn.width),it.maxX=wn-L);var ir,Kn=Pn.height/2,vr=Re-Pn.top-Kn,nn="clip"+ce._uid+"commonlabel"+Fe._id;if(wn<Pn.width+2*M+L){ir="M-"+(L+M)+"-"+Kn+"h-"+(Pn.width-M)+"V"+Kn+"h"+(Pn.width-M)+"Z";var an=Pn.width-wn+M;i.positionText(An,an,vr),Bn==="end"&&An.selectAll("tspan").each(function(){var yn=v.select(this),Dn=r.tester.append("text").text(yn.text()).call(r.font,pn),$n=J(ue,Dn.node());Math.round($n.width)<Math.round(Pn.width)&&yn.attr("x",an-$n.width),Dn.remove()})}else i.positionText(An,Wn*(M+L),vr),ir=null;var In=ce._topclips.selectAll("#"+nn).data(ir?[0]:[]);In.enter().append("clipPath").attr("id",nn).append("path"),In.exit().remove(),In.select("path").attr("d",ir),r.setClipUrl(An,ir?nn:null,ue)}Ut.attr("transform",c(wn,kn))}),f.isUnifiedHover(de)){be.selectAll("g.hovertext").remove();var nt=$.filter(function(Ut){return Ut.hoverinfo!=="none"});if(nt.length===0)return[];var Et=ce.hoverlabel,zt=Et.font,Ft={showlegend:!0,legend:{title:{text:Me,font:zt},font:zt,bgcolor:Et.bgcolor,bordercolor:Et.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:ce.legend?ce.legend.traceorder:void 0,orientation:"v"}},Pt={font:zt};d(Ft,Pt,ue._fullData);var Ze=Pt.legend;Ze.entries=[];for(var Je=0;Je<nt.length;Je++){var qe=nt[Je];if(qe.hoverinfo!=="none"){var Ke=z(qe,!0,de,ce,Me),ft=Ke[0],ot=Ke[1];qe.name=ot,qe.text=ot!==""?ot+" : "+ft:ft;var Ue=qe.cd[qe.index];Ue&&(Ue.mc&&(qe.mc=Ue.mc),Ue.mcc&&(qe.mc=Ue.mcc),Ue.mlc&&(qe.mlc=Ue.mlc),Ue.mlcc&&(qe.mlc=Ue.mlcc),Ue.mlw&&(qe.mlw=Ue.mlw),Ue.mrc&&(qe.mrc=Ue.mrc),Ue.dir&&(qe.dir=Ue.dir)),qe._distinct=!0,Ze.entries.push([qe])}}Ze.entries.sort(function(Ut,Rn){return Ut[0].trace.index-Rn[0].trace.index}),Ze.layer=be,Ze._inHover=!0,Ze._groupTitleFont=Et.grouptitlefont,y(ue,Ze);var Ve,st,Xe,gt,yt=be.select("g.legend"),bt=J(ue,yt.node()),dt=bt.width+2*M,Lt=bt.height+2*M,wt=nt[0],Ct=(wt.x0+wt.x1)/2,Rt=(wt.y0+wt.y1)/2,Dt=!(h.traceIs(wt.trace,"bar-like")||h.traceIs(wt.trace,"box-violin"));Be==="y"?Dt?(st=Rt-M,Ve=Rt+M):(st=Math.min.apply(null,nt.map(function(Ut){return Math.min(Ut.y0,Ut.y1)})),Ve=Math.max.apply(null,nt.map(function(Ut){return Math.max(Ut.y0,Ut.y1)}))):st=Ve=b.mean(nt.map(function(Ut){return(Ut.y0+Ut.y1)/2}))-Lt/2,Be==="x"?Dt?(Xe=Ct+M,gt=Ct-M):(Xe=Math.max.apply(null,nt.map(function(Ut){return Math.max(Ut.x0,Ut.x1)})),gt=Math.min.apply(null,nt.map(function(Ut){return Math.min(Ut.x0,Ut.x1)}))):Xe=gt=b.mean(nt.map(function(Ut){return(Ut.x0+Ut.x1)/2}))-dt/2;var Nt,Xt,un=Pe._offset,qt=Fe._offset;return gt+=un-dt,st+=qt-Lt,Nt=(Xe+=un)+dt<He&&Xe>=0?Xe:gt+dt<He&&gt>=0?gt:un+dt<He?un:Xe-Ct<Ct-gt+dt?He-dt:0,Nt+=M,Xt=(Ve+=qt)+Lt<Ye&&Ve>=0?Ve:st+Lt<Ye&&st>=0?st:qt+Lt<Ye?qt:Ve-Rt<Rt-st+Lt?Ye-Lt:0,Xt+=M,yt.attr("transform",c(Nt-1,Xt-1)),yt}var Kt=be.selectAll("g.hovertext").data($,function(Ut){return D(Ut)});return Kt.enter().append("g").classed("hovertext",!0).each(function(){var Ut=v.select(this);Ut.append("rect").call(o.fill,o.addOpacity(me,.8)),Ut.append("text").classed("name",!0),Ut.append("path").style("stroke-width","1px"),Ut.append("text").classed("nums",!0).call(r.font,{weight:_e,style:fe,variant:le,textcase:ye,lineposition:Oe,shadow:Ae,family:Le,size:Ie})}),Kt.exit().remove(),Kt.each(function(Ut){var Rn=v.select(this).attr("transform",""),An=Ut.color;Array.isArray(An)&&(An=An[Ut.eventData[0].pointNumber]);var mn=Ut.bgcolor||An,tn=o.combine(o.opacity(mn)?mn:o.defaultLine,me),fn=o.combine(o.opacity(An)?An:o.defaultLine,me),rn=Ut.borderColor||o.contrast(tn),pn=z(Ut,Qe,de,ce,Me,Rn),wn=pn[0],kn=pn[1],Pn=Rn.select("text.nums").call(r.font,{family:Ut.fontFamily||Le,size:Ut.fontSize||Ie,color:Ut.fontColor||rn,weight:Ut.fontWeight||_e,style:Ut.fontStyle||fe,variant:Ut.fontVariant||le,textcase:Ut.fontTextcase||ye,lineposition:Ut.fontLineposition||Oe,shadow:Ut.fontShadow||Ae}).text(wn).attr("data-notex",1).call(i.positionText,0,0).call(i.convertToTspans,ue),On=Rn.select("text.name"),En=0,Vn=0;if(kn&&kn!==wn){On.call(r.font,{family:Ut.fontFamily||Le,size:Ut.fontSize||Ie,color:fn,weight:Ut.fontWeight||_e,style:Ut.fontStyle||fe,variant:Ut.fontVariant||le,textcase:Ut.fontTextcase||ye,lineposition:Ut.fontLineposition||Oe,shadow:Ut.fontShadow||Ae}).text(kn).attr("data-notex",1).call(i.positionText,0,0).call(i.convertToTspans,ue);var Bn=J(ue,On.node());En=Bn.width+2*M,Vn=Bn.height+2*M}else On.remove(),Rn.select("rect").remove();Rn.select("path").style({fill:tn,stroke:rn});var Wn=Ut.xa._offset+(Ut.x0+Ut.x1)/2,rr=Ut.ya._offset+(Ut.y0+Ut.y1)/2,ir=Math.abs(Ut.x1-Ut.x0),Kn=Math.abs(Ut.y1-Ut.y0),vr=J(ue,Pn.node()),nn=vr.width/ce._invScaleX,an=vr.height/ce._invScaleY;Ut.ty0=(Re-vr.top)/ce._invScaleY,Ut.bx=nn+2*M,Ut.by=Math.max(an+2*M,Vn),Ut.anchor="start",Ut.txwidth=nn,Ut.tx2width=En,Ut.offset=0;var In,yn,Dn=(nn+L+M+En)*ce._invScaleX;if(pe)Ut.pos=Wn,In=rr+Kn/2+Dn<=Ye,yn=rr-Kn/2-Dn>=0,Ut.idealAlign!=="top"&&In||!yn?In?(rr+=Kn/2,Ut.anchor="start"):Ut.anchor="middle":(rr-=Kn/2,Ut.anchor="end"),Ut.crossPos=rr;else{if(Ut.pos=rr,In=Wn+ir/2+Dn<=He,yn=Wn-ir/2-Dn>=0,Ut.idealAlign!=="left"&&In||!yn)if(In)Wn+=ir/2,Ut.anchor="start";else{Ut.anchor="middle";var $n=Dn/2,Hn=Wn+$n-He,Qn=Wn-$n;Hn>0&&(Wn-=Hn),Qn<0&&(Wn+=-Qn)}else Wn-=ir/2,Ut.anchor="end";Ut.crossPos=Wn}Pn.attr("text-anchor",Ut.anchor),En&&On.attr("text-anchor",Ut.anchor),Rn.attr("transform",c(Wn,rr)+(pe?s(m):""))}),{hoverLabels:Kt,commonLabelBoundingBox:it}}function z($,ae,ue,ce,de,pe){var me="",be="";$.nameOverride!==void 0&&($.name=$.nameOverride),$.name&&($.trace._meta&&($.name=b.templateString($.name,$.trace._meta)),me=ie($.name,$.nameLength));var we=ue.charAt(0),Te=we==="x"?"y":"x";$.zLabel!==void 0?($.xLabel!==void 0&&(be+="x: "+$.xLabel+"<br>"),$.yLabel!==void 0&&(be+="y: "+$.yLabel+"<br>"),$.trace.type!=="choropleth"&&$.trace.type!=="choroplethmapbox"&&(be+=(be?"z: ":"")+$.zLabel)):ae&&$[we+"Label"]===de?be=$[Te+"Label"]||"":$.xLabel===void 0?$.yLabel!==void 0&&$.trace.type!=="scattercarpet"&&(be=$.yLabel):be=$.yLabel===void 0?$.xLabel:"("+$.xLabel+", "+$.yLabel+")",!$.text&&$.text!==0||Array.isArray($.text)||(be+=(be?"<br>":"")+$.text),$.extraText!==void 0&&(be+=(be?"<br>":"")+$.extraText),pe&&be===""&&!$.hovertemplate&&(me===""&&pe.remove(),be=me);var Le=$.hovertemplate||!1;if(Le){var Ie=$.hovertemplateLabels||$;$[we+"Label"]!==de&&(Ie[we+"other"]=Ie[we+"Val"],Ie[we+"otherLabel"]=Ie[we+"Label"]),be=(be=b.hovertemplateString(Le,Ie,ce._d3locale,$.eventData[0]||{},$.trace._meta)).replace(F,function(_e,fe){return me=ie(fe,$.nameLength),""})}return[be,me]}function V($,ae){var ue=0,ce=$.offset;return ae&&(ce*=-p,ue=$.offset*A),{x:ue,y:ce}}function X($,ae,ue,ce){var de=function(me){return me*ue},pe=function(me){return me*ce};$.each(function(me){var be=v.select(this);if(me.del)return be.remove();var we,Te,Le,Ie,_e=be.select("text.nums"),fe=me.anchor,le=fe==="end"?-1:1,ye=(Ie=(Le=(Te={start:1,end:-1,middle:0}[(we=me).anchor])*(L+M))+Te*(we.txwidth+M),we.anchor==="middle"&&(Le-=we.tx2width/2,Ie+=we.txwidth/2+M),{alignShift:Te,textShiftX:Le,text2ShiftX:Ie}),Oe=V(me,ae),Ae=Oe.x,Se=Oe.y,Pe=fe==="middle";be.select("path").attr("d",Pe?"M-"+de(me.bx/2+me.tx2width/2)+","+pe(Se-me.by/2)+"h"+de(me.bx)+"v"+pe(me.by)+"h-"+de(me.bx)+"Z":"M0,0L"+de(le*L+Ae)+","+pe(L+Se)+"v"+pe(me.by/2-L)+"h"+de(le*me.bx)+"v-"+pe(me.by)+"H"+de(le*L+Ae)+"V"+pe(Se-L)+"Z");var Fe=Ae+ye.textShiftX,Be=Se+me.ty0-me.by/2+M,xe=me.textAlign||"auto";xe!=="auto"&&(xe==="left"&&fe!=="start"?(_e.attr("text-anchor","start"),Fe=Pe?-me.bx/2-me.tx2width/2+M:-me.bx-M):xe==="right"&&fe!=="end"&&(_e.attr("text-anchor","end"),Fe=Pe?me.bx/2-me.tx2width/2-M:me.bx+M)),_e.call(i.positionText,de(Fe),pe(Be)),me.tx2width&&(be.select("text.name").call(i.positionText,de(ye.text2ShiftX+ye.alignShift*M+Ae),pe(Se+me.ty0-me.by/2+M)),be.select("rect").call(r.setRect,de(ye.text2ShiftX+(ye.alignShift-1)*me.tx2width/2+Ae),pe(Se-me.by/2-1),de(me.tx2width),pe(me.by+2)))})}function j($,ae){var ue=$.index,ce=$.trace||{},de=$.cd[0],pe=$.cd[ue]||{};function me(_e){return _e||x(_e)&&_e===0}var be=Array.isArray(ue)?function(_e,fe){var le=b.castOption(de,ue,_e);return me(le)?le:b.extractOption({},ce,"",fe)}:function(_e,fe){return b.extractOption(pe,ce,_e,fe)};function we(_e,fe,le){var ye=be(fe,le);me(ye)&&($[_e]=ye)}if(we("hoverinfo","hi","hoverinfo"),we("bgcolor","hbg","hoverlabel.bgcolor"),we("borderColor","hbc","hoverlabel.bordercolor"),we("fontFamily","htf","hoverlabel.font.family"),we("fontSize","hts","hoverlabel.font.size"),we("fontColor","htc","hoverlabel.font.color"),we("fontWeight","htw","hoverlabel.font.weight"),we("fontStyle","hty","hoverlabel.font.style"),we("fontVariant","htv","hoverlabel.font.variant"),we("nameLength","hnl","hoverlabel.namelength"),we("textAlign","hta","hoverlabel.align"),$.posref=ae==="y"||ae==="closest"&&ce.orientation==="h"?$.xa._offset+($.x0+$.x1)/2:$.ya._offset+($.y0+$.y1)/2,$.x0=b.constrain($.x0,0,$.xa._length),$.x1=b.constrain($.x1,0,$.xa._length),$.y0=b.constrain($.y0,0,$.ya._length),$.y1=b.constrain($.y1,0,$.ya._length),$.xLabelVal!==void 0&&($.xLabel="xLabel"in $?$.xLabel:u.hoverLabelText($.xa,$.xLabelVal,ce.xhoverformat),$.xVal=$.xa.c2d($.xLabelVal)),$.yLabelVal!==void 0&&($.yLabel="yLabel"in $?$.yLabel:u.hoverLabelText($.ya,$.yLabelVal,ce.yhoverformat),$.yVal=$.ya.c2d($.yLabelVal)),$.zLabelVal!==void 0&&$.zLabel===void 0&&($.zLabel=String($.zLabelVal)),!(isNaN($.xerr)||$.xa.type==="log"&&$.xerr<=0)){var Te=u.tickText($.xa,$.xa.c2l($.xerr),"hover").text;$.xerrneg!==void 0?$.xLabel+=" +"+Te+" / -"+u.tickText($.xa,$.xa.c2l($.xerrneg),"hover").text:$.xLabel+="  "+Te,ae==="x"&&($.distance+=1)}if(!(isNaN($.yerr)||$.ya.type==="log"&&$.yerr<=0)){var Le=u.tickText($.ya,$.ya.c2l($.yerr),"hover").text;$.yerrneg!==void 0?$.yLabel+=" +"+Le+" / -"+u.tickText($.ya,$.ya.c2l($.yerrneg),"hover").text:$.yLabel+="  "+Le,ae==="y"&&($.distance+=1)}var Ie=$.hoverinfo||$.trace.hoverinfo;return Ie&&Ie!=="all"&&((Ie=Array.isArray(Ie)?Ie:Ie.split("+")).indexOf("x")===-1&&($.xLabel=void 0),Ie.indexOf("y")===-1&&($.yLabel=void 0),Ie.indexOf("z")===-1&&($.zLabel=void 0),Ie.indexOf("text")===-1&&($.text=void 0),Ie.indexOf("name")===-1&&($.name=void 0)),$}function H($,ae,ue){var ce,de,pe=ue.container,me=ue.fullLayout,be=me._size,we=ue.event,Te=!!ae.hLinePoint,Le=!!ae.vLinePoint;if(pe.selectAll(".spikeline").remove(),Le||Te){var Ie=o.combine(me.plot_bgcolor,me.paper_bgcolor);if(Te){var _e,fe,le=ae.hLinePoint;ce=le&&le.xa,(de=le&&le.ya).spikesnap==="cursor"?(_e=we.pointerX,fe=we.pointerY):(_e=ce._offset+le.x,fe=de._offset+le.y);var ye,Oe,Ae=t.readability(le.color,Ie)<1.5?o.contrast(Ie):le.color,Se=de.spikemode,Pe=de.spikethickness,Fe=de.spikecolor||Ae,Be=u.getPxPosition($,de);if(Se.indexOf("toaxis")!==-1||Se.indexOf("across")!==-1){if(Se.indexOf("toaxis")!==-1&&(ye=Be,Oe=_e),Se.indexOf("across")!==-1){var xe=de._counterDomainMin,Me=de._counterDomainMax;de.anchor==="free"&&(xe=Math.min(xe,de.position),Me=Math.max(Me,de.position)),ye=be.l+xe*be.w,Oe=be.l+Me*be.w}pe.insert("line",":first-child").attr({x1:ye,x2:Oe,y1:fe,y2:fe,"stroke-width":Pe,stroke:Fe,"stroke-dasharray":r.dashStyle(de.spikedash,Pe)}).classed("spikeline",!0).classed("crisp",!0),pe.insert("line",":first-child").attr({x1:ye,x2:Oe,y1:fe,y2:fe,"stroke-width":Pe+2,stroke:Ie}).classed("spikeline",!0).classed("crisp",!0)}Se.indexOf("marker")!==-1&&pe.insert("circle",":first-child").attr({cx:Be+(de.side!=="right"?Pe:-Pe),cy:fe,r:Pe,fill:Fe}).classed("spikeline",!0)}if(Le){var Ce,Ne,Re=ae.vLinePoint;ce=Re&&Re.xa,de=Re&&Re.ya,ce.spikesnap==="cursor"?(Ce=we.pointerX,Ne=we.pointerY):(Ce=ce._offset+Re.x,Ne=de._offset+Re.y);var He,Ye,Qe=t.readability(Re.color,Ie)<1.5?o.contrast(Ie):Re.color,lt=ce.spikemode,ut=ce.spikethickness,xt=ce.spikecolor||Qe,_t=u.getPxPosition($,ce);if(lt.indexOf("toaxis")!==-1||lt.indexOf("across")!==-1){if(lt.indexOf("toaxis")!==-1&&(He=_t,Ye=Ne),lt.indexOf("across")!==-1){var mt=ce._counterDomainMin,it=ce._counterDomainMax;ce.anchor==="free"&&(mt=Math.min(mt,ce.position),it=Math.max(it,ce.position)),He=be.t+(1-it)*be.h,Ye=be.t+(1-mt)*be.h}pe.insert("line",":first-child").attr({x1:Ce,x2:Ce,y1:He,y2:Ye,"stroke-width":ut,stroke:xt,"stroke-dasharray":r.dashStyle(ce.spikedash,ut)}).classed("spikeline",!0).classed("crisp",!0),pe.insert("line",":first-child").attr({x1:Ce,x2:Ce,y1:He,y2:Ye,"stroke-width":ut+2,stroke:Ie}).classed("spikeline",!0).classed("crisp",!0)}lt.indexOf("marker")!==-1&&pe.insert("circle",":first-child").attr({cx:Ce,cy:_t-(ce.side!=="top"?ut:-ut),r:ut,fill:xt}).classed("spikeline",!0)}}}function G($,ae){return!ae}function ie($,ae){return i.plainText($||"",{len:ae,allowedTags:["br","sub","sup","b","i","em"]})}function re($,ae,ue){var ce=ae[$+"a"],de=ae[$+"Val"],pe=ae.cd[0];if(ce.type==="category"||ce.type==="multicategory")de=ce._categoriesMap[de];else if(ce.type==="date"){var me=ae.trace[$+"periodalignment"];if(me){var be=ae.cd[ae.index],we=be[$+"Start"];we===void 0&&(we=be[$]);var Te=be[$+"End"];Te===void 0&&(Te=be[$]);var Le=Te-we;me==="end"?de+=Le:me==="middle"&&(de+=Le/2)}de=ce.d2c(de)}return pe&&pe.t&&pe.t.posLetter===ce._id&&(ue.boxmode!=="group"&&ue.violinmode!=="group"||(de+=pe.t.dPos)),de}function te($){return $.offsetTop+$.clientTop}function K($){return $.offsetLeft+$.clientLeft}function J($,ae){var ue=$._fullLayout,ce=ae.getBoundingClientRect(),de=ce.left,pe=ce.top,me=de+ce.width,be=pe+ce.height,we=b.apply3DTransform(ue._invTransform)(de,pe),Te=b.apply3DTransform(ue._invTransform)(me,be),Le=we[0],Ie=we[1],_e=Te[0],fe=Te[1];return{x:Le,y:Ie,width:_e-Le,height:fe-Ie,top:Math.min(Ie,fe),left:Math.min(Le,_e),right:Math.max(Le,_e),bottom:Math.max(Ie,fe)}}},16132:function(O,S,e){var v=e(3400),x=e(76308),t=e(10624).isUnifiedHover;O.exports=function(b,g,c,s){s=s||{};var n=g.legend;function i(a){s.font[a]||(s.font[a]=n?g.legend.font[a]:g.font[a])}g&&t(g.hovermode)&&(s.font||(s.font={}),i("size"),i("family"),i("color"),i("weight"),i("style"),i("variant"),n?(s.bgcolor||(s.bgcolor=x.combine(g.legend.bgcolor,g.paper_bgcolor)),s.bordercolor||(s.bordercolor=g.legend.bordercolor)):s.bgcolor||(s.bgcolor=g.paper_bgcolor)),c("hoverlabel.bgcolor",s.bgcolor),c("hoverlabel.bordercolor",s.bordercolor),c("hoverlabel.namelength",s.namelength),v.coerceFont(c,"hoverlabel.font",s.font),c("hoverlabel.align",s.align)}},41008:function(O,S,e){var v=e(3400),x=e(65460);O.exports=function(t,b){function g(c,s){return b[c]!==void 0?b[c]:v.coerce(t,b,x,c,s)}return g("clickmode"),g("hoversubplots"),g("hovermode")}},93024:function(O,S,e){var v=e(33428),x=e(3400),t=e(86476),b=e(10624),g=e(65460),c=e(83292);O.exports={moduleType:"component",name:"fx",constants:e(92456),schema:{layout:g},attributes:e(55756),layoutAttributes:g,supplyLayoutGlobalDefaults:e(81976),supplyDefaults:e(95448),supplyLayoutDefaults:e(88336),calc:e(55056),getDistanceFunction:b.getDistanceFunction,getClosest:b.getClosest,inbox:b.inbox,quadrature:b.quadrature,appendArrayPointValue:b.appendArrayPointValue,castHoverOption:function(s,n,i){return x.castOption(s,n,"hoverlabel."+i)},castHoverinfo:function(s,n,i){return x.castOption(s,i,"hoverinfo",function(a){return x.coerceHoverinfo({hoverinfo:a},{_module:s._module},n)})},hover:c.hover,unhover:t.unhover,loneHover:c.loneHover,loneUnhover:function(s){var n=x.isD3Selection(s)?s:v.select(s);n.selectAll("g.hovertext").remove(),n.selectAll(".spikeline").remove()},click:e(62376)}},65460:function(O,S,e){var v=e(92456),x=e(25376),t=x({editType:"none"});t.family.dflt=v.HOVERFONT,t.size.dflt=v.HOVERFONTSIZE,O.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:t,grouptitlefont:x({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},88336:function(O,S,e){var v=e(3400),x=e(65460),t=e(41008),b=e(16132);O.exports=function(g,c){function s(r,o){return v.coerce(g,c,x,r,o)}t(g,c)&&(s("hoverdistance"),s("spikedistance")),s("dragmode")==="select"&&s("selectdirection");var n=c._has("mapbox"),i=c._has("geo"),a=c._basePlotModules.length;c.dragmode==="zoom"&&((n||i)&&a===1||n&&i&&a===2)&&(c.dragmode="pan"),b(g,c,s),v.coerceFont(s,"hoverlabel.grouptitlefont",c.hoverlabel.font)}},81976:function(O,S,e){var v=e(3400),x=e(16132),t=e(65460);O.exports=function(b,g){x(b,g,function(c,s){return v.coerce(b,g,t,c,s)})}},12704:function(O,S,e){var v=e(3400),x=e(53756).counter,t=e(86968).u,b=e(33816).idRegex,g=e(31780),c={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[x("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[b.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[b.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:t({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function s(a,r,o){var l=r[o+"axes"],u=Object.keys((a._splomAxes||{})[o]||{});return Array.isArray(l)?l:u.length?u:void 0}function n(a,r,o,l,u,h){var f=r(a+"gap",o),T=r("domain."+a);r(a+"side",l);for(var d=new Array(u),y=T[0],m=(T[1]-y)/(u-f),w=m*(1-f),_=0;_<u;_++){var A=y+m*_;d[h?u-1-_:_]=[A,A+w]}return d}function i(a,r,o,l,u){var h,f=new Array(o);function T(d,y){r.indexOf(y)!==-1&&l[y]===void 0?(f[d]=y,l[y]=d):f[d]=""}if(Array.isArray(a))for(h=0;h<o;h++)T(h,a[h]);else for(T(0,u),h=1;h<o;h++)T(h,u+(h+1));return f}O.exports={moduleType:"component",name:"grid",schema:{layout:{grid:c}},layoutAttributes:c,sizeDefaults:function(a,r){var o=a.grid||{},l=s(r,o,"x"),u=s(r,o,"y");if(a.grid||l||u){var h,f,T=Array.isArray(o.subplots)&&Array.isArray(o.subplots[0]),d=Array.isArray(l),y=Array.isArray(u),m=d&&l!==o.xaxes&&y&&u!==o.yaxes;T?(h=o.subplots.length,f=o.subplots[0].length):(y&&(h=u.length),d&&(f=l.length));var w=g.newContainer(r,"grid"),_=I("rows",h),A=I("columns",f);if(_*A>1){T||d||y||I("pattern")==="independent"&&(T=!0),w._hasSubplotGrid=T;var p,L,M=I("roworder")==="top to bottom",C=T?.2:.1,R=T?.3:.1;m&&r._splomGridDflt&&(p=r._splomGridDflt.xside,L=r._splomGridDflt.yside),w._domains={x:n("x",I,C,p,A),y:n("y",I,R,L,_,M)}}else delete r.grid}function I(D,F){return v.coerce(o,w,c,D,F)}},contentDefaults:function(a,r){var o=r.grid;if(o&&o._domains){var l,u,h,f,T,d,y,m=a.grid||{},w=r._subplots,_=o._hasSubplotGrid,A=o.rows,p=o.columns,L=o.pattern==="independent",M=o._axisMap={};if(_){var C=m.subplots||[];d=o.subplots=new Array(A);var R=1;for(l=0;l<A;l++){var I=d[l]=new Array(p),D=C[l]||[];for(u=0;u<p;u++)if(L?(T=R===1?"xy":"x"+R+"y"+R,R++):T=D[u],I[u]="",w.cartesian.indexOf(T)!==-1){if(y=T.indexOf("y"),h=T.slice(0,y),f=T.slice(y),M[h]!==void 0&&M[h]!==u||M[f]!==void 0&&M[f]!==l)continue;I[u]=T,M[h]=u,M[f]=l}}}else{var F=s(r,m,"x"),q=s(r,m,"y");o.xaxes=i(F,w.xaxis,p,M,"x"),o.yaxes=i(q,w.yaxis,A,M,"y")}var z=o._anchors={},V=o.roworder==="top to bottom";for(var X in M){var j,H,G,ie=X.charAt(0),re=o[ie+"side"];if(re.length<8)z[X]="free";else if(ie==="x"){if(re.charAt(0)==="t"===V?(j=0,H=1,G=A):(j=A-1,H=-1,G=-1),_){var te=M[X];for(l=j;l!==G;l+=H)if((T=d[l][te])&&(y=T.indexOf("y"),T.slice(0,y)===X)){z[X]=T.slice(y);break}}else for(l=j;l!==G;l+=H)if(f=o.yaxes[l],w.cartesian.indexOf(X+f)!==-1){z[X]=f;break}}else if(re.charAt(0)==="l"?(j=0,H=1,G=p):(j=p-1,H=-1,G=-1),_){var K=M[X];for(l=j;l!==G;l+=H)if((T=d[K][l])&&(y=T.indexOf("y"),T.slice(y)===X)){z[X]=T.slice(0,y);break}}else for(l=j;l!==G;l+=H)if(h=o.xaxes[l],w.cartesian.indexOf(h+X)!==-1){z[X]=h;break}}}}}},65760:function(O,S,e){var v=e(33816),x=e(31780).templatedArray;e(36208),O.exports=x("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",v.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",v.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},63556:function(O,S,e){var v=e(38248),x=e(36896);O.exports=function(t,b,g,c){b=b||{};var s=g==="log"&&b.type==="linear",n=g==="linear"&&b.type==="log";if(s||n){for(var i,a,r=t._fullLayout.images,o=b._id.charAt(0),l=0;l<r.length;l++)if(a="images["+l+"].",(i=r[l])[o+"ref"]===b._id){var u=i[o],h=i["size"+o],f=null,T=null;if(s){f=x(u,b.range);var d=h/Math.pow(10,f)/2;T=2*Math.log(d+Math.sqrt(1+d*d))/Math.LN10}else T=(f=Math.pow(10,u))*(Math.pow(10,h/2)-Math.pow(10,-h/2));v(f)?v(T)||(T=null):(f=null,T=null),c(a+o,f),c(a+"size"+o,T)}}}},25024:function(O,S,e){var v=e(3400),x=e(54460),t=e(51272),b=e(65760);function g(c,s,n){function i(f,T){return v.coerce(c,s,b,f,T)}var a=i("source");if(!i("visible",!!a))return s;i("layer"),i("xanchor"),i("yanchor"),i("sizex"),i("sizey"),i("sizing"),i("opacity");for(var r={_fullLayout:n},o=["x","y"],l=0;l<2;l++){var u=o[l],h=x.coerceRef(c,s,r,u,"paper",void 0);h!=="paper"&&x.getFromId(r,h)._imgIndices.push(s._index),x.coercePosition(s,r,i,h,u,0)}return s}O.exports=function(c,s){t(c,s,{name:"images",handleItemDefaults:g})}},60963:function(O,S,e){var v=e(33428),x=e(43616),t=e(54460),b=e(79811),g=e(9616);O.exports=function(c){var s,n,i=c._fullLayout,a=[],r={},o=[];for(n=0;n<i.images.length;n++){var l=i.images[n];if(l.visible)if(l.layer==="below"&&l.xref!=="paper"&&l.yref!=="paper"){s=b.ref2id(l.xref)+b.ref2id(l.yref);var u=i._plots[s];if(!u){o.push(l);continue}u.mainplot&&(s=u.mainplot.id),r[s]||(r[s]=[]),r[s].push(l)}else l.layer==="above"?a.push(l):o.push(l)}var h={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},f={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function T(p){var L=v.select(this);if(this._imgSrc!==p.source)if(L.attr("xmlns",g.svg),p.source&&p.source.slice(0,5)==="data:")L.attr("xlink:href",p.source),this._imgSrc=p.source;else{var M=new Promise((function(C){var R=new Image;function I(){L.remove(),C()}this.img=R,R.setAttribute("crossOrigin","anonymous"),R.onerror=I,R.onload=function(){var D=document.createElement("canvas");D.width=this.width,D.height=this.height,D.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var F=D.toDataURL("image/png");L.attr("xlink:href",F),C()},L.on("error",I),R.src=p.source,this._imgSrc=p.source}).bind(this));c._promises.push(M)}}function d(p){var L,M,C=v.select(this),R=t.getFromId(c,p.xref),I=t.getFromId(c,p.yref),D=t.getRefType(p.xref)==="domain",F=t.getRefType(p.yref)==="domain",q=i._size;L=R!==void 0?typeof p.xref=="string"&&D?R._length*p.sizex:Math.abs(R.l2p(p.sizex)-R.l2p(0)):p.sizex*q.w,M=I!==void 0?typeof p.yref=="string"&&F?I._length*p.sizey:Math.abs(I.l2p(p.sizey)-I.l2p(0)):p.sizey*q.h;var z,V,X=L*h[p.xanchor].offset,j=M*f[p.yanchor].offset,H=h[p.xanchor].sizing+f[p.yanchor].sizing;switch(z=R!==void 0?typeof p.xref=="string"&&D?R._length*p.x+R._offset:R.r2p(p.x)+R._offset:p.x*q.w+q.l,z+=X,V=I!==void 0?typeof p.yref=="string"&&F?I._length*(1-p.y)+I._offset:I.r2p(p.y)+I._offset:q.h-p.y*q.h+q.t,V+=j,p.sizing){case"fill":H+=" slice";break;case"stretch":H="none"}C.attr({x:z,y:V,width:L,height:M,preserveAspectRatio:H,opacity:p.opacity});var G=(R&&t.getRefType(p.xref)!=="domain"?R._id:"")+(I&&t.getRefType(p.yref)!=="domain"?I._id:"");x.setClipUrl(C,G?"clip"+i._uid+G:null,c)}var y=i._imageLowerLayer.selectAll("image").data(o),m=i._imageUpperLayer.selectAll("image").data(a);y.enter().append("image"),m.enter().append("image"),y.exit().remove(),m.exit().remove(),y.each(function(p){T.bind(this)(p),d.bind(this)(p)}),m.each(function(p){T.bind(this)(p),d.bind(this)(p)});var w=Object.keys(i._plots);for(n=0;n<w.length;n++){s=w[n];var _=i._plots[s];if(_.imagelayer){var A=_.imagelayer.selectAll("image").data(r[s]||[]);A.enter().append("image"),A.exit().remove(),A.each(function(p){T.bind(this)(p),d.bind(this)(p)})}}}},7402:function(O,S,e){O.exports={moduleType:"component",name:"images",layoutAttributes:e(65760),supplyLayoutDefaults:e(25024),includeBasePlot:e(36632)("images"),draw:e(60963),convertCoords:e(63556)}},3800:function(O,S,e){var v=e(25376),x=e(22548);O.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:x.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:v({editType:"legend"}),grouptitlefont:v({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:v({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},65196:function(O){O.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},77864:function(O,S,e){var v=e(24040),x=e(3400),t=e(31780),b=e(45464),g=e(3800),c=e(64859),s=e(42451);function n(i,a,r,o){var l=a[i]||{},u=t.newContainer(r,i);function h(H,G){return x.coerce(l,u,g,H,G)}var f=x.coerceFont(h,"font",r.font);if(h("bgcolor",r.paper_bgcolor),h("bordercolor"),h("visible")){for(var T,d=function(H,G){var ie=T._input,re=T;return x.coerce(ie,re,b,H,G)},y=r.font||{},m=x.coerceFont(h,"grouptitlefont",y,{overrideDflt:{size:Math.round(1.1*y.size)}}),w=0,_=!1,A="normal",p=(r.shapes||[]).filter(function(H){return H.showlegend}),L=o.concat(p).filter(function(H){return i===(H.legend||"legend")}),M=0;M<L.length;M++)if((T=L[M]).visible){var C=T._isShape;(T.showlegend||T._dfltShowLegend&&!(T._module&&T._module.attributes&&T._module.attributes.showlegend&&T._module.attributes.showlegend.dflt===!1))&&(w++,T.showlegend&&(_=!0,(!C&&v.traceIs(T,"pie-like")||T._input.showlegend===!0)&&w++),x.coerceFont(d,"legendgrouptitle.font",m)),(!C&&v.traceIs(T,"bar")&&r.barmode==="stack"||["tonextx","tonexty"].indexOf(T.fill)!==-1)&&(A=s.isGrouped({traceorder:A})?"grouped+reversed":"reversed"),T.legendgroup!==void 0&&T.legendgroup!==""&&(A=s.isReversed({traceorder:A})?"reversed+grouped":"grouped")}var R=x.coerce(a,r,c,"showlegend",_&&w>(i==="legend"?1:0));if(R===!1&&(r[i]=void 0),(R!==!1||l.uirevision)&&(h("uirevision",r.uirevision),R!==!1)){h("borderwidth");var I,D,F,q=h("orientation")==="h",z=h("yref")==="paper",V=h("xref")==="paper",X="left";if(q?(I=0,v.getComponentMethod("rangeslider","isVisible")(a.xaxis)?z?(D=1.1,F="bottom"):(D=1,F="top"):z?(D=-.1,F="top"):(D=0,F="bottom")):(D=1,F="auto",V?I=1.02:(I=1,X="right")),x.coerce(l,u,{x:{valType:"number",editType:"legend",min:V?-2:0,max:V?3:1,dflt:I}},"x"),x.coerce(l,u,{y:{valType:"number",editType:"legend",min:z?-2:0,max:z?3:1,dflt:D}},"y"),h("traceorder",A),s.isGrouped(r[i])&&h("tracegroupgap"),h("entrywidth"),h("entrywidthmode"),h("indentation"),h("itemsizing"),h("itemwidth"),h("itemclick"),h("itemdoubleclick"),h("groupclick"),h("xanchor",X),h("yanchor",F),h("valign"),x.noneOrAll(l,u,["x","y"]),h("title.text")){h("title.side",q?"left":"top");var j=x.extendFlat({},f,{size:x.bigFont(f.size)});x.coerceFont(h,"title.font",j)}}}}O.exports=function(i,a,r){var o,l=r.slice(),u=a.shapes;if(u)for(o=0;o<u.length;o++){var h=u[o];if(h.showlegend){var f={_input:h._input,visible:h.visible,showlegend:h.showlegend,legend:h.legend};l.push(f)}}var T=["legend"];for(o=0;o<l.length;o++)x.pushUnique(T,l[o].legend);for(a._legends=[],o=0;o<T.length;o++){var d=T[o];n(d,i,a,l),a[d]&&a[d].visible&&(a[d]._id=d),a._legends.push(d)}}},31140:function(O,S,e){var v=e(33428),x=e(3400),t=e(7316),b=e(24040),g=e(95924),c=e(86476),s=e(43616),n=e(76308),i=e(72736),a=e(33048),r=e(65196),o=e(84284),l=o.LINE_SPACING,u=o.FROM_TL,h=o.FROM_BR,f=e(35456),T=e(2012),d=e(42451),y=1,m=/^legend[0-9]*$/;function w(F,q){var z,V,X=q||{},j=F._fullLayout,H=D(X),G=X._inHover;if(G?(V=X.layer,z="hover"):(V=j._infolayer,z=H),V){var ie;if(z+=j._uid,F._legendMouseDownTime||(F._legendMouseDownTime=0),G){if(!X.entries)return;ie=f(X.entries,X)}else{for(var re=(F.calcdata||[]).slice(),te=j.shapes,K=0;K<te.length;K++){var J=te[K];if(J.showlegend){var $={_isShape:!0,_fullInput:J,index:J._index,name:J.name||J.label.text||"shape "+J._index,legend:J.legend,legendgroup:J.legendgroup,legendgrouptitle:J.legendgrouptitle,legendrank:J.legendrank,legendwidth:J.legendwidth,showlegend:J.showlegend,visible:J.visible,opacity:J.opacity,mode:J.type==="line"?"lines":"markers",line:J.line,marker:{line:J.line,color:J.fillcolor,size:12,symbol:J.type==="rect"?"square":J.type==="circle"?"circle":"hexagon2"}};re.push([{trace:$}])}}ie=j.showlegend&&f(re,X,j._legends.length>1)}var ae=j.hiddenlabels||[];if(!(G||j.showlegend&&ie.length))return V.selectAll("."+H).remove(),j._topdefs.select("#"+z).remove(),t.autoMargin(F,H);var ue=x.ensureSingle(V,"g",H,function(Ie){G||Ie.attr("pointer-events","all")}),ce=x.ensureSingleById(j._topdefs,"clipPath",z,function(Ie){Ie.append("rect")}),de=x.ensureSingle(ue,"rect","bg",function(Ie){Ie.attr("shape-rendering","crispEdges")});de.call(n.stroke,X.bordercolor).call(n.fill,X.bgcolor).style("stroke-width",X.borderwidth+"px");var pe,me=x.ensureSingle(ue,"g","scrollbox"),be=X.title;X._titleWidth=0,X._titleHeight=0,be.text?((pe=x.ensureSingle(me,"text",H+"titletext")).attr("text-anchor","start").call(s.font,be.font).text(be.text),C(pe,me,F,X,y)):me.selectAll("."+H+"titletext").remove();var we=x.ensureSingle(ue,"rect","scrollbar",function(Ie){Ie.attr(r.scrollBarEnterAttrs).call(n.fill,r.scrollBarColor)}),Te=me.selectAll("g.groups").data(ie);Te.enter().append("g").attr("class","groups"),Te.exit().remove();var Le=Te.selectAll("g.traces").data(x.identity);Le.enter().append("g").attr("class","traces"),Le.exit().remove(),Le.style("opacity",function(Ie){var _e=Ie[0].trace;return b.traceIs(_e,"pie-like")?ae.indexOf(Ie[0].label)!==-1?.5:1:_e.visible==="legendonly"?.5:1}).each(function(){v.select(this).call(p,F,X)}).call(T,F,X).each(function(){G||v.select(this).call(M,F,H)}),x.syncOrAsync([t.previousPromises,function(){return function(Ie,_e,fe,le){var ye=Ie._fullLayout,Oe=D(le);le||(le=ye[Oe]);var Ae=ye._size,Se=d.isVertical(le),Pe=d.isGrouped(le),Fe=le.entrywidthmode==="fraction",Be=le.borderwidth,xe=2*Be,Me=r.itemGap,Ce=le.indentation+le.itemwidth+2*Me,Ne=2*(Be+Me),Re=I(le),He=le.y<0||le.y===0&&Re==="top",Ye=le.y>1||le.y===1&&Re==="bottom",Qe=le.tracegroupgap,lt={};le._maxHeight=Math.max(He||Ye?ye.height/2:Ae.h,30);var ut=0;le._width=0,le._height=0;var xt=function(yt){var bt=0,dt=0,Lt=yt.title.side;return Lt&&(Lt.indexOf("left")!==-1&&(bt=yt._titleWidth),Lt.indexOf("top")!==-1&&(dt=yt._titleHeight)),[bt,dt]}(le);if(Se)fe.each(function(yt){var bt=yt[0].height;s.setTranslate(this,Be+xt[0],Be+xt[1]+le._height+bt/2+Me),le._height+=bt,le._width=Math.max(le._width,yt[0].width)}),ut=Ce+le._width,le._width+=Me+Ce+xe,le._height+=Ne,Pe&&(_e.each(function(yt,bt){s.setTranslate(this,0,bt*le.tracegroupgap)}),le._height+=(le._lgroupsLength-1)*le.tracegroupgap);else{var _t=R(le),mt=le.x<0||le.x===0&&_t==="right",it=le.x>1||le.x===1&&_t==="left",nt=Ye||He,Et=ye.width/2;le._maxWidth=Math.max(mt?nt&&_t==="left"?Ae.l+Ae.w:Et:it?nt&&_t==="right"?Ae.r+Ae.w:Et:Ae.w,2*Ce);var zt=0,Ft=0;fe.each(function(yt){var bt=_(yt,le,Ce);zt=Math.max(zt,bt),Ft+=bt}),ut=null;var Pt=0;if(Pe){var Ze=0,Je=0,qe=0;_e.each(function(){var yt=0,bt=0;v.select(this).selectAll("g.traces").each(function(Lt){var wt=_(Lt,le,Ce),Ct=Lt[0].height;s.setTranslate(this,xt[0],xt[1]+Be+Me+Ct/2+bt),bt+=Ct,yt=Math.max(yt,wt),lt[Lt[0].trace.legendgroup]=yt});var dt=yt+Me;Je>0&&dt+Be+Je>le._maxWidth?(Pt=Math.max(Pt,Je),Je=0,qe+=Ze+Qe,Ze=bt):Ze=Math.max(Ze,bt),s.setTranslate(this,Je,qe),Je+=dt}),le._width=Math.max(Pt,Je)+Be,le._height=qe+Ze+Ne}else{var Ke=fe.size(),ft=Ft+xe+(Ke-1)*Me<le._maxWidth,ot=0,Ue=0,Ve=0,st=0;fe.each(function(yt){var bt=yt[0].height,dt=_(yt,le,Ce),Lt=ft?dt:zt;Fe||(Lt+=Me),Lt+Be+Ue-Me>=le._maxWidth&&(Pt=Math.max(Pt,st),Ue=0,Ve+=ot,le._height+=ot,ot=0),s.setTranslate(this,xt[0]+Be+Ue,xt[1]+Be+Ve+bt/2+Me),st=Ue+dt+Me,Ue+=Lt,ot=Math.max(ot,bt)}),ft?(le._width=Ue+xe,le._height=ot+Ne):(le._width=Math.max(Pt,st)+xe,le._height+=ot+Ne)}}le._width=Math.ceil(Math.max(le._width+xt[0],le._titleWidth+2*(Be+r.titlePad))),le._height=Math.ceil(Math.max(le._height+xt[1],le._titleHeight+2*(Be+r.itemGap))),le._effHeight=Math.min(le._height,le._maxHeight);var Xe=Ie._context.edits,gt=Xe.legendText||Xe.legendPosition;fe.each(function(yt){var bt=v.select(this).select("."+Oe+"toggle"),dt=yt[0].height,Lt=yt[0].trace.legendgroup,wt=_(yt,le,Ce);Pe&&Lt!==""&&(wt=lt[Lt]);var Ct=gt?Ce:ut||wt;Se||Fe||(Ct+=Me/2),s.setRect(bt,0,-dt/2,Ct,dt)})}(F,Te,Le,X)},function(){var Ie,_e,fe,le,ye=j._size,Oe=X.borderwidth,Ae=X.xref==="paper",Se=X.yref==="paper";if(be.text&&function(nt,Et,zt){if(Et.title.side==="top center"||Et.title.side==="top right"){var Ft=Et.title.font.size*l,Pt=0,Ze=nt.node(),Je=s.bBox(Ze).width;Et.title.side==="top center"?Pt=.5*(Et._width-2*zt-2*r.titlePad-Je):Et.title.side==="top right"&&(Pt=Et._width-2*zt-2*r.titlePad-Je),i.positionText(nt,zt+r.titlePad+Pt,zt+Ft)}}(pe,X,Oe),!G){var Pe,Fe;Pe=Ae?ye.l+ye.w*X.x-u[R(X)]*X._width:j.width*X.x-u[R(X)]*X._width,Fe=Se?ye.t+ye.h*(1-X.y)-u[I(X)]*X._effHeight:j.height*(1-X.y)-u[I(X)]*X._effHeight;var Be=function(nt,Et,zt,Ft){var Pt=nt._fullLayout,Ze=Pt[Et],Je=R(Ze),qe=I(Ze),Ke=Ze.xref==="paper",ft=Ze.yref==="paper";nt._fullLayout._reservedMargin[Et]={};var ot=Ze.y<.5?"b":"t",Ue=Ze.x<.5?"l":"r",Ve={r:Pt.width-zt,l:zt+Ze._width,b:Pt.height-Ft,t:Ft+Ze._effHeight};if(Ke&&ft)return t.autoMargin(nt,Et,{x:Ze.x,y:Ze.y,l:Ze._width*u[Je],r:Ze._width*h[Je],b:Ze._effHeight*h[qe],t:Ze._effHeight*u[qe]});Ke?nt._fullLayout._reservedMargin[Et][ot]=Ve[ot]:ft||Ze.orientation==="v"?nt._fullLayout._reservedMargin[Et][Ue]=Ve[Ue]:nt._fullLayout._reservedMargin[Et][ot]=Ve[ot]}(F,H,Pe,Fe);if(Be)return;if(j.margin.autoexpand){var xe=Pe,Me=Fe;Pe=Ae?x.constrain(Pe,0,j.width-X._width):xe,Fe=Se?x.constrain(Fe,0,j.height-X._effHeight):Me,Pe!==xe&&x.log("Constrain "+H+".x to make legend fit inside graph"),Fe!==Me&&x.log("Constrain "+H+".y to make legend fit inside graph")}s.setTranslate(ue,Pe,Fe)}if(we.on(".drag",null),ue.on("wheel",null),G||X._height<=X._maxHeight||F._context.staticPlot){var Ce=X._effHeight;G&&(Ce=X._height),de.attr({width:X._width-Oe,height:Ce-Oe,x:Oe/2,y:Oe/2}),s.setTranslate(me,0,0),ce.select("rect").attr({width:X._width-2*Oe,height:Ce-2*Oe,x:Oe,y:Oe}),s.setClipUrl(me,z,F),s.setRect(we,0,0,0,0),delete X._scrollY}else{var Ne,Re,He,Ye=Math.max(r.scrollBarMinHeight,X._effHeight*X._effHeight/X._height),Qe=X._effHeight-Ye-2*r.scrollBarMargin,lt=X._height-X._effHeight,ut=Qe/lt,xt=Math.min(X._scrollY||0,lt);de.attr({width:X._width-2*Oe+r.scrollBarWidth+r.scrollBarMargin,height:X._effHeight-Oe,x:Oe/2,y:Oe/2}),ce.select("rect").attr({width:X._width-2*Oe+r.scrollBarWidth+r.scrollBarMargin,height:X._effHeight-2*Oe,x:Oe,y:Oe+xt}),s.setClipUrl(me,z,F),it(xt,Ye,ut),ue.on("wheel",function(){it(xt=x.constrain(X._scrollY+v.event.deltaY/Qe*lt,0,lt),Ye,ut),xt!==0&&xt!==lt&&v.event.preventDefault()});var _t=v.behavior.drag().on("dragstart",function(){var nt=v.event.sourceEvent;Ne=nt.type==="touchstart"?nt.changedTouches[0].clientY:nt.clientY,He=xt}).on("drag",function(){var nt=v.event.sourceEvent;nt.buttons===2||nt.ctrlKey||(Re=nt.type==="touchmove"?nt.changedTouches[0].clientY:nt.clientY,xt=function(Et,zt,Ft){var Pt=(Ft-zt)/ut+Et;return x.constrain(Pt,0,lt)}(He,Ne,Re),it(xt,Ye,ut))});we.call(_t);var mt=v.behavior.drag().on("dragstart",function(){var nt=v.event.sourceEvent;nt.type==="touchstart"&&(Ne=nt.changedTouches[0].clientY,He=xt)}).on("drag",function(){var nt=v.event.sourceEvent;nt.type==="touchmove"&&(Re=nt.changedTouches[0].clientY,xt=function(Et,zt,Ft){var Pt=(zt-Ft)/ut+Et;return x.constrain(Pt,0,lt)}(He,Ne,Re),it(xt,Ye,ut))});me.call(mt)}function it(nt,Et,zt){X._scrollY=F._fullLayout[H]._scrollY=nt,s.setTranslate(me,0,-nt),s.setRect(we,X._width,r.scrollBarMargin+nt*zt,r.scrollBarWidth,Et),ce.select("rect").attr("y",Oe+nt)}F._context.edits.legendPosition&&(ue.classed("cursor-move",!0),c.init({element:ue.node(),gd:F,prepFn:function(nt){if(nt.target!==we.node()){var Et=s.getTranslate(ue);fe=Et.x,le=Et.y}},moveFn:function(nt,Et){if(fe!==void 0&&le!==void 0){var zt=fe+nt,Ft=le+Et;s.setTranslate(ue,zt,Ft),Ie=c.align(zt,X._width,ye.l,ye.l+ye.w,X.xanchor),_e=c.align(Ft+X._height,-X._height,ye.t+ye.h,ye.t,X.yanchor)}},doneFn:function(){if(Ie!==void 0&&_e!==void 0){var nt={};nt[H+".x"]=Ie,nt[H+".y"]=_e,b.call("_guiRelayout",F,nt)}},clickFn:function(nt,Et){var zt=V.selectAll("g.traces").filter(function(){var Ft=this.getBoundingClientRect();return Et.clientX>=Ft.left&&Et.clientX<=Ft.right&&Et.clientY>=Ft.top&&Et.clientY<=Ft.bottom});zt.size()>0&&A(F,ue,zt,nt,Et)}}))}],F)}}function _(F,q,z){var V=F[0],X=V.width,j=q.entrywidthmode,H=V.trace.legendwidth||q.entrywidth;return j==="fraction"?q._maxWidth*H:z+(H||X)}function A(F,q,z,V,X){var j=z.data()[0][0].trace,H={event:X,node:z.node(),curveNumber:j.index,expandedIndex:j._expandedIndex,data:F.data,layout:F.layout,frames:F._transitionData._frames,config:F._context,fullData:F._fullData,fullLayout:F._fullLayout};j._group&&(H.group=j._group),b.traceIs(j,"pie-like")&&(H.label=z.datum()[0].label);var G=g.triggerHandler(F,"plotly_legendclick",H);if(V===1){if(G===!1)return;q._clickTimeout=setTimeout(function(){F._fullLayout&&a(z,F,V)},F._context.doubleClickDelay)}else V===2&&(q._clickTimeout&&clearTimeout(q._clickTimeout),F._legendMouseDownTime=0,g.triggerHandler(F,"plotly_legenddoubleclick",H)!==!1&&G!==!1&&a(z,F,V))}function p(F,q,z){var V,X,j=D(z),H=F.data()[0][0],G=H.trace,ie=b.traceIs(G,"pie-like"),re=!z._inHover&&q._context.edits.legendText&&!ie,te=z._maxNameLength;H.groupTitle?(V=H.groupTitle.text,X=H.groupTitle.font):(X=z.font,z.entries?V=H.text:(V=ie?H.label:G.name,G._meta&&(V=x.templateString(V,G._meta))));var K=x.ensureSingle(F,"text",j+"text");K.attr("text-anchor","start").call(s.font,X).text(re?L(V,te):V);var J=z.indentation+z.itemwidth+2*r.itemGap;i.positionText(K,J,0),re?K.call(i.makeEditable,{gd:q,text:V}).call(C,F,q,z).on("edit",function($){this.text(L($,te)).call(C,F,q,z);var ae=H.trace._fullInput||{},ue={};if(b.hasTransform(ae,"groupby")){var ce=b.getTransformIndices(ae,"groupby"),de=ce[ce.length-1],pe=x.keyedContainer(ae,"transforms["+de+"].styles","target","value.name");pe.set(H.trace._group,$),ue=pe.constructUpdate()}else ue.name=$;return ae._isShape?b.call("_guiRelayout",q,"shapes["+G.index+"].name",ue.name):b.call("_guiRestyle",q,ue,G.index)}):C(K,F,q,z)}function L(F,q){var z=Math.max(4,q);if(F&&F.trim().length>=z/2)return F;for(var V=z-(F=F||"").length;V>0;V--)F+=" ";return F}function M(F,q,z){var V,X=q._context.doubleClickDelay,j=1,H=x.ensureSingle(F,"rect",z+"toggle",function(G){q._context.staticPlot||G.style("cursor","pointer").attr("pointer-events","all"),G.call(n.fill,"rgba(0,0,0,0)")});q._context.staticPlot||(H.on("mousedown",function(){(V=new Date().getTime())-q._legendMouseDownTime<X?j+=1:(j=1,q._legendMouseDownTime=V)}),H.on("mouseup",function(){if(!q._dragged&&!q._editing){var G=q._fullLayout[z];new Date().getTime()-q._legendMouseDownTime>X&&(j=Math.max(j-1,1)),A(q,G,F,j,v.event)}}))}function C(F,q,z,V,X){V._inHover&&F.attr("data-notex",!0),i.convertToTspans(F,z,function(){(function(j,H,G,ie){var re=j.data()[0][0];if(G._inHover||!re||re.trace.showlegend){var te=j.select("g[class*=math-group]"),K=te.node(),J=D(G);G||(G=H._fullLayout[J]);var $,ae,ue=G.borderwidth,ce=(ie===y?G.title.font:re.groupTitle?re.groupTitle.font:G.font).size*l;if(K){var de=s.bBox(K);$=de.height,ae=de.width,ie===y?s.setTranslate(te,ue,ue+.75*$):s.setTranslate(te,0,.25*$)}else{var pe="."+J+(ie===y?"title":"")+"text",me=j.select(pe),be=i.lineCount(me),we=me.node();if($=ce*be,ae=we?s.bBox(we).width:0,ie===y)G.title.side==="left"&&(ae+=2*r.itemGap),i.positionText(me,ue+r.titlePad,ue+ce);else{var Te=2*r.itemGap+G.indentation+G.itemwidth;re.groupTitle&&(Te=r.itemGap,ae-=G.indentation+G.itemwidth),i.positionText(me,Te,-ce*((be-1)/2-.3))}}ie===y?(G._titleWidth=ae,G._titleHeight=$):(re.lineHeight=ce,re.height=Math.max($,16)+3,re.width=ae)}else j.remove()})(q,z,V,X)})}function R(F){return x.isRightAnchor(F)?"right":x.isCenterAnchor(F)?"center":"left"}function I(F){return x.isBottomAnchor(F)?"bottom":x.isMiddleAnchor(F)?"middle":"top"}function D(F){return F._id||"legend"}O.exports=function(F,q){if(q)w(F,q);else{var z=F._fullLayout,V=z._legends;z._infolayer.selectAll('[class^="legend"]').each(function(){var H=v.select(this),G=H.attr("class").split(" ")[0];G.match(m)&&V.indexOf(G)===-1&&H.remove()});for(var X=0;X<V.length;X++){var j=V[X];w(F,F._fullLayout[j])}}}},35456:function(O,S,e){var v=e(24040),x=e(42451);O.exports=function(t,b,g){var c,s,n=b._inHover,i=x.isGrouped(b),a=x.isReversed(b),r={},o=[],l=!1,u={},h=0,f=0;function T(V,X,j){if(b.visible!==!1&&(!g||V===b._id))if(X!==""&&x.isGrouped(b))o.indexOf(X)===-1?(o.push(X),l=!0,r[X]=[j]):r[X].push(j);else{var H="~~i"+h;o.push(H),r[H]=[j],h++}}for(c=0;c<t.length;c++){var d=t[c],y=d[0],m=y.trace,w=m.legend,_=m.legendgroup;if(n||m.visible&&m.showlegend)if(v.traceIs(m,"pie-like"))for(u[_]||(u[_]={}),s=0;s<d.length;s++){var A=d[s].label;u[_][A]||(T(w,_,{label:A,color:d[s].color,i:d[s].i,trace:m,pts:d[s].pts}),u[_][A]=!0,f=Math.max(f,(A||"").length))}else T(w,_,y),f=Math.max(f,(m.name||"").length)}if(!o.length)return[];var p=!l||!i,L=[];for(c=0;c<o.length;c++){var M=r[o[c]];p?L.push(M[0]):L.push(M)}for(p&&(L=[L]),c=0;c<L.length;c++){var C=1/0;for(s=0;s<L[c].length;s++){var R=L[c][s].trace.legendrank;C>R&&(C=R)}L[c][0]._groupMinRank=C,L[c][0]._preGroupSort=c}var I=function(V,X){return V.trace.legendrank-X.trace.legendrank||V._preSort-X._preSort};for(L.forEach(function(V,X){V[0]._preGroupSort=X}),L.sort(function(V,X){return V[0]._groupMinRank-X[0]._groupMinRank||V[0]._preGroupSort-X[0]._preGroupSort}),c=0;c<L.length;c++){L[c].forEach(function(V,X){V._preSort=X}),L[c].sort(I);var D=L[c][0].trace,F=null;for(s=0;s<L[c].length;s++){var q=L[c][s].trace.legendgrouptitle;if(q&&q.text){F=q,n&&(q.font=b._groupTitleFont);break}}if(a&&L[c].reverse(),F){var z=!1;for(s=0;s<L[c].length;s++)if(v.traceIs(L[c][s].trace,"pie-like")){z=!0;break}L[c].unshift({i:-1,groupTitle:F,noClick:z,trace:{showlegend:D.showlegend,legendgroup:D.legendgroup,visible:b.groupclick==="toggleitem"||D.visible}})}for(s=0;s<L[c].length;s++)L[c][s]=[L[c][s]]}return b._lgroupsLength=L.length,b._maxNameLength=f,L}},33048:function(O,S,e){var v=e(24040),x=e(3400),t=x.pushUnique,b=!0;O.exports=function(g,c,s){var n=c._fullLayout;if(!c._dragged&&!c._editing){var i,a=n.legend.itemclick,r=n.legend.itemdoubleclick,o=n.legend.groupclick;if(s===1&&a==="toggle"&&r==="toggleothers"&&b&&c.data&&c._context.showTips&&x.notifier(x._(c,"Double-click on legend to isolate one trace"),"long"),b=!1,s===1?i=a:s===2&&(i=r),i){var l=o==="togglegroup",u=n.hiddenlabels?n.hiddenlabels.slice():[],h=g.data()[0][0];if(!h.groupTitle||!h.noClick){var f=c._fullData,T=(n.shapes||[]).filter(function(_e){return _e.showlegend}),d=f.concat(T),y=h.trace;y._isShape&&(y=y._fullInput);var m,w,_,A,p,L=y.legendgroup,M={},C=[],R=[],I=[],D=(n.shapes||[]).map(function(_e){return _e._input}),F=!1,q=y.legend,z=y._fullInput;if(z&&z._isShape||!v.traceIs(y,"pie-like")){var V,X=L&&L.length,j=[];if(X)for(m=0;m<d.length;m++)(V=d[m]).visible&&V.legendgroup===L&&j.push(m);if(i==="toggle"){var H;switch(y.visible){case!0:H="legendonly";break;case!1:H=!1;break;case"legendonly":H=!0}if(X)if(l)for(m=0;m<d.length;m++){var G=d[m];G.visible!==!1&&G.legendgroup===L&&Ie(G,H)}else Ie(y,H);else Ie(y,H)}else if(i==="toggleothers"){var ie,re,te,K,J=!0;for(m=0;m<d.length;m++)if(ie=(K=d[m])===y,re=K.showlegend!==!0,!(ie||re||X&&K.legendgroup===L||K.legend!==q||K.visible!==!0||v.traceIs(K,"notLegendIsolatable"))){J=!1;break}for(m=0;m<d.length;m++)if((K=d[m]).visible!==!1&&K.legend===q&&!v.traceIs(K,"notLegendIsolatable"))switch(y.visible){case"legendonly":Ie(K,!0);break;case!0:te=!!J||"legendonly",ie=K===y,re=K.showlegend!==!0&&!K.legendgroup,Ie(K,!!(ie||X&&K.legendgroup===L||re)||te)}}for(m=0;m<R.length;m++)if(_=R[m]){var $=_.constructUpdate(),ae=Object.keys($);for(w=0;w<ae.length;w++)A=ae[w],(M[A]=M[A]||[])[I[m]]=$[A]}for(p=Object.keys(M),m=0;m<p.length;m++)for(A=p[m],w=0;w<C.length;w++)M[A].hasOwnProperty(w)||(M[A][w]=void 0);F?v.call("_guiUpdate",c,M,{shapes:D},C):v.call("_guiRestyle",c,M,C)}else{var ue=h.label,ce=u.indexOf(ue);if(i==="toggle")ce===-1?u.push(ue):u.splice(ce,1);else if(i==="toggleothers"){var de=ce!==-1,pe=[];for(m=0;m<c.calcdata.length;m++){var me=c.calcdata[m];for(w=0;w<me.length;w++){var be=me[w].label;q===me[0].trace.legend&&ue!==be&&(u.indexOf(be)===-1&&(de=!0),t(u,be),pe.push(be))}}if(!de)for(var we=0;we<pe.length;we++){var Te=u.indexOf(pe[we]);Te!==-1&&u.splice(Te,1)}}v.call("_guiRelayout",c,"hiddenlabels",u)}}}}function Le(_e,fe){var le=C.indexOf(_e),ye=M.visible;return ye||(ye=M.visible=[]),C.indexOf(_e)===-1&&(C.push(_e),le=C.length-1),ye[le]=fe,le}function Ie(_e,fe){if(!h.groupTitle||l){var le,ye=_e._fullInput||_e,Oe=ye._isShape,Ae=ye.index;if(Ae===void 0&&(Ae=ye._index),v.hasTransform(ye,"groupby")){var Se=R[Ae];if(!Se){var Pe=v.getTransformIndices(ye,"groupby"),Fe=Pe[Pe.length-1];Se=x.keyedContainer(ye,"transforms["+Fe+"].styles","target","value.visible"),R[Ae]=Se}var Be=Se.get(_e._group);Be===void 0&&(Be=!0),Be!==!1&&Se.set(_e._group,fe),I[Ae]=Le(Ae,ye.visible!==!1)}else{var xe=ye.visible!==!1&&fe;Oe?(le=xe,D[Ae].visible=le,F=!0):Le(Ae,xe)}}}}},42451:function(O,S){S.isGrouped=function(e){return(e.traceorder||"").indexOf("grouped")!==-1},S.isVertical=function(e){return e.orientation!=="h"},S.isReversed=function(e){return(e.traceorder||"").indexOf("reversed")!==-1}},2780:function(O,S,e){O.exports={moduleType:"component",name:"legend",layoutAttributes:e(3800),supplyLayoutDefaults:e(77864),draw:e(31140),style:e(2012)}},2012:function(O,S,e){var v=e(33428),x=e(24040),t=e(3400),b=t.strTranslate,g=e(43616),c=e(76308),s=e(94288).extractOpts,n=e(43028),i=e(10528),a=e(69656).castOption,r=e(65196);function o(h,f){return(f?"radial":"horizontal")+(h?"":"reversed")}function l(h){var f=h[0].trace,T=f.contours,d=n.hasLines(f),y=n.hasMarkers(f),m=f.visible&&f.fill&&f.fill!=="none",w=!1,_=!1;if(T){var A=T.coloring;A==="lines"?w=!0:d=A==="none"||A==="heatmap"||T.showlines,T.type==="constraint"?m=T._operation!=="=":A!=="fill"&&A!=="heatmap"||(_=!0)}return{showMarker:y,showLine:d,showFill:m,showGradientLine:w,showGradientFill:_,anyLine:d||w,anyFill:m||_}}function u(h,f,T){return h&&t.isArrayOrTypedArray(h)?f:h>T?T:h}O.exports=function(h,f,T){var d=f._fullLayout;T||(T=d.legend);var y=T.itemsizing==="constant",m=T.itemwidth,w=(m+2*r.itemGap)/2,_=b(w,0),A=function(M,C,R,I){var D;if(M+1)D=M;else{if(!(C&&C.width>0))return 0;D=C.width}return y?I:Math.min(D,R)};function p(M,C,R){var I=M[0].trace,D=I.marker||{},F=D.line||{},q=D.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",z=R?I.visible&&I.type===R:x.traceIs(I,"bar"),V=v.select(C).select("g.legendpoints").selectAll("path.legend"+R).data(z?[M]:[]);V.enter().append("path").classed("legend"+R,!0).attr("d",q).attr("transform",_),V.exit().remove(),V.each(function(X){var j=v.select(this),H=X[0],G=A(H.mlw,D.line,5,2);j.style("stroke-width",G+"px");var ie=H.mcc;if(!T._inHover&&"mc"in H){var re=s(D),te=re.mid;te===void 0&&(te=(re.max+re.min)/2),ie=g.tryColorscale(D,"")(te)}var K=ie||H.mc||D.color,J=D.pattern,$=J&&g.getPatternAttr(J.shape,0,"");if($){var ae=g.getPatternAttr(J.bgcolor,0,null),ue=g.getPatternAttr(J.fgcolor,0,null),ce=J.fgopacity,de=u(J.size,8,10),pe=u(J.solidity,.5,1),me="legend-"+I.uid;j.call(g.pattern,"legend",f,me,$,de,pe,ie,J.fillmode,ae,ue,ce)}else j.call(c.fill,K);G&&c.stroke(j,H.mlc||F.color)})}function L(M,C,R){var I=M[0],D=I.trace,F=R?D.visible&&D.type===R:x.traceIs(D,R),q=v.select(C).select("g.legendpoints").selectAll("path.legend"+R).data(F?[M]:[]);if(q.enter().append("path").classed("legend"+R,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",_),q.exit().remove(),q.size()){var z=D.marker||{},V=A(a(z.line.width,I.pts),z.line,5,2),X="pieLike",j=t.minExtend(D,{marker:{line:{width:V}}},X),H=t.minExtend(I,{trace:j},X);i(q,H,j,f)}}h.each(function(M){var C=v.select(this),R=t.ensureSingle(C,"g","layers");R.style("opacity",M[0].trace.opacity);var I=T.indentation,D=T.valign,F=M[0].lineHeight,q=M[0].height;if(D==="middle"&&I===0||!F||!q)R.attr("transform",null);else{var z={top:1,bottom:-1}[D]*(.5*(F-q+3))||0,V=T.indentation;R.attr("transform",b(V,z))}R.selectAll("g.legendfill").data([M]).enter().append("g").classed("legendfill",!0),R.selectAll("g.legendlines").data([M]).enter().append("g").classed("legendlines",!0);var X=R.selectAll("g.legendsymbols").data([M]);X.enter().append("g").classed("legendsymbols",!0),X.selectAll("g.legendpoints").data([M]).enter().append("g").classed("legendpoints",!0)}).each(function(M){var C,R=M[0].trace,I=[];if(R.visible)switch(R.type){case"histogram2d":case"heatmap":I=[["M-15,-2V4H15V-2Z"]],C=!0;break;case"choropleth":case"choroplethmapbox":I=[["M-6,-6V6H6V-6Z"]],C=!0;break;case"densitymapbox":I=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],C="radial";break;case"cone":I=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],C=!1;break;case"streamtube":I=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],C=!1;break;case"surface":I=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],C=!0;break;case"mesh3d":I=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],C=!1;break;case"volume":I=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],C=!0;break;case"isosurface":I=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],C=!1}var D=v.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(I);D.enter().append("path").classed("legend3dandfriends",!0).attr("transform",_).style("stroke-miterlimit",1),D.exit().remove(),D.each(function(F,q){var z,V=v.select(this),X=s(R),j=X.colorscale,H=X.reversescale;if(j){if(!C){var G=j.length;z=q===0?j[H?G-1:0][1]:q===1?j[H?0:G-1][1]:j[Math.floor((G-1)/2)][1]}}else{var ie=R.vertexcolor||R.facecolor||R.color;z=t.isArrayOrTypedArray(ie)?ie[q]||ie[0]:ie}V.attr("d",F[0]),z?V.call(c.fill,z):V.call(function(re){if(re.size()){var te="legendfill-"+R.uid;g.gradient(re,f,te,o(H,C==="radial"),j,"fill")}})})}).each(function(M){var C=M[0].trace,R=C.type==="waterfall";if(M[0]._distinct&&R){var I=M[0].trace[M[0].dir].marker;return M[0].mc=I.color,M[0].mlw=I.line.width,M[0].mlc=I.line.color,p(M,this,"waterfall")}var D=[];C.visible&&R&&(D=M[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var F=v.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(D);F.enter().append("path").classed("legendwaterfall",!0).attr("transform",_).style("stroke-miterlimit",1),F.exit().remove(),F.each(function(q){var z=v.select(this),V=C[q[0]].marker,X=A(void 0,V.line,5,2);z.attr("d",q[1]).style("stroke-width",X+"px").call(c.fill,V.color),X&&z.call(c.stroke,V.line.color)})}).each(function(M){p(M,this,"funnel")}).each(function(M){p(M,this)}).each(function(M){var C=M[0].trace,R=v.select(this).select("g.legendpoints").selectAll("path.legendbox").data(C.visible&&x.traceIs(C,"box-violin")?[M]:[]);R.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",_),R.exit().remove(),R.each(function(){var I=v.select(this);if(C.boxpoints!=="all"&&C.points!=="all"||c.opacity(C.fillcolor)!==0||c.opacity((C.line||{}).color)!==0){var D=A(void 0,C.line,5,2);I.style("stroke-width",D+"px").call(c.fill,C.fillcolor),D&&c.stroke(I,C.line.color)}else{var F=t.minExtend(C,{marker:{size:y?12:t.constrain(C.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});R.call(g.pointStyle,F,f)}})}).each(function(M){L(M,this,"funnelarea")}).each(function(M){L(M,this,"pie")}).each(function(M){var C,R,I=l(M),D=I.showFill,F=I.showLine,q=I.showGradientLine,z=I.showGradientFill,V=I.anyFill,X=I.anyLine,j=M[0],H=j.trace,G=s(H),ie=G.colorscale,re=G.reversescale,te=n.hasMarkers(H)||!V?"M5,0":X?"M5,-2":"M5,-3",K=v.select(this),J=K.select(".legendfill").selectAll("path").data(D||z?[M]:[]);if(J.enter().append("path").classed("js-fill",!0),J.exit().remove(),J.attr("d",te+"h"+m+"v6h-"+m+"z").call(function(ue){if(ue.size())if(D)g.fillGroupStyle(ue,f,!0);else{var ce="legendfill-"+H.uid;g.gradient(ue,f,ce,o(re),ie,"fill")}}),F||q){var $=A(void 0,H.line,10,5);R=t.minExtend(H,{line:{width:$}}),C=[t.minExtend(j,{trace:R})]}var ae=K.select(".legendlines").selectAll("path").data(F||q?[C]:[]);ae.enter().append("path").classed("js-line",!0),ae.exit().remove(),ae.attr("d",te+(q?"l"+m+",0.0001":"h"+m)).call(F?g.lineGroupStyle:function(ue){if(ue.size()){var ce="legendline-"+H.uid;g.lineGroupStyle(ue),g.gradient(ue,f,ce,o(re),ie,"stroke")}})}).each(function(M){var C,R,I=l(M),D=I.anyFill,F=I.anyLine,q=I.showLine,z=I.showMarker,V=M[0],X=V.trace,j=!z&&!F&&!D&&n.hasText(X);function H(ae,ue,ce,de){var pe=t.nestedProperty(X,ae).get(),me=t.isArrayOrTypedArray(pe)&&ue?ue(pe):pe;if(y&&me&&de!==void 0&&(me=de),ce){if(me<ce[0])return ce[0];if(me>ce[1])return ce[1]}return me}function G(ae){return V._distinct&&V.index&&ae[V.index]?ae[V.index]:ae[0]}if(z||j||q){var ie={},re={};if(z){ie.mc=H("marker.color",G),ie.mx=H("marker.symbol",G),ie.mo=H("marker.opacity",t.mean,[.2,1]),ie.mlc=H("marker.line.color",G),ie.mlw=H("marker.line.width",t.mean,[0,5],2),re.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var te=H("marker.size",t.mean,[2,16],12);ie.ms=te,re.marker.size=te}q&&(re.line={width:H("line.width",G,[0,10],5)}),j&&(ie.tx="Aa",ie.tp=H("textposition",G),ie.ts=10,ie.tc=H("textfont.color",G),ie.tf=H("textfont.family",G),ie.tw=H("textfont.weight",G),ie.ty=H("textfont.style",G),ie.tv=H("textfont.variant",G),ie.tC=H("textfont.textcase",G),ie.tE=H("textfont.lineposition",G),ie.tS=H("textfont.shadow",G)),C=[t.minExtend(V,ie)],(R=t.minExtend(X,re)).selectedpoints=null,R.texttemplate=null}var K=v.select(this).select("g.legendpoints"),J=K.selectAll("path.scatterpts").data(z?C:[]);J.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",_),J.exit().remove(),J.call(g.pointStyle,R,f),z&&(C[0].mrc=3);var $=K.selectAll("g.pointtext").data(j?C:[]);$.enter().append("g").classed("pointtext",!0).append("text").attr("transform",_),$.exit().remove(),$.selectAll("text").call(g.textPointStyle,R,f)}).each(function(M){var C=M[0].trace,R=v.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(C.visible&&C.type==="candlestick"?[M,M]:[]);R.enter().append("path").classed("legendcandle",!0).attr("d",function(I,D){return D?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",_).style("stroke-miterlimit",1),R.exit().remove(),R.each(function(I,D){var F=v.select(this),q=C[D?"increasing":"decreasing"],z=A(void 0,q.line,5,2);F.style("stroke-width",z+"px").call(c.fill,q.fillcolor),z&&c.stroke(F,q.line.color)})}).each(function(M){var C=M[0].trace,R=v.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(C.visible&&C.type==="ohlc"?[M,M]:[]);R.enter().append("path").classed("legendohlc",!0).attr("d",function(I,D){return D?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",_).style("stroke-miterlimit",1),R.exit().remove(),R.each(function(I,D){var F=v.select(this),q=C[D?"increasing":"decreasing"],z=A(void 0,q.line,5,2);F.style("fill","none").call(g.dashLine,q.line.dash,z),z&&c.stroke(F,q.line.color)})})}},66540:function(O,S,e){e(76052),O.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},44248:function(O,S,e){var v=e(24040),x=e(7316),t=e(79811),b=e(9224),g=e(4016).eraseActiveShape,c=e(3400),s=c._,n=O.exports={};function i(d,y){var m,w,_=y.currentTarget,A=_.getAttribute("data-attr"),p=_.getAttribute("data-val")||!0,L=d._fullLayout,M={},C=t.list(d,null,!0),R=L._cartesianSpikesEnabled;if(A==="zoom"){var I,D=p==="in"?.5:2,F=(1+D)/2,q=(1-D)/2;for(w=0;w<C.length;w++)if(!(m=C[w]).fixedrange)if(I=m._name,p==="auto")M[I+".autorange"]=!0;else if(p==="reset")m._rangeInitial0===void 0&&m._rangeInitial1===void 0?M[I+".autorange"]=!0:m._rangeInitial0===void 0?(M[I+".autorange"]=m._autorangeInitial,M[I+".range"]=[null,m._rangeInitial1]):m._rangeInitial1===void 0?(M[I+".range"]=[m._rangeInitial0,null],M[I+".autorange"]=m._autorangeInitial):M[I+".range"]=[m._rangeInitial0,m._rangeInitial1],m._showSpikeInitial!==void 0&&(M[I+".showspikes"]=m._showSpikeInitial,R!=="on"||m._showSpikeInitial||(R="off"));else{var z=[m.r2l(m.range[0]),m.r2l(m.range[1])],V=[F*z[0]+q*z[1],F*z[1]+q*z[0]];M[I+".range[0]"]=m.l2r(V[0]),M[I+".range[1]"]=m.l2r(V[1])}}else A!=="hovermode"||p!=="x"&&p!=="y"||(p=L._isHoriz?"y":"x",_.setAttribute("data-val",p)),M[A]=p;L._cartesianSpikesEnabled=R,v.call("_guiRelayout",d,M)}function a(d,y){for(var m=y.currentTarget,w=m.getAttribute("data-attr"),_=m.getAttribute("data-val")||!0,A=d._fullLayout._subplots.gl3d||[],p={},L=w.split("."),M=0;M<A.length;M++)p[A[M]+"."+L[1]]=_;var C=_==="pan"?_:"zoom";p.dragmode=C,v.call("_guiRelayout",d,p)}function r(d,y){for(var m=y.currentTarget.getAttribute("data-attr"),w=m==="resetLastSave",_=m==="resetDefault",A=d._fullLayout,p=A._subplots.gl3d||[],L={},M=0;M<p.length;M++){var C,R=p[M],I=R+".camera",D=R+".aspectratio",F=R+".aspectmode",q=A[R]._scene;w?(L[I+".up"]=q.viewInitial.up,L[I+".eye"]=q.viewInitial.eye,L[I+".center"]=q.viewInitial.center,C=!0):_&&(L[I+".up"]=null,L[I+".eye"]=null,L[I+".center"]=null,C=!0),C&&(L[D+".x"]=q.viewInitial.aspectratio.x,L[D+".y"]=q.viewInitial.aspectratio.y,L[D+".z"]=q.viewInitial.aspectratio.z,L[F]=q.viewInitial.aspectmode)}v.call("_guiRelayout",d,L)}function o(d,y){var m=y.currentTarget,w=m._previousVal,_=d._fullLayout,A=_._subplots.gl3d||[],p=["xaxis","yaxis","zaxis"],L={},M={};if(w)M=w,m._previousVal=null;else{for(var C=0;C<A.length;C++){var R=A[C],I=_[R],D=R+".hovermode";L[D]=I.hovermode,M[D]=!1;for(var F=0;F<3;F++){var q=p[F],z=R+"."+q+".showspikes";M[z]=!1,L[z]=I[q].showspikes}}m._previousVal=L}return M}function l(d,y){for(var m=y.currentTarget,w=m.getAttribute("data-attr"),_=m.getAttribute("data-val")||!0,A=d._fullLayout,p=A._subplots.geo||[],L=0;L<p.length;L++){var M=p[L],C=A[M];if(w==="zoom"){var R=C.projection.scale,I=_==="in"?2*R:.5*R;v.call("_guiRelayout",d,M+".projection.scale",I)}}w==="reset"&&T(d,"geo")}function u(d){var y=d._fullLayout;return!y.hovermode&&(y._has("cartesian")?y._isHoriz?"y":"x":"closest")}function h(d){var y=u(d);v.call("_guiRelayout",d,"hovermode",y)}function f(d,y){for(var m=y.currentTarget.getAttribute("data-val"),w=d._fullLayout,_=w._subplots.mapbox||[],A={},p=0;p<_.length;p++){var L=_[p],M=w[L].zoom,C=m==="in"?1.05*M:M/1.05;A[L+".zoom"]=C}v.call("_guiRelayout",d,A)}function T(d,y){for(var m=d._fullLayout,w=m._subplots[y]||[],_={},A=0;A<w.length;A++)for(var p=w[A],L=m[p]._subplot.viewInitial,M=Object.keys(L),C=0;C<M.length;C++){var R=M[C];_[p+"."+R]=L[R]}v.call("_guiRelayout",d,_)}n.toImage={name:"toImage",title:function(d){var y=(d._context.toImageButtonOptions||{}).format||"png";return s(d,y==="png"?"Download plot as a png":"Download plot")},icon:b.camera,click:function(d){var y=d._context.toImageButtonOptions,m={format:y.format||"png"};c.notifier(s(d,"Taking snapshot - this may take a few seconds"),"long"),m.format!=="svg"&&c.isIE()&&(c.notifier(s(d,"IE only supports svg.  Changing format to svg."),"long"),m.format="svg"),["filename","width","height","scale"].forEach(function(w){w in y&&(m[w]=y[w])}),v.call("downloadImage",d,m).then(function(w){c.notifier(s(d,"Snapshot succeeded")+" - "+w,"long")}).catch(function(){c.notifier(s(d,"Sorry, there was a problem downloading your snapshot!"),"long")})}},n.sendDataToCloud={name:"sendDataToCloud",title:function(d){return s(d,"Edit in Chart Studio")},icon:b.disk,click:function(d){x.sendDataToCloud(d)}},n.editInChartStudio={name:"editInChartStudio",title:function(d){return s(d,"Edit in Chart Studio")},icon:b.pencil,click:function(d){x.sendDataToCloud(d)}},n.zoom2d={name:"zoom2d",_cat:"zoom",title:function(d){return s(d,"Zoom")},attr:"dragmode",val:"zoom",icon:b.zoombox,click:i},n.pan2d={name:"pan2d",_cat:"pan",title:function(d){return s(d,"Pan")},attr:"dragmode",val:"pan",icon:b.pan,click:i},n.select2d={name:"select2d",_cat:"select",title:function(d){return s(d,"Box Select")},attr:"dragmode",val:"select",icon:b.selectbox,click:i},n.lasso2d={name:"lasso2d",_cat:"lasso",title:function(d){return s(d,"Lasso Select")},attr:"dragmode",val:"lasso",icon:b.lasso,click:i},n.drawclosedpath={name:"drawclosedpath",title:function(d){return s(d,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:b.drawclosedpath,click:i},n.drawopenpath={name:"drawopenpath",title:function(d){return s(d,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:b.drawopenpath,click:i},n.drawline={name:"drawline",title:function(d){return s(d,"Draw line")},attr:"dragmode",val:"drawline",icon:b.drawline,click:i},n.drawrect={name:"drawrect",title:function(d){return s(d,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:b.drawrect,click:i},n.drawcircle={name:"drawcircle",title:function(d){return s(d,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:b.drawcircle,click:i},n.eraseshape={name:"eraseshape",title:function(d){return s(d,"Erase active shape")},icon:b.eraseshape,click:g},n.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(d){return s(d,"Zoom in")},attr:"zoom",val:"in",icon:b.zoom_plus,click:i},n.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(d){return s(d,"Zoom out")},attr:"zoom",val:"out",icon:b.zoom_minus,click:i},n.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(d){return s(d,"Autoscale")},attr:"zoom",val:"auto",icon:b.autoscale,click:i},n.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(d){return s(d,"Reset axes")},attr:"zoom",val:"reset",icon:b.home,click:i},n.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(d){return s(d,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:b.tooltip_basic,gravity:"ne",click:i},n.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(d){return s(d,"Compare data on hover")},attr:"hovermode",val:function(d){return d._fullLayout._isHoriz?"y":"x"},icon:b.tooltip_compare,gravity:"ne",click:i},n.zoom3d={name:"zoom3d",_cat:"zoom",title:function(d){return s(d,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:b.zoombox,click:a},n.pan3d={name:"pan3d",_cat:"pan",title:function(d){return s(d,"Pan")},attr:"scene.dragmode",val:"pan",icon:b.pan,click:a},n.orbitRotation={name:"orbitRotation",title:function(d){return s(d,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:b["3d_rotate"],click:a},n.tableRotation={name:"tableRotation",title:function(d){return s(d,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:b["z-axis"],click:a},n.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(d){return s(d,"Reset camera to default")},attr:"resetDefault",icon:b.home,click:r},n.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(d){return s(d,"Reset camera to last save")},attr:"resetLastSave",icon:b.movie,click:r},n.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(d){return s(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:b.tooltip_basic,gravity:"ne",click:function(d,y){var m=o(d,y);v.call("_guiRelayout",d,m)}},n.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(d){return s(d,"Zoom in")},attr:"zoom",val:"in",icon:b.zoom_plus,click:l},n.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(d){return s(d,"Zoom out")},attr:"zoom",val:"out",icon:b.zoom_minus,click:l},n.resetGeo={name:"resetGeo",_cat:"reset",title:function(d){return s(d,"Reset")},attr:"reset",val:null,icon:b.autoscale,click:l},n.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(d){return s(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:b.tooltip_basic,gravity:"ne",click:h},n.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(d){return s(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:b.tooltip_basic,gravity:"ne",click:h},n.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(d){return s(d,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:b.tooltip_basic,gravity:"ne",click:h},n.resetViewSankey={name:"resetSankeyGroup",title:function(d){return s(d,"Reset view")},icon:b.home,click:function(d){for(var y={"node.groups":[],"node.x":[],"node.y":[]},m=0;m<d._fullData.length;m++){var w=d._fullData[m]._viewInitial;y["node.groups"].push(w.node.groups.slice()),y["node.x"].push(w.node.x.slice()),y["node.y"].push(w.node.y.slice())}v.call("restyle",d,y)}},n.toggleHover={name:"toggleHover",title:function(d){return s(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:b.tooltip_basic,gravity:"ne",click:function(d,y){var m=o(d,y);m.hovermode=u(d),v.call("_guiRelayout",d,m)}},n.resetViews={name:"resetViews",title:function(d){return s(d,"Reset views")},icon:b.home,click:function(d,y){var m=y.currentTarget;m.setAttribute("data-attr","zoom"),m.setAttribute("data-val","reset"),i(d,y),m.setAttribute("data-attr","resetLastSave"),r(d,y),T(d,"geo"),T(d,"mapbox")}},n.toggleSpikelines={name:"toggleSpikelines",title:function(d){return s(d,"Toggle Spike Lines")},icon:b.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(d){var y=d._fullLayout,m=y._cartesianSpikesEnabled;y._cartesianSpikesEnabled=m==="on"?"off":"on",v.call("_guiRelayout",d,function(w){for(var _=w._fullLayout._cartesianSpikesEnabled==="on",A=t.list(w,null,!0),p={},L=0;L<A.length;L++){var M=A[L];p[M._name+".showspikes"]=!!_||M._showSpikeInitial}return p}(d))}},n.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(d){return s(d,"Reset view")},attr:"reset",icon:b.home,click:function(d){T(d,"mapbox")}},n.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(d){return s(d,"Zoom in")},attr:"zoom",val:"in",icon:b.zoom_plus,click:f},n.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(d){return s(d,"Zoom out")},attr:"zoom",val:"out",icon:b.zoom_minus,click:f}},76052:function(O,S,e){var v=e(44248),x=Object.keys(v),t=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],b=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(t),g=[];x.forEach(function(c){(function(s){if(b.indexOf(s._cat||s.name)===-1){var n=s.name,i=(s._cat||s.name).toLowerCase();g.indexOf(n)===-1&&g.push(n),g.indexOf(i)===-1&&g.push(i)}})(v[c])}),g.sort(),O.exports={DRAW_MODES:t,backButtons:b,foreButtons:g}},90824:function(O,S,e){var v=e(3400),x=e(76308),t=e(31780),b=e(66540);O.exports=function(g,c){var s=g.modebar||{},n=t.newContainer(c,"modebar");function i(r,o){return v.coerce(s,n,b,r,o)}i("orientation"),i("bgcolor",x.addOpacity(c.paper_bgcolor,.5));var a=x.contrast(x.rgb(c.modebar.bgcolor));i("color",x.addOpacity(a,.3)),i("activecolor",x.addOpacity(a,.7)),i("uirevision",c.uirevision),i("add"),i("remove")}},45460:function(O,S,e){O.exports={moduleType:"component",name:"modebar",layoutAttributes:e(66540),supplyLayoutDefaults:e(90824),manage:e(18816)}},18816:function(O,S,e){var v=e(79811),x=e(43028),t=e(24040),b=e(10624).isUnifiedHover,g=e(66400),c=e(44248),s=e(76052).DRAW_MODES,n=e(3400).extendDeep;O.exports=function(i){var a=i._fullLayout,r=i._context,o=a._modeBar;if(r.displayModeBar||r.watermark){if(!Array.isArray(r.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(r.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var l,u=r.modeBarButtons;l=Array.isArray(u)&&u.length?function(h){for(var f=n([],h),T=0;T<f.length;T++)for(var d=f[T],y=0;y<d.length;y++){var m=d[y];if(typeof m=="string"){if(c[m]===void 0)throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));f[T][y]=c[m]}}return f}(u):!r.displayModeBar&&r.watermark?[]:function(h){var f=h._fullLayout,T=h._fullData,d=h._context;function y(pe,me){if(typeof me=="string"){if(me.toLowerCase()===pe.toLowerCase())return!0}else{var be=me.name,we=me._cat||me.name;if(be===pe||we===pe.toLowerCase())return!0}return!1}var m=f.modebar.add;typeof m=="string"&&(m=[m]);var w=f.modebar.remove;typeof w=="string"&&(w=[w]);var _=d.modeBarButtonsToAdd.concat(m.filter(function(pe){for(var me=0;me<d.modeBarButtonsToRemove.length;me++)if(y(pe,d.modeBarButtonsToRemove[me]))return!1;return!0})),A=d.modeBarButtonsToRemove.concat(w.filter(function(pe){for(var me=0;me<d.modeBarButtonsToAdd.length;me++)if(y(pe,d.modeBarButtonsToAdd[me]))return!1;return!0})),p=f._has("cartesian"),L=f._has("gl3d"),M=f._has("geo"),C=f._has("pie"),R=f._has("funnelarea"),I=f._has("gl2d"),D=f._has("ternary"),F=f._has("mapbox"),q=f._has("polar"),z=f._has("smith"),V=f._has("sankey"),X=function(pe){for(var me=v.list({_fullLayout:pe},null,!0),be=0;be<me.length;be++)if(!me[be].fixedrange)return!1;return!0}(f),j=b(f.hovermode),H=[];function G(pe){if(pe.length){for(var me=[],be=0;be<pe.length;be++){for(var we=pe[be],Te=c[we],Le=Te.name.toLowerCase(),Ie=(Te._cat||Te.name).toLowerCase(),_e=!1,fe=0;fe<A.length;fe++){var le=A[fe].toLowerCase();if(le===Le||le===Ie){_e=!0;break}}_e||me.push(c[we])}H.push(me)}}var ie=["toImage"];d.showEditInChartStudio?ie.push("editInChartStudio"):d.showSendToCloud&&ie.push("sendDataToCloud"),G(ie);var re=[],te=[],K=[],J=[];(p||I||C||R||D)+M+L+F+q+z>1?(te=["toggleHover"],K=["resetViews"]):M?(re=["zoomInGeo","zoomOutGeo"],te=["hoverClosestGeo"],K=["resetGeo"]):L?(te=["hoverClosest3d"],K=["resetCameraDefault3d","resetCameraLastSave3d"]):F?(re=["zoomInMapbox","zoomOutMapbox"],te=["toggleHover"],K=["resetViewMapbox"]):I?te=["hoverClosestGl2d"]:C?te=["hoverClosestPie"]:V?(te=["hoverClosestCartesian","hoverCompareCartesian"],K=["resetViewSankey"]):te=["toggleHover"],p&&(te=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(pe){for(var me=0;me<pe.length;me++)if(!t.traceIs(pe[me],"noHover"))return!1;return!0}(T)||j)&&(te=[]),!p&&!I||X||(re=["zoomIn2d","zoomOut2d","autoScale2d"],K[0]!=="resetViews"&&(K=["resetScale2d"])),L?J=["zoom3d","pan3d","orbitRotation","tableRotation"]:(p||I)&&!X||D?J=["zoom2d","pan2d"]:F||M?J=["pan2d"]:q&&(J=["zoom2d"]),function(pe){for(var me=!1,be=0;be<pe.length&&!me;be++){var we=pe[be];we._module&&we._module.selectPoints&&(t.traceIs(we,"scatter-like")?(x.hasMarkers(we)||x.hasText(we))&&(me=!0):t.traceIs(we,"box-violin")&&we.boxpoints!=="all"&&we.points!=="all"||(me=!0))}return me}(T)&&J.push("select2d","lasso2d");var $=[],ae=function(pe){$.indexOf(pe)===-1&&te.indexOf(pe)!==-1&&$.push(pe)};if(Array.isArray(_)){for(var ue=[],ce=0;ce<_.length;ce++){var de=_[ce];typeof de=="string"?(de=de.toLowerCase(),s.indexOf(de)!==-1?(f._has("mapbox")||f._has("cartesian"))&&J.push(de):de==="togglespikelines"?ae("toggleSpikelines"):de==="togglehover"?ae("toggleHover"):de==="hovercompare"?ae("hoverCompareCartesian"):de==="hoverclosest"?(ae("hoverClosestCartesian"),ae("hoverClosestGeo"),ae("hoverClosest3d"),ae("hoverClosestGl2d"),ae("hoverClosestPie")):de==="v1hovermode"&&(ae("toggleHover"),ae("hoverClosestCartesian"),ae("hoverCompareCartesian"),ae("hoverClosestGeo"),ae("hoverClosest3d"),ae("hoverClosestGl2d"),ae("hoverClosestPie"))):ue.push(de)}_=ue}return G(J),G(re.concat(K)),G($),function(pe,me){if(me.length)if(Array.isArray(me[0]))for(var be=0;be<me.length;be++)pe.push(me[be]);else pe.push(me);return pe}(H,_)}(i),o?o.update(i,l):a._modeBar=g(i,l)}else o&&(o.destroy(),delete a._modeBar)}},66400:function(O,S,e){var v=e(33428),x=e(38248),t=e(3400),b=e(9224),g=e(25788).version,c=new DOMParser;function s(i){this.container=i.container,this.element=document.createElement("div"),this.update(i.graphInfo,i.buttons),this.container.appendChild(this.element)}var n=s.prototype;n.update=function(i,a){this.graphInfo=i;var r=this.graphInfo._context,o=this.graphInfo._fullLayout,l="modebar-"+o._uid;this.element.setAttribute("id",l),this._uid=l,this.element.className="modebar",r.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),o.modebar.orientation==="v"&&(this.element.className+=" vertical",a=a.reverse());var u=o.modebar,h=r.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";t.deleteRelatedStyleRule(l),t.addRelatedStyleRule(l,h+"#"+l+" .modebar-group","background-color: "+u.bgcolor),t.addRelatedStyleRule(l,"#"+l+" .modebar-btn .icon path","fill: "+u.color),t.addRelatedStyleRule(l,"#"+l+" .modebar-btn:hover .icon path","fill: "+u.activecolor),t.addRelatedStyleRule(l,"#"+l+" .modebar-btn.active .icon path","fill: "+u.activecolor);var f=!this.hasButtons(a),T=this.hasLogo!==r.displaylogo,d=this.locale!==r.locale;if(this.locale=r.locale,(f||T||d)&&(this.removeAllButtons(),this.updateButtons(a),r.watermark||r.displaylogo)){var y=this.getLogo();r.watermark&&(y.className=y.className+" watermark"),o.modebar.orientation==="v"?this.element.insertBefore(y,this.element.childNodes[0]):this.element.appendChild(y),this.hasLogo=!0}this.updateActiveButton()},n.updateButtons=function(i){var a=this;this.buttons=i,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(r){var o=a.createGroup();r.forEach(function(l){var u=l.name;if(!u)throw new Error("must provide button 'name' in button config");if(a.buttonsNames.indexOf(u)!==-1)throw new Error("button name '"+u+"' is taken");a.buttonsNames.push(u);var h=a.createButton(l);a.buttonElements.push(h),o.appendChild(h)}),a.element.appendChild(o)})},n.createGroup=function(){var i=document.createElement("div");return i.className="modebar-group",i},n.createButton=function(i){var a=this,r=document.createElement("a");r.setAttribute("rel","tooltip"),r.className="modebar-btn";var o=i.title;o===void 0?o=i.name:typeof o=="function"&&(o=o(this.graphInfo)),(o||o===0)&&r.setAttribute("data-title",o),i.attr!==void 0&&r.setAttribute("data-attr",i.attr);var l=i.val;if(l!==void 0&&(typeof l=="function"&&(l=l(this.graphInfo)),r.setAttribute("data-val",l)),typeof i.click!="function")throw new Error("must provide button 'click' function in button config");r.addEventListener("click",function(h){i.click(a.graphInfo,h),a.updateActiveButton(h.currentTarget)}),r.setAttribute("data-toggle",i.toggle||!1),i.toggle&&v.select(r).classed("active",!0);var u=i.icon;return typeof u=="function"?r.appendChild(u()):r.appendChild(this.createIcon(u||b.question)),r.setAttribute("data-gravity",i.gravity||"n"),r},n.createIcon=function(i){var a,r=x(i.height)?Number(i.height):i.ascent-i.descent,o="http://www.w3.org/2000/svg";if(i.path){(a=document.createElementNS(o,"svg")).setAttribute("viewBox",[0,0,i.width,r].join(" ")),a.setAttribute("class","icon");var l=document.createElementNS(o,"path");l.setAttribute("d",i.path),i.transform?l.setAttribute("transform",i.transform):i.ascent!==void 0&&l.setAttribute("transform","matrix(1 0 0 -1 0 "+i.ascent+")"),a.appendChild(l)}return i.svg&&(a=c.parseFromString(i.svg,"application/xml").childNodes[0]),a.setAttribute("height","1em"),a.setAttribute("width","1em"),a},n.updateActiveButton=function(i){var a=this.graphInfo._fullLayout,r=i!==void 0?i.getAttribute("data-attr"):null;this.buttonElements.forEach(function(o){var l=o.getAttribute("data-val")||!0,u=o.getAttribute("data-attr"),h=o.getAttribute("data-toggle")==="true",f=v.select(o);if(h)u===r&&f.classed("active",!f.classed("active"));else{var T=u===null?u:t.nestedProperty(a,u).get();f.classed("active",T===l)}})},n.hasButtons=function(i){var a=this.buttons;if(!a||i.length!==a.length)return!1;for(var r=0;r<i.length;++r){if(i[r].length!==a[r].length)return!1;for(var o=0;o<i[r].length;o++)if(i[r][o].name!==a[r][o].name)return!1}return!0},n.getLogo=function(){var i=this.createGroup(),a=document.createElement("a");return a.href="https://plotly.com/",a.target="_blank",a.setAttribute("data-title",t._(this.graphInfo,"Produced with Plotly.js")+" (v"+g+")"),a.className="modebar-btn plotlyjsicon modebar-btn--logo",a.appendChild(this.createIcon(b.newplotlylogo)),i.appendChild(a),i},n.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},n.destroy=function(){t.removeElement(this.container.querySelector(".modebar")),t.deleteRelatedStyleRule(this._uid)},O.exports=function(i,a){var r=i._fullLayout,o=new s({graphInfo:i,container:r._modebardiv.node(),buttons:a});return r._privateplot&&v.select(o.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),o}},26680:function(O,S,e){var v=e(25376),x=e(22548),t=(0,e(31780).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});O.exports={visible:{valType:"boolean",editType:"plot"},buttons:t,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:v({editType:"plot"}),bgcolor:{valType:"color",dflt:x.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:x.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},85984:function(O){O.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},22148:function(O,S,e){var v=e(3400),x=e(76308),t=e(31780),b=e(51272),g=e(26680),c=e(85984);function s(n,i,a,r){var o=r.calendar;function l(h,f){return v.coerce(n,i,g.buttons,h,f)}if(l("visible")){var u=l("step");u!=="all"&&(!o||o==="gregorian"||u!=="month"&&u!=="year"?l("stepmode"):i.stepmode="backward",l("count")),l("label")}}O.exports=function(n,i,a,r,o){var l=n.rangeselector||{},u=t.newContainer(i,"rangeselector");function h(d,y){return v.coerce(l,u,g,d,y)}if(h("visible",b(l,u,{name:"buttons",handleItemDefaults:s,calendar:o}).length>0)){var f=function(d,y,m){for(var w=m.filter(function(L){return y[L].anchor===d._id}),_=0,A=0;A<w.length;A++){var p=y[w[A]].domain;p&&(_=Math.max(p[1],_))}return[d.domain[0],_+c.yPad]}(i,a,r);h("x",f[0]),h("y",f[1]),v.noneOrAll(n,i,["x","y"]),h("xanchor"),h("yanchor"),v.coerceFont(h,"font",a.font);var T=h("bgcolor");h("activecolor",x.contrast(T,c.lightAmount,c.darkAmount)),h("bordercolor"),h("borderwidth")}}},50216:function(O,S,e){var v=e(33428),x=e(24040),t=e(7316),b=e(76308),g=e(43616),c=e(3400),s=c.strTranslate,n=e(72736),i=e(79811),a=e(84284),r=a.LINE_SPACING,o=a.FROM_TL,l=a.FROM_BR,u=e(85984),h=e(48040);function f(y){return y._id}function T(y,m,w){var _=c.ensureSingle(y,"rect","selector-rect",function(A){A.attr("shape-rendering","crispEdges")});_.attr({rx:u.rx,ry:u.ry}),_.call(b.stroke,m.bordercolor).call(b.fill,function(A,p){return p._isActive||p._isHovered?A.activecolor:A.bgcolor}(m,w)).style("stroke-width",m.borderwidth+"px")}function d(y,m,w,_){var A,p;c.ensureSingle(y,"text","selector-text",function(L){L.attr("text-anchor","middle")}).call(g.font,m.font).text((A=w,p=_._fullLayout._meta,A.label?p?c.templateString(A.label,p):A.label:A.step==="all"?"all":A.count+A.step.charAt(0))).call(function(L){n.convertToTspans(L,_)})}O.exports=function(y){var m=y._fullLayout._infolayer.selectAll(".rangeselector").data(function(w){for(var _=i.list(w,"x",!0),A=[],p=0;p<_.length;p++){var L=_[p];L.rangeselector&&L.rangeselector.visible&&A.push(L)}return A}(y),f);m.enter().append("g").classed("rangeselector",!0),m.exit().remove(),m.style({cursor:"pointer","pointer-events":"all"}),m.each(function(w){var _=v.select(this),A=w,p=A.rangeselector,L=_.selectAll("g.button").data(c.filterVisible(p.buttons));L.enter().append("g").classed("button",!0),L.exit().remove(),L.each(function(M){var C=v.select(this),R=h(A,M);M._isActive=function(I,D,F){if(D.step==="all")return I.autorange===!0;var q=Object.keys(F);return I.range[0]===F[q[0]]&&I.range[1]===F[q[1]]}(A,M,R),C.call(T,p,M),C.call(d,p,M,y),C.on("click",function(){y._dragged||x.call("_guiRelayout",y,R)}),C.on("mouseover",function(){M._isHovered=!0,C.call(T,p,M)}),C.on("mouseout",function(){M._isHovered=!1,C.call(T,p,M)})}),function(M,C,R,I,D){var F=0,q=0,z=R.borderwidth;C.each(function(){var ie=v.select(this).select(".selector-text"),re=R.font.size*r,te=Math.max(re*n.lineCount(ie),16)+3;q=Math.max(q,te)}),C.each(function(){var ie=v.select(this),re=ie.select(".selector-rect"),te=ie.select(".selector-text"),K=te.node()&&g.bBox(te.node()).width,J=R.font.size*r,$=n.lineCount(te),ae=Math.max(K+10,u.minButtonWidth);ie.attr("transform",s(z+F,z)),re.attr({x:0,y:0,width:ae,height:q}),n.positionText(te,ae/2,q/2-($-1)*J/2+3),F+=ae+5});var V=M._fullLayout._size,X=V.l+V.w*R.x,j=V.t+V.h*(1-R.y),H="left";c.isRightAnchor(R)&&(X-=F,H="right"),c.isCenterAnchor(R)&&(X-=F/2,H="center");var G="top";c.isBottomAnchor(R)&&(j-=q,G="bottom"),c.isMiddleAnchor(R)&&(j-=q/2,G="middle"),F=Math.ceil(F),q=Math.ceil(q),X=Math.round(X),j=Math.round(j),t.autoMargin(M,I+"-range-selector",{x:R.x,y:R.y,l:F*o[H],r:F*l[H],b:q*l[G],t:q*o[G]}),D.attr("transform",s(X,j))}(y,L,p,A._name,_)})}},48040:function(O,S,e){var v=e(73220),x=e(3400).titleCase;O.exports=function(t,b){var g=t._name,c={};if(b.step==="all")c[g+".autorange"]=!0;else{var s=function(n,i){var a,r=n.range,o=new Date(n.r2l(r[1])),l=i.step,u=v["utc"+x(l)],h=i.count;switch(i.stepmode){case"backward":a=n.l2r(+u.offset(o,-h));break;case"todate":var f=u.offset(o,-h);a=n.l2r(+u.ceil(f))}return[a,r[1]]}(t,b);c[g+".range[0]"]=s[0],c[g+".range[1]"]=s[1]}return c}},41152:function(O,S,e){O.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(26680)}}},layoutAttributes:e(26680),handleDefaults:e(22148),draw:e(50216)}},11200:function(O,S,e){var v=e(22548);O.exports={bgcolor:{valType:"color",dflt:v.background,editType:"plot"},bordercolor:{valType:"color",dflt:v.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},26652:function(O,S,e){var v=e(79811).list,x=e(19280).getAutoRange,t=e(74636);O.exports=function(b){for(var g=v(b,"x",!0),c=0;c<g.length;c++){var s=g[c],n=s[t.name];n&&n.visible&&n.autorange&&(n._input.autorange=!0,n._input.range=n.range=x(b,s))}}},74636:function(O){O.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},94040:function(O,S,e){var v=e(3400),x=e(31780),t=e(79811),b=e(11200),g=e(10936);O.exports=function(c,s,n){var i=c[n],a=s[n];if(i.rangeslider||s._requestRangeslider[a._id]){v.isPlainObject(i.rangeslider)||(i.rangeslider={});var r,o,l=i.rangeslider,u=x.newContainer(a,"rangeslider");if(_("visible")){_("bgcolor",s.plot_bgcolor),_("bordercolor"),_("borderwidth"),_("thickness"),_("autorange",!a.isValidRange(l.range)),_("range");var h=s._subplots;if(h)for(var f=h.cartesian.filter(function(p){return p.substr(0,p.indexOf("y"))===t.name2id(n)}).map(function(p){return p.substr(p.indexOf("y"),p.length)}),T=v.simpleMap(f,t.id2name),d=0;d<T.length;d++){var y=T[d];r=l[y]||{},o=x.newContainer(u,y,"yaxis");var m,w=s[y];r.range&&w.isValidRange(r.range)&&(m="fixed"),A("rangemode",m)!=="match"&&A("range",w.range.slice())}u._input=l}}function _(p,L){return v.coerce(l,u,b,p,L)}function A(p,L){return v.coerce(r,o,g,p,L)}}},20060:function(O,S,e){var v=e(33428),x=e(24040),t=e(7316),b=e(3400),g=b.strTranslate,c=e(43616),s=e(76308),n=e(81668),i=e(57952),a=e(79811),r=e(86476),o=e(93972),l=e(74636);function u(w){return typeof w.clientX=="number"?w.clientX:w.touches&&w.touches.length>0?w.touches[0].clientX:0}function h(w,_,A,p){var L=b.ensureSingle(w,"rect",l.bgClassName,function(I){I.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),M=p.borderwidth%2==0?p.borderwidth:p.borderwidth-1,C=-p._offsetShift,R=c.crispRound(_,p.borderwidth);L.attr({width:p._width+M,height:p._height+M,transform:g(C,C),"stroke-width":R}).call(s.stroke,p.bordercolor).call(s.fill,p.bgcolor)}function f(w,_,A,p){var L=_._fullLayout;b.ensureSingleById(L._topdefs,"clipPath",p._clipId,function(M){M.append("rect").attr({x:0,y:0})}).select("rect").attr({width:p._width,height:p._height})}function T(w,_,A,p){var L,M=_.calcdata,C=w.selectAll("g."+l.rangePlotClassName).data(A._subplotsWith,b.identity);C.enter().append("g").attr("class",function(R){return l.rangePlotClassName+" "+R}).call(c.setClipUrl,p._clipId,_),C.order(),C.exit().remove(),C.each(function(R,I){var D=v.select(this),F=I===0,q=a.getFromId(_,R,"y"),z=q._name,V=p[z],X={data:[],layout:{xaxis:{type:A.type,domain:[0,1],range:p.range.slice(),calendar:A.calendar},width:p._width,height:p._height,margin:{t:0,b:0,l:0,r:0}},_context:_._context};A.rangebreaks&&(X.layout.xaxis.rangebreaks=A.rangebreaks),X.layout[z]={type:q.type,domain:[0,1],range:V.rangemode!=="match"?V.range.slice():q.range.slice(),calendar:q.calendar},q.rangebreaks&&(X.layout[z].rangebreaks=q.rangebreaks),t.supplyDefaults(X);var j=X._fullLayout.xaxis,H=X._fullLayout[z];j.clearCalc(),j.setScale(),H.clearCalc(),H.setScale();var G={id:R,plotgroup:D,xaxis:j,yaxis:H,isRangePlot:!0};F?L=G:(G.mainplot="xy",G.mainplotinfo=L),i.rangePlot(_,G,function(ie,re){for(var te=[],K=0;K<ie.length;K++){var J=ie[K],$=J[0].trace;$.xaxis+$.yaxis===re&&te.push(J)}return te}(M,R))})}function d(w,_,A,p,L){b.ensureSingle(w,"rect",l.maskMinClassName,function(M){M.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",p._height).call(s.fill,l.maskColor),b.ensureSingle(w,"rect",l.maskMaxClassName,function(M){M.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",p._height).call(s.fill,l.maskColor),L.rangemode!=="match"&&(b.ensureSingle(w,"rect",l.maskMinOppAxisClassName,function(M){M.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",p._width).call(s.fill,l.maskOppAxisColor),b.ensureSingle(w,"rect",l.maskMaxOppAxisClassName,function(M){M.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",p._width).style("border-top",l.maskOppBorder).call(s.fill,l.maskOppAxisColor))}function y(w,_,A,p){_._context.staticPlot||b.ensureSingle(w,"rect",l.slideBoxClassName,function(L){L.attr({y:0,cursor:l.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:p._height,fill:l.slideBoxFill})}function m(w,_,A,p){var L=b.ensureSingle(w,"g",l.grabberMinClassName),M=b.ensureSingle(w,"g",l.grabberMaxClassName),C={x:0,width:l.handleWidth,rx:l.handleRadius,fill:s.background,stroke:s.defaultLine,"stroke-width":l.handleStrokeWidth,"shape-rendering":"crispEdges"},R={y:Math.round(p._height/4),height:Math.round(p._height/2)};b.ensureSingle(L,"rect",l.handleMinClassName,function(D){D.attr(C)}).attr(R),b.ensureSingle(M,"rect",l.handleMaxClassName,function(D){D.attr(C)}).attr(R);var I={width:l.grabAreaWidth,x:0,y:0,fill:l.grabAreaFill,cursor:_._context.staticPlot?void 0:l.grabAreaCursor};b.ensureSingle(L,"rect",l.grabAreaMinClassName,function(D){D.attr(I)}).attr("height",p._height),b.ensureSingle(M,"rect",l.grabAreaMaxClassName,function(D){D.attr(I)}).attr("height",p._height)}O.exports=function(w){for(var _=w._fullLayout,A=_._rangeSliderData,p=0;p<A.length;p++){var L=A[p][l.name];L._clipId=L._id+"-"+_._uid}var M=_._infolayer.selectAll("g."+l.containerClassName).data(A,function(C){return C._name});M.exit().each(function(C){var R=C[l.name];_._topdefs.select("#"+R._clipId).remove()}).remove(),A.length!==0&&(M.enter().append("g").classed(l.containerClassName,!0).attr("pointer-events","all"),M.each(function(C){var R=v.select(this),I=C[l.name],D=_[a.id2name(C.anchor)],F=I[a.id2name(C.anchor)];if(I.range){var q,z=b.simpleMap(I.range,C.r2l),V=b.simpleMap(C.range,C.r2l);q=V[0]<V[1]?[Math.min(z[0],V[0]),Math.max(z[1],V[1])]:[Math.max(z[0],V[0]),Math.min(z[1],V[1])],I.range=I._input.range=b.simpleMap(q,C.l2r)}C.cleanRange("rangeslider.range");var X=_._size,j=C.domain;I._width=X.w*(j[1]-j[0]);var H=Math.round(X.l+X.w*j[0]),G=Math.round(X.t+X.h*(1-C._counterDomainMin)+(C.side==="bottom"?C._depth:0)+I._offsetShift+l.extraPad);R.attr("transform",g(H,G)),I._rl=b.simpleMap(I.range,C.r2l);var ie=I._rl[0],re=I._rl[1],te=re-ie;if(I.p2d=function(me){return me/I._width*te+ie},I.d2p=function(me){return(me-ie)/te*I._width},C.rangebreaks){var K=C.locateBreaks(ie,re);if(K.length){var J,$,ae=0;for(J=0;J<K.length;J++)ae+=($=K[J]).max-$.min;var ue=I._width/(re-ie-ae),ce=[-ue*ie];for(J=0;J<K.length;J++)$=K[J],ce.push(ce[ce.length-1]-ue*($.max-$.min));for(I.d2p=function(me){for(var be=ce[0],we=0;we<K.length;we++){var Te=K[we];if(me>=Te.max)be=ce[we+1];else if(me<Te.min)break}return be+ue*me},J=0;J<K.length;J++)($=K[J]).pmin=I.d2p($.min),$.pmax=I.d2p($.max);I.p2d=function(me){for(var be=ce[0],we=0;we<K.length;we++){var Te=K[we];if(me>=Te.pmax)be=ce[we+1];else if(me<Te.pmin)break}return(me-be)/ue}}}if(F.rangemode!=="match"){var de=D.r2l(F.range[0]),pe=D.r2l(F.range[1])-de;I.d2pOppAxis=function(me){return(me-de)/pe*I._height}}R.call(h,w,C,I).call(f,w,C,I).call(T,w,C,I).call(d,w,C,I,F).call(y,w,C,I).call(m,w,C,I),function(me,be,we,Te){if(!be._context.staticPlot){var Le=me.select("rect."+l.slideBoxClassName).node(),Ie=me.select("rect."+l.grabAreaMinClassName).node(),_e=me.select("rect."+l.grabAreaMaxClassName).node();me.on("mousedown",fe),me.on("touchstart",fe)}function fe(){var le=v.event,ye=le.target,Oe=u(le),Ae=Oe-me.node().getBoundingClientRect().left,Se=Te.d2p(we._rl[0]),Pe=Te.d2p(we._rl[1]),Fe=r.coverSlip();function Be(Me){var Ce,Ne,Re,He=+u(Me)-Oe;switch(ye){case Le:if(Re="ew-resize",Se+He>we._length||Pe+He<0)return;Ce=Se+He,Ne=Pe+He;break;case Ie:if(Re="col-resize",Se+He>we._length)return;Ce=Se+He,Ne=Pe;break;case _e:if(Re="col-resize",Pe+He<0)return;Ce=Se,Ne=Pe+He;break;default:Re="ew-resize",Ce=Ae,Ne=Ae+He}if(Ne<Ce){var Ye=Ne;Ne=Ce,Ce=Ye}Te._pixelMin=Ce,Te._pixelMax=Ne,o(v.select(Fe),Re),function(Qe,lt,ut,xt){function _t(nt){return ut.l2r(b.constrain(nt,xt._rl[0],xt._rl[1]))}var mt=_t(xt.p2d(xt._pixelMin)),it=_t(xt.p2d(xt._pixelMax));window.requestAnimationFrame(function(){x.call("_guiRelayout",lt,ut._name+".range",[mt,it])})}(0,be,we,Te)}function xe(){Fe.removeEventListener("mousemove",Be),Fe.removeEventListener("mouseup",xe),this.removeEventListener("touchmove",Be),this.removeEventListener("touchend",xe),b.removeElement(Fe)}this.addEventListener("touchmove",Be),this.addEventListener("touchend",xe),Fe.addEventListener("mousemove",Be),Fe.addEventListener("mouseup",xe)}}(R,w,C,I),function(me,be,we,Te,Le,Ie){var _e=l.handleWidth/2;function fe(Me){return b.constrain(Me,0,Te._width)}function le(Me){return b.constrain(Me,0,Te._height)}function ye(Me){return b.constrain(Me,-_e,Te._width+_e)}var Oe=fe(Te.d2p(we._rl[0])),Ae=fe(Te.d2p(we._rl[1]));if(me.select("rect."+l.slideBoxClassName).attr("x",Oe).attr("width",Ae-Oe),me.select("rect."+l.maskMinClassName).attr("width",Oe),me.select("rect."+l.maskMaxClassName).attr("x",Ae).attr("width",Te._width-Ae),Ie.rangemode!=="match"){var Se=Te._height-le(Te.d2pOppAxis(Le._rl[1])),Pe=Te._height-le(Te.d2pOppAxis(Le._rl[0]));me.select("rect."+l.maskMinOppAxisClassName).attr("x",Oe).attr("height",Se).attr("width",Ae-Oe),me.select("rect."+l.maskMaxOppAxisClassName).attr("x",Oe).attr("y",Pe).attr("height",Te._height-Pe).attr("width",Ae-Oe),me.select("rect."+l.slideBoxClassName).attr("y",Se).attr("height",Pe-Se)}var Fe=.5,Be=Math.round(ye(Oe-_e))-Fe,xe=Math.round(ye(Ae-_e))+Fe;me.select("g."+l.grabberMinClassName).attr("transform",g(Be,Fe)),me.select("g."+l.grabberMaxClassName).attr("transform",g(xe,Fe))}(R,0,C,I,D,F),C.side==="bottom"&&n.draw(w,C._id+"title",{propContainer:C,propName:C._name+".title",placeholder:_._dfltTitle.x,attributes:{x:C._offset+C._length/2,y:G+I._height+I._offsetShift+10+1.5*C.title.font.size,"text-anchor":"middle"}})}))}},97944:function(O,S,e){var v=e(79811),x=e(72736),t=e(74636),b=e(84284).LINE_SPACING,g=t.name;function c(s){var n=s&&s[g];return n&&n.visible}S.isVisible=c,S.makeData=function(s){var n=v.list({_fullLayout:s},"x",!0),i=s.margin,a=[];if(!s._has("gl2d"))for(var r=0;r<n.length;r++){var o=n[r];if(c(o)){a.push(o);var l=o[g];l._id=g+o._id,l._height=(s.height-i.b-i.t)*l.thickness,l._offsetShift=Math.floor(l.borderwidth/2)}}s._rangeSliderData=a},S.autoMarginOpts=function(s,n){var i=s._fullLayout,a=n[g],r=n._id.charAt(0),o=0,l=0;return n.side==="bottom"&&(o=n._depth,n.title.text!==i._dfltTitle[r]&&(l=1.5*n.title.font.size+10+a._offsetShift,l+=(n.title.text.match(x.BR_TAG_ALL)||[]).length*n.title.font.size*b)),{x:0,y:n._counterDomainMin,l:0,r:0,t:0,b:a._height+o+Math.max(i.margin.b,l),pad:t.extraPad+2*a._offsetShift}}},49692:function(O,S,e){var v=e(3400),x=e(11200),t=e(10936),b=e(97944);O.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:v.extendFlat({},x,{yaxis:t})}}},layoutAttributes:e(11200),handleDefaults:e(94040),calcAutorange:e(26652),draw:e(20060),isVisible:b.isVisible,makeData:b.makeData,autoMarginOpts:b.autoMarginOpts}},10936:function(O){O.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},93956:function(O,S,e){var v=e(13916),x=e(52904).line,t=e(98192).u,b=e(92880).extendFlat,g=e(67824).overrideAll,c=e(31780).templatedArray;e(36208),O.exports=g(c("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:b({},v.xref,{}),yref:b({},v.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:x.color,width:b({},x.width,{min:1,dflt:1}),dash:b({},t,{dflt:"dot"})}}),"arraydraw","from-root")},83280:function(O){O.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},74224:function(O,S,e){var v=e(3400),x=e(54460),t=e(51272),b=e(93956),g=e(65152);function c(s,n,i){function a(C,R){return v.coerce(s,n,b,C,R)}var r=a("path"),o=a("type",r?"path":"rect")!=="path";o&&delete n.path,a("opacity"),a("line.color"),a("line.width"),a("line.dash");for(var l=["x","y"],u=0;u<2;u++){var h,f,T,d=l[u],y={_fullLayout:i},m=x.coerceRef(s,n,y,d);if((h=x.getFromId(y,m))._selectionIndices.push(n._index),T=g.rangeToShapePosition(h),f=g.shapePositionToRange(h),o){var w=d+"0",_=d+"1",A=s[w],p=s[_];s[w]=f(s[w],!0),s[_]=f(s[_],!0),x.coercePosition(n,y,a,m,w),x.coercePosition(n,y,a,m,_);var L=n[w],M=n[_];L!==void 0&&M!==void 0&&(n[w]=T(L),n[_]=T(M),s[w]=A,s[_]=p)}}o&&v.noneOrAll(s,n,["x0","x1","y0","y1"])}O.exports=function(s,n){t(s,n,{name:"selections",handleItemDefaults:c});for(var i=n.selections,a=0;a<i.length;a++){var r=i[a];r&&r.path===void 0&&(r.x0!==void 0&&r.x1!==void 0&&r.y0!==void 0&&r.y1!==void 0||(n.selections[a]=null))}}},23640:function(O,S,e){var v=e(9856).readPaths,x=e(55496),t=e(1936).clearOutlineControllers,b=e(76308),g=e(43616),c=e(31780).arrayEditor,s=e(65152),n=s.getPathString;function i(u){var h=u._fullLayout;for(var f in t(u),h._selectionLayer.selectAll("path").remove(),h._plots){var T=h._plots[f].selectionLayer;T&&T.selectAll("path").remove()}for(var d=0;d<h.selections.length;d++)r(u,d)}function a(u){return u._context.editSelection}function r(u,h){u._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+h+'"]').remove();var f=s.makeSelectionsOptionsAndPlotinfo(u,h),T=f.options,d=f.plotinfo;T._input&&function(y){var m=n(u,T),w={"data-index":h,"fill-rule":"evenodd",d:m},_=T.opacity,A="rgba(0,0,0,0)",p=T.line.color||b.contrast(u._fullLayout.plot_bgcolor),L=T.line.width,M=T.line.dash;L||(L=5,M="solid");var C=a(u)&&u._fullLayout._activeSelectionIndex===h;C&&(A=u._fullLayout.activeselection.fillcolor,_=u._fullLayout.activeselection.opacity);for(var R=[],I=1;I>=0;I--){var D=y.append("path").attr(w).style("opacity",I?.1:_).call(b.stroke,p).call(b.fill,A).call(g.dashLine,I?"solid":M,I?4+L:L);if(o(D,u,T),C){var F=c(u.layout,"selections",T);D.style({cursor:"move"});var q={element:D.node(),plotinfo:d,gd:u,editHelpers:F,isActiveSelection:!0},z=v(m,u);x(z,D,q)}else D.style("pointer-events",I?"all":"none");R[I]=D}var V=R[0];R[1].node().addEventListener("click",function(){return function(X,j){if(a(X)){var H=+j.node().getAttribute("data-index");if(H>=0){if(H===X._fullLayout._activeSelectionIndex)return void l(X);X._fullLayout._activeSelectionIndex=H,X._fullLayout._deactivateSelection=l,i(X)}}}(u,V)})}(u._fullLayout._selectionLayer)}function o(u,h,f){var T=f.xref+f.yref;g.setClipUrl(u,"clip"+h._fullLayout._uid+T,h)}function l(u){a(u)&&u._fullLayout._activeSelectionIndex>=0&&(t(u),delete u._fullLayout._activeSelectionIndex,i(u))}O.exports={draw:i,drawOne:r,activateLastSelection:function(u){if(a(u)){var h=u._fullLayout.selections.length-1;u._fullLayout._activeSelectionIndex=h,u._fullLayout._deactivateSelection=l,i(u)}}}},34200:function(O,S,e){var v=e(98192).u,x=e(92880).extendFlat;O.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:x({},v,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},81004:function(O){O.exports=function(S,e,v){v("newselection.mode"),v("newselection.line.width")&&(v("newselection.line.color"),v("newselection.line.dash")),v("activeselection.fillcolor"),v("activeselection.opacity")}},5968:function(O,S,e){var v=e(72760).selectMode,x=e(1936).clearOutline,t=e(9856),b=t.readPaths,g=t.writePaths,c=t.fixDatesForPaths;O.exports=function(s,n){if(s.length){var i=s[0][0];if(i){var a=i.getAttribute("d"),r=n.gd,o=r._fullLayout.newselection,l=n.plotinfo,u=l.xaxis,h=l.yaxis,f=n.isActiveSelection,T=n.dragmode,d=(r.layout||{}).selections||[];if(!v(T)&&f!==void 0){var y=r._fullLayout._activeSelectionIndex;if(y<d.length)switch(r._fullLayout.selections[y].type){case"rect":T="select";break;case"path":T="lasso"}}var m,w=b(a,r,l,f),_={xref:u._id,yref:h._id,opacity:o.opacity,line:{color:o.line.color,width:o.line.width,dash:o.line.dash}};w.length===1&&(m=w[0]),m&&m.length===5&&T==="select"?(_.type="rect",_.x0=m[0][1],_.y0=m[0][2],_.x1=m[2][1],_.y1=m[2][2]):(_.type="path",u&&h&&c(w,u,h),_.path=g(w),m=null),x(r);for(var A=n.editHelpers,p=(A||{}).modifyItem,L=[],M=0;M<d.length;M++){var C=r._fullLayout.selections[M];if(C){if(L[M]=C._input,f!==void 0&&M===r._fullLayout._activeSelectionIndex){var R=_;switch(C.type){case"rect":p("x0",R.x0),p("x1",R.x1),p("y0",R.y0),p("y1",R.y1);break;case"path":p("path",R.path)}}}else L[M]=C}return f===void 0?(L.push(_),L):A?A.getUpdateObj():{}}}}},5840:function(O,S,e){var v=e(3400).strTranslate;function x(t,b){switch(t.type){case"log":return t.p2d(b);case"date":return t.p2r(b,0,t.calendar);default:return t.p2r(b)}}O.exports={p2r:x,r2p:function(t,b){switch(t.type){case"log":return t.d2p(b);case"date":return t.r2p(b,0,t.calendar);default:return t.r2p(b)}},axValue:function(t){var b=t._id.charAt(0)==="y"?1:0;return function(g){return x(t,g[b])}},getTransform:function(t){return v(t.xaxis._offset,t.yaxis._offset)}}},22676:function(O,S,e){var v=e(23640),x=e(43156);O.exports={moduleType:"component",name:"selections",layoutAttributes:e(93956),supplyLayoutDefaults:e(74224),supplyDrawNewSelectionDefaults:e(81004),includeBasePlot:e(36632)("selections"),draw:v.draw,drawOne:v.drawOne,reselect:x.reselect,prepSelect:x.prepSelect,clearOutline:x.clearOutline,clearSelectionsCache:x.clearSelectionsCache,selectOnClick:x.selectOnClick}},43156:function(O,S,e){var v=e(14756),x=e(61456),t=e(24040),b=e(43616).dashStyle,g=e(76308),c=e(93024),s=e(10624).makeEventData,n=e(72760),i=n.freeMode,a=n.rectMode,r=n.drawMode,o=n.openMode,l=n.selectMode,u=e(65152),h=e(85448),f=e(55496),T=e(1936).clearOutline,d=e(9856),y=d.handleEllipse,m=d.readPaths,w=e(93940).newShapes,_=e(5968),A=e(23640).activateLastSelection,p=e(3400),L=p.sorterAsc,M=e(92065),C=e(91200),R=e(79811).getFromId,I=e(73696),D=e(39172).redrawReglTraces,F=e(83280),q=F.MINSELECT,z=M.filter,V=M.tester,X=e(5840),j=X.p2r,H=X.axValue,G=X.getTransform;function ie(Be){return Be.subplot!==void 0}function re(Be,xe,Me,Ce,Ne,Re,He){var Ye,Qe,lt,ut,xt,_t,mt,it,nt,Et=xe._hoverdata,zt=xe._fullLayout.clickmode.indexOf("event")>-1,Ft=[];if(function(Ke){return Ke&&Array.isArray(Ke)&&Ke[0].hoverOnBox!==!0}(Et)){$(Be,xe,Re);var Pt=function(Ke,ft){var ot,Ue,Ve=Ke[0],st=-1,Xe=[];for(Ue=0;Ue<ft.length;Ue++)if(ot=ft[Ue],Ve.fullData._expandedIndex===ot.cd[0].trace._expandedIndex){if(Ve.hoverOnBox===!0)break;Ve.pointNumber!==void 0?st=Ve.pointNumber:Ve.binNumber!==void 0&&(st=Ve.binNumber,Xe=Ve.pointNumbers);break}return{pointNumber:st,pointNumbers:Xe,searchInfo:ot}}(Et,Ye=ce(xe,Me,Ce,Ne));if(Pt.pointNumbers.length>0?function(Ke,ft){var ot,Ue,Ve,st=[];for(Ve=0;Ve<Ke.length;Ve++)(ot=Ke[Ve]).cd[0].trace.selectedpoints&&ot.cd[0].trace.selectedpoints.length>0&&st.push(ot);if(st.length===1&&st[0]===ft.searchInfo&&(Ue=ft.searchInfo.cd[0].trace).selectedpoints.length===ft.pointNumbers.length){for(Ve=0;Ve<ft.pointNumbers.length;Ve++)if(Ue.selectedpoints.indexOf(ft.pointNumbers[Ve])<0)return!1;return!0}return!1}(Ye,Pt):function(Ke){var ft,ot,Ue=0;for(ot=0;ot<Ke.length;ot++)if((ft=Ke[ot].cd[0].trace).selectedpoints&&(ft.selectedpoints.length>1||(Ue+=ft.selectedpoints.length)>1))return!1;return Ue===1}(Ye)&&(_t=pe(Pt))){for(He&&He.remove(),nt=0;nt<Ye.length;nt++)(Qe=Ye[nt])._module.selectPoints(Qe,!1);me(xe,Ye),ae(Re),zt&&Fe(xe)}else{for(mt=Be.shiftKey&&(_t!==void 0?_t:pe(Pt)),lt=function(Ke,ft,ot){return{pointNumber:Ke,searchInfo:ft,subtract:!!ot}}(Pt.pointNumber,Pt.searchInfo,mt),ut=J(Re.selectionDefs.concat([lt])),nt=0;nt<Ye.length;nt++)if(xt=we(Ye[nt]._module.selectPoints(Ye[nt],ut),Ye[nt]),Ft.length)for(var Ze=0;Ze<xt.length;Ze++)Ft.push(xt[Ze]);else Ft=xt;if(me(xe,Ye,it={points:Ft}),lt&&Re&&Re.selectionDefs.push(lt),He){var Je=Re.mergedPolygons,qe=o(Re.dragmode);f(Te(Je,qe),He,Re)}zt&&Pe(xe,it)}}}function te(Be){return"pointNumber"in Be&&"searchInfo"in Be}function K(Be){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(xe,Me,Ce,Ne){var Re=Be.searchInfo.cd[0].trace._expandedIndex;return Ne.cd[0].trace._expandedIndex===Re&&Ce===Be.pointNumber},isRect:!1,degenerate:!1,subtract:!!Be.subtract}}function J(Be){if(Be.length){for(var xe=[],Me=te(Be[0])?0:Be[0][0][0],Ce=Me,Ne=te(Be[0])?0:Be[0][0][1],Re=Ne,He=0;He<Be.length;He++)if(te(Be[He]))xe.push(K(Be[He]));else{var Ye=V(Be[He]);Ye.subtract=!!Be[He].subtract,xe.push(Ye),Me=Math.min(Me,Ye.xmin),Ce=Math.max(Ce,Ye.xmax),Ne=Math.min(Ne,Ye.ymin),Re=Math.max(Re,Ye.ymax)}return{xmin:Me,xmax:Ce,ymin:Ne,ymax:Re,pts:[],contains:function(Qe,lt,ut,xt){for(var _t=!1,mt=0;mt<xe.length;mt++)xe[mt].contains(Qe,lt,ut,xt)&&(_t=!xe[mt].subtract);return _t},isRect:!1,degenerate:!1}}}function $(Be,xe,Me){var Ce=xe._fullLayout,Ne=Me.plotinfo,Re=Me.dragmode,He=Ce._lastSelectedSubplot&&Ce._lastSelectedSubplot===Ne.id,Ye=(Be.shiftKey||Be.altKey)&&!(r(Re)&&o(Re));He&&Ye&&Ne.selection&&Ne.selection.selectionDefs&&!Me.selectionDefs?(Me.selectionDefs=Ne.selection.selectionDefs,Me.mergedPolygons=Ne.selection.mergedPolygons):Ye&&Ne.selection||ae(Me),He||(T(xe),Ce._lastSelectedSubplot=Ne.id)}function ae(Be,xe){var Me=Be.dragmode,Ce=Be.plotinfo,Ne=Be.gd;(function(xt){return xt._fullLayout._activeShapeIndex>=0})(Ne)&&Ne._fullLayout._deactivateShape(Ne),function(xt){return xt._fullLayout._activeSelectionIndex>=0}(Ne)&&Ne._fullLayout._deactivateSelection(Ne);var Re=Ne._fullLayout._zoomlayer,He=r(Me),Ye=l(Me);if(He||Ye){var Qe,lt,ut=Re.selectAll(".select-outline-"+Ce.id);ut&&Ne._fullLayout._outlining&&(He&&(Qe=w(ut,Be)),Qe&&t.call("_guiRelayout",Ne,{shapes:Qe}),Ye&&!ie(Be)&&(lt=_(ut,Be)),lt&&(Ne._fullLayout._noEmitSelectedAtStart=!0,t.call("_guiRelayout",Ne,{selections:lt}).then(function(){xe&&A(Ne)})),Ne._fullLayout._outlining=!1)}Ce.selection={},Ce.selection.selectionDefs=Be.selectionDefs=[],Ce.selection.mergedPolygons=Be.mergedPolygons=[]}function ue(Be){return Be._id}function ce(Be,xe,Me,Ce){if(!Be.calcdata)return[];var Ne,Re,He,Ye=[],Qe=xe.map(ue),lt=Me.map(ue);for(He=0;He<Be.calcdata.length;He++)if((Re=(Ne=Be.calcdata[He])[0].trace).visible===!0&&Re._module&&Re._module.selectPoints)if(!ie({subplot:Ce})||Re.subplot!==Ce&&Re.geo!==Ce)if(Re.type==="splom"){if(Re._xaxes[Qe[0]]&&Re._yaxes[lt[0]]){var ut=de(Re._module,Ne,xe[0],Me[0]);ut.scene=Be._fullLayout._splomScenes[Re.uid],Ye.push(ut)}}else if(Re.type==="sankey"){var xt=de(Re._module,Ne,xe[0],Me[0]);Ye.push(xt)}else{if(!(Qe.indexOf(Re.xaxis)!==-1||Re._xA&&Re._xA.overlaying)||!(lt.indexOf(Re.yaxis)!==-1||Re._yA&&Re._yA.overlaying))continue;Ye.push(de(Re._module,Ne,R(Be,Re.xaxis),R(Be,Re.yaxis)))}else Ye.push(de(Re._module,Ne,xe[0],Me[0]));return Ye}function de(Be,xe,Me,Ce){return{_module:Be,cd:xe,xaxis:Me,yaxis:Ce}}function pe(Be){var xe=Be.searchInfo.cd[0].trace,Me=Be.pointNumber,Ce=Be.pointNumbers,Ne=Ce.length>0?Ce[0]:Me;return!!xe.selectedpoints&&xe.selectedpoints.indexOf(Ne)>-1}function me(Be,xe,Me){var Ce,Ne;for(Ce=0;Ce<xe.length;Ce++){var Re=xe[Ce].cd[0].trace._fullInput,He=Be._fullLayout._tracePreGUI[Re.uid]||{};He.selectedpoints===void 0&&(He.selectedpoints=Re._input.selectedpoints||null)}if(Me){var Ye=Me.points||[];for(Ce=0;Ce<xe.length;Ce++)(Ne=xe[Ce].cd[0].trace)._input.selectedpoints=Ne._fullInput.selectedpoints=[],Ne._fullInput!==Ne&&(Ne.selectedpoints=[]);for(var Qe=0;Qe<Ye.length;Qe++){var lt=Ye[Qe],ut=lt.data,xt=lt.fullData,_t=lt.pointIndex,mt=lt.pointIndices;mt?([].push.apply(ut.selectedpoints,mt),Ne._fullInput!==Ne&&[].push.apply(xt.selectedpoints,mt)):(ut.selectedpoints.push(_t),Ne._fullInput!==Ne&&xt.selectedpoints.push(_t))}}else for(Ce=0;Ce<xe.length;Ce++)delete(Ne=xe[Ce].cd[0].trace).selectedpoints,delete Ne._input.selectedpoints,Ne._fullInput!==Ne&&delete Ne._fullInput.selectedpoints;(function(it,nt){for(var Et=!1,zt=0;zt<nt.length;zt++){var Ft=nt[zt],Pt=Ft.cd;t.traceIs(Pt[0].trace,"regl")&&(Et=!0);var Ze=Ft._module,Je=Ze.styleOnSelect||Ze.style;Je&&(Je(it,Pt,Pt[0].node3),Pt[0].nodeRangePlot3&&Je(it,Pt,Pt[0].nodeRangePlot3))}Et&&(I(it),D(it))})(Be,xe)}function be(Be,xe,Me){for(var Ce=(Me?v.difference:v.union)({regions:Be},{regions:[xe]}).regions.reverse(),Ne=0;Ne<Ce.length;Ne++){var Re=Ce[Ne];Re.subtract=ye(Re,Ce.slice(0,Ne))}return Ce}function we(Be,xe){if(Array.isArray(Be))for(var Me=xe.cd,Ce=xe.cd[0].trace,Ne=0;Ne<Be.length;Ne++)Be[Ne]=s(Be[Ne],Ce,Me);return Be}function Te(Be,xe){for(var Me=[],Ce=0;Ce<Be.length;Ce++){Me[Ce]=[];for(var Ne=0;Ne<Be[Ce].length;Ne++){Me[Ce][Ne]=[],Me[Ce][Ne][0]=Ne?"L":"M";for(var Re=0;Re<Be[Ce][Ne].length;Re++)Me[Ce][Ne].push(Be[Ce][Ne][Re])}xe||Me[Ce].push(["Z",Me[Ce][0][1],Me[Ce][0][2]])}return Me}function Le(Be,xe){for(var Me,Ce,Ne=[],Re=[],He=0;He<xe.length;He++){var Ye=xe[He];Ce=Ye._module.selectPoints(Ye,Be),Re.push(Ce),Me=we(Ce,Ye),Ne=Ne.concat(Me)}return Ne}function Ie(Be,xe,Me,Ce,Ne){var Re,He,Ye,Qe=!!Ce;Ne&&(Re=Ne.plotinfo,He=Ne.xaxes[0]._id,Ye=Ne.yaxes[0]._id);var lt=[],ut=[],xt=le(Be),_t=Be._fullLayout;if(Re){var mt=_t._zoomlayer,it=_t.dragmode,nt=r(it),Et=l(it);if(nt||Et){var zt=R(Be,He,"x"),Ft=R(Be,Ye,"y");if(zt&&Ft){var Pt=mt.selectAll(".select-outline-"+Re.id);if(Pt&&Be._fullLayout._outlining&&Pt.length){for(var Ze=Pt[0][0].getAttribute("d"),Je=m(Ze,Be,Re),qe=[],Ke=0;Ke<Je.length;Ke++){for(var ft=Je[Ke],ot=[],Ue=0;Ue<ft.length;Ue++)ot.push([Oe(zt,ft[Ue][1]),Oe(Ft,ft[Ue][2])]);ot.xref=He,ot.yref=Ye,ot.subtract=ye(ot,qe),qe.push(ot)}xt=xt.concat(qe)}}}}var Ve=He&&Ye?[He+Ye]:_t._subplots.cartesian;(function(Pn){var On=Pn.calcdata;if(On)for(var En=0;En<On.length;En++){var Vn=On[En][0].trace,Bn=Pn._fullLayout._splomScenes;if(Bn){var Wn=Bn[Vn.uid];Wn&&(Wn.selectBatch=[])}}})(Be);for(var st={},Xe=0;Xe<Ve.length;Xe++){var gt=Ve[Xe],yt=gt.indexOf("y"),bt=gt.slice(0,yt),dt=gt.slice(yt),Lt=He&&Ye?Me:void 0;if(Lt=fe(xt,bt,dt,Lt)){var wt=Ce;if(!Qe){var Ct=R(Be,bt,"x"),Rt=R(Be,dt,"y");wt=ce(Be,[Ct],[Rt],gt);for(var Dt=0;Dt<wt.length;Dt++){var Nt=wt[Dt],Xt=Nt.cd[0],un=Xt.trace;if(Nt._module.name==="scattergl"&&!Xt.t.xpx){var qt=un.x,Kt=un.y,Ut=un._length;Xt.t.xpx=[],Xt.t.ypx=[];for(var Rn=0;Rn<Ut;Rn++)Xt.t.xpx[Rn]=Ct.c2p(qt[Rn]),Xt.t.ypx[Rn]=Rt.c2p(Kt[Rn])}Nt._module.name==="splom"&&(st[un.uid]||(st[un.uid]=!0))}}var An=Le(Lt,wt);lt=lt.concat(An),ut=ut.concat(wt)}}var mn={points:lt};me(Be,ut,mn);var tn=_t.clickmode.indexOf("event")>-1&&xe;if(!Re&&xe){var fn=le(Be,!0);if(fn.length){var rn=fn[0].xref,pn=fn[0].yref;if(rn&&pn){var wn=Ae(fn);Se([R(Be,rn,"x"),R(Be,pn,"y")])(mn,wn)}}Be._fullLayout._noEmitSelectedAtStart?Be._fullLayout._noEmitSelectedAtStart=!1:tn&&Pe(Be,mn),_t._reselect=!1}if(!Re&&_t._deselect){var kn=_t._deselect;(function(Pn,On,En){for(var Vn=0;Vn<En.length;Vn++){var Bn=En[Vn];if(Bn.xaxis&&Bn.xaxis._id===Pn&&Bn.yaxis&&Bn.yaxis._id===On)return!0}return!1})(He=kn.xref,Ye=kn.yref,ut)||_e(Be,He,Ye,Ce),tn&&(mn.points.length?Pe(Be,mn):Fe(Be)),_t._deselect=!1}return{eventData:mn,selectionTesters:Me}}function _e(Be,xe,Me,Ce){Ce=ce(Be,[R(Be,xe,"x")],[R(Be,Me,"y")],xe+Me);for(var Ne=0;Ne<Ce.length;Ne++){var Re=Ce[Ne];Re._module.selectPoints(Re,!1)}me(Be,Ce)}function fe(Be,xe,Me,Ce){for(var Ne,Re=0;Re<Be.length;Re++){var He=Be[Re];xe===He.xref&&Me===He.yref&&(Ne?Ce=J(Ne=be(Ne,He,!!He.subtract)):(Ne=[He],Ce=V(He)))}return Ce}function le(Be,xe){for(var Me=[],Ce=Be._fullLayout,Ne=Ce.selections,Re=Ne.length,He=0;He<Re;He++)if(!xe||He===Ce._activeSelectionIndex){var Ye=Ne[He];if(Ye){var Qe,lt,ut,xt,_t,mt=Ye.xref,it=Ye.yref,nt=R(Be,mt,"x"),Et=R(Be,it,"y");if(Ye.type==="rect"){_t=[];var zt=Oe(nt,Ye.x0),Ft=Oe(nt,Ye.x1),Pt=Oe(Et,Ye.y0),Ze=Oe(Et,Ye.y1);_t=[[zt,Pt],[zt,Ze],[Ft,Ze],[Ft,Pt]],Qe=Math.min(zt,Ft),lt=Math.max(zt,Ft),ut=Math.min(Pt,Ze),xt=Math.max(Pt,Ze),_t.xmin=Qe,_t.xmax=lt,_t.ymin=ut,_t.ymax=xt,_t.xref=mt,_t.yref=it,_t.subtract=!1,_t.isRect=!0,Me.push(_t)}else if(Ye.type==="path")for(var Je=Ye.path.split("Z"),qe=[],Ke=0;Ke<Je.length;Ke++){var ft=Je[Ke];if(ft){ft+="Z";var ot=u.extractPathCoords(ft,h.paramIsX,"raw"),Ue=u.extractPathCoords(ft,h.paramIsY,"raw");Qe=1/0,lt=-1/0,ut=1/0,xt=-1/0,_t=[];for(var Ve=0;Ve<ot.length;Ve++){var st=Oe(nt,ot[Ve]),Xe=Oe(Et,Ue[Ve]);_t.push([st,Xe]),Qe=Math.min(st,Qe),lt=Math.max(st,lt),ut=Math.min(Xe,ut),xt=Math.max(Xe,xt)}_t.xmin=Qe,_t.xmax=lt,_t.ymin=ut,_t.ymax=xt,_t.xref=mt,_t.yref=it,_t.subtract=ye(_t,qe),qe.push(_t),Me.push(_t)}}}}return Me}function ye(Be,xe){for(var Me=!1,Ce=0;Ce<xe.length;Ce++)for(var Ne=xe[Ce],Re=0;Re<Be.length;Re++)if(x(Be[Re],Ne)){Me=!Me;break}return Me}function Oe(Be,xe){return Be.type==="date"&&(xe=xe.replace("_"," ")),Be.type==="log"?Be.c2p(xe):Be.r2p(xe,null,Be.calendar)}function Ae(Be){for(var xe=Be.length,Me=[],Ce=0;Ce<xe;Ce++){var Ne=Be[Ce];Me=(Me=Me.concat(Ne)).concat([Ne[0]])}return(Re=Me).isRect=Re.length===5&&Re[0][0]===Re[4][0]&&Re[0][1]===Re[4][1]&&Re[0][0]===Re[1][0]&&Re[2][0]===Re[3][0]&&Re[0][1]===Re[3][1]&&Re[1][1]===Re[2][1]||Re[0][1]===Re[1][1]&&Re[2][1]===Re[3][1]&&Re[0][0]===Re[3][0]&&Re[1][0]===Re[2][0],Re.isRect&&(Re.xmin=Math.min(Re[0][0],Re[2][0]),Re.xmax=Math.max(Re[0][0],Re[2][0]),Re.ymin=Math.min(Re[0][1],Re[2][1]),Re.ymax=Math.max(Re[0][1],Re[2][1])),Re;var Re}function Se(Be){return function(xe,Me){for(var Ce,Ne,Re=0;Re<Be.length;Re++){var He=Be[Re],Ye=He._id,Qe=Ye.charAt(0);if(Me.isRect){Ce||(Ce={});var lt=Me[Qe+"min"],ut=Me[Qe+"max"];lt!==void 0&&ut!==void 0&&(Ce[Ye]=[j(He,lt),j(He,ut)].sort(L))}else Ne||(Ne={}),Ne[Ye]=Me.map(H(He))}Ce&&(xe.range=Ce),Ne&&(xe.lassoPoints=Ne)}}function Pe(Be,xe){xe&&(xe.selections=(Be.layout||{}).selections||[]),Be.emit("plotly_selected",xe)}function Fe(Be){Be.emit("plotly_deselect",null)}O.exports={reselect:Ie,prepSelect:function(Be,xe,Me,Ce,Ne){var Re=!ie(Ce),He=i(Ne),Ye=a(Ne),Qe=o(Ne),lt=r(Ne),ut=l(Ne),xt=Ne==="drawcircle",_t=Ne==="drawline"||xt,mt=Ce.gd,it=mt._fullLayout,nt=ut&&it.newselection.mode==="immediate"&&Re,Et=it._zoomlayer,zt=Ce.element.getBoundingClientRect(),Ft=Ce.plotinfo,Pt=G(Ft),Ze=xe-zt.left,Je=Me-zt.top;it._calcInverseTransform(mt);var qe=p.apply3DTransform(it._invTransform)(Ze,Je);Ze=qe[0],Je=qe[1];var Ke,ft,ot,Ue,Ve,st,Xe,gt=it._invScaleX,yt=it._invScaleY,bt=Ze,dt=Je,Lt="M"+Ze+","+Je,wt=Ce.xaxes[0],Ct=Ce.yaxes[0],Rt=wt._length,Dt=Ct._length,Nt=Be.altKey&&!(r(Ne)&&Qe);$(Be,mt,Ce),He&&(Ke=z([[Ze,Je]],F.BENDPX));var Xt=Et.selectAll("path.select-outline-"+Ft.id).data([1]),un=lt?it.newshape:it.newselection;lt&&(Ce.hasText=un.label.text||un.label.texttemplate);var qt=lt&&!Qe?un.fillcolor:"rgba(0,0,0,0)",Kt=un.line.color||(Re?g.contrast(mt._fullLayout.plot_bgcolor):"#7f7f7f");Xt.enter().append("path").attr("class","select-outline select-outline-"+Ft.id).style({opacity:lt?un.opacity/2:1,"stroke-dasharray":b(un.line.dash,un.line.width),"stroke-width":un.line.width+"px","shape-rendering":"crispEdges"}).call(g.stroke,Kt).call(g.fill,qt).attr("fill-rule","evenodd").classed("cursor-move",!!lt).attr("transform",Pt).attr("d",Lt+"Z");var Ut=Et.append("path").attr("class","zoombox-corners").style({fill:g.background,stroke:g.defaultLine,"stroke-width":1}).attr("transform",Pt).attr("d","M0,0Z");if(lt&&Ce.hasText){var Rn=Et.select(".label-temp");Rn.empty()&&(Rn=Et.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var An=it._uid+F.SELECTID,mn=[],tn=ce(mt,Ce.xaxes,Ce.yaxes,Ce.subplot);nt&&!Be.shiftKey&&(Ce._clearSubplotSelections=function(){if(Re){var rn=wt._id,pn=Ct._id;_e(mt,rn,pn,tn);for(var wn=(mt.layout||{}).selections||[],kn=[],Pn=!1,On=0;On<wn.length;On++){var En=it.selections[On];En.xref!==rn||En.yref!==pn?kn.push(wn[On]):Pn=!0}Pn&&(mt._fullLayout._noEmitSelectedAtStart=!0,t.call("_guiRelayout",mt,{selections:kn}))}});var fn=function(rn){return rn.plotinfo.fillRangeItems||Se(rn.xaxes.concat(rn.yaxes))}(Ce);Ce.moveFn=function(rn,pn){Ce._clearSubplotSelections&&(Ce._clearSubplotSelections(),Ce._clearSubplotSelections=void 0),bt=Math.max(0,Math.min(Rt,gt*rn+Ze)),dt=Math.max(0,Math.min(Dt,yt*pn+Je));var wn=Math.abs(bt-Ze),kn=Math.abs(dt-Je);if(Ye){var Pn,On,En;if(ut){var Vn=it.selectdirection;switch(Pn=Vn==="any"?kn<Math.min(.6*wn,q)?"h":wn<Math.min(.6*kn,q)?"v":"d":Vn){case"h":On=xt?Dt/2:0,En=Dt;break;case"v":On=xt?Rt/2:0,En=Rt}}if(lt)switch(it.newshape.drawdirection){case"vertical":Pn="h",On=xt?Dt/2:0,En=Dt;break;case"horizontal":Pn="v",On=xt?Rt/2:0,En=Rt;break;case"ortho":wn<kn?(Pn="h",On=Je,En=dt):(Pn="v",On=Ze,En=bt);break;default:Pn="d"}Pn==="h"?((Ue=_t?y(xt,[bt,On],[bt,En]):[[Ze,On],[Ze,En],[bt,En],[bt,On]]).xmin=_t?bt:Math.min(Ze,bt),Ue.xmax=_t?bt:Math.max(Ze,bt),Ue.ymin=Math.min(On,En),Ue.ymax=Math.max(On,En),Ut.attr("d","M"+Ue.xmin+","+(Je-q)+"h-4v"+2*q+"h4ZM"+(Ue.xmax-1)+","+(Je-q)+"h4v"+2*q+"h-4Z")):Pn==="v"?((Ue=_t?y(xt,[On,dt],[En,dt]):[[On,Je],[On,dt],[En,dt],[En,Je]]).xmin=Math.min(On,En),Ue.xmax=Math.max(On,En),Ue.ymin=_t?dt:Math.min(Je,dt),Ue.ymax=_t?dt:Math.max(Je,dt),Ut.attr("d","M"+(Ze-q)+","+Ue.ymin+"v-4h"+2*q+"v4ZM"+(Ze-q)+","+(Ue.ymax-1)+"v4h"+2*q+"v-4Z")):Pn==="d"&&((Ue=_t?y(xt,[Ze,Je],[bt,dt]):[[Ze,Je],[Ze,dt],[bt,dt],[bt,Je]]).xmin=Math.min(Ze,bt),Ue.xmax=Math.max(Ze,bt),Ue.ymin=Math.min(Je,dt),Ue.ymax=Math.max(Je,dt),Ut.attr("d","M0,0Z"))}else He&&(Ke.addPt([bt,dt]),Ue=Ke.filtered);if(Ce.selectionDefs&&Ce.selectionDefs.length?(ot=be(Ce.mergedPolygons,Ue,Nt),Ue.subtract=Nt,ft=J(Ce.selectionDefs.concat([Ue]))):(ot=[Ue],ft=V(Ue)),f(Te(ot,Qe),Xt,Ce),ut){var Bn,Wn=Ie(mt,!1),rr=Wn.eventData?Wn.eventData.points.slice():[];Wn=Ie(mt,!1,ft,tn,Ce),ft=Wn.selectionTesters,Xe=Wn.eventData,Bn=Ke?Ke.filtered:Ae(ot),C.throttle(An,F.SELECTDELAY,function(){for(var ir=(mn=Le(ft,tn)).slice(),Kn=0;Kn<rr.length;Kn++){for(var vr=rr[Kn],nn=!1,an=0;an<ir.length;an++)if(ir[an].curveNumber===vr.curveNumber&&ir[an].pointNumber===vr.pointNumber){nn=!0;break}nn||ir.push(vr)}ir.length&&(Xe||(Xe={}),Xe.points=ir),fn(Xe,Bn),function(In,yn){In.emit("plotly_selecting",yn)}(mt,Xe)})}},Ce.clickFn=function(rn,pn){if(Ut.remove(),mt._fullLayout._activeShapeIndex>=0)mt._fullLayout._deactivateShape(mt);else if(!lt){var wn=it.clickmode;C.done(An).then(function(){if(C.clear(An),rn===2){for(Xt.remove(),Ve=0;Ve<tn.length;Ve++)(st=tn[Ve])._module.selectPoints(st,!1);if(me(mt,tn),ae(Ce),Fe(mt),tn.length){var kn=tn[0].xaxis,Pn=tn[0].yaxis;if(kn&&Pn){for(var On=[],En=mt._fullLayout.selections,Vn=0;Vn<En.length;Vn++){var Bn=En[Vn];Bn&&(Bn.xref===kn._id&&Bn.yref===Pn._id||On.push(Bn))}On.length<En.length&&(mt._fullLayout._noEmitSelectedAtStart=!0,t.call("_guiRelayout",mt,{selections:On}))}}}else wn.indexOf("select")>-1&&re(pn,mt,Ce.xaxes,Ce.yaxes,Ce.subplot,Ce,Xt),wn==="event"&&Pe(mt,void 0);c.click(mt,pn,Ft.id)}).catch(p.error)}},Ce.doneFn=function(){Ut.remove(),C.done(An).then(function(){C.clear(An),!nt&&Ue&&Ce.selectionDefs&&(Ue.subtract=Nt,Ce.selectionDefs.push(Ue),Ce.mergedPolygons.length=0,[].push.apply(Ce.mergedPolygons,ot)),(nt||lt)&&ae(Ce,nt),Ce.doneFnCompleted&&Ce.doneFnCompleted(mn),ut&&Pe(mt,Xe)}).catch(p.error)}},clearOutline:T,clearSelectionsCache:ae,selectOnClick:re}},46056:function(O,S,e){var v=e(13916),x=e(25376),t=e(52904).line,b=e(98192).u,g=e(92880).extendFlat,c=e(31780).templatedArray,s=(e(36208),e(45464)),n=e(21776).ye,i=e(97728);O.exports=c("shape",{visible:g({},s.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:g({},s.legend,{editType:"calc+arraydraw"}),legendgroup:g({},s.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:g({},s.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:x({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:g({},s.legendrank,{editType:"calc+arraydraw"}),legendwidth:g({},s.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:g({},v.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:g({},v.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:g({},t.color,{editType:"arraydraw"}),width:g({},t.width,{editType:"calc+arraydraw"}),dash:g({},b,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:n({},{keys:Object.keys(i)}),font:x({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},96084:function(O,S,e){var v=e(3400),x=e(54460),t=e(85448),b=e(65152);function g(i){return s(i.line.width,i.xsizemode,i.x0,i.x1,i.path,!1)}function c(i){return s(i.line.width,i.ysizemode,i.y0,i.y1,i.path,!0)}function s(i,a,r,o,l,u){var h=i/2,f=u;if(a==="pixel"){var T=l?b.extractPathCoords(l,u?t.paramIsY:t.paramIsX):[r,o],d=v.aggNums(Math.max,null,T),y=v.aggNums(Math.min,null,T),m=y<0?Math.abs(y)+h:h,w=d>0?d+h:h;return{ppad:h,ppadplus:f?m:w,ppadminus:f?w:m}}return{ppad:h}}function n(i,a,r,o,l){var u=i.type==="category"||i.type==="multicategory"?i.r2c:i.d2c;if(a!==void 0)return[u(a),u(r)];if(o){var h,f,T,d,y=1/0,m=-1/0,w=o.match(t.segmentRE);for(i.type==="date"&&(u=b.decodeDate(u)),h=0;h<w.length;h++)(f=l[w[h].charAt(0)].drawn)!==void 0&&(!(T=w[h].substr(1).match(t.paramRE))||T.length<f||((d=u(T[f]))<y&&(y=d),d>m&&(m=d)));return m>=y?[y,m]:void 0}}O.exports=function(i){var a=i._fullLayout,r=v.filterVisible(a.shapes);if(r.length&&i._fullData.length)for(var o=0;o<r.length;o++){var l,u,h=r[o];h._extremes={};var f=x.getRefType(h.xref),T=x.getRefType(h.yref);if(h.xref!=="paper"&&f!=="domain"){var d=h.xsizemode==="pixel"?h.xanchor:h.x0,y=h.xsizemode==="pixel"?h.xanchor:h.x1;(u=n(l=x.getFromId(i,h.xref),d,y,h.path,t.paramIsX))&&(h._extremes[l._id]=x.findExtremes(l,u,g(h)))}if(h.yref!=="paper"&&T!=="domain"){var m=h.ysizemode==="pixel"?h.yanchor:h.y0,w=h.ysizemode==="pixel"?h.yanchor:h.y1;(u=n(l=x.getFromId(i,h.yref),m,w,h.path,t.paramIsY))&&(h._extremes[l._id]=x.findExtremes(l,u,c(h)))}}}},85448:function(O){O.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},43712:function(O,S,e){var v=e(3400),x=e(54460),t=e(51272),b=e(46056),g=e(65152);function c(s,n,i){function a(X,j){return v.coerce(s,n,b,X,j)}if(n._isShape=!0,a("visible")){a("showlegend")&&(a("legend"),a("legendwidth"),a("legendgroup"),a("legendgrouptitle.text"),v.coerceFont(a,"legendgrouptitle.font"),a("legendrank"));var r=a("path"),o=a("type",r?"path":"rect"),l=o!=="path";l&&delete n.path,a("editable"),a("layer"),a("opacity"),a("fillcolor"),a("fillrule"),a("line.width")&&(a("line.color"),a("line.dash"));for(var u=a("xsizemode"),h=a("ysizemode"),f=["x","y"],T=0;T<2;T++){var d,y,m,w=f[T],_=w+"anchor",A=w==="x"?u:h,p={_fullLayout:i},L=x.coerceRef(s,n,p,w,void 0,"paper");if(x.getRefType(L)==="range"?((d=x.getFromId(p,L))._shapeIndices.push(n._index),m=g.rangeToShapePosition(d),y=g.shapePositionToRange(d)):y=m=v.identity,l){var M=w+"0",C=w+"1",R=s[M],I=s[C];s[M]=y(s[M],!0),s[C]=y(s[C],!0),A==="pixel"?(a(M,0),a(C,10)):(x.coercePosition(n,p,a,L,M,.25),x.coercePosition(n,p,a,L,C,.75)),n[M]=m(n[M]),n[C]=m(n[C]),s[M]=R,s[C]=I}if(A==="pixel"){var D=s[_];s[_]=y(s[_],!0),x.coercePosition(n,p,a,L,_,.25),n[_]=m(n[_]),s[_]=D}}l&&v.noneOrAll(s,n,["x0","x1","y0","y1"]);var F,q,z=o==="line";if(l&&(F=a("label.texttemplate")),F||(q=a("label.text")),q||F){a("label.textangle");var V=a("label.textposition",z?"middle":"middle center");a("label.xanchor"),a("label.yanchor",function(X,j){return X?"bottom":j.indexOf("top")!==-1?"top":j.indexOf("bottom")!==-1?"bottom":"middle"}(z,V)),a("label.padding"),v.coerceFont(a,"label.font",i.font)}}}O.exports=function(s,n){t(s,n,{name:"shapes",handleItemDefaults:c})}},60728:function(O,S,e){var v=e(3400),x=e(54460),t=e(72736),b=e(43616),g=e(9856).readPaths,c=e(65152),s=c.getPathString,n=e(97728),i=e(84284).FROM_TL;O.exports=function(a,r,o,l){if(l.selectAll(".shape-label").remove(),o.label.text||o.label.texttemplate){var u;if(o.label.texttemplate){var h={};if(o.type!=="path"){var f=x.getFromId(a,o.xref),T=x.getFromId(a,o.yref);for(var d in n){var y=n[d](o,f,T);y!==void 0&&(h[d]=y)}}u=v.texttemplateStringForShapes(o.label.texttemplate,{},a._fullLayout._d3locale,h)}else u=o.label.text;var m,w,_,A,p={"data-index":r},L=o.label.font,M=l.append("g").attr(p).classed("shape-label",!0).append("text").attr({"data-notex":1}).classed("shape-label-text",!0).text(u);if(o.path){var C=s(a,o),R=g(C,a);m=1/0,_=1/0,w=-1/0,A=-1/0;for(var I=0;I<R.length;I++)for(var D=0;D<R[I].length;D++)for(var F=R[I][D],q=1;q<F.length;q+=2){var z=F[q],V=F[q+1];m=Math.min(m,z),w=Math.max(w,z),_=Math.min(_,V),A=Math.max(A,V)}}else{var X=x.getFromId(a,o.xref),j=x.getRefType(o.xref),H=x.getFromId(a,o.yref),G=x.getRefType(o.yref),ie=c.getDataToPixel(a,X,!1,j),re=c.getDataToPixel(a,H,!0,G);m=ie(o.x0),w=ie(o.x1),_=re(o.y0),A=re(o.y1)}var te=o.label.textangle;te==="auto"&&(te=o.type==="line"?function(ue,ce,de,pe){var me,be;return be=Math.abs(de-ue),me=de>=ue?ce-pe:pe-ce,-180/Math.PI*Math.atan2(me,be)}(m,_,w,A):0),M.call(function(ue){return ue.call(b.font,L).attr({}),t.convertToTspans(ue,a),ue});var K=function(ue,ce,de,pe,me,be,we){var Te,Le,Ie,_e,fe=me.label.textposition,le=me.label.textangle,ye=me.label.padding,Oe=me.type,Ae=Math.PI/180*be,Se=Math.sin(Ae),Pe=Math.cos(Ae),Fe=me.label.xanchor,Be=me.label.yanchor;if(Oe==="line"){fe==="start"?(Te=ue,Le=ce):fe==="end"?(Te=de,Le=pe):(Te=(ue+de)/2,Le=(ce+pe)/2),Fe==="auto"&&(Fe=fe==="start"?le==="auto"?de>ue?"left":de<ue?"right":"center":de>ue?"right":de<ue?"left":"center":fe==="end"?le==="auto"?de>ue?"right":de<ue?"left":"center":de>ue?"left":de<ue?"right":"center":"center");var xe={bottom:-1,middle:0,top:1};if(le==="auto"){var Me=xe[Be];Ie=-ye*Se*Me,_e=ye*Pe*Me}else Ie=ye*{left:1,center:0,right:-1}[Fe],_e=ye*xe[Be];Te+=Ie,Le+=_e}else Ie=ye+3,fe.indexOf("right")!==-1?(Te=Math.max(ue,de)-Ie,Fe==="auto"&&(Fe="right")):fe.indexOf("left")!==-1?(Te=Math.min(ue,de)+Ie,Fe==="auto"&&(Fe="left")):(Te=(ue+de)/2,Fe==="auto"&&(Fe="center")),Le=fe.indexOf("top")!==-1?Math.min(ce,pe):fe.indexOf("bottom")!==-1?Math.max(ce,pe):(ce+pe)/2,_e=ye,Be==="bottom"?Le-=_e:Be==="top"&&(Le+=_e);var Ce=i[Be],Ne=me.label.font.size,Re=we.height;return{textx:Te+(Re*Ce-Ne)*Se,texty:Le+-(Re*Ce-Ne)*Pe,xanchor:Fe}}(m,_,w,A,o,te,b.bBox(M.node())),J=K.textx,$=K.texty,ae=K.xanchor;M.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[ae],y:$,x:J,transform:"rotate("+te+","+J+","+$+")"}).call(t.positionText,J,$)}}},55496:function(O,S,e){var v=e(3400).strTranslate,x=e(86476),t=e(72760),b=t.drawMode,g=t.selectMode,c=e(24040),s=e(76308),n=e(7e3),i=n.i000,a=n.i090,r=n.i180,o=n.i270,l=e(1936).clearOutlineControllers,u=e(9856),h=u.pointsOnRectangle,f=u.pointsOnEllipse,T=u.writePaths,d=e(93940).newShapes,y=e(93940).createShapeObj,m=e(5968),w=e(60728);function _(A,p){var L,M,C,R=A[p][1],I=A[p][2],D=A.length;return M=A[L=(p+1)%D][1],C=A[L][2],M===R&&C===I&&(M=A[L=(p+2)%D][1],C=A[L][2]),[L,M,C]}O.exports=function A(p,L,M,C){C||(C=0);var R=M.gd;function I(){A(p,L,M,C++),(f(p[0])||M.hasText)&&D({redrawing:!0})}function D(me){var be={};M.isActiveShape!==void 0&&(M.isActiveShape=!1,be=d(L,M)),M.isActiveSelection!==void 0&&(M.isActiveSelection=!1,be=m(L,M),R._fullLayout._reselect=!0),Object.keys(be).length&&c.call((me||{}).redrawing?"relayout":"_guiRelayout",R,be)}var F,q,z,V,X,j=R._fullLayout._zoomlayer,H=M.dragmode,G=b(H),ie=g(H);if((G||ie)&&(R._fullLayout._outlining=!0),l(R),L.attr("d",T(p)),C||!M.isActiveShape&&!M.isActiveSelection||(X=function(me,be){for(var we=0;we<be.length;we++){var Te=be[we];me[we]=[];for(var Le=0;Le<Te.length;Le++){me[we][Le]=[];for(var Ie=0;Ie<Te[Le].length;Ie++)me[we][Le][Ie]=Te[Le][Ie]}}return me}([],p),function(me){F=[];for(var be=0;be<p.length;be++){var we=p[be],Te=h(we),Le=!Te&&f(we);F[be]=[];for(var Ie=we.length,_e=0;_e<Ie;_e++)if(we[_e][0]!=="Z"&&(!Le||_e===i||_e===a||_e===r||_e===o)){var fe,le=Te&&M.isActiveSelection;le&&(fe=_(we,_e));var ye=we[_e][1],Oe=we[_e][2],Ae=me.append(le?"rect":"circle").attr("data-i",be).attr("data-j",_e).style({fill:s.background,stroke:s.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(le){var Se=fe[1]-ye,Pe=fe[2]-Oe,Fe=Pe?5:Math.max(Math.min(25,Math.abs(Se)-5),5),Be=Se?5:Math.max(Math.min(25,Math.abs(Pe)-5),5);Ae.classed(Pe?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Fe).attr("height",Be).attr("x",ye-Fe/2).attr("y",Oe-Be/2).attr("transform",v(Se/2,Pe/2))}else Ae.classed("cursor-grab",!0).attr("r",5).attr("cx",ye).attr("cy",Oe);F[be][_e]={element:Ae.node(),gd:R,prepFn:K,doneFn:$,clickFn:ae},x.init(F[be][_e])}}}(j.append("g").attr("class","outline-controllers")),function(){q=[],p.length&&(q[0]={element:L[0][0],gd:R,prepFn:ce,doneFn:de,clickFn:pe},x.init(q[0]))}()),G&&M.hasText){var re=j.select(".label-temp"),te=y(L,M,M.dragmode);w(R,"label-temp",te,re)}function K(me){z=+me.srcElement.getAttribute("data-i"),V=+me.srcElement.getAttribute("data-j"),F[z][V].moveFn=J}function J(me,be){if(p.length){var we=X[z][V][1],Te=X[z][V][2],Le=p[z],Ie=Le.length;if(h(Le)){var _e=me,fe=be;M.isActiveSelection&&(_(Le,V)[1]===Le[V][1]?fe=0:_e=0);for(var le=0;le<Ie;le++)if(le!==V){var ye=Le[le];ye[1]===Le[V][1]&&(ye[1]=we+_e),ye[2]===Le[V][2]&&(ye[2]=Te+fe)}if(Le[V][1]=we+_e,Le[V][2]=Te+fe,!h(Le))for(var Oe=0;Oe<Ie;Oe++)for(var Ae=0;Ae<Le[Oe].length;Ae++)Le[Oe][Ae]=X[z][Oe][Ae]}else Le[V][1]=we+me,Le[V][2]=Te+be;I()}}function $(){D()}function ae(me,be){if(me===2){z=+be.srcElement.getAttribute("data-i"),V=+be.srcElement.getAttribute("data-j");var we=p[z];h(we)||f(we)||function(){if(p.length&&p[z]&&p[z].length){for(var Te=[],Le=0;Le<p[z].length;Le++)Le!==V&&Te.push(p[z][Le]);Te.length>1&&(Te.length!==2||Te[1][0]!=="Z")&&(V===0&&(Te[0][0]="M"),p[z]=Te,I(),D())}}()}}function ue(me,be){(function(we,Te){if(p.length)for(var Le=0;Le<p.length;Le++)for(var Ie=0;Ie<p[Le].length;Ie++)for(var _e=0;_e+2<p[Le][Ie].length;_e+=2)p[Le][Ie][_e+1]=X[Le][Ie][_e+1]+we,p[Le][Ie][_e+2]=X[Le][Ie][_e+2]+Te})(me,be),I()}function ce(me){(z=+me.srcElement.getAttribute("data-i"))||(z=0),q[z].moveFn=ue}function de(){D()}function pe(me){me===2&&function(be){if(g(be._fullLayout.dragmode)){l(be);var we=be._fullLayout._activeSelectionIndex,Te=(be.layout||{}).selections||[];if(we<Te.length){for(var Le=[],Ie=0;Ie<Te.length;Ie++)Ie!==we&&Le.push(Te[Ie]);delete be._fullLayout._activeSelectionIndex;var _e=be._fullLayout.selections[we];be._fullLayout._deselect={xref:_e.xref,yref:_e.yref},c.call("_guiRelayout",be,{selections:Le})}}}(R)}}},4016:function(O,S,e){var v=e(33428),x=e(24040),t=e(3400),b=e(54460),g=e(9856).readPaths,c=e(55496),s=e(60728),n=e(1936).clearOutlineControllers,i=e(76308),a=e(43616),r=e(31780).arrayEditor,o=e(86476),l=e(93972),u=e(85448),h=e(65152),f=h.getPathString;function T(p){var L=p._fullLayout;for(var M in L._shapeUpperLayer.selectAll("path").remove(),L._shapeLowerLayer.selectAll("path").remove(),L._shapeUpperLayer.selectAll("text").remove(),L._shapeLowerLayer.selectAll("text").remove(),L._plots){var C=L._plots[M].shapelayer;C&&(C.selectAll("path").remove(),C.selectAll("text").remove())}for(var R=0;R<L.shapes.length;R++)L.shapes[R].visible===!0&&m(p,R)}function d(p){return!!p._fullLayout._outlining}function y(p){return!p._context.edits.shapePosition}function m(p,L){p._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+L+'"]').remove();var M=h.makeShapesOptionsAndPlotinfo(p,L),C=M.options,R=M.plotinfo;function I(D){var F=f(p,C),q={"data-index":L,"fill-rule":C.fillrule,d:F},z=C.opacity,V=C.fillcolor,X=C.line.width?C.line.color:"rgba(0,0,0,0)",j=C.line.width,H=C.line.dash;j||C.editable!==!0||(j=5,H="solid");var G=F[F.length-1]!=="Z",ie=y(p)&&C.editable&&p._fullLayout._activeShapeIndex===L;ie&&(V=G?"rgba(0,0,0,0)":p._fullLayout.activeshape.fillcolor,z=p._fullLayout.activeshape.opacity);var re,te=D.append("g").classed("shape-group",!0).attr({"data-index":L}),K=te.append("path").attr(q).style("opacity",z).call(i.stroke,X).call(i.fill,V).call(a.dashLine,H,j);if(w(te,p,C),s(p,L,C,te),(ie||p._context.edits.shapePosition)&&(re=r(p.layout,"shapes",C)),ie){K.style({cursor:"move"});var J={element:K.node(),plotinfo:R,gd:p,editHelpers:re,hasText:C.label.text||C.label.texttemplate,isActiveShape:!0},$=g(F,p);c($,K,J)}else p._context.edits.shapePosition?function(ae,ue,ce,de,pe,me){var be,we,Te,Le,Ie,_e,fe,le,ye,Oe,Ae,Se,Pe,Fe,Be,xe,Me=10,Ce=10,Ne=ce.xsizemode==="pixel",Re=ce.ysizemode==="pixel",He=ce.type==="line",Ye=ce.type==="path",Qe=me.modifyItem,lt=v.select(ue.node().parentNode),ut=b.getFromId(ae,ce.xref),xt=b.getRefType(ce.xref),_t=b.getFromId(ae,ce.yref),mt=b.getRefType(ce.yref),it=h.getDataToPixel(ae,ut,!1,xt),nt=h.getDataToPixel(ae,_t,!0,mt),Et=h.getPixelToData(ae,ut,!1,xt),zt=h.getPixelToData(ae,_t,!0,mt),Ft=He?function(){var ot=10,Ue=Math.max(ce.line.width,ot),Ve=pe.append("g").attr("data-index",de).attr("drag-helper",!0);Ve.append("path").attr("d",ue.attr("d")).style({cursor:"move","stroke-width":Ue,"stroke-opacity":"0"});var st={"fill-opacity":"0"},Xe=Math.max(Ue/2,ot);return Ve.append("circle").attr({"data-line-point":"start-point",cx:Ne?it(ce.xanchor)+ce.x0:it(ce.x0),cy:Re?nt(ce.yanchor)-ce.y0:nt(ce.y0),r:Xe}).style(st).classed("cursor-grab",!0),Ve.append("circle").attr({"data-line-point":"end-point",cx:Ne?it(ce.xanchor)+ce.x1:it(ce.x1),cy:Re?nt(ce.yanchor)-ce.y1:nt(ce.y1),r:Xe}).style(st).classed("cursor-grab",!0),Ve}():ue,Pt={element:Ft.node(),gd:ae,prepFn:function(ot){d(ae)||(Ne&&(Ie=it(ce.xanchor)),Re&&(_e=nt(ce.yanchor)),ce.type==="path"?Be=ce.path:(be=Ne?ce.x0:it(ce.x0),we=Re?ce.y0:nt(ce.y0),Te=Ne?ce.x1:it(ce.x1),Le=Re?ce.y1:nt(ce.y1)),be<Te?(ye=be,Pe="x0",Oe=Te,Fe="x1"):(ye=Te,Pe="x1",Oe=be,Fe="x0"),!Re&&we<Le||Re&&we>Le?(fe=we,Ae="y0",le=Le,Se="y1"):(fe=Le,Ae="y1",le=we,Se="y0"),Ze(ot),Ke(pe,ce),function(Ue,Ve,st){var Xe=Ve.xref,gt=Ve.yref,yt=b.getFromId(st,Xe),bt=b.getFromId(st,gt),dt="";Xe==="paper"||yt.autorange||(dt+=Xe),gt==="paper"||bt.autorange||(dt+=gt),a.setClipUrl(Ue,dt?"clip"+st._fullLayout._uid+dt:null,st)}(ue,ce,ae),Pt.moveFn=xe==="move"?Je:qe,Pt.altKey=ot.altKey)},doneFn:function(){d(ae)||(l(ue),ft(pe),w(ue,ae,ce),x.call("_guiRelayout",ae,me.getUpdateObj()))},clickFn:function(){d(ae)||ft(pe)}};function Ze(ot){if(d(ae))xe=null;else if(He)xe=ot.target.tagName==="path"?"move":ot.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Ue=Pt.element.getBoundingClientRect(),Ve=Ue.right-Ue.left,st=Ue.bottom-Ue.top,Xe=ot.clientX-Ue.left,gt=ot.clientY-Ue.top,yt=!Ye&&Ve>Me&&st>Ce&&!ot.shiftKey?o.getCursor(Xe/Ve,1-gt/st):"move";l(ue,yt),xe=yt.split("-")[0]}}function Je(ot,Ue){if(ce.type==="path"){var Ve=function(gt){return gt},st=Ve,Xe=Ve;Ne?Qe("xanchor",ce.xanchor=Et(Ie+ot)):(st=function(gt){return Et(it(gt)+ot)},ut&&ut.type==="date"&&(st=h.encodeDate(st))),Re?Qe("yanchor",ce.yanchor=zt(_e+Ue)):(Xe=function(gt){return zt(nt(gt)+Ue)},_t&&_t.type==="date"&&(Xe=h.encodeDate(Xe))),Qe("path",ce.path=_(Be,st,Xe))}else Ne?Qe("xanchor",ce.xanchor=Et(Ie+ot)):(Qe("x0",ce.x0=Et(be+ot)),Qe("x1",ce.x1=Et(Te+ot))),Re?Qe("yanchor",ce.yanchor=zt(_e+Ue)):(Qe("y0",ce.y0=zt(we+Ue)),Qe("y1",ce.y1=zt(Le+Ue)));ue.attr("d",f(ae,ce)),Ke(pe,ce),s(ae,de,ce,lt)}function qe(ot,Ue){if(Ye){var Ve=function(Kt){return Kt},st=Ve,Xe=Ve;Ne?Qe("xanchor",ce.xanchor=Et(Ie+ot)):(st=function(Kt){return Et(it(Kt)+ot)},ut&&ut.type==="date"&&(st=h.encodeDate(st))),Re?Qe("yanchor",ce.yanchor=zt(_e+Ue)):(Xe=function(Kt){return zt(nt(Kt)+Ue)},_t&&_t.type==="date"&&(Xe=h.encodeDate(Xe))),Qe("path",ce.path=_(Be,st,Xe))}else if(He){if(xe==="resize-over-start-point"){var gt=be+ot,yt=Re?we-Ue:we+Ue;Qe("x0",ce.x0=Ne?gt:Et(gt)),Qe("y0",ce.y0=Re?yt:zt(yt))}else if(xe==="resize-over-end-point"){var bt=Te+ot,dt=Re?Le-Ue:Le+Ue;Qe("x1",ce.x1=Ne?bt:Et(bt)),Qe("y1",ce.y1=Re?dt:zt(dt))}}else{var Lt=function(Kt){return xe.indexOf(Kt)!==-1},wt=Lt("n"),Ct=Lt("s"),Rt=Lt("w"),Dt=Lt("e"),Nt=wt?fe+Ue:fe,Xt=Ct?le+Ue:le,un=Rt?ye+ot:ye,qt=Dt?Oe+ot:Oe;Re&&(wt&&(Nt=fe-Ue),Ct&&(Xt=le-Ue)),(!Re&&Xt-Nt>Ce||Re&&Nt-Xt>Ce)&&(Qe(Ae,ce[Ae]=Re?Nt:zt(Nt)),Qe(Se,ce[Se]=Re?Xt:zt(Xt))),qt-un>Me&&(Qe(Pe,ce[Pe]=Ne?un:Et(un)),Qe(Fe,ce[Fe]=Ne?qt:Et(qt)))}ue.attr("d",f(ae,ce)),Ke(pe,ce),s(ae,de,ce,lt)}function Ke(ot,Ue){(Ne||Re)&&function(){var Ve=Ue.type!=="path",st=ot.selectAll(".visual-cue").data([0]);st.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var Xe=it(Ne?Ue.xanchor:t.midRange(Ve?[Ue.x0,Ue.x1]:h.extractPathCoords(Ue.path,u.paramIsX))),gt=nt(Re?Ue.yanchor:t.midRange(Ve?[Ue.y0,Ue.y1]:h.extractPathCoords(Ue.path,u.paramIsY)));if(Xe=h.roundPositionForSharpStrokeRendering(Xe,1),gt=h.roundPositionForSharpStrokeRendering(gt,1),Ne&&Re){var yt="M"+(Xe-1-1)+","+(gt-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";st.attr("d",yt)}else if(Ne){var bt="M"+(Xe-1-1)+","+(gt-9-1)+"v18 h2 v-18 Z";st.attr("d",bt)}else{var dt="M"+(Xe-9-1)+","+(gt-1-1)+"h18 v2 h-18 Z";st.attr("d",dt)}}()}function ft(ot){ot.selectAll(".visual-cue").remove()}o.init(Pt),Ft.node().onmousemove=Ze}(p,K,C,L,D,re):C.editable===!0&&K.style("pointer-events",G||i.opacity(V)*z<=.5?"stroke":"all");K.node().addEventListener("click",function(){return function(ae,ue){if(y(ae)){var ce=+ue.node().getAttribute("data-index");if(ce>=0){if(ce===ae._fullLayout._activeShapeIndex)return void A(ae);ae._fullLayout._activeShapeIndex=ce,ae._fullLayout._deactivateShape=A,T(ae)}}}(p,K)})}C._input&&C.visible===!0&&(C.layer==="above"?I(p._fullLayout._shapeUpperLayer):C.xref==="paper"||C.yref==="paper"?I(p._fullLayout._shapeLowerLayer):C.layer==="between"?I(R.shapelayerBetween):R._hadPlotinfo?I((R.mainplotinfo||R).shapelayer):I(p._fullLayout._shapeLowerLayer))}function w(p,L,M){var C=(M.xref+M.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");a.setClipUrl(p,C?"clip"+L._fullLayout._uid+C:null,L)}function _(p,L,M){return p.replace(u.segmentRE,function(C){var R=0,I=C.charAt(0),D=u.paramIsX[I],F=u.paramIsY[I],q=u.numParams[I];return I+C.substr(1).replace(u.paramRE,function(z){return R>=q||(D[R]?z=L(z):F[R]&&(z=M(z)),R++),z})})}function A(p){y(p)&&p._fullLayout._activeShapeIndex>=0&&(n(p),delete p._fullLayout._activeShapeIndex,T(p))}O.exports={draw:T,drawOne:m,eraseActiveShape:function(p){if(y(p)){n(p);var L=p._fullLayout._activeShapeIndex,M=(p.layout||{}).shapes||[];if(L<M.length){for(var C=[],R=0;R<M.length;R++)R!==L&&C.push(M[R]);return delete p._fullLayout._activeShapeIndex,x.call("_guiRelayout",p,{shapes:C})}}},drawLabel:s}},92872:function(O,S,e){var v=e(67824).overrideAll,x=e(45464),t=e(25376),b=e(98192).u,g=e(92880).extendFlat,c=e(21776).ye,s=e(97728);O.exports=v({newshape:{visible:g({},x.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:g({},x.legend,{}),legendgroup:g({},x.legendgroup,{}),legendgrouptitle:{text:g({},x.legendgrouptitle.text,{}),font:t({})},legendrank:g({},x.legendrank,{}),legendwidth:g({},x.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:g({},b,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:g({},x.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:c({newshape:!0},{keys:Object.keys(s)}),font:t({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},7e3:function(O){O.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},65144:function(O,S,e){var v=e(76308),x=e(3400);O.exports=function(t,b,g){if(g("newshape.visible"),g("newshape.name"),g("newshape.showlegend"),g("newshape.legend"),g("newshape.legendwidth"),g("newshape.legendgroup"),g("newshape.legendgrouptitle.text"),x.coerceFont(g,"newshape.legendgrouptitle.font"),g("newshape.legendrank"),g("newshape.drawdirection"),g("newshape.layer"),g("newshape.fillcolor"),g("newshape.fillrule"),g("newshape.opacity"),g("newshape.line.width")){var c=(t||{}).plot_bgcolor||"#FFF";g("newshape.line.color",v.contrast(c)),g("newshape.line.dash")}var s=t.dragmode==="drawline",n=g("newshape.label.text"),i=g("newshape.label.texttemplate");if(n||i){g("newshape.label.textangle");var a=g("newshape.label.textposition",s?"middle":"middle center");g("newshape.label.xanchor"),g("newshape.label.yanchor",function(r,o){return r?"bottom":o.indexOf("top")!==-1?"top":o.indexOf("bottom")!==-1?"bottom":"middle"}(s,a)),g("newshape.label.padding"),x.coerceFont(g,"newshape.label.font",b.font)}g("activeshape.fillcolor"),g("activeshape.opacity")}},9856:function(O,S,e){var v=e(21984),x=e(7e3),t=x.CIRCLE_SIDES,b=x.SQRT2,g=e(5840),c=g.p2r,s=g.r2p,n=[0,3,4,5,6,1,2],i=[0,3,4,1,2];function a(o,l){return Math.abs(o-l)<=1e-6}function r(o,l){var u=l[1]-o[1],h=l[2]-o[2];return Math.sqrt(u*u+h*h)}S.writePaths=function(o){var l=o.length;if(!l)return"M0,0Z";for(var u="",h=0;h<l;h++)for(var f=o[h].length,T=0;T<f;T++){var d=o[h][T][0];if(d==="Z")u+="Z";else for(var y=o[h][T].length,m=0;m<y;m++){var w=m;d==="Q"||d==="S"?w=i[m]:d==="C"&&(w=n[m]),u+=o[h][T][w],m>0&&m<y-1&&(u+=",")}}return u},S.readPaths=function(o,l,u,h){var f,T,d,y=v(o),m=[],w=-1,_=0,A=0,p=function(){T=_,d=A};p();for(var L=0;L<y.length;L++){var M,C,R,I,D=[],F=y[L][0],q=F;switch(F){case"M":m[++w]=[],_=+y[L][1],A=+y[L][2],D.push([q,_,A]),p();break;case"Q":case"S":M=+y[L][1],R=+y[L][2],_=+y[L][3],A=+y[L][4],D.push([q,_,A,M,R]);break;case"C":M=+y[L][1],R=+y[L][2],C=+y[L][3],I=+y[L][4],_=+y[L][5],A=+y[L][6],D.push([q,_,A,M,R,C,I]);break;case"T":case"L":_=+y[L][1],A=+y[L][2],D.push([q,_,A]);break;case"H":q="L",_=+y[L][1],D.push([q,_,A]);break;case"V":q="L",A=+y[L][1],D.push([q,_,A]);break;case"A":q="L";var z=+y[L][1],V=+y[L][2];+y[L][4]||(z=-z,V=-V);var X=_-z,j=A;for(f=1;f<=t/2;f++){var H=2*Math.PI*f/t;D.push([q,X+z*Math.cos(H),j+V*Math.sin(H)])}break;case"Z":_===T&&A===d||(_=T,A=d,D.push([q,_,A]))}for(var G=(u||{}).domain,ie=l._fullLayout._size,re=u&&u.xsizemode==="pixel",te=u&&u.ysizemode==="pixel",K=h===!1,J=0;J<D.length;J++){for(f=0;f+2<7;f+=2){var $=D[J][f+1],ae=D[J][f+2];$!==void 0&&ae!==void 0&&(_=$,A=ae,u&&(u.xaxis&&u.xaxis.p2r?(K&&($-=u.xaxis._offset),$=re?s(u.xaxis,u.xanchor)+$:c(u.xaxis,$)):(K&&($-=ie.l),G?$=G.x[0]+$/ie.w:$/=ie.w),u.yaxis&&u.yaxis.p2r?(K&&(ae-=u.yaxis._offset),ae=te?s(u.yaxis,u.yanchor)-ae:c(u.yaxis,ae)):(K&&(ae-=ie.t),ae=G?G.y[1]-ae/ie.h:1-ae/ie.h)),D[J][f+1]=$,D[J][f+2]=ae)}m[w].push(D[J].slice())}}return m},S.pointsOnRectangle=function(o){if(o.length!==5)return!1;for(var l=1;l<3;l++)if(!a(o[0][l]-o[1][l],o[3][l]-o[2][l])||!a(o[0][l]-o[3][l],o[1][l]-o[2][l]))return!1;return!(!a(o[0][1],o[1][1])&&!a(o[0][1],o[3][1])||!(r(o[0],o[1])*r(o[0],o[3])))},S.pointsOnEllipse=function(o){var l=o.length;if(l!==t+1)return!1;l=t;for(var u=0;u<l;u++){var h=(2*l-u)%l,f=(l/2+h)%l,T=(l/2+u)%l;if(!a(r(o[u],o[T]),r(o[h],o[f])))return!1}return!0},S.handleEllipse=function(o,l,u){if(!o)return[l,u];var h=S.ellipseOver({x0:l[0],y0:l[1],x1:u[0],y1:u[1]}),f=(h.x1+h.x0)/2,T=(h.y1+h.y0)/2,d=(h.x1-h.x0)/2,y=(h.y1-h.y0)/2;d||(d=y/=b),y||(y=d/=b);for(var m=[],w=0;w<t;w++){var _=2*w*Math.PI/t;m.push([f+d*Math.cos(_),T+y*Math.sin(_)])}return m},S.ellipseOver=function(o){var l=o.x0,u=o.y0,h=o.x1,f=o.y1,T=h-l,d=f-u,y=((l-=T)+h)/2,m=((u-=d)+f)/2;return{x0:y-(T*=b),y0:m-(d*=b),x1:y+T,y1:m+d}},S.fixDatesForPaths=function(o,l,u){var h=l.type==="date",f=u.type==="date";if(!h&&!f)return o;for(var T=0;T<o.length;T++)for(var d=0;d<o[T].length;d++)for(var y=0;y+2<o[T][d].length;y+=2)h&&(o[T][d][y+1]=o[T][d][y+1].replace(" ","_")),f&&(o[T][d][y+2]=o[T][d][y+2].replace(" ","_"));return o}},93940:function(O,S,e){var v=e(72760),x=v.drawMode,t=v.openMode,b=e(7e3),g=b.i000,c=b.i090,s=b.i180,n=b.i270,i=b.cos45,a=b.sin45,r=e(5840),o=r.p2r,l=r.r2p,u=e(1936).clearOutline,h=e(9856),f=h.readPaths,T=h.writePaths,d=h.ellipseOver,y=h.fixDatesForPaths;function m(w,_,A){var p,L=w[0][0],M=_.gd,C=L.getAttribute("d"),R=M._fullLayout.newshape,I=_.plotinfo,D=_.isActiveShape,F=I.xaxis,q=I.yaxis,z=!!I.domain||!I.xaxis,V=!!I.domain||!I.yaxis,X=t(A),j=f(C,M,I,D),H={editable:!0,visible:R.visible,name:R.name,showlegend:R.showlegend,legend:R.legend,legendwidth:R.legendwidth,legendgroup:R.legendgroup,legendgrouptitle:{text:R.legendgrouptitle.text,font:R.legendgrouptitle.font},legendrank:R.legendrank,label:R.label,xref:z?"paper":F._id,yref:V?"paper":q._id,layer:R.layer,opacity:R.opacity,line:{color:R.line.color,width:R.line.width,dash:R.line.dash}};if(X||(H.fillcolor=R.fillcolor,H.fillrule=R.fillrule),j.length===1&&(p=j[0]),p&&p.length===5&&A==="drawrect")H.type="rect",H.x0=p[0][1],H.y0=p[0][2],H.x1=p[2][1],H.y1=p[2][2];else if(p&&A==="drawline")H.type="line",H.x0=p[0][1],H.y0=p[0][2],H.x1=p[1][1],H.y1=p[1][2];else if(p&&A==="drawcircle"){H.type="circle";var G=p[g][1],ie=p[c][1],re=p[s][1],te=p[n][1],K=p[g][2],J=p[c][2],$=p[s][2],ae=p[n][2],ue=I.xaxis&&(I.xaxis.type==="date"||I.xaxis.type==="log"),ce=I.yaxis&&(I.yaxis.type==="date"||I.yaxis.type==="log");ue&&(G=l(I.xaxis,G),ie=l(I.xaxis,ie),re=l(I.xaxis,re),te=l(I.xaxis,te)),ce&&(K=l(I.yaxis,K),J=l(I.yaxis,J),$=l(I.yaxis,$),ae=l(I.yaxis,ae));var de=(ie+te)/2,pe=(K+$)/2,me=d({x0:de,y0:pe,x1:de+(te-ie+re-G)/2*i,y1:pe+(ae-J+$-K)/2*a});ue&&(me.x0=o(I.xaxis,me.x0),me.x1=o(I.xaxis,me.x1)),ce&&(me.y0=o(I.yaxis,me.y0),me.y1=o(I.yaxis,me.y1)),H.x0=me.x0,H.y0=me.y0,H.x1=me.x1,H.y1=me.y1}else H.type="path",F&&q&&y(j,F,q),H.path=T(j),p=null;return H}O.exports={newShapes:function(w,_){if(w.length&&w[0][0]){var A=_.gd,p=_.isActiveShape,L=_.dragmode,M=(A.layout||{}).shapes||[];if(!x(L)&&p!==void 0){var C=A._fullLayout._activeShapeIndex;if(C<M.length)switch(A._fullLayout.shapes[C].type){case"rect":L="drawrect";break;case"circle":L="drawcircle";break;case"line":L="drawline";break;case"path":var R=M[C].path||"";L=R[R.length-1]==="Z"?"drawclosedpath":"drawopenpath"}}var I=m(w,_,L);u(A);for(var D=_.editHelpers,F=(D||{}).modifyItem,q=[],z=0;z<M.length;z++){var V=A._fullLayout.shapes[z];if(q[z]=V._input,p!==void 0&&z===A._fullLayout._activeShapeIndex){var X=I;switch(V.type){case"line":case"rect":case"circle":F("x0",X.x0),F("x1",X.x1),F("y0",X.y0),F("y1",X.y1);break;case"path":F("path",X.path)}}}return p===void 0?(q.push(I),q):D?D.getUpdateObj():{}}},createShapeObj:m}},1936:function(O){O.exports={clearOutlineControllers:function(S){var e=S._fullLayout._zoomlayer;e&&e.selectAll(".outline-controllers").remove()},clearOutline:function(S){var e=S._fullLayout._zoomlayer;e&&e.selectAll(".select-outline").remove(),S._fullLayout._outlining=!1}}},65152:function(O,S,e){var v=e(85448),x=e(3400),t=e(54460);S.rangeToShapePosition=function(b){return b.type==="log"?b.r2d:function(g){return g}},S.shapePositionToRange=function(b){return b.type==="log"?b.d2r:function(g){return g}},S.decodeDate=function(b){return function(g){return g.replace&&(g=g.replace("_"," ")),b(g)}},S.encodeDate=function(b){return function(g){return b(g).replace(" ","_")}},S.extractPathCoords=function(b,g,c){var s=[];return b.match(v.segmentRE).forEach(function(n){var i=g[n.charAt(0)].drawn;if(i!==void 0){var a=n.substr(1).match(v.paramRE);if(a&&!(a.length<i)){var r=a[i],o=c?r:x.cleanNumber(r);s.push(o)}}}),s},S.getDataToPixel=function(b,g,c,s){var n,i=b._fullLayout._size;if(g)if(s==="domain")n=function(r){return g._length*(c?1-r:r)+g._offset};else{var a=S.shapePositionToRange(g);n=function(r){return g._offset+g.r2p(a(r,!0))},g.type==="date"&&(n=S.decodeDate(n))}else n=c?function(r){return i.t+i.h*(1-r)}:function(r){return i.l+i.w*r};return n},S.getPixelToData=function(b,g,c,s){var n,i=b._fullLayout._size;if(g)if(s==="domain")n=function(r){var o=(r-g._offset)/g._length;return c?1-o:o};else{var a=S.rangeToShapePosition(g);n=function(r){return a(g.p2r(r-g._offset))}}else n=c?function(r){return 1-(r-i.t)/i.h}:function(r){return(r-i.l)/i.w};return n},S.roundPositionForSharpStrokeRendering=function(b,g){var c=Math.round(g%2)===1,s=Math.round(b);return c?s+.5:s},S.makeShapesOptionsAndPlotinfo=function(b,g){var c=b._fullLayout.shapes[g]||{},s=b._fullLayout._plots[c.xref+c.yref];return s?s._hadPlotinfo=!0:(s={},c.xref&&c.xref!=="paper"&&(s.xaxis=b._fullLayout[c.xref+"axis"]),c.yref&&c.yref!=="paper"&&(s.yaxis=b._fullLayout[c.yref+"axis"])),s.xsizemode=c.xsizemode,s.ysizemode=c.ysizemode,s.xanchor=c.xanchor,s.yanchor=c.yanchor,{options:c,plotinfo:s}},S.makeSelectionsOptionsAndPlotinfo=function(b,g){var c=b._fullLayout.selections[g]||{},s=b._fullLayout._plots[c.xref+c.yref];return s?s._hadPlotinfo=!0:(s={},c.xref&&(s.xaxis=b._fullLayout[c.xref+"axis"]),c.yref&&(s.yaxis=b._fullLayout[c.yref+"axis"])),{options:c,plotinfo:s}},S.getPathString=function(b,g){var c,s,n,i,a,r,o,l,u=g.type,h=t.getRefType(g.xref),f=t.getRefType(g.yref),T=t.getFromId(b,g.xref),d=t.getFromId(b,g.yref),y=b._fullLayout._size;if(T?h==="domain"?s=function(R){return T._offset+T._length*R}:(c=S.shapePositionToRange(T),s=function(R){return T._offset+T.r2p(c(R,!0))}):s=function(R){return y.l+y.w*R},d?f==="domain"?i=function(R){return d._offset+d._length*(1-R)}:(n=S.shapePositionToRange(d),i=function(R){return d._offset+d.r2p(n(R,!0))}):i=function(R){return y.t+y.h*(1-R)},u==="path")return T&&T.type==="date"&&(s=S.decodeDate(s)),d&&d.type==="date"&&(i=S.decodeDate(i)),function(R,I,D){var F=R.path,q=R.xsizemode,z=R.ysizemode,V=R.xanchor,X=R.yanchor;return F.replace(v.segmentRE,function(j){var H=0,G=j.charAt(0),ie=v.paramIsX[G],re=v.paramIsY[G],te=v.numParams[G],K=j.substr(1).replace(v.paramRE,function(J){return ie[H]?J=q==="pixel"?I(V)+Number(J):I(J):re[H]&&(J=z==="pixel"?D(X)-Number(J):D(J)),++H>te&&(J="X"),J});return H>te&&(K=K.replace(/[\s,]*X.*/,""),x.log("Ignoring extra params in segment "+j)),G+K})}(g,s,i);if(g.xsizemode==="pixel"){var m=s(g.xanchor);a=m+g.x0,r=m+g.x1}else a=s(g.x0),r=s(g.x1);if(g.ysizemode==="pixel"){var w=i(g.yanchor);o=w-g.y0,l=w-g.y1}else o=i(g.y0),l=i(g.y1);if(u==="line")return"M"+a+","+o+"L"+r+","+l;if(u==="rect")return"M"+a+","+o+"H"+r+"V"+l+"H"+a+"Z";var _=(a+r)/2,A=(o+l)/2,p=Math.abs(_-a),L=Math.abs(A-o),M="A"+p+","+L,C=_+p+","+A;return"M"+C+M+" 0 1,1 "+_+","+(A-L)+M+" 0 0,1 "+C+"Z"}},41592:function(O,S,e){var v=e(4016);O.exports={moduleType:"component",name:"shapes",layoutAttributes:e(46056),supplyLayoutDefaults:e(43712),supplyDrawNewShapeDefaults:e(65144),includeBasePlot:e(36632)("shapes"),calcAutorange:e(96084),draw:v.draw,drawOne:v.drawOne}},97728:function(O){function S(t,b){return b?b.d2l(t):t}function e(t,b){return b?b.l2d(t):t}function v(t,b){return S(t.x1,b)-S(t.x0,b)}function x(t,b,g){return S(t.y1,g)-S(t.y0,g)}O.exports={x0:function(t){return t.x0},x1:function(t){return t.x1},y0:function(t){return t.y0},y1:function(t){return t.y1},slope:function(t,b,g){return t.type!=="line"?void 0:x(t,0,g)/v(t,b)},dx:v,dy:x,width:function(t,b){return Math.abs(v(t,b))},height:function(t,b,g){return Math.abs(x(t,0,g))},length:function(t,b,g){return t.type!=="line"?void 0:Math.sqrt(Math.pow(v(t,b),2)+Math.pow(x(t,0,g),2))},xcenter:function(t,b){return e((S(t.x1,b)+S(t.x0,b))/2,b)},ycenter:function(t,b,g){return e((S(t.y1,g)+S(t.y0,g))/2,g)}}},89861:function(O,S,e){var v=e(25376),x=e(66741),t=e(92880).extendDeepAll,b=e(67824).overrideAll,g=e(85656),c=e(31780).templatedArray,s=e(60876),n=c("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});O.exports=b(c("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:n,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:t(x({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:g.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:v({})},font:v({}),activebgcolor:{valType:"color",dflt:s.gripBgActiveColor},bgcolor:{valType:"color",dflt:s.railBgColor},bordercolor:{valType:"color",dflt:s.railBorderColor},borderwidth:{valType:"number",min:0,dflt:s.railBorderWidth},ticklen:{valType:"number",min:0,dflt:s.tickLength},tickcolor:{valType:"color",dflt:s.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:s.minorTickLength}}),"arraydraw","from-root")},60876:function(O){O.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},8132:function(O,S,e){var v=e(3400),x=e(51272),t=e(89861),b=e(60876).name,g=t.steps;function c(n,i,a){function r(f,T){return v.coerce(n,i,t,f,T)}for(var o=x(n,i,{name:"steps",handleItemDefaults:s}),l=0,u=0;u<o.length;u++)o[u].visible&&l++;if(l<2?i.visible=!1:r("visible")){i._stepCount=l;var h=i._visibleSteps=v.filterVisible(o);(o[r("active")]||{}).visible||(i.active=h[0]._index),r("x"),r("y"),v.noneOrAll(n,i,["x","y"]),r("xanchor"),r("yanchor"),r("len"),r("lenmode"),r("pad.t"),r("pad.r"),r("pad.b"),r("pad.l"),v.coerceFont(r,"font",a.font),r("currentvalue.visible")&&(r("currentvalue.xanchor"),r("currentvalue.prefix"),r("currentvalue.suffix"),r("currentvalue.offset"),v.coerceFont(r,"currentvalue.font",i.font)),r("transition.duration"),r("transition.easing"),r("bgcolor"),r("activebgcolor"),r("bordercolor"),r("borderwidth"),r("ticklen"),r("tickwidth"),r("tickcolor"),r("minorticklen")}}function s(n,i){function a(o,l){return v.coerce(n,i,g,o,l)}if(n.method==="skip"||Array.isArray(n.args)?a("visible"):i.visible=!1){a("method"),a("args");var r=a("label","step-"+i._index);a("value",r),a("execute")}}O.exports=function(n,i){x(n,i,{name:b,handleItemDefaults:c})}},79664:function(O,S,e){var v=e(33428),x=e(7316),t=e(76308),b=e(43616),g=e(3400),c=g.strTranslate,s=e(72736),n=e(31780).arrayEditor,i=e(60876),a=e(84284),r=a.LINE_SPACING,o=a.FROM_TL,l=a.FROM_BR;function u(D){return i.autoMarginIdRoot+D._index}function h(D){return D._index}function f(D,F){var q=b.tester.selectAll("g."+i.labelGroupClass).data(F._visibleSteps);q.enter().append("g").classed(i.labelGroupClass,!0);var z=0,V=0;q.each(function(J){var $=y(v.select(this),{step:J},F).node();if($){var ae=b.bBox($);V=Math.max(V,ae.height),z=Math.max(z,ae.width)}}),q.remove();var X=F._dims={};X.inputAreaWidth=Math.max(i.railWidth,i.gripHeight);var j=D._fullLayout._size;X.lx=j.l+j.w*F.x,X.ly=j.t+j.h*(1-F.y),F.lenmode==="fraction"?X.outerLength=Math.round(j.w*F.len):X.outerLength=F.len,X.inputAreaStart=0,X.inputAreaLength=Math.round(X.outerLength-F.pad.l-F.pad.r);var H=(X.inputAreaLength-2*i.stepInset)/(F._stepCount-1),G=z+i.labelPadding;if(X.labelStride=Math.max(1,Math.ceil(G/H)),X.labelHeight=V,X.currentValueMaxWidth=0,X.currentValueHeight=0,X.currentValueTotalHeight=0,X.currentValueMaxLines=1,F.currentvalue.visible){var ie=b.tester.append("g");q.each(function(J){var $=T(ie,F,J.label),ae=$.node()&&b.bBox($.node())||{width:0,height:0},ue=s.lineCount($);X.currentValueMaxWidth=Math.max(X.currentValueMaxWidth,Math.ceil(ae.width)),X.currentValueHeight=Math.max(X.currentValueHeight,Math.ceil(ae.height)),X.currentValueMaxLines=Math.max(X.currentValueMaxLines,ue)}),X.currentValueTotalHeight=X.currentValueHeight+F.currentvalue.offset,ie.remove()}X.height=X.currentValueTotalHeight+i.tickOffset+F.ticklen+i.labelOffset+X.labelHeight+F.pad.t+F.pad.b;var re="left";g.isRightAnchor(F)&&(X.lx-=X.outerLength,re="right"),g.isCenterAnchor(F)&&(X.lx-=X.outerLength/2,re="center");var te="top";g.isBottomAnchor(F)&&(X.ly-=X.height,te="bottom"),g.isMiddleAnchor(F)&&(X.ly-=X.height/2,te="middle"),X.outerLength=Math.ceil(X.outerLength),X.height=Math.ceil(X.height),X.lx=Math.round(X.lx),X.ly=Math.round(X.ly);var K={y:F.y,b:X.height*l[te],t:X.height*o[te]};F.lenmode==="fraction"?(K.l=0,K.xl=F.x-F.len*o[re],K.r=0,K.xr=F.x+F.len*l[re]):(K.x=F.x,K.l=X.outerLength*o[re],K.r=X.outerLength*l[re]),x.autoMargin(D,u(F),K)}function T(D,F,q){if(F.currentvalue.visible){var z,V,X=F._dims;switch(F.currentvalue.xanchor){case"right":z=X.inputAreaLength-i.currentValueInset-X.currentValueMaxWidth,V="left";break;case"center":z=.5*X.inputAreaLength,V="middle";break;default:z=i.currentValueInset,V="left"}var j=g.ensureSingle(D,"text",i.labelClass,function(K){K.attr({"text-anchor":V,"data-notex":1})}),H=F.currentvalue.prefix?F.currentvalue.prefix:"";if(typeof q=="string")H+=q;else{var G=F.steps[F.active].label,ie=F._gd._fullLayout._meta;ie&&(G=g.templateString(G,ie)),H+=G}F.currentvalue.suffix&&(H+=F.currentvalue.suffix),j.call(b.font,F.currentvalue.font).text(H).call(s.convertToTspans,F._gd);var re=s.lineCount(j),te=(X.currentValueMaxLines+1-re)*F.currentvalue.font.size*r;return s.positionText(j,z,te),j}}function d(D,F,q){g.ensureSingle(D,"rect",i.gripRectClass,function(z){z.call(A,F,D,q).style("pointer-events","all")}).attr({width:i.gripWidth,height:i.gripHeight,rx:i.gripRadius,ry:i.gripRadius}).call(t.stroke,q.bordercolor).call(t.fill,q.bgcolor).style("stroke-width",q.borderwidth+"px")}function y(D,F,q){var z=g.ensureSingle(D,"text",i.labelClass,function(j){j.attr({"text-anchor":"middle","data-notex":1})}),V=F.step.label,X=q._gd._fullLayout._meta;return X&&(V=g.templateString(V,X)),z.call(b.font,q.font).text(V).call(s.convertToTspans,q._gd),z}function m(D,F){var q=g.ensureSingle(D,"g",i.labelsClass),z=F._dims,V=q.selectAll("g."+i.labelGroupClass).data(z.labelSteps);V.enter().append("g").classed(i.labelGroupClass,!0),V.exit().remove(),V.each(function(X){var j=v.select(this);j.call(y,X,F),b.setTranslate(j,M(F,X.fraction),i.tickOffset+F.ticklen+F.font.size*r+i.labelOffset+z.currentValueTotalHeight)})}function w(D,F,q,z,V){var X=Math.round(z*(q._stepCount-1)),j=q._visibleSteps[X]._index;j!==q.active&&_(D,F,q,j,!0,V)}function _(D,F,q,z,V,X){var j=q.active;q.active=z,n(D.layout,i.name,q).applyUpdate("active",z);var H=q.steps[q.active];F.call(L,q,X),F.call(T,q),D.emit("plotly_sliderchange",{slider:q,step:q.steps[q.active],interaction:V,previousActive:j}),H&&H.method&&V&&(F._nextMethod?(F._nextMethod.step=H,F._nextMethod.doCallback=V,F._nextMethod.doTransition=X):(F._nextMethod={step:H,doCallback:V,doTransition:X},F._nextMethodRaf=window.requestAnimationFrame(function(){var G=F._nextMethod.step;G.method&&(G.execute&&x.executeAPICommand(D,G.method,G.args),F._nextMethod=null,F._nextMethodRaf=null)})))}function A(D,F,q){if(!F._context.staticPlot){var z=q.node(),V=v.select(F);D.on("mousedown",j),D.on("touchstart",j)}function X(){return q.data()[0]}function j(){var H=X();F.emit("plotly_sliderstart",{slider:H});var G=q.select("."+i.gripRectClass);v.event.stopPropagation(),v.event.preventDefault(),G.call(t.fill,H.activebgcolor);var ie=C(H,v.mouse(z)[0]);function re(){var K=X(),J=C(K,v.mouse(z)[0]);w(F,q,K,J,!1)}function te(){var K=X();K._dragging=!1,G.call(t.fill,K.bgcolor),V.on("mouseup",null),V.on("mousemove",null),V.on("touchend",null),V.on("touchmove",null),F.emit("plotly_sliderend",{slider:K,step:K.steps[K.active]})}w(F,q,H,ie,!0),H._dragging=!0,V.on("mousemove",re),V.on("touchmove",re),V.on("mouseup",te),V.on("touchend",te)}}function p(D,F){var q=D.selectAll("rect."+i.tickRectClass).data(F._visibleSteps),z=F._dims;q.enter().append("rect").classed(i.tickRectClass,!0),q.exit().remove(),q.attr({width:F.tickwidth+"px","shape-rendering":"crispEdges"}),q.each(function(V,X){var j=X%z.labelStride==0,H=v.select(this);H.attr({height:j?F.ticklen:F.minorticklen}).call(t.fill,F.tickcolor),b.setTranslate(H,M(F,X/(F._stepCount-1))-.5*F.tickwidth,(j?i.tickOffset:i.minorTickOffset)+z.currentValueTotalHeight)})}function L(D,F,q){for(var z=D.select("rect."+i.gripRectClass),V=0,X=0;X<F._stepCount;X++)if(F._visibleSteps[X]._index===F.active){V=X;break}var j=M(F,V/(F._stepCount-1));if(!F._invokingCommand){var H=z;q&&F.transition.duration>0&&(H=H.transition().duration(F.transition.duration).ease(F.transition.easing)),H.attr("transform",c(j-.5*i.gripWidth,F._dims.currentValueTotalHeight))}}function M(D,F){var q=D._dims;return q.inputAreaStart+i.stepInset+(q.inputAreaLength-2*i.stepInset)*Math.min(1,Math.max(0,F))}function C(D,F){var q=D._dims;return Math.min(1,Math.max(0,(F-i.stepInset-q.inputAreaStart)/(q.inputAreaLength-2*i.stepInset-2*q.inputAreaStart)))}function R(D,F,q){var z=q._dims,V=g.ensureSingle(D,"rect",i.railTouchRectClass,function(X){X.call(A,F,D,q).style("pointer-events","all")});V.attr({width:z.inputAreaLength,height:Math.max(z.inputAreaWidth,i.tickOffset+q.ticklen+z.labelHeight)}).call(t.fill,q.bgcolor).attr("opacity",0),b.setTranslate(V,0,z.currentValueTotalHeight)}function I(D,F){var q=F._dims,z=q.inputAreaLength-2*i.railInset,V=g.ensureSingle(D,"rect",i.railRectClass);V.attr({width:z,height:i.railWidth,rx:i.railRadius,ry:i.railRadius,"shape-rendering":"crispEdges"}).call(t.stroke,F.bordercolor).call(t.fill,F.bgcolor).style("stroke-width",F.borderwidth+"px"),b.setTranslate(V,i.railInset,.5*(q.inputAreaWidth-i.railWidth)+q.currentValueTotalHeight)}O.exports=function(D){var F=D._context.staticPlot,q=D._fullLayout,z=function(ie,re){for(var te=ie[i.name],K=[],J=0;J<te.length;J++){var $=te[J];$.visible&&($._gd=re,K.push($))}return K}(q,D),V=q._infolayer.selectAll("g."+i.containerClassName).data(z.length>0?[0]:[]);function X(ie){ie._commandObserver&&(ie._commandObserver.remove(),delete ie._commandObserver),x.autoMargin(D,u(ie))}if(V.enter().append("g").classed(i.containerClassName,!0).style("cursor",F?null:"ew-resize"),V.exit().each(function(){v.select(this).selectAll("g."+i.groupClassName).each(X)}).remove(),z.length!==0){var j=V.selectAll("g."+i.groupClassName).data(z,h);j.enter().append("g").classed(i.groupClassName,!0),j.exit().each(X).remove();for(var H=0;H<z.length;H++){var G=z[H];f(D,G)}j.each(function(ie){var re=v.select(this);(function(te){var K=te._dims;K.labelSteps=[];for(var J=te._stepCount,$=0;$<J;$+=K.labelStride)K.labelSteps.push({fraction:$/(J-1),step:te._visibleSteps[$]})})(ie),x.manageCommandObserver(D,ie,ie._visibleSteps,function(te){var K=re.data()[0];K.active!==te.index&&(K._dragging||_(D,re,K,te.index,!1,!0))}),function(te,K,J){(J.steps[J.active]||{}).visible||(J.active=J._visibleSteps[0]._index),K.call(T,J).call(I,J).call(m,J).call(p,J).call(R,te,J).call(d,te,J);var $=J._dims;b.setTranslate(K,$.lx+J.pad.l,$.ly+J.pad.t),K.call(L,J,!1),K.call(T,J)}(D,v.select(this),ie)})}}},97544:function(O,S,e){var v=e(60876);O.exports={moduleType:"component",name:v.name,layoutAttributes:e(89861),supplyLayoutDefaults:e(8132),draw:e(79664)}},81668:function(O,S,e){var v=e(33428),x=e(38248),t=e(7316),b=e(24040),g=e(3400),c=g.strTranslate,s=e(43616),n=e(76308),i=e(72736),a=e(13448),r=e(84284).OPPOSITE_SIDE,o=/ [XY][0-9]* /;O.exports={draw:function(l,u,h){var f,T=h.propContainer,d=h.propName,y=h.placeholder,m=h.traceIndex,w=h.avoid||{},_=h.attributes,A=h.transform,p=h.containerGroup,L=l._fullLayout,M=1,C=!1,R=T.title,I=(R&&R.text?R.text:"").trim(),D=R&&R.font?R.font:{},F=D.family,q=D.size,z=D.color,V=D.weight,X=D.style,j=D.variant,H=D.textcase,G=D.lineposition,ie=D.shadow;d==="title.text"?f="titleText":d.indexOf("axis")!==-1?f="axisTitleText":d.indexOf(!0)&&(f="colorbarTitleText");var re=l._context.edits[f];I===""?M=0:I.replace(o," % ")===y.replace(o," % ")&&(M=.2,C=!0,re||(I="")),h._meta?I=g.templateString(I,h._meta):L._meta&&(I=g.templateString(I,L._meta));var te,K=I||re;p||(p=g.ensureSingle(L._infolayer,"g","g-"+u),te=L._hColorbarMoveTitle);var J=p.selectAll("text").data(K?[0]:[]);if(J.enter().append("text"),J.text(I).attr("class",u),J.exit().remove(),!K)return p;function $(ce){g.syncOrAsync([ae,ue],ce)}function ae(ce){var de;return!A&&te&&(A={}),A?(de="",A.rotate&&(de+="rotate("+[A.rotate,_.x,_.y]+")"),(A.offset||te)&&(de+=c(0,(A.offset||0)-(te||0)))):de=null,ce.attr("transform",de),ce.style("opacity",M*n.opacity(z)).call(s.font,{color:n.rgb(z),size:v.round(q,2),family:F,weight:V,style:X,variant:j,textcase:H,shadow:ie,lineposition:G}).attr(_).call(i.convertToTspans,l),t.previousPromises(l)}function ue(ce){var de=v.select(ce.node().parentNode);if(w&&w.selection&&w.side&&I){de.attr("transform",null);var pe=r[w.side],me=w.side==="left"||w.side==="top"?-1:1,be=x(w.pad)?w.pad:2,we=s.bBox(de.node()),Te={t:0,b:0,l:0,r:0},Le=l._fullLayout._reservedMargin;for(var Ie in Le)for(var _e in Le[Ie]){var fe=Le[Ie][_e];Te[_e]=Math.max(Te[_e],fe)}var le={left:Te.l,top:Te.t,right:L.width-Te.r,bottom:L.height-Te.b},ye=w.maxShift||me*(le[w.side]-we[w.side]),Oe=0;if(ye<0)Oe=ye;else{var Ae=w.offsetLeft||0,Se=w.offsetTop||0;we.left-=Ae,we.right-=Ae,we.top-=Se,we.bottom-=Se,w.selection.each(function(){var Fe=s.bBox(this);g.bBoxIntersect(we,Fe,be)&&(Oe=Math.max(Oe,me*(Fe[w.side]-we[pe])+be))}),Oe=Math.min(ye,Oe),T._titleScoot=Math.abs(Oe)}if(Oe>0||ye<0){var Pe={left:[-Oe,0],right:[Oe,0],top:[0,-Oe],bottom:[0,Oe]}[w.side];de.attr("transform",c(Pe[0],Pe[1]))}}}return J.call($),re&&(I?J.on(".opacity",null):(M=0,C=!0,J.text(y).on("mouseover.opacity",function(){v.select(this).transition().duration(a.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){v.select(this).transition().duration(a.HIDE_PLACEHOLDER).style("opacity",0)})),J.call(i.makeEditable,{gd:l}).on("edit",function(ce){m!==void 0?b.call("_guiRestyle",l,d,ce,m):b.call("_guiRelayout",l,d,ce)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call($)}).on("input",function(ce){this.text(ce||" ").call(i.positionText,_.x,_.y)})),J.classed("js-placeholder",C),p}}},88444:function(O,S,e){var v=e(25376),x=e(22548),t=e(92880).extendFlat,b=e(67824).overrideAll,g=e(66741),c=e(31780).templatedArray,s=c("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});O.exports=b(c("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:s,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:t(g({editType:"arraydraw"}),{}),font:v({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:x.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},73712:function(O){O.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}},91384:function(O,S,e){var v=e(3400),x=e(51272),t=e(88444),b=e(73712).name,g=t.buttons;function c(n,i,a){function r(o,l){return v.coerce(n,i,t,o,l)}r("visible",x(n,i,{name:"buttons",handleItemDefaults:s}).length>0)&&(r("active"),r("direction"),r("type"),r("showactive"),r("x"),r("y"),v.noneOrAll(n,i,["x","y"]),r("xanchor"),r("yanchor"),r("pad.t"),r("pad.r"),r("pad.b"),r("pad.l"),v.coerceFont(r,"font",a.font),r("bgcolor",a.paper_bgcolor),r("bordercolor"),r("borderwidth"))}function s(n,i){function a(r,o){return v.coerce(n,i,g,r,o)}a("visible",n.method==="skip"||Array.isArray(n.args))&&(a("method"),a("args"),a("args2"),a("label"),a("execute"))}O.exports=function(n,i){x(n,i,{name:b,handleItemDefaults:c})}},14420:function(O,S,e){var v=e(33428),x=e(7316),t=e(76308),b=e(43616),g=e(3400),c=e(72736),s=e(31780).arrayEditor,n=e(84284).LINE_SPACING,i=e(73712),a=e(37400);function r(M){return M._index}function o(M,C){return+M.attr(i.menuIndexAttrName)===C._index}function l(M,C,R,I,D,F,q,z){C.active=q,s(M.layout,i.name,C).applyUpdate("active",q),C.type==="buttons"?h(M,I,null,null,C):C.type==="dropdown"&&(D.attr(i.menuIndexAttrName,"-1"),u(M,I,D,F,C),z||h(M,I,D,F,C))}function u(M,C,R,I,D){var F=g.ensureSingle(C,"g",i.headerClassName,function(H){H.style("pointer-events","all")}),q=D._dims,z=D.active,V=D.buttons[z]||i.blankHeaderOpts,X={y:D.pad.t,yPad:0,x:D.pad.l,xPad:0,index:0},j={width:q.headerWidth,height:q.headerHeight};F.call(f,D,V,M).call(p,D,X,j),g.ensureSingle(C,"text",i.headerArrowClassName,function(H){H.attr("text-anchor","end").call(b.font,D.font).text(i.arrowSymbol[D.direction])}).attr({x:q.headerWidth-i.arrowOffsetX+D.pad.l,y:q.headerHeight/2+i.textOffsetY+D.pad.t}),F.on("click",function(){R.call(L,String(o(R,D)?-1:D._index)),h(M,C,R,I,D)}),F.on("mouseover",function(){F.call(m)}),F.on("mouseout",function(){F.call(w,D)}),b.setTranslate(C,q.lx,q.ly)}function h(M,C,R,I,D){R||(R=C).attr("pointer-events","all");var F=function(K){return+K.attr(i.menuIndexAttrName)==-1}(R)&&D.type!=="buttons"?[]:D.buttons,q=D.type==="dropdown"?i.dropdownButtonClassName:i.buttonClassName,z=R.selectAll("g."+q).data(g.filterVisible(F)),V=z.enter().append("g").classed(q,!0),X=z.exit();D.type==="dropdown"?(V.attr("opacity","0").transition().attr("opacity","1"),X.transition().attr("opacity","0").remove()):X.remove();var j=0,H=0,G=D._dims,ie=["up","down"].indexOf(D.direction)!==-1;D.type==="dropdown"&&(ie?H=G.headerHeight+i.gapButtonHeader:j=G.headerWidth+i.gapButtonHeader),D.type==="dropdown"&&D.direction==="up"&&(H=-i.gapButtonHeader+i.gapButton-G.openHeight),D.type==="dropdown"&&D.direction==="left"&&(j=-i.gapButtonHeader+i.gapButton-G.openWidth);var re={x:G.lx+j+D.pad.l,y:G.ly+H+D.pad.t,yPad:i.gapButton,xPad:i.gapButton,index:0},te={l:re.x+D.borderwidth,t:re.y+D.borderwidth};z.each(function(K,J){var $=v.select(this);$.call(f,D,K,M).call(p,D,re),$.on("click",function(){v.event.defaultPrevented||(K.execute&&(K.args2&&D.active===J?(l(M,D,0,C,R,I,-1),x.executeAPICommand(M,K.method,K.args2)):(l(M,D,0,C,R,I,J),x.executeAPICommand(M,K.method,K.args))),M.emit("plotly_buttonclicked",{menu:D,button:K,active:D.active}))}),$.on("mouseover",function(){$.call(m)}),$.on("mouseout",function(){$.call(w,D),z.call(y,D)})}),z.call(y,D),ie?(te.w=Math.max(G.openWidth,G.headerWidth),te.h=re.y-te.t):(te.w=re.x-te.l,te.h=Math.max(G.openHeight,G.headerHeight)),te.direction=D.direction,I&&(z.size()?function(K,J,$,ae,ue,ce){var de,pe,me,be=ue.direction,we=be==="up"||be==="down",Te=ue._dims,Le=ue.active;if(we)for(pe=0,me=0;me<Le;me++)pe+=Te.heights[me]+i.gapButton;else for(de=0,me=0;me<Le;me++)de+=Te.widths[me]+i.gapButton;ae.enable(ce,de,pe),ae.hbar&&ae.hbar.attr("opacity","0").transition().attr("opacity","1"),ae.vbar&&ae.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,I,D,te):function(K){var J=!!K.hbar,$=!!K.vbar;J&&K.hbar.transition().attr("opacity","0").each("end",function(){J=!1,$||K.disable()}),$&&K.vbar.transition().attr("opacity","0").each("end",function(){$=!1,J||K.disable()})}(I))}function f(M,C,R,I){M.call(T,C).call(d,C,R,I)}function T(M,C){g.ensureSingle(M,"rect",i.itemRectClassName,function(R){R.attr({rx:i.rx,ry:i.ry,"shape-rendering":"crispEdges"})}).call(t.stroke,C.bordercolor).call(t.fill,C.bgcolor).style("stroke-width",C.borderwidth+"px")}function d(M,C,R,I){var D=g.ensureSingle(M,"text",i.itemTextClassName,function(z){z.attr({"text-anchor":"start","data-notex":1})}),F=R.label,q=I._fullLayout._meta;q&&(F=g.templateString(F,q)),D.call(b.font,C.font).text(F).call(c.convertToTspans,I)}function y(M,C){var R=C.active;M.each(function(I,D){var F=v.select(this);D===R&&C.showactive&&F.select("rect."+i.itemRectClassName).call(t.fill,i.activeColor)})}function m(M){M.select("rect."+i.itemRectClassName).call(t.fill,i.hoverColor)}function w(M,C){M.select("rect."+i.itemRectClassName).call(t.fill,C.bgcolor)}function _(M,C){var R=C._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},I=b.tester.selectAll("g."+i.dropdownButtonClassName).data(g.filterVisible(C.buttons));I.enter().append("g").classed(i.dropdownButtonClassName,!0);var D=["up","down"].indexOf(C.direction)!==-1;I.each(function(j,H){var G=v.select(this);G.call(f,C,j,M);var ie=G.select("."+i.itemTextClassName),re=ie.node()&&b.bBox(ie.node()).width,te=Math.max(re+i.textPadX,i.minWidth),K=C.font.size*n,J=c.lineCount(ie),$=Math.max(K*J,i.minHeight)+i.textOffsetY;$=Math.ceil($),te=Math.ceil(te),R.widths[H]=te,R.heights[H]=$,R.height1=Math.max(R.height1,$),R.width1=Math.max(R.width1,te),D?(R.totalWidth=Math.max(R.totalWidth,te),R.openWidth=R.totalWidth,R.totalHeight+=$+i.gapButton,R.openHeight+=$+i.gapButton):(R.totalWidth+=te+i.gapButton,R.openWidth+=te+i.gapButton,R.totalHeight=Math.max(R.totalHeight,$),R.openHeight=R.totalHeight)}),D?R.totalHeight-=i.gapButton:R.totalWidth-=i.gapButton,R.headerWidth=R.width1+i.arrowPadX,R.headerHeight=R.height1,C.type==="dropdown"&&(D?(R.width1+=i.arrowPadX,R.totalHeight=R.height1):R.totalWidth=R.width1,R.totalWidth+=i.arrowPadX),I.remove();var F=R.totalWidth+C.pad.l+C.pad.r,q=R.totalHeight+C.pad.t+C.pad.b,z=M._fullLayout._size;R.lx=z.l+z.w*C.x,R.ly=z.t+z.h*(1-C.y);var V="left";g.isRightAnchor(C)&&(R.lx-=F,V="right"),g.isCenterAnchor(C)&&(R.lx-=F/2,V="center");var X="top";g.isBottomAnchor(C)&&(R.ly-=q,X="bottom"),g.isMiddleAnchor(C)&&(R.ly-=q/2,X="middle"),R.totalWidth=Math.ceil(R.totalWidth),R.totalHeight=Math.ceil(R.totalHeight),R.lx=Math.round(R.lx),R.ly=Math.round(R.ly),x.autoMargin(M,A(C),{x:C.x,y:C.y,l:F*({right:1,center:.5}[V]||0),r:F*({left:1,center:.5}[V]||0),b:q*({top:1,middle:.5}[X]||0),t:q*({bottom:1,middle:.5}[X]||0)})}function A(M){return i.autoMarginIdRoot+M._index}function p(M,C,R,I){I=I||{};var D=M.select("."+i.itemRectClassName),F=M.select("."+i.itemTextClassName),q=C.borderwidth,z=R.index,V=C._dims;b.setTranslate(M,q+R.x,q+R.y);var X=["up","down"].indexOf(C.direction)!==-1,j=I.height||(X?V.heights[z]:V.height1);D.attr({x:0,y:0,width:I.width||(X?V.width1:V.widths[z]),height:j});var H=C.font.size*n,G=(c.lineCount(F)-1)*H/2;c.positionText(F,i.textOffsetX,j/2-G+i.textOffsetY),X?R.y+=V.heights[z]+R.yPad:R.x+=V.widths[z]+R.xPad,R.index++}function L(M,C){M.attr(i.menuIndexAttrName,C||"-1").selectAll("g."+i.dropdownButtonClassName).remove()}O.exports=function(M){var C=M._fullLayout,R=g.filterVisible(C[i.name]);function I(H){x.autoMargin(M,A(H))}var D=C._menulayer.selectAll("g."+i.containerClassName).data(R.length>0?[0]:[]);if(D.enter().append("g").classed(i.containerClassName,!0).style("cursor","pointer"),D.exit().each(function(){v.select(this).selectAll("g."+i.headerGroupClassName).each(I)}).remove(),R.length!==0){var F=D.selectAll("g."+i.headerGroupClassName).data(R,r);F.enter().append("g").classed(i.headerGroupClassName,!0);for(var q=g.ensureSingle(D,"g",i.dropdownButtonGroupClassName,function(H){H.style("pointer-events","all")}),z=0;z<R.length;z++){var V=R[z];_(M,V)}var X="updatemenus"+C._uid,j=new a(M,q,X);F.enter().size()&&(q.node().parentNode.appendChild(q.node()),q.call(L)),F.exit().each(function(H){q.call(L),I(H)}).remove(),F.each(function(H){var G=v.select(this),ie=H.type==="dropdown"?q:null;x.manageCommandObserver(M,H,H.buttons,function(re){l(M,H,H.buttons[re.index],G,ie,j,re.index,!0)}),H.type==="dropdown"?(u(M,G,q,j,H),o(q,H)&&h(M,G,q,j,H)):h(M,G,null,null,H)})}}},76908:function(O,S,e){var v=e(73712);O.exports={moduleType:"component",name:v.name,layoutAttributes:e(88444),supplyLayoutDefaults:e(91384),draw:e(14420)}},37400:function(O,S,e){O.exports=g;var v=e(33428),x=e(76308),t=e(43616),b=e(3400);function g(c,s,n){this.gd=c,this.container=s,this.id=n,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}g.barWidth=2,g.barLength=20,g.barRadius=2,g.barPad=1,g.barColor="#808BA4",g.prototype.enable=function(c,s,n){var i=this.gd._fullLayout,a=i.width,r=i.height;this.position=c;var o,l,u,h,f=this.position.l,T=this.position.w,d=this.position.t,y=this.position.h,m=this.position.direction,w=m==="down",_=m==="left",A=m==="up",p=T,L=y;w||_||m==="right"||A||(this.position.direction="down",w=!0),w||A?(l=(o=f)+p,w?(u=d,L=(h=Math.min(u+L,r))-u):L=(h=d+L)-(u=Math.max(h-L,0))):(h=(u=d)+L,_?p=(l=f+p)-(o=Math.max(l-p,0)):(o=f,p=(l=Math.min(o+p,a))-o)),this._box={l:o,t:u,w:p,h:L};var M=T>p,C=g.barLength+2*g.barPad,R=g.barWidth+2*g.barPad,I=f,D=d+y;D+R>r&&(D=r-R);var F=this.container.selectAll("rect.scrollbar-horizontal").data(M?[0]:[]);F.exit().on(".drag",null).remove(),F.enter().append("rect").classed("scrollbar-horizontal",!0).call(x.fill,g.barColor),M?(this.hbar=F.attr({rx:g.barRadius,ry:g.barRadius,x:I,y:D,width:C,height:R}),this._hbarXMin=I+C/2,this._hbarTranslateMax=p-C):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var q=y>L,z=g.barWidth+2*g.barPad,V=g.barLength+2*g.barPad,X=f+T,j=d;X+z>a&&(X=a-z);var H=this.container.selectAll("rect.scrollbar-vertical").data(q?[0]:[]);H.exit().on(".drag",null).remove(),H.enter().append("rect").classed("scrollbar-vertical",!0).call(x.fill,g.barColor),q?(this.vbar=H.attr({rx:g.barRadius,ry:g.barRadius,x:X,y:j,width:z,height:V}),this._vbarYMin=j+V/2,this._vbarTranslateMax=L-V):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var G=this.id,ie=o-.5,re=q?l+z+.5:l+.5,te=u-.5,K=M?h+R+.5:h+.5,J=i._topdefs.selectAll("#"+G).data(M||q?[0]:[]);if(J.exit().remove(),J.enter().append("clipPath").attr("id",G).append("rect"),M||q?(this._clipRect=J.select("rect").attr({x:Math.floor(ie),y:Math.floor(te),width:Math.ceil(re)-Math.floor(ie),height:Math.ceil(K)-Math.floor(te)}),this.container.call(t.setClipUrl,G,this.gd),this.bg.attr({x:f,y:d,width:T,height:y})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(t.setClipUrl,null),delete this._clipRect),M||q){var $=v.behavior.drag().on("dragstart",function(){v.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call($);var ae=v.behavior.drag().on("dragstart",function(){v.event.sourceEvent.preventDefault(),v.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));M&&this.hbar.on(".drag",null).call(ae),q&&this.vbar.on(".drag",null).call(ae)}this.setTranslate(s,n)},g.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(t.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},g.prototype._onBoxDrag=function(){var c=this.translateX,s=this.translateY;this.hbar&&(c-=v.event.dx),this.vbar&&(s-=v.event.dy),this.setTranslate(c,s)},g.prototype._onBoxWheel=function(){var c=this.translateX,s=this.translateY;this.hbar&&(c+=v.event.deltaY),this.vbar&&(s+=v.event.deltaY),this.setTranslate(c,s)},g.prototype._onBarDrag=function(){var c=this.translateX,s=this.translateY;if(this.hbar){var n=c+this._hbarXMin,i=n+this._hbarTranslateMax;c=(b.constrain(v.event.x,n,i)-n)/(i-n)*(this.position.w-this._box.w)}if(this.vbar){var a=s+this._vbarYMin,r=a+this._vbarTranslateMax;s=(b.constrain(v.event.y,a,r)-a)/(r-a)*(this.position.h-this._box.h)}this.setTranslate(c,s)},g.prototype.setTranslate=function(c,s){var n=this.position.w-this._box.w,i=this.position.h-this._box.h;if(c=b.constrain(c||0,0,n),s=b.constrain(s||0,0,i),this.translateX=c,this.translateY=s,this.container.call(t.setTranslate,this._box.l-this.position.l-c,this._box.t-this.position.t-s),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+c-.5),y:Math.floor(this.position.t+s-.5)}),this.hbar){var a=c/n;this.hbar.call(t.setTranslate,c+a*this._hbarTranslateMax,s)}if(this.vbar){var r=s/i;this.vbar.call(t.setTranslate,c,s+r*this._vbarTranslateMax)}}},84284:function(O){O.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},36208:function(O){O.exports={axisRefDescription:function(S,e,v){return["If set to a",S,"axis id (e.g. *"+S+"* or","*"+S+"2*), the `"+S+"` position refers to a",S,"coordinate. If set to *paper*, the `"+S+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+v+"). If set to a",S,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+S+"2 domain* refers to the domain of the second",S," axis and a",S,"position of 0.5 refers to the","point between the",e,"and the",v,"of the domain of the","second",S,"axis."].join(" ")}}},48164:function(O){O.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:""},DECREASING:{COLOR:"#FF4136",SYMBOL:""}}},26880:function(O){O.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},69104:function(O){O.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},99168:function(O){O.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87792:function(O){O.exports={circle:"","circle-open":"",square:"","square-open":"",diamond:"","diamond-open":"",cross:"+",x:""}},13448:function(O){O.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},39032:function(O){O.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:""}},2264:function(O,S){S.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],S.STYLE=S.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},9616:function(O,S){S.xmlns="http://www.w3.org/2000/xmlns/",S.svg="http://www.w3.org/2000/svg",S.xlink="http://www.w3.org/1999/xlink",S.svgAttrs={xmlns:S.svg,"xmlns:xlink":S.xlink}},64884:function(O,S,e){S.version=e(25788).version,e(88324),e(79288);for(var v=e(24040),x=S.register=v.register,t=e(22448),b=Object.keys(t),g=0;g<b.length;g++){var c=b[g];c.charAt(0)!=="_"&&(S[c]=t[c]),x({moduleType:"apiMethod",name:c,fn:t[c]})}x(e(65875)),x([e(79180),e(56864),e(22676),e(41592),e(7402),e(76908),e(97544),e(49692),e(41152),e(12704),e(64968),e(8932),e(55080),e(2780),e(93024),e(45460)]),x([e(6580),e(11680)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(x(window.PlotlyLocales),delete window.PlotlyLocales),S.Icons=e(9224);var s=e(93024),n=e(7316);S.Plots={resize:n.resize,graphJson:n.graphJson,sendDataToCloud:n.sendDataToCloud},S.Fx={hover:s.hover,unhover:s.unhover,loneHover:s.loneHover,loneUnhover:s.loneUnhover},S.Snapshot=e(78904),S.PlotSchema=e(73060)},9224:function(O){O.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},98308:function(O,S){S.isLeftAnchor=function(e){return e.xanchor==="left"||e.xanchor==="auto"&&e.x<=.3333333333333333},S.isCenterAnchor=function(e){return e.xanchor==="center"||e.xanchor==="auto"&&e.x>.3333333333333333&&e.x<.6666666666666666},S.isRightAnchor=function(e){return e.xanchor==="right"||e.xanchor==="auto"&&e.x>=.6666666666666666},S.isTopAnchor=function(e){return e.yanchor==="top"||e.yanchor==="auto"&&e.y>=.6666666666666666},S.isMiddleAnchor=function(e){return e.yanchor==="middle"||e.yanchor==="auto"&&e.y>.3333333333333333&&e.y<.6666666666666666},S.isBottomAnchor=function(e){return e.yanchor==="bottom"||e.yanchor==="auto"&&e.y<=.3333333333333333}},11864:function(O,S,e){var v=e(20435),x=v.mod,t=v.modHalf,b=Math.PI,g=2*b;function c(a){return Math.abs(a[1]-a[0])>g-1e-14}function s(a,r){return t(r-a,g)}function n(a,r){if(c(r))return!0;var o,l;r[0]<r[1]?(o=r[0],l=r[1]):(o=r[1],l=r[0]),(o=x(o,g))>(l=x(l,g))&&(l+=g);var u=x(a,g),h=u+g;return u>=o&&u<=l||h>=o&&h<=l}function i(a,r,o,l,u,h,f){u=u||0,h=h||0;var T,d,y,m,w,_=c([o,l]);function A(C,R){return[C*Math.cos(R)+u,h-C*Math.sin(R)]}_?(T=0,d=b,y=g):o<l?(T=o,y=l):(T=l,y=o),a<r?(m=a,w=r):(m=r,w=a);var p,L=Math.abs(y-T)<=b?0:1;function M(C,R,I){return"A"+[C,C]+" "+[0,L,I]+" "+A(C,R)}return _?p=m===null?"M"+A(w,T)+M(w,d,0)+M(w,y,0)+"Z":"M"+A(m,T)+M(m,d,0)+M(m,y,0)+"ZM"+A(w,T)+M(w,d,1)+M(w,y,1)+"Z":m===null?(p="M"+A(w,T)+M(w,y,0),f&&(p+="L0,0Z")):p="M"+A(m,T)+"L"+A(w,T)+M(w,y,0)+"L"+A(m,y)+M(m,T,1)+"Z",p}O.exports={deg2rad:function(a){return a/180*b},rad2deg:function(a){return a/b*180},angleDelta:s,angleDist:function(a,r){return Math.abs(s(a,r))},isFullCircle:c,isAngleInsideSector:n,isPtInsideSector:function(a,r,o,l){return!!n(r,l)&&(o[0]<o[1]?(u=o[0],h=o[1]):(u=o[1],h=o[0]),a>=u&&a<=h);var u,h},pathArc:function(a,r,o,l,u){return i(null,a,r,o,l,u,0)},pathSector:function(a,r,o,l,u){return i(null,a,r,o,l,u,1)},pathAnnulus:function(a,r,o,l,u,h){return i(a,r,o,l,u,h,1)}}},38116:function(O,S,e){var v=e(83160).decode,x=e(63620),t=Array.isArray,b=ArrayBuffer,g=DataView;function c(r){return b.isView(r)&&!(r instanceof g)}function s(r){return t(r)||c(r)}S.isTypedArray=c,S.isArrayOrTypedArray=s,S.isArray1D=function(r){return!s(r[0])},S.ensureArray=function(r,o){return t(r)||(r=[]),r.length=o,r};var n={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};function i(r){return r.constructor===ArrayBuffer}function a(r,o,l){if(s(r)){if(s(r[0])){for(var u=l,h=0;h<r.length;h++)u=o(u,r[h].length);return u}return r.length}return 0}n.uint8c=n.u1c,n.uint8=n.u1,n.int8=n.i1,n.uint16=n.u2,n.int16=n.i2,n.uint32=n.u4,n.int32=n.i4,n.float32=n.f4,n.float64=n.f8,S.isArrayBuffer=i,S.decodeTypedArraySpec=function(r){var o=[],l=function(C){return{bdata:C.bdata,dtype:C.dtype,shape:C.shape}}(r),u=l.dtype,h=n[u];if(!h)throw new Error('Error in dtype: "'+u+'"');var f=h.BYTES_PER_ELEMENT,T=l.bdata;i(T)||(T=v(T));var d=l.shape===void 0?[T.byteLength/f]:(""+l.shape).split(",");d.reverse();var y,m,w=d.length,_=+d[0],A=f*_,p=0;if(w===1)o=new h(T);else if(w===2)for(y=+d[1],m=0;m<y;m++)o[m]=new h(T,p,_),p+=A;else{if(w!==3)throw new Error("ndim: "+w+'is not supported with the shape:"'+l.shape+'"');y=+d[1];for(var L=+d[2],M=0;M<L;M++)for(o[M]=[],m=0;m<y;m++)o[M][m]=new h(T,p,_),p+=A}return o.bdata=l.bdata,o.dtype=l.dtype,o.shape=d.reverse().join(","),r._inputArray=o,o},S.isTypedArraySpec=function(r){return x(r)&&r.hasOwnProperty("dtype")&&typeof r.dtype=="string"&&r.hasOwnProperty("bdata")&&(typeof r.bdata=="string"||i(r.bdata))&&(r.shape===void 0||r.hasOwnProperty("shape")&&(typeof r.shape=="string"||typeof r.shape=="number"))},S.concat=function(){var r,o,l,u,h,f,T,d,y=[],m=!0,w=0;for(l=0;l<arguments.length;l++)(f=(u=arguments[l]).length)&&(o?y.push(u):(o=u,h=f),t(u)?r=!1:(m=!1,w?r!==u.constructor&&(r=!1):r=u.constructor),w+=f);if(!w)return[];if(!y.length)return o;if(m)return o.concat.apply(o,y);if(r){for((T=new r(w)).set(o),l=0;l<y.length;l++)u=y[l],T.set(u,h),h+=u.length;return T}for(T=new Array(w),d=0;d<o.length;d++)T[d]=o[d];for(l=0;l<y.length;l++){for(u=y[l],d=0;d<u.length;d++)T[h+d]=u[d];h+=d}return T},S.maxRowLength=function(r){return a(r,Math.max,0)},S.minRowLength=function(r){return a(r,Math.min,1/0)}},54037:function(O,S,e){var v=e(38248),x=e(39032).BADNUM,t=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;O.exports=function(b){return typeof b=="string"&&(b=b.replace(t,"")),v(b)?Number(b):x}},73696:function(O){O.exports=function(S){var e=S._fullLayout;e._glcanvas&&e._glcanvas.size()&&e._glcanvas.each(function(v){v.regl&&v.regl.clear({color:!0,depth:!0})})}},75352:function(O){O.exports=function(S){S._responsiveChartHandler&&(window.removeEventListener("resize",S._responsiveChartHandler),delete S._responsiveChartHandler)}},63064:function(O,S,e){var v=e(38248),x=e(49760),t=e(92880).extendFlat,b=e(45464),g=e(88304),c=e(76308),s=e(13448).DESELECTDIM,n=e(22296),i=e(53756).counter,a=e(20435).modHalf,r=e(38116).isArrayOrTypedArray,o=e(38116).isTypedArraySpec,l=e(38116).decodeTypedArraySpec;function u(h,f){var T=S.valObjectMeta[f.valType];if(f.arrayOk&&r(h))return!0;if(T.validateFunction)return T.validateFunction(h,f);var d={},y=d,m={set:function(w){y=w}};return T.coerceFunction(h,m,d,f),y!==d}S.valObjectMeta={data_array:{coerceFunction:function(h,f,T){f.set(r(h)?h:o(h)?l(h):T)}},enumerated:{coerceFunction:function(h,f,T,d){d.coerceNumber&&(h=+h),d.values.indexOf(h)===-1?f.set(T):f.set(h)},validateFunction:function(h,f){f.coerceNumber&&(h=+h);for(var T=f.values,d=0;d<T.length;d++){var y=String(T[d]);if(y.charAt(0)==="/"&&y.charAt(y.length-1)==="/"){if(new RegExp(y.substr(1,y.length-2)).test(h))return!0}else if(h===T[d])return!0}return!1}},boolean:{coerceFunction:function(h,f,T){h===!0||h===!1?f.set(h):f.set(T)}},number:{coerceFunction:function(h,f,T,d){o(h)&&(h=l(h)),!v(h)||d.min!==void 0&&h<d.min||d.max!==void 0&&h>d.max?f.set(T):f.set(+h)}},integer:{coerceFunction:function(h,f,T,d){(d.extras||[]).indexOf(h)===-1?(o(h)&&(h=l(h)),h%1||!v(h)||d.min!==void 0&&h<d.min||d.max!==void 0&&h>d.max?f.set(T):f.set(+h)):f.set(h)}},string:{coerceFunction:function(h,f,T,d){if(typeof h!="string"){var y=typeof h=="number";d.strict!==!0&&y?f.set(String(h)):f.set(T)}else d.noBlank&&!h?f.set(T):f.set(h)}},color:{coerceFunction:function(h,f,T){o(h)&&(h=l(h)),x(h).isValid()?f.set(h):f.set(T)}},colorlist:{coerceFunction:function(h,f,T){Array.isArray(h)&&h.length&&h.every(function(d){return x(d).isValid()})?f.set(h):f.set(T)}},colorscale:{coerceFunction:function(h,f,T){f.set(g.get(h,T))}},angle:{coerceFunction:function(h,f,T){o(h)&&(h=l(h)),h==="auto"?f.set("auto"):v(h)?f.set(a(+h,360)):f.set(T)}},subplotid:{coerceFunction:function(h,f,T,d){var y=d.regex||i(T);typeof h=="string"&&y.test(h)?f.set(h):f.set(T)},validateFunction:function(h,f){var T=f.dflt;return h===T||typeof h=="string"&&!!i(T).test(h)}},flaglist:{coerceFunction:function(h,f,T,d){if((d.extras||[]).indexOf(h)===-1)if(typeof h=="string"){for(var y=h.split("+"),m=0;m<y.length;){var w=y[m];d.flags.indexOf(w)===-1||y.indexOf(w)<m?y.splice(m,1):m++}y.length?f.set(y.join("+")):f.set(T)}else f.set(T);else f.set(h)}},any:{coerceFunction:function(h,f,T){h===void 0?f.set(T):f.set(o(h)?l(h):h)}},info_array:{coerceFunction:function(h,f,T,d){function y(z,V,X){var j,H={set:function(G){j=G}};return X===void 0&&(X=V.dflt),S.valObjectMeta[V.valType].coerceFunction(z,H,X,V),j}if(o(h)&&(h=l(h)),r(h)){var m,w,_,A,p,L,M=d.dimensions===2||d.dimensions==="1-2"&&Array.isArray(h)&&r(h[0]),C=d.items,R=[],I=Array.isArray(C),D=I&&M&&r(C[0]),F=M&&I&&!D,q=I&&!F?C.length:h.length;if(T=Array.isArray(T)?T:[],M)for(m=0;m<q;m++)for(R[m]=[],_=r(h[m])?h[m]:[],p=F?C.length:I?C[m].length:_.length,w=0;w<p;w++)A=F?C[w]:I?C[m][w]:C,(L=y(_[w],A,(T[m]||[])[w]))!==void 0&&(R[m][w]=L);else for(m=0;m<q;m++)(L=y(h[m],I?C[m]:C,T[m]))!==void 0&&(R[m]=L);f.set(R)}else f.set(T)},validateFunction:function(h,f){if(!r(h))return!1;var T=f.items,d=Array.isArray(T),y=f.dimensions===2;if(!f.freeLength&&h.length!==T.length)return!1;for(var m=0;m<h.length;m++)if(y){if(!r(h[m])||!f.freeLength&&h[m].length!==T[m].length)return!1;for(var w=0;w<h[m].length;w++)if(!u(h[m][w],d?T[m][w]:T))return!1}else if(!u(h[m],d?T[m]:T))return!1;return!0}}},S.coerce=function(h,f,T,d,y){var m=n(T,d).get(),w=n(h,d),_=n(f,d),A=w.get(),p=f._template;if(A===void 0&&p&&(A=n(p,d).get(),p=0),y===void 0&&(y=m.dflt),m.arrayOk){if(r(A))return _.set(A),A;if(o(A))return A=l(A),_.set(A),A}var L=S.valObjectMeta[m.valType].coerceFunction;L(A,_,y,m);var M=_.get();return p&&M===y&&!u(A,m)&&(L(A=n(p,d).get(),_,y,m),M=_.get()),M},S.coerce2=function(h,f,T,d,y){var m=n(h,d),w=S.coerce(h,f,T,d,y);return m.get()!=null&&w},S.coerceFont=function(h,f,T,d){d||(d={}),T=t({},T);var y={family:h(f+".family",(T=t(T,d.overrideDflt||{})).family),size:h(f+".size",T.size),color:h(f+".color",T.color),weight:h(f+".weight",T.weight),style:h(f+".style",T.style)};if(d.noFontVariant||(y.variant=h(f+".variant",T.variant)),d.noFontLineposition||(y.lineposition=h(f+".lineposition",T.lineposition)),d.noFontTextcase||(y.textcase=h(f+".textcase",T.textcase)),!d.noFontShadow){var m=T.shadow;m==="none"&&d.autoShadowDflt&&(m="auto"),y.shadow=h(f+".shadow",m)}return y},S.coercePattern=function(h,f,T,d){if(h(f+".shape")){h(f+".solidity"),h(f+".size");var y=h(f+".fillmode")==="overlay";if(!d){var m=h(f+".bgcolor",y?T:void 0);h(f+".fgcolor",y?c.contrast(m):T)}h(f+".fgopacity",y?.5:1)}},S.coerceHoverinfo=function(h,f,T){var d,y=f._module.attributes,m=y.hoverinfo?y:b,w=m.hoverinfo;if(T._dataLength===1){var _=w.dflt==="all"?w.flags.slice():w.dflt.split("+");_.splice(_.indexOf("name"),1),d=_.join("+")}return S.coerce(h,f,m,"hoverinfo",d)},S.coerceSelectionMarkerOpacity=function(h,f){if(h.marker){var T,d,y=h.marker.opacity;y!==void 0&&(r(y)||h.selected||h.unselected||(T=y,d=s*y),f("selected.marker.opacity",T),f("unselected.marker.opacity",d))}},S.validate=u},67555:function(O,S,e){var v,x,t=e(94336).Yn,b=e(38248),g=e(24248),c=e(20435).mod,s=e(39032),n=s.BADNUM,i=s.ONEDAY,a=s.ONEHOUR,r=s.ONEMIN,o=s.ONESEC,l=s.EPOCHJD,u=e(24040),h=e(94336).E9,f=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,T=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,d=new Date().getFullYear()-70;function y(F){return F&&u.componentsRegistry.calendars&&typeof F=="string"&&F!=="gregorian"}function m(F,q){return String(F+Math.pow(10,q)).substr(1)}S.dateTick0=function(F,q){var z=function(X,j){return y(X)?j?u.getComponentMethod("calendars","CANONICAL_SUNDAY")[X]:u.getComponentMethod("calendars","CANONICAL_TICK")[X]:j?"2000-01-02":"2000-01-01"}(F,!!q);if(q<2)return z;var V=S.dateTime2ms(z,F);return V+=i*(q-1),S.ms2DateTime(V,0,F)},S.dfltRange=function(F){return y(F)?u.getComponentMethod("calendars","DFLTRANGE")[F]:["2000-01-01","2001-01-01"]},S.isJSDate=function(F){return typeof F=="object"&&F!==null&&typeof F.getTime=="function"},S.dateTime2ms=function(F,q){if(S.isJSDate(F)){var z=F.getTimezoneOffset()*r,V=(F.getUTCMinutes()-F.getMinutes())*r+(F.getUTCSeconds()-F.getSeconds())*o+(F.getUTCMilliseconds()-F.getMilliseconds());if(V){var X=3*r;z=z-X/2+c(V-z+X/2,X)}return(F=Number(F)-z)>=v&&F<=x?F:n}if(typeof F!="string"&&typeof F!="number")return n;F=String(F);var j=y(q),H=F.charAt(0);!j||H!=="G"&&H!=="g"||(F=F.substr(1),q="");var G=j&&q.substr(0,7)==="chinese",ie=F.match(G?T:f);if(!ie)return n;var re=ie[1],te=ie[3]||"1",K=Number(ie[5]||1),J=Number(ie[7]||0),$=Number(ie[9]||0),ae=Number(ie[11]||0);if(j){if(re.length===2)return n;var ue;re=Number(re);try{var ce=u.getComponentMethod("calendars","getCal")(q);if(G){var de=te.charAt(te.length-1)==="i";te=parseInt(te,10),ue=ce.newDate(re,ce.toMonthIndex(re,te,de),K)}else ue=ce.newDate(re,Number(te),K)}catch{return n}return ue?(ue.toJD()-l)*i+J*a+$*r+ae*o:n}re=re.length===2?(Number(re)+2e3-d)%100+d:Number(re),te-=1;var pe=new Date(Date.UTC(2e3,te,K,J,$));return pe.setUTCFullYear(re),pe.getUTCMonth()!==te||pe.getUTCDate()!==K?n:pe.getTime()+ae*o},v=S.MIN_MS=S.dateTime2ms("-9999"),x=S.MAX_MS=S.dateTime2ms("9999-12-31 23:59:59.9999"),S.isDateTime=function(F,q){return S.dateTime2ms(F,q)!==n};var w=90*i,_=3*a,A=5*r;function p(F,q,z,V,X){if((q||z||V||X)&&(F+=" "+m(q,2)+":"+m(z,2),(V||X)&&(F+=":"+m(V,2),X))){for(var j=4;X%10==0;)j-=1,X/=10;F+="."+m(X,j)}return F}S.ms2DateTime=function(F,q,z){if(typeof F!="number"||!(F>=v&&F<=x))return n;q||(q=0);var V,X,j,H,G,ie,re=Math.floor(10*c(F+.05,1)),te=Math.round(F-re/10);if(y(z)){var K=Math.floor(te/i)+l,J=Math.floor(c(F,i));try{V=u.getComponentMethod("calendars","getCal")(z).fromJD(K).formatDate("yyyy-mm-dd")}catch{V=h("G%Y-%m-%d")(new Date(te))}if(V.charAt(0)==="-")for(;V.length<11;)V="-0"+V.substr(1);else for(;V.length<10;)V="0"+V;X=q<w?Math.floor(J/a):0,j=q<w?Math.floor(J%a/r):0,H=q<_?Math.floor(J%r/o):0,G=q<A?J%o*10+re:0}else ie=new Date(te),V=h("%Y-%m-%d")(ie),X=q<w?ie.getUTCHours():0,j=q<w?ie.getUTCMinutes():0,H=q<_?ie.getUTCSeconds():0,G=q<A?10*ie.getUTCMilliseconds()+re:0;return p(V,X,j,H,G)},S.ms2DateTimeLocal=function(F){if(!(F>=v+i&&F<=x-i))return n;var q=Math.floor(10*c(F+.05,1)),z=new Date(Math.round(F-q/10));return p(t("%Y-%m-%d")(z),z.getHours(),z.getMinutes(),z.getSeconds(),10*z.getUTCMilliseconds()+q)},S.cleanDate=function(F,q,z){if(F===n)return q;if(S.isJSDate(F)||typeof F=="number"&&isFinite(F)){if(y(z))return g.error("JS Dates and milliseconds are incompatible with world calendars",F),q;if(!(F=S.ms2DateTimeLocal(+F))&&q!==void 0)return q}else if(!S.isDateTime(F,z))return g.error("unrecognized date",F),q;return F};var L=/%\d?f/g,M=/%h/g,C={1:"1",2:"1",3:"2",4:"2"};function R(F,q,z,V){F=F.replace(L,function(j){var H=Math.min(+j.charAt(1)||6,6);return(q/1e3%1+2).toFixed(H).substr(2).replace(/0+$/,"")||"0"});var X=new Date(Math.floor(q+.05));if(F=F.replace(M,function(){return C[z("%q")(X)]}),y(V))try{F=u.getComponentMethod("calendars","worldCalFmt")(F,q,V)}catch{return"Invalid"}return z(F)(X)}var I=[59,59.9,59.99,59.999,59.9999];S.formatDate=function(F,q,z,V,X,j){if(X=y(X)&&X,!q)if(z==="y")q=j.year;else if(z==="m")q=j.month;else{if(z!=="d")return function(H,G){var ie=c(H+.05,i),re=m(Math.floor(ie/a),2)+":"+m(c(Math.floor(ie/r),60),2);if(G!=="M"){b(G)||(G=0);var te=(100+Math.min(c(H/o,60),I[G])).toFixed(G).substr(1);G>0&&(te=te.replace(/0+$/,"").replace(/[\.]$/,"")),re+=":"+te}return re}(F,z)+`
`+R(j.dayMonthYear,F,V,X);q=j.dayMonth+`
`+j.year}return R(q,F,V,X)};var D=3*i;S.incrementMonth=function(F,q,z){z=y(z)&&z;var V=c(F,i);if(F=Math.round(F-V),z)try{var X=Math.round(F/i)+l,j=u.getComponentMethod("calendars","getCal")(z),H=j.fromJD(X);return q%12?j.add(H,q,"m"):j.add(H,q/12,"y"),(H.toJD()-l)*i+V}catch{g.error("invalid ms "+F+" in calendar "+z)}var G=new Date(F+D);return G.setUTCMonth(G.getUTCMonth()+q)+V-D},S.findExactDates=function(F,q){for(var z,V,X=0,j=0,H=0,G=0,ie=y(q)&&u.getComponentMethod("calendars","getCal")(q),re=0;re<F.length;re++)if(V=F[re],b(V)){if(!(V%i))if(ie)try{(z=ie.fromJD(V/i+l)).day()===1?z.month()===1?X++:j++:H++}catch{}else(z=new Date(V)).getUTCDate()===1?z.getUTCMonth()===0?X++:j++:H++}else G++;H+=j+=X;var te=F.length-G;return{exactYears:X/te,exactMonths:j/te,exactDays:H/te}}},52200:function(O,S,e){var v=e(33428),x=e(24248),t=e(52248),b=e(36524);function g(a){var r=a&&a.parentNode;r&&r.removeChild(a)}function c(a,r,o){var l="plotly.js-style-"+a,u=document.getElementById(l);u||((u=document.createElement("style")).setAttribute("id",l),u.appendChild(document.createTextNode("")),document.head.appendChild(u));var h=u.sheet;h.insertRule?h.insertRule(r+"{"+o+"}",0):h.addRule?h.addRule(r,o,0):x.warn("addStyleRule failed")}function s(a){var r=window.getComputedStyle(a,null),o=r.getPropertyValue("-webkit-transform")||r.getPropertyValue("-moz-transform")||r.getPropertyValue("-ms-transform")||r.getPropertyValue("-o-transform")||r.getPropertyValue("transform");return o==="none"?null:o.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(l){return+l})}function n(a){for(var r=[];i(a);)r.push(a),a=a.parentNode,typeof ShadowRoot=="function"&&a instanceof ShadowRoot&&(a=a.host);return r}function i(a){return a&&(a instanceof Element||a instanceof HTMLElement)}O.exports={getGraphDiv:function(a){var r;if(typeof a=="string"){if((r=document.getElementById(a))===null)throw new Error("No DOM element with id '"+a+"' exists on the page.");return r}if(a==null)throw new Error("DOM element provided is null or undefined");return a},isPlotDiv:function(a){var r=v.select(a);return r.node()instanceof HTMLElement&&r.size()&&r.classed("js-plotly-plot")},removeElement:g,addStyleRule:function(a,r){c("global",a,r)},addRelatedStyleRule:c,deleteRelatedStyleRule:function(a){var r="plotly.js-style-"+a,o=document.getElementById(r);o&&g(o)},getFullTransformMatrix:function(a){var r=n(a),o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return r.forEach(function(l){var u=s(l);if(u){var h=t.convertCssMatrix(u);o=b.multiply(o,o,h)}}),o},getElementTransformMatrix:s,getElementAndAncestors:n,equalDomRects:function(a,r){return a&&r&&a.top===r.top&&a.left===r.left&&a.right===r.right&&a.bottom===r.bottom}}},95924:function(O,S,e){var v=e(61252).EventEmitter,x={init:function(t){if(t._ev instanceof v)return t;var b=new v,g=new v;return t._ev=b,t._internalEv=g,t.on=b.on.bind(b),t.once=b.once.bind(b),t.removeListener=b.removeListener.bind(b),t.removeAllListeners=b.removeAllListeners.bind(b),t._internalOn=g.on.bind(g),t._internalOnce=g.once.bind(g),t._removeInternalListener=g.removeListener.bind(g),t._removeAllInternalListeners=g.removeAllListeners.bind(g),t.emit=function(c,s){typeof jQuery<"u"&&jQuery(t).trigger(c,s),b.emit(c,s),g.emit(c,s)},t},triggerHandler:function(t,b,g){var c,s;typeof jQuery<"u"&&(c=jQuery(t).triggerHandler(b,g));var n=t._ev;if(!n)return c;var i,a=n._events[b];if(!a)return c;function r(o){return o.listener?(n.removeListener(b,o.listener),o.fired?void 0:(o.fired=!0,o.listener.apply(n,[g]))):o.apply(n,[g])}for(a=Array.isArray(a)?a:[a],i=0;i<a.length-1;i++)r(a[i]);return s=r(a[i]),c!==void 0?c:s},purge:function(t){return delete t._ev,delete t.on,delete t.once,delete t.removeListener,delete t.removeAllListeners,delete t.emit,delete t._ev,delete t._internalEv,delete t._internalOn,delete t._internalOnce,delete t._removeInternalListener,delete t._removeAllInternalListeners,t}};O.exports=x},92880:function(O,S,e){var v=e(63620),x=Array.isArray;function t(b,g,c,s){var n,i,a,r,o,l,u,h=b[0],f=b.length;if(f===2&&x(h)&&x(b[1])&&h.length===0){if(u=function(d,y){var m,w;for(m=0;m<d.length;m++){if((w=d[m])!==null&&typeof w=="object")return!1;w!==void 0&&(y[m]=w)}return!0}(b[1],h),u)return h;h.splice(0,h.length)}for(var T=1;T<f;T++)for(i in n=b[T])a=h[i],r=n[i],s&&x(r)?h[i]=r:g&&r&&(v(r)||(o=x(r)))?(o?(o=!1,l=a&&x(a)?a:[]):l=a&&v(a)?a:{},h[i]=t([l,r],g,c,s)):(r!==void 0||c)&&(h[i]=r);return h}S.extendFlat=function(){return t(arguments,!1,!1,!1)},S.extendDeep=function(){return t(arguments,!0,!1,!1)},S.extendDeepAll=function(){return t(arguments,!0,!0,!1)},S.extendDeepNoArrays=function(){return t(arguments,!0,!1,!0)}},68944:function(O){O.exports=function(S){for(var e={},v=[],x=0,t=0;t<S.length;t++){var b=S[t];e[b]!==1&&(e[b]=1,v[x++]=b)}return v}},43880:function(O){function S(v){return v.visible===!0}function e(v){var x=v[0].trace;return x.visible===!0&&x._length!==0}O.exports=function(v){for(var x,t=(x=v,Array.isArray(x)&&Array.isArray(x[0])&&x[0][0]&&x[0][0].trace?e:S),b=[],g=0;g<v.length;g++){var c=v[g];t(c)&&b.push(c)}return b}},27144:function(O,S,e){var v=e(33428),x=e(36116),t=e(40440),b=e(77844),g=e(42428),c=e(35536),s=e(24248),n=e(63620),i=e(22296),a=e(92065),r=Object.keys(x),o={"ISO-3":c,"USA-states":c,"country names":function(u){for(var h=0;h<r.length;h++){var f=r[h];if(new RegExp(x[f]).test(u.trim().toLowerCase()))return f}return s.log("Unrecognized country name: "+u+"."),!1}};function l(u){var h=u.geojson,f=window.PlotlyGeoAssets||{},T=typeof h=="string"?f[h]:h;return n(T)?T:(s.error("Oops ... something went wrong when fetching "+h),!1)}O.exports={locationToFeature:function(u,h,f){if(!h||typeof h!="string")return!1;var T,d,y,m=o[u](h);if(m){if(u==="USA-states")for(T=[],y=0;y<f.length;y++)(d=f[y]).properties&&d.properties.gu&&d.properties.gu==="USA"&&T.push(d);else T=f;for(y=0;y<T.length;y++)if((d=T[y]).id===m)return d;s.log(["Location with id",m,"does not have a matching topojson feature at this resolution."].join(" "))}return!1},feature2polygons:function(u){var h,f,T,d,y=u.geometry,m=y.coordinates,w=u.id,_=[];function A(p){for(var L=0;L<p.length-1;L++)if(p[L][0]>0&&p[L+1][0]<0)return L;return null}switch(h=w==="RUS"||w==="FJI"?function(p){var L;if(A(p)===null)L=p;else for(L=new Array(p.length),d=0;d<p.length;d++)L[d]=[p[d][0]<0?p[d][0]+360:p[d][0],p[d][1]];_.push(a.tester(L))}:w==="ATA"?function(p){var L=A(p);if(L===null)return _.push(a.tester(p));var M=new Array(p.length+1),C=0;for(d=0;d<p.length;d++)d>L?M[C++]=[p[d][0]+360,p[d][1]]:d===L?(M[C++]=p[d],M[C++]=[p[d][0],-90]):M[C++]=p[d];var R=a.tester(M);R.pts.pop(),_.push(R)}:function(p){_.push(a.tester(p))},y.type){case"MultiPolygon":for(f=0;f<m.length;f++)for(T=0;T<m[f].length;T++)h(m[f][T]);break;case"Polygon":for(f=0;f<m.length;f++)h(m[f])}return _},getTraceGeojson:l,extractTraceFeature:function(u){var h=u[0].trace,f=l(h);if(!f)return!1;var T,d={},y=[];for(T=0;T<h._length;T++){var m=u[T];(m.loc||m.loc===0)&&(d[m.loc]=m)}function w(p){var L=i(p,h.featureidkey||"id").get(),M=d[L];if(M){var C=p.geometry;if(C.type==="Polygon"||C.type==="MultiPolygon"){var R={type:"Feature",id:L,geometry:C,properties:{}};R.properties.ct=function(I){var D,F=I.geometry;if(F.type==="MultiPolygon")for(var q=F.coordinates,z=0,V=0;V<q.length;V++){var X={type:"Polygon",coordinates:q[V]},j=t.default(X);j>z&&(z=j,D=X)}else D=F;return b.default(D).geometry.coordinates}(R),M.fIn=p,M.fOut=R,y.push(R)}else s.log(["Location",M.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete d[L]}switch(f.type){case"FeatureCollection":var _=f.features;for(T=0;T<_.length;T++)w(_[T]);break;case"Feature":w(f);break;default:return s.warn(["Invalid GeoJSON type",(f.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var A in d)s.log(["Location *"+A+"*","does not have a matching feature with id-key","*"+h.featureidkey+"*."].join(" "));return y},fetchTraceGeoData:function(u){var h=window.PlotlyGeoAssets||{},f=[];function T(w){return new Promise(function(_,A){v.json(w,function(p,L){if(p){delete h[w];var M=p.status===404?'GeoJSON at URL "'+w+'" does not exist.':"Unexpected error while fetching from "+w;return A(new Error(M))}return h[w]=L,_(L)})})}function d(w){return new Promise(function(_,A){var p=0,L=setInterval(function(){return h[w]&&h[w]!=="pending"?(clearInterval(L),_(h[w])):p>100?(clearInterval(L),A("Unexpected error while fetching from "+w)):void p++},50)})}for(var y=0;y<u.length;y++){var m=u[y][0].trace.geojson;typeof m=="string"&&(h[m]?h[m]==="pending"&&f.push(d(m)):(h[m]="pending",f.push(T(m))))}return f},computeBbox:function(u){return g.default(u)}}},44808:function(O,S,e){var v=e(39032).BADNUM;S.calcTraceToLineCoords=function(x){for(var t=x[0].trace.connectgaps,b=[],g=[],c=0;c<x.length;c++){var s=x[c].lonlat;s[0]!==v?g.push(s):!t&&g.length>0&&(b.push(g),g=[])}return g.length>0&&b.push(g),b},S.makeLine=function(x){return x.length===1?{type:"LineString",coordinates:x[0]}:{type:"MultiLineString",coordinates:x}},S.makePolygon=function(x){if(x.length===1)return{type:"Polygon",coordinates:x};for(var t=new Array(x.length),b=0;b<x.length;b++)t[b]=[x[b]];return{type:"MultiPolygon",coordinates:t}},S.makeBlank=function(){return{type:"Point",coordinates:[]}}},92348:function(O,S,e){var v,x,t,b=e(20435).mod;function g(s,n,i,a,r,o,l,u){var h=i-s,f=r-s,T=l-r,d=a-n,y=o-n,m=u-o,w=h*m-T*d;if(w===0)return null;var _=(f*m-T*y)/w,A=(f*d-h*y)/w;return A<0||A>1||_<0||_>1?null:{x:s+h*_,y:n+d*_}}function c(s,n,i,a,r){var o=a*s+r*n;if(o<0)return a*a+r*r;if(o>i){var l=a-s,u=r-n;return l*l+u*u}var h=a*n-r*s;return h*h/i}S.segmentsIntersect=g,S.segmentDistance=function(s,n,i,a,r,o,l,u){if(g(s,n,i,a,r,o,l,u))return 0;var h=i-s,f=a-n,T=l-r,d=u-o,y=h*h+f*f,m=T*T+d*d,w=Math.min(c(h,f,y,r-s,o-n),c(h,f,y,l-s,u-n),c(T,d,m,s-r,n-o),c(T,d,m,i-r,a-o));return Math.sqrt(w)},S.getTextLocation=function(s,n,i,a){if(s===x&&a===t||(v={},x=s,t=a),v[i])return v[i];var r=s.getPointAtLength(b(i-a/2,n)),o=s.getPointAtLength(b(i+a/2,n)),l=Math.atan((o.y-r.y)/(o.x-r.x)),u=s.getPointAtLength(b(i,n)),h={x:(4*u.x+r.x+o.x)/6,y:(4*u.y+r.y+o.y)/6,theta:l};return v[i]=h,h},S.clearLocationCache=function(){x=null},S.getVisibleSegment=function(s,n,i){var a,r,o=n.left,l=n.right,u=n.top,h=n.bottom,f=0,T=s.getTotalLength(),d=T;function y(w){var _=s.getPointAtLength(w);w===0?a=_:w===T&&(r=_);var A=_.x<o?o-_.x:_.x>l?_.x-l:0,p=_.y<u?u-_.y:_.y>h?_.y-h:0;return Math.sqrt(A*A+p*p)}for(var m=y(f);m;){if((f+=m+i)>d)return;m=y(f)}for(m=y(d);m;){if(f>(d-=m+i))return;m=y(d)}return{min:f,max:d,len:d-f,total:T,isClosed:f===0&&d===T&&Math.abs(a.x-r.x)<.1&&Math.abs(a.y-r.y)<.1}},S.findPointOnPath=function(s,n,i,a){for(var r,o,l,u=(a=a||{}).pathLength||s.getTotalLength(),h=a.tolerance||.001,f=a.iterationLimit||30,T=s.getPointAtLength(0)[i]>s.getPointAtLength(u)[i]?-1:1,d=0,y=0,m=u;d<f;){if(r=(y+m)/2,l=(o=s.getPointAtLength(r))[i]-n,Math.abs(l)<h)return o;T*l>0?m=r:y=r,d++}return o}},33040:function(O,S,e){var v=e(38248),x=e(49760),t=e(72160),b=e(8932),g=e(22548).defaultLine,c=e(38116).isArrayOrTypedArray,s=t(g);function n(r,o){var l=r;return l[3]*=o,l}function i(r){if(v(r))return s;var o=t(r);return o.length?o:s}function a(r){return v(r)?r:1}O.exports={formatColor:function(r,o,l){var u=r.color;u&&u._inputArray&&(u=u._inputArray);var h,f,T,d,y,m=c(u),w=c(o),_=b.extractOpts(r),A=[];if(h=_.colorscale!==void 0?b.makeColorScaleFuncFromTrace(r):i,f=m?function(L,M){return L[M]===void 0?s:t(h(L[M]))}:i,T=w?function(L,M){return L[M]===void 0?1:a(L[M])}:a,m||w)for(var p=0;p<l;p++)d=f(u,p),y=T(o,p),A[p]=n(d,y);else A=n(t(u),o);return A},parseColorScale:function(r){var o=b.extractOpts(r),l=o.colorscale;return o.reversescale&&(l=b.flipScale(o.colorscale)),l.map(function(u){var h=u[0],f=x(u[1]).toRgb();return{index:h,rgb:[f.r,f.g,f.b,f.a]}})}}},71688:function(O,S,e){var v=e(35536);function x(t){return[t]}O.exports={keyFun:function(t){return t.key},repeat:x,descend:v,wrap:x,unwrap:function(t){return t[0]}}},35536:function(O){O.exports=function(S){return S}},1396:function(O){O.exports=function(S,e){if(!e)return S;var v=1/Math.abs(e),x=v>1?(v*S+v*e)/v:S+e,t=String(x).length;if(t>16){var b=String(e).length;if(t>=String(S).length+b){var g=parseFloat(x).toPrecision(12);g.indexOf("e+")===-1&&(x=+g)}}return x}},3400:function(O,S,e){var v=e(33428),x=e(94336).E9,t=e(57624).E9,b=e(38248),g=e(39032),c=g.FP_SAFE,s=-c,n=g.BADNUM,i=O.exports={};i.adjustFormat=function(J){return!J||/^\d[.]\df/.test(J)||/[.]\d%/.test(J)?J:J==="0.f"?"~f":/^\d%/.test(J)?"~%":/^\ds/.test(J)?"~s":!/^[~,.0$]/.test(J)&&/[&fps]/.test(J)?"~"+J:J};var a={};i.warnBadFormat=function(J){var $=String(J);a[$]||(a[$]=1,i.warn('encountered bad format: "'+$+'"'))},i.noFormat=function(J){return String(J)},i.numberFormat=function(J){var $;try{$=t(i.adjustFormat(J))}catch{return i.warnBadFormat(J),i.noFormat}return $},i.nestedProperty=e(22296),i.keyedContainer=e(37804),i.relativeAttr=e(23193),i.isPlainObject=e(63620),i.toLogRange=e(36896),i.relinkPrivateKeys=e(51528);var r=e(38116);i.isArrayBuffer=r.isArrayBuffer,i.isTypedArray=r.isTypedArray,i.isArrayOrTypedArray=r.isArrayOrTypedArray,i.isArray1D=r.isArray1D,i.ensureArray=r.ensureArray,i.concat=r.concat,i.maxRowLength=r.maxRowLength,i.minRowLength=r.minRowLength;var o=e(20435);i.mod=o.mod,i.modHalf=o.modHalf;var l=e(63064);i.valObjectMeta=l.valObjectMeta,i.coerce=l.coerce,i.coerce2=l.coerce2,i.coerceFont=l.coerceFont,i.coercePattern=l.coercePattern,i.coerceHoverinfo=l.coerceHoverinfo,i.coerceSelectionMarkerOpacity=l.coerceSelectionMarkerOpacity,i.validate=l.validate;var u=e(67555);i.dateTime2ms=u.dateTime2ms,i.isDateTime=u.isDateTime,i.ms2DateTime=u.ms2DateTime,i.ms2DateTimeLocal=u.ms2DateTimeLocal,i.cleanDate=u.cleanDate,i.isJSDate=u.isJSDate,i.formatDate=u.formatDate,i.incrementMonth=u.incrementMonth,i.dateTick0=u.dateTick0,i.dfltRange=u.dfltRange,i.findExactDates=u.findExactDates,i.MIN_MS=u.MIN_MS,i.MAX_MS=u.MAX_MS;var h=e(14952);i.findBin=h.findBin,i.sorterAsc=h.sorterAsc,i.sorterDes=h.sorterDes,i.distinctVals=h.distinctVals,i.roundUp=h.roundUp,i.sort=h.sort,i.findIndexOfMin=h.findIndexOfMin,i.sortObjectKeys=e(95376);var f=e(63084);i.aggNums=f.aggNums,i.len=f.len,i.mean=f.mean,i.median=f.median,i.midRange=f.midRange,i.variance=f.variance,i.stdev=f.stdev,i.interp=f.interp;var T=e(52248);i.init2dArray=T.init2dArray,i.transposeRagged=T.transposeRagged,i.dot=T.dot,i.translationMatrix=T.translationMatrix,i.rotationMatrix=T.rotationMatrix,i.rotationXYMatrix=T.rotationXYMatrix,i.apply3DTransform=T.apply3DTransform,i.apply2DTransform=T.apply2DTransform,i.apply2DTransform2=T.apply2DTransform2,i.convertCssMatrix=T.convertCssMatrix,i.inverseTransformMatrix=T.inverseTransformMatrix;var d=e(11864);i.deg2rad=d.deg2rad,i.rad2deg=d.rad2deg,i.angleDelta=d.angleDelta,i.angleDist=d.angleDist,i.isFullCircle=d.isFullCircle,i.isAngleInsideSector=d.isAngleInsideSector,i.isPtInsideSector=d.isPtInsideSector,i.pathArc=d.pathArc,i.pathSector=d.pathSector,i.pathAnnulus=d.pathAnnulus;var y=e(98308);i.isLeftAnchor=y.isLeftAnchor,i.isCenterAnchor=y.isCenterAnchor,i.isRightAnchor=y.isRightAnchor,i.isTopAnchor=y.isTopAnchor,i.isMiddleAnchor=y.isMiddleAnchor,i.isBottomAnchor=y.isBottomAnchor;var m=e(92348);i.segmentsIntersect=m.segmentsIntersect,i.segmentDistance=m.segmentDistance,i.getTextLocation=m.getTextLocation,i.clearLocationCache=m.clearLocationCache,i.getVisibleSegment=m.getVisibleSegment,i.findPointOnPath=m.findPointOnPath;var w=e(92880);i.extendFlat=w.extendFlat,i.extendDeep=w.extendDeep,i.extendDeepAll=w.extendDeepAll,i.extendDeepNoArrays=w.extendDeepNoArrays;var _=e(24248);i.log=_.log,i.warn=_.warn,i.error=_.error;var A=e(53756);i.counterRegex=A.counter;var p=e(91200);i.throttle=p.throttle,i.throttleDone=p.done,i.clearThrottle=p.clear;var L=e(52200);function M(J){var $={};for(var ae in J)for(var ue=J[ae],ce=0;ce<ue.length;ce++)$[ue[ce]]=+ae;return $}i.getGraphDiv=L.getGraphDiv,i.isPlotDiv=L.isPlotDiv,i.removeElement=L.removeElement,i.addStyleRule=L.addStyleRule,i.addRelatedStyleRule=L.addRelatedStyleRule,i.deleteRelatedStyleRule=L.deleteRelatedStyleRule,i.getFullTransformMatrix=L.getFullTransformMatrix,i.getElementTransformMatrix=L.getElementTransformMatrix,i.getElementAndAncestors=L.getElementAndAncestors,i.equalDomRects=L.equalDomRects,i.clearResponsive=e(75352),i.preserveDrawingBuffer=e(34296),i.makeTraceGroups=e(30988),i._=e(98356),i.notifier=e(41792),i.filterUnique=e(68944),i.filterVisible=e(43880),i.pushUnique=e(52416),i.increment=e(1396),i.cleanNumber=e(54037),i.ensureNumber=function(J){return b(J)?(J=Number(J))>c||J<s?n:J:n},i.isIndex=function(J,$){return!($!==void 0&&J>=$)&&b(J)&&J>=0&&J%1==0},i.noop=e(16628),i.identity=e(35536),i.repeat=function(J,$){for(var ae=new Array($),ue=0;ue<$;ue++)ae[ue]=J;return ae},i.swapAttrs=function(J,$,ae,ue){ae||(ae="x"),ue||(ue="y");for(var ce=0;ce<$.length;ce++){var de=$[ce],pe=i.nestedProperty(J,de.replace("?",ae)),me=i.nestedProperty(J,de.replace("?",ue)),be=pe.get();pe.set(me.get()),me.set(be)}},i.raiseToTop=function(J){J.parentNode.appendChild(J)},i.cancelTransition=function(J){return J.transition().duration(0)},i.constrain=function(J,$,ae){return $>ae?Math.max(ae,Math.min($,J)):Math.max($,Math.min(ae,J))},i.bBoxIntersect=function(J,$,ae){return ae=ae||0,J.left<=$.right+ae&&$.left<=J.right+ae&&J.top<=$.bottom+ae&&$.top<=J.bottom+ae},i.simpleMap=function(J,$,ae,ue,ce){for(var de=J.length,pe=new Array(de),me=0;me<de;me++)pe[me]=$(J[me],ae,ue,ce);return pe},i.randstr=function J($,ae,ue,ce){if(ue||(ue=16),ae===void 0&&(ae=24),ae<=0)return"0";var de,pe,me=Math.log(Math.pow(2,ae))/Math.log(ue),be="";for(de=2;me===1/0;de*=2)me=Math.log(Math.pow(2,ae/de))/Math.log(ue)*de;var we=me-Math.floor(me);for(de=0;de<Math.floor(me);de++)be=Math.floor(Math.random()*ue).toString(ue)+be;we&&(pe=Math.pow(ue,we),be=Math.floor(Math.random()*pe).toString(ue)+be);var Te=parseInt(be,ue);return $&&$[be]||Te!==1/0&&Te>=Math.pow(2,ae)?ce>10?(i.warn("randstr failed uniqueness"),be):J($,ae,ue,(ce||0)+1):be},i.OptionControl=function(J,$){J||(J={}),$||($="opt");var ae={optionList:[],_newoption:function(ue){ue[$]=J,ae[ue.name]=ue,ae.optionList.push(ue)}};return ae["_"+$]=J,ae},i.smooth=function(J,$){if(($=Math.round($)||0)<2)return J;var ae,ue,ce,de,pe=J.length,me=2*pe,be=2*$-1,we=new Array(be),Te=new Array(pe);for(ae=0;ae<be;ae++)we[ae]=(1-Math.cos(Math.PI*(ae+1)/$))/(2*$);for(ae=0;ae<pe;ae++){for(de=0,ue=0;ue<be;ue++)(ce=ae+ue+1-$)<-pe?ce-=me*Math.round(ce/me):ce>=me&&(ce-=me*Math.floor(ce/me)),ce<0?ce=-1-ce:ce>=pe&&(ce=me-1-ce),de+=J[ce]*we[ue];Te[ae]=de}return Te},i.syncOrAsync=function(J,$,ae){var ue;function ce(){return i.syncOrAsync(J,$,ae)}for(;J.length;)if((ue=(0,J.splice(0,1)[0])($))&&ue.then)return ue.then(ce);return ae&&ae($)},i.stripTrailingSlash=function(J){return J.substr(-1)==="/"?J.substr(0,J.length-1):J},i.noneOrAll=function(J,$,ae){if(J){var ue,ce=!1,de=!0;for(ue=0;ue<ae.length;ue++)J[ae[ue]]!=null?ce=!0:de=!1;if(ce&&!de)for(ue=0;ue<ae.length;ue++)J[ae[ue]]=$[ae[ue]]}},i.mergeArray=function(J,$,ae,ue){var ce=typeof ue=="function";if(i.isArrayOrTypedArray(J))for(var de=Math.min(J.length,$.length),pe=0;pe<de;pe++){var me=J[pe];$[pe][ae]=ce?ue(me):me}},i.mergeArrayCastPositive=function(J,$,ae){return i.mergeArray(J,$,ae,function(ue){var ce=+ue;return isFinite(ce)&&ce>0?ce:0})},i.fillArray=function(J,$,ae,ue){if(ue=ue||i.identity,i.isArrayOrTypedArray(J))for(var ce=0;ce<$.length;ce++)$[ce][ae]=ue(J[ce])},i.castOption=function(J,$,ae,ue){ue=ue||i.identity;var ce=i.nestedProperty(J,ae).get();return i.isArrayOrTypedArray(ce)?Array.isArray($)&&i.isArrayOrTypedArray(ce[$[0]])?ue(ce[$[0]][$[1]]):ue(ce[$]):ce},i.extractOption=function(J,$,ae,ue){if(ae in J)return J[ae];var ce=i.nestedProperty($,ue).get();return Array.isArray(ce)?void 0:ce},i.tagSelected=function(J,$,ae){var ue,ce,de=$.selectedpoints,pe=$._indexToPoints;pe&&(ue=M(pe));for(var me=0;me<de.length;me++){var be=de[me];if(i.isIndex(be)||i.isArrayOrTypedArray(be)&&i.isIndex(be[0])&&i.isIndex(be[1])){var we=ue?ue[be]:be,Te=ae?ae[we]:we;(ce=Te)!==void 0&&ce<J.length&&(J[Te].selected=1)}}},i.selIndices2selPoints=function(J){var $=J.selectedpoints,ae=J._indexToPoints;if(ae){for(var ue=M(ae),ce=[],de=0;de<$.length;de++){var pe=$[de];if(i.isIndex(pe)){var me=ue[pe];i.isIndex(me)&&ce.push(me)}}return ce}return $},i.getTargetArray=function(J,$){var ae=$.target;if(typeof ae=="string"&&ae){var ue=i.nestedProperty(J,ae).get();return!!i.isArrayOrTypedArray(ue)&&ue}return!!i.isArrayOrTypedArray(ae)&&ae},i.minExtend=function J($,ae,ue){var ce={};typeof ae!="object"&&(ae={});var de,pe,me,be=ue==="pieLike"?-1:3,we=Object.keys($);for(de=0;de<we.length;de++)me=$[pe=we[de]],pe.charAt(0)!=="_"&&typeof me!="function"&&(pe==="module"?ce[pe]=me:Array.isArray(me)?ce[pe]=pe==="colorscale"||be===-1?me.slice():me.slice(0,be):i.isTypedArray(me)?ce[pe]=be===-1?me.subarray():me.subarray(0,be):ce[pe]=me&&typeof me=="object"?J($[pe],ae[pe],ue):me);for(we=Object.keys(ae),de=0;de<we.length;de++)typeof(me=ae[pe=we[de]])=="object"&&pe in ce&&typeof ce[pe]=="object"||(ce[pe]=me);return ce},i.titleCase=function(J){return J.charAt(0).toUpperCase()+J.substr(1)},i.containsAny=function(J,$){for(var ae=0;ae<$.length;ae++)if(J.indexOf($[ae])!==-1)return!0;return!1},i.isIE=function(){return window.navigator.msSaveBlob!==void 0};var C=/Version\/[\d\.]+.*Safari/;i.isSafari=function(){return C.test(window.navigator.userAgent)};var R=/iPad|iPhone|iPod/;i.isIOS=function(){return R.test(window.navigator.userAgent)};var I=/Firefox\/(\d+)\.\d+/;i.getFirefoxVersion=function(){var J=I.exec(window.navigator.userAgent);if(J&&J.length===2){var $=parseInt(J[1]);if(!isNaN($))return $}return null},i.isD3Selection=function(J){return J instanceof v.selection},i.ensureSingle=function(J,$,ae,ue){var ce=J.select($+(ae?"."+ae:""));if(ce.size())return ce;var de=J.append($);return ae&&de.classed(ae,!0),ue&&de.call(ue),de},i.ensureSingleById=function(J,$,ae,ue){var ce=J.select($+"#"+ae);if(ce.size())return ce;var de=J.append($).attr("id",ae);return ue&&de.call(ue),de},i.objectFromPath=function(J,$){for(var ae,ue=J.split("."),ce=ae={},de=0;de<ue.length;de++){var pe=ue[de],me=null,be=ue[de].match(/(.*)\[([0-9]+)\]/);be?(pe=be[1],me=be[2],ae=ae[pe]=[],de===ue.length-1?ae[me]=$:ae[me]={},ae=ae[me]):(de===ue.length-1?ae[pe]=$:ae[pe]={},ae=ae[pe])}return ce};var D=/^([^\[\.]+)\.(.+)?/,F=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function q(J){return J.slice(0,2)==="__"}i.expandObjectPaths=function(J){var $,ae,ue,ce,de,pe,me;if(typeof J=="object"&&!Array.isArray(J)){for(ae in J)if(J.hasOwnProperty(ae))if($=ae.match(D)){if(ce=J[ae],q(ue=$[1]))continue;delete J[ae],J[ue]=i.extendDeepNoArrays(J[ue]||{},i.objectFromPath(ae,i.expandObjectPaths(ce))[ue])}else if($=ae.match(F)){if(ce=J[ae],q(ue=$[1]))continue;if(de=parseInt($[2]),delete J[ae],J[ue]=J[ue]||[],$[3]===".")me=$[4],pe=J[ue][de]=J[ue][de]||{},i.extendDeepNoArrays(pe,i.objectFromPath(me,i.expandObjectPaths(ce)));else{if(q(ue))continue;J[ue][de]=i.expandObjectPaths(ce)}}else{if(q(ae))continue;J[ae]=i.expandObjectPaths(J[ae])}}return J},i.numSeparate=function(J,$,ae){if(ae||(ae=!1),typeof $!="string"||$.length===0)throw new Error("Separator string required for formatting!");typeof J=="number"&&(J=String(J));var ue=/(\d+)(\d{3})/,ce=$.charAt(0),de=$.charAt(1),pe=J.split("."),me=pe[0],be=pe.length>1?ce+pe[1]:"";if(de&&(pe.length>1||me.length>4||ae))for(;ue.test(me);)me=me.replace(ue,"$1"+de+"$2");return me+be},i.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var z=/^\w*$/;i.templateString=function(J,$){var ae={};return J.replace(i.TEMPLATE_STRING_REGEX,function(ue,ce){var de;return z.test(ce)?de=$[ce]:(ae[ce]=ae[ce]||i.nestedProperty($,ce).get,de=ae[ce]()),i.isValidTextValue(de)?de:""})};var V={max:10,count:0,name:"hovertemplate"};i.hovertemplateString=function(){return ie.apply(V,arguments)};var X={max:10,count:0,name:"texttemplate"};i.texttemplateString=function(){return ie.apply(X,arguments)};var j=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/,H={max:10,count:0,name:"texttemplate",parseMultDiv:!0};i.texttemplateStringForShapes=function(){return ie.apply(H,arguments)};var G=/^[:|\|]/;function ie(J,$,ae){var ue=this,ce=arguments;$||($={});var de={};return J.replace(i.TEMPLATE_STRING_REGEX,function(pe,me,be){var we=me==="_xother"||me==="_yother",Te=me==="_xother_"||me==="_yother_",Le=me==="xother_"||me==="yother_",Ie=me==="xother"||me==="yother"||we||Le||Te,_e=me;(we||Te)&&(_e=_e.substring(1)),(Le||Te)&&(_e=_e.substring(0,_e.length-1));var fe,le,ye,Oe=null,Ae=null;if(ue.parseMultDiv){var Se=function(xe){var Me=xe.match(j);return Me?{key:Me[1],op:Me[2],number:Number(Me[3])}:{key:xe,op:null,number:null}}(_e);_e=Se.key,Oe=Se.op,Ae=Se.number}if(Ie){if((fe=$[_e])===void 0)return""}else for(ye=3;ye<ce.length;ye++)if(le=ce[ye]){if(le.hasOwnProperty(_e)){fe=le[_e];break}if(z.test(_e)||(fe=i.nestedProperty(le,_e).get(),(fe=de[_e]||i.nestedProperty(le,_e).get())&&(de[_e]=fe)),fe!==void 0)break}if(fe!==void 0&&(Oe==="*"&&(fe*=Ae),Oe==="/"&&(fe/=Ae)),fe===void 0&&ue)return ue.count<ue.max&&(i.warn("Variable '"+_e+"' in "+ue.name+" could not be found!"),fe=pe),ue.count===ue.max&&i.warn("Too many "+ue.name+" warnings - additional warnings will be suppressed"),ue.count++,pe;if(be){var Pe;if(be[0]===":"&&(Pe=ae?ae.numberFormat:i.numberFormat,fe!==""&&(fe=Pe(be.replace(G,""))(fe))),be[0]==="|"){Pe=ae?ae.timeFormat:x;var Fe=i.dateTime2ms(fe);fe=i.formatDate(Fe,be.replace(G,""),!1,Pe)}}else{var Be=_e+"Label";$.hasOwnProperty(Be)&&(fe=$[Be])}return Ie&&(fe="("+fe+")",(we||Te)&&(fe=" "+fe),(Le||Te)&&(fe+=" ")),fe})}i.subplotSort=function(J,$){for(var ae=Math.min(J.length,$.length)+1,ue=0,ce=0,de=0;de<ae;de++){var pe=J.charCodeAt(de)||0,me=$.charCodeAt(de)||0,be=pe>=48&&pe<=57,we=me>=48&&me<=57;if(be&&(ue=10*ue+pe-48),we&&(ce=10*ce+me-48),!be||!we){if(ue!==ce)return ue-ce;if(pe!==me)return pe-me}}return ce-ue};var re=2e9;i.seedPseudoRandom=function(){re=2e9},i.pseudoRandom=function(){var J=re;return re=(69069*re+1)%4294967296,Math.abs(re-J)<429496729?i.pseudoRandom():re/4294967296},i.fillText=function(J,$,ae){var ue=Array.isArray(ae)?function(pe){ae.push(pe)}:function(pe){ae.text=pe},ce=i.extractOption(J,$,"htx","hovertext");if(i.isValidTextValue(ce))return ue(ce);var de=i.extractOption(J,$,"tx","text");return i.isValidTextValue(de)?ue(de):void 0},i.isValidTextValue=function(J){return J||J===0},i.formatPercent=function(J,$){$=$||0;for(var ae=(Math.round(100*J*Math.pow(10,$))*Math.pow(.1,$)).toFixed($)+"%",ue=0;ue<$;ue++)ae.indexOf(".")!==-1&&(ae=(ae=ae.replace("0%","%")).replace(".%","%"));return ae},i.isHidden=function(J){var $=window.getComputedStyle(J).display;return!$||$==="none"},i.strTranslate=function(J,$){return J||$?"translate("+J+","+$+")":""},i.strRotate=function(J){return J?"rotate("+J+")":""},i.strScale=function(J){return J!==1?"scale("+J+")":""},i.getTextTransform=function(J){var $=J.noCenter,ae=J.textX,ue=J.textY,ce=J.targetX,de=J.targetY,pe=J.anchorX||0,me=J.anchorY||0,be=J.rotate,we=J.scale;return we?we>1&&(we=1):we=0,i.strTranslate(ce-we*(ae+pe),de-we*(ue+me))+i.strScale(we)+(be?"rotate("+be+($?"":" "+ae+" "+ue)+")":"")},i.setTransormAndDisplay=function(J,$){J.attr("transform",i.getTextTransform($)),J.style("display",$.scale?null:"none")},i.ensureUniformFontSize=function(J,$){var ae=i.extendFlat({},$);return ae.size=Math.max($.size,J._fullLayout.uniformtext.minsize||0),ae},i.join2=function(J,$,ae){var ue=J.length;return ue>1?J.slice(0,-1).join($)+ae+J[ue-1]:J.join($)},i.bigFont=function(J){return Math.round(1.2*J)};var te=i.getFirefoxVersion(),K=te!==null&&te<86;i.getPositionFromD3Event=function(){return K?[v.event.layerX,v.event.layerY]:[v.event.offsetX,v.event.offsetY]}},63620:function(O){O.exports=function(S){return window&&window.process&&window.process.versions?Object.prototype.toString.call(S)==="[object Object]":Object.prototype.toString.call(S)==="[object Object]"&&Object.getPrototypeOf(S).hasOwnProperty("hasOwnProperty")}},37804:function(O,S,e){var v=e(22296),x=/^\w*$/;O.exports=function(t,b,g,c){var s,n,i;g=g||"name",c=c||"value";var a={};b&&b.length?(i=v(t,b),n=i.get()):n=t,b=b||"";var r={};if(n)for(s=0;s<n.length;s++)r[n[s][g]]=s;var o=x.test(c),l={set:function(u,h){var f=h===null?4:0;if(!n){if(!i||f===4)return;n=[],i.set(n)}var T=r[u];if(T===void 0){if(f===4)return;f|=3,T=n.length,r[u]=T}else h!==(o?n[T][c]:v(n[T],c).get())&&(f|=2);var d=n[T]=n[T]||{};return d[g]=u,o?d[c]=h:v(d,c).set(h),h!==null&&(f&=-5),a[T]=a[T]|f,l},get:function(u){if(n){var h=r[u];return h===void 0?void 0:o?n[h][c]:v(n[h],c).get()}},rename:function(u,h){var f=r[u];return f===void 0||(a[f]=1|a[f],r[h]=f,delete r[u],n[f][g]=h),l},remove:function(u){var h=r[u];if(h===void 0)return l;var f=n[h];if(Object.keys(f).length>2)return a[h]=2|a[h],l.set(u,null);if(o){for(s=h;s<n.length;s++)a[s]=3|a[s];for(s=h;s<n.length;s++)r[n[s][g]]--;n.splice(h,1),delete r[u]}else v(f,c).set(null),a[h]=6|a[h];return l},constructUpdate:function(){for(var u,h,f={},T=Object.keys(a),d=0;d<T.length;d++)h=T[d],u=b+"["+h+"]",n[h]?(1&a[h]&&(f[u+"."+g]=n[h][g]),2&a[h]&&(f[u+"."+c]=o?4&a[h]?null:n[h][c]:4&a[h]?null:v(n[h],c).get())):f[u]=null;return f}};return l}},98356:function(O,S,e){var v=e(24040);O.exports=function(x,t){for(var b=x._context.locale,g=0;g<2;g++){for(var c=x._context.locales,s=0;s<2;s++){var n=(c[b]||{}).dictionary;if(n){var i=n[t];if(i)return i}c=v.localeRegistry}var a=b.split("-")[0];if(a===b)break;b=a}return t}},24248:function(O,S,e){var v=e(20556).dfltConfig,x=e(41792),t=O.exports={};t.log=function(){var b;if(v.logging>1){var g=["LOG:"];for(b=0;b<arguments.length;b++)g.push(arguments[b]);console.trace.apply(console,g)}if(v.notifyOnLogging>1){var c=[];for(b=0;b<arguments.length;b++)c.push(arguments[b]);x(c.join("<br>"),"long")}},t.warn=function(){var b;if(v.logging>0){var g=["WARN:"];for(b=0;b<arguments.length;b++)g.push(arguments[b]);console.trace.apply(console,g)}if(v.notifyOnLogging>0){var c=[];for(b=0;b<arguments.length;b++)c.push(arguments[b]);x(c.join("<br>"),"stick")}},t.error=function(){var b;if(v.logging>0){var g=["ERROR:"];for(b=0;b<arguments.length;b++)g.push(arguments[b]);console.error.apply(console,g)}if(v.notifyOnLogging>0){var c=[];for(b=0;b<arguments.length;b++)c.push(arguments[b]);x(c.join("<br>"),"stick")}}},30988:function(O,S,e){var v=e(33428);O.exports=function(x,t,b){var g=x.selectAll("g."+b.replace(/\s/g,".")).data(t,function(s){return s[0].trace.uid});g.exit().remove(),g.enter().append("g").attr("class",b),g.order();var c=x.classed("rangeplot")?"nodeRangePlot3":"node3";return g.each(function(s){s[0][c]=v.select(this)}),g}},52248:function(O,S,e){var v=e(36524);S.init2dArray=function(x,t){for(var b=new Array(x),g=0;g<x;g++)b[g]=new Array(t);return b},S.transposeRagged=function(x){var t,b,g=0,c=x.length;for(t=0;t<c;t++)g=Math.max(g,x[t].length);var s=new Array(g);for(t=0;t<g;t++)for(s[t]=new Array(c),b=0;b<c;b++)s[t][b]=x[b][t];return s},S.dot=function(x,t){if(!x.length||!t.length||x.length!==t.length)return null;var b,g,c=x.length;if(x[0].length)for(b=new Array(c),g=0;g<c;g++)b[g]=S.dot(x[g],t);else if(t[0].length){var s=S.transposeRagged(t);for(b=new Array(s.length),g=0;g<s.length;g++)b[g]=S.dot(x,s[g])}else for(b=0,g=0;g<c;g++)b+=x[g]*t[g];return b},S.translationMatrix=function(x,t){return[[1,0,x],[0,1,t],[0,0,1]]},S.rotationMatrix=function(x){var t=x*Math.PI/180;return[[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]]},S.rotationXYMatrix=function(x,t,b){return S.dot(S.dot(S.translationMatrix(t,b),S.rotationMatrix(x)),S.translationMatrix(-t,-b))},S.apply3DTransform=function(x){return function(){var t=arguments,b=arguments.length===1?t[0]:[t[0],t[1],t[2]||0];return S.dot(x,[b[0],b[1],b[2],1]).slice(0,3)}},S.apply2DTransform=function(x){return function(){var t=arguments;t.length===3&&(t=t[0]);var b=arguments.length===1?t[0]:[t[0],t[1]];return S.dot(x,[b[0],b[1],1]).slice(0,2)}},S.apply2DTransform2=function(x){var t=S.apply2DTransform(x);return function(b){return t(b.slice(0,2)).concat(t(b.slice(2,4)))}},S.convertCssMatrix=function(x){if(x){var t=x.length;if(t===16)return x;if(t===6)return[x[0],x[1],0,0,x[2],x[3],0,0,0,0,1,0,x[4],x[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},S.inverseTransformMatrix=function(x){var t=[];return v.invert(t,x),[[t[0],t[1],t[2],t[3]],[t[4],t[5],t[6],t[7]],[t[8],t[9],t[10],t[11]],[t[12],t[13],t[14],t[15]]]}},20435:function(O){O.exports={mod:function(S,e){var v=S%e;return v<0?v+e:v},modHalf:function(S,e){return Math.abs(S)>e/2?S-Math.round(S/e)*e:S}}},22296:function(O,S,e){var v=e(38248),x=e(38116).isArrayOrTypedArray;function t(a,r){return function(){var o,l,u,h,f,T=a;for(h=0;h<r.length-1;h++){if((o=r[h])===-1){for(l=!0,u=[],f=0;f<T.length;f++)u[f]=t(T[f],r.slice(h+1))(),u[f]!==u[0]&&(l=!1);return l?u[0]:u}if(typeof o=="number"&&!x(T)||typeof(T=T[o])!="object"||T===null)return}if(typeof T=="object"&&T!==null&&(u=T[r[h]])!==null)return u}}O.exports=function(a,r){if(v(r))r=String(r);else if(typeof r!="string"||r.substr(r.length-4)==="[-1]")throw"bad property string";var o,l,u,h,f=r.split(".");for(h=0;h<f.length;h++)if(String(f[h]).slice(0,2)==="__")throw"bad property string";for(h=0;h<f.length;){if(o=String(f[h]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(o[1])f[h]=o[1];else{if(h!==0)throw"bad property string";f.splice(0,1)}for(l=o[2].substr(1,o[2].length-2).split("]["),u=0;u<l.length;u++)h++,f.splice(h,0,Number(l[u]))}h++}return typeof a!="object"?function(T,d,y){return{set:function(){throw"bad container"},get:function(){},astr:d,parts:y,obj:T}}(a,r,f):{set:c(a,f,r),get:t(a,f),astr:r,parts:f,obj:a}};var b=/(^|\.)args\[/;function g(a,r){return a===void 0||a===null&&!r.match(b)}function c(a,r,o){return function(l){var u,h,f=a,T="",d=g(l,o);for(h=0;h<r.length-1;h++){if(typeof(u=r[h])=="number"&&!x(f))throw"array index but container is not an array";if(u===-1){if(d=!n(f,r.slice(h+1),l,o))break;return}if(!i(f,u,r[h+1],d))break;if(typeof(f=f[u])!="object"||f===null)throw"container is not an object";T=s(T,u)}if(d){if(h===r.length-1&&(delete f[r[h]],Array.isArray(f)&&+r[h]==f.length-1))for(;f.length&&f[f.length-1]===void 0;)f.pop()}else f[r[h]]=l}}function s(a,r){var o=r;return v(r)?o="["+r+"]":a&&(o="."+r),a+o}function n(a,r,o,l){var u,h=x(o),f=!0,T=o,d=l.replace("-1",0),y=!h&&g(o,d),m=r[0];for(u=0;u<a.length;u++)d=l.replace("-1",u),h&&(y=g(T=o[u%o.length],d)),y&&(f=!1),i(a,u,m,y)&&c(a[u],r,l.replace("-1",u))(T);return f}function i(a,r,o,l){if(a[r]===void 0){if(l)return!1;a[r]=typeof o=="number"?[]:{}}return!0}},16628:function(O){O.exports=function(){}},41792:function(O,S,e){var v=e(33428),x=e(38248),t=[];O.exports=function(b,g){if(t.indexOf(b)===-1){t.push(b);var c=1e3;x(g)?c=g:g==="long"&&(c=3e3);var s=v.select("body").selectAll(".plotly-notifier").data([0]);s.enter().append("div").classed("plotly-notifier",!0),s.selectAll(".notifier-note").data(t).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(i){var a=v.select(this);a.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){a.transition().call(n)});for(var r=a.append("p"),o=i.split(/<br\s*\/?>/g),l=0;l<o.length;l++)l&&r.append("br"),r.append("span").text(o[l]);g==="stick"?a.transition().duration(350).style("opacity",1):a.transition().duration(700).style("opacity",1).transition().delay(c).call(n)})}function n(i){i.duration(700).style("opacity",0).each("end",function(a){var r=t.indexOf(a);r!==-1&&t.splice(r,1),v.select(this).remove()})}}},72213:function(O,S,e){var v=e(93972),x="data-savedcursor";O.exports=function(t,b){var g=t.attr(x);if(b){if(!g){for(var c=(t.attr("class")||"").split(" "),s=0;s<c.length;s++){var n=c[s];n.indexOf("cursor-")===0&&t.attr(x,n.substr(7)).classed(n,!1)}t.attr(x)||t.attr(x,"!!")}v(t,b)}else g&&(t.attr(x,null),g==="!!"?v(t):v(t,g))}},92065:function(O,S,e){var v=e(52248).dot,x=e(39032).BADNUM,t=O.exports={};t.tester=function(b){var g,c=b.slice(),s=c[0][0],n=s,i=c[0][1],a=i;for(c[c.length-1][0]===c[0][0]&&c[c.length-1][1]===c[0][1]||c.push(c[0]),g=1;g<c.length;g++)s=Math.min(s,c[g][0]),n=Math.max(n,c[g][0]),i=Math.min(i,c[g][1]),a=Math.max(a,c[g][1]);var r,o=!1;c.length===5&&(c[0][0]===c[1][0]?c[2][0]===c[3][0]&&c[0][1]===c[3][1]&&c[1][1]===c[2][1]&&(o=!0,r=function(h){return h[0]===c[0][0]}):c[0][1]===c[1][1]&&c[2][1]===c[3][1]&&c[0][0]===c[3][0]&&c[1][0]===c[2][0]&&(o=!0,r=function(h){return h[1]===c[0][1]}));var l=!0,u=c[0];for(g=1;g<c.length;g++)if(u[0]!==c[g][0]||u[1]!==c[g][1]){l=!1;break}return{xmin:s,xmax:n,ymin:i,ymax:a,pts:c,contains:o?function(h,f){var T=h[0],d=h[1];return!(T===x||T<s||T>n||d===x||d<i||d>a||f&&r(h))}:function(h,f){var T=h[0],d=h[1];if(T===x||T<s||T>n||d===x||d<i||d>a)return!1;var y,m,w,_,A,p=c.length,L=c[0][0],M=c[0][1],C=0;for(y=1;y<p;y++)if(m=L,w=M,L=c[y][0],M=c[y][1],!(T<(_=Math.min(m,L))||T>Math.max(m,L)||d>Math.max(w,M)))if(d<Math.min(w,M))T!==_&&C++;else{if(d===(A=L===m?d:w+(T-m)*(M-w)/(L-m)))return y!==1||!f;d<=A&&T!==_&&C++}return C%2==1},isRect:o,degenerate:l}},t.isSegmentBent=function(b,g,c,s){var n,i,a,r=b[g],o=[b[c][0]-r[0],b[c][1]-r[1]],l=v(o,o),u=Math.sqrt(l),h=[-o[1]/u,o[0]/u];for(n=g+1;n<c;n++)if(i=[b[n][0]-r[0],b[n][1]-r[1]],(a=v(i,o))<0||a>l||Math.abs(v(i,h))>s)return!0;return!1},t.filter=function(b,g){var c=[b[0]],s=0,n=0;function i(a){b.push(a);var r=c.length,o=s;c.splice(n+1);for(var l=o+1;l<b.length;l++)(l===b.length-1||t.isSegmentBent(b,o,l+1,g))&&(c.push(b[l]),c.length<r-2&&(s=l,n=c.length-1),o=l)}return b.length>1&&i(b.pop()),{addPt:i,raw:b,filtered:c}}},5048:function(O,S,e){var v=e(16576),x=e(28624);O.exports=function(t,b,g){var c=t._fullLayout,s=!0;return c._glcanvas.each(function(n){if(n.regl)n.regl.preloadCachedCode(g);else if(!n.pick||c._has("parcoords")){try{n.regl=x({canvas:this,attributes:{antialias:!n.pick,preserveDrawingBuffer:!0},pixelRatio:t._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:b||[],cachedCode:g||{}})}catch{s=!1}n.regl||(s=!1),s&&this.addEventListener("webglcontextlost",function(i){t&&t.emit&&t.emit("plotly_webglcontextlost",{event:i,layer:n.key})},!1)}}),s||v({container:c._glcontainer.node()}),s}},34296:function(O,S,e){var v=e(38248),x=e(25928);O.exports=function(t){var b;if(typeof(b=t&&t.hasOwnProperty("userAgent")?t.userAgent:function(){var r;return typeof navigator<"u"&&(r=navigator.userAgent),r&&r.headers&&typeof r.headers["user-agent"]=="string"&&(r=r.headers["user-agent"]),r}())!="string")return!0;var g=x({ua:{headers:{"user-agent":b}},tablet:!0,featureDetect:!1});if(!g){for(var c=b.split(" "),s=1;s<c.length;s++)if(c[s].indexOf("Safari")!==-1)for(var n=s-1;n>-1;n--){var i=c[n];if(i.substr(0,8)==="Version/"){var a=i.substr(8).split(".")[0];if(v(a)&&(a=+a),a>=13)return!0}}}return g}},52416:function(O){O.exports=function(S,e){if(e instanceof RegExp){for(var v=e.toString(),x=0;x<S.length;x++)if(S[x]instanceof RegExp&&S[x].toString()===v)return S;S.push(e)}else!e&&e!==0||S.indexOf(e)!==-1||S.push(e);return S}},94552:function(O,S,e){var v=e(3400),x=e(20556).dfltConfig,t={add:function(b,g,c,s,n){var i,a;b.undoQueue=b.undoQueue||{index:0,queue:[],sequence:!1},a=b.undoQueue.index,b.autoplay?b.undoQueue.inSequence||(b.autoplay=!1):(!b.undoQueue.sequence||b.undoQueue.beginSequence?(i={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},b.undoQueue.queue.splice(a,b.undoQueue.queue.length-a,i),b.undoQueue.index+=1):i=b.undoQueue.queue[a-1],b.undoQueue.beginSequence=!1,i&&(i.undo.calls.unshift(g),i.undo.args.unshift(c),i.redo.calls.push(s),i.redo.args.push(n)),b.undoQueue.queue.length>x.queueLength&&(b.undoQueue.queue.shift(),b.undoQueue.index--))},startSequence:function(b){b.undoQueue=b.undoQueue||{index:0,queue:[],sequence:!1},b.undoQueue.sequence=!0,b.undoQueue.beginSequence=!0},stopSequence:function(b){b.undoQueue=b.undoQueue||{index:0,queue:[],sequence:!1},b.undoQueue.sequence=!1,b.undoQueue.beginSequence=!1},undo:function(b){var g,c;if(!(b.undoQueue===void 0||isNaN(b.undoQueue.index)||b.undoQueue.index<=0)){for(b.undoQueue.index--,g=b.undoQueue.queue[b.undoQueue.index],b.undoQueue.inSequence=!0,c=0;c<g.undo.calls.length;c++)t.plotDo(b,g.undo.calls[c],g.undo.args[c]);b.undoQueue.inSequence=!1,b.autoplay=!1}},redo:function(b){var g,c;if(!(b.undoQueue===void 0||isNaN(b.undoQueue.index)||b.undoQueue.index>=b.undoQueue.queue.length)){for(g=b.undoQueue.queue[b.undoQueue.index],b.undoQueue.inSequence=!0,c=0;c<g.redo.calls.length;c++)t.plotDo(b,g.redo.calls[c],g.redo.args[c]);b.undoQueue.inSequence=!1,b.autoplay=!1,b.undoQueue.index++}},plotDo:function(b,g,c){b.autoplay=!0,c=function(s,n){for(var i,a=[],r=0;r<n.length;r++)i=n[r],a[r]=i===s?i:typeof i=="object"?Array.isArray(i)?v.extendDeep([],i):v.extendDeepAll({},i):i;return a}(b,c),g.apply(null,c)}};O.exports=t},53756:function(O,S){S.counter=function(e,v,x,t){var b=(v||"")+(x?"":"$"),g=t===!1?"":"^";return e==="xy"?new RegExp(g+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+b):new RegExp(g+e+"([2-9]|[1-9][0-9]+)?"+b)}},23193:function(O){var S=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;O.exports=function(v,x){for(;x;){var t=v.match(S);if(t)v=t[1];else{if(!v.match(e))throw new Error("bad relativeAttr call:"+[v,x]);v=""}if(x.charAt(0)!=="^")break;x=x.slice(1)}return v&&x.charAt(0)!=="["?v+"."+x:v+x}},51528:function(O,S,e){var v=e(38116).isArrayOrTypedArray,x=e(63620);O.exports=function t(b,g){for(var c in g){var s=g[c],n=b[c];if(n!==s)if(c.charAt(0)==="_"||typeof s=="function"){if(c in b)continue;b[c]=s}else if(v(s)&&v(n)&&x(s[0])){if(c==="customdata"||c==="ids")continue;for(var i=Math.min(s.length,n.length),a=0;a<i;a++)n[a]!==s[a]&&x(s[a])&&x(n[a])&&t(n[a],s[a])}else x(s)&&x(n)&&(t(n,s),Object.keys(n).length||delete b[c])}}},14952:function(O,S,e){var v=e(38248),x=e(24248),t=e(35536),b=e(39032).BADNUM,g=1e-9;function c(a,r){return a<r}function s(a,r){return a<=r}function n(a,r){return a>r}function i(a,r){return a>=r}S.findBin=function(a,r,o){if(v(r.start))return o?Math.ceil((a-r.start)/r.size-g)-1:Math.floor((a-r.start)/r.size+g);var l,u,h=0,f=r.length,T=0,d=f>1?(r[f-1]-r[0])/(f-1):1;for(u=d>=0?o?c:s:o?i:n,a+=d*g*(o?-1:1)*(d>=0?1:-1);h<f&&T++<100;)u(r[l=Math.floor((h+f)/2)],a)?h=l+1:f=l;return T>90&&x.log("Long binary search..."),h-1},S.sorterAsc=function(a,r){return a-r},S.sorterDes=function(a,r){return r-a},S.distinctVals=function(a){var r,o=a.slice();for(o.sort(S.sorterAsc),r=o.length-1;r>-1&&o[r]===b;r--);for(var l,u=o[r]-o[0]||1,h=u/(r||1)/1e4,f=[],T=0;T<=r;T++){var d=o[T],y=d-l;l===void 0?(f.push(d),l=d):y>h&&(u=Math.min(u,y),f.push(d),l=d)}return{vals:f,minDiff:u}},S.roundUp=function(a,r,o){for(var l,u=0,h=r.length-1,f=0,T=o?0:1,d=o?1:0,y=o?Math.ceil:Math.floor;u<h&&f++<100;)r[l=y((u+h)/2)]<=a?u=l+T:h=l-d;return r[u]},S.sort=function(a,r){for(var o=0,l=0,u=1;u<a.length;u++){var h=r(a[u],a[u-1]);if(h<0?o=1:h>0&&(l=1),o&&l)return a.sort(r)}return l?a:a.reverse()},S.findIndexOfMin=function(a,r){r=r||t;for(var o,l=1/0,u=0;u<a.length;u++){var h=r(a[u]);h<l&&(l=h,o=u)}return o}},93972:function(O){O.exports=function(S,e){(S.attr("class")||"").split(" ").forEach(function(v){v.indexOf("cursor-")===0&&S.classed(v,!1)}),e&&S.classed("cursor-"+e,!0)}},16576:function(O,S,e){var v=e(76308),x=function(){};O.exports=function(t){for(var b in t)typeof t[b]=="function"&&(t[b]=x);t.destroy=function(){t.container.parentNode.removeChild(t.container)};var g=document.createElement("div");g.className="no-webgl",g.style.cursor="pointer",g.style.fontSize="24px",g.style.color=v.defaults[0],g.style.position="absolute",g.style.left=g.style.top="0px",g.style.width=g.style.height="100%",g.style["background-color"]=v.lightLine,g.style["z-index"]=30;var c=document.createElement("p");return c.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",c.style.position="relative",c.style.top="50%",c.style.left="50%",c.style.height="30%",c.style.width="50%",c.style.margin="-15% 0 0 -25%",g.appendChild(c),t.container.appendChild(g),t.container.style.background="#FFFFFF",t.container.onclick=function(){window.open("https://get.webgl.org")},!1}},95376:function(O){O.exports=function(S){return Object.keys(S).sort()}},63084:function(O,S,e){var v=e(38248),x=e(38116).isArrayOrTypedArray;S.aggNums=function(t,b,g,c){var s,n;if((!c||c>g.length)&&(c=g.length),v(b)||(b=!1),x(g[0])){for(n=new Array(c),s=0;s<c;s++)n[s]=S.aggNums(t,b,g[s]);g=n}for(s=0;s<c;s++)v(b)?v(g[s])&&(b=t(+b,+g[s])):b=g[s];return b},S.len=function(t){return S.aggNums(function(b){return b+1},0,t)},S.mean=function(t,b){return b||(b=S.len(t)),S.aggNums(function(g,c){return g+c},0,t)/b},S.midRange=function(t){if(t!==void 0&&t.length!==0)return(S.aggNums(Math.max,null,t)+S.aggNums(Math.min,null,t))/2},S.variance=function(t,b,g){return b||(b=S.len(t)),v(g)||(g=S.mean(t,b)),S.aggNums(function(c,s){return c+Math.pow(s-g,2)},0,t)/b},S.stdev=function(t,b,g){return Math.sqrt(S.variance(t,b,g))},S.median=function(t){var b=t.slice().sort();return S.interp(b,.5)},S.interp=function(t,b){if(!v(b))throw"n should be a finite number";if((b=b*t.length-.5)<0)return t[0];if(b>t.length-1)return t[t.length-1];var g=b%1;return g*t[Math.ceil(b)]+(1-g)*t[Math.floor(b)]}},43080:function(O,S,e){var v=e(72160);O.exports=function(x){return x?v(x):[0,0,0,1]}},9188:function(O,S,e){var v=e(2264),x=e(43616),t=e(3400),b=null;O.exports=function(){if(b!==null)return b;b=!1;var g=t.isIE()||t.isSafari()||t.isIOS();if(window.navigator.userAgent&&!g){var c=Array.from(v.CSS_DECLARATIONS).reverse(),s=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof s=="function")b=c.some(function(a){return s.apply(null,a)});else{var n=x.tester.append("image").attr("style",v.STYLE),i=window.getComputedStyle(n.node()).imageRendering;b=c.some(function(a){var r=a[1];return i===r||i===r.toLowerCase()}),n.remove()}}return b}},72736:function(O,S,e){var v=e(33428),x=e(3400),t=x.strTranslate,b=e(9616),g=e(84284).LINE_SPACING,c=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;S.convertToTspans=function(F,q,z){var V=F.text(),X=!F.attr("data-notex")&&q&&q._context.typesetMath&&typeof MathJax<"u"&&V.match(c),j=v.select(F.node().parentNode);if(!j.empty()){var H=F.attr("class")?F.attr("class").split(" ")[0]:"text";return H+="-math",j.selectAll("svg."+H).remove(),j.selectAll("g."+H+"-group").remove(),F.style("display",null).attr({"data-unformatted":V,"data-math":"N"}),X?(q&&q._promises||[]).push(new Promise(function(ie){F.style("display","none");var re=parseInt(F.node().style.fontSize,10),te={fontSize:re};(function(K,J,$){var ae,ue,ce,de,pe=parseInt((MathJax.version||"").split(".")[0]);if(pe===2||pe===3){var me=function(){var we="math-output-"+x.randstr({},64),Te=(de=v.select("body").append("div").attr({id:we}).style({visibility:"hidden",position:"absolute","font-size":J.fontSize+"px"}).text(K.replace(s,"\\lt ").replace(n,"\\gt "))).node();return pe===2?MathJax.Hub.Typeset(Te):MathJax.typeset([Te])},be=function(){var we=de.select(pe===2?".MathJax_SVG":".MathJax"),Te=!we.empty()&&de.select("svg").node();if(Te){var Le,Ie=Te.getBoundingClientRect();Le=pe===2?v.select("body").select("#MathJax_SVG_glyphs"):we.select("defs"),$(we,Le,Ie)}else x.log("There was an error in the tex syntax.",K),$();de.remove()};pe===2?MathJax.Hub.Queue(function(){return ue=x.extendDeepAll({},MathJax.Hub.config),ce=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:i},displayAlign:"left"})},function(){if((ae=MathJax.Hub.config.menuSettings.renderer)!=="SVG")return MathJax.Hub.setRenderer("SVG")},me,be,function(){if(ae!=="SVG")return MathJax.Hub.setRenderer(ae)},function(){return ce!==void 0&&(MathJax.Hub.processSectionDelay=ce),MathJax.Hub.Config(ue)}):pe===3&&(ue=x.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=i,(ae=MathJax.config.startup.output)!=="svg"&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){me(),be(),ae!=="svg"&&(MathJax.config.startup.output=ae),MathJax.config=ue}))}else x.warn("No MathJax version:",MathJax.version)})(X[2],te,function(K,J,$){j.selectAll("svg."+H).remove(),j.selectAll("g."+H+"-group").remove();var ae=K&&K.select("svg");if(!ae||!ae.node())return G(),void ie();var ue=j.append("g").classed(H+"-group",!0).attr({"pointer-events":"none","data-unformatted":V,"data-math":"Y"});ue.node().appendChild(ae.node()),J&&J.node()&&ae.node().insertBefore(J.node().cloneNode(!0),ae.node().firstChild);var ce=$.width,de=$.height;ae.attr({class:H,height:de,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var pe=F.node().style.fill||"black",me=ae.select("g");me.attr({fill:pe,stroke:pe});var be=me.node().getBoundingClientRect(),we=be.width,Te=be.height;(we>ce||Te>de)&&(ae.style("overflow","hidden"),we=(be=ae.node().getBoundingClientRect()).width,Te=be.height);var Le=+F.attr("x"),Ie=+F.attr("y"),_e=-(re||F.node().getBoundingClientRect().height)/4;if(H[0]==="y")ue.attr({transform:"rotate("+[-90,Le,Ie]+")"+t(-we/2,_e-Te/2)});else if(H[0]==="l")Ie=_e-Te/2;else if(H[0]==="a"&&H.indexOf("atitle")!==0)Le=0,Ie=_e;else{var fe=F.attr("text-anchor");Le-=we*(fe==="middle"?.5:fe==="end"?1:0),Ie=Ie+_e-Te/2}ae.attr({x:Le,y:Ie}),z&&z.call(F,ue),ie(ue)})})):G(),F}function G(){j.empty()||(H=F.attr("class")+"-math",j.select("svg."+H).remove()),F.text("").style("white-space","pre");var ie=function(re,te){te=te.replace(h," ");var K,J=!1,$=[],ae=-1;function ue(){ae++;var Ae=document.createElementNS(b.svg,"tspan");v.select(Ae).attr({class:"line",dy:ae*g+"em"}),re.appendChild(Ae),K=Ae;var Se=$;if($=[{node:Ae}],Se.length>1)for(var Pe=1;Pe<Se.length;Pe++)ce(Se[Pe])}function ce(Ae){var Se,Pe=Ae.type,Fe={};if(Pe==="a"){Se="a";var Be=Ae.target,xe=Ae.href,Me=Ae.popup;xe&&(Fe={"xlink:xlink:show":Be==="_blank"||Be.charAt(0)!=="_"?"new":"replace",target:Be,"xlink:xlink:href":xe},Me&&(Fe.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Me+'");return false;'))}else Se="tspan";Ae.style&&(Fe.style=Ae.style);var Ce=document.createElementNS(b.svg,Se);if(Pe==="sup"||Pe==="sub"){de(K,l),K.appendChild(Ce);var Ne=document.createElementNS(b.svg,"tspan");de(Ne,l),v.select(Ne).attr("dy",o[Pe]),Fe.dy=r[Pe],K.appendChild(Ce),K.appendChild(Ne)}else K.appendChild(Ce);v.select(Ce).attr(Fe),K=Ae.node=Ce,$.push(Ae)}function de(Ae,Se){Ae.appendChild(document.createTextNode(Se))}function pe(Ae){if($.length!==1){var Se=$.pop();Ae!==Se.type&&x.log("Start tag <"+Se.type+"> doesnt match end tag <"+Ae+">. Pretending it did match.",te),K=$[$.length-1].node}else x.log("Ignoring unexpected end tag </"+Ae+">.",te)}d.test(te)?ue():(K=re,$=[{node:re}]);for(var me=te.split(f),be=0;be<me.length;be++){var we=me[be],Te=we.match(T),Le=Te&&Te[2].toLowerCase(),Ie=a[Le];if(Le==="br")ue();else if(Ie===void 0)de(K,C(we));else if(Te[1])pe(Le);else{var _e=Te[4],fe={type:Le},le=A(_e,y);if(le?(le=le.replace(p,"$1 fill:"),Ie&&(le+=";"+Ie)):Ie&&(le=Ie),le&&(fe.style=le),Le==="a"){J=!0;var ye=A(_e,m);if(ye){var Oe=R(ye);Oe&&(fe.href=Oe,fe.target=A(_e,w)||"_blank",fe.popup=A(_e,_))}}ce(fe)}}return J}(F.node(),V);ie&&F.style("pointer-events","all"),S.positionText(F),z&&z.call(F)}};var s=/(<|&lt;|&#60;)/g,n=/(>|&gt;|&#62;)/g,i=[["$","$"],["\\(","\\)"]],a={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},r={sub:"0.3em",sup:"-0.6em"},o={sub:"-0.21em",sup:"0.42em"},l="",u=["http:","https:","mailto:","",void 0,":"],h=S.NEWLINES=/(\r\n?|\n)/g,f=/(<[^<>]*>)/,T=/<(\/?)([^ >]*)(\s+(.*))?>/i,d=/<br(\s+.*)?>/i;S.BR_TAG_ALL=/<br(\s+.*)?>/gi;var y=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,m=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,w=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,_=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function A(F,q){if(!F)return null;var z=F.match(q),V=z&&(z[3]||z[4]);return V&&C(V)}var p=/(^|;)\s*color:/;S.plainText=function(F,q){for(var z=(q=q||{}).len!==void 0&&q.len!==-1?q.len:1/0,V=q.allowedTags!==void 0?q.allowedTags:["br"],X=F.split(f),j=[],H="",G=0,ie=0;ie<X.length;ie++){var re=X[ie],te=re.match(T),K=te&&te[2].toLowerCase();if(K)V.indexOf(K)!==-1&&(j.push(re),H=K);else{var J=re.length;if(G+J<z)j.push(re),G+=J;else if(G<z){var $=z-G;H&&(H!=="br"||$<=3||J<=3)&&j.pop(),z>3?j.push(re.substr(0,$-3)+"..."):j.push(re.substr(0,$));break}H=""}}return j.join("")};var L={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},M=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function C(F){return F.replace(M,function(q,z){return(z.charAt(0)==="#"?function(V){if(!(V>1114111)){var X=String.fromCodePoint;if(X)return X(V);var j=String.fromCharCode;return V<=65535?j(V):j(55232+(V>>10),V%1024+56320)}}(z.charAt(1)==="x"?parseInt(z.substr(2),16):parseInt(z.substr(1),10)):L[z])||q})}function R(F){var q=encodeURI(decodeURI(F)),z=document.createElement("a"),V=document.createElement("a");z.href=F,V.href=q;var X=z.protocol,j=V.protocol;return u.indexOf(X)!==-1&&u.indexOf(j)!==-1?q:""}function I(F,q,z){var V,X,j,H=z.horizontalAlign,G=z.verticalAlign||"top",ie=F.node().getBoundingClientRect(),re=q.node().getBoundingClientRect();return X=G==="bottom"?function(){return ie.bottom-V.height}:G==="middle"?function(){return ie.top+(ie.height-V.height)/2}:function(){return ie.top},j=H==="right"?function(){return ie.right-V.width}:H==="center"?function(){return ie.left+(ie.width-V.width)/2}:function(){return ie.left},function(){V=this.node().getBoundingClientRect();var te=j()-re.left,K=X()-re.top,J=z.gd||{};if(z.gd){J._fullLayout._calcInverseTransform(J);var $=x.apply3DTransform(J._fullLayout._invTransform)(te,K);te=$[0],K=$[1]}return this.style({top:K+"px",left:te+"px","z-index":1e3}),this}}S.convertEntities=C,S.sanitizeHTML=function(F){F=F.replace(h," ");for(var q=document.createElement("p"),z=q,V=[],X=F.split(f),j=0;j<X.length;j++){var H=X[j],G=H.match(T),ie=G&&G[2].toLowerCase();if(ie in a)if(G[1])V.length&&(z=V.pop());else{var re=G[4],te=A(re,y),K=te?{style:te}:{};if(ie==="a"){var J=A(re,m);if(J){var $=R(J);if($){K.href=$;var ae=A(re,w);ae&&(K.target=ae)}}}var ue=document.createElement(ie);z.appendChild(ue),v.select(ue).attr(K),z=ue,V.push(ue)}else z.appendChild(document.createTextNode(C(H)))}return q.innerHTML},S.lineCount=function(F){return F.selectAll("tspan.line").size()||1},S.positionText=function(F,q,z){return F.each(function(){var V=v.select(this);function X(G,ie){return ie===void 0?(ie=V.attr(G))===null&&(V.attr(G,0),ie=0):V.attr(G,ie),ie}var j=X("x",q),H=X("y",z);this.nodeName==="text"&&V.selectAll("tspan.line").attr({x:j,y:H})})};var D="1px ";S.makeTextShadow=function(F){return D+D+D+F+", -"+D+"-"+D+D+F+", "+D+"-"+D+D+F+", -"+D+D+D+F},S.makeEditable=function(F,q){var z=q.gd,V=q.delegate,X=v.dispatch("edit","input","cancel"),j=V||F;if(F.style({"pointer-events":V?"none":"all"}),F.size()!==1)throw new Error("boo");function H(){var ie,re,te,K,J;ie=v.select(z).select(".svg-container"),re=ie.append("div"),te=F.node().style,K=parseFloat(te.fontSize||12),(J=q.text)===void 0&&(J=F.attr("data-unformatted")),re.classed("plugin-editable editable",!0).style({position:"absolute","font-family":te.fontFamily||"Arial","font-size":K,color:q.fill||te.fill||"black",opacity:1,"background-color":q.background||"transparent",outline:"#ffffff33 1px solid",margin:[-K/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(J).call(I(F,ie,q)).on("blur",function(){z._editing=!1,F.text(this.textContent).style({opacity:1});var ue,ce=v.select(this).attr("class");(ue=ce?"."+ce.split(" ")[0]+"-math-group":"[class*=-math-group]")&&v.select(F.node().parentNode).select(ue).style({opacity:0});var de=this.textContent;v.select(this).transition().duration(0).remove(),v.select(document).on("mouseup",null),X.edit.call(F,de)}).on("focus",function(){var ue=this;z._editing=!0,v.select(document).on("mouseup",function(){if(v.event.target===ue)return!1;document.activeElement===re.node()&&re.node().blur()})}).on("keyup",function(){v.event.which===27?(z._editing=!1,F.style({opacity:1}),v.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),X.cancel.call(F,this.textContent)):(X.input.call(F,this.textContent),v.select(this).call(I(F,ie,q)))}).on("keydown",function(){v.event.which===13&&this.blur()}).call(G),F.style({opacity:0});var $,ae=j.attr("class");($=ae?"."+ae.split(" ")[0]+"-math-group":"[class*=-math-group]")&&v.select(F.node().parentNode).select($).style({opacity:0})}function G(ie){var re=ie.node(),te=document.createRange();te.selectNodeContents(re);var K=window.getSelection();K.removeAllRanges(),K.addRange(te),re.focus()}return q.immediate?H():j.on("click",H),v.rebind(F,X,"on")}},91200:function(O,S){var e={};function v(x){x&&x.timer!==null&&(clearTimeout(x.timer),x.timer=null)}S.throttle=function(x,t,b){var g=e[x],c=Date.now();if(!g){for(var s in e)e[s].ts<c-6e4&&delete e[s];g=e[x]={ts:0,timer:null}}function n(){b(),g.ts=Date.now(),g.onDone&&(g.onDone(),g.onDone=null)}v(g),c>g.ts+t?n():g.timer=setTimeout(function(){n(),g.timer=null},t)},S.done=function(x){var t=e[x];return t&&t.timer?new Promise(function(b){var g=t.onDone;t.onDone=function(){g&&g(),b(),t.onDone=null}}):Promise.resolve()},S.clear=function(x){if(x)v(e[x]),delete e[x];else for(var t in e)S.clear(t)}},36896:function(O,S,e){var v=e(38248);O.exports=function(x,t){if(x>0)return Math.log(x)/Math.LN10;var b=Math.log(Math.min(t[0],t[1]))/Math.LN10;return v(b)||(b=Math.log(Math.max(t[0],t[1]))/Math.LN10-6),b}},59972:function(O,S,e){var v=O.exports={},x=e(79552).locationmodeToLayer,t=e(55712).NO;v.getTopojsonName=function(b){return[b.scope.replace(/ /g,"-"),"_",b.resolution.toString(),"m"].join("")},v.getTopojsonPath=function(b,g){return b+g+".json"},v.getTopojsonFeatures=function(b,g){var c=x[b.locationmode],s=g.objects[c];return t(g,s).features}},11680:function(O){O.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},6580:function(O){O.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},69820:function(O,S,e){var v=e(24040);O.exports=function(x){for(var t,b,g=v.layoutArrayContainers,c=v.layoutArrayRegexes,s=x.split("[")[0],n=0;n<c.length;n++)if((b=x.match(c[n]))&&b.index===0){t=b[0];break}if(t||(t=g[g.indexOf(s)]),!t)return!1;var i=x.substr(t.length);return i?!!(b=i.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:t,index:Number(b[1]),property:b[3]||""}:{array:t,index:"",property:""}}},67824:function(O,S,e){var v=e(92880).extendFlat,x=e(63620),t={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},b={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},g=t.flags.slice().concat(["fullReplot"]),c=b.flags.slice().concat("layoutReplot");function s(a){for(var r={},o=0;o<a.length;o++)r[a[o]]=!1;return r}function n(a,r,o){var l=v({},a);for(var u in l){var h=l[u];x(h)&&(l[u]=i(h,r,0,u))}return o==="from-root"&&(l.editType=r),l}function i(a,r,o,l){if(a.valType){var u=v({},a);if(u.editType=r,Array.isArray(a.items)){u.items=new Array(a.items.length);for(var h=0;h<a.items.length;h++)u.items[h]=i(a.items[h],r)}return u}return n(a,r,l.charAt(0)==="_"?"nested":"from-root")}O.exports={traces:t,layout:b,traceFlags:function(){return s(g)},layoutFlags:function(){return s(c)},update:function(a,r){var o=r.editType;if(o&&o!=="none")for(var l=o.split("+"),u=0;u<l.length;u++)a[l[u]]=!0},overrideAll:n}},93404:function(O,S,e){var v=e(38248),x=e(61784),t=e(24040),b=e(3400),g=e(7316),c=e(79811),s=e(76308),n=c.cleanId,i=c.getFromTrace,a=t.traceIs;function r(m,w){var _=m[w],A=w.charAt(0);_&&_!=="paper"&&(m[w]=n(_,A,!0))}function o(m){function w(_,A){var p=m[_],L=m.title&&m.title[A];p&&!L&&(m.title||(m.title={}),m.title[A]=m[_],delete m[_])}m&&(typeof m.title!="string"&&typeof m.title!="number"||(m.title={text:m.title}),w("titlefont","font"),w("titleposition","position"),w("titleside","side"),w("titleoffset","offset"))}function l(m){if(!b.isPlainObject(m))return!1;var w=m.name;return delete m.name,delete m.showlegend,(typeof w=="string"||typeof w=="number")&&String(w)}function u(m,w,_,A){if(_&&!A)return m;if(A&&!_||!m.trim())return w;if(!w.trim())return m;var p,L=Math.min(m.length,w.length);for(p=0;p<L&&m.charAt(p)===w.charAt(p);p++);return m.substr(0,p).trim()}function h(m){var w="middle",_="center";return typeof m=="string"&&(m.indexOf("top")!==-1?w="top":m.indexOf("bottom")!==-1&&(w="bottom"),m.indexOf("left")!==-1?_="left":m.indexOf("right")!==-1&&(_="right")),w+" "+_}function f(m,w){return w in m&&typeof m[w]=="object"&&Object.keys(m[w]).length===0}S.clearPromiseQueue=function(m){Array.isArray(m._promises)&&m._promises.length>0&&b.log("Clearing previous rejected promises from queue."),m._promises=[]},S.cleanLayout=function(m){var w,_;m||(m={}),m.xaxis1&&(m.xaxis||(m.xaxis=m.xaxis1),delete m.xaxis1),m.yaxis1&&(m.yaxis||(m.yaxis=m.yaxis1),delete m.yaxis1),m.scene1&&(m.scene||(m.scene=m.scene1),delete m.scene1);var A=(g.subplotsRegistry.cartesian||{}).attrRegex,p=(g.subplotsRegistry.polar||{}).attrRegex,L=(g.subplotsRegistry.ternary||{}).attrRegex,M=(g.subplotsRegistry.gl3d||{}).attrRegex,C=Object.keys(m);for(w=0;w<C.length;w++){var R=C[w];if(A&&A.test(R)){var I=m[R];I.anchor&&I.anchor!=="free"&&(I.anchor=n(I.anchor)),I.overlaying&&(I.overlaying=n(I.overlaying)),I.type||(I.isdate?I.type="date":I.islog?I.type="log":I.isdate===!1&&I.islog===!1&&(I.type="linear")),I.autorange!=="withzero"&&I.autorange!=="tozero"||(I.autorange=!0,I.rangemode="tozero"),I.insiderange&&delete I.range,delete I.islog,delete I.isdate,delete I.categories,f(I,"domain")&&delete I.domain,I.autotick!==void 0&&(I.tickmode===void 0&&(I.tickmode=I.autotick?"auto":"linear"),delete I.autotick),o(I)}else if(p&&p.test(R))o(m[R].radialaxis);else if(L&&L.test(R)){var D=m[R];o(D.aaxis),o(D.baxis),o(D.caxis)}else if(M&&M.test(R)){var F=m[R],q=F.cameraposition;if(Array.isArray(q)&&q[0].length===4){var z=q[0],V=q[1],X=q[2],j=x([],z),H=[];for(_=0;_<3;++_)H[_]=V[_]+X*j[2+4*_];F.camera={eye:{x:H[0],y:H[1],z:H[2]},center:{x:V[0],y:V[1],z:V[2]},up:{x:0,y:0,z:1}},delete F.cameraposition}o(F.xaxis),o(F.yaxis),o(F.zaxis)}}var G=Array.isArray(m.annotations)?m.annotations.length:0;for(w=0;w<G;w++){var ie=m.annotations[w];b.isPlainObject(ie)&&(ie.ref&&(ie.ref==="paper"?(ie.xref="paper",ie.yref="paper"):ie.ref==="data"&&(ie.xref="x",ie.yref="y"),delete ie.ref),r(ie,"xref"),r(ie,"yref"))}var re=Array.isArray(m.shapes)?m.shapes.length:0;for(w=0;w<re;w++){var te=m.shapes[w];b.isPlainObject(te)&&(r(te,"xref"),r(te,"yref"))}var K=Array.isArray(m.images)?m.images.length:0;for(w=0;w<K;w++){var J=m.images[w];b.isPlainObject(J)&&(r(J,"xref"),r(J,"yref"))}var $=m.legend;return $&&($.x>3?($.x=1.02,$.xanchor="left"):$.x<-2&&($.x=-.02,$.xanchor="right"),$.y>3?($.y=1.02,$.yanchor="bottom"):$.y<-2&&($.y=-.02,$.yanchor="top")),o(m),m.dragmode==="rotate"&&(m.dragmode="orbit"),s.clean(m),m.template&&m.template.layout&&S.cleanLayout(m.template.layout),m},S.cleanData=function(m){for(var w=0;w<m.length;w++){var _,A=m[w];if(A.type==="histogramy"&&"xbins"in A&&!("ybins"in A)&&(A.ybins=A.xbins,delete A.xbins),A.error_y&&"opacity"in A.error_y){var p=s.defaults,L=A.error_y.color||(a(A,"bar")?s.defaultLine:p[w%p.length]);A.error_y.color=s.addOpacity(s.rgb(L),s.opacity(L)*A.error_y.opacity),delete A.error_y.opacity}if("bardir"in A&&(A.bardir!=="h"||!a(A,"bar")&&A.type.substr(0,9)!=="histogram"||(A.orientation="h",S.swapXYData(A)),delete A.bardir),A.type==="histogramy"&&S.swapXYData(A),A.type!=="histogramx"&&A.type!=="histogramy"||(A.type="histogram"),"scl"in A&&!("colorscale"in A)&&(A.colorscale=A.scl,delete A.scl),"reversescl"in A&&!("reversescale"in A)&&(A.reversescale=A.reversescl,delete A.reversescl),A.xaxis&&(A.xaxis=n(A.xaxis,"x")),A.yaxis&&(A.yaxis=n(A.yaxis,"y")),a(A,"gl3d")&&A.scene&&(A.scene=g.subplotsRegistry.gl3d.cleanId(A.scene)),!a(A,"pie-like")&&!a(A,"bar-like"))if(Array.isArray(A.textposition))for(_=0;_<A.textposition.length;_++)A.textposition[_]=h(A.textposition[_]);else A.textposition&&(A.textposition=h(A.textposition));var M=t.getModule(A);if(M&&M.colorbar){var C=M.colorbar.container,R=C?A[C]:A;R&&R.colorscale&&(R.colorscale==="YIGnBu"&&(R.colorscale="YlGnBu"),R.colorscale==="YIOrRd"&&(R.colorscale="YlOrRd"))}if(A.type==="surface"&&b.isPlainObject(A.contours)){var I=["x","y","z"];for(_=0;_<I.length;_++){var D=A.contours[I[_]];b.isPlainObject(D)&&(D.highlightColor&&(D.highlightcolor=D.highlightColor,delete D.highlightColor),D.highlightWidth&&(D.highlightwidth=D.highlightWidth,delete D.highlightWidth))}}if(A.type==="candlestick"||A.type==="ohlc"){var F=(A.increasing||{}).showlegend!==!1,q=(A.decreasing||{}).showlegend!==!1,z=l(A.increasing),V=l(A.decreasing);if(z!==!1&&V!==!1){var X=u(z,V,F,q);X&&(A.name=X)}else!z&&!V||A.name||(A.name=z||V)}if(Array.isArray(A.transforms)){var j=A.transforms;for(_=0;_<j.length;_++){var H=j[_];if(b.isPlainObject(H))switch(H.type){case"filter":H.filtersrc&&(H.target=H.filtersrc,delete H.filtersrc),H.calendar&&(H.valuecalendar||(H.valuecalendar=H.calendar),delete H.calendar);break;case"groupby":if(H.styles=H.styles||H.style,H.styles&&!Array.isArray(H.styles)){var G=H.styles,ie=Object.keys(G);H.styles=[];for(var re=0;re<ie.length;re++)H.styles.push({target:ie[re],value:G[ie[re]]})}}}}f(A,"line")&&delete A.line,"marker"in A&&(f(A.marker,"line")&&delete A.marker.line,f(A,"marker")&&delete A.marker),s.clean(A),A.autobinx&&(delete A.autobinx,delete A.xbins),A.autobiny&&(delete A.autobiny,delete A.ybins),o(A),A.colorbar&&o(A.colorbar),A.marker&&A.marker.colorbar&&o(A.marker.colorbar),A.line&&A.line.colorbar&&o(A.line.colorbar),A.aaxis&&o(A.aaxis),A.baxis&&o(A.baxis)}},S.swapXYData=function(m){var w;if(b.swapAttrs(m,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(m.z)&&Array.isArray(m.z[0])&&(m.transpose?delete m.transpose:m.transpose=!0),m.error_x&&m.error_y){var _=m.error_y,A="copy_ystyle"in _?_.copy_ystyle:!(_.color||_.thickness||_.width);b.swapAttrs(m,["error_?.copy_ystyle"]),A&&b.swapAttrs(m,["error_?.color","error_?.thickness","error_?.width"])}if(typeof m.hoverinfo=="string"){var p=m.hoverinfo.split("+");for(w=0;w<p.length;w++)p[w]==="x"?p[w]="y":p[w]==="y"&&(p[w]="x");m.hoverinfo=p.join("+")}},S.coerceTraceIndices=function(m,w){if(v(w))return[w];if(!Array.isArray(w)||!w.length)return m.data.map(function(p,L){return L});if(Array.isArray(w)){for(var _=[],A=0;A<w.length;A++)b.isIndex(w[A],m.data.length)?_.push(w[A]):b.warn("trace index (",w[A],") is not a number or is out of bounds");return _}return w},S.manageArrayContainers=function(m,w,_){var A=m.obj,p=m.parts,L=p.length,M=p[L-1],C=v(M);if(C&&w===null){var R=p.slice(0,L-1).join(".");b.nestedProperty(A,R).get().splice(M,1)}else C&&m.get()===void 0&&m.get()===void 0&&(_[m.astr]=null),m.set(w)};var T=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function d(m){var w=m.search(T);if(w>0)return m.substr(0,w)}S.hasParent=function(m,w){for(var _=d(w);_;){if(_ in m)return!0;_=d(_)}return!1};var y=["x","y","z"];S.clearAxisTypes=function(m,w,_){for(var A=0;A<w.length;A++)for(var p=m._fullData[A],L=0;L<3;L++){var M=i(m,p,y[L]);if(M&&M.type!=="log"){var C=M._name,R=M._id.substr(1);if(R.substr(0,5)==="scene"){if(_[R]!==void 0)continue;C=R+"."+C}var I=C+".type";_[C]===void 0&&_[I]===void 0&&b.nestedProperty(m.layout,I).set(null)}}}},22448:function(O,S,e){var v=e(36424);S._doPlot=v._doPlot,S.newPlot=v.newPlot,S.restyle=v.restyle,S.relayout=v.relayout,S.redraw=v.redraw,S.update=v.update,S._guiRestyle=v._guiRestyle,S._guiRelayout=v._guiRelayout,S._guiUpdate=v._guiUpdate,S._storeDirectGUIEdit=v._storeDirectGUIEdit,S.react=v.react,S.extendTraces=v.extendTraces,S.prependTraces=v.prependTraces,S.addTraces=v.addTraces,S.deleteTraces=v.deleteTraces,S.moveTraces=v.moveTraces,S.purge=v.purge,S.addFrames=v.addFrames,S.deleteFrames=v.deleteFrames,S.animate=v.animate,S.setPlotConfig=v.setPlotConfig;var x=e(52200).getGraphDiv,t=e(4016).eraseActiveShape;S.deleteActiveShape=function(g){return t(x(g))},S.toImage=e(67024),S.validate=e(21480),S.downloadImage=e(39792);var b=e(94828);S.makeTemplate=b.makeTemplate,S.validateTemplate=b.validateTemplate},17680:function(O,S,e){var v=e(63620),x=e(16628),t=e(24248),b=e(14952).sorterAsc,g=e(24040);S.containerArrayMatch=e(69820);var c=S.isAddVal=function(n){return n==="add"||v(n)},s=S.isRemoveVal=function(n){return n===null||n==="remove"};S.applyContainerArrayChanges=function(n,i,a,r,o){var l=i.astr,u=g.getComponentMethod(l,"supplyLayoutDefaults"),h=g.getComponentMethod(l,"draw"),f=g.getComponentMethod(l,"drawOne"),T=r.replot||r.recalc||u===x||h===x,d=n.layout,y=n._fullLayout;if(a[""]){Object.keys(a).length>1&&t.warn("Full array edits are incompatible with other edits",l);var m=a[""][""];if(s(m))i.set(null);else{if(!Array.isArray(m))return t.warn("Unrecognized full array edit value",l,m),!0;i.set(m)}return!T&&(u(d,y),h(n),!0)}var w,_,A,p,L,M,C,R,I=Object.keys(a).map(Number).sort(b),D=i.get(),F=D||[],q=o(y,l).get(),z=[],V=-1,X=F.length;for(w=0;w<I.length;w++)if(p=a[A=I[w]],L=Object.keys(p),M=p[""],C=c(M),A<0||A>F.length-(C?0:1))t.warn("index out of range",l,A);else if(M!==void 0)L.length>1&&t.warn("Insertion & removal are incompatible with edits to the same index.",l,A),s(M)?z.push(A):C?(M==="add"&&(M={}),F.splice(A,0,M),q&&q.splice(A,0,{})):t.warn("Unrecognized full object edit value",l,A,M),V===-1&&(V=A);else for(_=0;_<L.length;_++)R=l+"["+A+"].",o(F[A],L[_],R).set(p[L[_]]);for(w=z.length-1;w>=0;w--)F.splice(z[w],1),q&&q.splice(z[w],1);if(F.length?D||i.set(F):i.set(null),T)return!1;if(u(d,y),f!==x){var j;if(V===-1)j=I;else{for(X=Math.max(F.length,X),j=[],w=0;w<I.length&&!((A=I[w])>=V);w++)j.push(A);for(w=V;w<X;w++)j.push(w)}for(w=0;w<j.length;w++)f(n,j[w])}else h(n);return!0}},36424:function(O,S,e){var v=e(33428),x=e(38248),t=e(52264),b=e(3400),g=b.nestedProperty,c=e(95924),s=e(94552),n=e(24040),i=e(73060),a=e(7316),r=e(54460),o=e(96312),l=e(94724),u=e(43616),h=e(76308),f=e(42464).initInteractions,T=e(9616),d=e(22676).clearOutline,y=e(20556).dfltConfig,m=e(17680),w=e(93404),_=e(39172),A=e(67824),p=e(33816).AX_NAME_PATTERN,L=0;function M(Ae){var Se=Ae._fullLayout;Se._redrawFromAutoMarginCount?Se._redrawFromAutoMarginCount--:Ae.emit("plotly_afterplot")}function C(Ae,Se){try{Ae._fullLayout._paper.style("background",Se)}catch(Pe){b.error(Pe)}}function R(Ae,Se){C(Ae,h.combine(Se,"white"))}function I(Ae,Se){if(!Ae._context){Ae._context=b.extendDeep({},y);var Pe=v.select("base");Ae._context._baseUrl=Pe.size()&&Pe.attr("href")?window.location.href.split("#")[0]:""}var Fe,Be,xe,Me=Ae._context;if(Se){for(Be=Object.keys(Se),Fe=0;Fe<Be.length;Fe++)(xe=Be[Fe])!=="editable"&&xe!=="edits"&&xe in Me&&(xe==="setBackground"&&Se[xe]==="opaque"?Me[xe]=R:Me[xe]=Se[xe]);Se.plot3dPixelRatio&&!Me.plotGlPixelRatio&&(Me.plotGlPixelRatio=Me.plot3dPixelRatio);var Ce=Se.editable;if(Ce!==void 0)for(Me.editable=Ce,Be=Object.keys(Me.edits),Fe=0;Fe<Be.length;Fe++)Me.edits[Be[Fe]]=Ce;if(Se.edits)for(Be=Object.keys(Se.edits),Fe=0;Fe<Be.length;Fe++)(xe=Be[Fe])in Me.edits&&(Me.edits[xe]=Se.edits[xe]);Me._exportedPlot=Se._exportedPlot}Me.staticPlot&&(Me.editable=!1,Me.edits={},Me.autosizable=!1,Me.scrollZoom=!1,Me.doubleClick=!1,Me.showTips=!1,Me.showLink=!1,Me.displayModeBar=!1),Me.displayModeBar!=="hover"||t||(Me.displayModeBar=!0),Me.setBackground!=="transparent"&&typeof Me.setBackground=="function"||(Me.setBackground=C),Me._hasZeroHeight=Me._hasZeroHeight||Ae.clientHeight===0,Me._hasZeroWidth=Me._hasZeroWidth||Ae.clientWidth===0;var Ne=Me.scrollZoom,Re=Me._scrollZoom={};if(Ne===!0)Re.cartesian=1,Re.gl3d=1,Re.geo=1,Re.mapbox=1;else if(typeof Ne=="string"){var He=Ne.split("+");for(Fe=0;Fe<He.length;Fe++)Re[He[Fe]]=1}else Ne!==!1&&(Re.gl3d=1,Re.geo=1,Re.mapbox=1)}function D(Ae,Se){var Pe,Fe,Be=Se+1,xe=[];for(Pe=0;Pe<Ae.length;Pe++)(Fe=Ae[Pe])<0?xe.push(Be+Fe):xe.push(Fe);return xe}function F(Ae,Se,Pe){var Fe,Be;for(Fe=0;Fe<Se.length;Fe++){if((Be=Se[Fe])!==parseInt(Be,10))throw new Error("all values in "+Pe+" must be integers");if(Be>=Ae.data.length||Be<-Ae.data.length)throw new Error(Pe+" must be valid indices for gd.data.");if(Se.indexOf(Be,Fe+1)>-1||Be>=0&&Se.indexOf(-Ae.data.length+Be)>-1||Be<0&&Se.indexOf(Ae.data.length+Be)>-1)throw new Error("each index in "+Pe+" must be unique.")}}function q(Ae,Se,Pe){if(!Array.isArray(Ae.data))throw new Error("gd.data must be an array.");if(Se===void 0)throw new Error("currentIndices is a required argument.");if(Array.isArray(Se)||(Se=[Se]),F(Ae,Se,"currentIndices"),Pe===void 0||Array.isArray(Pe)||(Pe=[Pe]),Pe!==void 0&&F(Ae,Pe,"newIndices"),Pe!==void 0&&Se.length!==Pe.length)throw new Error("current and new indices must be of equal length.")}function z(Ae,Se,Pe,Fe,Be){(function(Qe,lt,ut,xt){var _t=b.isPlainObject(xt);if(!Array.isArray(Qe.data))throw new Error("gd.data must be an array");if(!b.isPlainObject(lt))throw new Error("update must be a key:value object");if(ut===void 0)throw new Error("indices must be an integer or array of integers");for(var mt in F(Qe,ut,"indices"),lt){if(!Array.isArray(lt[mt])||lt[mt].length!==ut.length)throw new Error("attribute "+mt+" must be an array of length equal to indices array length");if(_t&&(!(mt in xt)||!Array.isArray(xt[mt])||xt[mt].length!==lt[mt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}})(Ae,Se,Pe,Fe);for(var xe=function(Qe,lt,ut,xt){var _t,mt,it,nt,Et,zt=b.isPlainObject(xt),Ft=[];for(var Pt in Array.isArray(ut)||(ut=[ut]),ut=D(ut,Qe.data.length-1),lt)for(var Ze=0;Ze<ut.length;Ze++){if(_t=Qe.data[ut[Ze]],mt=(it=g(_t,Pt)).get(),nt=lt[Pt][Ze],!b.isArrayOrTypedArray(nt))throw new Error("attribute: "+Pt+" index: "+Ze+" must be an array");if(!b.isArrayOrTypedArray(mt))throw new Error("cannot extend missing or non-array attribute: "+Pt);if(mt.constructor!==nt.constructor)throw new Error("cannot extend array with an array of a different type: "+Pt);Et=zt?xt[Pt][Ze]:xt,x(Et)||(Et=-1),Ft.push({prop:it,target:mt,insert:nt,maxp:Math.floor(Et)})}return Ft}(Ae,Se,Pe,Fe),Me={},Ce={},Ne=0;Ne<xe.length;Ne++){var Re=xe[Ne].prop,He=xe[Ne].maxp,Ye=Be(xe[Ne].target,xe[Ne].insert,He);Re.set(Ye[0]),Array.isArray(Me[Re.astr])||(Me[Re.astr]=[]),Me[Re.astr].push(Ye[1]),Array.isArray(Ce[Re.astr])||(Ce[Re.astr]=[]),Ce[Re.astr].push(xe[Ne].target.length)}return{update:Me,maxPoints:Ce}}function V(Ae,Se){var Pe=new Ae.constructor(Ae.length+Se.length);return Pe.set(Ae),Pe.set(Se,Ae.length),Pe}function X(Ae,Se,Pe,Fe){Ae=b.getGraphDiv(Ae),w.clearPromiseQueue(Ae);var Be={};if(typeof Se=="string")Be[Se]=Pe;else{if(!b.isPlainObject(Se))return b.warn("Restyle fail.",Se,Pe,Fe),Promise.reject();Be=b.extendFlat({},Se),Fe===void 0&&(Fe=Pe)}Object.keys(Be).length&&(Ae.changed=!0);var xe=w.coerceTraceIndices(Ae,Fe),Me=ie(Ae,Be,xe),Ce=Me.flags;Ce.calc&&(Ae.calcdata=void 0),Ce.clearAxisTypes&&w.clearAxisTypes(Ae,xe,{});var Ne=[];Ce.fullReplot?Ne.push(S._doPlot):(Ne.push(a.previousPromises),a.supplyDefaults(Ae),Ce.markerSize&&(a.doCalcdata(Ae),J(Ne)),Ce.style&&Ne.push(_.doTraceStyle),Ce.colorbars&&Ne.push(_.doColorBars),Ne.push(M)),Ne.push(a.rehover,a.redrag,a.reselect),s.add(Ae,X,[Ae,Me.undoit,Me.traces],X,[Ae,Me.redoit,Me.traces]);var Re=b.syncOrAsync(Ne,Ae);return Re&&Re.then||(Re=Promise.resolve()),Re.then(function(){return Ae.emit("plotly_restyle",Me.eventData),Ae})}function j(Ae){return Ae===void 0?null:Ae}function H(Ae,Se){return Se?function(Pe,Fe,Be){var xe=g(Pe,Fe),Me=xe.set;return xe.set=function(Ce){G((Be||"")+Fe,xe.get(),Ce,Ae),Me(Ce)},xe}:g}function G(Ae,Se,Pe,Fe){if(Array.isArray(Se)||Array.isArray(Pe))for(var Be=Array.isArray(Se)?Se:[],xe=Array.isArray(Pe)?Pe:[],Me=Math.max(Be.length,xe.length),Ce=0;Ce<Me;Ce++)G(Ae+"["+Ce+"]",Be[Ce],xe[Ce],Fe);else if(b.isPlainObject(Se)||b.isPlainObject(Pe)){var Ne=b.isPlainObject(Se)?Se:{},Re=b.isPlainObject(Pe)?Pe:{},He=b.extendFlat({},Ne,Re);for(var Ye in He)G(Ae+"."+Ye,Ne[Ye],Re[Ye],Fe)}else Fe[Ae]===void 0&&(Fe[Ae]=j(Se))}function ie(Ae,Se,Pe){var Fe,Be=Ae._fullLayout,xe=Ae._fullData,Me=Ae.data,Ce=Be._guiEditing,Ne=H(Be._preGUI,Ce),Re=b.extendDeepAll({},Se);re(Se);var He,Ye=A.traceFlags(),Qe={},lt={};function ut(){return Pe.map(function(){})}function xt(qt){var Kt=r.id2name(qt);He.indexOf(Kt)===-1&&He.push(Kt)}function _t(qt){return"LAYOUT"+qt+".autorange"}function mt(qt){return"LAYOUT"+qt+".range"}function it(qt){for(var Kt=qt;Kt<xe.length;Kt++)if(xe[Kt]._input===Me[qt])return xe[Kt]}function nt(qt,Kt,Ut){if(Array.isArray(qt))qt.forEach(function(mn){nt(mn,Kt,Ut)});else if(!(qt in Se)&&!w.hasParent(Se,qt)){var Rn;if(qt.substr(0,6)==="LAYOUT")Rn=Ne(Ae.layout,qt.replace("LAYOUT",""));else{var An=Pe[Ut];Rn=H(Be._tracePreGUI[it(An)._fullInput.uid],Ce)(Me[An],qt)}qt in lt||(lt[qt]=ut()),lt[qt][Ut]===void 0&&(lt[qt][Ut]=j(Rn.get())),Kt!==void 0&&Rn.set(Kt)}}function Et(qt){return function(Kt){return xe[Kt][qt]}}function zt(qt){return function(Kt,Ut){return Kt===!1?xe[Pe[Ut]][qt]:null}}for(var Ft in Se){if(w.hasParent(Se,Ft))throw new Error("cannot set "+Ft+" and a parent attribute simultaneously");var Pt,Ze,Je,qe,Ke,ft,ot=Se[Ft];if(Ft!=="autobinx"&&Ft!=="autobiny"||(Ft=Ft.charAt(Ft.length-1)+"bins",ot=Array.isArray(ot)?ot.map(zt(Ft)):ot===!1?Pe.map(Et(Ft)):null),Qe[Ft]=ot,Ft.substr(0,6)!=="LAYOUT"){for(lt[Ft]=ut(),Fe=0;Fe<Pe.length;Fe++)if(Pt=Me[Pe[Fe]],Ze=it(Pe[Fe]),qe=(Je=H(Be._tracePreGUI[Ze._fullInput.uid],Ce)(Pt,Ft)).get(),(Ke=Array.isArray(ot)?ot[Fe%ot.length]:ot)!==void 0){var Ue=Je.parts[Je.parts.length-1],Ve=Ft.substr(0,Ft.length-Ue.length-1),st=Ve?Ve+".":"",Xe=Ve?g(Ze,Ve).get():Ze;if((ft=i.getTraceValObject(Ze,Je.parts))&&ft.impliedEdits&&Ke!==null)for(var gt in ft.impliedEdits)nt(b.relativeAttr(Ft,gt),ft.impliedEdits[gt],Fe);else if(Ue!=="thicknessmode"&&Ue!=="lenmode"||qe===Ke||Ke!=="fraction"&&Ke!=="pixels"||!Xe){if(Ft==="type"&&(Ke==="pie"!=(qe==="pie")||Ke==="funnelarea"!=(qe==="funnelarea"))){var yt="x",bt="y";Ke!=="bar"&&qe!=="bar"||Pt.orientation!=="h"||(yt="y",bt="x"),b.swapAttrs(Pt,["?","?src"],"labels",yt),b.swapAttrs(Pt,["d?","?0"],"label",yt),b.swapAttrs(Pt,["?","?src"],"values",bt),qe==="pie"||qe==="funnelarea"?(g(Pt,"marker.color").set(g(Pt,"marker.colors").get()),Be._pielayer.selectAll("g.trace").remove()):n.traceIs(Pt,"cartesian")&&g(Pt,"marker.colors").set(g(Pt,"marker.color").get())}}else{var dt=Be._size,Lt=Xe.orient,wt=Lt==="top"||Lt==="bottom";if(Ue==="thicknessmode"){var Ct=wt?dt.h:dt.w;nt(st+"thickness",Xe.thickness*(Ke==="fraction"?1/Ct:Ct),Fe)}else{var Rt=wt?dt.w:dt.h;nt(st+"len",Xe.len*(Ke==="fraction"?1/Rt:Rt),Fe)}}if(lt[Ft][Fe]=j(qe),["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(Ft)!==-1){if(Ft==="orientation"){Je.set(Ke);var Dt=Pt.x&&!Pt.y?"h":"v";if((Je.get()||Dt)===Ze.orientation)continue}else Ft==="orientationaxes"&&(Pt.orientation={v:"h",h:"v"}[Ze.orientation]);w.swapXYData(Pt),Ye.calc=Ye.clearAxisTypes=!0}else a.dataArrayContainers.indexOf(Je.parts[0])!==-1?(w.manageArrayContainers(Je,Ke,lt),Ye.calc=!0):(ft?ft.arrayOk&&!n.traceIs(Ze,"regl")&&(b.isArrayOrTypedArray(Ke)||b.isArrayOrTypedArray(qe))?Ye.calc=!0:A.update(Ye,ft):Ye.calc=!0,Je.set(Ke))}if(["swapxyaxes","orientationaxes"].indexOf(Ft)!==-1&&r.swap(Ae,Pe),Ft==="orientationaxes"){var Nt=g(Ae.layout,"hovermode"),Xt=Nt.get();Xt==="x"?Nt.set("y"):Xt==="y"?Nt.set("x"):Xt==="x unified"?Nt.set("y unified"):Xt==="y unified"&&Nt.set("x unified")}if(["orientation","type"].indexOf(Ft)!==-1){for(He=[],Fe=0;Fe<Pe.length;Fe++){var un=Me[Pe[Fe]];n.traceIs(un,"cartesian")&&(xt(un.xaxis||"x"),xt(un.yaxis||"y"))}nt(He.map(_t),!0,0),nt(He.map(mt),[0,1],0)}}else Je=Ne(Ae.layout,Ft.replace("LAYOUT","")),lt[Ft]=[j(Je.get())],Je.set(Array.isArray(ot)?ot[0]:ot),Ye.calc=!0}return(Ye.calc||Ye.plot)&&(Ye.fullReplot=!0),{flags:Ye,undoit:lt,redoit:Qe,traces:Pe,eventData:b.extendDeepNoArrays([],[Re,Pe])}}function re(Ae){var Se,Pe,Fe,Be=b.counterRegex("axis",".title",!1,!1),xe=/colorbar\.title$/,Me=Object.keys(Ae);for(Se=0;Se<Me.length;Se++)Pe=Me[Se],Fe=Ae[Pe],Pe!=="title"&&!Be.test(Pe)&&!xe.test(Pe)||typeof Fe!="string"&&typeof Fe!="number"?Pe.indexOf("titlefont")>-1&&Pe.indexOf("grouptitlefont")===-1?Ce(Pe,Pe.replace("titlefont","title.font")):Pe.indexOf("titleposition")>-1?Ce(Pe,Pe.replace("titleposition","title.position")):Pe.indexOf("titleside")>-1?Ce(Pe,Pe.replace("titleside","title.side")):Pe.indexOf("titleoffset")>-1&&Ce(Pe,Pe.replace("titleoffset","title.offset")):Ce(Pe,Pe.replace("title","title.text"));function Ce(Ne,Re){Ae[Re]=Ae[Ne],delete Ae[Ne]}}function te(Ae,Se,Pe){Ae=b.getGraphDiv(Ae),w.clearPromiseQueue(Ae);var Fe={};if(typeof Se=="string")Fe[Se]=Pe;else{if(!b.isPlainObject(Se))return b.warn("Relayout fail.",Se,Pe),Promise.reject();Fe=b.extendFlat({},Se)}Object.keys(Fe).length&&(Ae.changed=!0);var Be=ce(Ae,Fe),xe=Be.flags;xe.calc&&(Ae.calcdata=void 0);var Me=[a.previousPromises];xe.layoutReplot?Me.push(_.layoutReplot):Object.keys(Fe).length&&(K(Ae,xe,Be)||a.supplyDefaults(Ae),xe.legend&&Me.push(_.doLegend),xe.layoutstyle&&Me.push(_.layoutStyles),xe.axrange&&J(Me,Be.rangesAltered),xe.ticks&&Me.push(_.doTicksRelayout),xe.modebar&&Me.push(_.doModeBar),xe.camera&&Me.push(_.doCamera),xe.colorbars&&Me.push(_.doColorBars),Me.push(M)),Me.push(a.rehover,a.redrag,a.reselect),s.add(Ae,te,[Ae,Be.undoit],te,[Ae,Be.redoit]);var Ce=b.syncOrAsync(Me,Ae);return Ce&&Ce.then||(Ce=Promise.resolve(Ae)),Ce.then(function(){return Ae.emit("plotly_relayout",Be.eventData),Ae})}function K(Ae,Se,Pe){var Fe,Be,xe=Ae._fullLayout;if(!Se.axrange)return!1;for(var Me in Se)if(Me!=="axrange"&&Se[Me])return!1;var Ce=function(lt,ut){return b.coerce(Fe,Be,l,lt,ut)},Ne={};for(var Re in Pe.rangesAltered){var He=r.id2name(Re);if(Fe=Ae.layout[He],Be=xe[He],o(Fe,Be,Ce,Ne),Be._matchGroup){for(var Ye in Be._matchGroup)if(Ye!==Re){var Qe=xe[r.id2name(Ye)];Qe.autorange=Be.autorange,Qe.range=Be.range.slice(),Qe._input.range=Be.range.slice()}}}return!0}function J(Ae,Se){var Pe=Se?function(Fe){var Be=[];for(var xe in Se){var Me=r.getFromId(Fe,xe);if(Be.push(xe),(Me.ticklabelposition||"").indexOf("inside")!==-1&&Me._anchorAxis&&Be.push(Me._anchorAxis._id),Me._matchGroup)for(var Ce in Me._matchGroup)Se[Ce]||Be.push(Ce)}return r.draw(Fe,Be,{skipTitle:!0})}:function(Fe){return r.draw(Fe,"redraw")};Ae.push(d,_.doAutoRangeAndConstraints,Pe,_.drawData,_.finalDraw)}var $=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,ae=/^[xyz]axis[0-9]*\.autorange$/,ue=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function ce(Ae,Se){var Pe,Fe,Be,xe=Ae.layout,Me=Ae._fullLayout,Ce=Me._guiEditing,Ne=H(Me._preGUI,Ce),Re=Object.keys(Se),He=r.list(Ae),Ye=b.extendDeepAll({},Se),Qe={};for(re(Se),Re=Object.keys(Se),Fe=0;Fe<Re.length;Fe++)if(Re[Fe].indexOf("allaxes")===0){for(Be=0;Be<He.length;Be++){var lt=He[Be]._id.substr(1),ut=lt.indexOf("scene")!==-1?lt+".":"",xt=Re[Fe].replace("allaxes",ut+He[Be]._name);Se[xt]||(Se[xt]=Se[Re[Fe]])}delete Se[Re[Fe]]}var _t=A.layoutFlags(),mt={},it={};function nt(mn,tn){if(Array.isArray(mn))mn.forEach(function(rn){nt(rn,tn)});else if(!(mn in Se)&&!w.hasParent(Se,mn)){var fn=Ne(xe,mn);mn in it||(it[mn]=j(fn.get())),tn!==void 0&&fn.set(tn)}}var Et,zt={};function Ft(mn){var tn=r.name2id(mn.split(".")[0]);return zt[tn]=1,tn}for(var Pt in Se){if(w.hasParent(Se,Pt))throw new Error("cannot set "+Pt+" and a parent attribute simultaneously");for(var Ze=Ne(xe,Pt),Je=Se[Pt],qe=Ze.parts.length-1;qe>0&&typeof Ze.parts[qe]!="string";)qe--;var Ke=Ze.parts[qe],ft=Ze.parts[qe-1]+"."+Ke,ot=Ze.parts.slice(0,qe).join("."),Ue=g(Ae.layout,ot).get(),Ve=g(Me,ot).get(),st=Ze.get();if(Je!==void 0){mt[Pt]=Je,it[Pt]=Ke==="reverse"?Je:j(st);var Xe=i.getLayoutValObject(Me,Ze.parts);if(Xe&&Xe.impliedEdits&&Je!==null)for(var gt in Xe.impliedEdits)nt(b.relativeAttr(Pt,gt),Xe.impliedEdits[gt]);if(["width","height"].indexOf(Pt)!==-1)if(Je){nt("autosize",null);var yt=Pt==="height"?"width":"height";nt(yt,Me[yt])}else Me[Pt]=Ae._initialAutoSize[Pt];else if(Pt==="autosize")nt("width",Je?null:Me.width),nt("height",Je?null:Me.height);else if(ft.match($))Ft(ft),g(Me,ot+"._inputRange").set(null);else if(ft.match(ae)){Ft(ft),g(Me,ot+"._inputRange").set(null);var bt=g(Me,ot).get();bt._inputDomain&&(bt._input.domain=bt._inputDomain.slice())}else ft.match(ue)&&g(Me,ot+"._inputDomain").set(null);if(Ke==="type"){Et=Ue;var dt=Ve.type==="linear"&&Je==="log",Lt=Ve.type==="log"&&Je==="linear";if(dt||Lt){if(Et&&Et.range)if(Ve.autorange)dt&&(Et.range=Et.range[1]>Et.range[0]?[1,2]:[2,1]);else{var wt=Et.range[0],Ct=Et.range[1];dt?(wt<=0&&Ct<=0&&nt(ot+".autorange",!0),wt<=0?wt=Ct/1e6:Ct<=0&&(Ct=wt/1e6),nt(ot+".range[0]",Math.log(wt)/Math.LN10),nt(ot+".range[1]",Math.log(Ct)/Math.LN10)):(nt(ot+".range[0]",Math.pow(10,wt)),nt(ot+".range[1]",Math.pow(10,Ct)))}else nt(ot+".autorange",!0);Array.isArray(Me._subplots.polar)&&Me._subplots.polar.length&&Me[Ze.parts[0]]&&Ze.parts[1]==="radialaxis"&&delete Me[Ze.parts[0]]._subplot.viewInitial["radialaxis.range"],n.getComponentMethod("annotations","convertCoords")(Ae,Ve,Je,nt),n.getComponentMethod("images","convertCoords")(Ae,Ve,Je,nt)}else nt(ot+".autorange",!0),nt(ot+".range",null);g(Me,ot+"._inputRange").set(null)}else if(Ke.match(p)){var Rt=g(Me,Pt).get(),Dt=(Je||{}).type;Dt&&Dt!=="-"||(Dt="linear"),n.getComponentMethod("annotations","convertCoords")(Ae,Rt,Dt,nt),n.getComponentMethod("images","convertCoords")(Ae,Rt,Dt,nt)}var Nt=m.containerArrayMatch(Pt);if(Nt){Pe=Nt.array,Fe=Nt.index;var Xt=Nt.property,un=Xe||{editType:"calc"};Fe!==""&&Xt===""&&(m.isAddVal(Je)?it[Pt]=null:m.isRemoveVal(Je)?it[Pt]=(g(xe,Pe).get()||[])[Fe]:b.warn("unrecognized full object value",Se)),A.update(_t,un),Qe[Pe]||(Qe[Pe]={});var qt=Qe[Pe][Fe];qt||(qt=Qe[Pe][Fe]={}),qt[Xt]=Je,delete Se[Pt]}else Ke==="reverse"?(Ue.range?Ue.range.reverse():(nt(ot+".autorange",!0),Ue.range=[1,0]),Ve.autorange?_t.calc=!0:_t.plot=!0):(Pt==="dragmode"&&(Je===!1&&st!==!1||Je!==!1&&st===!1)||Me._has("scatter-like")&&Me._has("regl")&&Pt==="dragmode"&&(Je==="lasso"||Je==="select")&&st!=="lasso"&&st!=="select"||Me._has("gl2d")?_t.plot=!0:Xe?A.update(_t,Xe):_t.calc=!0,Ze.set(Je))}}for(Pe in Qe)m.applyContainerArrayChanges(Ae,Ne(xe,Pe),Qe[Pe],_t,Ne)||(_t.plot=!0);for(var Kt in zt){var Ut=(Et=r.getFromId(Ae,Kt))&&Et._constraintGroup;if(Ut)for(var Rn in _t.calc=!0,Ut)zt[Rn]||(r.getFromId(Ae,Rn)._constraintShrinkable=!0)}(de(Ae)||Se.height||Se.width)&&(_t.plot=!0);var An=Me.shapes;for(Fe=0;Fe<An.length;Fe++)if(An[Fe].showlegend){_t.calc=!0;break}return(_t.plot||_t.calc)&&(_t.layoutReplot=!0),{flags:_t,rangesAltered:zt,undoit:it,redoit:mt,eventData:Ye}}function de(Ae){var Se=Ae._fullLayout,Pe=Se.width,Fe=Se.height;return Ae.layout.autosize&&a.plotAutoSize(Ae,Ae.layout,Se),Se.width!==Pe||Se.height!==Fe}function pe(Ae,Se,Pe,Fe){Ae=b.getGraphDiv(Ae),w.clearPromiseQueue(Ae),b.isPlainObject(Se)||(Se={}),b.isPlainObject(Pe)||(Pe={}),Object.keys(Se).length&&(Ae.changed=!0),Object.keys(Pe).length&&(Ae.changed=!0);var Be=w.coerceTraceIndices(Ae,Fe),xe=ie(Ae,b.extendFlat({},Se),Be),Me=xe.flags,Ce=ce(Ae,b.extendFlat({},Pe)),Ne=Ce.flags;(Me.calc||Ne.calc)&&(Ae.calcdata=void 0),Me.clearAxisTypes&&w.clearAxisTypes(Ae,Be,Pe);var Re=[];Ne.layoutReplot?Re.push(_.layoutReplot):Me.fullReplot?Re.push(S._doPlot):(Re.push(a.previousPromises),K(Ae,Ne,Ce)||a.supplyDefaults(Ae),Me.style&&Re.push(_.doTraceStyle),(Me.colorbars||Ne.colorbars)&&Re.push(_.doColorBars),Ne.legend&&Re.push(_.doLegend),Ne.layoutstyle&&Re.push(_.layoutStyles),Ne.axrange&&J(Re,Ce.rangesAltered),Ne.ticks&&Re.push(_.doTicksRelayout),Ne.modebar&&Re.push(_.doModeBar),Ne.camera&&Re.push(_.doCamera),Re.push(M)),Re.push(a.rehover,a.redrag,a.reselect),s.add(Ae,pe,[Ae,xe.undoit,Ce.undoit,xe.traces],pe,[Ae,xe.redoit,Ce.redoit,xe.traces]);var He=b.syncOrAsync(Re,Ae);return He&&He.then||(He=Promise.resolve(Ae)),He.then(function(){return Ae.emit("plotly_update",{data:xe.eventData,layout:Ce.eventData}),Ae})}function me(Ae){return function(Se){Se._fullLayout._guiEditing=!0;var Pe=Ae.apply(null,arguments);return Se._fullLayout._guiEditing=!1,Pe}}var be=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],we=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function Te(Ae,Se){for(var Pe=0;Pe<Se.length;Pe++){var Fe=Se[Pe],Be=Ae.match(Fe.pattern);if(Be){var xe=Be[1]||"";return{head:xe,tail:Ae.substr(xe.length+1),attr:Fe.attr}}}}function Le(Ae,Se){var Pe=g(Se,Ae).get();if(Pe!==void 0)return Pe;var Fe=Ae.split(".");for(Fe.pop();Fe.length>1;)if(Fe.pop(),(Pe=g(Se,Fe.join(".")+".uirevision").get())!==void 0)return Pe;return Se.uirevision}function Ie(Ae,Se){for(var Pe=0;Pe<Se.length;Pe++)if(Se[Pe]._fullInput.uid===Ae)return Pe;return-1}function _e(Ae,Se,Pe){for(var Fe=0;Fe<Se.length;Fe++)if(Se[Fe].uid===Ae)return Fe;return!Se[Pe]||Se[Pe].uid?-1:Pe}function fe(Ae,Se){var Pe=b.isPlainObject(Ae),Fe=Array.isArray(Ae);return Pe||Fe?(Pe&&b.isPlainObject(Se)||Fe&&Array.isArray(Se))&&JSON.stringify(Ae)===JSON.stringify(Se):Ae===Se}function le(Ae,Se,Pe,Fe){var Be,xe,Me,Ce=Fe.getValObject,Ne=Fe.flags,Re=Fe.immutable,He=Fe.inArray,Ye=Fe.arrayIndex;function Qe(){var Ue=Be.editType;He&&Ue.indexOf("arraydraw")!==-1?b.pushUnique(Ne.arrays[He],Ye):(A.update(Ne,Be),Ue!=="none"&&Ne.nChanges++,Fe.transition&&Be.anim&&Ne.nChangesAnim++,($.test(Me)||ae.test(Me))&&(Ne.rangesAltered[Pe[0]]=1),ue.test(Me)&&g(Se,"_inputDomain").set(null),xe==="datarevision"&&(Ne.newDataRevision=1))}function lt(Ue){return Ue.valType==="data_array"||Ue.arrayOk}for(xe in Ae){if(Ne.calc&&!Fe.transition)return;var ut=Ae[xe],xt=Se[xe],_t=Pe.concat(xe);if(Me=_t.join("."),xe.charAt(0)!=="_"&&typeof ut!="function"&&ut!==xt){if((xe==="tick0"||xe==="dtick")&&Pe[0]!=="geo"){var mt=Se.tickmode;if(mt==="auto"||mt==="array"||!mt)continue}if((xe!=="range"||!Se.autorange)&&(xe!=="zmin"&&xe!=="zmax"||Se.type!=="contourcarpet")&&(Be=Ce(_t))&&(!Be._compareAsJSON||JSON.stringify(ut)!==JSON.stringify(xt))){var it,nt=Be.valType,Et=lt(Be),zt=Array.isArray(ut),Ft=Array.isArray(xt);if(zt&&Ft){var Pt="_input_"+xe,Ze=Ae[Pt],Je=Se[Pt];if(Array.isArray(Ze)&&Ze===Je)continue}if(xt===void 0)Et&&zt?Ne.calc=!0:Qe();else if(Be._isLinkedToArray){var qe=[],Ke=!1;He||(Ne.arrays[xe]=qe);var ft=Math.min(ut.length,xt.length),ot=Math.max(ut.length,xt.length);if(ft!==ot){if(Be.editType!=="arraydraw"){Qe();continue}Ke=!0}for(it=0;it<ft;it++)le(ut[it],xt[it],_t.concat(it),b.extendFlat({inArray:xe,arrayIndex:it},Fe));if(Ke)for(it=ft;it<ot;it++)qe.push(it)}else!nt&&b.isPlainObject(ut)?le(ut,xt,_t,Fe):Et?zt&&Ft?(Re&&(Ne.calc=!0),(Re||Fe.newDataRevision)&&Qe()):zt!==Ft?Ne.calc=!0:Qe():zt&&Ft&&ut.length===xt.length&&String(ut)===String(xt)||Qe()}}}for(xe in Se)if(!(xe in Ae)&&xe.charAt(0)!=="_"&&typeof Se[xe]!="function"){if(lt(Be=Ce(Pe.concat(xe)))&&Array.isArray(Se[xe]))return void(Ne.calc=!0);Qe()}}function ye(Ae,Se){var Pe;for(Pe in Ae)if(Pe.charAt(0)!=="_"){var Fe=Ae[Pe],Be=Se[Pe];if(Fe!==Be)if(b.isPlainObject(Fe)&&b.isPlainObject(Be)){if(ye(Fe,Be))return!0}else{if(!Array.isArray(Fe)||!Array.isArray(Be)||Fe.length!==Be.length)return!0;for(var xe=0;xe<Fe.length;xe++)if(Fe[xe]!==Be[xe]&&(!b.isPlainObject(Fe[xe])||!b.isPlainObject(Be[xe])||ye(Fe[xe],Be[xe])))return!0}}}function Oe(Ae){var Se=Ae._fullLayout,Pe=Ae.getBoundingClientRect();if(!b.equalDomRects(Pe,Se._lastBBox)){var Fe=Se._invTransform=b.inverseTransformMatrix(b.getFullTransformMatrix(Ae));Se._invScaleX=Math.sqrt(Fe[0][0]*Fe[0][0]+Fe[0][1]*Fe[0][1]+Fe[0][2]*Fe[0][2]),Se._invScaleY=Math.sqrt(Fe[1][0]*Fe[1][0]+Fe[1][1]*Fe[1][1]+Fe[1][2]*Fe[1][2]),Se._lastBBox=Pe}}S.animate=function(Ae,Se,Pe){if(Ae=b.getGraphDiv(Ae),!b.isPlotDiv(Ae))throw new Error("This element is not a Plotly plot: "+Ae+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Fe=Ae._transitionData;Fe._frameQueue||(Fe._frameQueue=[]);var Be=(Pe=a.supplyAnimationDefaults(Pe)).transition,xe=Pe.frame;function Me(Re){return Array.isArray(Be)?Re>=Be.length?Be[0]:Be[Re]:Be}function Ce(Re){return Array.isArray(xe)?Re>=xe.length?xe[0]:xe[Re]:xe}function Ne(Re,He){var Ye=0;return function(){if(Re&&++Ye===He)return Re()}}return Fe._frameWaitingCnt===void 0&&(Fe._frameWaitingCnt=0),new Promise(function(Re,He){function Ye(){Ae.emit("plotly_animating"),Fe._lastFrameAt=-1/0,Fe._timeToNext=0,Fe._runningTransitions=0,Fe._currentFrame=null;var Pt=function(){Fe._animationRaf=window.requestAnimationFrame(Pt),Date.now()-Fe._lastFrameAt>Fe._timeToNext&&function(){Fe._currentFrame&&Fe._currentFrame.onComplete&&Fe._currentFrame.onComplete();var Ze=Fe._currentFrame=Fe._frameQueue.shift();if(Ze){var Je=Ze.name?Ze.name.toString():null;Ae._fullLayout._currentFrame=Je,Fe._lastFrameAt=Date.now(),Fe._timeToNext=Ze.frameOpts.duration,a.transition(Ae,Ze.frame.data,Ze.frame.layout,w.coerceTraceIndices(Ae,Ze.frame.traces),Ze.frameOpts,Ze.transitionOpts).then(function(){Ze.onComplete&&Ze.onComplete()}),Ae.emit("plotly_animatingframe",{name:Je,frame:Ze.frame,animation:{frame:Ze.frameOpts,transition:Ze.transitionOpts}})}else Ae.emit("plotly_animated"),window.cancelAnimationFrame(Fe._animationRaf),Fe._animationRaf=null}()};Pt()}var Qe,lt,ut=0;function xt(Pt){return Array.isArray(Be)?ut>=Be.length?Pt.transitionOpts=Be[ut]:Pt.transitionOpts=Be[0]:Pt.transitionOpts=Be,ut++,Pt}var _t=[],mt=Se==null,it=Array.isArray(Se);if(mt||it||!b.isPlainObject(Se)){if(mt||["string","number"].indexOf(typeof Se)!==-1)for(Qe=0;Qe<Fe._frames.length;Qe++)(lt=Fe._frames[Qe])&&(mt||String(lt.group)===String(Se))&&_t.push({type:"byname",name:String(lt.name),data:xt({name:lt.name})});else if(it)for(Qe=0;Qe<Se.length;Qe++){var nt=Se[Qe];["number","string"].indexOf(typeof nt)!==-1?(nt=String(nt),_t.push({type:"byname",name:nt,data:xt({name:nt})})):b.isPlainObject(nt)&&_t.push({type:"object",data:xt(b.extendFlat({},nt))})}}else _t.push({type:"object",data:xt(b.extendFlat({},Se))});for(Qe=0;Qe<_t.length;Qe++)if((lt=_t[Qe]).type==="byname"&&!Fe._frameHash[lt.data.name])return b.warn('animate failure: frame not found: "'+lt.data.name+'"'),void He();["next","immediate"].indexOf(Pe.mode)!==-1&&function(){if(Fe._frameQueue.length!==0){for(;Fe._frameQueue.length;){var Pt=Fe._frameQueue.pop();Pt.onInterrupt&&Pt.onInterrupt()}Ae.emit("plotly_animationinterrupted",[])}}(),Pe.direction==="reverse"&&_t.reverse();var Et=Ae._fullLayout._currentFrame;if(Et&&Pe.fromcurrent){var zt=-1;for(Qe=0;Qe<_t.length;Qe++)if((lt=_t[Qe]).type==="byname"&&lt.name===Et){zt=Qe;break}if(zt>0&&zt<_t.length-1){var Ft=[];for(Qe=0;Qe<_t.length;Qe++)lt=_t[Qe],(_t[Qe].type!=="byname"||Qe>zt)&&Ft.push(lt);_t=Ft}}_t.length>0?function(Pt){if(Pt.length!==0){for(var Ze=0;Ze<Pt.length;Ze++){var Je;Je=Pt[Ze].type==="byname"?a.computeFrame(Ae,Pt[Ze].name):Pt[Ze].data;var qe=Ce(Ze),Ke=Me(Ze);Ke.duration=Math.min(Ke.duration,qe.duration);var ft={frame:Je,name:Pt[Ze].name,frameOpts:qe,transitionOpts:Ke};Ze===Pt.length-1&&(ft.onComplete=Ne(Re,2),ft.onInterrupt=He),Fe._frameQueue.push(ft)}Pe.mode==="immediate"&&(Fe._lastFrameAt=-1/0),Fe._animationRaf||Ye()}}(_t):(Ae.emit("plotly_animated"),Re())})},S.addFrames=function(Ae,Se,Pe){if(Ae=b.getGraphDiv(Ae),Se==null)return Promise.resolve();if(!b.isPlotDiv(Ae))throw new Error("This element is not a Plotly plot: "+Ae+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Fe,Be,xe,Me,Ce=Ae._transitionData._frames,Ne=Ae._transitionData._frameHash;if(!Array.isArray(Se))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+Se);var Re=Ce.length+2*Se.length,He=[],Ye={};for(Fe=Se.length-1;Fe>=0;Fe--)if(b.isPlainObject(Se[Fe])){var Qe=Se[Fe].name,lt=(Ne[Qe]||Ye[Qe]||{}).name,ut=Se[Fe].name,xt=Ne[lt]||Ye[lt];lt&&ut&&typeof ut=="number"&&xt&&L<5&&(L++,b.warn('addFrames: overwriting frame "'+(Ne[lt]||Ye[lt]).name+'" with a frame whose name of type "number" also equates to "'+lt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),L===5&&b.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Ye[Qe]={name:Qe},He.push({frame:a.supplyFrameDefaults(Se[Fe]),index:Pe&&Pe[Fe]!==void 0&&Pe[Fe]!==null?Pe[Fe]:Re+Fe})}He.sort(function(Pt,Ze){return Pt.index>Ze.index?-1:Pt.index<Ze.index?1:0});var _t=[],mt=[],it=Ce.length;for(Fe=He.length-1;Fe>=0;Fe--){if(typeof(Be=He[Fe].frame).name=="number"&&b.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!Be.name)for(;Ne[Be.name="frame "+Ae._transitionData._counter++];);if(Ne[Be.name]){for(xe=0;xe<Ce.length&&(Ce[xe]||{}).name!==Be.name;xe++);_t.push({type:"replace",index:xe,value:Be}),mt.unshift({type:"replace",index:xe,value:Ce[xe]})}else Me=Math.max(0,Math.min(He[Fe].index,it)),_t.push({type:"insert",index:Me,value:Be}),mt.unshift({type:"delete",index:Me}),it++}var nt=a.modifyFrames,Et=a.modifyFrames,zt=[Ae,mt],Ft=[Ae,_t];return s&&s.add(Ae,nt,zt,Et,Ft),a.modifyFrames(Ae,_t)},S.deleteFrames=function(Ae,Se){if(Ae=b.getGraphDiv(Ae),!b.isPlotDiv(Ae))throw new Error("This element is not a Plotly plot: "+Ae);var Pe,Fe,Be=Ae._transitionData._frames,xe=[],Me=[];if(!Se)for(Se=[],Pe=0;Pe<Be.length;Pe++)Se.push(Pe);for((Se=Se.slice()).sort(),Pe=Se.length-1;Pe>=0;Pe--)Fe=Se[Pe],xe.push({type:"delete",index:Fe}),Me.unshift({type:"insert",index:Fe,value:Be[Fe]});var Ce=a.modifyFrames,Ne=a.modifyFrames,Re=[Ae,Me],He=[Ae,xe];return s&&s.add(Ae,Ce,Re,Ne,He),a.modifyFrames(Ae,xe)},S.addTraces=function Ae(Se,Pe,Fe){Se=b.getGraphDiv(Se);var Be,xe,Me=[],Ce=S.deleteTraces,Ne=Ae,Re=[Se,Me],He=[Se,Pe];for(function(Ye,Qe,lt){var ut,xt;if(!Array.isArray(Ye.data))throw new Error("gd.data must be an array.");if(Qe===void 0)throw new Error("traces must be defined.");for(Array.isArray(Qe)||(Qe=[Qe]),ut=0;ut<Qe.length;ut++)if(typeof(xt=Qe[ut])!="object"||Array.isArray(xt)||xt===null)throw new Error("all values in traces array must be non-array objects");if(lt===void 0||Array.isArray(lt)||(lt=[lt]),lt!==void 0&&lt.length!==Qe.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(Se,Pe,Fe),Array.isArray(Pe)||(Pe=[Pe]),Pe=Pe.map(function(Ye){return b.extendFlat({},Ye)}),w.cleanData(Pe),Be=0;Be<Pe.length;Be++)Se.data.push(Pe[Be]);for(Be=0;Be<Pe.length;Be++)Me.push(-Pe.length+Be);if(Fe===void 0)return xe=S.redraw(Se),s.add(Se,Ce,Re,Ne,He),xe;Array.isArray(Fe)||(Fe=[Fe]);try{q(Se,Me,Fe)}catch(Ye){throw Se.data.splice(Se.data.length-Pe.length,Pe.length),Ye}return s.startSequence(Se),s.add(Se,Ce,Re,Ne,He),xe=S.moveTraces(Se,Me,Fe),s.stopSequence(Se),xe},S.deleteTraces=function Ae(Se,Pe){Se=b.getGraphDiv(Se);var Fe,Be,xe=[],Me=S.addTraces,Ce=Ae,Ne=[Se,xe,Pe],Re=[Se,Pe];if(Pe===void 0)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Pe)||(Pe=[Pe]),F(Se,Pe,"indices"),(Pe=D(Pe,Se.data.length-1)).sort(b.sorterDes),Fe=0;Fe<Pe.length;Fe+=1)Be=Se.data.splice(Pe[Fe],1)[0],xe.push(Be);var He=S.redraw(Se);return s.add(Se,Me,Ne,Ce,Re),He},S.extendTraces=function Ae(Se,Pe,Fe,Be){var xe=z(Se=b.getGraphDiv(Se),Pe,Fe,Be,function(Ne,Re,He){var Ye,Qe;if(b.isTypedArray(Ne))if(He<0){var lt=new Ne.constructor(0),ut=V(Ne,Re);He<0?(Ye=ut,Qe=lt):(Ye=lt,Qe=ut)}else if(Ye=new Ne.constructor(He),Qe=new Ne.constructor(Ne.length+Re.length-He),He===Re.length)Ye.set(Re),Qe.set(Ne);else if(He<Re.length){var xt=Re.length-He;Ye.set(Re.subarray(xt)),Qe.set(Ne),Qe.set(Re.subarray(0,xt),Ne.length)}else{var _t=He-Re.length,mt=Ne.length-_t;Ye.set(Ne.subarray(mt)),Ye.set(Re,_t),Qe.set(Ne.subarray(0,mt))}else Ye=Ne.concat(Re),Qe=He>=0&&He<Ye.length?Ye.splice(0,Ye.length-He):[];return[Ye,Qe]}),Me=S.redraw(Se),Ce=[Se,xe.update,Fe,xe.maxPoints];return s.add(Se,S.prependTraces,Ce,Ae,arguments),Me},S.moveTraces=function Ae(Se,Pe,Fe){var Be,xe=[],Me=[],Ce=Ae,Ne=Ae,Re=[Se=b.getGraphDiv(Se),Fe,Pe],He=[Se,Pe,Fe];if(q(Se,Pe,Fe),Pe=Array.isArray(Pe)?Pe:[Pe],Fe===void 0)for(Fe=[],Be=0;Be<Pe.length;Be++)Fe.push(-Pe.length+Be);for(Fe=Array.isArray(Fe)?Fe:[Fe],Pe=D(Pe,Se.data.length-1),Fe=D(Fe,Se.data.length-1),Be=0;Be<Se.data.length;Be++)Pe.indexOf(Be)===-1&&xe.push(Se.data[Be]);for(Be=0;Be<Pe.length;Be++)Me.push({newIndex:Fe[Be],trace:Se.data[Pe[Be]]});for(Me.sort(function(Qe,lt){return Qe.newIndex-lt.newIndex}),Be=0;Be<Me.length;Be+=1)xe.splice(Me[Be].newIndex,0,Me[Be].trace);Se.data=xe;var Ye=S.redraw(Se);return s.add(Se,Ce,Re,Ne,He),Ye},S.prependTraces=function Ae(Se,Pe,Fe,Be){var xe=z(Se=b.getGraphDiv(Se),Pe,Fe,Be,function(Ne,Re,He){var Ye,Qe;if(b.isTypedArray(Ne))if(He<=0){var lt=new Ne.constructor(0),ut=V(Re,Ne);He<0?(Ye=ut,Qe=lt):(Ye=lt,Qe=ut)}else if(Ye=new Ne.constructor(He),Qe=new Ne.constructor(Ne.length+Re.length-He),He===Re.length)Ye.set(Re),Qe.set(Ne);else if(He<Re.length){var xt=Re.length-He;Ye.set(Re.subarray(0,xt)),Qe.set(Re.subarray(xt)),Qe.set(Ne,xt)}else{var _t=He-Re.length;Ye.set(Re),Ye.set(Ne.subarray(0,_t),Re.length),Qe.set(Ne.subarray(_t))}else Ye=Re.concat(Ne),Qe=He>=0&&He<Ye.length?Ye.splice(He,Ye.length):[];return[Ye,Qe]}),Me=S.redraw(Se),Ce=[Se,xe.update,Fe,xe.maxPoints];return s.add(Se,S.extendTraces,Ce,Ae,arguments),Me},S.newPlot=function(Ae,Se,Pe,Fe){return Ae=b.getGraphDiv(Ae),a.cleanPlot([],{},Ae._fullData||[],Ae._fullLayout||{}),a.purge(Ae),S._doPlot(Ae,Se,Pe,Fe)},S._doPlot=function(Ae,Se,Pe,Fe){var Be;if(Ae=b.getGraphDiv(Ae),c.init(Ae),b.isPlainObject(Se)){var xe=Se;Se=xe.data,Pe=xe.layout,Fe=xe.config,Be=xe.frames}if(c.triggerHandler(Ae,"plotly_beforeplot",[Se,Pe,Fe])===!1)return Promise.reject();Se||Pe||b.isPlotDiv(Ae)||b.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",Ae),I(Ae,Fe),Pe||(Pe={}),v.select(Ae).classed("js-plotly-plot",!0),u.makeTester(),Array.isArray(Ae._promises)||(Ae._promises=[]);var Me=(Ae.data||[]).length===0&&Array.isArray(Se);Array.isArray(Se)&&(w.cleanData(Se),Me?Ae.data=Se:Ae.data.push.apply(Ae.data,Se),Ae.empty=!1),Ae.layout&&!Me||(Ae.layout=w.cleanLayout(Pe)),a.supplyDefaults(Ae);var Ce=Ae._fullLayout,Ne=Ce._has("cartesian");Ce._replotting=!0,(Me||Ce._shouldCreateBgLayer)&&(function(mt){var it=v.select(mt),nt=mt._fullLayout;if(nt._calcInverseTransform=Oe,nt._calcInverseTransform(mt),nt._container=it.selectAll(".plot-container").data([0]),nt._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),nt._paperdiv=nt._container.selectAll(".svg-container").data([0]),nt._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),nt._glcontainer=nt._paperdiv.selectAll(".gl-container").data([{}]),nt._glcontainer.enter().append("div").classed("gl-container",!0),nt._paperdiv.selectAll(".main-svg").remove(),nt._paperdiv.select(".modebar-container").remove(),nt._paper=nt._paperdiv.insert("svg",":first-child").classed("main-svg",!0),nt._toppaper=nt._paperdiv.append("svg").classed("main-svg",!0),nt._modebardiv=nt._paperdiv.append("div"),delete nt._modeBar,nt._hoverpaper=nt._paperdiv.append("svg").classed("main-svg",!0),!nt._uid){var Et={};v.selectAll("defs").each(function(){this.id&&(Et[this.id.split("-")[1]]=1)}),nt._uid=b.randstr(Et)}nt._paperdiv.selectAll(".main-svg").attr(T.svgAttrs),nt._defs=nt._paper.append("defs").attr("id","defs-"+nt._uid),nt._clips=nt._defs.append("g").classed("clips",!0),nt._topdefs=nt._toppaper.append("defs").attr("id","topdefs-"+nt._uid),nt._topclips=nt._topdefs.append("g").classed("clips",!0),nt._bgLayer=nt._paper.append("g").classed("bglayer",!0),nt._draggers=nt._paper.append("g").classed("draglayer",!0);var zt=nt._paper.append("g").classed("layer-below",!0);nt._imageLowerLayer=zt.append("g").classed("imagelayer",!0),nt._shapeLowerLayer=zt.append("g").classed("shapelayer",!0),nt._cartesianlayer=nt._paper.append("g").classed("cartesianlayer",!0),nt._polarlayer=nt._paper.append("g").classed("polarlayer",!0),nt._smithlayer=nt._paper.append("g").classed("smithlayer",!0),nt._ternarylayer=nt._paper.append("g").classed("ternarylayer",!0),nt._geolayer=nt._paper.append("g").classed("geolayer",!0),nt._funnelarealayer=nt._paper.append("g").classed("funnelarealayer",!0),nt._pielayer=nt._paper.append("g").classed("pielayer",!0),nt._iciclelayer=nt._paper.append("g").classed("iciclelayer",!0),nt._treemaplayer=nt._paper.append("g").classed("treemaplayer",!0),nt._sunburstlayer=nt._paper.append("g").classed("sunburstlayer",!0),nt._indicatorlayer=nt._toppaper.append("g").classed("indicatorlayer",!0),nt._glimages=nt._paper.append("g").classed("glimages",!0);var Ft=nt._toppaper.append("g").classed("layer-above",!0);nt._imageUpperLayer=Ft.append("g").classed("imagelayer",!0),nt._shapeUpperLayer=Ft.append("g").classed("shapelayer",!0),nt._selectionLayer=nt._toppaper.append("g").classed("selectionlayer",!0),nt._infolayer=nt._toppaper.append("g").classed("infolayer",!0),nt._menulayer=nt._toppaper.append("g").classed("menulayer",!0),nt._zoomlayer=nt._toppaper.append("g").classed("zoomlayer",!0),nt._hoverlayer=nt._hoverpaper.append("g").classed("hoverlayer",!0),nt._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),mt.emit("plotly_framework")}(Ae),Ce._shouldCreateBgLayer&&delete Ce._shouldCreateBgLayer),u.initGradients(Ae),u.initPatterns(Ae),Me&&r.saveShowSpikeInitial(Ae);var Re=!Ae.calcdata||Ae.calcdata.length!==(Ae._fullData||[]).length;Re&&a.doCalcdata(Ae);for(var He=0;He<Ae.calcdata.length;He++)Ae.calcdata[He][0].trace=Ae._fullData[He];Ae._context.responsive?Ae._responsiveChartHandler||(Ae._responsiveChartHandler=function(){b.isHidden(Ae)||a.resize(Ae)},window.addEventListener("resize",Ae._responsiveChartHandler)):b.clearResponsive(Ae);var Ye=b.extendFlat({},Ce._size),Qe=0;function lt(){if(a.clearAutoMarginIds(Ae),_.drawMarginPushers(Ae),r.allowAutoMargin(Ae),Ae._fullLayout.title.text&&Ae._fullLayout.title.automargin&&a.allowAutoMargin(Ae,"title.automargin"),Ce._has("pie"))for(var mt=Ae._fullData,it=0;it<mt.length;it++){var nt=mt[it];nt.type==="pie"&&nt.automargin&&a.allowAutoMargin(Ae,"pie."+nt.uid+".automargin")}return a.doAutoMargin(Ae),a.previousPromises(Ae)}function ut(){Ae._transitioning||(_.doAutoRangeAndConstraints(Ae),Me&&r.saveRangeInitial(Ae),n.getComponentMethod("rangeslider","calcAutorange")(Ae))}var xt=[a.previousPromises,function(){if(Be)return S.addFrames(Ae,Be)},function mt(){for(var it=Ce._basePlotModules,nt=0;nt<it.length;nt++)it[nt].drawFramework&&it[nt].drawFramework(Ae);!Ce._glcanvas&&Ce._has("gl")&&(Ce._glcanvas=Ce._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Pt){return Pt.key}),Ce._glcanvas.enter().append("canvas").attr("class",function(Pt){return"gl-canvas gl-canvas-"+Pt.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Et=Ae._context.plotGlPixelRatio;if(Ce._glcanvas){Ce._glcanvas.attr("width",Ce.width*Et).attr("height",Ce.height*Et).style("width",Ce.width+"px").style("height",Ce.height+"px");var zt=Ce._glcanvas.data()[0].regl;if(zt&&(Math.floor(Ce.width*Et)!==zt._gl.drawingBufferWidth||Math.floor(Ce.height*Et)!==zt._gl.drawingBufferHeight)){var Ft="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!Qe)return b.log(Ft+" Clearing graph and plotting again."),a.cleanPlot([],{},Ae._fullData,Ce),a.supplyDefaults(Ae),Ce=Ae._fullLayout,a.doCalcdata(Ae),Qe++,mt();b.error(Ft)}}return Ce.modebar.orientation==="h"?Ce._modebardiv.style("height",null).style("width","100%"):Ce._modebardiv.style("width",null).style("height",Ce.height+"px"),a.previousPromises(Ae)},lt,function(){if(a.didMarginChange(Ye,Ce._size))return b.syncOrAsync([lt,_.layoutStyles],Ae)}];Ne&&xt.push(function(){if(Re)return b.syncOrAsync([n.getComponentMethod("shapes","calcAutorange"),n.getComponentMethod("annotations","calcAutorange"),ut],Ae);ut()}),xt.push(_.layoutStyles),Ne&&xt.push(function(){return r.draw(Ae,Me?"":"redraw")},function(mt){var it=mt._fullLayout._insideTickLabelsUpdaterange;if(it)return mt._fullLayout._insideTickLabelsUpdaterange=void 0,te(mt,it).then(function(){r.saveRangeInitial(mt,!0)})}),xt.push(_.drawData,_.finalDraw,f,a.addLinks,a.rehover,a.redrag,a.reselect,a.doAutoMargin,a.previousPromises);var _t=b.syncOrAsync(xt,Ae);return _t&&_t.then||(_t=Promise.resolve()),_t.then(function(){return M(Ae),Ae})},S.purge=function(Ae){var Se=(Ae=b.getGraphDiv(Ae))._fullLayout||{},Pe=Ae._fullData||[];return a.cleanPlot([],{},Pe,Se),a.purge(Ae),c.purge(Ae),Se._container&&Se._container.remove(),delete Ae._context,Ae},S.react=function(Ae,Se,Pe,Fe){var Be,xe;Ae=b.getGraphDiv(Ae),w.clearPromiseQueue(Ae);var Me=Ae._fullData,Ce=Ae._fullLayout;if(b.isPlotDiv(Ae)&&Me&&Ce){if(b.isPlainObject(Se)){var Ne=Se;Se=Ne.data,Pe=Ne.layout,Fe=Ne.config,Be=Ne.frames}var Re=!1;if(Fe){var He=b.extendDeep({},Ae._context);Ae._context=void 0,I(Ae,Fe),Re=ye(He,Ae._context)}Ae.data=Se||[],w.cleanData(Ae.data),Ae.layout=Pe||{},w.cleanLayout(Ae.layout),function(ot,Ue,Ve,st){var Xe,gt,yt,bt,dt,Lt,wt,Ct,Rt,Dt,Nt=st._preGUI,Xt=[],un={},qt={};for(Xe in Nt){if(dt=Te(Xe,be)){if(Rt=dt.head,Dt=dt.tail,gt=dt.attr||Rt+".uirevision",(bt=(yt=g(st,gt).get())&&Le(gt,Ue))&&bt===yt){if((Lt=Nt[Xe])===null&&(Lt=void 0),fe(Ct=(wt=g(Ue,Xe)).get(),Lt)){Ct===void 0&&Dt==="autorange"&&Xt.push(Rt),wt.set(j(g(st,Xe).get()));continue}if(Dt==="autorange"||Dt.substr(0,6)==="range["){var Kt=Nt[Rt+".range[0]"],Ut=Nt[Rt+".range[1]"],Rn=Nt[Rt+".autorange"];if(Rn||Rn===null&&Kt===null&&Ut===null){if(!(Rt in un)){var An=g(Ue,Rt).get();un[Rt]=An&&(An.autorange||An.autorange!==!1&&(!An.range||An.range.length!==2))}if(un[Rt]){wt.set(j(g(st,Xe).get()));continue}}}}}else b.warn("unrecognized GUI edit: "+Xe);delete Nt[Xe],dt&&dt.tail.substr(0,6)==="range["&&(qt[dt.head]=1)}for(var mn=0;mn<Xt.length;mn++){var tn=Xt[mn];if(qt[tn]){var fn=g(Ue,tn).get();fn&&delete fn.autorange}}var rn=st._tracePreGUI;for(var pn in rn){var wn,kn=rn[pn],Pn=null;for(Xe in kn){if(!Pn){var On=Ie(pn,Ve);if(On<0){delete rn[pn];break}var En=_e(pn,ot,(wn=Ve[On]._fullInput).index);if(En<0){delete rn[pn];break}Pn=ot[En]}if(dt=Te(Xe,we)){if(dt.attr?bt=(yt=g(st,dt.attr).get())&&Le(dt.attr,Ue):(yt=wn.uirevision,(bt=Pn.uirevision)===void 0&&(bt=Ue.uirevision)),bt&&bt===yt&&((Lt=kn[Xe])===null&&(Lt=void 0),fe(Ct=(wt=g(Pn,Xe)).get(),Lt))){wt.set(j(g(wn,Xe).get()));continue}}else b.warn("unrecognized GUI edit: "+Xe+" in trace uid "+pn);delete kn[Xe]}}}(Ae.data,Ae.layout,Me,Ce),a.supplyDefaults(Ae,{skipUpdateCalc:!0});var Ye=Ae._fullData,Qe=Ae._fullLayout,lt=Qe.datarevision===void 0,ut=Qe.transition,xt=function(ot,Ue,Ve,st,Xe){var gt=A.layoutFlags();return gt.arrays={},gt.rangesAltered={},gt.nChanges=0,gt.nChangesAnim=0,le(Ue,Ve,[],{getValObject:function(yt){return i.getLayoutValObject(Ve,yt)},flags:gt,immutable:st,transition:Xe,gd:ot}),(gt.plot||gt.calc)&&(gt.layoutReplot=!0),Xe&&gt.nChanges&&gt.nChangesAnim&&(gt.anim=gt.nChanges===gt.nChangesAnim?"all":"some"),gt}(Ae,Ce,Qe,lt,ut),_t=xt.newDataRevision,mt=function(ot,Ue,Ve,st,Xe,gt){var yt=Ue.length===Ve.length;if(!Xe&&!yt)return{fullReplot:!0,calc:!0};var bt,dt,Lt=A.traceFlags();Lt.arrays={},Lt.nChanges=0,Lt.nChangesAnim=0;var wt={getValObject:function(Rt){var Dt=i.getTraceValObject(dt,Rt);return!dt._module.animatable&&Dt.anim&&(Dt.anim=!1),Dt},flags:Lt,immutable:st,transition:Xe,newDataRevision:gt,gd:ot},Ct={};for(bt=0;bt<Ue.length;bt++)if(Ve[bt]){if(dt=Ve[bt]._fullInput,a.hasMakesDataTransform(dt)&&(dt=Ve[bt]),Ct[dt.uid])continue;Ct[dt.uid]=1,le(Ue[bt]._fullInput,dt,[],wt)}return(Lt.calc||Lt.plot)&&(Lt.fullReplot=!0),Xe&&Lt.nChanges&&Lt.nChangesAnim&&(Lt.anim=Lt.nChanges===Lt.nChangesAnim&&yt?"all":"some"),Lt}(Ae,Me,Ye,lt,ut,_t);if(de(Ae)&&(xt.layoutReplot=!0),mt.calc||xt.calc){Ae.calcdata=void 0;for(var it=Object.getOwnPropertyNames(Qe),nt=0;nt<it.length;nt++){var Et=it[nt],zt=Et.substring(0,5);if(zt==="xaxis"||zt==="yaxis"){var Ft=Qe[Et]._emptyCategories;Ft&&Ft()}}}else a.supplyDefaultsUpdateCalc(Ae.calcdata,Ye);var Pt=[];if(Be&&(Ae._transitionData={},a.createTransitionData(Ae),Pt.push(function(){return S.addFrames(Ae,Be)})),Qe.transition&&!Re&&(mt.anim||xt.anim))xt.ticks&&Pt.push(_.doTicksRelayout),a.doCalcdata(Ae),_.doAutoRangeAndConstraints(Ae),Pt.push(function(){return a.transitionFromReact(Ae,mt,xt,Ce)});else if(mt.fullReplot||xt.layoutReplot||Re)Ae._fullLayout._skipDefaults=!0,Pt.push(S._doPlot);else{for(var Ze in xt.arrays){var Je=xt.arrays[Ze];if(Je.length){var qe=n.getComponentMethod(Ze,"drawOne");if(qe!==b.noop)for(var Ke=0;Ke<Je.length;Ke++)qe(Ae,Je[Ke]);else{var ft=n.getComponentMethod(Ze,"draw");if(ft===b.noop)throw new Error("cannot draw components: "+Ze);ft(Ae)}}}Pt.push(a.previousPromises),mt.style&&Pt.push(_.doTraceStyle),(mt.colorbars||xt.colorbars)&&Pt.push(_.doColorBars),xt.legend&&Pt.push(_.doLegend),xt.layoutstyle&&Pt.push(_.layoutStyles),xt.axrange&&J(Pt),xt.ticks&&Pt.push(_.doTicksRelayout),xt.modebar&&Pt.push(_.doModeBar),xt.camera&&Pt.push(_.doCamera),Pt.push(M)}Pt.push(a.rehover,a.redrag,a.reselect),(xe=b.syncOrAsync(Pt,Ae))&&xe.then||(xe=Promise.resolve(Ae))}else xe=S.newPlot(Ae,Se,Pe,Fe);return xe.then(function(){return Ae.emit("plotly_react",{data:Se,layout:Pe}),Ae})},S.redraw=function(Ae){if(Ae=b.getGraphDiv(Ae),!b.isPlotDiv(Ae))throw new Error("This element is not a Plotly plot: "+Ae);return w.cleanData(Ae.data),w.cleanLayout(Ae.layout),Ae.calcdata=void 0,S._doPlot(Ae).then(function(){return Ae.emit("plotly_redraw"),Ae})},S.relayout=te,S.restyle=X,S.setPlotConfig=function(Ae){return b.extendFlat(y,Ae)},S.update=pe,S._guiRelayout=me(te),S._guiRestyle=me(X),S._guiUpdate=me(pe),S._storeDirectGUIEdit=function(Ae,Se,Pe){for(var Fe in Pe)G(Fe,g(Ae,Fe).get(),Pe[Fe],Se)}},20556:function(O){var S={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};(function v(x,t){for(var b in x){var g=x[b];g.valType?t[b]=g.dflt:(t[b]||(t[b]={}),v(g,t[b]))}})(S,e),O.exports={configAttributes:S,dfltConfig:e}},73060:function(O,S,e){var v=e(24040),x=e(3400),t=e(45464),b=e(64859),g=e(16672),c=e(85656),s=e(20556).configAttributes,n=e(67824),i=x.extendDeepAll,a=x.isPlainObject,r=x.isArrayOrTypedArray,o=x.nestedProperty,l=x.valObjectMeta,u="_isSubplotObj",h="_isLinkedToArray",f="_deprecated",T=[u,h,"_arrayAttrRegexps",f];function d(p,L,M){if(!p)return!1;if(p._isLinkedToArray){if(y(L[M]))M++;else if(M<L.length)return!1}for(;M<L.length;M++){var C=p[L[M]];if(!a(C)||(p=C,M===L.length-1))break;if(p._isLinkedToArray){if(!y(L[++M]))return!1}else if(p.valType==="info_array"){var R=L[++M];if(!y(R))return!1;var I=p.items;if(Array.isArray(I)){if(R>=I.length)return!1;if(p.dimensions===2){if(M++,L.length===M)return p;var D=L[M];if(!y(D))return!1;p=I[R][D]}else p=I[R]}else p=I}}return p}function y(p){return p===Math.round(p)&&p>=0}function m(){var p,L,M={};for(p in i(M,b),v.subplotsRegistry)if((L=v.subplotsRegistry[p]).layoutAttributes)if(Array.isArray(L.attr))for(var C=0;C<L.attr.length;C++)_(M,L,L.attr[C]);else _(M,L,L.attr==="subplot"?L.name:L.attr);for(p in v.componentsRegistry){var R=(L=v.componentsRegistry[p]).schema;if(R&&(R.subplots||R.layout)){var I=R.subplots;if(I&&I.xaxis&&!I.yaxis)for(var D in I.xaxis)delete M.yaxis[D];delete M.xaxis.shift,delete M.xaxis.autoshift}else L.name==="colorscale"?i(M,L.layoutAttributes):L.layoutAttributes&&A(M,L.layoutAttributes,L.name)}return{layoutAttributes:w(M)}}function w(p){return function(L){S.crawl(L,function(M,C,R){S.isValObject(M)?M.arrayOk!==!0&&M.valType!=="data_array"||(R[C+"src"]={valType:"string",editType:"none"}):a(M)&&(M.role="object")})}(p),function(L){S.crawl(L,function(M,C,R){if(M){var I=M[h];I&&(delete M[h],R[C]={items:{}},R[C].items[I]=M,R[C].role="object")}})}(p),function(L){(function M(C){for(var R in C)if(a(C[R]))M(C[R]);else if(Array.isArray(C[R]))for(var I=0;I<C[R].length;I++)M(C[R][I]);else C[R]instanceof RegExp&&(C[R]=C[R].toString())})(L)}(p),p}function _(p,L,M){var C=o(p,M),R=i({},L.layoutAttributes);R[u]=!0,C.set(R)}function A(p,L,M){var C=o(p,M);C.set(i(C.get()||{},L))}S.IS_SUBPLOT_OBJ=u,S.IS_LINKED_TO_ARRAY=h,S.DEPRECATED=f,S.UNDERSCORE_ATTRS=T,S.get=function(){var p={};v.allTypes.forEach(function(C){p[C]=function(R){var I,D;D=(I=v.modules[R]._module).basePlotModule;var F={type:null},q=i({},t),z=i({},I.attributes);S.crawl(z,function(j,H,G,ie,re){o(q,re).set(void 0),j===void 0&&o(z,re).set(void 0)}),i(F,q),v.traceIs(R,"noOpacity")&&delete F.opacity,v.traceIs(R,"showLegend")||(delete F.showlegend,delete F.legendgroup),v.traceIs(R,"noHover")&&(delete F.hoverinfo,delete F.hoverlabel),I.selectPoints||delete F.selectedpoints,i(F,z),D.attributes&&i(F,D.attributes),F.type=R;var V={meta:I.meta||{},categories:I.categories||{},animatable:!!I.animatable,type:R,attributes:w(F)};if(I.layoutAttributes){var X={};i(X,I.layoutAttributes),V.layoutAttributes=w(X)}return I.animatable||S.crawl(V,function(j){S.isValObject(j)&&"anim"in j&&delete j.anim}),V}(C)});var L,M={};return Object.keys(v.transformsRegistry).forEach(function(C){M[C]=function(R){var I=v.transformsRegistry[R],D=i({},I.attributes);return Object.keys(v.componentsRegistry).forEach(function(F){var q=v.componentsRegistry[F];q.schema&&q.schema.transforms&&q.schema.transforms[R]&&Object.keys(q.schema.transforms[R]).forEach(function(z){A(D,q.schema.transforms[R][z],z)})}),{attributes:w(D)}}(C)}),{defs:{valObjects:l,metaKeys:T.concat(["description","role","editType","impliedEdits"]),editType:{traces:n.traces,layout:n.layout},impliedEdits:{}},traces:p,layout:m(),transforms:M,frames:(L={frames:i({},g)},w(L),L.frames),animation:w(c),config:w(s)}},S.crawl=function(p,L,M,C){var R=M||0;C=C||"",Object.keys(p).forEach(function(I){var D=p[I];if(T.indexOf(I)===-1){var F=(C?C+".":"")+I;L(D,I,p,R,F),S.isValObject(D)||a(D)&&I!=="impliedEdits"&&S.crawl(D,L,R+1,F)}})},S.isValObject=function(p){return p&&p.valType!==void 0},S.findArrayAttributes=function(p){var L,M,C=[],R=[],I=[];function D(j,H,G,ie){R=R.slice(0,ie).concat([H]),I=I.slice(0,ie).concat([j&&j._isLinkedToArray]),j&&(j.valType==="data_array"||j.arrayOk===!0)&&(R[ie-1]!=="colorbar"||H!=="ticktext"&&H!=="tickvals")&&F(L,0,"")}function F(j,H,G){var ie=j[R[H]],re=G+R[H];if(H===R.length-1)r(ie)&&C.push(M+re);else if(I[H]){if(Array.isArray(ie))for(var te=0;te<ie.length;te++)a(ie[te])&&F(ie[te],H+1,re+"["+te+"].")}else a(ie)&&F(ie,H+1,re+".")}L=p,M="",S.crawl(t,D),p._module&&p._module.attributes&&S.crawl(p._module.attributes,D);var q=p.transforms;if(q)for(var z=0;z<q.length;z++){var V=q[z],X=V._module;X&&(M="transforms["+z+"].",L=V,S.crawl(X.attributes,D))}return C},S.getTraceValObject=function(p,L){var M,C,R=L[0],I=1;if(R==="transforms"){if(L.length===1)return t.transforms;var D=p.transforms;if(!Array.isArray(D)||!D.length)return!1;var F=L[1];if(!y(F)||F>=D.length)return!1;C=(M=(v.transformsRegistry[D[F].type]||{}).attributes)&&M[L[2]],I=3}else{var q=p._module;if(q||(q=(v.modules[p.type||t.type.dflt]||{})._module),!q)return!1;if(!(C=(M=q.attributes)&&M[R])){var z=q.basePlotModule;z&&z.attributes&&(C=z.attributes[R])}C||(C=t[R])}return d(C,L,I)},S.getLayoutValObject=function(p,L){var M=function(C,R){var I,D,F,q,z=C._basePlotModules;if(z){var V;for(I=0;I<z.length;I++){if((F=z[I]).attrRegex&&F.attrRegex.test(R)){if(F.layoutAttrOverrides)return F.layoutAttrOverrides;!V&&F.layoutAttributes&&(V=F.layoutAttributes)}var X=F.baseLayoutAttrOverrides;if(X&&R in X)return X[R]}if(V)return V}var j=C._modules;if(j){for(I=0;I<j.length;I++)if((q=j[I].layoutAttributes)&&R in q)return q[R]}for(D in v.componentsRegistry){if((F=v.componentsRegistry[D]).name==="colorscale"&&R.indexOf("coloraxis")===0)return F.layoutAttributes[R];if(!F.schema&&R===F.name)return F.layoutAttributes}return R in b&&b[R]}(p,L[0]);return d(M,L,1)}},31780:function(O,S,e){var v=e(3400),x=e(45464),t="templateitemname",b={name:{valType:"string",editType:"none"}};function g(s){return s&&typeof s=="string"}function c(s){var n=s.length-1;return s.charAt(n)!=="s"&&v.warn("bad argument to arrayDefaultKey: "+s),s.substr(0,s.length-1)+"defaults"}b[t]={valType:"string",editType:"calc"},S.templatedArray=function(s,n){return n._isLinkedToArray=s,n.name=b.name,n[t]=b[t],n},S.traceTemplater=function(s){var n,i,a={};for(n in s)i=s[n],Array.isArray(i)&&i.length&&(a[n]=0);return{newTrace:function(r){var o={type:n=v.coerce(r,{},x,"type"),_template:null};if(n in a){i=s[n];var l=a[n]%i.length;a[n]++,o._template=i[l]}return o}}},S.newContainer=function(s,n,i){var a=s._template,r=a&&(a[n]||i&&a[i]);return v.isPlainObject(r)||(r=null),s[n]={_template:r}},S.arrayTemplater=function(s,n,i){var a=s._template,r=a&&a[c(n)],o=a&&a[n];Array.isArray(o)&&o.length||(o=[]);var l={};return{newItem:function(u){var h={name:u.name,_input:u},f=h[t]=u[t];if(!g(f))return h._template=r,h;for(var T=0;T<o.length;T++){var d=o[T];if(d.name===f)return l[f]=1,h._template=d,h}return h[i]=u[i]||!1,h._template=!1,h},defaultItems:function(){for(var u=[],h=0;h<o.length;h++){var f=o[h],T=f.name;if(g(T)&&!l[T]){var d={_template:f,name:T,_input:{_templateitemname:T}};d[t]=f[t],u.push(d),l[T]=1}}return u}}},S.arrayDefaultKey=c,S.arrayEditor=function(s,n,i){var a=(v.nestedProperty(s,n).get()||[]).length,r=i._index,o=r>=a&&(i._input||{})._templateitemname;o&&(r=a);var l,u=n+"["+r+"]";function h(){l={},o&&(l[u]={},l[u][t]=o)}function f(d,y){o?v.nestedProperty(l[u],d).set(y):l[u+"."+d]=y}function T(){var d=l;return h(),d}return h(),{modifyBase:function(d,y){l[d]=y},modifyItem:f,getUpdateObj:T,applyUpdate:function(d,y){d&&f(d,y);var m=T();for(var w in m)v.nestedProperty(s,w).set(m[w])}}}},39172:function(O,S,e){var v=e(33428),x=e(24040),t=e(7316),b=e(3400),g=e(72736),c=e(73696),s=e(76308),n=e(43616),i=e(81668),a=e(45460),r=e(54460),o=e(84284),l=e(71888),u=l.enforce,h=l.clean,f=e(19280).doAutoRange,T="start";function d(A,p,L){for(var M=0;M<L.length;M++){var C=L[M][0],R=L[M][1];if(!(C[0]>=A[1]||C[1]<=A[0])&&R[0]<p[1]&&R[1]>p[0])return!0}return!1}function y(A){var p,L,M,C,R,I,D=A._fullLayout,F=D._size,q=F.p,z=r.list(A,"",!0);if(D._paperdiv.style({width:A._context.responsive&&D.autosize&&!A._context._hasZeroWidth&&!A.layout.width?"100%":D.width+"px",height:A._context.responsive&&D.autosize&&!A._context._hasZeroHeight&&!A.layout.height?"100%":D.height+"px"}).selectAll(".main-svg").call(n.setSize,D.width,D.height),A._context.setBackground(A,D.paper_bgcolor),S.drawMainTitle(A),a.manage(A),!D._has("cartesian"))return t.previousPromises(A);function V(Re,He,Ye){var Qe=Re._lw/2;return Re._id.charAt(0)==="x"?He?Ye==="top"?He._offset-q-Qe:He._offset+He._length+q+Qe:F.t+F.h*(1-(Re.position||0))+Qe%1:He?Ye==="right"?He._offset+He._length+q+Qe:He._offset-q-Qe:F.l+F.w*(Re.position||0)+Qe%1}for(p=0;p<z.length;p++){var X=(C=z[p])._anchorAxis;C._linepositions={},C._lw=n.crispRound(A,C.linewidth,1),C._mainLinePosition=V(C,X,C.side),C._mainMirrorPosition=C.mirror&&X?V(C,X,o.OPPOSITE_SIDE[C.side]):null}var j=[],H=[],G=[],ie=s.opacity(D.paper_bgcolor)===1&&s.opacity(D.plot_bgcolor)===1&&D.paper_bgcolor===D.plot_bgcolor;for(L in D._plots)if((M=D._plots[L]).mainplot)M.bg&&M.bg.remove(),M.bg=void 0;else{var re=M.xaxis.domain,te=M.yaxis.domain,K=M.plotgroup;if(d(re,te,G)){var J=K.node(),$=M.bg=b.ensureSingle(K,"rect","bg");J.insertBefore($.node(),J.childNodes[0]),H.push(L)}else K.select("rect.bg").remove(),G.push([re,te]),ie||(j.push(L),H.push(L))}var ae,ue,ce,de,pe,me,be,we,Te,Le,Ie,_e,fe,le=D._bgLayer.selectAll(".bg").data(j);for(le.enter().append("rect").classed("bg",!0),le.exit().remove(),le.each(function(Re){D._plots[Re].bg=v.select(this)}),p=0;p<H.length;p++)M=D._plots[H[p]],R=M.xaxis,I=M.yaxis,M.bg&&R._offset!==void 0&&I._offset!==void 0&&M.bg.call(n.setRect,R._offset-q,I._offset-q,R._length+2*q,I._length+2*q).call(s.fill,D.plot_bgcolor).style("stroke-width",0);if(!D._hasOnlyLargeSploms)for(L in D._plots){M=D._plots[L],R=M.xaxis,I=M.yaxis;var ye,Oe,Ae=M.clipId="clip"+D._uid+L+"plot",Se=b.ensureSingleById(D._clips,"clipPath",Ae,function(Re){Re.classed("plotclip",!0).append("rect")});M.clipRect=Se.select("rect").attr({width:R._length,height:I._length}),n.setTranslate(M.plot,R._offset,I._offset),M._hasClipOnAxisFalse?(ye=null,Oe=Ae):(ye=Ae,Oe=null),n.setClipUrl(M.plot,ye,A),M.layerClipId=Oe}function Pe(Re){return"M"+ae+","+Re+"H"+ue}function Fe(Re){return"M"+R._offset+","+Re+"h"+R._length}function Be(Re){return"M"+Re+","+we+"V"+be}function xe(Re){return I._shift!==void 0&&(Re+=I._shift),"M"+Re+","+I._offset+"v"+I._length}function Me(Re,He,Ye){if(!Re.showline||L!==Re._mainSubplot)return"";if(!Re._anchorAxis)return Ye(Re._mainLinePosition);var Qe=He(Re._mainLinePosition);return Re.mirror&&(Qe+=He(Re._mainMirrorPosition)),Qe}for(L in D._plots){M=D._plots[L],R=M.xaxis,I=M.yaxis;var Ce="M0,0";m(R,L)&&(pe=_(R,"left",I,z),ae=R._offset-(pe?q+pe:0),me=_(R,"right",I,z),ue=R._offset+R._length+(me?q+me:0),ce=V(R,I,"bottom"),de=V(R,I,"top"),!(fe=!R._anchorAxis||L!==R._mainSubplot)||R.mirror!=="allticks"&&R.mirror!=="all"||(R._linepositions[L]=[ce,de]),Ce=Me(R,Pe,Fe),fe&&R.showline&&(R.mirror==="all"||R.mirror==="allticks")&&(Ce+=Pe(ce)+Pe(de)),M.xlines.style("stroke-width",R._lw+"px").call(s.stroke,R.showline?R.linecolor:"rgba(0,0,0,0)")),M.xlines.attr("d",Ce);var Ne="M0,0";m(I,L)&&(Ie=_(I,"bottom",R,z),be=I._offset+I._length+(Ie?q:0),_e=_(I,"top",R,z),we=I._offset-(_e?q:0),Te=V(I,R,"left"),Le=V(I,R,"right"),!(fe=!I._anchorAxis||L!==I._mainSubplot)||I.mirror!=="allticks"&&I.mirror!=="all"||(I._linepositions[L]=[Te,Le]),Ne=Me(I,Be,xe),fe&&I.showline&&(I.mirror==="all"||I.mirror==="allticks")&&(Ne+=Be(Te)+Be(Le)),M.ylines.style("stroke-width",I._lw+"px").call(s.stroke,I.showline?I.linecolor:"rgba(0,0,0,0)")),M.ylines.attr("d",Ne)}return r.makeClipPaths(A),t.previousPromises(A)}function m(A,p){return(A.ticks||A.showline)&&(p===A._mainSubplot||A.mirror==="all"||A.mirror==="allticks")}function w(A,p,L){if(!L.showline||!L._lw)return!1;if(L.mirror==="all"||L.mirror==="allticks")return!0;var M=L._anchorAxis;if(!M)return!1;var C=o.FROM_BL[p];return L.side===p?M.domain[C]===A.domain[C]:L.mirror&&M.domain[1-C]===A.domain[1-C]}function _(A,p,L,M){if(w(A,p,L))return L._lw;for(var C=0;C<M.length;C++){var R=M[C];if(R._mainAxis===L._mainAxis&&w(A,p,R))return R._lw}return 0}S.layoutStyles=function(A){return b.syncOrAsync([t.doAutoMargin,y],A)},S.drawMainTitle=function(A){var p,L=A._fullLayout.title,M=A._fullLayout,C=function(j){var H=j.title,G="middle";return b.isRightAnchor(H)?G="end":b.isLeftAnchor(H)&&(G=T),G}(M),R=function(j){var H=j.title,G="0em";return b.isTopAnchor(H)?G=o.CAP_SHIFT+"em":b.isMiddleAnchor(H)&&(G=o.MID_SHIFT+"em"),G}(M),I=function(j,H){var G=j.title,ie=j._size,re=0;return H!=="0em"&&H?H===o.CAP_SHIFT+"em"&&(re=G.pad.t):re=-G.pad.b,G.y==="auto"?ie.t/2:G.yref==="paper"?ie.t+ie.h-ie.h*G.y+re:j.height-j.height*G.y+re}(M,R),D=function(j,H){var G=j.title,ie=j._size,re=0;return H===T?re=G.pad.l:H==="end"&&(re=-G.pad.r),G.xref==="paper"?ie.l+ie.w*G.x+re:j.width*G.x+re}(M,C);if(i.draw(A,"gtitle",{propContainer:M,propName:"title.text",placeholder:M._dfltTitle.plot,attributes:{x:D,y:I,"text-anchor":C,dy:R}}),L.text&&L.automargin){var F=v.selectAll(".gtitle"),q=n.bBox(F.node()).height,z=function(j,H,G){var ie=H.y,re=H.yanchor,te=ie>.5?"t":"b",K=j._fullLayout.margin[te],J=0;return H.yref==="paper"?J=G+H.pad.t+H.pad.b:H.yref==="container"&&(J=function($,ae,ue,ce,de){var pe=0;return ue==="middle"&&(pe+=de/2),$==="t"?(ue==="top"&&(pe+=de),pe+=ce-ae*ce):(ue==="bottom"&&(pe+=de),pe+=ae*ce),pe}(te,ie,re,j._fullLayout.height,G)+H.pad.t+H.pad.b),J>K?J:0}(A,L,q);if(z>0){(function(j,H,G,ie){var re="title.automargin",te=j._fullLayout.title,K=te.y>.5?"t":"b",J={x:te.x,y:te.y,t:0,b:0},$={};te.yref==="paper"&&function(ae,ue,ce,de,pe){var me=ue.yref==="paper"?ae._fullLayout._size.h:ae._fullLayout.height,be=b.isTopAnchor(ue)?de:de-pe,we=ce==="b"?me-be:be;return!(b.isTopAnchor(ue)&&ce==="t"||b.isBottomAnchor(ue)&&ce==="b")&&we<pe}(j,te,K,H,ie)?J[K]=G:te.yref==="container"&&($[K]=G,j._fullLayout._reservedMargin[re]=$),t.allowAutoMargin(j,re),t.autoMargin(j,re,J)})(A,I,z,q),F.attr({x:D,y:I,"text-anchor":C,dy:(p=L.yanchor,p==="top"?o.CAP_SHIFT+.3+"em":p==="bottom"?"-0.3em":o.MID_SHIFT+"em")}).call(g.positionText,D,I);var V=(L.text.match(g.BR_TAG_ALL)||[]).length;if(V){var X=o.LINE_SPACING*V+o.MID_SHIFT;L.y===0&&(X=-X),F.selectAll(".line").each(function(){var j=+this.getAttribute("dy").slice(0,-2)-X+"em";this.setAttribute("dy",j)})}}}},S.doTraceStyle=function(A){var p,L=A.calcdata,M=[];for(p=0;p<L.length;p++){var C=L[p],R=C[0]||{},I=R.trace||{},D=I._module||{},F=D.arraysToCalcdata;F&&F(C,I);var q=D.editStyle;q&&M.push({fn:q,cd0:R})}if(M.length){for(p=0;p<M.length;p++){var z=M[p];z.fn(A,z.cd0)}c(A),S.redrawReglTraces(A)}return t.style(A),x.getComponentMethod("legend","draw")(A),t.previousPromises(A)},S.doColorBars=function(A){return x.getComponentMethod("colorbar","draw")(A),t.previousPromises(A)},S.layoutReplot=function(A){var p=A.layout;return A.layout=void 0,x.call("_doPlot",A,"",p)},S.doLegend=function(A){return x.getComponentMethod("legend","draw")(A),t.previousPromises(A)},S.doTicksRelayout=function(A){return r.draw(A,"redraw"),A._fullLayout._hasOnlyLargeSploms&&(x.subplotsRegistry.splom.updateGrid(A),c(A),S.redrawReglTraces(A)),S.drawMainTitle(A),t.previousPromises(A)},S.doModeBar=function(A){var p=A._fullLayout;a.manage(A);for(var L=0;L<p._basePlotModules.length;L++){var M=p._basePlotModules[L].updateFx;M&&M(A)}return t.previousPromises(A)},S.doCamera=function(A){for(var p=A._fullLayout,L=p._subplots.gl3d,M=0;M<L.length;M++){var C=p[L[M]];C._scene.setViewport(C)}},S.drawData=function(A){var p=A._fullLayout;c(A);for(var L=p._basePlotModules,M=0;M<L.length;M++)L[M].plot(A);return S.redrawReglTraces(A),t.style(A),x.getComponentMethod("selections","draw")(A),x.getComponentMethod("shapes","draw")(A),x.getComponentMethod("annotations","draw")(A),x.getComponentMethod("images","draw")(A),p._replotting=!1,t.previousPromises(A)},S.redrawReglTraces=function(A){var p=A._fullLayout;if(p._has("regl")){var L,M,C=A._fullData,R=[],I=[];for(p._hasOnlyLargeSploms&&p._splomGrid.draw(),L=0;L<C.length;L++){var D=C[L];D.visible===!0&&D._length!==0&&(D.type==="splom"?p._splomScenes[D.uid].draw():D.type==="scattergl"?b.pushUnique(R,D.xaxis+D.yaxis):D.type==="scatterpolargl"&&b.pushUnique(I,D.subplot))}for(L=0;L<R.length;L++)(M=p._plots[R[L]])._scene&&M._scene.draw();for(L=0;L<I.length;L++)(M=p[I[L]]._subplot)._scene&&M._scene.draw()}},S.doAutoRangeAndConstraints=function(A){for(var p,L=r.list(A,"",!0),M={},C=0;C<L.length;C++)if(!M[(p=L[C])._id]){M[p._id]=1,h(A,p),f(A,p);var R=p._matchGroup;if(R)for(var I in R){var D=r.getFromId(A,I);f(A,D,p.range),M[I]=1}}u(A)},S.finalDraw=function(A){x.getComponentMethod("rangeslider","draw")(A),x.getComponentMethod("rangeselector","draw")(A)},S.drawMarginPushers=function(A){x.getComponentMethod("legend","draw")(A),x.getComponentMethod("rangeselector","draw")(A),x.getComponentMethod("sliders","draw")(A),x.getComponentMethod("updatemenus","draw")(A),x.getComponentMethod("colorbar","draw")(A)}},94828:function(O,S,e){var v=e(3400),x=v.isPlainObject,t=e(73060),b=e(7316),g=e(45464),c=e(31780),s=e(20556).dfltConfig;function n(f,T){f=v.extendDeep({},f);var d,y,m=Object.keys(f).sort();function w(M,C,R){if(x(C)&&x(M))n(M,C);else if(Array.isArray(C)&&Array.isArray(M)){var I=c.arrayTemplater({_template:f},R);for(y=0;y<C.length;y++){var D=C[y],F=I.newItem(D)._template;F&&n(F,D)}var q=I.defaultItems();for(y=0;y<q.length;y++)C.push(q[y]._template);for(y=0;y<C.length;y++)delete C[y].templateitemname}}for(d=0;d<m.length;d++){var _=m[d],A=f[_];if(_ in T?w(A,T[_],_):T[_]=A,i(_)===_)for(var p in T){var L=i(p);p===L||L!==_||p in f||w(A,T[p],_)}}}function i(f){return f.replace(/[0-9]+$/,"")}function a(f,T,d,y,m){var w=m&&d(m);for(var _ in f){var A=f[_],p=l(f,_,y),L=l(f,_,m),M=d(L);if(!M){var C=i(_);C!==_&&(M=d(L=l(f,C,m)))}if(!(w&&w===M||!M||M._noTemplating||M.valType==="data_array"||M.arrayOk&&Array.isArray(A)))if(!M.valType&&x(A))a(A,T,d,p,L);else if(M._isLinkedToArray&&Array.isArray(A))for(var R=!1,I=0,D={},F=0;F<A.length;F++){var q=A[F];if(x(q)){var z=q.name;if(z)D[z]||(a(q,T,d,l(A,I,p),l(A,I,L)),I++,D[z]=1);else if(!R){var V=l(f,c.arrayDefaultKey(_),y),X=l(A,I,p);a(q,T,d,X,l(A,I,L));var j=v.nestedProperty(T,X);v.nestedProperty(T,V).set(j.get()),j.set(null),R=!0}}}else v.nestedProperty(T,p).set(A)}}function r(f,T){return t.getLayoutValObject(f,v.nestedProperty({},T).parts)}function o(f,T){return t.getTraceValObject(f,v.nestedProperty({},T).parts)}function l(f,T,d){return d?Array.isArray(f)?d+"["+T+"]":d+"."+T:T}function u(f){for(var T=0;T<f.length;T++)if(x(f[T]))return!0}function h(f){var T;switch(f.code){case"data":T="The template has no key data.";break;case"layout":T="The template has no key layout.";break;case"missing":T=f.path?"There are no templates for item "+f.path+" with name "+f.templateitemname:"There are no templates for trace "+f.index+", of type "+f.traceType+".";break;case"unused":T=f.path?"The template item at "+f.path+" was not used in constructing the plot.":f.dataCount?"Some of the templates of type "+f.traceType+" were not used. The template has "+f.templateCount+" traces, the data only has "+f.dataCount+" of this type.":"The template has "+f.templateCount+" traces of type "+f.traceType+" but there are none in the data.";break;case"reused":T="Some of the templates of type "+f.traceType+" were used more than once. The template has "+f.templateCount+" traces, the data has "+f.dataCount+" of this type."}return f.msg=T,f}S.makeTemplate=function(f){f=v.isPlainObject(f)?f:v.getGraphDiv(f),f=v.extendDeep({_context:s},{data:f.data,layout:f.layout}),b.supplyDefaults(f);var T=f.data||[],d=f.layout||{};d._basePlotModules=f._fullLayout._basePlotModules,d._modules=f._fullLayout._modules;var y={data:{},layout:{}};T.forEach(function(I){var D={};a(I,D,o.bind(null,I));var F=v.coerce(I,{},g,"type"),q=y.data[F];q||(q=y.data[F]=[]),q.push(D)}),a(d,y.layout,r.bind(null,d)),delete y.layout.template;var m=d.template;if(x(m)){var w,_,A,p,L,M,C=m.layout;x(C)&&n(C,y.layout);var R=m.data;if(x(R)){for(_ in y.data)if(A=R[_],Array.isArray(A)){for(M=(L=y.data[_]).length,p=A.length,w=0;w<M;w++)n(A[w%p],L[w]);for(w=M;w<p;w++)L.push(v.extendDeep({},A[w]))}for(_ in R)_ in y.data||(y.data[_]=v.extendDeep([],R[_]))}}return y},S.validateTemplate=function(f,T){var d=v.extendDeep({},{_context:s,data:f.data,layout:f.layout}),y=d.layout||{};x(T)||(T=y.template||{});var m=T.layout,w=T.data,_=[];d.layout=y,d.layout.template=T,b.supplyDefaults(d);var A=d._fullLayout,p=d._fullData,L={};if(x(m)?(function q(z,V){for(var X in z)if(X.charAt(0)!=="_"&&x(z[X])){var j,H=i(X),G=[];for(j=0;j<V.length;j++)G.push(l(z,X,V[j])),H!==X&&G.push(l(z,H,V[j]));for(j=0;j<G.length;j++)L[G[j]]=1;q(z[X],G)}}(A,["layout"]),function q(z,V){for(var X in z)if(X.indexOf("defaults")===-1&&x(z[X])){var j=l(z,X,V);L[j]?q(z[X],j):_.push({code:"unused",path:j})}}(m,"layout")):_.push({code:"layout"}),x(w)){for(var M,C={},R=0;R<p.length;R++){var I=p[R];C[M=I.type]=(C[M]||0)+1,I._fullInput._template||_.push({code:"missing",index:I._fullInput.index,traceType:M})}for(M in w){var D=w[M].length,F=C[M]||0;D>F?_.push({code:"unused",traceType:M,templateCount:D,dataCount:F}):F>D&&_.push({code:"reused",traceType:M,templateCount:D,dataCount:F})}}else _.push({code:"data"});if(function q(z,V){for(var X in z)if(X.charAt(0)!=="_"){var j=z[X],H=l(z,X,V);x(j)?(Array.isArray(z)&&j._template===!1&&j.templateitemname&&_.push({code:"missing",path:H,templateitemname:j.templateitemname}),q(j,H)):Array.isArray(j)&&u(j)&&q(j,H)}}({data:p,layout:A},""),_.length)return _.map(h)}},67024:function(O,S,e){var v=e(38248),x=e(36424),t=e(7316),b=e(3400),g=e(81792),c=e(37164),s=e(63268),n=e(25788).version,i={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};O.exports=function(a,r){var o,l,u,h;function f(F){return!(F in r)||b.validate(r[F],i[F])}if(r=r||{},b.isPlainObject(a)?(o=a.data||[],l=a.layout||{},u=a.config||{},h={}):(a=b.getGraphDiv(a),o=b.extendDeep([],a.data),l=b.extendDeep({},a.layout),u=a._context,h=a._fullLayout||{}),!f("width")&&r.width!==null||!f("height")&&r.height!==null)throw new Error("Height and width should be pixel values.");if(!f("format"))throw new Error("Export format is not "+b.join2(i.format.values,", "," or ")+".");var T={};function d(F,q){return b.coerce(r,T,i,F,q)}var y=d("format"),m=d("width"),w=d("height"),_=d("scale"),A=d("setBackground"),p=d("imageDataOnly"),L=document.createElement("div");L.style.position="absolute",L.style.left="-5000px",document.body.appendChild(L);var M=b.extendFlat({},l);m?M.width=m:r.width===null&&v(h.width)&&(M.width=h.width),w?M.height=w:r.height===null&&v(h.height)&&(M.height=h.height);var C=b.extendFlat({},u,{_exportedPlot:!0,staticPlot:!0,setBackground:A}),R=g.getRedrawFunc(L);function I(){return new Promise(function(F){setTimeout(F,g.getDelay(L._fullLayout))})}function D(){return new Promise(function(F,q){var z=c(L,y,_),V=L._fullLayout.width,X=L._fullLayout.height;function j(){x.purge(L),document.body.removeChild(L)}if(y==="full-json"){var H=t.graphJson(L,!1,"keepdata","object",!0,!0);return H.version=n,H=JSON.stringify(H),j(),F(p?H:g.encodeJSON(H))}if(j(),y==="svg")return F(p?z:g.encodeSVG(z));var G=document.createElement("canvas");G.id=b.randstr(),s({format:y,width:V,height:X,scale:_,canvas:G,svg:z,promise:!0}).then(F).catch(q)})}return new Promise(function(F,q){x.newPlot(L,o,M,C).then(R).then(I).then(D).then(function(z){F(function(V){return p?V.replace(g.IMAGE_URL_PREFIX,""):V}(z))}).catch(function(z){q(z)})})}},21480:function(O,S,e){var v=e(3400),x=e(7316),t=e(73060),b=e(20556).dfltConfig,g=v.isPlainObject,c=Array.isArray,s=v.isArrayOrTypedArray;function n(f,T,d,y,m,w){w=w||[];for(var _=Object.keys(f),A=0;A<_.length;A++){var p=_[A];if(p!=="transforms"){var L=w.slice();L.push(p);var M=f[p],C=T[p],R=l(d,p),I=(R||{}).valType,D=I==="info_array",F=I==="colorscale",q=(R||{}).items;if(o(d,p))if(g(M)&&g(C)&&I!=="any")n(M,C,R,y,m,L);else if(D&&c(M)){M.length>C.length&&y.push(r("unused",m,L.concat(C.length)));var z,V,X,j,H,G=C.length,ie=Array.isArray(q);if(ie&&(G=Math.min(G,q.length)),R.dimensions===2)for(V=0;V<G;V++)if(c(M[V])){M[V].length>C[V].length&&y.push(r("unused",m,L.concat(V,C[V].length)));var re=C[V].length;for(z=0;z<(ie?Math.min(re,q[V].length):re);z++)X=ie?q[V][z]:q,j=M[V][z],H=C[V][z],v.validate(j,X)?H!==j&&H!==+j&&y.push(r("dynamic",m,L.concat(V,z),j,H)):y.push(r("value",m,L.concat(V,z),j))}else y.push(r("array",m,L.concat(V),M[V]));else for(V=0;V<G;V++)X=ie?q[V]:q,j=M[V],H=C[V],v.validate(j,X)?H!==j&&H!==+j&&y.push(r("dynamic",m,L.concat(V),j,H)):y.push(r("value",m,L.concat(V),j))}else if(R.items&&!D&&c(M)){var te,K,J=q[Object.keys(q)[0]],$=[];for(te=0;te<C.length;te++){var ae=C[te]._index||te;if((K=L.slice()).push(ae),g(M[ae])&&g(C[te])){$.push(ae);var ue=M[ae],ce=C[te];g(ue)&&ue.visible!==!1&&ce.visible===!1?y.push(r("invisible",m,K)):n(ue,ce,J,y,m,K)}}for(te=0;te<M.length;te++)(K=L.slice()).push(te),g(M[te])?$.indexOf(te)===-1&&y.push(r("unused",m,K)):y.push(r("object",m,K,M[te]))}else!g(M)&&g(C)?y.push(r("object",m,L,M)):s(M)||!s(C)||D||F?p in T?v.validate(M,R)?R.valType==="enumerated"&&(R.coerceNumber&&M!==+C||M!==C)&&y.push(r("dynamic",m,L,M,C)):y.push(r("value",m,L,M)):y.push(r("unused",m,L,M)):y.push(r("array",m,L,M));else y.push(r("schema",m,L))}}return y}O.exports=function(f,T){f===void 0&&(f=[]),T===void 0&&(T={});var d,y,m=t.get(),w=[],_={_context:v.extendFlat({},b)};c(f)?(_.data=v.extendDeep([],f),d=f):(_.data=[],d=[],w.push(r("array","data"))),g(T)?(_.layout=v.extendDeep({},T),y=T):(_.layout={},y={},arguments.length>1&&w.push(r("object","layout"))),x.supplyDefaults(_);for(var A=_._fullData,p=d.length,L=0;L<p;L++){var M=d[L],C=["data",L];if(g(M)){var R=A[L],I=R.type,D=m.traces[I].attributes;D.type={valType:"enumerated",values:[I]},R.visible===!1&&M.visible!==!1&&w.push(r("invisible",C)),n(M,R,D,w,C);var F=M.transforms,q=R.transforms;if(F){c(F)||w.push(r("array",C,["transforms"])),C.push("transforms");for(var z=0;z<F.length;z++){var V=["transforms",z],X=F[z].type;if(g(F[z])){var j=m.transforms[X]?m.transforms[X].attributes:{};j.type={valType:"enumerated",values:Object.keys(m.transforms)},n(F[z],q[z],j,w,C,V)}else w.push(r("object",C,V))}}}else w.push(r("object",C))}var H=_._fullLayout,G=function(ie,re){for(var te=ie.layout.layoutAttributes,K=0;K<re.length;K++){var J=re[K],$=ie.traces[J.type],ae=$.layoutAttributes;ae&&(J.subplot?v.extendFlat(te[$.attributes.subplot.dflt],ae):v.extendFlat(te,ae))}return te}(m,A);return n(y,H,G,w,"layout"),w.length===0?void 0:w};var i={object:function(f,T){return(f==="layout"&&T===""?"The layout argument":f[0]==="data"&&T===""?"Trace "+f[1]+" in the data argument":a(f)+"key "+T)+" must be linked to an object container"},array:function(f,T){return(f==="data"?"The data argument":a(f)+"key "+T)+" must be linked to an array container"},schema:function(f,T){return a(f)+"key "+T+" is not part of the schema"},unused:function(f,T,d){var y=g(d)?"container":"key";return a(f)+y+" "+T+" did not get coerced"},dynamic:function(f,T,d,y){return[a(f)+"key",T,"(set to '"+d+"')","got reset to","'"+y+"'","during defaults."].join(" ")},invisible:function(f,T){return(T?a(f)+"item "+T:"Trace "+f[1])+" got defaulted to be not visible"},value:function(f,T,d){return[a(f)+"key "+T,"is set to an invalid value ("+d+")"].join(" ")}};function a(f){return c(f)?"In data trace "+f[1]+", ":"In "+f+", "}function r(f,T,d,y,m){var w,_;d=d||"",c(T)?(w=T[0],_=T[1]):(w=T,_=null);var A=function(L){if(!c(L))return String(L);for(var M="",C=0;C<L.length;C++){var R=L[C];typeof R=="number"?M=M.substr(0,M.length-1)+"["+R+"]":M+=R,C<L.length-1&&(M+=".")}return M}(d),p=i[f](T,A,y,m);return v.log(p),{code:f,container:w,trace:_,path:d,astr:A,msg:p}}function o(f,T){var d=h(T),y=d.keyMinusId,m=d.id;return!!(y in f&&f[y]._isSubplotObj&&m)||T in f}function l(f,T){return T in f?f[T]:f[h(T).keyMinusId]}var u=v.counterRegex("([a-z]+)");function h(f){var T=f.match(u);return{keyMinusId:T&&T[1],id:T&&T[2]}}},85656:function(O){O.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},51272:function(O,S,e){var v=e(3400),x=e(31780);O.exports=function(t,b,g){var c,s,n=g.name,i=g.inclusionAttr||"visible",a=b[n],r=v.isArrayOrTypedArray(t[n])?t[n]:[],o=b[n]=[],l=x.arrayTemplater(b,n,i);for(c=0;c<r.length;c++){var u=r[c];v.isPlainObject(u)?s=l.newItem(u):(s=l.newItem({}))[i]=!1,s._index=c,s[i]!==!1&&g.handleItemDefaults(u,s,b,g),o.push(s)}var h=l.defaultItems();for(c=0;c<h.length;c++)(s=h[c])._index=o.length,g.handleItemDefaults({},s,b,g,{}),o.push(s);if(v.isArrayOrTypedArray(a)){var f=Math.min(a.length,o.length);for(c=0;c<f;c++)v.relinkPrivateKeys(o[c],a[c])}return o}},45464:function(O,S,e){var v=e(25376),x=e(55756);O.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:v({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:x.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},1220:function(O,S,e){var v=e(38248),x=e(3400),t=x.dateTime2ms,b=x.incrementMonth,g=e(39032).ONEAVGMONTH;O.exports=function(c,s,n,i){if(s.type!=="date")return{vals:i};var a=c[n+"periodalignment"];if(!a)return{vals:i};var r,o=c[n+"period"];if(v(o)){if((o=+o)<=0)return{vals:i}}else if(typeof o=="string"&&o.charAt(0)==="M"){var l=+o.substring(1);if(!(l>0&&Math.round(l)===l))return{vals:i};r=l}for(var u=s.calendar,h=a==="start",f=a==="end",T=c[n+"period0"],d=t(T,u)||0,y=[],m=[],w=[],_=i.length,A=0;A<_;A++){var p,L,M,C=i[A];if(r){for(p=Math.round((C-d)/(r*g)),M=b(d,r*p,u);M>C;)M=b(M,-r,u);for(;M<=C;)M=b(M,r,u);L=b(M,-r,u)}else{for(M=d+(p=Math.round((C-d)/o))*o;M>C;)M-=o;for(;M<=C;)M+=o;L=M-o}y[A]=h?L:f?M:(L+M)/2,m[A]=L,w[A]=M}return{vals:y,starts:m,ends:w}}},26720:function(O){O.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},19280:function(O,S,e){var v=e(33428),x=e(38248),t=e(3400),b=e(39032).FP_SAFE,g=e(24040),c=e(43616),s=e(79811),n=s.getFromId,i=s.isLinked;function a(A,p){var L,M,C=[],R=A._fullLayout,I=o(R,p,0),D=o(R,p,1),F=u(A,p),q=F.min,z=F.max;if(q.length===0||z.length===0)return t.simpleMap(p.range,p.r2l);var V=q[0].val,X=z[0].val;for(L=1;L<q.length&&V===X;L++)V=Math.min(V,q[L].val);for(L=1;L<z.length&&V===X;L++)X=Math.max(X,z[L].val);var j=p.autorange,H=j==="reversed"||j==="min reversed"||j==="max reversed";if(!H&&p.range){var G=t.simpleMap(p.range,p.r2l);H=G[1]<G[0]}p.autorange==="reversed"&&(p.autorange=!0);var ie,re,te,K,J,$,ae=p.rangemode,ue=ae==="tozero",ce=ae==="nonnegative",de=p._length,pe=de/10,me=0;for(L=0;L<q.length;L++)for(ie=q[L],M=0;M<z.length;M++)($=(re=z[M]).val-ie.val-r(p,ie.val,re.val))>0&&((J=de-I(ie)-D(re))>pe?$/J>me&&(te=ie,K=re,me=$/J):$/de>me&&(te={val:ie.val,nopad:1},K={val:re.val,nopad:1},me=$/de));if(V===X){var be=V-1,we=V+1;if(ue)if(V===0)C=[0,1];else{var Te=(V>0?z:q).reduce(function(Ie,_e){return Math.max(Ie,D(_e))},0),Le=V/(1-Math.min(.5,Te/de));C=V>0?[0,Le]:[Le,0]}else C=ce?[Math.max(0,be),Math.max(1,we)]:[be,we]}else ue?(te.val>=0&&(te={val:0,nopad:1}),K.val<=0&&(K={val:0,nopad:1})):ce&&(te.val-me*I(te)<0&&(te={val:0,nopad:1}),K.val<=0&&(K={val:1,nopad:1})),me=(K.val-te.val-r(p,ie.val,re.val))/(de-I(te)-D(K)),C=[te.val-me*I(te),K.val+me*D(K)];return C=_(C,p),p.limitRange&&p.limitRange(),H&&C.reverse(),t.simpleMap(C,p.l2r||Number)}function r(A,p,L){var M=0;if(A.rangebreaks)for(var C=A.locateBreaks(p,L),R=0;R<C.length;R++){var I=C[R];M+=I.max-I.min}return M}function o(A,p,L){var M=.05*p._length,C=p._anchorAxis||{};if((p.ticklabelposition||"").indexOf("inside")!==-1||(C.ticklabelposition||"").indexOf("inside")!==-1){var R=p.isReversed();if(!R){var I=t.simpleMap(p.range,p.r2l);R=I[1]<I[0]}R&&(L=!L)}var D=0;return i(A,p._id)||(D=function(F,q,z){var V=0,X=q._id.charAt(0)==="x";for(var j in F._plots){var H=F._plots[j];if(q._id===H.xaxis._id||q._id===H.yaxis._id){var G=(X?H.yaxis:H.xaxis)||{};if((G.ticklabelposition||"").indexOf("inside")!==-1&&(!z&&(G.side==="left"||G.side==="bottom")||z&&(G.side==="top"||G.side==="right"))){if(G._vals){var ie=t.deg2rad(G._tickAngles[G._id+"tick"]||0),re=Math.abs(Math.cos(ie)),te=Math.abs(Math.sin(ie));if(!G._vals[0].bb){var K=G._id+"tick";G._selections[K].each(function(ce){var de=v.select(this);de.select(".text-math-group").empty()&&(ce.bb=c.bBox(de.node()))})}for(var J=0;J<G._vals.length;J++){var $=G._vals[J].bb;if($){var ae=2*l+$.width,ue=2*l+$.height;V=Math.max(V,X?Math.max(ae*re,ue*te):Math.max(ue*re,ae*te))}}}G.ticks==="inside"&&G.ticklabelposition==="inside"&&(V+=G.ticklen||0)}}}return V}(A,p,L)),M=Math.max(D,M),p.constrain==="domain"&&p._inputDomain&&(M*=(p._inputDomain[1]-p._inputDomain[0])/(p.domain[1]-p.domain[0])),function(F){return F.nopad?0:F.pad+(F.extrapad?M:D)}}O.exports={applyAutorangeOptions:_,getAutoRange:a,makePadFn:o,doAutoRange:function(A,p,L){if(p.setScale(),p.autorange){p.range=L?L.slice():a(A,p),p._r=p.range.slice(),p._rl=t.simpleMap(p._r,p.r2l);var M=p._input,C={};C[p._attr+".range"]=p.range,C[p._attr+".autorange"]=p.autorange,g.call("_storeDirectGUIEdit",A.layout,A._fullLayout._preGUI,C),M.range=p.range.slice(),M.autorange=p.autorange}var R=p._anchorAxis;if(R&&R.rangeslider){var I=R.rangeslider[p._name];I&&I.rangemode==="auto"&&(I.range=a(A,p)),R._input.rangeslider[p._name]=t.extendFlat({},I)}},findExtremes:function(A,p,L){L||(L={}),A._m||A.setScale();var M,C,R,I,D,F,q,z,V,X=[],j=[],H=p.length,G=L.padded||!1,ie=L.tozero&&(A.type==="linear"||A.type==="-"),re=A.type==="log",te=!1,K=L.vpadLinearized||!1;function J(be){if(Array.isArray(be))return te=!0,function(Te){return Math.max(Number(be[Te]||0),0)};var we=Math.max(Number(be||0),0);return function(){return we}}var $=J((A._m>0?L.ppadplus:L.ppadminus)||L.ppad||0),ae=J((A._m>0?L.ppadminus:L.ppadplus)||L.ppad||0),ue=J(L.vpadplus||L.vpad),ce=J(L.vpadminus||L.vpad);if(!te){if(z=1/0,V=-1/0,re)for(M=0;M<H;M++)(C=p[M])<z&&C>0&&(z=C),C>V&&C<b&&(V=C);else for(M=0;M<H;M++)(C=p[M])<z&&C>-b&&(z=C),C>V&&C<b&&(V=C);p=[z,V],H=2}var de={tozero:ie,extrapad:G};function pe(be){R=p[be],x(R)&&(F=$(be),q=ae(be),K?(I=A.c2l(R)-ce(be),D=A.c2l(R)+ue(be)):(z=R-ce(be),V=R+ue(be),re&&z<V/10&&(z=V/10),I=A.c2l(z),D=A.c2l(V)),ie&&(I=Math.min(0,I),D=Math.max(0,D)),d(I)&&h(X,I,q,de),d(D)&&f(j,D,F,de))}var me=Math.min(6,H);for(M=0;M<me;M++)pe(M);for(M=H-1;M>=me;M--)pe(M);return{min:X,max:j,opts:L}},concatExtremes:u};var l=3;function u(A,p,L){var M,C,R,I=p._id,D=A._fullData,F=A._fullLayout,q=[],z=[];function V(ie,re){for(M=0;M<re.length;M++){var te=ie[re[M]],K=(te._extremes||{})[I];if(te.visible===!0&&K){for(C=0;C<K.min.length;C++)R=K.min[C],h(q,R.val,R.pad,{extrapad:R.extrapad});for(C=0;C<K.max.length;C++)R=K.max[C],f(z,R.val,R.pad,{extrapad:R.extrapad})}}}if(V(D,p._traceIndices),V(F.annotations||[],p._annIndices||[]),V(F.shapes||[],p._shapeIndices||[]),p._matchGroup&&!L){for(var X in p._matchGroup)if(X!==p._id){var j=n(A,X),H=u(A,j,!0),G=p._length/j._length;for(C=0;C<H.min.length;C++)R=H.min[C],h(q,R.val,R.pad*G,{extrapad:R.extrapad});for(C=0;C<H.max.length;C++)R=H.max[C],f(z,R.val,R.pad*G,{extrapad:R.extrapad})}}return{min:q,max:z}}function h(A,p,L,M){T(A,p,L,M,y)}function f(A,p,L,M){T(A,p,L,M,m)}function T(A,p,L,M,C){for(var R=M.tozero,I=M.extrapad,D=!0,F=0;F<A.length&&D;F++){var q=A[F];if(C(q.val,p)&&q.pad>=L&&(q.extrapad||!I)){D=!1;break}C(p,q.val)&&q.pad<=L&&(I||!q.extrapad)&&(A.splice(F,1),F--)}if(D){var z=R&&p===0;A.push({val:p,pad:z?0:L,extrapad:!z&&I})}}function d(A){return x(A)&&Math.abs(A)<b}function y(A,p){return A<=p}function m(A,p){return A>=p}function w(A,p,L){return p===void 0||L===void 0||(p=A.d2l(p))<A.d2l(L)}function _(A,p){if(!p||!p.autorangeoptions)return A;var L=A[0],M=A[1],C=p.autorangeoptions.include;if(C!==void 0){var R=p.d2l(L),I=p.d2l(M);t.isArrayOrTypedArray(C)||(C=[C]);for(var D=0;D<C.length;D++){var F=p.d2l(C[D]);R>=F&&(R=F,L=F),I<=F&&(I=F,M=F)}}return L=function(q,z){var V=z.autorangeoptions;return V&&V.minallowed!==void 0&&w(z,V.minallowed,V.maxallowed)?V.minallowed:V&&V.clipmin!==void 0&&w(z,V.clipmin,V.clipmax)?Math.max(q,z.d2l(V.clipmin)):q}(L,p),M=function(q,z){var V=z.autorangeoptions;return V&&V.maxallowed!==void 0&&w(z,V.minallowed,V.maxallowed)?V.maxallowed:V&&V.clipmax!==void 0&&w(z,V.clipmin,V.clipmax)?Math.min(q,z.d2l(V.clipmax)):q}(M,p),[L,M]}},76808:function(O){O.exports=function(S,e,v){var x,t;if(v){var b=e==="reversed"||e==="min reversed"||e==="max reversed";x=v[b?1:0],t=v[b?0:1]}var g=S("autorangeoptions.minallowed",t===null?x:void 0),c=S("autorangeoptions.maxallowed",x===null?t:void 0);g===void 0&&S("autorangeoptions.clipmin"),c===void 0&&S("autorangeoptions.clipmax"),S("autorangeoptions.include")}},54460:function(O,S,e){var v=e(33428),x=e(38248),t=e(7316),b=e(24040),g=e(3400),c=g.strTranslate,s=e(72736),n=e(81668),i=e(76308),a=e(43616),r=e(94724),o=e(98728),l=e(39032),u=l.ONEMAXYEAR,h=l.ONEAVGYEAR,f=l.ONEMINYEAR,T=l.ONEMAXQUARTER,d=l.ONEAVGQUARTER,y=l.ONEMINQUARTER,m=l.ONEMAXMONTH,w=l.ONEAVGMONTH,_=l.ONEMINMONTH,A=l.ONEWEEK,p=l.ONEDAY,L=p/2,M=l.ONEHOUR,C=l.ONEMIN,R=l.ONESEC,I=l.MINUS_SIGN,D=l.BADNUM,F={K:"zeroline"},q={K:"gridline",L:"path"},z={K:"minor-gridline",L:"path"},V={K:"tick",L:"path"},X={K:"tick",L:"text"},j={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},H=e(84284),G=H.MID_SHIFT,ie=H.CAP_SHIFT,re=H.LINE_SPACING,te=H.OPPOSITE_SIDE,K=O.exports={};K.setConvert=e(78344);var J=e(52976),$=e(79811),ae=$.idSort,ue=$.isLinked;K.id2name=$.id2name,K.name2id=$.name2id,K.cleanId=$.cleanId,K.list=$.list,K.listIds=$.listIds,K.getFromId=$.getFromId,K.getFromTrace=$.getFromTrace;var ce=e(19280);K.getAutoRange=ce.getAutoRange,K.findExtremes=ce.findExtremes;var de=1e-4;function pe(Ue){var Ve=(Ue[1]-Ue[0])*de;return[Ue[0]-Ve,Ue[1]+Ve]}K.coerceRef=function(Ue,Ve,st,Xe,gt,yt){var bt=Xe.charAt(Xe.length-1),dt=st._fullLayout._subplots[bt+"axis"],Lt=Xe+"ref",wt={};return gt||(gt=dt[0]||(typeof yt=="string"?yt:yt[0])),yt||(yt=gt),dt=dt.concat(dt.map(function(Ct){return Ct+" domain"})),wt[Lt]={valType:"enumerated",values:dt.concat(yt?typeof yt=="string"?[yt]:yt:[]),dflt:gt},g.coerce(Ue,Ve,wt,Lt)},K.getRefType=function(Ue){return Ue===void 0?Ue:Ue==="paper"?"paper":Ue==="pixel"?"pixel":/( domain)$/.test(Ue)?"domain":"range"},K.coercePosition=function(Ue,Ve,st,Xe,gt,yt){var bt,dt;if(K.getRefType(Xe)!=="range")bt=g.ensureNumber,dt=st(gt,yt);else{var Lt=K.getFromId(Ve,Xe);dt=st(gt,yt=Lt.fraction2r(yt)),bt=Lt.cleanPos}Ue[gt]=bt(dt)},K.cleanPosition=function(Ue,Ve,st){return(st==="paper"||st==="pixel"?g.ensureNumber:K.getFromId(Ve,st).cleanPos)(Ue)},K.redrawComponents=function(Ue,Ve){Ve=Ve||K.listIds(Ue);var st=Ue._fullLayout;function Xe(gt,yt,bt,dt){for(var Lt=b.getComponentMethod(gt,yt),wt={},Ct=0;Ct<Ve.length;Ct++)for(var Rt=st[K.id2name(Ve[Ct])][bt],Dt=0;Dt<Rt.length;Dt++){var Nt=Rt[Dt];if(!wt[Nt]&&(Lt(Ue,Nt),wt[Nt]=1,dt))return}}Xe("annotations","drawOne","_annIndices"),Xe("shapes","drawOne","_shapeIndices"),Xe("images","draw","_imgIndices",!0),Xe("selections","drawOne","_selectionIndices")};var me=K.getDataConversions=function(Ue,Ve,st,Xe){var gt,yt=st==="x"||st==="y"||st==="z"?st:Xe;if(g.isArrayOrTypedArray(yt)){if(gt={type:J(Xe,void 0,{autotypenumbers:Ue._fullLayout.autotypenumbers}),_categories:[]},K.setConvert(gt),gt.type==="category")for(var bt=0;bt<Xe.length;bt++)gt.d2c(Xe[bt])}else gt=K.getFromTrace(Ue,Ve,yt);return gt?{d2c:gt.d2c,c2d:gt.c2d}:yt==="ids"?{d2c:we,c2d:we}:{d2c:be,c2d:be}};function be(Ue){return+Ue}function we(Ue){return String(Ue)}function Te(Ue,Ve){return Math.abs((Ue/Ve+.5)%1-.5)<.001}function Le(Ue,Ve){return Math.abs(Ue/Ve-1)<.001}function Ie(Ue){return+Ue.substring(1)}function _e(Ue,Ve){return Ue.rangebreaks&&(Ve=Ve.filter(function(st){return Ue.maskBreaks(st.x)!==D})),Ve}function fe(Ue){var Ve=Ue._mainAxis,st=[];if(Ve._vals){for(var Xe=0;Xe<Ve._vals.length;Xe++)if(!Ve._vals[Xe].noTick){var gt=Ve.l2p(Ve._vals[Xe].x),yt=Ue.p2l(gt),bt=K.tickText(Ue,yt);Ve._vals[Xe].minor&&(bt.minor=!0,bt.text=""),st.push(bt)}}return _e(Ue,st)}function le(Ue,Ve){var st=pe(g.simpleMap(Ue.range,Ue.r2l)),Xe=Math.min(st[0],st[1]),gt=Math.max(st[0],st[1]),yt=Ue.type==="category"?Ue.d2l_noadd:Ue.d2l;Ue.type==="log"&&String(Ue.dtick).charAt(0)!=="L"&&(Ue.dtick="L"+Math.pow(10,Math.floor(Math.min(Ue.range[0],Ue.range[1]))-1));for(var bt=[],dt=0;dt<=1;dt++)if((Ve===void 0||!(Ve&&dt||Ve===!1&&!dt))&&(!dt||Ue.minor)){var Lt=dt?Ue.minor.tickvals:Ue.tickvals,wt=dt?[]:Ue.ticktext;if(Lt){g.isArrayOrTypedArray(wt)||(wt=[]);for(var Ct=0;Ct<Lt.length;Ct++){var Rt=yt(Lt[Ct]);if(Rt>Xe&&Rt<gt){var Dt=K.tickText(Ue,Rt,!1,String(wt[Ct]));dt&&(Dt.minor=!0,Dt.text=""),bt.push(Dt)}}}}return _e(Ue,bt)}K.getDataToCoordFunc=function(Ue,Ve,st,Xe){return me(Ue,Ve,st,Xe).d2c},K.counterLetter=function(Ue){var Ve=Ue.charAt(0);return Ve==="x"?"y":Ve==="y"?"x":void 0},K.minDtick=function(Ue,Ve,st,Xe){["log","category","multicategory"].indexOf(Ue.type)===-1&&Xe?Ue._minDtick===void 0?(Ue._minDtick=Ve,Ue._forceTick0=st):Ue._minDtick&&((Ue._minDtick/Ve+1e-6)%1<2e-6&&((st-Ue._forceTick0)/Ve%1+1.000001)%1<2e-6?(Ue._minDtick=Ve,Ue._forceTick0=st):((Ve/Ue._minDtick+1e-6)%1>2e-6||((st-Ue._forceTick0)/Ue._minDtick%1+1.000001)%1>2e-6)&&(Ue._minDtick=0)):Ue._minDtick=0},K.saveRangeInitial=function(Ue,Ve){for(var st=K.list(Ue,"",!0),Xe=!1,gt=0;gt<st.length;gt++){var yt=st[gt],bt=yt._rangeInitial0===void 0&&yt._rangeInitial1===void 0,dt=bt||yt.range[0]!==yt._rangeInitial0||yt.range[1]!==yt._rangeInitial1,Lt=yt.autorange;(bt&&Lt!==!0||Ve&&dt)&&(yt._rangeInitial0=Lt==="min"||Lt==="max reversed"?void 0:yt.range[0],yt._rangeInitial1=Lt==="max"||Lt==="min reversed"?void 0:yt.range[1],yt._autorangeInitial=Lt,Xe=!0)}return Xe},K.saveShowSpikeInitial=function(Ue,Ve){for(var st=K.list(Ue,"",!0),Xe=!1,gt="on",yt=0;yt<st.length;yt++){var bt=st[yt],dt=bt._showSpikeInitial===void 0,Lt=dt||bt.showspikes!==bt._showspikes;(dt||Ve&&Lt)&&(bt._showSpikeInitial=bt.showspikes,Xe=!0),gt!=="on"||bt.showspikes||(gt="off")}return Ue._fullLayout._cartesianSpikesEnabled=gt,Xe},K.autoBin=function(Ue,Ve,st,Xe,gt,yt){var bt,dt=g.aggNums(Math.min,null,Ue),Lt=g.aggNums(Math.max,null,Ue);if(Ve.type==="category"||Ve.type==="multicategory")return{start:dt-.5,end:Lt+.5,size:Math.max(1,Math.round(yt)||1),_dataSpan:Lt-dt};if(gt||(gt=Ve.calendar),bt=Ve.type==="log"?{type:"linear",range:[dt,Lt]}:{type:Ve.type,range:g.simpleMap([dt,Lt],Ve.c2r,0,gt),calendar:gt},K.setConvert(bt),yt=yt&&o.dtick(yt,bt.type))bt.dtick=yt,bt.tick0=o.tick0(void 0,bt.type,gt);else{var wt;if(st)wt=(Lt-dt)/st;else{var Ct=g.distinctVals(Ue),Rt=Math.pow(10,Math.floor(Math.log(Ct.minDiff)/Math.LN10)),Dt=Rt*g.roundUp(Ct.minDiff/Rt,[.9,1.9,4.9,9.9],!0);wt=Math.max(Dt,2*g.stdev(Ue)/Math.pow(Ue.length,Xe?.25:.4)),x(wt)||(wt=1)}K.autoTicks(bt,wt)}var Nt,Xt=bt.dtick,un=K.tickIncrement(K.tickFirst(bt),Xt,"reverse",gt);if(typeof Xt=="number")un=function(qt,Kt,Ut,Rn,An){var mn=0,tn=0,fn=0,rn=0;function pn(On){return(1+100*(On-qt)/Ut.dtick)%100<2}for(var wn=0;wn<Kt.length;wn++)Kt[wn]%1==0?fn++:x(Kt[wn])||rn++,pn(Kt[wn])&&mn++,pn(Kt[wn]+Ut.dtick/2)&&tn++;var kn=Kt.length-rn;if(fn===kn&&Ut.type!=="date")Ut.dtick<1?qt=Rn-.5*Ut.dtick:(qt-=.5)+Ut.dtick<Rn&&(qt+=Ut.dtick);else if(tn<.1*kn&&(mn>.3*kn||pn(Rn)||pn(An))){var Pn=Ut.dtick/2;qt+=qt+Pn<Rn?Pn:-Pn}return qt}(un,Ue,bt,dt,Lt),Nt=un+(1+Math.floor((Lt-un)/Xt))*Xt;else for(bt.dtick.charAt(0)==="M"&&(un=function(qt,Kt,Ut,Rn,An){var mn=g.findExactDates(Kt,An);if(mn.exactDays>.8){var tn=Number(Ut.substr(1));mn.exactYears>.8&&tn%12==0?qt=K.tickIncrement(qt,"M6","reverse")+1.5*p:mn.exactMonths>.8?qt=K.tickIncrement(qt,"M1","reverse")+15.5*p:qt-=L;var fn=K.tickIncrement(qt,Ut);if(fn<=Rn)return fn}return qt}(un,Ue,Xt,dt,gt)),Nt=un;Nt<=Lt;)Nt=K.tickIncrement(Nt,Xt,!1,gt);return{start:Ve.c2r(un,0,gt),end:Ve.c2r(Nt,0,gt),size:Xt,_dataSpan:Lt-dt}},K.prepMinorTicks=function(Ue,Ve,st){if(!Ve.minor.dtick){delete Ue.dtick;var Xe,gt=Ve.dtick&&x(Ve._tmin);if(gt){var yt=K.tickIncrement(Ve._tmin,Ve.dtick,!0);Xe=[Ve._tmin,.99*yt+.01*Ve._tmin]}else{var bt=g.simpleMap(Ve.range,Ve.r2l);Xe=[bt[0],.8*bt[0]+.2*bt[1]]}if(Ue.range=g.simpleMap(Xe,Ve.l2r),Ue._isMinor=!0,K.prepTicks(Ue,st),gt){var dt=x(Ve.dtick),Lt=x(Ue.dtick),wt=dt?Ve.dtick:+Ve.dtick.substring(1),Ct=Lt?Ue.dtick:+Ue.dtick.substring(1);dt&&Lt?Te(wt,Ct)?wt===2*A&&Ct===2*p&&(Ue.dtick=A):wt===2*A&&Ct===3*p?Ue.dtick=A:wt!==A||(Ve._input.minor||{}).nticks?Le(wt/Ct,2.5)?Ue.dtick=wt/2:Ue.dtick=wt:Ue.dtick=p:String(Ve.dtick).charAt(0)==="M"?Lt?Ue.dtick="M1":Te(wt,Ct)?wt>=12&&Ct===2&&(Ue.dtick="M3"):Ue.dtick=Ve.dtick:String(Ue.dtick).charAt(0)==="L"?String(Ve.dtick).charAt(0)==="L"?Te(wt,Ct)||(Ue.dtick=Le(wt/Ct,2.5)?Ve.dtick/2:Ve.dtick):Ue.dtick="D1":Ue.dtick==="D2"&&+Ve.dtick>1&&(Ue.dtick=1)}Ue.range=Ve.range}Ve.minor._tick0Init===void 0&&(Ue.tick0=Ve.tick0)},K.prepTicks=function(Ue,Ve){var st=g.simpleMap(Ue.range,Ue.r2l,void 0,void 0,Ve);if(Ue.tickmode==="auto"||!Ue.dtick){var Xe,gt=Ue.nticks;gt||(Ue.type==="category"||Ue.type==="multicategory"?(Xe=Ue.tickfont?g.bigFont(Ue.tickfont.size||12):15,gt=Ue._length/Xe):(Xe=Ue._id.charAt(0)==="y"?40:80,gt=g.constrain(Ue._length/Xe,4,9)+1),Ue._name==="radialaxis"&&(gt*=2)),Ue.minor&&Ue.minor.tickmode!=="array"||Ue.tickmode==="array"&&(gt*=100),Ue._roughDTick=Math.abs(st[1]-st[0])/gt,K.autoTicks(Ue,Ue._roughDTick),Ue._minDtick>0&&Ue.dtick<2*Ue._minDtick&&(Ue.dtick=Ue._minDtick,Ue.tick0=Ue.l2r(Ue._forceTick0))}Ue.ticklabelmode==="period"&&function(yt){var bt;function dt(){return!(x(yt.dtick)||yt.dtick.charAt(0)!=="M")}var Lt=dt(),wt=K.getTickFormat(yt);if(wt){var Ct=yt._dtickInit!==yt.dtick;/%[fLQsSMX]/.test(wt)||(/%[HI]/.test(wt)?(bt=M,Ct&&!Lt&&yt.dtick<M&&(yt.dtick=M)):/%p/.test(wt)?(bt=L,Ct&&!Lt&&yt.dtick<L&&(yt.dtick=L)):/%[Aadejuwx]/.test(wt)?(bt=p,Ct&&!Lt&&yt.dtick<p&&(yt.dtick=p)):/%[UVW]/.test(wt)?(bt=A,Ct&&!Lt&&yt.dtick<A&&(yt.dtick=A)):/%[Bbm]/.test(wt)?(bt=w,Ct&&(Lt?Ie(yt.dtick)<1:yt.dtick<_)&&(yt.dtick="M1")):/%[q]/.test(wt)?(bt=d,Ct&&(Lt?Ie(yt.dtick)<3:yt.dtick<y)&&(yt.dtick="M3")):/%[Yy]/.test(wt)&&(bt=h,Ct&&(Lt?Ie(yt.dtick)<12:yt.dtick<f)&&(yt.dtick="M12")))}(Lt=dt())&&yt.tick0===yt._dowTick0&&(yt.tick0=yt._rawTick0),yt._definedDelta=bt}(Ue),Ue.tick0||(Ue.tick0=Ue.type==="date"?"2000-01-01":0),Ue.type==="date"&&Ue.dtick<.1&&(Ue.dtick=.1),Me(Ue)},K.calcTicks=function(Ue,Ve){for(var st,Xe,gt=Ue.type,yt=Ue.calendar,bt=Ue.ticklabelstep,dt=Ue.ticklabelmode==="period",Lt=g.simpleMap(Ue.range,Ue.r2l,void 0,void 0,Ve),wt=Lt[1]<Lt[0],Ct=Math.min(Lt[0],Lt[1]),Rt=Math.max(Lt[0],Lt[1]),Dt=Math.max(1e3,Ue._length||0),Nt=[],Xt=[],un=[],qt=[],Kt=Ue.minor&&(Ue.minor.ticks||Ue.minor.showgrid),Ut=1;Ut>=(Kt?0:1);Ut--){var Rn=!Ut;Ut?(Ue._dtickInit=Ue.dtick,Ue._tick0Init=Ue.tick0):(Ue.minor._dtickInit=Ue.minor.dtick,Ue.minor._tick0Init=Ue.minor.tick0);var An=Ut?Ue:g.extendFlat({},Ue,Ue.minor);if(Rn?K.prepMinorTicks(An,Ue,Ve):K.prepTicks(An,Ve),An.tickmode!=="array")if(An.tickmode!=="sync"){var mn=pe(Lt),tn=mn[0],fn=mn[1],rn=x(An.dtick),pn=gt==="log"&&!(rn||An.dtick.charAt(0)==="L"),wn=K.tickFirst(An,Ve);if(Ut){if(Ue._tmin=wn,wn<tn!==wt)break;gt!=="category"&&gt!=="multicategory"||(fn=wt?Math.max(-.5,fn):Math.min(Ue._categories.length-.5,fn))}var kn,Pn,On=null,En=wn;Ut&&(rn?Pn=Ue.dtick:gt==="date"?typeof Ue.dtick=="string"&&Ue.dtick.charAt(0)==="M"&&(Pn=w*Ue.dtick.substring(1)):Pn=Ue._roughDTick,kn=Math.round((Ue.r2l(En)-Ue.r2l(Ue.tick0))/Pn)-1);var Vn=An.dtick;for(An.rangebreaks&&An._tick0Init!==An.tick0&&(En=qe(En,Ue),wt||(En=K.tickIncrement(En,Vn,!wt,yt))),Ut&&dt&&(En=K.tickIncrement(En,Vn,!wt,yt),kn--);wt?En>=fn:En<=fn;En=K.tickIncrement(En,Vn,wt,yt)){if(Ut&&kn++,An.rangebreaks&&!wt){if(En<tn)continue;if(An.maskBreaks(En)===D&&qe(En,An)>=Rt)break}if(un.length>Dt||En===On)break;On=En;var Bn={value:En};Ut?(pn&&En!==(0|En)&&(Bn.simpleLabel=!0),bt>1&&kn%bt&&(Bn.skipLabel=!0),un.push(Bn)):(Bn.minor=!0,qt.push(Bn))}}else un=[],Nt=fe(Ue);else Ut?(un=[],Nt=le(Ue,!Rn)):(qt=[],Xt=le(Ue,!Rn))}if(Kt&&!(Ue.minor.ticks==="inside"&&Ue.ticks==="outside"||Ue.minor.ticks==="outside"&&Ue.ticks==="inside")){for(var Wn=un.map(function(At){return At.value}),rr=[],ir=0;ir<qt.length;ir++){var Kn=qt[ir],vr=Kn.value;if(Wn.indexOf(vr)===-1){for(var nn=!1,an=0;!nn&&an<un.length;an++)1e7+un[an].value===1e7+vr&&(nn=!0);nn||rr.push(Kn)}}qt=rr}if(dt&&function(At,Wt,en){for(var dn=0;dn<At.length;dn++){var gn=At[dn].value,_n=dn,on=dn+1;dn<At.length-1?(_n=dn,on=dn+1):dn>0?(_n=dn-1,on=dn):(_n=dn,on=dn);var Yt,Zt=At[_n].value,sn=At[on].value,hn=Math.abs(sn-Zt),Sn=en||hn,Cn=0;Sn>=f?Cn=hn>=f&&hn<=u?hn:h:en===d&&Sn>=y?Cn=hn>=y&&hn<=T?hn:d:Sn>=_?Cn=hn>=_&&hn<=m?hn:w:en===A&&Sn>=A?Cn=A:Sn>=p?Cn=p:en===L&&Sn>=L?Cn=L:en===M&&Sn>=M&&(Cn=M),Cn>=hn&&(Cn=hn,Yt=!0);var Un=gn+Cn;if(Wt.rangebreaks&&Cn>0){for(var qn=0,tr=0;tr<84;tr++){var Yn=(tr+.5)/84;Wt.maskBreaks(gn*(1-Yn)+Yn*Un)!==D&&qn++}(Cn*=qn/84)||(At[dn].drop=!0),Yt&&hn>A&&(Cn=hn)}(Cn>0||dn===0)&&(At[dn].periodX=gn+Cn/2)}}(un,Ue,Ue._definedDelta),Ue.rangebreaks){var In=Ue._id.charAt(0)==="y",yn=1;Ue.tickmode==="auto"&&(yn=Ue.tickfont?Ue.tickfont.size:12);var Dn=NaN;for(st=un.length-1;st>-1;st--)if(un[st].drop)un.splice(st,1);else{un[st].value=qe(un[st].value,Ue);var $n=Ue.c2p(un[st].value);(In?Dn>$n-yn:Dn<$n+yn)?un.splice(wt?st+1:st,1):Dn=$n}}Je(Ue)&&Math.abs(Lt[1]-Lt[0])===360&&un.pop(),Ue._tmax=(un[un.length-1]||{}).value,Ue._prevDateHead="",Ue._inCalcTicks=!0;var Hn,Qn,xr=function(At){At.text="",Ue._prevDateHead=Xe};for(un=un.concat(qt),st=0;st<un.length;st++){var Qt=un[st].minor,xn=un[st].value;Qt?Xt.push({x:xn,minor:!0}):(Xe=Ue._prevDateHead,Hn=K.tickText(Ue,xn,!1,un[st].simpleLabel),(Qn=un[st].periodX)!==void 0&&(Hn.periodX=Qn,(Qn>Rt||Qn<Ct)&&(Qn>Rt&&(Hn.periodX=Rt),Qn<Ct&&(Hn.periodX=Ct),xr(Hn))),un[st].skipLabel&&xr(Hn),Nt.push(Hn))}return Nt=Nt.concat(Xt),Ue._inCalcTicks=!1,dt&&Nt.length&&(Nt[0].noTick=!0),Nt};var ye=[2,5,10],Oe=[1,2,3,6,12],Ae=[1,2,5,10,15,30],Se=[1,2,3,7,14],Pe=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],Fe=[-.301,0,.301,.699,1],Be=[15,30,45,90,180];function xe(Ue,Ve,st){return Ve*g.roundUp(Ue/Ve,st)}function Me(Ue){var Ve=Ue.dtick;if(Ue._tickexponent=0,x(Ve)||typeof Ve=="string"||(Ve=1),Ue.type!=="category"&&Ue.type!=="multicategory"||(Ue._tickround=null),Ue.type==="date"){var st=Ue.r2l(Ue.tick0),Xe=Ue.l2r(st).replace(/(^-|i)/g,""),gt=Xe.length;if(String(Ve).charAt(0)==="M")gt>10||Xe.substr(5)!=="01-01"?Ue._tickround="d":Ue._tickround=+Ve.substr(1)%12==0?"y":"m";else if(Ve>=p&&gt<=10||Ve>=15*p)Ue._tickround="d";else if(Ve>=C&&gt<=16||Ve>=M)Ue._tickround="M";else if(Ve>=R&&gt<=19||Ve>=C)Ue._tickround="S";else{var yt=Ue.l2r(st+Ve).replace(/^-/,"").length;Ue._tickround=Math.max(gt,yt)-20,Ue._tickround<0&&(Ue._tickround=4)}}else if(x(Ve)||Ve.charAt(0)==="L"){var bt=Ue.range.map(Ue.r2d||Number);x(Ve)||(Ve=Number(Ve.substr(1))),Ue._tickround=2-Math.floor(Math.log(Ve)/Math.LN10+.01);var dt=Math.max(Math.abs(bt[0]),Math.abs(bt[1])),Lt=Math.floor(Math.log(dt)/Math.LN10+.01),wt=Ue.minexponent===void 0?3:Ue.minexponent;Math.abs(Lt)>wt&&(Re(Ue.exponentformat)&&!He(Lt)?Ue._tickexponent=3*Math.round((Lt-1)/3):Ue._tickexponent=Lt)}else Ue._tickround=null}function Ce(Ue,Ve,st){var Xe=Ue.tickfont||{};return{x:Ve,dx:0,dy:0,text:st||"",fontSize:Xe.size,font:Xe.family,fontWeight:Xe.weight,fontStyle:Xe.style,fontVariant:Xe.variant,fontTextcase:Xe.textcase,fontLineposition:Xe.lineposition,fontShadow:Xe.shadow,fontColor:Xe.color}}K.autoTicks=function(Ue,Ve,st){var Xe;function gt(Rt){return Math.pow(Rt,Math.floor(Math.log(Ve)/Math.LN10))}if(Ue.type==="date"){Ue.tick0=g.dateTick0(Ue.calendar,0);var yt=2*Ve;if(yt>h)Ve/=h,Xe=gt(10),Ue.dtick="M"+12*xe(Ve,Xe,ye);else if(yt>w)Ve/=w,Ue.dtick="M"+xe(Ve,1,Oe);else if(yt>p){if(Ue.dtick=xe(Ve,p,Ue._hasDayOfWeekBreaks?[1,2,7,14]:Se),!st){var bt=K.getTickFormat(Ue),dt=Ue.ticklabelmode==="period";dt&&(Ue._rawTick0=Ue.tick0),/%[uVW]/.test(bt)?Ue.tick0=g.dateTick0(Ue.calendar,2):Ue.tick0=g.dateTick0(Ue.calendar,1),dt&&(Ue._dowTick0=Ue.tick0)}}else yt>M?Ue.dtick=xe(Ve,M,Oe):yt>C?Ue.dtick=xe(Ve,C,Ae):yt>R?Ue.dtick=xe(Ve,R,Ae):(Xe=gt(10),Ue.dtick=xe(Ve,Xe,ye))}else if(Ue.type==="log"){Ue.tick0=0;var Lt=g.simpleMap(Ue.range,Ue.r2l);if(Ue._isMinor&&(Ve*=1.5),Ve>.7)Ue.dtick=Math.ceil(Ve);else if(Math.abs(Lt[1]-Lt[0])<1){var wt=1.5*Math.abs((Lt[1]-Lt[0])/Ve);Ve=Math.abs(Math.pow(10,Lt[1])-Math.pow(10,Lt[0]))/wt,Xe=gt(10),Ue.dtick="L"+xe(Ve,Xe,ye)}else Ue.dtick=Ve>.3?"D2":"D1"}else Ue.type==="category"||Ue.type==="multicategory"?(Ue.tick0=0,Ue.dtick=Math.ceil(Math.max(Ve,1))):Je(Ue)?(Ue.tick0=0,Xe=1,Ue.dtick=xe(Ve,Xe,Be)):(Ue.tick0=0,Xe=gt(10),Ue.dtick=xe(Ve,Xe,ye));if(Ue.dtick===0&&(Ue.dtick=1),!x(Ue.dtick)&&typeof Ue.dtick!="string"){var Ct=Ue.dtick;throw Ue.dtick=1,"ax.dtick error: "+String(Ct)}},K.tickIncrement=function(Ue,Ve,st,Xe){var gt=st?-1:1;if(x(Ve))return g.increment(Ue,gt*Ve);var yt=Ve.charAt(0),bt=gt*Number(Ve.substr(1));if(yt==="M")return g.incrementMonth(Ue,bt,Xe);if(yt==="L")return Math.log(Math.pow(10,Ue)+bt)/Math.LN10;if(yt==="D"){var dt=Ve==="D2"?Fe:Pe,Lt=Ue+.01*gt,wt=g.roundUp(g.mod(Lt,1),dt,st);return Math.floor(Lt)+Math.log(v.round(Math.pow(10,wt),1))/Math.LN10}throw"unrecognized dtick "+String(Ve)},K.tickFirst=function(Ue,Ve){var st=Ue.r2l||Number,Xe=g.simpleMap(Ue.range,st,void 0,void 0,Ve),gt=Xe[1]<Xe[0],yt=gt?Math.floor:Math.ceil,bt=pe(Xe)[0],dt=Ue.dtick,Lt=st(Ue.tick0);if(x(dt)){var wt=yt((bt-Lt)/dt)*dt+Lt;return Ue.type!=="category"&&Ue.type!=="multicategory"||(wt=g.constrain(wt,0,Ue._categories.length-1)),wt}var Ct=dt.charAt(0),Rt=Number(dt.substr(1));if(Ct==="M"){for(var Dt,Nt,Xt,un=0,qt=Lt;un<10;){if(((Dt=K.tickIncrement(qt,dt,gt,Ue.calendar))-bt)*(qt-bt)<=0)return gt?Math.min(qt,Dt):Math.max(qt,Dt);Nt=(bt-(qt+Dt)/2)/(Dt-qt),Xt=Ct+(Math.abs(Math.round(Nt))||1)*Rt,qt=K.tickIncrement(qt,Xt,Nt<0?!gt:gt,Ue.calendar),un++}return g.error("tickFirst did not converge",Ue),qt}if(Ct==="L")return Math.log(yt((Math.pow(10,bt)-Lt)/Rt)*Rt+Lt)/Math.LN10;if(Ct==="D"){var Kt=dt==="D2"?Fe:Pe,Ut=g.roundUp(g.mod(bt,1),Kt,gt);return Math.floor(bt)+Math.log(v.round(Math.pow(10,Ut),1))/Math.LN10}throw"unrecognized dtick "+String(dt)},K.tickText=function(Ue,Ve,st,Xe){var gt,yt=Ce(Ue,Ve),bt=Ue.tickmode==="array",dt=st||bt,Lt=Ue.type,wt=Lt==="category"?Ue.d2l_noadd:Ue.d2l,Ct=function(qt){var Kt=Ue.l2p(qt);return Kt>=0&&Kt<=Ue._length?qt:null};if(bt&&g.isArrayOrTypedArray(Ue.ticktext)){var Rt=g.simpleMap(Ue.range,Ue.r2l),Dt=(Math.abs(Rt[1]-Rt[0])-(Ue._lBreaks||0))/1e4;for(gt=0;gt<Ue.ticktext.length&&!(Math.abs(Ve-wt(Ue.tickvals[gt]))<Dt);gt++);if(gt<Ue.ticktext.length)return yt.text=String(Ue.ticktext[gt]),yt.xbnd=[Ct(yt.x-.5),Ct(yt.x+Ue.dtick-.5)],yt}function Nt(qt){if(qt===void 0)return!0;if(st)return qt==="none";var Kt={first:Ue._tmin,last:Ue._tmax}[qt];return qt!=="all"&&Ve!==Kt}var Xt=st?"never":Ue.exponentformat!=="none"&&Nt(Ue.showexponent)?"hide":"";if(Lt==="date"?function(qt,Kt,Ut,Rn){var An=qt._tickround,mn=Ut&&qt.hoverformat||K.getTickFormat(qt);(Rn=!mn&&Rn)&&(An=x(An)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[An]);var tn,fn=g.formatDate(Kt.x,mn,An,qt._dateFormat,qt.calendar,qt._extraFormat),rn=fn.indexOf(`
`);if(rn!==-1&&(tn=fn.substr(rn+1),fn=fn.substr(0,rn)),Rn&&(tn===void 0||fn!=="00:00:00"&&fn!=="00:00"?fn.length===8&&(fn=fn.replace(/:00$/,"")):(fn=tn,tn="")),tn)if(Ut)An==="d"?fn+=", "+tn:fn=tn+(fn?", "+fn:"");else if(qt._inCalcTicks&&qt._prevDateHead===tn){var pn=Ke(qt),wn=qt._trueSide||qt.side;(!pn&&wn==="top"||pn&&wn==="bottom")&&(fn+="<br> ")}else qt._prevDateHead=tn,fn+="<br>"+tn;Kt.text=fn}(Ue,yt,st,dt):Lt==="log"?function(qt,Kt,Ut,Rn,An){var mn=qt.dtick,tn=Kt.x,fn=qt.tickformat,rn=typeof mn=="string"&&mn.charAt(0);if(An==="never"&&(An=""),Rn&&rn!=="L"&&(mn="L3",rn="L"),fn||rn==="L")Kt.text=Ye(Math.pow(10,tn),qt,An,Rn);else if(x(mn)||rn==="D"&&g.mod(tn+.01,1)<.1){var pn=Math.round(tn),wn=Math.abs(pn),kn=qt.exponentformat;kn==="power"||Re(kn)&&He(pn)?(Kt.text=pn===0?1:pn===1?"10":"10<sup>"+(pn>1?"":I)+wn+"</sup>",Kt.fontSize*=1.25):(kn==="e"||kn==="E")&&wn>2?Kt.text="1"+kn+(pn>0?"+":I)+wn:(Kt.text=Ye(Math.pow(10,tn),qt,"","fakehover"),mn==="D1"&&qt._id.charAt(0)==="y"&&(Kt.dy-=Kt.fontSize/6))}else{if(rn!=="D")throw"unrecognized dtick "+String(mn);Kt.text=String(Math.round(Math.pow(10,g.mod(tn,1)))),Kt.fontSize*=.75}if(qt.dtick==="D1"){var Pn=String(Kt.text).charAt(0);Pn!=="0"&&Pn!=="1"||(qt._id.charAt(0)==="y"?Kt.dx-=Kt.fontSize/4:(Kt.dy+=Kt.fontSize/2,Kt.dx+=(qt.range[1]>qt.range[0]?1:-1)*Kt.fontSize*(tn<0?.5:.25)))}}(Ue,yt,0,dt,Xt):Lt==="category"?function(qt,Kt){var Ut=qt._categories[Math.round(Kt.x)];Ut===void 0&&(Ut=""),Kt.text=String(Ut)}(Ue,yt):Lt==="multicategory"?function(qt,Kt,Ut){var Rn=Math.round(Kt.x),An=qt._categories[Rn]||[],mn=An[1]===void 0?"":String(An[1]),tn=An[0]===void 0?"":String(An[0]);Ut?Kt.text=tn+" - "+mn:(Kt.text=mn,Kt.text2=tn)}(Ue,yt,st):Je(Ue)?function(qt,Kt,Ut,Rn,An){if(qt.thetaunit!=="radians"||Ut)Kt.text=Ye(Kt.x,qt,An,Rn);else{var mn=Kt.x/180;if(mn===0)Kt.text="0";else{var tn=function(rn){function pn(On,En){return Math.abs(On-En)<=1e-6}var wn=function(On){for(var En=1;!pn(Math.round(On*En)/En,On);)En*=10;return En}(rn),kn=rn*wn,Pn=Math.abs(function On(En,Vn){return pn(Vn,0)?En:On(Vn,En%Vn)}(kn,wn));return[Math.round(kn/Pn),Math.round(wn/Pn)]}(mn);if(tn[1]>=100)Kt.text=Ye(g.deg2rad(Kt.x),qt,An,Rn);else{var fn=Kt.x<0;tn[1]===1?tn[0]===1?Kt.text="":Kt.text=tn[0]+"":Kt.text=["<sup>",tn[0],"</sup>","","<sub>",tn[1],"</sub>",""].join(""),fn&&(Kt.text=I+Kt.text)}}}}(Ue,yt,st,dt,Xt):function(qt,Kt,Ut,Rn,An){An==="never"?An="":qt.showexponent==="all"&&Math.abs(Kt.x/qt.dtick)<1e-6&&(An="hide"),Kt.text=Ye(Kt.x,qt,An,Rn)}(Ue,yt,0,dt,Xt),Xe||(Ue.tickprefix&&!Nt(Ue.showtickprefix)&&(yt.text=Ue.tickprefix+yt.text),Ue.ticksuffix&&!Nt(Ue.showticksuffix)&&(yt.text+=Ue.ticksuffix)),Ue.labelalias&&Ue.labelalias.hasOwnProperty(yt.text)){var un=Ue.labelalias[yt.text];typeof un=="string"&&(yt.text=un)}return(Ue.tickson==="boundaries"||Ue.showdividers)&&(yt.xbnd=[Ct(yt.x-.5),Ct(yt.x+Ue.dtick-.5)]),yt},K.hoverLabelText=function(Ue,Ve,st){st&&(Ue=g.extendFlat({},Ue,{hoverformat:st}));var Xe=g.isArrayOrTypedArray(Ve)?Ve[0]:Ve,gt=g.isArrayOrTypedArray(Ve)?Ve[1]:void 0;if(gt!==void 0&&gt!==Xe)return K.hoverLabelText(Ue,Xe,st)+" - "+K.hoverLabelText(Ue,gt,st);var yt=Ue.type==="log"&&Xe<=0,bt=K.tickText(Ue,Ue.c2l(yt?-Xe:Xe),"hover").text;return yt?Xe===0?"0":I+bt:bt};var Ne=["f","p","n","","m","","k","M","G","T"];function Re(Ue){return Ue==="SI"||Ue==="B"}function He(Ue){return Ue>14||Ue<-15}function Ye(Ue,Ve,st,Xe){var gt=Ue<0,yt=Ve._tickround,bt=st||Ve.exponentformat||"B",dt=Ve._tickexponent,Lt=K.getTickFormat(Ve),wt=Ve.separatethousands;if(Xe){var Ct={exponentformat:bt,minexponent:Ve.minexponent,dtick:Ve.showexponent==="none"?Ve.dtick:x(Ue)&&Math.abs(Ue)||1,range:Ve.showexponent==="none"?Ve.range.map(Ve.r2d):[0,Ue||1]};Me(Ct),yt=(Number(Ct._tickround)||0)+4,dt=Ct._tickexponent,Ve.hoverformat&&(Lt=Ve.hoverformat)}if(Lt)return Ve._numFormat(Lt)(Ue).replace(/-/g,I);var Rt,Dt=Math.pow(10,-yt)/2;if(bt==="none"&&(dt=0),(Ue=Math.abs(Ue))<Dt)Ue="0",gt=!1;else{if(Ue+=Dt,dt&&(Ue*=Math.pow(10,-dt),yt+=dt),yt===0)Ue=String(Math.floor(Ue));else if(yt<0){Ue=(Ue=String(Math.round(Ue))).substr(0,Ue.length+yt);for(var Nt=yt;Nt<0;Nt++)Ue+="0"}else{var Xt=(Ue=String(Ue)).indexOf(".")+1;Xt&&(Ue=Ue.substr(0,Xt+yt).replace(/\.?0+$/,""))}Ue=g.numSeparate(Ue,Ve._separators,wt)}return dt&&bt!=="hide"&&(Re(bt)&&He(dt)&&(bt="power"),Rt=dt<0?I+-dt:bt!=="power"?"+"+dt:String(dt),bt==="e"||bt==="E"?Ue+=bt+Rt:bt==="power"?Ue+="10<sup>"+Rt+"</sup>":bt==="B"&&dt===9?Ue+="B":Re(bt)&&(Ue+=Ne[dt/3+5])),gt?I+Ue:Ue}function Qe(Ue,Ve){if(Ue){var st=Object.keys(j).reduce(function(Xe,gt){return Ve.indexOf(gt)!==-1&&j[gt].forEach(function(yt){Xe[yt]=1}),Xe},{});Object.keys(Ue).forEach(function(Xe){st[Xe]||(Xe.length===1?Ue[Xe]=0:delete Ue[Xe])})}}function lt(Ue,Ve){for(var st=[],Xe={},gt=0;gt<Ve.length;gt++){var yt=Ve[gt];Xe[yt.text2]?Xe[yt.text2].push(yt.x):Xe[yt.text2]=[yt.x]}for(var bt in Xe)st.push(Ce(Ue,g.interp(Xe[bt],.5),bt));return st}function ut(Ue){return Ue.periodX!==void 0?Ue.periodX:Ue.x}function xt(Ue){return[Ue.text,Ue.x,Ue.axInfo,Ue.font,Ue.fontSize,Ue.fontColor].join("_")}function _t(Ue){var Ve=Ue.title.font.size,st=(Ue.title.text.match(s.BR_TAG_ALL)||[]).length;return Ue.title.hasOwnProperty("standoff")?Ve*(ie+st*re):st?Ve*(st+1)*re:Ve}function mt(Ue,Ve){var st=Ue.l2p(Ve);return st>1&&st<Ue._length-1}function it(Ue){var Ve=v.select(Ue),st=Ve.select(".text-math-group");return st.empty()?Ve.select("text"):st}function nt(Ue){return Ue._id+".automargin"}function Et(Ue){return nt(Ue)+".mirror"}function zt(Ue){return Ue._id+".rangeslider"}function Ft(Ue,Ve){for(var st=0;st<Ve.length;st++)Ue.indexOf(Ve[st])===-1&&Ue.push(Ve[st])}function Pt(Ue,Ve,st){var Xe,gt,yt=[],bt=[],dt=Ue.layout;for(Xe=0;Xe<Ve.length;Xe++)yt.push(K.getFromId(Ue,Ve[Xe]));for(Xe=0;Xe<st.length;Xe++)bt.push(K.getFromId(Ue,st[Xe]));var Lt=Object.keys(r),wt=["anchor","domain","overlaying","position","side","tickangle","editType"],Ct=["linear","log"];for(Xe=0;Xe<Lt.length;Xe++){var Rt=Lt[Xe],Dt=yt[0][Rt],Nt=bt[0][Rt],Xt=!0,un=!1,qt=!1;if(Rt.charAt(0)!=="_"&&typeof Dt!="function"&&wt.indexOf(Rt)===-1){for(gt=1;gt<yt.length&&Xt;gt++){var Kt=yt[gt][Rt];Rt==="type"&&Ct.indexOf(Dt)!==-1&&Ct.indexOf(Kt)!==-1&&Dt!==Kt?un=!0:Kt!==Dt&&(Xt=!1)}for(gt=1;gt<bt.length&&Xt;gt++){var Ut=bt[gt][Rt];Rt==="type"&&Ct.indexOf(Nt)!==-1&&Ct.indexOf(Ut)!==-1&&Nt!==Ut?qt=!0:bt[gt][Rt]!==Nt&&(Xt=!1)}Xt&&(un&&(dt[yt[0]._name].type="linear"),qt&&(dt[bt[0]._name].type="linear"),Ze(dt,Rt,yt,bt,Ue._fullLayout._dfltTitle))}}for(Xe=0;Xe<Ue._fullLayout.annotations.length;Xe++){var Rn=Ue._fullLayout.annotations[Xe];Ve.indexOf(Rn.xref)!==-1&&st.indexOf(Rn.yref)!==-1&&g.swapAttrs(dt.annotations[Xe],["?"])}}function Ze(Ue,Ve,st,Xe,gt){var yt,bt=g.nestedProperty,dt=bt(Ue[st[0]._name],Ve).get(),Lt=bt(Ue[Xe[0]._name],Ve).get();for(Ve==="title"&&(dt&&dt.text===gt.x&&(dt.text=gt.y),Lt&&Lt.text===gt.y&&(Lt.text=gt.x)),yt=0;yt<st.length;yt++)bt(Ue,st[yt]._name+"."+Ve).set(Lt);for(yt=0;yt<Xe.length;yt++)bt(Ue,Xe[yt]._name+"."+Ve).set(dt)}function Je(Ue){return Ue._id==="angularaxis"}function qe(Ue,Ve){for(var st=Ve._rangebreaks.length,Xe=0;Xe<st;Xe++){var gt=Ve._rangebreaks[Xe];if(Ue>=gt.min&&Ue<gt.max)return gt.max}return Ue}function Ke(Ue){return(Ue.ticklabelposition||"").indexOf("inside")!==-1}function ft(Ue,Ve){Ke(Ue._anchorAxis||{})&&Ue._hideCounterAxisInsideTickLabels&&Ue._hideCounterAxisInsideTickLabels(Ve)}function ot(Ue,Ve,st,Xe){var gt,yt=Ue.anchor==="free"||Ue.overlaying!==void 0&&Ue.overlaying!==!1?Ue.overlaying:Ue._id;gt=Xe?Ue.side==="right"?Ve:-Ve:Ve,yt in st||(st[yt]={}),Ue.side in st[yt]||(st[yt][Ue.side]=0),st[yt][Ue.side]+=gt}K.getTickFormat=function(Ue){var Ve,st,Xe,gt,yt,bt,dt,Lt;function wt(Dt){return typeof Dt!="string"?Dt:Number(Dt.replace("M",""))*w}function Ct(Dt,Nt){var Xt=["L","D"];if(typeof Dt==typeof Nt){if(typeof Dt=="number")return Dt-Nt;var un=Xt.indexOf(Dt.charAt(0)),qt=Xt.indexOf(Nt.charAt(0));return un===qt?Number(Dt.replace(/(L|D)/g,""))-Number(Nt.replace(/(L|D)/g,"")):un-qt}return typeof Dt=="number"?1:-1}function Rt(Dt,Nt){var Xt=Nt[0]===null,un=Nt[1]===null,qt=Ct(Dt,Nt[0])>=0,Kt=Ct(Dt,Nt[1])<=0;return(Xt||qt)&&(un||Kt)}if(Ue.tickformatstops&&Ue.tickformatstops.length>0)switch(Ue.type){case"date":case"linear":for(Ve=0;Ve<Ue.tickformatstops.length;Ve++)if((Xe=Ue.tickformatstops[Ve]).enabled&&(gt=Ue.dtick,yt=Xe.dtickrange,bt=void 0,dt=void 0,Lt=void 0,bt=wt||function(Dt){return Dt},dt=yt[0],Lt=yt[1],(!dt&&typeof dt!="number"||bt(dt)<=bt(gt))&&(!Lt&&typeof Lt!="number"||bt(Lt)>=bt(gt)))){st=Xe;break}break;case"log":for(Ve=0;Ve<Ue.tickformatstops.length;Ve++)if((Xe=Ue.tickformatstops[Ve]).enabled&&Rt(Ue.dtick,Xe.dtickrange)){st=Xe;break}}return st?st.value:Ue.tickformat},K.getSubplots=function(Ue,Ve){var st=Ue._fullLayout._subplots,Xe=st.cartesian.concat(st.gl2d||[]),gt=Ve?K.findSubplotsWithAxis(Xe,Ve):Xe;return gt.sort(function(yt,bt){var dt=yt.substr(1).split("y"),Lt=bt.substr(1).split("y");return dt[0]===Lt[0]?+dt[1]-+Lt[1]:+dt[0]-+Lt[0]}),gt},K.findSubplotsWithAxis=function(Ue,Ve){for(var st=new RegExp(Ve._id.charAt(0)==="x"?"^"+Ve._id+"y":Ve._id+"$"),Xe=[],gt=0;gt<Ue.length;gt++){var yt=Ue[gt];st.test(yt)&&Xe.push(yt)}return Xe},K.makeClipPaths=function(Ue){var Ve=Ue._fullLayout;if(!Ve._hasOnlyLargeSploms){var st,Xe,gt={_offset:0,_length:Ve.width,_id:""},yt={_offset:0,_length:Ve.height,_id:""},bt=K.list(Ue,"x",!0),dt=K.list(Ue,"y",!0),Lt=[];for(st=0;st<bt.length;st++)for(Lt.push({x:bt[st],y:yt}),Xe=0;Xe<dt.length;Xe++)st===0&&Lt.push({x:gt,y:dt[Xe]}),Lt.push({x:bt[st],y:dt[Xe]});var wt=Ve._clips.selectAll(".axesclip").data(Lt,function(Ct){return Ct.x._id+Ct.y._id});wt.enter().append("clipPath").classed("axesclip",!0).attr("id",function(Ct){return"clip"+Ve._uid+Ct.x._id+Ct.y._id}).append("rect"),wt.exit().remove(),wt.each(function(Ct){v.select(this).select("rect").attr({x:Ct.x._offset||0,y:Ct.y._offset||0,width:Ct.x._length||1,height:Ct.y._length||1})})}},K.draw=function(Ue,Ve,st){var Xe=Ue._fullLayout;Ve==="redraw"&&Xe._paper.selectAll("g.subplot").each(function(dt){var Lt=dt[0],wt=Xe._plots[Lt];if(wt){var Ct=wt.xaxis,Rt=wt.yaxis;wt.xaxislayer.selectAll("."+Ct._id+"tick").remove(),wt.yaxislayer.selectAll("."+Rt._id+"tick").remove(),wt.xaxislayer.selectAll("."+Ct._id+"tick2").remove(),wt.yaxislayer.selectAll("."+Rt._id+"tick2").remove(),wt.xaxislayer.selectAll("."+Ct._id+"divider").remove(),wt.yaxislayer.selectAll("."+Rt._id+"divider").remove(),wt.minorGridlayer&&wt.minorGridlayer.selectAll("path").remove(),wt.gridlayer&&wt.gridlayer.selectAll("path").remove(),wt.zerolinelayer&&wt.zerolinelayer.selectAll("path").remove(),Xe._infolayer.select(".g-"+Ct._id+"title").remove(),Xe._infolayer.select(".g-"+Rt._id+"title").remove()}});var gt=Ve&&Ve!=="redraw"?Ve:K.listIds(Ue),yt=K.list(Ue).filter(function(dt){return dt.autoshift}).map(function(dt){return dt.overlaying});gt.map(function(dt){var Lt=K.getFromId(Ue,dt);if(Lt.tickmode==="sync"&&Lt.overlaying){var wt=gt.findIndex(function(Ct){return Ct===Lt.overlaying});wt>=0&&gt.unshift(gt.splice(wt,1).shift())}});var bt={false:{left:0,right:0}};return g.syncOrAsync(gt.map(function(dt){return function(){if(dt){var Lt=K.getFromId(Ue,dt);st||(st={}),st.axShifts=bt,st.overlayingShiftedAx=yt;var wt=K.drawOne(Ue,Lt,st);return Lt._shiftPusher&&ot(Lt,Lt._fullDepth||0,bt,!0),Lt._r=Lt.range.slice(),Lt._rl=g.simpleMap(Lt._r,Lt.r2l),wt}}}))},K.drawOne=function(Ue,Ve,st){var Xe,gt,yt,bt=(st=st||{}).axShifts||{},dt=st.overlayingShiftedAx||[];Ve.setScale();var Lt=Ue._fullLayout,wt=Ve._id,Ct=wt.charAt(0),Rt=K.counterLetter(wt),Dt=Lt._plots[Ve._mainSubplot];if(Dt){if(Ve._shiftPusher=Ve.autoshift||dt.indexOf(Ve._id)!==-1||dt.indexOf(Ve.overlaying)!==-1,Ve._shiftPusher&Ve.anchor==="free"){var Nt=Ve.linewidth/2||0;Ve.ticks==="inside"&&(Nt+=Ve.ticklen),ot(Ve,Nt,bt,!0),ot(Ve,Ve.shift||0,bt,!1)}st.skipTitle===!0&&Ve._shift!==void 0||(Ve._shift=function(on,Yt){return on.autoshift?Yt[on.overlaying][on.side]:on.shift||0}(Ve,bt));var Xt=Dt[Ct+"axislayer"],un=Ve._mainLinePosition,qt=un+=Ve._shift,Kt=Ve._mainMirrorPosition,Ut=Ve._vals=K.calcTicks(Ve),Rn=[Ve.mirror,qt,Kt].join("_");for(Xe=0;Xe<Ut.length;Xe++)Ut[Xe].axInfo=Rn;Ve._selections={},Ve._tickAngles&&(Ve._prevTickAngles=Ve._tickAngles),Ve._tickAngles={},Ve._depth=null;var An={};if(Ve.visible){var mn,tn,fn=K.makeTransTickFn(Ve),rn=K.makeTransTickLabelFn(Ve),pn=Ve.ticks==="inside",wn=Ve.ticks==="outside";if(Ve.tickson==="boundaries"){var kn=function(on,Yt){var Zt,sn=[],hn=function(Sn,Cn){var Un=Sn.xbnd[Cn];Un!==null&&sn.push(g.extendFlat({},Sn,{x:Un}))};if(Yt.length){for(Zt=0;Zt<Yt.length;Zt++)hn(Yt[Zt],0);hn(Yt[Zt-1],1)}return sn}(0,Ut);tn=K.clipEnds(Ve,kn),mn=pn?tn:kn}else tn=K.clipEnds(Ve,Ut),mn=pn&&Ve.ticklabelmode!=="period"?tn:Ut;var Pn,On=Ve._gridVals=tn,En=function(on,Yt){var Zt,sn,hn=[],Sn=Yt.length&&Yt[Yt.length-1].x<Yt[0].x,Cn=function(qn,tr){var Yn=qn.xbnd[tr];Yn!==null&&hn.push(g.extendFlat({},qn,{x:Yn}))};if(on.showdividers&&Yt.length){for(Zt=0;Zt<Yt.length;Zt++){var Un=Yt[Zt];Un.text2!==sn&&Cn(Un,Sn?1:0),sn=Un.text2}Cn(Yt[Zt-1],Sn?0:1)}return hn}(Ve,Ut);if(!Lt._hasOnlyLargeSploms){var Vn=Ve._subplotsWith,Bn={};for(Xe=0;Xe<Vn.length;Xe++){gt=Vn[Xe];var Wn=(yt=Lt._plots[gt])[Rt+"axis"],rr=Wn._mainAxis._id;if(!Bn[rr]){Bn[rr]=1;var ir=Ct==="x"?"M0,"+Wn._offset+"v"+Wn._length:"M"+Wn._offset+",0h"+Wn._length;K.drawGrid(Ue,Ve,{vals:On,counterAxis:Wn,layer:yt.gridlayer.select("."+wt),minorLayer:yt.minorGridlayer.select("."+wt),path:ir,transFn:fn}),K.drawZeroLine(Ue,Ve,{counterAxis:Wn,layer:yt.zerolinelayer,path:ir,transFn:fn})}}}var Kn=K.getTickSigns(Ve),vr=K.getTickSigns(Ve,"minor");if(Ve.ticks||Ve.minor&&Ve.minor.ticks){var nn,an,In,yn,Dn=K.makeTickPath(Ve,qt,Kn[2]),$n=K.makeTickPath(Ve,qt,vr[2],{minor:!0});if(Ve._anchorAxis&&Ve.mirror&&Ve.mirror!==!0?(nn=K.makeTickPath(Ve,Kt,Kn[3]),an=K.makeTickPath(Ve,Kt,vr[3],{minor:!0}),In=Dn+nn,yn=$n+an):(nn="",an="",In=Dn,yn=$n),Ve.showdividers&&wn&&Ve.tickson==="boundaries"){var Hn={};for(Xe=0;Xe<En.length;Xe++)Hn[En[Xe].x]=1;Pn=function(on){return Hn[on.x]?nn:In}}else Pn=function(on){return on.minor?yn:In}}if(K.drawTicks(Ue,Ve,{vals:mn,layer:Xt,path:Pn,transFn:fn}),Ve.mirror==="allticks"){var Qn=Object.keys(Ve._linepositions||{});for(Xe=0;Xe<Qn.length;Xe++){gt=Qn[Xe],yt=Lt._plots[gt];var xr=Ve._linepositions[gt]||[],Qt=xr[0],xn=xr[1],At=xr[2],Wt=K.makeTickPath(Ve,Qt,At?Kn[0]:vr[0],{minor:At})+K.makeTickPath(Ve,xn,At?Kn[1]:vr[1],{minor:At});K.drawTicks(Ue,Ve,{vals:mn,layer:yt[Ct+"axislayer"],path:Wt,transFn:fn})}}var en=[];if(en.push(function(){return K.drawLabels(Ue,Ve,{vals:Ut,layer:Xt,plotinfo:yt,transFn:rn,labelFns:K.makeLabelFns(Ve,qt)})}),Ve.type==="multicategory"){var dn={x:2,y:10}[Ct];en.push(function(){var on={x:"height",y:"width"}[Ct],Yt=_n()[on]+dn+(Ve._tickAngles[wt+"tick"]?Ve.tickfont.size*re:0);return K.drawLabels(Ue,Ve,{vals:lt(Ve,Ut),layer:Xt,cls:wt+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:fn,labelFns:K.makeLabelFns(Ve,qt+Yt*Kn[4])})}),en.push(function(){return Ve._depth=Kn[4]*(_n("tick2")[Ve.side]-qt),function(on,Yt,Zt){var sn=Yt._id+"divider",hn=Zt.vals,Sn=Zt.layer.selectAll("path."+sn).data(hn,xt);Sn.exit().remove(),Sn.enter().insert("path",":first-child").classed(sn,1).classed("crisp",1).call(i.stroke,Yt.dividercolor).style("stroke-width",a.crispRound(on,Yt.dividerwidth,1)+"px"),Sn.attr("transform",Zt.transFn).attr("d",Zt.path)}(Ue,Ve,{vals:En,layer:Xt,path:K.makeTickPath(Ve,qt,Kn[4],{len:Ve._depth}),transFn:fn})})}else Ve.title.hasOwnProperty("standoff")&&en.push(function(){Ve._depth=Kn[4]*(_n()[Ve.side]-qt)});var gn=b.getComponentMethod("rangeslider","isVisible")(Ve);return st.skipTitle||gn&&Ve.side==="bottom"||en.push(function(){return function(on,Yt){var Zt,sn=on._fullLayout,hn=Yt._id,Sn=hn.charAt(0),Cn=Yt.title.font.size,Un=(Yt.title.text.match(s.BR_TAG_ALL)||[]).length;if(Yt.title.hasOwnProperty("standoff"))Yt.side==="bottom"||Yt.side==="right"?Zt=Yt._depth+Yt.title.standoff+Cn*ie:Yt.side!=="top"&&Yt.side!=="left"||(Zt=Yt._depth+Yt.title.standoff+Cn*(G+Un*re));else{var qn=Ke(Yt);if(Yt.type==="multicategory")Zt=Yt._depth;else{var tr=1.5*Cn;qn&&(tr=.5*Cn,Yt.ticks==="outside"&&(tr+=Yt.ticklen)),Zt=10+tr+(Yt.linewidth?Yt.linewidth-1:0)}qn||(Zt+=Sn==="x"?Yt.side==="top"?Cn*(Yt.showticklabels?1:0):Cn*(Yt.showticklabels?1.5:.5):Yt.side==="right"?Cn*(Yt.showticklabels?1:.5):Cn*(Yt.showticklabels?.5:0))}var Yn,sr,ar,er,mr=K.getPxPosition(on,Yt);if(Sn==="x"?(sr=Yt._offset+Yt._length/2,ar=Yt.side==="top"?mr-Zt:mr+Zt):(ar=Yt._offset+Yt._length/2,sr=Yt.side==="right"?mr+Zt:mr-Zt,Yn={rotate:"-90",offset:0}),Yt.type!=="multicategory"){var Mr=Yt._selections[Yt._id+"tick"];if(er={selection:Mr,side:Yt.side},Mr&&Mr.node()&&Mr.node().parentNode){var br=a.getTranslate(Mr.node().parentNode);er.offsetLeft=br.x,er.offsetTop=br.y}Yt.title.hasOwnProperty("standoff")&&(er.pad=0)}return Yt._titleStandoff=Zt,n.draw(on,hn+"title",{propContainer:Yt,propName:Yt._name+".title.text",placeholder:sn._dfltTitle[Sn],avoid:er,transform:Yn,attributes:{x:sr,y:ar,"text-anchor":"middle"}})}(Ue,Ve)}),en.push(function(){var on,Yt,Zt,sn,hn=Ve.side.charAt(0),Sn=te[Ve.side].charAt(0),Cn=K.getPxPosition(Ue,Ve),Un=wn?Ve.ticklen:0;(Ve.automargin||gn||Ve._shiftPusher)&&(Ve.type==="multicategory"?on=_n("tick2"):(on=_n(),Ct==="x"&&hn==="b"&&(Ve._depth=Math.max(on.width>0?on.bottom-Cn:0,Un))));var qn=0,tr=0;if(Ve._shiftPusher&&(qn=Math.max(Un,on.height>0?hn==="l"?Cn-on.left:on.right-Cn:0),Ve.title.text!==Lt._dfltTitle[Ct]&&(tr=(Ve._titleStandoff||0)+(Ve._titleScoot||0),hn==="l"&&(tr+=_t(Ve))),Ve._fullDepth=Math.max(qn,tr)),Ve.automargin){Yt={x:0,y:0,r:0,l:0,t:0,b:0};var Yn=[0,1],sr=typeof Ve._shift=="number"?Ve._shift:0;if(Ct==="x"){if(hn==="b"?Yt[hn]=Ve._depth:(Yt[hn]=Ve._depth=Math.max(on.width>0?Cn-on.top:0,Un),Yn.reverse()),on.width>0){var ar=on.right-(Ve._offset+Ve._length);ar>0&&(Yt.xr=1,Yt.r=ar);var er=Ve._offset-on.left;er>0&&(Yt.xl=0,Yt.l=er)}}else if(hn==="l"?(Ve._depth=Math.max(on.height>0?Cn-on.left:0,Un),Yt[hn]=Ve._depth-sr):(Ve._depth=Math.max(on.height>0?on.right-Cn:0,Un),Yt[hn]=Ve._depth+sr,Yn.reverse()),on.height>0){var mr=on.bottom-(Ve._offset+Ve._length);mr>0&&(Yt.yb=0,Yt.b=mr);var Mr=Ve._offset-on.top;Mr>0&&(Yt.yt=1,Yt.t=Mr)}Yt[Rt]=Ve.anchor==="free"?Ve.position:Ve._anchorAxis.domain[Yn[0]],Ve.title.text!==Lt._dfltTitle[Ct]&&(Yt[hn]+=_t(Ve)+(Ve.title.standoff||0)),Ve.mirror&&Ve.anchor!=="free"&&((Zt={x:0,y:0,r:0,l:0,t:0,b:0})[Sn]=Ve.linewidth,Ve.mirror&&Ve.mirror!==!0&&(Zt[Sn]+=Un),Ve.mirror===!0||Ve.mirror==="ticks"?Zt[Rt]=Ve._anchorAxis.domain[Yn[1]]:Ve.mirror!=="all"&&Ve.mirror!=="allticks"||(Zt[Rt]=[Ve._counterDomainMin,Ve._counterDomainMax][Yn[1]]))}gn&&(sn=b.getComponentMethod("rangeslider","autoMarginOpts")(Ue,Ve)),typeof Ve.automargin=="string"&&(Qe(Yt,Ve.automargin),Qe(Zt,Ve.automargin)),t.autoMargin(Ue,nt(Ve),Yt),t.autoMargin(Ue,Et(Ve),Zt),t.autoMargin(Ue,zt(Ve),sn)}),g.syncOrAsync(en)}}function _n(on){var Yt=wt+(on||"tick");return An[Yt]||(An[Yt]=function(Zt,sn,hn){var Sn,Cn,Un,qn;if(Zt._selections[sn].size())Sn=1/0,Cn=-1/0,Un=1/0,qn=-1/0,Zt._selections[sn].each(function(){var Yn=it(this),sr=a.bBox(Yn.node().parentNode);Sn=Math.min(Sn,sr.top),Cn=Math.max(Cn,sr.bottom),Un=Math.min(Un,sr.left),qn=Math.max(qn,sr.right)});else{var tr=K.makeLabelFns(Zt,hn);Sn=Cn=tr.yFn({dx:0,dy:0,fontSize:0}),Un=qn=tr.xFn({dx:0,dy:0,fontSize:0})}return{top:Sn,bottom:Cn,left:Un,right:qn,height:Cn-Sn,width:qn-Un}}(Ve,Yt,qt)),An[Yt]}},K.getTickSigns=function(Ue,Ve){var st=Ue._id.charAt(0),Xe={x:"top",y:"right"}[st],gt=Ue.side===Xe?1:-1,yt=[-1,1,gt,-gt];return(Ve?(Ue.minor||{}).ticks:Ue.ticks)!=="inside"==(st==="x")&&(yt=yt.map(function(bt){return-bt})),Ue.side&&yt.push({l:-1,t:-1,r:1,b:1}[Ue.side.charAt(0)]),yt},K.makeTransTickFn=function(Ue){return Ue._id.charAt(0)==="x"?function(Ve){return c(Ue._offset+Ue.l2p(Ve.x),0)}:function(Ve){return c(0,Ue._offset+Ue.l2p(Ve.x))}},K.makeTransTickLabelFn=function(Ue){var Ve=function(gt){var yt=gt.ticklabelposition||"",bt=function(Kt){return yt.indexOf(Kt)!==-1},dt=bt("top"),Lt=bt("left"),wt=bt("right"),Ct=bt("bottom"),Rt=bt("inside"),Dt=Ct||Lt||dt||wt;if(!Dt&&!Rt)return[0,0];var Nt=gt.side,Xt=Dt?(gt.tickwidth||0)/2:0,un=3,qt=gt.tickfont?gt.tickfont.size:12;return(Ct||dt)&&(Xt+=qt*ie,un+=(gt.linewidth||0)/2),(Lt||wt)&&(Xt+=(gt.linewidth||0)/2,un+=3),Rt&&Nt==="top"&&(un-=qt*(1-ie)),(Lt||dt)&&(Xt=-Xt),Nt!=="bottom"&&Nt!=="right"||(un=-un),[Dt?Xt:0,Rt?un:0]}(Ue),st=Ve[0],Xe=Ve[1];return Ue._id.charAt(0)==="x"?function(gt){return c(st+Ue._offset+Ue.l2p(ut(gt)),Xe)}:function(gt){return c(Xe,st+Ue._offset+Ue.l2p(ut(gt)))}},K.makeTickPath=function(Ue,Ve,st,Xe){Xe||(Xe={});var gt=Xe.minor;if(gt&&!Ue.minor)return"";var yt=Xe.len!==void 0?Xe.len:gt?Ue.minor.ticklen:Ue.ticklen,bt=Ue._id.charAt(0),dt=(Ue.linewidth||1)/2;return bt==="x"?"M0,"+(Ve+dt*st)+"v"+yt*st:"M"+(Ve+dt*st)+",0h"+yt*st},K.makeLabelFns=function(Ue,Ve,st){var Xe=Ue.ticklabelposition||"",gt=function(kn){return Xe.indexOf(kn)!==-1},yt=gt("top"),bt=gt("left"),dt=gt("right"),Lt=gt("bottom")||bt||yt||dt,wt=gt("inside"),Ct=Xe==="inside"&&Ue.ticks==="inside"||!wt&&Ue.ticks==="outside"&&Ue.tickson!=="boundaries",Rt=0,Dt=0,Nt=Ct?Ue.ticklen:0;if(wt?Nt*=-1:Lt&&(Nt=0),Ct&&(Rt+=Nt,st)){var Xt=g.deg2rad(st);Rt=Nt*Math.cos(Xt)+1,Dt=Nt*Math.sin(Xt)}Ue.showticklabels&&(Ct||Ue.showline)&&(Rt+=.2*Ue.tickfont.size);var un,qt,Kt,Ut,Rn,An={labelStandoff:Rt+=(Ue.linewidth||1)/2*(wt?-1:1),labelShift:Dt},mn=0,tn=Ue.side,fn=Ue._id.charAt(0),rn=Ue.tickangle;if(fn==="x")Ut=(Rn=!wt&&tn==="bottom"||wt&&tn==="top")?1:-1,wt&&(Ut*=-1),un=Dt*Ut,qt=Ve+Rt*Ut,Kt=Rn?1:-.2,Math.abs(rn)===90&&(wt?Kt+=G:Kt=rn===-90&&tn==="bottom"?ie:rn===90&&tn==="top"?G:.5,mn=G/2*(rn/90)),An.xFn=function(kn){return kn.dx+un+mn*kn.fontSize},An.yFn=function(kn){return kn.dy+qt+kn.fontSize*Kt},An.anchorFn=function(kn,Pn){if(Lt){if(bt)return"end";if(dt)return"start"}return x(Pn)&&Pn!==0&&Pn!==180?Pn*Ut<0!==wt?"end":"start":"middle"},An.heightFn=function(kn,Pn,On){return Pn<-60||Pn>60?-.5*On:Ue.side==="top"!==wt?-On:0};else if(fn==="y"){if(Ut=(Rn=!wt&&tn==="left"||wt&&tn==="right")?1:-1,wt&&(Ut*=-1),un=Rt,qt=Dt*Ut,Kt=0,wt||Math.abs(rn)!==90||(Kt=rn===-90&&tn==="left"||rn===90&&tn==="right"?ie:.5),wt){var pn=x(rn)?+rn:0;if(pn!==0){var wn=g.deg2rad(pn);mn=Math.abs(Math.sin(wn))*ie*Ut,Kt=0}}An.xFn=function(kn){return kn.dx+Ve-(un+kn.fontSize*Kt)*Ut+mn*kn.fontSize},An.yFn=function(kn){return kn.dy+qt+kn.fontSize*G},An.anchorFn=function(kn,Pn){return x(Pn)&&Math.abs(Pn)===90?"middle":Rn?"end":"start"},An.heightFn=function(kn,Pn,On){return Ue.side==="right"&&(Pn*=-1),Pn<-30?-On:Pn<30?-.5*On:0}}return An},K.drawTicks=function(Ue,Ve,st){st=st||{};var Xe=Ve._id+"tick",gt=[].concat(Ve.minor&&Ve.minor.ticks?st.vals.filter(function(bt){return bt.minor&&!bt.noTick}):[]).concat(Ve.ticks?st.vals.filter(function(bt){return!bt.minor&&!bt.noTick}):[]),yt=st.layer.selectAll("path."+Xe).data(gt,xt);yt.exit().remove(),yt.enter().append("path").classed(Xe,1).classed("ticks",1).classed("crisp",st.crisp!==!1).each(function(bt){return i.stroke(v.select(this),bt.minor?Ve.minor.tickcolor:Ve.tickcolor)}).style("stroke-width",function(bt){return a.crispRound(Ue,bt.minor?Ve.minor.tickwidth:Ve.tickwidth,1)+"px"}).attr("d",st.path).style("display",null),ft(Ve,[V]),yt.attr("transform",st.transFn)},K.drawGrid=function(Ue,Ve,st){if(st=st||{},Ve.tickmode!=="sync"){var Xe=Ve._id+"grid",gt=Ve.minor&&Ve.minor.showgrid,yt=gt?st.vals.filter(function(Kt){return Kt.minor}):[],bt=Ve.showgrid?st.vals.filter(function(Kt){return!Kt.minor}):[],dt=st.counterAxis;if(dt&&K.shouldShowZeroLine(Ue,Ve,dt))for(var Lt=Ve.tickmode==="array",wt=0;wt<bt.length;wt++){var Ct=bt[wt].x;if(Lt?!Ct:Math.abs(Ct)<Ve.dtick/100){if(bt=bt.slice(0,wt).concat(bt.slice(wt+1)),!Lt)break;wt--}}Ve._gw=a.crispRound(Ue,Ve.gridwidth,1);for(var Rt=gt?a.crispRound(Ue,Ve.minor.gridwidth,1):0,Dt=st.layer,Nt=st.minorLayer,Xt=1;Xt>=0;Xt--){var un=Xt?Dt:Nt;if(un){var qt=un.selectAll("path."+Xe).data(Xt?bt:yt,xt);qt.exit().remove(),qt.enter().append("path").classed(Xe,1).classed("crisp",st.crisp!==!1),qt.attr("transform",st.transFn).attr("d",st.path).each(function(Kt){return i.stroke(v.select(this),Kt.minor?Ve.minor.gridcolor:Ve.gridcolor||"#ddd")}).style("stroke-dasharray",function(Kt){return a.dashStyle(Kt.minor?Ve.minor.griddash:Ve.griddash,Kt.minor?Ve.minor.gridwidth:Ve.gridwidth)}).style("stroke-width",function(Kt){return(Kt.minor?Rt:Ve._gw)+"px"}).style("display",null),typeof st.path=="function"&&qt.attr("d",st.path)}}ft(Ve,[q,z])}},K.drawZeroLine=function(Ue,Ve,st){st=st||st;var Xe=Ve._id+"zl",gt=K.shouldShowZeroLine(Ue,Ve,st.counterAxis),yt=st.layer.selectAll("path."+Xe).data(gt?[{x:0,id:Ve._id}]:[]);yt.exit().remove(),yt.enter().append("path").classed(Xe,1).classed("zl",1).classed("crisp",st.crisp!==!1).each(function(){st.layer.selectAll("path").sort(function(bt,dt){return ae(bt.id,dt.id)})}),yt.attr("transform",st.transFn).attr("d",st.path).call(i.stroke,Ve.zerolinecolor||i.defaultLine).style("stroke-width",a.crispRound(Ue,Ve.zerolinewidth,Ve._gw||1)+"px").style("display",null),ft(Ve,[F])},K.drawLabels=function(Ue,Ve,st){st=st||{};var Xe=Ue._fullLayout,gt=Ve._id,yt=st.cls||gt+"tick",bt=st.vals.filter(function(Bn){return Bn.text}),dt=st.labelFns,Lt=st.secondary?0:Ve.tickangle,wt=(Ve._prevTickAngles||{})[yt],Ct=st.layer.selectAll("g."+yt).data(Ve.showticklabels?bt:[],xt),Rt=[];function Dt(Bn,Wn){Bn.each(function(rr){var ir=v.select(this),Kn=ir.select(".text-math-group"),vr=dt.anchorFn(rr,Wn),nn=st.transFn.call(ir.node(),rr)+(x(Wn)&&+Wn!=0?" rotate("+Wn+","+dt.xFn(rr)+","+(dt.yFn(rr)-rr.fontSize/2)+")":""),an=s.lineCount(ir),In=re*rr.fontSize,yn=dt.heightFn(rr,x(Wn)?+Wn:0,(an-1)*In);if(yn&&(nn+=c(0,yn)),Kn.empty()){var Dn=ir.select("text");Dn.attr({transform:nn,"text-anchor":vr}),Dn.style("opacity",1),Ve._adjustTickLabelsOverflow&&Ve._adjustTickLabelsOverflow()}else{var $n=a.bBox(Kn.node()).width*{end:-.5,start:.5}[vr];Kn.attr("transform",nn+c($n,0))}})}Ct.enter().append("g").classed(yt,1).append("text").attr("text-anchor","middle").each(function(Bn){var Wn=v.select(this),rr=Ue._promises.length;Wn.call(s.positionText,dt.xFn(Bn),dt.yFn(Bn)).call(a.font,{family:Bn.font,size:Bn.fontSize,color:Bn.fontColor,weight:Bn.fontWeight,style:Bn.fontStyle,variant:Bn.fontVariant,textcase:Bn.fontTextcase,lineposition:Bn.fontLineposition,shadow:Bn.fontShadow}).text(Bn.text).call(s.convertToTspans,Ue),Ue._promises[rr]?Rt.push(Ue._promises.pop().then(function(){Dt(Wn,Lt)})):Dt(Wn,Lt)}),ft(Ve,[X]),Ct.exit().remove(),st.repositionOnUpdate&&Ct.each(function(Bn){v.select(this).select("text").call(s.positionText,dt.xFn(Bn),dt.yFn(Bn))}),Ve._adjustTickLabelsOverflow=function(){var Bn=Ve.ticklabeloverflow;if(Bn&&Bn!=="allow"){var Wn=Bn.indexOf("hide")!==-1,rr=Ve._id.charAt(0)==="x",ir=0,Kn=rr?Ue._fullLayout.width:Ue._fullLayout.height;if(Bn.indexOf("domain")!==-1){var vr=g.simpleMap(Ve.range,Ve.r2l);ir=Ve.l2p(vr[0])+Ve._offset,Kn=Ve.l2p(vr[1])+Ve._offset}var nn=Math.min(ir,Kn),an=Math.max(ir,Kn),In=Ve.side,yn=1/0,Dn=-1/0;for(var $n in Ct.each(function(xr){var Qt=v.select(this);if(Qt.select(".text-math-group").empty()){var xn=a.bBox(Qt.node()),At=0;rr?(xn.right>an||xn.left<nn)&&(At=1):(xn.bottom>an||xn.top+(Ve.tickangle?0:xr.fontSize/4)<nn)&&(At=1);var Wt=Qt.select("text");At?Wn&&Wt.style("opacity",0):(Wt.style("opacity",1),yn=In==="bottom"||In==="right"?Math.min(yn,rr?xn.top:xn.left):-1/0,Dn=In==="top"||In==="left"?Math.max(Dn,rr?xn.bottom:xn.right):1/0)}}),Xe._plots){var Hn=Xe._plots[$n];if(Ve._id===Hn.xaxis._id||Ve._id===Hn.yaxis._id){var Qn=rr?Hn.yaxis:Hn.xaxis;Qn&&(Qn["_visibleLabelMin_"+Ve._id]=yn,Qn["_visibleLabelMax_"+Ve._id]=Dn)}}}},Ve._hideCounterAxisInsideTickLabels=function(Bn){var Wn=Ve._id.charAt(0)==="x",rr=[];for(var ir in Xe._plots){var Kn=Xe._plots[ir];Ve._id!==Kn.xaxis._id&&Ve._id!==Kn.yaxis._id||rr.push(Wn?Kn.yaxis:Kn.xaxis)}rr.forEach(function(vr,nn){vr&&Ke(vr)&&(Bn||[F,z,q,V,X]).forEach(function(an){var In=an.K==="tick"&&an.L==="text"&&Ve.ticklabelmode==="period",yn=Xe._plots[Ve._mainSubplot];(an.K===F.K?yn.zerolinelayer.selectAll("."+Ve._id+"zl"):an.K===z.K?yn.minorGridlayer.selectAll("."+Ve._id):an.K===q.K?yn.gridlayer.selectAll("."+Ve._id):yn[Ve._id.charAt(0)+"axislayer"]).each(function(){var Dn=v.select(this);an.L&&(Dn=Dn.selectAll(an.L)),Dn.each(function($n){var Hn=Ve.l2p(In?ut($n):$n.x)+Ve._offset,Qn=v.select(this);Hn<Ve["_visibleLabelMax_"+vr._id]&&Hn>Ve["_visibleLabelMin_"+vr._id]?Qn.style("display","none"):an.K!=="tick"||nn||Qn.style("display",null)})})})})},Dt(Ct,wt+1?wt:Lt);var Nt=null;Ve._selections&&(Ve._selections[yt]=Ct);var Xt=[function(){return Rt.length&&Promise.all(Rt)}];Ve.automargin&&Xe._redrawFromAutoMarginCount&&wt===90?(Nt=wt,Xt.push(function(){Dt(Ct,wt)})):Xt.push(function(){if(Dt(Ct,Lt),bt.length&&Ve.autotickangles&&(Ve.type!=="log"||String(Ve.dtick).charAt(0)!=="D")){Nt=Ve.autotickangles[0];var Bn,Wn=0,rr=[],ir=1;Ct.each(function(_n){Wn=Math.max(Wn,_n.fontSize);var on=Ve.l2p(_n.x),Yt=it(this),Zt=a.bBox(Yt.node());ir=Math.max(ir,s.lineCount(Yt)),rr.push({top:0,bottom:10,height:10,left:on-Zt.width/2,right:on+Zt.width/2+2,width:Zt.width+2})});var Kn=(Ve.tickson==="boundaries"||Ve.showdividers)&&!st.secondary,vr=bt.length,nn=Math.abs((bt[vr-1].x-bt[0].x)*Ve._m)/(vr-1),an=Kn?nn/2:nn,In=Kn?Ve.ticklen:1.25*Wn*ir,yn=an/Math.sqrt(Math.pow(an,2)+Math.pow(In,2)),Dn=Ve.autotickangles.map(function(_n){return _n*Math.PI/180}),$n=Dn.find(function(_n){return Math.abs(Math.cos(_n))<=yn});$n===void 0&&($n=Dn.reduce(function(_n,on){return Math.abs(Math.cos(_n))<Math.abs(Math.cos(on))?_n:on},Dn[0]));var Hn=$n*(180/Math.PI);if(Kn){var Qn=2;for(Ve.ticks&&(Qn+=Ve.tickwidth/2),Bn=0;Bn<rr.length;Bn++){var xr=bt[Bn].xbnd,Qt=rr[Bn];if(xr[0]!==null&&Qt.left-Ve.l2p(xr[0])<Qn||xr[1]!==null&&Ve.l2p(xr[1])-Qt.right<Qn){Nt=Hn;break}}}else{var xn=Ve.ticklabelposition||"",At=function(_n){return xn.indexOf(_n)!==-1},Wt=At("top"),en=At("left"),dn=At("right"),gn=At("bottom")||en||Wt||dn?(Ve.tickwidth||0)+6:0;for(Bn=0;Bn<rr.length-1;Bn++)if(g.bBoxIntersect(rr[Bn],rr[Bn+1],gn)){Nt=Hn;break}}Nt&&Dt(Ct,Nt)}}),Ve._tickAngles&&Xt.push(function(){Ve._tickAngles[yt]=Nt===null?x(Lt)?Lt:0:Nt});var un=function(){var Bn=0,Wn=0;return Ct.each(function(rr,ir){var Kn,vr=it(this);vr.select(".text-math-group").empty()&&(Ve._vals[ir]&&(Kn=Ve._vals[ir].bb||a.bBox(vr.node()),Ve._vals[ir].bb=Kn),Bn=Math.max(Bn,Kn.width),Wn=Math.max(Wn,Kn.height))}),{labelsMaxW:Bn,labelsMaxH:Wn}},qt=Ve._anchorAxis;if(qt&&(qt.autorange||qt.insiderange)&&Ke(Ve)&&!ue(Xe,Ve._id)&&(Xe._insideTickLabelsUpdaterange||(Xe._insideTickLabelsUpdaterange={}),qt.autorange&&(Xe._insideTickLabelsUpdaterange[qt._name+".autorange"]=qt.autorange,Xt.push(un)),qt.insiderange)){var Kt=un(),Ut=Ve._id.charAt(0)==="y"?Kt.labelsMaxW:Kt.labelsMaxH;Ut+=6,Ve.ticklabelposition==="inside"&&(Ut+=Ve.ticklen||0);var Rn=Ve.side==="right"||Ve.side==="top"?1:-1,An=Rn===1?1:0,mn=Rn===1?0:1,tn=[];tn[mn]=qt.range[mn];var fn=qt.range,rn=qt.r2p(fn[An]),pn=qt.r2p(fn[mn]),wn=Xe._insideTickLabelsUpdaterange[qt._name+".range"];if(wn){var kn=qt.r2p(wn[An]),Pn=qt.r2p(wn[mn]),On=Rn*(Ve._id.charAt(0)==="y"?1:-1);On*rn<On*kn&&(rn=kn,tn[An]=fn[An]=wn[An]),On*pn>On*Pn&&(pn=Pn,tn[mn]=fn[mn]=wn[mn])}var En=Math.abs(pn-rn);En-Ut>0?Ut*=1+Ut/(En-=Ut):Ut=0,Ve._id.charAt(0)!=="y"&&(Ut=-Ut),tn[An]=qt.p2r(qt.r2p(fn[An])+Rn*Ut),qt.autorange==="min"||qt.autorange==="max reversed"?(tn[0]=null,qt._rangeInitial0=void 0,qt._rangeInitial1=void 0):qt.autorange!=="max"&&qt.autorange!=="min reversed"||(tn[1]=null,qt._rangeInitial0=void 0,qt._rangeInitial1=void 0),Xe._insideTickLabelsUpdaterange[qt._name+".range"]=tn}var Vn=g.syncOrAsync(Xt);return Vn&&Vn.then&&Ue._promises.push(Vn),Vn},K.getPxPosition=function(Ue,Ve){var st,Xe=Ue._fullLayout._size,gt=Ve._id.charAt(0),yt=Ve.side;return Ve.anchor!=="free"?st=Ve._anchorAxis:gt==="x"?st={_offset:Xe.t+(1-(Ve.position||0))*Xe.h,_length:0}:gt==="y"&&(st={_offset:Xe.l+(Ve.position||0)*Xe.w+Ve._shift,_length:0}),yt==="top"||yt==="left"?st._offset:yt==="bottom"||yt==="right"?st._offset+st._length:void 0},K.shouldShowZeroLine=function(Ue,Ve,st){var Xe=g.simpleMap(Ve.range,Ve.r2l);return Xe[0]*Xe[1]<=0&&Ve.zeroline&&(Ve.type==="linear"||Ve.type==="-")&&!(Ve.rangebreaks&&Ve.maskBreaks(0)===D)&&(mt(Ve,0)||!function(gt,yt,bt,dt){var Lt=bt._mainAxis;if(Lt){var wt=gt._fullLayout,Ct=yt._id.charAt(0),Rt=K.counterLetter(yt._id),Dt=yt._offset+(Math.abs(dt[0])<Math.abs(dt[1])==(Ct==="x")?0:yt._length),Nt=wt._plots[bt._mainSubplot];if(!(Nt.mainplotinfo||Nt).overlays.length)return Kt(bt);for(var Xt=K.list(gt,Rt),un=0;un<Xt.length;un++){var qt=Xt[un];if(qt._mainAxis===Lt&&Kt(qt))return!0}}function Kt(Ut){if(!Ut.showline||!Ut.linewidth)return!1;var Rn=Math.max((Ut.linewidth+yt.zerolinewidth)/2,1);function An(fn){return typeof fn=="number"&&Math.abs(fn-Dt)<Rn}if(An(Ut._mainLinePosition)||An(Ut._mainMirrorPosition))return!0;var mn=Ut._linepositions||{};for(var tn in mn)if(An(mn[tn][0])||An(mn[tn][1]))return!0}}(Ue,Ve,st,Xe)||function(gt,yt){for(var bt=gt._fullData,dt=yt._mainSubplot,Lt=yt._id.charAt(0),wt=0;wt<bt.length;wt++){var Ct=bt[wt];if(Ct.visible===!0&&Ct.xaxis+Ct.yaxis===dt&&(b.traceIs(Ct,"bar-like")&&Ct.orientation==={x:"h",y:"v"}[Lt]||Ct.fill&&Ct.fill.charAt(Ct.fill.length-1)===Lt))return!0}return!1}(Ue,Ve))},K.clipEnds=function(Ue,Ve){return Ve.filter(function(st){return mt(Ue,st.x)})},K.allowAutoMargin=function(Ue){for(var Ve=K.list(Ue,"",!0),st=0;st<Ve.length;st++){var Xe=Ve[st];Xe.automargin&&(t.allowAutoMargin(Ue,nt(Xe)),Xe.mirror&&t.allowAutoMargin(Ue,Et(Xe))),b.getComponentMethod("rangeslider","isVisible")(Xe)&&t.allowAutoMargin(Ue,zt(Xe))}},K.swap=function(Ue,Ve){for(var st=function(gt,yt){var bt,dt,Lt=[];for(bt=0;bt<yt.length;bt++){var wt=[],Ct=gt._fullData[yt[bt]].xaxis,Rt=gt._fullData[yt[bt]].yaxis;if(Ct&&Rt){for(dt=0;dt<Lt.length;dt++)Lt[dt].x.indexOf(Ct)===-1&&Lt[dt].y.indexOf(Rt)===-1||wt.push(dt);if(wt.length){var Dt,Nt=Lt[wt[0]];if(wt.length>1)for(dt=1;dt<wt.length;dt++)Dt=Lt[wt[dt]],Ft(Nt.x,Dt.x),Ft(Nt.y,Dt.y);Ft(Nt.x,[Ct]),Ft(Nt.y,[Rt])}else Lt.push({x:[Ct],y:[Rt]})}}return Lt}(Ue,Ve),Xe=0;Xe<st.length;Xe++)Pt(Ue,st[Xe].x,st[Xe].y)}},52976:function(O,S,e){var v=e(38248),x=e(3400),t=e(39032).BADNUM,b=x.isArrayOrTypedArray,g=x.isDateTime,c=x.cleanNumber,s=Math.round;function n(a,r){return r?v(a):typeof a=="number"}function i(a){return Math.max(1,(a-1)/1e3)}O.exports=function(a,r,o){var l=a,u=o.noMultiCategory;if(b(l)&&!l.length)return"-";if(!u&&function(y){return b(y[0])&&b(y[1])}(l))return"multicategory";if(u&&Array.isArray(l[0])){for(var h=[],f=0;f<l.length;f++)if(b(l[f]))for(var T=0;T<l[f].length;T++)h.push(l[f][T]);l=h}if(function(y,m){for(var w=y.length,_=i(w),A=0,p=0,L={},M=0;M<w;M+=_){var C=y[s(M)],R=String(C);L[R]||(L[R]=1,g(C,m)&&A++,v(C)&&p++)}return A>2*p}(l,r))return"date";var d=o.autotypenumbers!=="strict";return function(y,m){for(var w=y.length,_=i(w),A=0,p=0,L={},M=0;M<w;M+=_){var C=y[s(M)],R=String(C);if(!L[R]){L[R]=1;var I=typeof C;I==="boolean"?p++:(m?c(C)!==t:I==="number")?A++:I==="string"&&p++}}return p>2*A}(l,d)?"category":function(y,m){for(var w=y.length,_=0;_<w;_++)if(n(y[_],m))return!0;return!1}(l,d)?"linear":"-"}},28336:function(O,S,e){var v=e(38248),x=e(24040),t=e(3400),b=e(31780),g=e(51272),c=e(94724),s=e(26332),n=e(25404),i=e(95936),a=e(42568),r=e(22416),o=e(42136),l=e(96312),u=e(78344),h=e(33816).WEEKDAY_PATTERN,f=e(33816).HOUR_PATTERN;function T(m,w,_){function A(F,q){return t.coerce(m,w,c.rangebreaks,F,q)}if(A("enabled")){var p=A("bounds");if(p&&p.length>=2){var L,M,C="";if(p.length===2){for(L=0;L<2;L++)if(M=y(p[L])){C=h;break}}var R=A("pattern",C);if(R===h)for(L=0;L<2;L++)(M=y(p[L]))&&(w.bounds[L]=p[L]=M-1);if(R)for(L=0;L<2;L++)switch(M=p[L],R){case h:if(!v(M)||(M=+M)!==Math.floor(M)||M<0||M>=7)return void(w.enabled=!1);w.bounds[L]=p[L]=M;break;case f:if(!v(M)||(M=+M)<0||M>24)return void(w.enabled=!1);w.bounds[L]=p[L]=M}if(_.autorange===!1){var I=_.range;if(I[0]<I[1]){if(p[0]<I[0]&&p[1]>I[1])return void(w.enabled=!1)}else if(p[0]>I[0]&&p[1]<I[1])return void(w.enabled=!1)}}else{var D=A("values");if(!D||!D.length)return void(w.enabled=!1);A("dvalue")}}}O.exports=function(m,w,_,A,p){var L,M=A.letter,C=A.font||{},R=A.splomStash||{},I=_("visible",!A.visibleDflt),D=w._template||{},F=w.type||D.type||"-";F==="date"&&(x.getComponentMethod("calendars","handleDefaults")(m,w,"calendar",A.calendar),A.noTicklabelmode||(L=_("ticklabelmode")));var q="";A.noTicklabelposition&&F!=="multicategory"||(q=t.coerce(m,w,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:L==="period"?["outside","inside"]:M==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),A.noTicklabeloverflow||_("ticklabeloverflow",q.indexOf("inside")!==-1?"hide past domain":F==="category"||F==="multicategory"?"allow":"hide past div"),u(w,p),l(m,w,_,A),r(m,w,_,A),F==="category"||A.noHover||_("hoverformat");var z=_("color"),V=z!==c.color.dflt?z:C.color,X=R.label||p._dfltTitle[M];if(a(m,w,_,F,A),!I)return w;_("title.text",X),t.coerceFont(_,"title.font",C,{overrideDflt:{size:t.bigFont(C.size),color:V}}),s(m,w,_,F);var j=A.hasMinor;if(j&&(b.newContainer(w,"minor"),s(m,w,_,F,{isMinor:!0})),i(m,w,_,F,A),n(m,w,_,A),j){var H=A.isMinor;A.isMinor=!0,n(m,w,_,A),A.isMinor=H}o(m,w,_,{dfltColor:z,bgColor:A.bgColor,showGrid:A.showGrid,hasMinor:j,attributes:c}),!j||w.minor.ticks||w.minor.showgrid||delete w.minor,(w.showline||w.ticks)&&_("mirror");var G,ie=F==="multicategory";if(A.noTickson||F!=="category"&&!ie||!w.ticks&&!w.showgrid||(ie&&(G="boundaries"),_("tickson",G)==="boundaries"&&delete w.ticklabelposition),ie&&_("showdividers")&&(_("dividercolor"),_("dividerwidth")),F==="date")if(g(m,w,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:T}),w.rangebreaks.length){for(var re=0;re<w.rangebreaks.length;re++)if(w.rangebreaks[re].pattern===h){w._hasDayOfWeekBreaks=!0;break}if(u(w,p),p._has("scattergl")||p._has("splom"))for(var te=0;te<A.data.length;te++){var K=A.data[te];K.type!=="scattergl"&&K.type!=="splom"||(K.visible=!1,t.warn(K.type+" traces do not work on axes with rangebreaks. Setting trace "+K.index+" to `visible: false`."))}}else delete w.rangebreaks;return w};var d={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function y(m){if(typeof m=="string")return d[m.substr(0,3).toLowerCase()]}},29736:function(O,S,e){var v=e(26880),x=v.FORMAT_LINK,t=v.DATE_FORMAT_LINK;function b(c,s){return["Sets the "+c+" formatting rule"+(s?"for `"+s+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+x+"."].join(" ")}function g(c,s){return b(c,s)+[" And for dates see: "+t+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}O.exports={axisHoverFormat:function(c,s){return{valType:"string",dflt:"",editType:"none",description:(s?b:g)("hover text",c)+["By default the values are formatted using "+(s?"generic number format":"`"+c+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:b,descriptionWithDates:g}},79811:function(O,S,e){var v=e(24040),x=e(33816);function t(b,g){if(g&&g.length){for(var c=0;c<g.length;c++)if(g[c][b])return!0}return!1}S.id2name=function(b){if(typeof b=="string"&&b.match(x.AX_ID_PATTERN)){var g=b.split(" ")[0].substr(1);return g==="1"&&(g=""),b.charAt(0)+"axis"+g}},S.name2id=function(b){if(b.match(x.AX_NAME_PATTERN)){var g=b.substr(5);return g==="1"&&(g=""),b.charAt(0)+g}},S.cleanId=function(b,g,c){var s=/( domain)$/.test(b);if(typeof b=="string"&&b.match(x.AX_ID_PATTERN)&&(!g||b.charAt(0)===g)&&(!s||c)){var n=b.split(" ")[0].substr(1).replace(/^0+/,"");return n==="1"&&(n=""),b.charAt(0)+n+(s&&c?" domain":"")}},S.list=function(b,g,c){var s=b._fullLayout;if(!s)return[];var n,i=S.listIds(b,g),a=new Array(i.length);for(n=0;n<i.length;n++){var r=i[n];a[n]=s[r.charAt(0)+"axis"+r.substr(1)]}if(!c){var o=s._subplots.gl3d||[];for(n=0;n<o.length;n++){var l=s[o[n]];g?a.push(l[g+"axis"]):a.push(l.xaxis,l.yaxis,l.zaxis)}}return a},S.listIds=function(b,g){var c=b._fullLayout;if(!c)return[];var s=c._subplots;return g?s[g+"axis"]:s.xaxis.concat(s.yaxis)},S.getFromId=function(b,g,c){var s=b._fullLayout;return g=g===void 0||typeof g!="string"?g:g.replace(" domain",""),c==="x"?g=g.replace(/y[0-9]*/,""):c==="y"&&(g=g.replace(/x[0-9]*/,"")),s[S.id2name(g)]},S.getFromTrace=function(b,g,c){var s=b._fullLayout,n=null;if(v.traceIs(g,"gl3d")){var i=g.scene;i.substr(0,5)==="scene"&&(n=s[i][c+"axis"])}else n=S.getFromId(b,g[c+"axis"]||c);return n},S.idSort=function(b,g){var c=b.charAt(0),s=g.charAt(0);return c!==s?c>s?1:-1:+(b.substr(1)||1)-+(g.substr(1)||1)},S.ref2id=function(b){return!!/^[xyz]/.test(b)&&b.split(" ")[0]},S.isLinked=function(b,g){return t(g,b._axisMatchGroups)||t(g,b._axisConstraintGroups)}},22416:function(O,S,e){var v=e(38116).isTypedArraySpec;O.exports=function(x,t,b,g){if(t.type==="category"){var c,s=x.categoryarray,n=Array.isArray(s)&&s.length>0||v(s);n&&(c="array");var i,a=b("categoryorder",c);a==="array"&&(i=b("categoryarray")),n||a!=="array"||(a=t.categoryorder="trace"),a==="trace"?t._initialCategories=[]:a==="array"?t._initialCategories=i.slice():(i=function(r,o){var l,u,h,f=o.dataAttr||r._id.charAt(0),T={};if(o.axData)l=o.axData;else for(l=[],u=0;u<o.data.length;u++){var d=o.data[u];d[f+"axis"]===r._id&&l.push(d)}for(u=0;u<l.length;u++){var y=l[u][f];for(h=0;h<y.length;h++){var m=y[h];m!=null&&(T[m]=1)}}return Object.keys(T)}(t,g).sort(),a==="category ascending"?t._initialCategories=i:a==="category descending"&&(t._initialCategories=i.reverse()))}}},98728:function(O,S,e){var v=e(38248),x=e(3400),t=e(39032),b=t.ONEDAY,g=t.ONEWEEK;S.dtick=function(c,s){var n=s==="log",i=s==="date",a=s==="category",r=i?b:1;if(!c)return r;if(v(c))return(c=Number(c))<=0?r:a?Math.max(1,Math.round(c)):i?Math.max(.1,c):c;if(typeof c!="string"||!i&&!n)return r;var o=c.charAt(0),l=c.substr(1);return(l=v(l)?Number(l):0)<=0||!(i&&o==="M"&&l===Math.round(l)||n&&o==="L"||n&&o==="D"&&(l===1||l===2))?r:c},S.tick0=function(c,s,n,i){return s==="date"?x.cleanDate(c,x.dateTick0(n,i%g==0?1:0)):i!=="D1"&&i!=="D2"?v(c)?Number(c):0:void 0}},33816:function(O,S,e){var v=e(53756).counter;O.exports={idRegex:{x:v("x","( domain)?"),y:v("y","( domain)?")},attrRegex:v("[xy]axis"),xAxisMatch:v("xaxis"),yAxisMatch:v("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},71888:function(O,S,e){var v=e(3400),x=e(19280),t=e(79811).id2name,b=e(94724),g=e(21160),c=e(78344),s=e(39032).ALMOST_EQUAL,n=e(84284).FROM_BL;function i(f,T,d){var y=d.axIds,m=d.layoutOut,w=d.hasImage,_=m._axisConstraintGroups,A=m._axisMatchGroups,p=T._id,L=p.charAt(0),M=((m._splomAxes||{})[L]||{})[p]||{},C=T._id,R=C.charAt(0)==="x";function I(J,$){return v.coerce(f,T,b,J,$)}T._matchGroup=null,T._constraintGroup=null,I("constrain",w?"domain":"range"),v.coerce(f,T,{constraintoward:{valType:"enumerated",values:R?["left","center","right"]:["bottom","middle","top"],dflt:R?"center":"middle"}},"constraintoward");var D,F,q=T.type,z=[];for(D=0;D<y.length;D++)(F=y[D])!==C&&m[t(F)].type===q&&z.push(F);var V=r(_,C);if(V){var X=[];for(D=0;D<z.length;D++)V[F=z[D]]||X.push(F);z=X}var j,H,G=z.length;G&&(f.matches||M.matches)&&(j=v.coerce(f,T,{matches:{valType:"enumerated",values:z,dflt:z.indexOf(M.matches)!==-1?M.matches:void 0}},"matches"));var ie=w&&!R?T.anchor:void 0;if(G&&!j&&(f.scaleanchor||ie)&&(H=v.coerce(f,T,{scaleanchor:{valType:"enumerated",values:z.concat([!1])}},"scaleanchor",ie)),j){T._matchGroup=o(A,C,j,1);var re=m[t(j)],te=a(m,T)/a(m,re);R!==(j.charAt(0)==="x")&&(te=(R?"x":"y")+te),o(_,C,j,te)}else f.matches&&y.indexOf(f.matches)!==-1&&v.warn("ignored "+T._name+'.matches: "'+f.matches+'" to avoid an infinite loop');if(H){var K=I("scaleratio");K||(K=T.scaleratio=1),o(_,C,H,K)}else f.scaleanchor&&y.indexOf(f.scaleanchor)!==-1&&v.warn("ignored "+T._name+'.scaleanchor: "'+f.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function a(f,T){var d=T.domain;return d||(d=f[t(T.overlaying)].domain),d[1]-d[0]}function r(f,T){for(var d=0;d<f.length;d++)if(f[d][T])return f[d];return null}function o(f,T,d,y){var m,w,_,A,p,L=r(f,T);L===null?((L={})[T]=1,p=f.length,f.push(L)):p=f.indexOf(L);var M=Object.keys(L);for(m=0;m<f.length;m++)if(_=f[m],m!==p&&_[d]){var C=_[d];for(w=0;w<M.length;w++)_[A=M[w]]=l(C,l(y,L[A]));return void f.splice(p,1)}if(y!==1)for(w=0;w<M.length;w++){var R=M[w];L[R]=l(y,L[R])}L[d]=1}function l(f,T){var d,y,m="",w="";typeof f=="string"&&(d=(m=f.match(/^[xy]*/)[0]).length,f=+f.substr(d)),typeof T=="string"&&(y=(w=T.match(/^[xy]*/)[0]).length,T=+T.substr(y));var _=f*T;return d||y?d&&y&&m.charAt(0)!==w.charAt(0)?d===y?_:(d>y?m.substr(y):w.substr(d))+_:m+w+f*T:_}function u(f,T){for(var d=T._size,y=d.h/d.w,m={},w=Object.keys(f),_=0;_<w.length;_++){var A=w[_],p=f[A];if(typeof p=="string"){var L=p.match(/^[xy]*/)[0],M=L.length;p=+p.substr(M);for(var C=L.charAt(0)==="y"?y:1/y,R=0;R<M;R++)p*=C}m[A]=p}return m}function h(f,T){var d=f._inputDomain,y=n[f.constraintoward],m=d[0]+(d[1]-d[0])*y;f.domain=f._input.domain=[m+(d[0]-m)/T,m+(d[1]-m)/T],f.setScale()}S.handleDefaults=function(f,T,d){var y,m,w,_,A,p,L,M,C=d.axIds,R=d.axHasImage,I=T._axisConstraintGroups=[],D=T._axisMatchGroups=[];for(y=0;y<C.length;y++)i(A=f[_=t(C[y])],p=T[_],{axIds:C,layoutOut:T,hasImage:R[_]});function F(re,te){for(y=0;y<re.length;y++)for(w in m=re[y])T[t(w)][te]=m}for(F(D,"_matchGroup"),y=0;y<I.length;y++)for(w in m=I[y])if((p=T[t(w)]).fixedrange){for(var q in m){var z=t(q);(f[z]||{}).fixedrange===!1&&v.warn("fixedrange was specified as false for axis "+z+" but was overridden because another axis in its constraint group has fixedrange true"),T[z].fixedrange=!0}break}for(y=0;y<I.length;){for(w in m=I[y]){(p=T[t(w)])._matchGroup&&Object.keys(p._matchGroup).length===Object.keys(m).length&&(I.splice(y,1),y--);break}y++}F(I,"_constraintGroup");var V=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],X=!1,j=!1;function H(){M=p[L],L==="rangebreaks"&&(j=p._hasDayOfWeekBreaks)}for(y=0;y<D.length;y++){m=D[y];for(var G=0;G<V.length;G++){var ie;for(w in L=V[G],M=null,m)if(A=f[_=t(w)],p=T[_],L in p){if(!p.matches&&(ie=p,L in A)){H();break}M===null&&L in A&&H()}if(L==="range"&&M&&A.range&&A.range.length===2&&A.range[0]!==null&&A.range[1]!==null&&(X=!0),L==="autorange"&&M===null&&X&&(M=!1),M===null&&L in ie&&(M=ie[L]),M!==null)for(w in m)(p=T[t(w)])[L]=L==="range"?M.slice():M,L==="rangebreaks"&&(p._hasDayOfWeekBreaks=j,c(p,T))}}},S.enforce=function(f){var T,d,y,m,w,_,A,p,L=f._fullLayout,M=L._axisConstraintGroups||[];for(T=0;T<M.length;T++){y=u(M[T],L);var C=Object.keys(y),R=1/0,I=0,D=1/0,F={},q={},z=!1;for(d=0;d<C.length;d++)q[m=C[d]]=w=L[t(m)],w._inputDomain?w.domain=w._inputDomain.slice():w._inputDomain=w.domain.slice(),w._inputRange||(w._inputRange=w.range.slice()),w.setScale(),F[m]=_=Math.abs(w._m)/y[m],R=Math.min(R,_),w.constrain!=="domain"&&w._constraintShrinkable||(D=Math.min(D,_)),delete w._constraintShrinkable,I=Math.max(I,_),w.constrain==="domain"&&(z=!0);if(!(R>s*I)||z){for(d=0;d<C.length;d++)if(_=F[m=C[d]],A=(w=q[m]).constrain,_!==D||A==="domain")if(p=_/D,A==="range")g(w,p);else{var V=w._inputDomain,X=(w.domain[1]-w.domain[0])/(V[1]-V[0]),j=(w.r2l(w.range[1])-w.r2l(w.range[0]))/(w.r2l(w._inputRange[1])-w.r2l(w._inputRange[0]));if((p/=X)*j<1){w.domain=w._input.domain=V.slice(),g(w,p);continue}if(j<1&&(w.range=w._input.range=w._inputRange.slice(),p*=j),w.autorange){var H=w.r2l(w.range[0]),G=w.r2l(w.range[1]),ie=(H+G)/2,re=ie,te=ie,K=Math.abs(G-ie),J=ie-K*p*1.0001,$=ie+K*p*1.0001,ae=x.makePadFn(L,w,0),ue=x.makePadFn(L,w,1);h(w,p);var ce,de,pe=Math.abs(w._m),me=x.concatExtremes(f,w),be=me.min,we=me.max;for(de=0;de<be.length;de++)(ce=be[de].val-ae(be[de])/pe)>J&&ce<re&&(re=ce);for(de=0;de<we.length;de++)(ce=we[de].val+ue(we[de])/pe)<$&&ce>te&&(te=ce);p/=(te-re)/(2*K),re=w.l2r(re),te=w.l2r(te),w.range=w._input.range=H<G?[re,te]:[te,re]}h(w,p)}}}},S.getAxisGroup=function(f,T){for(var d=f._axisMatchGroups,y=0;y<d.length;y++)if(d[y][T])return"g"+y;return T},S.clean=function(f,T){if(T._inputDomain){for(var d=!1,y=T._id,m=f._fullLayout._axisConstraintGroups,w=0;w<m.length;w++)if(m[w][y]){d=!0;break}d&&T.constrain==="domain"||(T._input.domain=T.domain=T._inputDomain,delete T._inputDomain)}}},51184:function(O,S,e){var v=e(33428),x=e(3400),t=x.numberFormat,b=e(49760),g=e(89184),c=e(24040),s=x.strTranslate,n=e(72736),i=e(76308),a=e(43616),r=e(93024),o=e(54460),l=e(93972),u=e(86476),h=e(72760),f=h.selectingOrDrawing,T=h.freeMode,d=e(84284).FROM_TL,y=e(73696),m=e(39172).redrawReglTraces,w=e(7316),_=e(79811).getFromId,A=e(22676).prepSelect,p=e(22676).clearOutline,L=e(22676).selectOnClick,M=e(21160),C=e(33816),R=C.MINDRAG,I=C.MINZOOM,D=!0;function F(ce,de,pe,me){var be=x.ensureSingle(ce.draglayer,de,pe,function(we){we.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",ce.id)});return be.call(l,me),be.node()}function q(ce,de,pe,me,be,we,Te){var Le=F(ce,"rect",de,pe);return v.select(Le).call(a.setRect,me,be,we,Te),Le}function z(ce,de){for(var pe=0;pe<ce.length;pe++)if(!ce[pe].fixedrange)return de;return""}function V(ce,de,pe,me,be){for(var we=0;we<ce.length;we++){var Te=ce[we];if(!Te.fixedrange)if(Te.rangebreaks){var Le=Te._id.charAt(0)==="y",Ie=Le?1-de:de,_e=Le?1-pe:pe;me[Te._name+".range[0]"]=Te.l2r(Te.p2l(Ie*Te._length)),me[Te._name+".range[1]"]=Te.l2r(Te.p2l(_e*Te._length))}else{var fe=Te._rl[0],le=Te._rl[1]-fe;me[Te._name+".range[0]"]=Te.l2r(fe+le*de),me[Te._name+".range[1]"]=Te.l2r(fe+le*pe)}}if(be&&be.length){var ye=(de+(1-pe))/2;V(be,ye,1-ye,me,[])}}function X(ce,de){for(var pe=0;pe<ce.length;pe++){var me=ce[pe];if(!me.fixedrange){if(me.rangebreaks){var be=me._length,we=(me.p2l(0+de)-me.p2l(0)+(me.p2l(be+de)-me.p2l(be)))/2;me.range=[me.l2r(me._rl[0]-we),me.l2r(me._rl[1]-we)]}else me.range=[me.l2r(me._rl[0]-de/me._m),me.l2r(me._rl[1]-de/me._m)];me.limitRange&&me.limitRange()}}}function j(ce){return 1-(ce>=0?Math.min(ce,.9):1/(1/Math.max(ce,-.3)+3.222))}function H(ce,de,pe,me,be){return ce.append("path").attr("class","zoombox").style({fill:de>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",s(pe,me)).attr("d",be+"Z")}function G(ce,de,pe){return ce.append("path").attr("class","zoombox-corners").style({fill:i.background,stroke:i.defaultLine,"stroke-width":1,opacity:0}).attr("transform",s(de,pe)).attr("d","M0,0Z")}function ie(ce,de,pe,me,be,we){ce.attr("d",me+"M"+pe.l+","+pe.t+"v"+pe.h+"h"+pe.w+"v-"+pe.h+"h-"+pe.w+"Z"),re(ce,de,be,we)}function re(ce,de,pe,me){pe||(ce.transition().style("fill",me>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),de.transition().style("opacity",1).duration(200))}function te(ce){v.select(ce).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function K(ce){D&&ce.data&&ce._context.showTips&&(x.notifier(x._(ce,"Double-click to zoom back out"),"long"),D=!1)}function J(ce){var de=Math.floor(Math.min(ce.b-ce.t,ce.r-ce.l,I)/2);return"M"+(ce.l-3.5)+","+(ce.t-.5+de)+"h3v"+-de+"h"+de+"v-3h-"+(de+3)+"ZM"+(ce.r+3.5)+","+(ce.t-.5+de)+"h-3v"+-de+"h"+-de+"v-3h"+(de+3)+"ZM"+(ce.r+3.5)+","+(ce.b+.5-de)+"h-3v"+de+"h"+-de+"v3h"+(de+3)+"ZM"+(ce.l-3.5)+","+(ce.b+.5-de)+"h3v"+de+"h"+de+"v3h-"+(de+3)+"Z"}function $(ce,de,pe,me,be){for(var we,Te,Le,Ie,_e=!1,fe={},le={},ye=(be||{}).xaHash,Oe=(be||{}).yaHash,Ae=0;Ae<de.length;Ae++){var Se=de[Ae];for(we in pe)if(Se[we]){for(Le in Se)be&&(ye[Le]||Oe[Le])||(Le.charAt(0)==="x"?pe:me)[Le]||(fe[Le]=we);for(Te in me)be&&(ye[Te]||Oe[Te])||!Se[Te]||(_e=!0)}for(Te in me)if(Se[Te])for(Ie in Se)be&&(ye[Ie]||Oe[Ie])||(Ie.charAt(0)==="x"?pe:me)[Ie]||(le[Ie]=Te)}_e&&(x.extendFlat(fe,le),le={});var Pe={},Fe=[];for(Le in fe){var Be=_(ce,Le);Fe.push(Be),Pe[Be._id]=Be}var xe={},Me=[];for(Ie in le){var Ce=_(ce,Ie);Me.push(Ce),xe[Ce._id]=Ce}return{xaHash:Pe,yaHash:xe,xaxes:Fe,yaxes:Me,xLinks:fe,yLinks:le,isSubplotConstrained:_e}}function ae(ce,de){if(g){var pe=ce.onwheel!==void 0?"wheel":"mousewheel";ce._onwheel&&ce.removeEventListener(pe,ce._onwheel),ce._onwheel=de,ce.addEventListener(pe,de,{passive:!1})}else ce.onwheel!==void 0?ce.onwheel=de:ce.onmousewheel!==void 0?ce.onmousewheel=de:ce.isAddedWheelEvent||(ce.isAddedWheelEvent=!0,ce.addEventListener("wheel",de,{passive:!1}))}function ue(ce){var de=[];for(var pe in ce)de.push(ce[pe]);return de}O.exports={makeDragBox:function(ce,de,pe,me,be,we,Te,Le){var Ie,_e,fe,le,ye,Oe,Ae,Se,Pe,Fe,Be,xe,Me,Ce,Ne,Re,He,Ye,Qe,lt,ut,xt,_t,mt=ce._fullLayout._zoomlayer,it=Te+Le==="nsew",nt=(Te+Le).length===1;function Et(){if(Ie=de.xaxis,_e=de.yaxis,Pe=Ie._length,Fe=_e._length,Ae=Ie._offset,Se=_e._offset,(fe={})[Ie._id]=Ie,(le={})[_e._id]=_e,Te&&Le)for(var tn=de.overlays,fn=0;fn<tn.length;fn++){var rn=tn[fn].xaxis;fe[rn._id]=rn;var pn=tn[fn].yaxis;le[pn._id]=pn}ye=ue(fe),Oe=ue(le),Me=z(ye,Le),Ce=z(Oe,Te),Ne=!Ce&&!Me,xe=$(ce,ce._fullLayout._axisMatchGroups,fe,le);var wn=(Be=$(ce,ce._fullLayout._axisConstraintGroups,fe,le,xe)).isSubplotConstrained||xe.isSubplotConstrained;Re=Le||wn,He=Te||wn;var kn=ce._fullLayout;Ye=kn._has("scattergl"),Qe=kn._has("splom"),lt=kn._has("svg")}pe+=de.yaxis._shift,Et();var zt=function(tn,fn,rn){return tn?tn==="nsew"?rn?"":fn==="pan"?"move":"crosshair":tn.toLowerCase()+"-resize":"pointer"}(Ce+Me,ce._fullLayout.dragmode,it),Ft=q(de,Te+Le+"drag",zt,pe,me,be,we);if(Ne&&!it)return Ft.onmousedown=null,Ft.style.pointerEvents="none",Ft;var Pt,Ze,Je,qe,Ke,ft,ot,Ue,Ve,st,Xe={element:Ft,gd:ce,plotinfo:de};function gt(){Xe.plotinfo.selection=!1,p(ce)}function yt(tn,fn){var rn=Xe.gd;if(rn._fullLayout._activeShapeIndex>=0)rn._fullLayout._deactivateShape(rn);else{var pn=rn._fullLayout.clickmode;if(te(rn),tn!==2||nt||qt(),it)pn.indexOf("select")>-1&&L(fn,rn,ye,Oe,de.id,Xe),pn.indexOf("event")>-1&&r.click(rn,fn,de.id);else if(tn===1&&nt){var wn=Te?_e:Ie,kn=Te==="s"||Le==="w"?0:1,Pn=wn._name+".range["+kn+"]",On=function(Bn,Wn){var rr,ir=Bn.range[Wn],Kn=Math.abs(ir-Bn.range[1-Wn]);return Bn.type==="date"?ir:Bn.type==="log"?(rr=Math.ceil(Math.max(0,-Math.log(Kn)/Math.LN10))+3,t("."+rr+"g")(Math.pow(10,ir))):(rr=Math.floor(Math.log(Math.abs(ir))/Math.LN10)-Math.floor(Math.log(Kn)/Math.LN10)+4,t("."+String(rr)+"g")(ir))}(wn,kn),En="left",Vn="middle";if(wn.fixedrange)return;Te?(Vn=Te==="n"?"top":"bottom",wn.side==="right"&&(En="right")):Le==="e"&&(En="right"),rn._context.showAxisRangeEntryBoxes&&v.select(Ft).call(n.makeEditable,{gd:rn,immediate:!0,background:rn._fullLayout.paper_bgcolor,text:String(On),fill:wn.tickfont?wn.tickfont.color:"#444",horizontalAlign:En,verticalAlign:Vn}).on("edit",function(Bn){var Wn=wn.d2r(Bn);Wn!==void 0&&c.call("_guiRelayout",rn,Pn,Wn)})}}}function bt(tn,fn){if(ce._transitioningWithDuration)return!1;var rn=Math.max(0,Math.min(Pe,xt*tn+Pt)),pn=Math.max(0,Math.min(Fe,_t*fn+Ze)),wn=Math.abs(rn-Pt),kn=Math.abs(pn-Ze);function Pn(){ot="",Je.r=Je.l,Je.t=Je.b,Ve.attr("d","M0,0Z")}if(Je.l=Math.min(Pt,rn),Je.r=Math.max(Pt,rn),Je.t=Math.min(Ze,pn),Je.b=Math.max(Ze,pn),Be.isSubplotConstrained)wn>I||kn>I?(ot="xy",wn/Pe>kn/Fe?(kn=wn*Fe/Pe,Ze>pn?Je.t=Ze-kn:Je.b=Ze+kn):(wn=kn*Pe/Fe,Pt>rn?Je.l=Pt-wn:Je.r=Pt+wn),Ve.attr("d",J(Je))):Pn();else if(xe.isSubplotConstrained)if(wn>I||kn>I){ot="xy";var On=Math.min(Je.l/Pe,(Fe-Je.b)/Fe),En=Math.max(Je.r/Pe,(Fe-Je.t)/Fe);Je.l=On*Pe,Je.r=En*Pe,Je.b=(1-On)*Fe,Je.t=(1-En)*Fe,Ve.attr("d",J(Je))}else Pn();else!Ce||kn<Math.min(Math.max(.6*wn,R),I)?wn<R||!Me?Pn():(Je.t=0,Je.b=Fe,ot="x",Ve.attr("d",function(Vn,Bn){return"M"+(Vn.l-.5)+","+(Bn-I-.5)+"h-3v"+(2*I+1)+"h3ZM"+(Vn.r+.5)+","+(Bn-I-.5)+"h3v"+(2*I+1)+"h-3Z"}(Je,Ze))):!Me||wn<Math.min(.6*kn,I)?(Je.l=0,Je.r=Pe,ot="y",Ve.attr("d",function(Vn,Bn){return"M"+(Bn-I-.5)+","+(Vn.t-.5)+"v-3h"+(2*I+1)+"v3ZM"+(Bn-I-.5)+","+(Vn.b+.5)+"v3h"+(2*I+1)+"v-3Z"}(Je,Pt))):(ot="xy",Ve.attr("d",J(Je)));Je.w=Je.r-Je.l,Je.h=Je.b-Je.t,ot&&(st=!0),ce._dragged=st,ie(Ue,Ve,Je,Ke,ft,qe),dt(),ce.emit("plotly_relayouting",ut),ft=!0}function dt(){ut={},ot!=="xy"&&ot!=="x"||(V(ye,Je.l/Pe,Je.r/Pe,ut,Be.xaxes),Xt("x",ut)),ot!=="xy"&&ot!=="y"||(V(Oe,(Fe-Je.b)/Fe,(Fe-Je.t)/Fe,ut,Be.yaxes),Xt("y",ut))}function Lt(){dt(),te(ce),Kt(),K(ce)}Xe.prepFn=function(tn,fn,rn){var pn=Xe.dragmode,wn=ce._fullLayout.dragmode;wn!==pn&&(Xe.dragmode=wn),Et(),xt=ce._fullLayout._invScaleX,_t=ce._fullLayout._invScaleY,Ne||(it?tn.shiftKey?wn==="pan"?wn="zoom":f(wn)||(wn="pan"):tn.ctrlKey&&(wn="pan"):wn="pan"),T(wn)?Xe.minDrag=1:Xe.minDrag=void 0,f(wn)?(Xe.xaxes=ye,Xe.yaxes=Oe,A(tn,fn,rn,Xe,wn)):(Xe.clickFn=yt,f(pn)&&gt(),Ne||(wn==="zoom"?(Xe.moveFn=bt,Xe.doneFn=Lt,Xe.minDrag=1,function(kn,Pn,On){var En=Ft.getBoundingClientRect();Pt=Pn-En.left,Ze=On-En.top,ce._fullLayout._calcInverseTransform(ce);var Vn=x.apply3DTransform(ce._fullLayout._invTransform)(Pt,Ze);Pt=Vn[0],Ze=Vn[1],Je={l:Pt,r:Pt,w:0,t:Ze,b:Ze,h:0},qe=ce._hmpixcount?ce._hmlumcount/ce._hmpixcount:b(ce._fullLayout.plot_bgcolor).getLuminance(),ft=!1,ot="xy",st=!1,Ue=H(mt,qe,Ae,Se,Ke="M0,0H"+Pe+"V"+Fe+"H0V0"),Ve=G(mt,Ae,Se)}(0,fn,rn)):wn==="pan"&&(Xe.moveFn=Nt,Xe.doneFn=Kt))),ce._fullLayout._redrag=function(){var kn=ce._dragdata;if(kn&&kn.element===Ft){var Pn=ce._fullLayout.dragmode;f(Pn)||(Et(),Ut([0,0,Pe,Fe]),Xe.moveFn(kn.dx,kn.dy))}}},u.init(Xe);var wt=[0,0,Pe,Fe],Ct=null,Rt=C.REDRAWDELAY,Dt=de.mainplot?ce._fullLayout._plots[de.mainplot]:de;function Nt(tn,fn){if(tn*=xt,fn*=_t,!ce._transitioningWithDuration){if(ce._fullLayout._replotting=!0,Me==="ew"||Ce==="ns"){var rn=Me?-tn:0,pn=Ce?-fn:0;if(xe.isSubplotConstrained){if(Me&&Ce){var wn=(tn/Pe-fn/Fe)/2;rn=-(tn=wn*Pe),pn=-(fn=-wn*Fe)}Ce?rn=-pn*Pe/Fe:pn=-rn*Fe/Pe}return Me&&(X(ye,tn),Xt("x")),Ce&&(X(Oe,fn),Xt("y")),Ut([rn,pn,Pe,Fe]),un(),void ce.emit("plotly_relayouting",ut)}var kn,Pn,On=Me==="w"==(Ce==="n")?1:-1;if(Me&&Ce&&(Be.isSubplotConstrained||xe.isSubplotConstrained)){var En=(tn/Pe+On*fn/Fe)/2;tn=En*Pe,fn=On*En*Fe}if(Me==="w"?tn=rr(ye,0,tn):Me==="e"?tn=rr(ye,1,-tn):Me||(tn=0),Ce==="n"?fn=rr(Oe,1,fn):Ce==="s"?fn=rr(Oe,0,-fn):Ce||(fn=0),kn=Me==="w"?tn:0,Pn=Ce==="n"?fn:0,Be.isSubplotConstrained&&!xe.isSubplotConstrained||xe.isSubplotConstrained&&Me&&Ce&&On>0){var Vn;if(xe.isSubplotConstrained||!Me&&Ce.length===1){for(Vn=0;Vn<ye.length;Vn++)ye[Vn].range=ye[Vn]._r.slice(),M(ye[Vn],1-fn/Fe);kn=(tn=fn*Pe/Fe)/2}if(xe.isSubplotConstrained||!Ce&&Me.length===1){for(Vn=0;Vn<Oe.length;Vn++)Oe[Vn].range=Oe[Vn]._r.slice(),M(Oe[Vn],1-tn/Pe);Pn=(fn=tn*Fe/Pe)/2}}xe.isSubplotConstrained&&Ce||Xt("x"),xe.isSubplotConstrained&&Me||Xt("y");var Bn=Pe-tn,Wn=Fe-fn;!xe.isSubplotConstrained||Me&&Ce||(Me?(Pn=kn?0:tn*Fe/Pe,Wn=Bn*Fe/Pe):(kn=Pn?0:fn*Pe/Fe,Bn=Wn*Pe/Fe)),Ut([kn,Pn,Bn,Wn]),un(),ce.emit("plotly_relayouting",ut)}function rr(ir,Kn,vr){for(var nn,an,In=1-Kn,yn=0;yn<ir.length;yn++){var Dn=ir[yn];if(!Dn.fixedrange){nn=Dn,an=Dn._rl[In]+(Dn._rl[Kn]-Dn._rl[In])/j(vr/Dn._length);var $n=Dn.l2r(an);$n!==!1&&$n!==void 0&&(Dn.range[Kn]=$n)}}return nn._length*(nn._rl[Kn]-an)/(nn._rl[Kn]-nn._rl[In])}}function Xt(tn,fn){for(var rn=xe.isSubplotConstrained?{x:Oe,y:ye}[tn]:xe[tn+"axes"],pn=xe.isSubplotConstrained?{x:ye,y:Oe}[tn]:[],wn=0;wn<rn.length;wn++){var kn=rn[wn],Pn=kn._id,On=xe.xLinks[Pn]||xe.yLinks[Pn],En=pn[0]||fe[On]||le[On];En&&(fn?(fn[kn._name+".range[0]"]=fn[En._name+".range[0]"],fn[kn._name+".range[1]"]=fn[En._name+".range[1]"]):kn.range=En.range.slice())}}function un(){var tn,fn=[];function rn(Pn){for(tn=0;tn<Pn.length;tn++)Pn[tn].fixedrange||fn.push(Pn[tn]._id)}function pn(Pn,On){for(tn=0;tn<Pn.length;tn++){var En=Pn[tn],Vn=En[On];En.fixedrange||Vn.tickmode!=="sync"||fn.push(Vn._id)}}for(Re&&(rn(ye),rn(Be.xaxes),rn(xe.xaxes),pn(de.overlays,"xaxis")),He&&(rn(Oe),rn(Be.yaxes),rn(xe.yaxes),pn(de.overlays,"yaxis")),ut={},tn=0;tn<fn.length;tn++){var wn=fn[tn],kn=_(ce,wn);o.drawOne(ce,kn,{skipTitle:!0}),ut[kn._name+".range[0]"]=kn.range[0],ut[kn._name+".range[1]"]=kn.range[1]}o.redrawComponents(ce,fn)}function qt(){if(!ce._transitioningWithDuration){var tn=ce._context.doubleClick,fn=[];Me&&(fn=fn.concat(ye)),Ce&&(fn=fn.concat(Oe)),xe.xaxes&&(fn=fn.concat(xe.xaxes)),xe.yaxes&&(fn=fn.concat(xe.yaxes));var rn,pn,wn={};if(tn==="reset+autosize")for(tn="autosize",pn=0;pn<fn.length;pn++){var kn=(rn=fn[pn])._rangeInitial0,Pn=rn._rangeInitial1,On=kn!==void 0||Pn!==void 0;if(On&&(kn!==void 0&&kn!==rn.range[0]||Pn!==void 0&&Pn!==rn.range[1])||!On&&rn.autorange!==!0){tn="reset";break}}if(tn==="autosize")for(pn=0;pn<fn.length;pn++)(rn=fn[pn]).fixedrange||(wn[rn._name+".autorange"]=!0);else if(tn==="reset"){for((Me||Be.isSubplotConstrained)&&(fn=fn.concat(Be.xaxes)),Ce&&!Be.isSubplotConstrained&&(fn=fn.concat(Be.yaxes)),Be.isSubplotConstrained&&(Me?Ce||(fn=fn.concat(Oe)):fn=fn.concat(ye)),pn=0;pn<fn.length;pn++)if(!(rn=fn[pn]).fixedrange){var En=rn._name,Vn=rn._autorangeInitial;rn._rangeInitial0===void 0&&rn._rangeInitial1===void 0?wn[En+".autorange"]=!0:rn._rangeInitial0===void 0?(wn[En+".autorange"]=Vn,wn[En+".range"]=[null,rn._rangeInitial1]):rn._rangeInitial1===void 0?(wn[En+".range"]=[rn._rangeInitial0,null],wn[En+".autorange"]=Vn):wn[En+".range"]=[rn._rangeInitial0,rn._rangeInitial1]}}ce.emit("plotly_doubleclick",null),c.call("_guiRelayout",ce,wn)}}function Kt(){Ut([0,0,Pe,Fe]),x.syncOrAsync([w.previousPromises,function(){ce._fullLayout._replotting=!1,c.call("_guiRelayout",ce,ut)}],ce)}function Ut(tn){var fn,rn,pn,wn,kn=ce._fullLayout,Pn=kn._plots,On=kn._subplots.cartesian;if(Qe&&c.subplotsRegistry.splom.drag(ce),Ye){for(fn=0;fn<On.length;fn++)if(pn=(rn=Pn[On[fn]]).xaxis,wn=rn.yaxis,rn._scene){var En=x.simpleMap(pn.range,pn.r2l),Vn=x.simpleMap(wn.range,wn.r2l);pn.limitRange&&pn.limitRange(),wn.limitRange&&wn.limitRange(),En=pn.range,Vn=wn.range,rn._scene.update({range:[En[0],Vn[0],En[1],Vn[1]]})}}if((Qe||Ye)&&(y(ce),m(ce)),lt){var Bn=tn[2]/Ie._length,Wn=tn[3]/_e._length;for(fn=0;fn<On.length;fn++){pn=(rn=Pn[On[fn]]).xaxis,wn=rn.yaxis;var rr,ir,Kn,vr,nn=(Re||xe.isSubplotConstrained)&&!pn.fixedrange&&fe[pn._id],an=(He||xe.isSubplotConstrained)&&!wn.fixedrange&&le[wn._id];if(nn?(rr=Bn,Kn=Le||xe.isSubplotConstrained?tn[0]:mn(pn,rr)):xe.xaHash[pn._id]?(rr=Bn,Kn=tn[0]*pn._length/Ie._length):xe.yaHash[pn._id]?(rr=Wn,Kn=Ce==="ns"?-tn[1]*pn._length/_e._length:mn(pn,rr,{n:"top",s:"bottom"}[Ce])):Kn=An(pn,rr=Rn(pn,Bn,Wn)),rr>1&&(pn.maxallowed!==void 0&&Re===(pn.range[0]<pn.range[1]?"e":"w")||pn.minallowed!==void 0&&Re===(pn.range[0]<pn.range[1]?"w":"e"))&&(rr=1,Kn=0),an?(ir=Wn,vr=Te||xe.isSubplotConstrained?tn[1]:mn(wn,ir)):xe.yaHash[wn._id]?(ir=Wn,vr=tn[1]*wn._length/_e._length):xe.xaHash[wn._id]?(ir=Bn,vr=Me==="ew"?-tn[0]*wn._length/Ie._length:mn(wn,ir,{e:"right",w:"left"}[Me])):vr=An(wn,ir=Rn(wn,Bn,Wn)),ir>1&&(wn.maxallowed!==void 0&&He===(wn.range[0]<wn.range[1]?"n":"s")||wn.minallowed!==void 0&&He===(wn.range[0]<wn.range[1]?"s":"n"))&&(ir=1,vr=0),rr||ir){rr||(rr=1),ir||(ir=1);var In=pn._offset-Kn/rr,yn=wn._offset-vr/ir;rn.clipRect.call(a.setTranslate,Kn,vr).call(a.setScale,rr,ir),rn.plot.call(a.setTranslate,In,yn).call(a.setScale,1/rr,1/ir),rr===rn.xScaleFactor&&ir===rn.yScaleFactor||(a.setPointGroupScale(rn.zoomScalePts,rr,ir),a.setTextPointsScale(rn.zoomScaleTxt,rr,ir)),a.hideOutsideRangePoints(rn.clipOnAxisFalseTraces,rn),rn.xScaleFactor=rr,rn.yScaleFactor=ir}}}}function Rn(tn,fn,rn){return tn.fixedrange?0:Re&&Be.xaHash[tn._id]?fn:He&&(Be.isSubplotConstrained?Be.xaHash:Be.yaHash)[tn._id]?rn:0}function An(tn,fn){return fn?(tn.range=tn._r.slice(),M(tn,fn),mn(tn,fn)):0}function mn(tn,fn,rn){return tn._length*(1-fn)*d[rn||tn.constraintoward||"middle"]}return Te.length*Le.length!=1&&ae(Ft,function(tn){if(ce._context._scrollZoom.cartesian||ce._fullLayout._enablescrollzoom){if(gt(),ce._transitioningWithDuration)return tn.preventDefault(),void tn.stopPropagation();Et(),clearTimeout(Ct);var fn=-tn.deltaY;if(isFinite(fn)||(fn=tn.wheelDelta/10),isFinite(fn)){var rn,pn=Math.exp(-Math.min(Math.max(fn,-20),20)/200),wn=Dt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),kn=(tn.clientX-wn.left)/wn.width,Pn=(wn.bottom-tn.clientY)/wn.height;if(Re){for(Le||(kn=.5),rn=0;rn<ye.length;rn++)On(ye[rn],kn,pn);Xt("x"),wt[2]*=pn,wt[0]+=wt[2]*kn*(1/pn-1)}if(He){for(Te||(Pn=.5),rn=0;rn<Oe.length;rn++)On(Oe[rn],Pn,pn);Xt("y"),wt[3]*=pn,wt[1]+=wt[3]*(1-Pn)*(1/pn-1)}Ut(wt),un(),ce.emit("plotly_relayouting",ut),Ct=setTimeout(function(){ce._fullLayout&&(wt=[0,0,Pe,Fe],Kt())},Rt),tn.preventDefault()}else x.log("Did not find wheel motion attributes: ",tn)}function On(En,Vn,Bn){if(!En.fixedrange){var Wn=x.simpleMap(En.range,En.r2l),rr=Wn[0]+(Wn[1]-Wn[0])*Vn;En.range=Wn.map(function(ir){return En.l2r(rr+(ir-rr)*Bn)})}}}),Ft},makeDragger:F,makeRectDragger:q,makeZoombox:H,makeCorners:G,updateZoombox:ie,xyCorners:J,transitionZoombox:re,removeZoombox:te,showDoubleClickNotifier:K,attachWheelEventHandler:ae}},42464:function(O,S,e){var v=e(33428),x=e(93024),t=e(86476),b=e(93972),g=e(51184).makeDragBox,c=e(33816).DRAGGERSIZE;S.initInteractions=function(s){var n=s._fullLayout;if(s._context.staticPlot)v.select(s).selectAll(".drag").remove();else if(n._has("cartesian")||n._has("splom")){Object.keys(n._plots||{}).sort(function(a,r){if((n._plots[a].mainplot&&!0)===(n._plots[r].mainplot&&!0)){var o=a.split("y"),l=r.split("y");return o[0]===l[0]?Number(o[1]||1)-Number(l[1]||1):Number(o[0]||1)-Number(l[0]||1)}return n._plots[a].mainplot?1:-1}).forEach(function(a){var r=n._plots[a],o=r.xaxis,l=r.yaxis;if(!r.mainplot){var u=g(s,r,o._offset,l._offset,o._length,l._length,"ns","ew");u.onmousemove=function(T){s._fullLayout._rehover=function(){s._fullLayout._hoversubplot===a&&s._fullLayout._plots[a]&&x.hover(s,T,a)},x.hover(s,T,a),s._fullLayout._lasthover=u,s._fullLayout._hoversubplot=a},u.onmouseout=function(T){s._dragging||(s._fullLayout._hoversubplot=null,t.unhover(s,T))},s._context.showAxisDragHandles&&(g(s,r,o._offset-c,l._offset-c,c,c,"n","w"),g(s,r,o._offset+o._length,l._offset-c,c,c,"n","e"),g(s,r,o._offset-c,l._offset+l._length,c,c,"s","w"),g(s,r,o._offset+o._length,l._offset+l._length,c,c,"s","e"))}if(s._context.showAxisDragHandles){if(a===o._mainSubplot){var h=o._mainLinePosition;o.side==="top"&&(h-=c),g(s,r,o._offset+.1*o._length,h,.8*o._length,c,"","ew"),g(s,r,o._offset,h,.1*o._length,c,"","w"),g(s,r,o._offset+.9*o._length,h,.1*o._length,c,"","e")}if(a===l._mainSubplot){var f=l._mainLinePosition;l.side!=="right"&&(f-=c),g(s,r,f,l._offset+.1*l._length,c,.8*l._length,"ns",""),g(s,r,f,l._offset+.9*l._length,c,.1*l._length,"s",""),g(s,r,f,l._offset,c,.1*l._length,"n","")}}});var i=n._hoverlayer.node();i.onmousemove=function(a){a.target=s._fullLayout._lasthover,x.hover(s,a,n._hoversubplot)},i.onclick=function(a){a.target=s._fullLayout._lasthover,x.click(s,a)},i.onmousedown=function(a){s._fullLayout._lasthover.onmousedown(a)},S.updateFx(s)}},S.updateFx=function(s){var n=s._fullLayout,i=n.dragmode==="pan"?"move":"crosshair";b(n._draggers,i)}},36632:function(O,S,e){var v=e(24040),x=e(3400),t=e(79811);O.exports=function(b){return function(g,c){var s=g[b];if(Array.isArray(s))for(var n=v.subplotsRegistry.cartesian,i=n.idRegex,a=c._subplots,r=a.xaxis,o=a.yaxis,l=a.cartesian,u=c._has("cartesian")||c._has("gl2d"),h=0;h<s.length;h++){var f=s[h];if(x.isPlainObject(f)){var T=t.cleanId(f.xref,"x",!1),d=t.cleanId(f.yref,"y",!1),y=i.x.test(T),m=i.y.test(d);if(y||m){u||x.pushUnique(c._basePlotModules,n);var w=!1;y&&r.indexOf(T)===-1&&(r.push(T),w=!0),m&&o.indexOf(d)===-1&&(o.push(d),w=!0),w&&y&&m&&l.push(T+d)}}}}}},57952:function(O,S,e){var v=e(33428),x=e(24040),t=e(3400),b=e(7316),g=e(43616),c=e(84888)._M,s=e(79811),n=e(33816),i=e(9616),a=t.ensureSingle;function r(f,T,d){return t.ensureSingle(f,T,d,function(y){y.datum(d)})}function o(f,T,d,y,m){for(var w,_,A,p=n.traceLayerClasses,L=f._fullLayout,M=L._modules,C={},R=0;R<d.length;R++){var I=d[R][0].trace.zorder||0;C[I]||(C[I]=[]),C[I].push(d[R])}for(var D=[],F=[],q=Object.keys(C).map(Number).sort(t.sorterAsc),z=0;z<q.length;z++)for(var V=q[z],X=0;X<M.length;X++){var j=(w=M[X]).name,H=x.modules[j].categories;if(H.svg){var G=w.layerName||j+"layer",ie=G+(z?Number(z)+1:""),re=w.plot;A=(_=c(d,re,V))[0],d=_[1],A.length&&D.push({i:p.indexOf(G),zorder:z,className:ie,plotMethod:re,cdModule:A}),H.zoomScale&&F.push("."+ie)}}D.sort(function(J,$){return(J.zorder||0)-($.zorder||0)||J.i-$.i});var te=T.plot.selectAll("g.mlayer").data(D,function(J){return J.className});if(te.enter().append("g").attr("class",function(J){return J.className}).classed("mlayer",!0).classed("rangeplot",T.isRangePlot),te.exit().remove(),te.order(),te.each(function(J){var $=v.select(this),ae=J.className;J.plotMethod(f,T,J.cdModule,$,y,m),n.clipOnAxisFalseQuery.indexOf("."+ae)===-1&&g.setClipUrl($,T.layerClipId,f)}),L._has("scattergl")&&(w=x.getModule("scattergl"),A=c(d,w)[0],w.plot(f,T,A)),!f._context.staticPlot&&(T._hasClipOnAxisFalse&&(T.clipOnAxisFalseTraces=T.plot.selectAll(n.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),F.length)){var K=T.plot.selectAll(F.join(",")).selectAll(".trace");T.zoomScalePts=K.selectAll("path.point"),T.zoomScaleTxt=K.selectAll(".textpoint")}}function l(f,T){var d=T.plotgroup,y=T.id,m=n.layerValue2layerClass[T.xaxis.layer],w=n.layerValue2layerClass[T.yaxis.layer],_=f._fullLayout._hasOnlyLargeSploms;if(T.mainplot){var A=T.mainplotinfo,p=A.plotgroup,L=y+"-x",M=y+"-y";T.minorGridlayer=A.minorGridlayer,T.gridlayer=A.gridlayer,T.zerolinelayer=A.zerolinelayer,a(A.overlinesBelow,"path",L),a(A.overlinesBelow,"path",M),a(A.overaxesBelow,"g",L),a(A.overaxesBelow,"g",M),T.plot=a(A.overplot,"g",y),a(A.overlinesAbove,"path",L),a(A.overlinesAbove,"path",M),a(A.overaxesAbove,"g",L),a(A.overaxesAbove,"g",M),T.xlines=p.select(".overlines-"+m).select("."+L),T.ylines=p.select(".overlines-"+w).select("."+M),T.xaxislayer=p.select(".overaxes-"+m).select("."+L),T.yaxislayer=p.select(".overaxes-"+w).select("."+M)}else if(_)T.xlines=a(d,"path","xlines-above"),T.ylines=a(d,"path","ylines-above"),T.xaxislayer=a(d,"g","xaxislayer-above"),T.yaxislayer=a(d,"g","yaxislayer-above");else{var C=a(d,"g","layer-subplot");T.shapelayer=a(C,"g","shapelayer"),T.imagelayer=a(C,"g","imagelayer"),T.minorGridlayer=a(d,"g","minor-gridlayer"),T.gridlayer=a(d,"g","gridlayer"),T.zerolinelayer=a(d,"g","zerolinelayer");var R=a(d,"g","layer-between");T.shapelayerBetween=a(R,"g","shapelayer"),T.imagelayerBetween=a(R,"g","imagelayer"),a(d,"path","xlines-below"),a(d,"path","ylines-below"),T.overlinesBelow=a(d,"g","overlines-below"),a(d,"g","xaxislayer-below"),a(d,"g","yaxislayer-below"),T.overaxesBelow=a(d,"g","overaxes-below"),T.plot=a(d,"g","plot"),T.overplot=a(d,"g","overplot"),T.xlines=a(d,"path","xlines-above"),T.ylines=a(d,"path","ylines-above"),T.overlinesAbove=a(d,"g","overlines-above"),a(d,"g","xaxislayer-above"),a(d,"g","yaxislayer-above"),T.overaxesAbove=a(d,"g","overaxes-above"),T.xlines=d.select(".xlines-"+m),T.ylines=d.select(".ylines-"+w),T.xaxislayer=d.select(".xaxislayer-"+m),T.yaxislayer=d.select(".yaxislayer-"+w)}_||(r(T.minorGridlayer,"g",T.xaxis._id),r(T.minorGridlayer,"g",T.yaxis._id),T.minorGridlayer.selectAll("g").map(function(I){return I[0]}).sort(s.idSort),r(T.gridlayer,"g",T.xaxis._id),r(T.gridlayer,"g",T.yaxis._id),T.gridlayer.selectAll("g").map(function(I){return I[0]}).sort(s.idSort)),T.xlines.style("fill","none").classed("crisp",!0),T.ylines.style("fill","none").classed("crisp",!0)}function u(f,T){if(f){var d={};for(var y in f.each(function(A){var p=A[0];v.select(this).remove(),h(p,T),d[p]=!0}),T._plots)for(var m=T._plots[y].overlays||[],w=0;w<m.length;w++){var _=m[w];d[_.id]&&_.plot.selectAll(".trace").remove()}}}function h(f,T){T._draggers.selectAll("g."+f).remove(),T._defs.select("#clip"+T._uid+f+"plot").remove()}S.name="cartesian",S.attr=["xaxis","yaxis"],S.idRoot=["x","y"],S.idRegex=n.idRegex,S.attrRegex=n.attrRegex,S.attributes=e(26720),S.layoutAttributes=e(94724),S.supplyLayoutDefaults=e(67352),S.transitionAxes=e(73736),S.finalizeSubplots=function(f,T){var d,y,m,w=T._subplots,_=w.xaxis,A=w.yaxis,p=w.cartesian,L=p.concat(w.gl2d||[]),M={},C={};for(d=0;d<L.length;d++){var R=L[d].split("y");M[R[0]]=1,C["y"+R[1]]=1}for(d=0;d<_.length;d++)M[y=_[d]]||(m=(f[s.id2name(y)]||{}).anchor,n.idRegex.y.test(m)||(m="y"),p.push(y+m),L.push(y+m),C[m]||(C[m]=1,t.pushUnique(A,m)));for(d=0;d<A.length;d++)C[m=A[d]]||(y=(f[s.id2name(m)]||{}).anchor,n.idRegex.x.test(y)||(y="x"),p.push(y+m),L.push(y+m),M[y]||(M[y]=1,t.pushUnique(_,y)));if(!L.length){for(var I in y="",m="",f)n.attrRegex.test(I)&&(I.charAt(0)==="x"?(!y||+I.substr(5)<+y.substr(5))&&(y=I):(!m||+I.substr(5)<+m.substr(5))&&(m=I));y=y?s.name2id(y):"x",m=m?s.name2id(m):"y",_.push(y),A.push(m),p.push(y+m)}},S.plot=function(f,T,d,y){var m,w=f._fullLayout,_=w._subplots.cartesian,A=f.calcdata;if(!Array.isArray(T))for(T=[],m=0;m<A.length;m++)T.push(m);for(m=0;m<_.length;m++){for(var p,L=_[m],M=w._plots[L],C=[],R=0;R<A.length;R++){var I=A[R],D=I[0].trace;D.xaxis+D.yaxis===L&&((T.indexOf(D.index)!==-1||D.carpet)&&(p&&p[0].trace.xaxis+p[0].trace.yaxis===L&&["tonextx","tonexty","tonext"].indexOf(D.fill)!==-1&&C.indexOf(p)===-1&&C.push(p),C.push(I)),p=I)}o(f,M,C,d,y)}},S.clean=function(f,T,d,y){var m,w,_,A=y._plots||{},p=T._plots||{},L=y._subplots||{};if(y._hasOnlyLargeSploms&&!T._hasOnlyLargeSploms)for(_ in A)(m=A[_]).plotgroup&&m.plotgroup.remove();var M=y._has&&y._has("gl"),C=T._has&&T._has("gl");if(M&&!C)for(_ in A)(m=A[_])._scene&&m._scene.destroy();if(L.xaxis&&L.yaxis){var R=s.listIds({_fullLayout:y});for(w=0;w<R.length;w++){var I=R[w];T[s.id2name(I)]||y._infolayer.selectAll(".g-"+I+"title").remove()}}var D=y._has&&y._has("cartesian"),F=T._has&&T._has("cartesian");if(D&&!F)u(y._cartesianlayer.selectAll(".subplot"),y),y._defs.selectAll(".axesclip").remove(),delete y._axisConstraintGroups,delete y._axisMatchGroups;else if(L.cartesian)for(w=0;w<L.cartesian.length;w++){var q=L.cartesian[w];if(!p[q]){var z="."+q+",."+q+"-x,."+q+"-y";y._cartesianlayer.selectAll(z).remove(),h(q,y)}}},S.drawFramework=function(f){var T=f._fullLayout,d=function(m){var w,_,A,p,L,M,C=m._fullLayout,R=C._subplots.cartesian,I=R.length,D=[],F=[];for(w=0;w<I;w++){A=R[w],L=(p=C._plots[A]).xaxis,M=p.yaxis;var q=L._mainAxis,z=M._mainAxis,V=q._id+z._id,X=C._plots[V];p.overlays=[],V!==A&&X?(p.mainplot=V,p.mainplotinfo=X,F.push(A)):(p.mainplot=void 0,p.mainplotinfo=void 0,D.push(A))}for(w=0;w<F.length;w++)A=F[w],(p=C._plots[A]).mainplotinfo.overlays.push(p);var j=D.concat(F),H=new Array(I);for(w=0;w<I;w++){A=j[w],L=(p=C._plots[A]).xaxis,M=p.yaxis;var G=[A,L.layer,M.layer,L.overlaying||"",M.overlaying||""];for(_=0;_<p.overlays.length;_++)G.push(p.overlays[_].id);H[w]=G}return H}(f),y=T._cartesianlayer.selectAll(".subplot").data(d,String);y.enter().append("g").attr("class",function(m){return"subplot "+m[0]}),y.order(),y.exit().call(u,T),y.each(function(m){var w=m[0],_=T._plots[w];_.plotgroup=v.select(this),l(f,_),_.draglayer=a(T._draggers,"g",w)})},S.rangePlot=function(f,T,d){l(f,T),o(f,T,d),b.style(f)},S.toSVG=function(f){var T=f._fullLayout._glimages,d=v.select(f).selectAll(".svg-container");d.filter(function(y,m){return m===d.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var y=this,m=y.toDataURL("image/png");T.append("svg:image").attr({xmlns:i.svg,"xlink:href":m,preserveAspectRatio:"none",x:0,y:0,width:y.style.width,height:y.style.height})})},S.updateFx=e(42464).updateFx},94724:function(O,S,e){var v=e(25376),x=e(22548),t=e(98192).u,b=e(92880).extendFlat,g=e(31780).templatedArray,c=e(29736).descriptionWithDates,s=e(39032).ONEDAY,n=e(33816),i=n.HOUR_PATTERN,a=n.WEEKDAY_PATTERN,r={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},o=b({},r,{values:r.values.slice().concat(["sync"])});function l(L){return{valType:"integer",min:0,dflt:L?5:0,editType:"ticks"}}var u={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},h={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},f={valType:"data_array",editType:"ticks"},T={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function d(L){var M={valType:"number",min:0,editType:"ticks"};return L||(M.dflt=5),M}function y(L){var M={valType:"number",min:0,editType:"ticks"};return L||(M.dflt=1),M}var m={valType:"color",dflt:x.defaultLine,editType:"ticks"},w={valType:"color",dflt:x.lightLine,editType:"ticks"};function _(L){var M={valType:"number",min:0,editType:"ticks"};return L||(M.dflt=1),M}var A=b({},t,{editType:"ticks"}),p={valType:"boolean",editType:"ticks"};O.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:x.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:v({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[n.idRegex.x.toString(),n.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[n.idRegex.x.toString(),n.idRegex.y.toString()],editType:"calc"},rangebreaks:g("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[a,i,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:s},editType:"calc"}),tickmode:o,nticks:l(),tick0:u,dtick:h,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:f,ticktext:{valType:"data_array",editType:"ticks"},ticks:T,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:d(),tickwidth:y(),tickcolor:m,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:b({},t,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:v({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:c("tick label")},tickformatstops:g("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:c("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:x.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:p,gridcolor:w,gridwidth:_(),griddash:A,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:x.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:x.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",n.idRegex.x.toString(),n.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",n.idRegex.x.toString(),n.idRegex.y.toString()],editType:"plot"},minor:{tickmode:r,nticks:l("minor"),tick0:u,dtick:h,tickvals:f,ticks:T,ticklen:d("minor"),tickwidth:y("minor"),tickcolor:m,gridcolor:w,gridwidth:_("minor"),griddash:A,showgrid:p,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:v({editType:"ticks"})}}},67352:function(O,S,e){var v=e(3400),x=e(76308),t=e(10624).isUnifiedHover,b=e(41008),g=e(31780),c=e(64859),s=e(94724),n=e(14944),i=e(28336),a=e(71888),r=e(37668),o=e(79811),l=o.id2name,u=o.name2id,h=e(33816).AX_ID_PATTERN,f=e(24040),T=f.traceIs,d=f.getComponentMethod;function y(m,w,_){Array.isArray(m[w])?m[w].push(_):m[w]=[_]}O.exports=function(m,w,_){var A,p,L=w.autotypenumbers,M={},C={},R={},I={},D={},F={},q={},z={},V={},X={};for(A=0;A<_.length;A++){var j=_[A];if(T(j,"cartesian")||T(j,"gl2d")){var H,G;if(j.xaxis)H=l(j.xaxis),y(M,H,j);else if(j.xaxes)for(p=0;p<j.xaxes.length;p++)y(M,l(j.xaxes[p]),j);if(j.yaxis)G=l(j.yaxis),y(M,G,j);else if(j.yaxes)for(p=0;p<j.yaxes.length;p++)y(M,l(j.yaxes[p]),j);j.type==="funnel"?j.orientation==="h"?(H&&(C[H]=!0),G&&(q[G]=!0)):G&&(R[G]=!0):j.type==="image"?(G&&(z[G]=!0),H&&(z[H]=!0)):(G&&(D[G]=!0,F[G]=!0),T(j,"carpet")&&(j.type!=="carpet"||j._cheater)||H&&(I[H]=!0)),j.type==="carpet"&&j._cheater&&H&&(C[H]=!0),T(j,"2dMap")&&(V[H]=!0,V[G]=!0),T(j,"oriented")&&(X[j.orientation==="h"?G:H]=!0)}}var ie=w._subplots,re=ie.xaxis,te=ie.yaxis,K=v.simpleMap(re,l),J=v.simpleMap(te,l),$=K.concat(J),ae=x.background;re.length&&te.length&&(ae=v.coerce(m,w,c,"plot_bgcolor"));var ue,ce,de,pe,me,be=x.combine(ae,w.paper_bgcolor);function we(){var nt=M[ue]||[];me._traceIndices=nt.map(function(Et){return Et._expandedIndex}),me._annIndices=[],me._shapeIndices=[],me._selectionIndices=[],me._imgIndices=[],me._subplotsWith=[],me._counterAxes=[],me._name=me._attr=ue,me._id=ce}function Te(nt,Et){return v.coerce(pe,me,s,nt,Et)}function Le(nt,Et){return v.coerce2(pe,me,s,nt,Et)}function Ie(nt){return nt==="x"?te:re}function _e(nt,Et){for(var zt=nt==="x"?K:J,Ft=[],Pt=0;Pt<zt.length;Pt++){var Ze=zt[Pt];Ze===Et||(m[Ze]||{}).overlaying||Ft.push(u(Ze))}return Ft}var fe={x:Ie("x"),y:Ie("y")},le=fe.x.concat(fe.y),ye={},Oe=[];function Ae(){var nt=pe.matches;h.test(nt)&&le.indexOf(nt)===-1&&(ye[nt]=pe.type,Oe=Object.keys(ye))}var Se=b(m,w),Pe=t(Se);for(A=0;A<$.length;A++){ue=$[A],ce=u(ue),de=ue.charAt(0),v.isPlainObject(m[ue])||(m[ue]={}),pe=m[ue],me=g.newContainer(w,ue,de+"axis"),we();var Fe=de==="x"&&!I[ue]&&C[ue]||de==="y"&&!D[ue]&&R[ue],Be=de==="y"&&(!F[ue]&&q[ue]||z[ue]),xe={hasMinor:!0,letter:de,font:w.font,outerTicks:V[ue],showGrid:!X[ue],data:M[ue]||[],bgColor:be,calendar:w.calendar,automargin:!0,visibleDflt:Fe,reverseDflt:Be,autotypenumbersDflt:L,splomStash:((w._splomAxes||{})[de]||{})[ce],noAutotickangles:de==="y"};Te("uirevision",w.uirevision),n(pe,me,Te,xe),i(pe,me,Te,xe,w);var Me=Pe&&de===Se.charAt(0),Ce=Le("spikecolor",Pe?me.color:void 0),Ne=Le("spikethickness",Pe?1.5:void 0),Re=Le("spikedash",Pe?"dot":void 0),He=Le("spikemode",Pe?"across":void 0),Ye=Le("spikesnap");Te("showspikes",!!(Me||Ce||Ne||Re||He||Ye))||(delete me.spikecolor,delete me.spikethickness,delete me.spikedash,delete me.spikemode,delete me.spikesnap);var Qe=l(pe.overlaying),lt=[0,1];if(w[Qe]!==void 0){var ut=l(w[Qe].anchor);w[ut]!==void 0&&(lt=w[ut].domain)}r(pe,me,Te,{letter:de,counterAxes:fe[de],overlayableAxes:_e(de,ue),grid:w.grid,overlayingDomain:lt}),Te("title.standoff"),Ae(),me._input=pe}for(A=0;A<Oe.length;){ce=Oe[A++],de=(ue=l(ce)).charAt(0),v.isPlainObject(m[ue])||(m[ue]={}),pe=m[ue],me=g.newContainer(w,ue,de+"axis"),we();var xt={letter:de,font:w.font,outerTicks:V[ue],showGrid:!X[ue],data:[],bgColor:be,calendar:w.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:L,splomStash:((w._splomAxes||{})[de]||{})[ce]};Te("uirevision",w.uirevision),me.type=ye[ce]||"linear",i(pe,me,Te,xt,w),r(pe,me,Te,{letter:de,counterAxes:fe[de],overlayableAxes:_e(de,ue),grid:w.grid}),Te("fixedrange"),Ae(),me._input=pe}var _t=d("rangeslider","handleDefaults"),mt=d("rangeselector","handleDefaults");for(A=0;A<K.length;A++)ue=K[A],pe=m[ue],me=w[ue],_t(m,w,ue),me.type==="date"&&mt(pe,me,w,J,me.calendar),Te("fixedrange");for(A=0;A<J.length;A++){ue=J[A],pe=m[ue],me=w[ue];var it=w[l(me.anchor)];Te("fixedrange",d("rangeslider","isVisible")(it))}a.handleDefaults(m,w,{axIds:le.concat(Oe).sort(o.idSort),axHasImage:z})}},42136:function(O,S,e){var v=e(49760).mix,x=e(22548),t=e(3400);O.exports=function(b,g,c,s){var n=(s=s||{}).dfltColor;function i(m,w){return t.coerce2(b,g,s.attributes,m,w)}var a=i("linecolor",n),r=i("linewidth");c("showline",s.showLine||!!a||!!r)||(delete g.linecolor,delete g.linewidth);var o=i("gridcolor",v(n,s.bgColor,s.blend||x.lightFraction).toRgbString()),l=i("gridwidth"),u=i("griddash");if(c("showgrid",s.showGrid||!!o||!!l||!!u)||(delete g.gridcolor,delete g.gridwidth,delete g.griddash),s.hasMinor){var h=i("minor.gridcolor",v(g.gridcolor,s.bgColor,67).toRgbString()),f=i("minor.gridwidth",g.gridwidth||1),T=i("minor.griddash",g.griddash||"solid");c("minor.showgrid",!!h||!!f||!!T)||(delete g.minor.gridcolor,delete g.minor.gridwidth,delete g.minor.griddash)}if(!s.noZeroLine){var d=i("zerolinecolor",n),y=i("zerolinewidth");c("zeroline",s.showGrid||!!d||!!y)||(delete g.zerolinecolor,delete g.zerolinewidth)}}},37668:function(O,S,e){var v=e(38248),x=e(3400);O.exports=function(t,b,g,c){var s,n,i,a,r,o,l=c.counterAxes||[],u=c.overlayableAxes||[],h=c.letter,f=c.grid,T=c.overlayingDomain;f&&(n=f._domains[h][f._axisMap[b._id]],s=f._anchors[b._id],n&&(i=f[h+"side"].split(" ")[0],a=f.domain[h][i==="right"||i==="top"?1:0])),n=n||[0,1],s=s||(v(t.position)?"free":l[0]||"free"),i=i||(h==="x"?"bottom":"left"),a=a||0,r=0,o=!1;var d=x.coerce(t,b,{anchor:{valType:"enumerated",values:["free"].concat(l),dflt:s}},"anchor"),y=x.coerce(t,b,{side:{valType:"enumerated",values:h==="x"?["bottom","top"]:["left","right"],dflt:i}},"side");d==="free"&&(h==="y"&&(g("autoshift")&&(a=y==="left"?T[0]:T[1],o=!b.automargin||b.automargin,r=y==="left"?-3:3),g("shift",r)),g("position",a)),g("automargin",o);var m=!1;if(u.length&&(m=x.coerce(t,b,{overlaying:{valType:"enumerated",values:[!1].concat(u),dflt:!1}},"overlaying")),!m){var w=g("domain",n);w[0]>w[1]-.000244140625&&(b.domain=n),x.noneOrAll(t.domain,b.domain,n),b.tickmode==="sync"&&(b.tickmode="auto")}return g("layer"),b}},42568:function(O,S,e){var v=e(85024);O.exports=function(x,t,b,g,c){c||(c={});var s=c.tickSuffixDflt,n=v(x);b("tickprefix")&&b("showtickprefix",n),b("ticksuffix",s)&&b("showticksuffix",n)}},96312:function(O,S,e){var v=e(76808);O.exports=function(x,t,b,g){var c=t._template||{},s=t.type||c.type||"-";b("minallowed"),b("maxallowed");var n,i=b("range");i||g.noInsiderange||s==="log"||(!(n=b("insiderange"))||n[0]!==null&&n[1]!==null||(t.insiderange=!1,n=void 0),n&&(i=b("range",n)));var a,r=t.getAutorangeDflt(i,g),o=b("autorange",r);!i||(i[0]!==null||i[1]!==null)&&(i[0]!==null&&i[1]!==null||o!=="reversed"&&o!==!0)&&(i[0]===null||o!=="min"&&o!=="max reversed")&&(i[1]===null||o!=="max"&&o!=="min reversed")||(i=void 0,delete t.range,t.autorange=!0,a=!0),a||(o=b("autorange",r=t.getAutorangeDflt(i,g))),o&&(v(b,o,i),s!=="linear"&&s!=="-"||b("rangemode")),t.cleanRange()}},21160:function(O,S,e){var v=e(84284).FROM_BL;O.exports=function(x,t,b){b===void 0&&(b=v[x.constraintoward||"center"]);var g=[x.r2l(x.range[0]),x.r2l(x.range[1])],c=g[0]+(g[1]-g[0])*b;x.range=x._input.range=[x.l2r(c+(g[0]-c)*t),x.l2r(c+(g[1]-c)*t)],x.setScale()}},78344:function(O,S,e){var v=e(33428),x=e(94336).E9,t=e(3400),b=t.numberFormat,g=e(38248),c=t.cleanNumber,s=t.ms2DateTime,n=t.dateTime2ms,i=t.ensureNumber,a=t.isArrayOrTypedArray,r=e(39032),o=r.FP_SAFE,l=r.BADNUM,u=r.LOG_CLIP,h=r.ONEWEEK,f=r.ONEDAY,T=r.ONEHOUR,d=r.ONEMIN,y=r.ONESEC,m=e(79811),w=e(33816),_=w.HOUR_PATTERN,A=w.WEEKDAY_PATTERN;function p(M){return Math.pow(10,M)}function L(M){return M!=null}O.exports=function(M,C){C=C||{};var R=M._id||"x",I=R.charAt(0);function D($,ae){if($>0)return Math.log($)/Math.LN10;if($<=0&&ae&&M.range&&M.range.length===2){var ue=M.range[0],ce=M.range[1];return .5*(ue+ce-2*u*Math.abs(ue-ce))}return l}function F($,ae,ue,ce){if((ce||{}).msUTC&&g($))return+$;var de=n($,ue||M.calendar);if(de===l){if(!g($))return l;$=+$;var pe=Math.floor(10*t.mod($+.05,1)),me=Math.round($-pe/10);de=n(new Date(me))+pe/10}return de}function q($,ae,ue){return s($,ae,ue||M.calendar)}function z($){return M._categories[Math.round($)]}function V($){if(L($)){if(M._categoriesMap===void 0&&(M._categoriesMap={}),M._categoriesMap[$]!==void 0)return M._categoriesMap[$];M._categories.push(typeof $=="number"?String($):$);var ae=M._categories.length-1;return M._categoriesMap[$]=ae,ae}return l}function X($){if(M._categoriesMap)return M._categoriesMap[$]}function j($){var ae=X($);return ae!==void 0?ae:g($)?+$:void 0}function H($){return g($)?+$:X($)}function G($,ae,ue){return v.round(ue+ae*$,2)}function ie($,ae,ue){return($-ue)/ae}var re=function($){return g($)?G($,M._m,M._b):l},te=function($){return ie($,M._m,M._b)};if(M.rangebreaks){var K=I==="y";re=function($){if(!g($))return l;var ae=M._rangebreaks.length;if(!ae)return G($,M._m,M._b);var ue=K;M.range[0]>M.range[1]&&(ue=!ue);for(var ce=ue?-1:1,de=ce*$,pe=0,me=0;me<ae;me++){var be=ce*M._rangebreaks[me].min,we=ce*M._rangebreaks[me].max;if(de<be)break;if(!(de>we)){pe=de<(be+we)/2?me:me+1;break}pe=me+1}var Te=M._B[pe]||0;return isFinite(Te)?G($,M._m2,Te):0},te=function($){var ae=M._rangebreaks.length;if(!ae)return ie($,M._m,M._b);for(var ue=0,ce=0;ce<ae&&!($<M._rangebreaks[ce].pmin);ce++)$>M._rangebreaks[ce].pmax&&(ue=ce+1);return ie($,M._m2,M._B[ue])}}M.c2l=M.type==="log"?D:i,M.l2c=M.type==="log"?p:i,M.l2p=re,M.p2l=te,M.c2p=M.type==="log"?function($,ae){return re(D($,ae))}:re,M.p2c=M.type==="log"?function($){return p(te($))}:te,["linear","-"].indexOf(M.type)!==-1?(M.d2r=M.r2d=M.d2c=M.r2c=M.d2l=M.r2l=c,M.c2d=M.c2r=M.l2d=M.l2r=i,M.d2p=M.r2p=function($){return M.l2p(c($))},M.p2d=M.p2r=te,M.cleanPos=i):M.type==="log"?(M.d2r=M.d2l=function($,ae){return D(c($),ae)},M.r2d=M.r2c=function($){return p(c($))},M.d2c=M.r2l=c,M.c2d=M.l2r=i,M.c2r=D,M.l2d=p,M.d2p=function($,ae){return M.l2p(M.d2r($,ae))},M.p2d=function($){return p(te($))},M.r2p=function($){return M.l2p(c($))},M.p2r=te,M.cleanPos=i):M.type==="date"?(M.d2r=M.r2d=t.identity,M.d2c=M.r2c=M.d2l=M.r2l=F,M.c2d=M.c2r=M.l2d=M.l2r=q,M.d2p=M.r2p=function($,ae,ue){return M.l2p(F($,0,ue))},M.p2d=M.p2r=function($,ae,ue){return q(te($),ae,ue)},M.cleanPos=function($){return t.cleanDate($,l,M.calendar)}):M.type==="category"?(M.d2c=M.d2l=V,M.r2d=M.c2d=M.l2d=z,M.d2r=M.d2l_noadd=j,M.r2c=function($){var ae=H($);return ae!==void 0?ae:M.fraction2r(.5)},M.l2r=M.c2r=i,M.r2l=H,M.d2p=function($){return M.l2p(M.r2c($))},M.p2d=function($){return z(te($))},M.r2p=M.d2p,M.p2r=te,M.cleanPos=function($){return typeof $=="string"&&$!==""?$:i($)}):M.type==="multicategory"&&(M.r2d=M.c2d=M.l2d=z,M.d2r=M.d2l_noadd=j,M.r2c=function($){var ae=j($);return ae!==void 0?ae:M.fraction2r(.5)},M.r2c_just_indices=X,M.l2r=M.c2r=i,M.r2l=j,M.d2p=function($){return M.l2p(M.r2c($))},M.p2d=function($){return z(te($))},M.r2p=M.d2p,M.p2r=te,M.cleanPos=function($){return Array.isArray($)||typeof $=="string"&&$!==""?$:i($)},M.setupMultiCategory=function($){var ae,ue,ce=M._traceIndices,de=M._matchGroup;if(de&&M._categories.length===0){for(var pe in de)if(pe!==R){var me=C[m.id2name(pe)];ce=ce.concat(me._traceIndices)}}var be=[[0,{}],[0,{}]],we=[];for(ae=0;ae<ce.length;ae++){var Te=$[ce[ae]];if(I in Te){var Le=Te[I],Ie=Te._length||t.minRowLength(Le);if(a(Le[0])&&a(Le[1]))for(ue=0;ue<Ie;ue++){var _e=Le[0][ue],fe=Le[1][ue];L(_e)&&L(fe)&&(we.push([_e,fe]),_e in be[0][1]||(be[0][1][_e]=be[0][0]++),fe in be[1][1]||(be[1][1][fe]=be[1][0]++))}}}for(we.sort(function(le,ye){var Oe=be[0][1],Ae=Oe[le[0]]-Oe[ye[0]];if(Ae)return Ae;var Se=be[1][1];return Se[le[1]]-Se[ye[1]]}),ae=0;ae<we.length;ae++)V(we[ae])}),M.fraction2r=function($){var ae=M.r2l(M.range[0]),ue=M.r2l(M.range[1]);return M.l2r(ae+$*(ue-ae))},M.r2fraction=function($){var ae=M.r2l(M.range[0]),ue=M.r2l(M.range[1]);return(M.r2l($)-ae)/(ue-ae)},M.limitRange=function($){var ae=M.minallowed,ue=M.maxallowed;if(ae!==void 0||ue!==void 0){$||($="range");var ce=t.nestedProperty(M,$).get(),de=t.simpleMap(ce,M.r2l),pe=de[1]<de[0];pe&&de.reverse();var me=t.simpleMap([ae,ue],M.r2l);if(ae!==void 0&&de[0]<me[0]&&(ce[pe?1:0]=ae),ue!==void 0&&de[1]>me[1]&&(ce[pe?0:1]=ue),ce[0]===ce[1]){var be=M.l2r(ae),we=M.l2r(ue);if(ae!==void 0){var Te=be+1;ue!==void 0&&(Te=Math.min(Te,we)),ce[pe?1:0]=Te}if(ue!==void 0){var Le=we+1;ae!==void 0&&(Le=Math.max(Le,be)),ce[pe?0:1]=Le}}}},M.cleanRange=function($,ae){M._cleanRange($,ae),M.limitRange($)},M._cleanRange=function($,ae){ae||(ae={}),$||($="range");var ue,ce,de=t.nestedProperty(M,$).get();if(ce=(ce=M.type==="date"?t.dfltRange(M.calendar):I==="y"?w.DFLTRANGEY:M._name==="realaxis"?[0,1]:ae.dfltRange||w.DFLTRANGEX).slice(),M.rangemode!=="tozero"&&M.rangemode!=="nonnegative"||(ce[0]=0),de&&de.length===2){var pe=de[0]===null,me=de[1]===null;for(M.type!=="date"||M.autorange||(de[0]=t.cleanDate(de[0],l,M.calendar),de[1]=t.cleanDate(de[1],l,M.calendar)),ue=0;ue<2;ue++)if(M.type==="date"){if(!t.isDateTime(de[ue],M.calendar)){M[$]=ce;break}if(M.r2l(de[0])===M.r2l(de[1])){var be=t.constrain(M.r2l(de[0]),t.MIN_MS+1e3,t.MAX_MS-1e3);de[0]=M.l2r(be-1e3),de[1]=M.l2r(be+1e3);break}}else{if(!g(de[ue])){if(pe||me||!g(de[1-ue])){M[$]=ce;break}de[ue]=de[1-ue]*(ue?10:.1)}if(de[ue]<-o?de[ue]=-o:de[ue]>o&&(de[ue]=o),de[0]===de[1]){var we=Math.max(1,Math.abs(1e-6*de[0]));de[0]-=we,de[1]+=we}}}else t.nestedProperty(M,$).set(ce)},M.setScale=function($){var ae=C._size;if(M.overlaying){var ue=m.getFromId({_fullLayout:C},M.overlaying);M.domain=ue.domain}var ce=$&&M._r?"_r":"range",de=M.calendar;M.cleanRange(ce);var pe,me,be=M.r2l(M[ce][0],de),we=M.r2l(M[ce][1],de),Te=I==="y";if(Te?(M._offset=ae.t+(1-M.domain[1])*ae.h,M._length=ae.h*(M.domain[1]-M.domain[0]),M._m=M._length/(be-we),M._b=-M._m*we):(M._offset=ae.l+M.domain[0]*ae.w,M._length=ae.w*(M.domain[1]-M.domain[0]),M._m=M._length/(we-be),M._b=-M._m*be),M._rangebreaks=[],M._lBreaks=0,M._m2=0,M._B=[],M.rangebreaks&&(M._rangebreaks=M.locateBreaks(Math.min(be,we),Math.max(be,we)),M._rangebreaks.length)){for(pe=0;pe<M._rangebreaks.length;pe++)me=M._rangebreaks[pe],M._lBreaks+=Math.abs(me.max-me.min);var Le=Te;be>we&&(Le=!Le),Le&&M._rangebreaks.reverse();var Ie=Le?-1:1;for(M._m2=Ie*M._length/(Math.abs(we-be)-M._lBreaks),M._B.push(-M._m2*(Te?we:be)),pe=0;pe<M._rangebreaks.length;pe++)me=M._rangebreaks[pe],M._B.push(M._B[M._B.length-1]-Ie*M._m2*(me.max-me.min));for(pe=0;pe<M._rangebreaks.length;pe++)(me=M._rangebreaks[pe]).pmin=re(me.min),me.pmax=re(me.max)}if(!isFinite(M._m)||!isFinite(M._b)||M._length<0)throw C._replotting=!1,new Error("Something went wrong with axis scaling")},M.maskBreaks=function($){var ae,ue,ce,de,pe,me=M.rangebreaks||[];me._cachedPatterns||(me._cachedPatterns=me.map(function(_e){return _e.enabled&&_e.bounds?t.simpleMap(_e.bounds,_e.pattern?c:M.d2c):null})),me._cachedValues||(me._cachedValues=me.map(function(_e){return _e.enabled&&_e.values?t.simpleMap(_e.values,M.d2c).sort(t.sorterAsc):null}));for(var be=0;be<me.length;be++){var we=me[be];if(we.enabled){if(we.bounds){var Te=we.pattern;switch(ue=(ae=me._cachedPatterns[be])[0],ce=ae[1],Te){case A:de=(pe=new Date($)).getUTCDay(),ue>ce&&(ce+=7,de<ue&&(de+=7));break;case _:de=(pe=new Date($)).getUTCHours()+(pe.getUTCMinutes()/60+pe.getUTCSeconds()/3600+pe.getUTCMilliseconds()/36e5),ue>ce&&(ce+=24,de<ue&&(de+=24));break;case"":de=$}if(de>=ue&&de<ce)return l}else for(var Le=me._cachedValues[be],Ie=0;Ie<Le.length;Ie++)if(ce=(ue=Le[Ie])+we.dvalue,$>=ue&&$<ce)return l}}return $},M.locateBreaks=function($,ae){var ue,ce,de,pe,me=[];if(!M.rangebreaks)return me;var be=M.rangebreaks.slice().sort(function(Se,Pe){return Se.pattern===A&&Pe.pattern===_?-1:Pe.pattern===A&&Se.pattern===_?1:0}),we=function(Se,Pe){if((Se=t.constrain(Se,$,ae))!==(Pe=t.constrain(Pe,$,ae))){for(var Fe=!0,Be=0;Be<me.length;Be++){var xe=me[Be];Se<xe.max&&Pe>=xe.min&&(Se<xe.min&&(xe.min=Se),Pe>xe.max&&(xe.max=Pe),Fe=!1)}Fe&&me.push({min:Se,max:Pe})}};for(ue=0;ue<be.length;ue++){var Te=be[ue];if(Te.enabled)if(Te.bounds){var Le=$,Ie=ae;Te.pattern&&(Le=Math.floor(Le)),de=(ce=t.simpleMap(Te.bounds,Te.pattern?c:M.r2l))[0],pe=ce[1];var _e,fe,le=new Date(Le);switch(Te.pattern){case A:fe=h,_e=(pe-de+(pe<de?7:0))*f,Le+=de*f-(le.getUTCDay()*f+le.getUTCHours()*T+le.getUTCMinutes()*d+le.getUTCSeconds()*y+le.getUTCMilliseconds());break;case _:fe=f,_e=(pe-de+(pe<de?24:0))*T,Le+=de*T-(le.getUTCHours()*T+le.getUTCMinutes()*d+le.getUTCSeconds()*y+le.getUTCMilliseconds());break;default:Le=Math.min(ce[0],ce[1]),_e=fe=(Ie=Math.max(ce[0],ce[1]))-Le}for(var ye=Le;ye<Ie;ye+=fe)we(ye,ye+_e)}else for(var Oe=t.simpleMap(Te.values,M.d2c),Ae=0;Ae<Oe.length;Ae++)we(de=Oe[Ae],pe=de+Te.dvalue)}return me.sort(function(Se,Pe){return Se.min-Pe.min}),me},M.makeCalcdata=function($,ae,ue){var ce,de,pe,me,be=M.type,we=be==="date"&&$[ae+"calendar"];if(ae in $){if(ce=$[ae],me=$._length||t.minRowLength(ce),t.isTypedArray(ce)&&(be==="linear"||be==="log")){if(me===ce.length)return ce;if(ce.subarray)return ce.subarray(0,me)}if(be==="multicategory")return function(Ie,_e){for(var fe=new Array(_e),le=0;le<_e;le++){var ye=(Ie[0]||[])[le],Oe=(Ie[1]||[])[le];fe[le]=X([ye,Oe])}return fe}(ce,me);for(de=new Array(me),pe=0;pe<me;pe++)de[pe]=M.d2c(ce[pe],0,we,ue)}else{var Te=ae+"0"in $?M.d2c($[ae+"0"],0,we):0,Le=$["d"+ae]?Number($["d"+ae]):1;for(ce=$[{x:"y",y:"x"}[ae]],me=$._length||ce.length,de=new Array(me),pe=0;pe<me;pe++)de[pe]=Te+pe*Le}if(M.rangebreaks)for(pe=0;pe<me;pe++)de[pe]=M.maskBreaks(de[pe]);return de},M.isValidRange=function($,ae){return Array.isArray($)&&$.length===2&&(ae&&$[0]===null||g(M.r2l($[0])))&&(ae&&$[1]===null||g(M.r2l($[1])))},M.getAutorangeDflt=function($,ae){var ue=!M.isValidRange($,"nullOk");return ue&&ae&&ae.reverseDflt?ue="reversed":$&&($[0]===null&&$[1]===null?ue=!0:$[0]===null&&$[1]!==null?ue="min":$[0]!==null&&$[1]===null&&(ue="max")),ue},M.isReversed=function(){var $=M.autorange;return $==="reversed"||$==="min reversed"||$==="max reversed"},M.isPtWithinRange=function($,ae){var ue=M.c2l($[I],null,ae),ce=M.r2l(M.range[0]),de=M.r2l(M.range[1]);return ce<de?ce<=ue&&ue<=de:de<=ue&&ue<=ce},M._emptyCategories=function(){M._categories=[],M._categoriesMap={}},M.clearCalc=function(){var $=M._matchGroup;if($){var ae=null,ue=null;for(var ce in $){var de=C[m.id2name(ce)];if(de._categories){ae=de._categories,ue=de._categoriesMap;break}}ae&&ue?(M._categories=ae,M._categoriesMap=ue):M._emptyCategories()}else M._emptyCategories();if(M._initialCategories)for(var pe=0;pe<M._initialCategories.length;pe++)V(M._initialCategories[pe])},M.sortByInitialCategories=function(){var $=[];if(M._emptyCategories(),M._initialCategories)for(var ae=0;ae<M._initialCategories.length;ae++)V(M._initialCategories[ae]);$=$.concat(M._traceIndices);var ue=M._matchGroup;for(var ce in ue)if(R!==ce){var de=C[m.id2name(ce)];de._categories=M._categories,de._categoriesMap=M._categoriesMap,$=$.concat(de._traceIndices)}return $};var J=C._d3locale;M.type==="date"&&(M._dateFormat=J?J.timeFormat:x,M._extraFormat=C._extraFormat),M._separators=C.separators,M._numFormat=J?J.numberFormat:b,delete M._minDtick,delete M._forceTick0}},85024:function(O){O.exports=function(S){var e=["showexponent","showtickprefix","showticksuffix"].filter(function(v){return S[v]!==void 0});if(e.every(function(v){return S[v]===S[e[0]]})||e.length===1)return S[e[0]]}},95936:function(O,S,e){var v=e(3400),x=e(76308).contrast,t=e(94724),b=e(85024),g=e(51272);function c(s,n){function i(a,r){return v.coerce(s,n,t.tickformatstops,a,r)}i("enabled")&&(i("dtickrange"),i("value"))}O.exports=function(s,n,i,a,r){r||(r={});var o=i("labelalias");v.isPlainObject(o)||delete n.labelalias;var l=b(s);if(i("showticklabels")){var u=r.font||{},h=n.color,f=(n.ticklabelposition||"").indexOf("inside")!==-1?x(r.bgColor):h&&h!==t.color.dflt?h:u.color;if(v.coerceFont(i,"tickfont",u,{overrideDflt:{color:f}}),r.noTicklabelstep||a==="multicategory"||a==="log"||i("ticklabelstep"),!r.noAng){var T=i("tickangle");r.noAutotickangles||T!=="auto"||i("autotickangles")}if(a!=="category"){var d=i("tickformat");g(s,n,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:c}),n.tickformatstops.length||delete n.tickformatstops,r.noExp||d||a==="date"||(i("showexponent",l),i("exponentformat"),i("minexponent"),i("separatethousands"))}}}},25404:function(O,S,e){var v=e(3400),x=e(94724);O.exports=function(t,b,g,c){var s=c.isMinor,n=s?t.minor||{}:t,i=s?b.minor:b,a=s?x.minor:x,r=s?"minor.":"",o=v.coerce2(n,i,a,"ticklen",s?.6*(b.ticklen||5):void 0),l=v.coerce2(n,i,a,"tickwidth",s?b.tickwidth||1:void 0),u=v.coerce2(n,i,a,"tickcolor",(s?b.tickcolor:void 0)||i.color);g(r+"ticks",!s&&c.outerTicks||o||l||u?"outside":"")||(delete i.ticklen,delete i.tickwidth,delete i.tickcolor)}},26332:function(O,S,e){var v=e(98728),x=e(3400).isArrayOrTypedArray,t=e(38116).isTypedArraySpec,b=e(38116).decodeTypedArraySpec;O.exports=function(g,c,s,n,i){i||(i={});var a=i.isMinor,r=a?g.minor||{}:g,o=a?c.minor:c,l=a?"minor.":"";function u(m){var w=r[m];return t(w)&&(w=b(w)),w!==void 0?w:(o._template||{})[m]}var h=u("tick0"),f=u("dtick"),T=u("tickvals"),d=s(l+"tickmode",x(T)?"array":f?"linear":"auto");if(d==="auto"||d==="sync")s(l+"nticks");else if(d==="linear"){var y=o.dtick=v.dtick(f,n);o.tick0=v.tick0(h,n,c.calendar,y)}else n!=="multicategory"&&(s(l+"tickvals")===void 0?o.tickmode="auto":a||s("ticktext"))}},73736:function(O,S,e){var v=e(33428),x=e(24040),t=e(3400),b=e(43616),g=e(54460);O.exports=function(c,s,n,i){var a=c._fullLayout;if(s.length!==0){var r,o,l,u;i&&(r=i());var h=v.ease(n.easing);return c._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(u),u=null,function(){for(var d={},y=0;y<s.length;y++){var m=s[y],w=m.plotinfo.xaxis,_=m.plotinfo.yaxis;m.xr0&&(d[w._name+".range"]=m.xr0.slice()),m.yr0&&(d[_._name+".range"]=m.yr0.slice())}return x.call("relayout",c,d).then(function(){for(var A=0;A<s.length;A++)f(s[A].plotinfo)})}()}),o=Date.now(),u=window.requestAnimationFrame(function d(){l=Date.now();for(var y=Math.min(1,(l-o)/n.duration),m=h(y),w=0;w<s.length;w++)T(s[w],m);l-o>n.duration?(function(){for(var _={},A=0;A<s.length;A++){var p=s[A],L=p.plotinfo.xaxis,M=p.plotinfo.yaxis;p.xr1&&(_[L._name+".range"]=p.xr1.slice()),p.yr1&&(_[M._name+".range"]=p.yr1.slice())}r&&r(),x.call("relayout",c,_).then(function(){for(var C=0;C<s.length;C++)f(s[C].plotinfo)})}(),u=window.cancelAnimationFrame(d)):u=window.requestAnimationFrame(d)}),Promise.resolve()}function f(d){var y=d.xaxis,m=d.yaxis;a._defs.select("#"+d.clipId+"> rect").call(b.setTranslate,0,0).call(b.setScale,1,1),d.plot.call(b.setTranslate,y._offset,m._offset).call(b.setScale,1,1);var w=d.plot.selectAll(".scatterlayer .trace");w.selectAll(".point").call(b.setPointGroupScale,1,1),w.selectAll(".textpoint").call(b.setTextPointsScale,1,1),w.call(b.hideOutsideRangePoints,d)}function T(d,y){var m=d.plotinfo,w=m.xaxis,_=m.yaxis,A=w._length,p=_._length,L=!!d.xr1,M=!!d.yr1,C=[];if(L){var R=t.simpleMap(d.xr0,w.r2l),I=t.simpleMap(d.xr1,w.r2l),D=R[1]-R[0],F=I[1]-I[0];C[0]=(R[0]*(1-y)+y*I[0]-R[0])/(R[1]-R[0])*A,C[2]=A*(1-y+y*F/D),w.range[0]=w.l2r(R[0]*(1-y)+y*I[0]),w.range[1]=w.l2r(R[1]*(1-y)+y*I[1])}else C[0]=0,C[2]=A;if(M){var q=t.simpleMap(d.yr0,_.r2l),z=t.simpleMap(d.yr1,_.r2l),V=q[1]-q[0],X=z[1]-z[0];C[1]=(q[1]*(1-y)+y*z[1]-q[1])/(q[0]-q[1])*p,C[3]=p*(1-y+y*X/V),_.range[0]=w.l2r(q[0]*(1-y)+y*z[0]),_.range[1]=_.l2r(q[1]*(1-y)+y*z[1])}else C[1]=0,C[3]=p;g.drawOne(c,w,{skipTitle:!0}),g.drawOne(c,_,{skipTitle:!0}),g.redrawComponents(c,[w._id,_._id]);var j=L?A/C[2]:1,H=M?p/C[3]:1,G=L?C[0]:0,ie=M?C[1]:0,re=L?C[0]/C[2]*A:0,te=M?C[1]/C[3]*p:0,K=w._offset-re,J=_._offset-te;m.clipRect.call(b.setTranslate,G,ie).call(b.setScale,1/j,1/H),m.plot.call(b.setTranslate,K,J).call(b.setScale,j,H),b.setPointGroupScale(m.zoomScalePts,1/j,1/H),b.setTextPointsScale(m.zoomScaleTxt,1/j,1/H)}g.redrawComponents(c)}},14944:function(O,S,e){var v=e(24040).traceIs,x=e(52976);function t(g){return{v:"x",h:"y"}[g.orientation||"v"]}function b(g,c){var s=t(g),n=v(g,"box-violin"),i=v(g._fullInput||{},"candlestick");return n&&!i&&c===s&&g[s]===void 0&&g[s+"0"]===void 0}O.exports=function(g,c,s,n){s("autotypenumbers",n.autotypenumbersDflt),s("type",(n.splomStash||{}).type)==="-"&&(function(i,a){if(i.type==="-"){var r,o=i._id,l=o.charAt(0);o.indexOf("scene")!==-1&&(o=l);var u=function(_,A,p){for(var L=0;L<_.length;L++){var M=_[L];if(M.type==="splom"&&M._length>0&&(M["_"+p+"axes"]||{})[A]||(M[p+"axis"]||p)===A&&(b(M,p)||(M[p]||[]).length||M[p+"0"]))return M}}(a,o,l);if(u)if(u.type!=="histogram"||l!=={v:"y",h:"x"}[u.orientation||"v"]){var h=l+"calendar",f=u[h],T={noMultiCategory:!v(u,"cartesian")||v(u,"noMultiCategory")};if(u.type==="box"&&u._hasPreCompStats&&l==={h:"x",v:"y"}[u.orientation||"v"]&&(T.noMultiCategory=!0),T.autotypenumbers=i.autotypenumbers,b(u,l)){var d=t(u),y=[];for(r=0;r<a.length;r++){var m=a[r];v(m,"box-violin")&&(m[l+"axis"]||l)===o&&(m[d]!==void 0?y.push(m[d][0]):m.name!==void 0?y.push(m.name):y.push("text"),m[h]!==f&&(f=void 0))}i.type=x(y,f,T)}else if(u.type==="splom"){var w=u.dimensions[u._axesDim[o]];w.visible&&(i.type=x(w.values,f,T))}else i.type=x(u[l]||[u[l+"0"]],f,T)}else i.type="linear"}}(c,n.data),c.type==="-"?c.type="linear":g.type=c.type)}},62460:function(O,S,e){var v=e(24040),x=e(3400);function t(s,n,i){var a,r,o,l=!1;if(n.type==="data")a=s._fullData[n.traces!==null?n.traces[0]:0];else{if(n.type!=="layout")return!1;a=s._fullLayout}return r=x.nestedProperty(a,n.prop).get(),(o=i[n.type]=i[n.type]||{}).hasOwnProperty(n.prop)&&o[n.prop]!==r&&(l=!0),o[n.prop]=r,{changed:l,value:r}}function b(s,n){var i=[],a=n[0],r={};if(typeof a=="string")r[a]=n[1];else{if(!x.isPlainObject(a))return i;r=a}return c(r,function(o,l,u){i.push({type:"layout",prop:o,value:u})},"",0),i}function g(s,n){var i,a,r,o,l=[];if(a=n[0],r=n[1],i=n[2],o={},typeof a=="string")o[a]=r;else{if(!x.isPlainObject(a))return l;o=a,i===void 0&&(i=r)}return i===void 0&&(i=null),c(o,function(u,h,f){var T,d;if(Array.isArray(f)){d=f.slice();var y=Math.min(d.length,s.data.length);i&&(y=Math.min(y,i.length)),T=[];for(var m=0;m<y;m++)T[m]=i?i[m]:m}else d=f,T=i?i.slice():null;if(T===null)Array.isArray(d)&&(d=d[0]);else if(Array.isArray(T)){if(!Array.isArray(d)){var w=d;d=[];for(var _=0;_<T.length;_++)d[_]=w}d.length=Math.min(T.length,d.length)}l.push({type:"data",prop:u,traces:T,value:d})},"",0),l}function c(s,n,i,a){Object.keys(s).forEach(function(r){var o=s[r];if(r[0]!=="_"){var l=i+(a>0?".":"")+r;x.isPlainObject(o)?c(o,n,l,a+1):n(l,r,o)}})}S.manageCommandObserver=function(s,n,i,a){var r={},o=!0;n&&n._commandObserver&&(r=n._commandObserver),r.cache||(r.cache={}),r.lookupTable={};var l=S.hasSimpleAPICommandBindings(s,i,r.lookupTable);if(n&&n._commandObserver){if(l)return r;if(n._commandObserver.remove)return n._commandObserver.remove(),n._commandObserver=null,r}if(l){t(s,l,r.cache),r.check=function(){if(o){var f=t(s,l,r.cache);return f.changed&&a&&r.lookupTable[f.value]!==void 0&&(r.disable(),Promise.resolve(a({value:f.value,type:l.type,prop:l.prop,traces:l.traces,index:r.lookupTable[f.value]})).then(r.enable,r.enable)),f.changed}};for(var u=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],h=0;h<u.length;h++)s._internalOn(u[h],r.check);r.remove=function(){for(var f=0;f<u.length;f++)s._removeInternalListener(u[f],r.check)}}else x.log("Unable to automatically bind plot updates to API command"),r.lookupTable={},r.remove=function(){};return r.disable=function(){o=!1},r.enable=function(){o=!0},n&&(n._commandObserver=r),r},S.hasSimpleAPICommandBindings=function(s,n,i){var a,r,o=n.length;for(a=0;a<o;a++){var l,u=n[a],h=u.method,f=u.args;if(Array.isArray(f)||(f=[]),!h)return!1;var T=S.computeAPICommandBindings(s,h,f);if(T.length!==1)return!1;if(r){if((l=T[0]).type!==r.type||l.prop!==r.prop)return!1;if(Array.isArray(r.traces)){if(!Array.isArray(l.traces))return!1;l.traces.sort();for(var d=0;d<r.traces.length;d++)if(r.traces[d]!==l.traces[d])return!1}else if(l.prop!==r.prop)return!1}else r=T[0],Array.isArray(r.traces)&&r.traces.sort();var y=(l=T[0]).value;if(Array.isArray(y)){if(y.length!==1)return!1;y=y[0]}i&&(i[y]=a)}return r},S.executeAPICommand=function(s,n,i){if(n==="skip")return Promise.resolve();var a=v.apiMethodRegistry[n],r=[s];Array.isArray(i)||(i=[]);for(var o=0;o<i.length;o++)r.push(i[o]);return a.apply(null,r).catch(function(l){return x.warn("API call to Plotly."+n+" rejected.",l),Promise.reject(l)})},S.computeAPICommandBindings=function(s,n,i){var a;switch(Array.isArray(i)||(i=[]),n){case"restyle":a=g(s,i);break;case"relayout":a=b(0,i);break;case"update":a=g(s,[i[0],i[2]]).concat(b(0,[i[1]]));break;case"animate":a=function(r,o){return Array.isArray(o[0])&&o[0].length===1&&["string","number"].indexOf(typeof o[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:o[0][0].toString()}]:[]}(0,i);break;default:a=[]}return a}},86968:function(O,S,e){var v=e(92880).extendFlat;S.u=function(x,t){t=t||{};var b={valType:"info_array",editType:(x=x||{}).editType,items:[{valType:"number",min:0,max:1,editType:x.editType},{valType:"number",min:0,max:1,editType:x.editType}],dflt:[0,1]},g=(x.name&&x.name,x.trace,t.description&&t.description,{x:v({},b,{}),y:v({},b,{}),editType:x.editType});return x.noGridCell||(g.row={valType:"integer",min:0,dflt:0,editType:x.editType},g.column={valType:"integer",min:0,dflt:0,editType:x.editType}),g},S.Q=function(x,t,b,g){var c=g&&g.x||[0,1],s=g&&g.y||[0,1],n=t.grid;if(n){var i=b("domain.column");i!==void 0&&(i<n.columns?c=n._domains.x[i]:delete x.domain.column);var a=b("domain.row");a!==void 0&&(a<n.rows?s=n._domains.y[a]:delete x.domain.row)}var r=b("domain.x",c),o=b("domain.y",s);r[0]<r[1]||(x.domain.x=c.slice()),o[0]<o[1]||(x.domain.y=s.slice())}},25376:function(O){O.exports=function(S){var e=S.variantValues,v=S.editType,x=S.colorEditType;x===void 0&&(x=v);var t={editType:v,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal"};S.noNumericWeightValues&&(t.valType="enumerated",t.values=t.extras,t.extras=void 0,t.min=void 0,t.max=void 0);var b={family:{valType:"string",noBlank:!0,strict:!0,editType:v},size:{valType:"number",min:1,editType:v},color:{valType:"color",editType:x},weight:t,style:{editType:v,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:S.noFontVariant?void 0:{editType:v,valType:"enumerated",values:e||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},textcase:S.noFontTextcase?void 0:{editType:v,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal"},lineposition:S.noFontLineposition?void 0:{editType:v,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none"},shadow:S.noFontShadow?void 0:{editType:v,valType:"string",dflt:S.autoShadowDflt?"auto":"none"},editType:v};return S.autoSize&&(b.size.dflt="auto"),S.autoColor&&(b.color.dflt="auto"),S.arrayOk&&(b.family.arrayOk=!0,b.weight.arrayOk=!0,b.style.arrayOk=!0,S.noFontVariant||(b.variant.arrayOk=!0),S.noFontTextcase||(b.textcase.arrayOk=!0),S.noFontLineposition||(b.lineposition.arrayOk=!0),S.noFontShadow||(b.shadow.arrayOk=!0),b.size.arrayOk=!0,b.color.arrayOk=!0),b}},16672:function(O){O.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},79552:function(O,S){S.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},S.axesNames=["lonaxis","lataxis"],S.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},S.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},S.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},S.clipPad=.001,S.precision=.1,S.landColor="#F0DC82",S.waterColor="#3399FF",S.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},S.sphereSVG={type:"Sphere"},S.fillLayers={ocean:1,land:1,lakes:1},S.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},S.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],S.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],S.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},43520:function(O,S,e){var v=e(33428),x=e(83356),t=x.geoPath,b=x.geoDistance,g=e(87108),c=e(24040),s=e(3400),n=s.strTranslate,i=e(76308),a=e(43616),r=e(93024),o=e(7316),l=e(54460),u=e(19280).getAutoRange,h=e(86476),f=e(22676).prepSelect,T=e(22676).clearOutline,d=e(22676).selectOnClick,y=e(79248),m=e(79552),w=e(27144),_=e(59972),A=e(55712).NO;function p(C){this.id=C.id,this.graphDiv=C.graphDiv,this.container=C.container,this.topojsonURL=C.topojsonURL,this.isStatic=C.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var L=p.prototype;function M(C,R){var I=m.clipPad,D=C[0]+I,F=C[1]-I,q=R[0]+I,z=R[1]-I;D>0&&F<0&&(F+=360);var V=(F-D)/4;return{type:"Polygon",coordinates:[[[D,q],[D,z],[D+V,z],[D+2*V,z],[D+3*V,z],[F,z],[F,q],[F-V,q],[F-2*V,q],[F-3*V,q],[D,q]]]}}O.exports=function(C){return new p(C)},L.plot=function(C,R,I,D){var F=this;if(D)return F.update(C,R,!0);F._geoCalcData=C,F._fullLayout=R;var q=R[this.id],z=[],V=!1;for(var X in m.layerNameToAdjective)if(X!=="frame"&&q["show"+X]){V=!0;break}for(var j=!1,H=0;H<C.length;H++){var G=C[0][0].trace;G._geo=F,G.locationmode&&(V=!0);var ie=G.marker;if(ie){var re=ie.angle,te=ie.angleref;(re||te==="north"||te==="previous")&&(j=!0)}}if(this._hasMarkerAngles=j,V){var K=_.getTopojsonName(q);F.topojson!==null&&K===F.topojsonName||(F.topojsonName=K,PlotlyGeoAssets.topojson[F.topojsonName]===void 0&&z.push(F.fetchTopojson()))}z=z.concat(w.fetchTraceGeoData(C)),I.push(new Promise(function(J,$){Promise.all(z).then(function(){F.topojson=PlotlyGeoAssets.topojson[F.topojsonName],F.update(C,R),J()}).catch($)}))},L.fetchTopojson=function(){var C=this,R=_.getTopojsonPath(C.topojsonURL,C.topojsonName);return new Promise(function(I,D){v.json(R,function(F,q){if(F)return F.status===404?D(new Error(["plotly.js could not find topojson file at",R+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):D(new Error(["unexpected error while fetching topojson file at",R].join(" ")));PlotlyGeoAssets.topojson[C.topojsonName]=q,I()})})},L.update=function(C,R,I){var D=R[this.id];this.hasChoropleth=!1;for(var F=0;F<C.length;F++){var q=C[F],z=q[0].trace;z.type==="choropleth"&&(this.hasChoropleth=!0),z.visible===!0&&z._length>0&&z._module.calcGeoJSON(q,R)}if(!I){if(this.updateProjection(C,R))return;this.viewInitial&&this.scope===D.scope||this.saveViewInitial(D)}this.scope=D.scope,this.updateBaseLayers(R,D),this.updateDims(R,D),this.updateFx(R,D),o.generalUpdatePerTraceModule(this.graphDiv,this,C,D);var V=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=V.selectAll(".point"),this.dataPoints.text=V.selectAll("text"),this.dataPaths.line=V.selectAll(".js-line");var X=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=X.selectAll("path"),this._render()},L.updateProjection=function(C,R){var I=this.graphDiv,D=R[this.id],F=R._size,q=D.domain,z=D.projection,V=D.lonaxis,X=D.lataxis,j=V._ax,H=X._ax,G=this.projection=function(le){var ye=le.projection,Oe=ye.type,Ae=m.projNames[Oe];Ae="geo"+s.titleCase(Ae);for(var Se=(x[Ae]||g[Ae])(),Pe=le._isSatellite?180*Math.acos(1/ye.distance)/Math.PI:le._isClipped?m.lonaxisSpan[Oe]/2:null,Fe=["center","rotate","parallels","clipExtent"],Be=function(Ce){return Ce?Se:[]},xe=0;xe<Fe.length;xe++){var Me=Fe[xe];typeof Se[Me]!="function"&&(Se[Me]=Be)}return Se.isLonLatOverEdges=function(Ce){if(Se(Ce)===null)return!0;if(Pe){var Ne=Se.rotate();return b(Ce,[-Ne[0],-Ne[1]])>Pe*Math.PI/180}return!1},Se.getPath=function(){return t().projection(Se)},Se.getBounds=function(Ce){return Se.getPath().bounds(Ce)},Se.precision(m.precision),le._isSatellite&&Se.tilt(ye.tilt).distance(ye.distance),Pe&&Se.clipAngle(Pe-m.clipPad),Se}(D),ie=[[F.l+F.w*q.x[0],F.t+F.h*(1-q.y[1])],[F.l+F.w*q.x[1],F.t+F.h*(1-q.y[0])]],re=D.center||{},te=z.rotation||{},K=V.range||[],J=X.range||[];if(D.fitbounds){j._length=ie[1][0]-ie[0][0],H._length=ie[1][1]-ie[0][1],j.range=u(I,j),H.range=u(I,H);var $=(j.range[0]+j.range[1])/2,ae=(H.range[0]+H.range[1])/2;if(D._isScoped)re={lon:$,lat:ae};else if(D._isClipped){re={lon:$,lat:ae},te={lon:$,lat:ae,roll:te.roll};var ue=z.type,ce=m.lonaxisSpan[ue]/2||180,de=m.lataxisSpan[ue]/2||90;K=[$-ce,$+ce],J=[ae-de,ae+de]}else re={lon:$,lat:ae},te={lon:$,lat:te.lat,roll:te.roll}}G.center([re.lon-te.lon,re.lat-te.lat]).rotate([-te.lon,-te.lat,te.roll]).parallels(z.parallels);var pe=M(K,J);G.fitExtent(ie,pe);var me=this.bounds=G.getBounds(pe),be=this.fitScale=G.scale(),we=G.translate();if(D.fitbounds){var Te=G.getBounds(M(j.range,H.range)),Le=Math.min((me[1][0]-me[0][0])/(Te[1][0]-Te[0][0]),(me[1][1]-me[0][1])/(Te[1][1]-Te[0][1]));isFinite(Le)?G.scale(Le*be):s.warn("Something went wrong during"+this.id+"fitbounds computations.")}else G.scale(z.scale*be);var Ie=this.midPt=[(me[0][0]+me[1][0])/2,(me[0][1]+me[1][1])/2];if(G.translate([we[0]+(Ie[0]-we[0]),we[1]+(Ie[1]-we[1])]).clipExtent(me),D._isAlbersUsa){var _e=G([re.lon,re.lat]),fe=G.translate();G.translate([fe[0]-(_e[0]-fe[0]),fe[1]-(_e[1]-fe[1])])}},L.updateBaseLayers=function(C,R){var I=this,D=I.topojson,F=I.layers,q=I.basePaths;function z(G){return G==="lonaxis"||G==="lataxis"}function V(G){return!!m.lineLayers[G]}function X(G){return!!m.fillLayers[G]}var j=(this.hasChoropleth?m.layersForChoropleth:m.layers).filter(function(G){return V(G)||X(G)?R["show"+G]:!z(G)||R[G].showgrid}),H=I.framework.selectAll(".layer").data(j,String);H.exit().each(function(G){delete F[G],delete q[G],v.select(this).remove()}),H.enter().append("g").attr("class",function(G){return"layer "+G}).each(function(G){var ie=F[G]=v.select(this);G==="bg"?I.bgRect=ie.append("rect").style("pointer-events","all"):z(G)?q[G]=ie.append("path").style("fill","none"):G==="backplot"?ie.append("g").classed("choroplethlayer",!0):G==="frontplot"?ie.append("g").classed("scatterlayer",!0):V(G)?q[G]=ie.append("path").style("fill","none").style("stroke-miterlimit",2):X(G)&&(q[G]=ie.append("path").style("stroke","none"))}),H.order(),H.each(function(G){var ie=q[G],re=m.layerNameToAdjective[G];G==="frame"?ie.datum(m.sphereSVG):V(G)||X(G)?ie.datum(A(D,D.objects[G])):z(G)&&ie.datum(function(te,K,J){var $,ae,ue,ce=K[te],de=m.scopeDefaults[K.scope];te==="lonaxis"?($=de.lonaxisRange,ae=de.lataxisRange,ue=function(fe,le){return[fe,le]}):te==="lataxis"&&($=de.lataxisRange,ae=de.lonaxisRange,ue=function(fe,le){return[le,fe]});var pe={type:"linear",range:[$[0],$[1]-1e-6],tick0:ce.tick0,dtick:ce.dtick};l.setConvert(pe,J);var me=l.calcTicks(pe);K.isScoped||te!=="lonaxis"||me.pop();for(var be=me.length,we=new Array(be),Te=0;Te<be;Te++)for(var Le=me[Te].x,Ie=we[Te]=[],_e=ae[0];_e<ae[1]+2.5;_e+=2.5)Ie.push(ue(Le,_e));return{type:"MultiLineString",coordinates:we}}(G,R,C)).call(i.stroke,R[G].gridcolor).call(a.dashLine,R[G].griddash,R[G].gridwidth),V(G)?ie.call(i.stroke,R[re+"color"]).call(a.dashLine,"",R[re+"width"]):X(G)&&ie.call(i.fill,R[re+"color"])})},L.updateDims=function(C,R){var I=this.bounds,D=(R.framewidth||0)/2,F=I[0][0]-D,q=I[0][1]-D,z=I[1][0]-F+D,V=I[1][1]-q+D;a.setRect(this.clipRect,F,q,z,V),this.bgRect.call(a.setRect,F,q,z,V).call(i.fill,R.bgcolor),this.xaxis._offset=F,this.xaxis._length=z,this.yaxis._offset=q,this.yaxis._length=V},L.updateFx=function(C,R){var I=this,D=I.graphDiv,F=I.bgRect,q=C.dragmode,z=C.clickmode;if(!I.isStatic){var V={element:I.bgRect.node(),gd:D,plotinfo:{id:I.id,xaxis:I.xaxis,yaxis:I.yaxis,fillRangeItems:function(j,H){H.isRect?(j.range={})[I.id]=[X([H.xmin,H.ymin]),X([H.xmax,H.ymax])]:(j.lassoPoints={})[I.id]=H.map(X)}},xaxes:[I.xaxis],yaxes:[I.yaxis],subplot:I.id,clickFn:function(j){j===2&&T(D)}};q==="pan"?(F.node().onmousedown=null,F.call(y(I,R)),F.on("dblclick.zoom",function(){var j=I.viewInitial,H={};for(var G in j)H[I.id+"."+G]=j[G];c.call("_guiRelayout",D,H),D.emit("plotly_doubleclick",null)}),D._context._scrollZoom.geo||F.on("wheel.zoom",null)):q!=="select"&&q!=="lasso"||(F.on(".zoom",null),V.prepFn=function(j,H,G){f(j,H,G,V,q)},h.init(V)),F.on("mousemove",function(){var j=I.projection.invert(s.getPositionFromD3Event());if(!j)return h.unhover(D,v.event);I.xaxis.p2c=function(){return j[0]},I.yaxis.p2c=function(){return j[1]},r.hover(D,v.event,I.id)}),F.on("mouseout",function(){D._dragging||h.unhover(D,v.event)}),F.on("click",function(){q!=="select"&&q!=="lasso"&&(z.indexOf("select")>-1&&d(v.event,D,[I.xaxis],[I.yaxis],I.id,V),z.indexOf("event")>-1&&r.click(D,v.event))})}function X(j){return I.projection.invert([j[0]+I.xaxis._offset,j[1]+I.yaxis._offset])}},L.makeFramework=function(){var C=this,R=C.graphDiv,I=R._fullLayout,D="clip"+I._uid+C.id;C.clipDef=I._clips.append("clipPath").attr("id",D),C.clipRect=C.clipDef.append("rect"),C.framework=v.select(C.container).append("g").attr("class","geo "+C.id).call(a.setClipUrl,D,R),C.project=function(F){var q=C.projection(F);return q?[q[0]-C.xaxis._offset,q[1]-C.yaxis._offset]:[null,null]},C.xaxis={_id:"x",c2p:function(F){return C.project(F)[0]}},C.yaxis={_id:"y",c2p:function(F){return C.project(F)[1]}},C.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},l.setConvert(C.mockAxis,I)},L.saveViewInitial=function(C){var R,I=C.center||{},D=C.projection,F=D.rotation||{};this.viewInitial={fitbounds:C.fitbounds,"projection.scale":D.scale},R=C._isScoped?{"center.lon":I.lon,"center.lat":I.lat}:C._isClipped?{"projection.rotation.lon":F.lon,"projection.rotation.lat":F.lat}:{"center.lon":I.lon,"center.lat":I.lat,"projection.rotation.lon":F.lon},s.extendFlat(this.viewInitial,R)},L.render=function(C){this._hasMarkerAngles&&C?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},L._render=function(){var C,R=this.projection,I=R.getPath();function D(q){var z=R(q.lonlat);return z?n(z[0],z[1]):null}function F(q){return R.isLonLatOverEdges(q.lonlat)?"none":null}for(C in this.basePaths)this.basePaths[C].attr("d",I);for(C in this.dataPaths)this.dataPaths[C].attr("d",function(q){return I(q.geojson)});for(C in this.dataPoints)this.dataPoints[C].attr("display",F).attr("transform",D)}},10816:function(O,S,e){var v=e(84888).KY,x=e(3400).counterRegex,t=e(43520),b="geo",g=x(b),c={};c[b]={valType:"subplotid",dflt:b,editType:"calc"},O.exports={attr:b,name:b,idRoot:b,idRegex:g,attrRegex:g,attributes:c,layoutAttributes:e(40384),supplyLayoutDefaults:e(86920),plot:function(s){for(var n=s._fullLayout,i=s.calcdata,a=n._subplots[b],r=0;r<a.length;r++){var o=a[r],l=v(i,b,o),u=n[o]._subplot;u||(u=t({id:o,graphDiv:s,container:n._geolayer.node(),topojsonURL:s._context.topojsonURL,staticPlot:s._context.staticPlot}),n[o]._subplot=u),u.plot(l,n,s._promises)}},updateFx:function(s){for(var n=s._fullLayout,i=n._subplots[b],a=0;a<i.length;a++){var r=n[i[a]];r._subplot.updateFx(n,r)}},clean:function(s,n,i,a){for(var r=a._subplots[b]||[],o=0;o<r.length;o++){var l=r[o],u=a[l]._subplot;!n[l]&&u&&(u.framework.remove(),u.clipDef.remove())}}}},40384:function(O,S,e){var v=e(22548),x=e(86968).u,t=e(98192).u,b=e(79552),g=e(67824).overrideAll,c=e(95376),s={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:v.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:t};(O.exports=g({domain:x({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:c(b.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:c(b.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:v.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:b.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:b.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:b.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:b.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:v.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:v.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:v.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:v.background},lonaxis:s,lataxis:s},"plot","from-root")).uirevision={valType:"any",editType:"none"}},86920:function(O,S,e){var v=e(3400),x=e(168),t=e(84888).op,b=e(79552),g=e(40384),c=b.axesNames;function s(n,i,a,r){var o=t(r.fullData,"geo",r.id).map(function(te){return te._expandedIndex}),l=a("resolution"),u=a("scope"),h=b.scopeDefaults[u],f=a("projection.type",h.projType),T=i._isAlbersUsa=f==="albers usa";T&&(u=i.scope="usa");var d=i._isScoped=u!=="world",y=i._isSatellite=f==="satellite",m=i._isConic=f.indexOf("conic")!==-1||f==="albers",w=i._isClipped=!!b.lonaxisSpan[f];if(n.visible===!1){var _=v.extendDeep({},i._template);_.showcoastlines=!1,_.showcountries=!1,_.showframe=!1,_.showlakes=!1,_.showland=!1,_.showocean=!1,_.showrivers=!1,_.showsubunits=!1,_.lonaxis&&(_.lonaxis.showgrid=!1),_.lataxis&&(_.lataxis.showgrid=!1),i._template=_}for(var A=a("visible"),p=0;p<c.length;p++){var L,M=c[p],C=[30,10][p];if(d)L=h[M+"Range"];else{var R=b[M+"Span"],I=(R[f]||R["*"])/2,D=a("projection.rotation."+M.substr(0,3),h.projRotate[p]);L=[D-I,D+I]}var F=a(M+".range",L);a(M+".tick0"),a(M+".dtick",C),a(M+".showgrid",!!A&&void 0)&&(a(M+".gridcolor"),a(M+".gridwidth"),a(M+".griddash")),i[M]._ax={type:"linear",_id:M.slice(0,3),_traceIndices:o,setScale:v.identity,c2l:v.identity,r2l:v.identity,autorange:!0,range:F.slice(),_m:1,_input:{}}}var q=i.lonaxis.range,z=i.lataxis.range,V=q[0],X=q[1];V>0&&X<0&&(X+=360);var j,H,G,ie=(V+X)/2;if(!T){var re=d?h.projRotate:[ie,0,0];j=a("projection.rotation.lon",re[0]),a("projection.rotation.lat",re[1]),a("projection.rotation.roll",re[2]),a("showcoastlines",!d&&A)&&(a("coastlinecolor"),a("coastlinewidth")),a("showocean",!!A&&void 0)&&a("oceancolor")}T?(H=-96.6,G=38.7):(H=d?ie:j,G=(z[0]+z[1])/2),a("center.lon",H),a("center.lat",G),y&&(a("projection.tilt"),a("projection.distance")),m&&a("projection.parallels",h.projParallels||[0,60]),a("projection.scale"),a("showland",!!A&&void 0)&&a("landcolor"),a("showlakes",!!A&&void 0)&&a("lakecolor"),a("showrivers",!!A&&void 0)&&(a("rivercolor"),a("riverwidth")),a("showcountries",d&&u!=="usa"&&A)&&(a("countrycolor"),a("countrywidth")),(u==="usa"||u==="north america"&&l===50)&&(a("showsubunits",A),a("subunitcolor"),a("subunitwidth")),d||a("showframe",A)&&(a("framecolor"),a("framewidth")),a("bgcolor"),a("fitbounds")&&(delete i.projection.scale,d?(delete i.center.lon,delete i.center.lat):w?(delete i.center.lon,delete i.center.lat,delete i.projection.rotation.lon,delete i.projection.rotation.lat,delete i.lonaxis.range,delete i.lataxis.range):(delete i.center.lon,delete i.center.lat,delete i.projection.rotation.lon))}O.exports=function(n,i,a){x(n,i,a,{type:"geo",attributes:g,handleDefaults:s,fullData:a,partition:"y"})}},79248:function(O,S,e){var v=e(33428),x=e(3400),t=e(24040),b=Math.PI/180,g=180/Math.PI,c={cursor:"pointer"},s={cursor:"auto"};function n(d,y){return v.behavior.zoom().translate(y.translate()).scale(y.scale())}function i(d,y,m){var w=d.id,_=d.graphDiv,A=_.layout,p=A[w],L=_._fullLayout,M=L[w],C={},R={};function I(D,F){C[w+"."+D]=x.nestedProperty(p,D).get(),t.call("_storeDirectGUIEdit",A,L._preGUI,C);var q=x.nestedProperty(M,D);q.get()!==F&&(q.set(F),x.nestedProperty(p,D).set(F),R[w+"."+D]=F)}m(I),I("projection.scale",y.scale()/d.fitScale),I("fitbounds",!1),_.emit("plotly_relayout",R)}function a(d,y){var m=n(0,y);function w(_){var A=y.invert(d.midPt);_("center.lon",A[0]),_("center.lat",A[1])}return m.on("zoomstart",function(){v.select(this).style(c)}).on("zoom",function(){y.scale(v.event.scale).translate(v.event.translate),d.render(!0);var _=y.invert(d.midPt);d.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":y.scale()/d.fitScale,"geo.center.lon":_[0],"geo.center.lat":_[1]})}).on("zoomend",function(){v.select(this).style(s),i(d,y,w)}),m}function r(d,y){var m,w,_,A,p,L,M,C,R,I=n(0,y);function D(q){return y.invert(q)}function F(q){var z=y.rotate(),V=y.invert(d.midPt);q("projection.rotation.lon",-z[0]),q("center.lon",V[0]),q("center.lat",V[1])}return I.on("zoomstart",function(){v.select(this).style(c),m=v.mouse(this),w=y.rotate(),_=y.translate(),A=w,p=D(m)}).on("zoom",function(){if(L=v.mouse(this),function(V){var X=D(V);if(!X)return!0;var j=y(X);return Math.abs(j[0]-V[0])>2||Math.abs(j[1]-V[1])>2}(m))return I.scale(y.scale()),void I.translate(y.translate());y.scale(v.event.scale),y.translate([_[0],v.event.translate[1]]),p?D(L)&&(C=D(L),M=[A[0]+(C[0]-p[0]),w[1],w[2]],y.rotate(M),A=M):p=D(m=L),R=!0,d.render(!0);var q=y.rotate(),z=y.invert(d.midPt);d.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":y.scale()/d.fitScale,"geo.center.lon":z[0],"geo.center.lat":z[1],"geo.projection.rotation.lon":-q[0]})}).on("zoomend",function(){v.select(this).style(s),R&&i(d,y,F)}),I}function o(d,y){var m;y.rotate(),y.scale();var w=n(0,y),_=function(M){for(var C=0,R=arguments.length,I=[];++C<R;)I.push(arguments[C]);var D=v.dispatch.apply(null,I);return D.of=function(F,q){return function(z){var V;try{V=z.sourceEvent=v.event,z.target=M,v.event=z,D[z.type].apply(F,q)}finally{v.event=V}}},D}(w,"zoomstart","zoom","zoomend"),A=0,p=w.on;function L(M){var C=y.rotate();M("projection.rotation.lon",-C[0]),M("projection.rotation.lat",-C[1])}return w.on("zoomstart",function(){v.select(this).style(c);var M,C,R,I,D,F,q,z,V,X,j,H=v.mouse(this),G=y.rotate(),ie=G,re=y.translate(),te=(C=.5*(M=G)[0]*b,R=.5*M[1]*b,I=.5*M[2]*b,D=Math.sin(C),F=Math.cos(C),q=Math.sin(R),z=Math.cos(R),V=Math.sin(I),[F*z*(X=Math.cos(I))+D*q*V,D*z*X-F*q*V,F*q*X+D*z*V,F*z*V-D*q*X]);m=l(y,H),p.call(w,"zoom",function(){var K,J,$,ae,ue,ce,de,pe,me,be,we=v.mouse(this);if(y.scale(v.event.scale),m){if(l(y,we)){y.rotate(G).translate(re);var Te=l(y,we),Le=function(fe,le){if(fe&&le){var ye=function(Pe,Fe){return[Pe[1]*Fe[2]-Pe[2]*Fe[1],Pe[2]*Fe[0]-Pe[0]*Fe[2],Pe[0]*Fe[1]-Pe[1]*Fe[0]]}(fe,le),Oe=Math.sqrt(T(ye,ye)),Ae=.5*Math.acos(Math.max(-1,Math.min(1,T(fe,le)))),Se=Math.sin(Ae)/Oe;return Oe&&[Math.cos(Ae),ye[2]*Se,-ye[1]*Se,ye[0]*Se]}}(m,Te),Ie=function(fe){return[Math.atan2(2*(fe[0]*fe[1]+fe[2]*fe[3]),1-2*(fe[1]*fe[1]+fe[2]*fe[2]))*g,Math.asin(Math.max(-1,Math.min(1,2*(fe[0]*fe[2]-fe[3]*fe[1]))))*g,Math.atan2(2*(fe[0]*fe[3]+fe[1]*fe[2]),1-2*(fe[2]*fe[2]+fe[3]*fe[3]))*g]}(($=(K=te)[0],ae=K[1],ue=K[2],ce=K[3],[$*(de=(J=Le)[0])-ae*(pe=J[1])-ue*(me=J[2])-ce*(be=J[3]),$*pe+ae*de+ue*be-ce*me,$*me-ae*be+ue*de+ce*pe,$*be+ae*me-ue*pe+ce*de])),_e=function(fe,le,ye){var Oe=f(le,2,fe[0]);Oe=f(Oe,1,fe[1]),Oe=f(Oe,0,fe[2]-ye[2]);var Ae,Se,Pe=le[0],Fe=le[1],Be=le[2],xe=Oe[0],Me=Oe[1],Ce=Oe[2],Ne=Math.atan2(Fe,Pe)*g,Re=Math.sqrt(Pe*Pe+Fe*Fe);Math.abs(Me)>Re?(Se=(Me>0?90:-90)-Ne,Ae=0):(Se=Math.asin(Me/Re)*g-Ne,Ae=Math.sqrt(Re*Re-Me*Me));var He=180-Se-2*Ne,Ye=(Math.atan2(Ce,xe)-Math.atan2(Be,Ae))*g,Qe=(Math.atan2(Ce,xe)-Math.atan2(Be,-Ae))*g;return u(ye[0],ye[1],Se,Ye)<=u(ye[0],ye[1],He,Qe)?[Se,Ye,ye[2]]:[He,Qe,ye[2]]}(Ie,m,ie);isFinite(_e[0])&&isFinite(_e[1])&&isFinite(_e[2])||(_e=ie),y.rotate(_e),ie=_e}}else m=l(y,H=we);_.of(this,arguments)({type:"zoom"})}),j=_.of(this,arguments),A++||j({type:"zoomstart"})}).on("zoomend",function(){var M;v.select(this).style(s),p.call(w,"zoom",null),M=_.of(this,arguments),--A||M({type:"zoomend"}),i(d,y,L)}).on("zoom.redraw",function(){d.render(!0);var M=y.rotate();d.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":y.scale()/d.fitScale,"geo.projection.rotation.lon":-M[0],"geo.projection.rotation.lat":-M[1]})}),v.rebind(w,_,"on")}function l(d,y){var m=d.invert(y);return m&&isFinite(m[0])&&isFinite(m[1])&&function(w){var _=w[0]*b,A=w[1]*b,p=Math.cos(A);return[p*Math.cos(_),p*Math.sin(_),Math.sin(A)]}(m)}function u(d,y,m,w){var _=h(m-d),A=h(w-y);return Math.sqrt(_*_+A*A)}function h(d){return(d%360+540)%360-180}function f(d,y,m){var w=m*b,_=d.slice(),A=y===0?1:0,p=y===2?1:2,L=Math.cos(w),M=Math.sin(w);return _[A]=d[A]*L-d[p]*M,_[p]=d[p]*L+d[A]*M,_}function T(d,y){for(var m=0,w=0,_=d.length;w<_;++w)m+=d[w]*y[w];return m}O.exports=function(d,y){var m=d.projection;return(y._isScoped?a:y._isClipped?o:r)(d,m)}},84888:function(O,S,e){var v=e(24040),x=e(33816).SUBPLOT_PATTERN;S.KY=function(t,b,g){var c=v.subplotsRegistry[b];if(!c)return[];for(var s=c.attr,n=[],i=0;i<t.length;i++){var a=t[i];a[0].trace[s]===g&&n.push(a)}return n},S._M=function(t,b,g){var c,s=[],n=[];if(!(c=typeof b=="string"?v.getModule(b).plot:typeof b=="function"?b:b.plot))return[s,t];for(var i=g,a=0;a<t.length;a++){var r=t[a],o=r[0].trace,l=o.zorder!==void 0;o.visible===!0&&o._length!==0&&(!o._module||o._module.plot!==c||l&&o.zorder!==i?n.push(r):s.push(r))}return[s,n]},S.op=function(t,b,g){if(!v.subplotsRegistry[b])return[];var c,s,n,i=v.subplotsRegistry[b].attr,a=[];if(b==="gl2d"){var r=g.match(x);s="x"+r[1],n="y"+r[2]}for(var o=0;o<t.length;o++)c=t[o],b==="gl2d"&&v.traceIs(c,"gl2d")?c[i[0]]===s&&c[i[1]]===n&&a.push(c):c[i]===g&&a.push(c);return a}},2428:function(O,S,e){var v=e(62644),x=e(97264),t=e(29128),b=e(33816),g=e(89184);function c(s,n){this.element=s,this.plot=n,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}O.exports=function(s){var n=s.mouseContainer,i=s.glplot,a=new c(n,i);function r(){s.xaxis.autorange=!1,s.yaxis.autorange=!1}function o(l,u,h){var f,T,d=s.calcDataBox(),y=i.viewBox,m=a.lastPos[0],w=a.lastPos[1],_=b.MINDRAG*i.pixelRatio,A=b.MINZOOM*i.pixelRatio;function p(D,F,q){var z=Math.min(F,q),V=Math.max(F,q);z!==V?(d[D]=z,d[D+2]=V,a.dataBox=d,s.setRanges(d)):(s.selectBox.selectBox=[0,0,1,1],s.glplot.setDirty())}switch(u*=i.pixelRatio,h*=i.pixelRatio,h=y[3]-y[1]-h,s.fullLayout.dragmode){case"zoom":if(l){var L=u/(y[2]-y[0])*(d[2]-d[0])+d[0],M=h/(y[3]-y[1])*(d[3]-d[1])+d[1];a.boxInited||(a.boxStart[0]=L,a.boxStart[1]=M,a.dragStart[0]=u,a.dragStart[1]=h),a.boxEnd[0]=L,a.boxEnd[1]=M,a.boxInited=!0,a.boxEnabled||a.boxStart[0]===a.boxEnd[0]&&a.boxStart[1]===a.boxEnd[1]||(a.boxEnabled=!0);var C=Math.abs(a.dragStart[0]-u)<A,R=Math.abs(a.dragStart[1]-h)<A;if(!function(){for(var D=s.graphDiv._fullLayout._axisConstraintGroups,F=s.xaxis._id,q=s.yaxis._id,z=0;z<D.length;z++)if(D[z][F]!==-1){if(D[z][q]!==-1)return!0;break}return!1}()||C&&R)C&&(a.boxEnd[0]=a.boxStart[0]),R&&(a.boxEnd[1]=a.boxStart[1]);else{f=a.boxEnd[0]-a.boxStart[0],T=a.boxEnd[1]-a.boxStart[1];var I=(d[3]-d[1])/(d[2]-d[0]);Math.abs(f*I)>Math.abs(T)?(a.boxEnd[1]=a.boxStart[1]+Math.abs(f)*I*(T>=0?1:-1),a.boxEnd[1]<d[1]?(a.boxEnd[1]=d[1],a.boxEnd[0]=a.boxStart[0]+(d[1]-a.boxStart[1])/Math.abs(I)):a.boxEnd[1]>d[3]&&(a.boxEnd[1]=d[3],a.boxEnd[0]=a.boxStart[0]+(d[3]-a.boxStart[1])/Math.abs(I))):(a.boxEnd[0]=a.boxStart[0]+Math.abs(T)/I*(f>=0?1:-1),a.boxEnd[0]<d[0]?(a.boxEnd[0]=d[0],a.boxEnd[1]=a.boxStart[1]+(d[0]-a.boxStart[0])*Math.abs(I)):a.boxEnd[0]>d[2]&&(a.boxEnd[0]=d[2],a.boxEnd[1]=a.boxStart[1]+(d[2]-a.boxStart[0])*Math.abs(I)))}}else a.boxEnabled?(f=a.boxStart[0]!==a.boxEnd[0],T=a.boxStart[1]!==a.boxEnd[1],f||T?(f&&(p(0,a.boxStart[0],a.boxEnd[0]),s.xaxis.autorange=!1),T&&(p(1,a.boxStart[1],a.boxEnd[1]),s.yaxis.autorange=!1),s.relayoutCallback()):s.glplot.setDirty(),a.boxEnabled=!1,a.boxInited=!1):a.boxInited&&(a.boxInited=!1);break;case"pan":a.boxEnabled=!1,a.boxInited=!1,l?(a.panning||(a.dragStart[0]=u,a.dragStart[1]=h),Math.abs(a.dragStart[0]-u)<_&&(u=a.dragStart[0]),Math.abs(a.dragStart[1]-h)<_&&(h=a.dragStart[1]),f=(m-u)*(d[2]-d[0])/(i.viewBox[2]-i.viewBox[0]),T=(w-h)*(d[3]-d[1])/(i.viewBox[3]-i.viewBox[1]),d[0]+=f,d[2]+=f,d[1]+=T,d[3]+=T,s.setRanges(d),a.panning=!0,a.lastInputTime=Date.now(),r(),s.cameraChanged(),s.handleAnnotations()):a.panning&&(a.panning=!1,s.relayoutCallback())}a.lastPos[0]=u,a.lastPos[1]=h}return a.mouseListener=v(n,o),n.addEventListener("touchstart",function(l){var u=t(l.changedTouches[0],n);o(0,u[0],u[1]),o(1,u[0],u[1]),l.preventDefault()},!!g&&{passive:!1}),n.addEventListener("touchmove",function(l){l.preventDefault();var u=t(l.changedTouches[0],n);o(1,u[0],u[1]),l.preventDefault()},!!g&&{passive:!1}),n.addEventListener("touchend",function(l){o(0,a.lastPos[0],a.lastPos[1]),l.preventDefault()},!!g&&{passive:!1}),a.wheelListener=x(n,function(l,u){if(!s.scrollZoom)return!1;var h=s.calcDataBox(),f=i.viewBox,T=a.lastPos[0],d=a.lastPos[1],y=Math.exp(5*u/(f[3]-f[1])),m=T/(f[2]-f[0])*(h[2]-h[0])+h[0],w=d/(f[3]-f[1])*(h[3]-h[1])+h[1];return h[0]=(h[0]-m)*y+m,h[2]=(h[2]-m)*y+m,h[1]=(h[1]-w)*y+w,h[3]=(h[3]-w)*y+w,s.setRanges(h),a.lastInputTime=Date.now(),r(),s.cameraChanged(),s.handleAnnotations(),s.relayoutCallback(),!0},!0),a}},92568:function(O,S,e){var v=e(54460),x=e(43080);function t(c){this.scene=c,this.gl=c.gl,this.pixelRatio=c.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var b=t.prototype,g=["xaxis","yaxis"];b.merge=function(c){var s,n,i,a,r,o,l,u,h,f,T;for(this.titleEnable=!1,this.backgroundColor=x(c.plot_bgcolor),f=0;f<2;++f){var d=(s=g[f]).charAt(0);for(i=(n=c[this.scene[s]._name]).title.text===this.scene.fullLayout._dfltTitle[d]?"":n.title.text,T=0;T<=2;T+=2)this.labelEnable[f+T]=!1,this.labels[f+T]=i,this.labelColor[f+T]=x(n.title.font.color),this.labelFont[f+T]=n.title.font.family,this.labelSize[f+T]=n.title.font.size,this.labelPad[f+T]=this.getLabelPad(s,n),this.tickEnable[f+T]=!1,this.tickColor[f+T]=x((n.tickfont||{}).color),this.tickAngle[f+T]=n.tickangle==="auto"?0:Math.PI*-n.tickangle/180,this.tickPad[f+T]=this.getTickPad(n),this.tickMarkLength[f+T]=0,this.tickMarkWidth[f+T]=n.tickwidth||0,this.tickMarkColor[f+T]=x(n.tickcolor),this.borderLineEnable[f+T]=!1,this.borderLineColor[f+T]=x(n.linecolor),this.borderLineWidth[f+T]=n.linewidth||0;l=this.hasSharedAxis(n),r=this.hasAxisInDfltPos(s,n)&&!l,o=this.hasAxisInAltrPos(s,n)&&!l,a=n.mirror||!1,u=l?String(a).indexOf("all")!==-1:!!a,h=l?a==="allticks":String(a).indexOf("ticks")!==-1,r?this.labelEnable[f]=!0:o&&(this.labelEnable[f+2]=!0),r?this.tickEnable[f]=n.showticklabels:o&&(this.tickEnable[f+2]=n.showticklabels),(r||u)&&(this.borderLineEnable[f]=n.showline),(o||u)&&(this.borderLineEnable[f+2]=n.showline),(r||h)&&(this.tickMarkLength[f]=this.getTickMarkLength(n)),(o||h)&&(this.tickMarkLength[f+2]=this.getTickMarkLength(n)),this.gridLineEnable[f]=n.showgrid,this.gridLineColor[f]=x(n.gridcolor),this.gridLineWidth[f]=n.gridwidth,this.zeroLineEnable[f]=n.zeroline,this.zeroLineColor[f]=x(n.zerolinecolor),this.zeroLineWidth[f]=n.zerolinewidth}},b.hasSharedAxis=function(c){var s=this.scene,n=s.fullLayout._subplots.gl2d;return v.findSubplotsWithAxis(n,c).indexOf(s.id)!==0},b.hasAxisInDfltPos=function(c,s){var n=s.side;return c==="xaxis"?n==="bottom":c==="yaxis"?n==="left":void 0},b.hasAxisInAltrPos=function(c,s){var n=s.side;return c==="xaxis"?n==="top":c==="yaxis"?n==="right":void 0},b.getLabelPad=function(c,s){var n=1.5,i=s.title.font.size,a=s.showticklabels;return c==="xaxis"?s.side==="top"?i*(n+(a?1:0))-10:i*(n+(a?.5:0))-10:c==="yaxis"?s.side==="right"?10+i*(n+(a?1:.5)):10+i*(n+(a?.5:0)):void 0},b.getTickPad=function(c){return c.ticks==="outside"?10+c.ticklen:15},b.getTickMarkLength=function(c){if(!c.ticks)return 0;var s=c.ticklen;return c.ticks==="inside"?-s:s},O.exports=function(c){return new t(c)}},39952:function(O,S,e){var v=e(67824).overrideAll,x=e(17188),t=e(64859),b=e(9616),g=e(33816),c=e(57952),s=e(65460),n=e(84888).op;S.name="gl2d",S.attr=["xaxis","yaxis"],S.idRoot=["x","y"],S.idRegex=g.idRegex,S.attrRegex=g.attrRegex,S.attributes=e(26720),S.supplyLayoutDefaults=function(i,a,r){a._has("cartesian")||c.supplyLayoutDefaults(i,a,r)},S.layoutAttrOverrides=v(c.layoutAttributes,"plot","from-root"),S.baseLayoutAttrOverrides=v({plot_bgcolor:t.plot_bgcolor,hoverlabel:s.hoverlabel},"plot","nested"),S.plot=function(i){for(var a=i._fullLayout,r=i._fullData,o=a._subplots.gl2d,l=0;l<o.length;l++){var u=o[l],h=a._plots[u],f=n(r,"gl2d",u),T=h._scene2d;T===void 0&&(T=new x({id:u,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio},a),h._scene2d=T),T.plot(f,i.calcdata,a,i.layout)}},S.clean=function(i,a,r,o){for(var l=o._subplots.gl2d||[],u=0;u<l.length;u++){var h=l[u],f=o._plots[h];f._scene2d&&n(i,"gl2d",h).length===0&&(f._scene2d.destroy(),delete o._plots[h])}c.clean.apply(this,arguments)},S.drawFramework=function(i){i._context.staticPlot||c.drawFramework(i)},S.toSVG=function(i){for(var a=i._fullLayout,r=a._subplots.gl2d,o=0;o<r.length;o++){var l=a._plots[r[o]]._scene2d,u=l.toImage("png");a._glimages.append("svg:image").attr({xmlns:b.svg,"xlink:href":u,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),l.destroy()}},S.updateFx=function(i){for(var a=i._fullLayout,r=a._subplots.gl2d,o=0;o<r.length;o++)a._plots[r[o]]._scene2d.updateFx(a.dragmode)}},17188:function(O,S,e){var v,x,t=e(24040),b=e(54460),g=e(93024),c=e(67792).gl_plot2d,s=e(67792).gl_spikes2d,n=e(67792).gl_select_box,i=e(5408),a=e(92568),r=e(2428),o=e(16576),l=e(71888),u=l.enforce,h=l.clean,f=e(19280).doAutoRange,T=e(72760),d=T.drawMode,y=T.selectMode,m=["xaxis","yaxis"],w=e(33816).SUBPLOT_PATTERN;function _(p,L){this.container=p.container,this.graphDiv=p.graphDiv,this.pixelRatio=p.plotGlPixelRatio||window.devicePixelRatio,this.id=p.id,this.staticPlot=!!p.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(L),this.makeFramework(),this.stopped||(this.glplotOptions=a(this),this.glplotOptions.merge(L),this.glplot=c(this.glplotOptions),this.camera=r(this),this.traces={},this.spikes=s(this.glplot),this.selectBox=n(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}O.exports=_;var A=_.prototype;A.makeFramework=function(){if(this.staticPlot){if(!(x||(v=document.createElement("canvas"),x=i({canvas:v,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}))))throw new Error("Error creating static canvas/context for image server");this.canvas=v,this.gl=x}else{var p=this.container.querySelector(".gl-canvas-focus"),L=i({canvas:p,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!L)return o(this),void(this.stopped=!0);this.canvas=p,this.gl=L}var M=this.canvas;M.style.width="100%",M.style.height="100%",M.style.position="absolute",M.style.top="0px",M.style.left="0px",M.style["pointer-events"]="none",this.updateSize(M);var C=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");C.style.position="absolute",C.style.top=C.style.left="0px",C.style.width=C.style.height="100%",C.style["z-index"]=20,C.style["pointer-events"]="none";var R=this.mouseContainer=document.createElement("div");R.style.position="absolute",R.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var I=this.container;I.appendChild(C),I.appendChild(R);var D=this;R.addEventListener("mouseout",function(){D.isMouseOver=!1,D.unhover()}),R.addEventListener("mouseover",function(){D.isMouseOver=!0})},A.toImage=function(p){p||(p="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(v),this.updateSize(this.canvas);var L=this.glplot.gl,M=L.drawingBufferWidth,C=L.drawingBufferHeight;L.clearColor(1,1,1,0),L.clear(L.COLOR_BUFFER_BIT|L.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),L.bindFramebuffer(L.FRAMEBUFFER,null);var R=new Uint8Array(M*C*4);L.readPixels(0,0,M,C,L.RGBA,L.UNSIGNED_BYTE,R);for(var I=0,D=C-1;I<D;++I,--D)for(var F=0;F<M;++F)for(var q=0;q<4;++q){var z=R[4*(M*I+F)+q];R[4*(M*I+F)+q]=R[4*(M*D+F)+q],R[4*(M*D+F)+q]=z}var V=document.createElement("canvas");V.width=M,V.height=C;var X,j=V.getContext("2d",{willReadFrequently:!0}),H=j.createImageData(M,C);switch(H.data.set(R),j.putImageData(H,0,0),p){case"jpeg":X=V.toDataURL("image/jpeg");break;case"webp":X=V.toDataURL("image/webp");break;default:X=V.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(v),X},A.updateSize=function(p){p||(p=this.canvas);var L=this.pixelRatio,M=this.fullLayout,C=M.width,R=M.height,I=0|Math.ceil(L*C),D=0|Math.ceil(L*R);return p.width===I&&p.height===D||(p.width=I,p.height=D),p},A.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var p=[b.calcTicks(this.xaxis),b.calcTicks(this.yaxis)],L=0;L<2;++L)for(var M=0;M<p[L].length;++M)p[L][M].text=p[L][M].text+"";return p},A.updateRefs=function(p){this.fullLayout=p;var L=this.id.match(w),M="xaxis"+L[1],C="yaxis"+L[2];this.xaxis=this.fullLayout[M],this.yaxis=this.fullLayout[C]},A.relayoutCallback=function(){var p=this.graphDiv,L=this.xaxis,M=this.yaxis,C=p.layout,R={},I=R[L._name+".range"]=L.range.slice(),D=R[M._name+".range"]=M.range.slice();R[L._name+".autorange"]=L.autorange,R[M._name+".autorange"]=M.autorange,t.call("_storeDirectGUIEdit",p.layout,p._fullLayout._preGUI,R);var F=C[L._name];F.range=I,F.autorange=L.autorange;var q=C[M._name];q.range=D,q.autorange=M.autorange,R.lastInputTime=this.camera.lastInputTime,p.emit("plotly_relayout",R)},A.cameraChanged=function(){var p=this.camera;this.glplot.setDataBox(this.calcDataBox());var L=this.computeTickMarks();(function(M,C){for(var R=0;R<2;++R){var I=M[R],D=C[R];if(I.length!==D.length)return!0;for(var F=0;F<I.length;++F)if(I[F].x!==D[F].x)return!0}return!1})(L,this.glplotOptions.ticks)&&(this.glplotOptions.ticks=L,this.glplotOptions.dataBox=p.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},A.handleAnnotations=function(){for(var p=this.graphDiv,L=this.fullLayout.annotations,M=0;M<L.length;M++){var C=L[M];C.xref===this.xaxis._id&&C.yref===this.yaxis._id&&t.getComponentMethod("annotations","drawOne")(p,M)}},A.destroy=function(){if(this.glplot){var p=this.traces;p&&Object.keys(p).map(function(L){p[L].dispose(),delete p[L]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},A.plot=function(p,L,M){var C=this.glplot;this.updateRefs(M),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(p,L),this.updateFx(M.dragmode);var R=M.width,I=M.height;this.updateSize(this.canvas);var D=this.glplotOptions;D.merge(M),D.screenBox=[0,0,R,I];var F={_fullLayout:{_axisConstraintGroups:M._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:M._size}};h(F,this.xaxis),h(F,this.yaxis);var q,z,V=M._size,X=this.xaxis.domain,j=this.yaxis.domain;for(D.viewBox=[V.l+X[0]*V.w,V.b+j[0]*V.h,R-V.r-(1-X[1])*V.w,I-V.t-(1-j[1])*V.h],this.mouseContainer.style.width=V.w*(X[1]-X[0])+"px",this.mouseContainer.style.height=V.h*(j[1]-j[0])+"px",this.mouseContainer.height=V.h*(j[1]-j[0]),this.mouseContainer.style.left=V.l+X[0]*V.w+"px",this.mouseContainer.style.top=V.t+(1-j[1])*V.h+"px",z=0;z<2;++z)(q=this[m[z]])._length=D.viewBox[z+2]-D.viewBox[z],f(this.graphDiv,q),q.setScale();u(F),D.ticks=this.computeTickMarks(),D.dataBox=this.calcDataBox(),D.merge(M),C.update(D),this.glplot.draw()},A.calcDataBox=function(){var p=this.xaxis,L=this.yaxis,M=p.range,C=L.range,R=p.r2l,I=L.r2l;return[R(M[0]),I(C[0]),R(M[1]),I(C[1])]},A.setRanges=function(p){var L=this.xaxis,M=this.yaxis,C=L.l2r,R=M.l2r;L.range=[C(p[0]),C(p[2])],M.range=[R(p[1]),R(p[3])]},A.updateTraces=function(p,L){var M,C,R,I=Object.keys(this.traces);this.fullData=p;e:for(M=0;M<I.length;M++){var D=I[M],F=this.traces[D];for(C=0;C<p.length;C++)if((R=p[C]).uid===D&&R.type===F.type)continue e;F.dispose(),delete this.traces[D]}for(M=0;M<p.length;M++){R=p[M];var q=L[M],z=this.traces[R.uid];z?z.update(R,q):(z=R._module.plot(this,R,q),this.traces[R.uid]=z)}this.glplot.objects.sort(function(V,X){return V._trace.index-X._trace.index})},A.updateFx=function(p){y(p)||d(p)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),this.mouseContainer.style.cursor=p==="pan"?"move":p==="zoom"?"crosshair":null},A.emitPointAction=function(p,L){for(var M,C=p.trace.uid,R=p.pointIndex,I=0;I<this.fullData.length;I++)this.fullData[I].uid===C&&(M=this.fullData[I]);var D={x:p.traceCoord[0],y:p.traceCoord[1],curveNumber:M.index,pointNumber:R,data:M._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};g.appendArrayPointValue(D,M,R),this.graphDiv.emit(L,{points:[D]})},A.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var p=this.glplot,L=this.camera,M=L.mouseListener,C=this.lastButtonState===1&&M.buttons===0,R=this.fullLayout;this.lastButtonState=M.buttons,this.cameraChanged();var I,D=M.x*p.pixelRatio,F=this.canvas.height-p.pixelRatio*M.y;if(L.boxEnabled&&R.dragmode==="zoom"){this.selectBox.enabled=!0;for(var q=this.selectBox.selectBox=[Math.min(L.boxStart[0],L.boxEnd[0]),Math.min(L.boxStart[1],L.boxEnd[1]),Math.max(L.boxStart[0],L.boxEnd[0]),Math.max(L.boxStart[1],L.boxEnd[1])],z=0;z<2;z++)L.boxStart[z]===L.boxEnd[z]&&(q[z]=p.dataBox[z],q[z+2]=p.dataBox[z+2]);p.setDirty()}else if(!L.panning&&this.isMouseOver){this.selectBox.enabled=!1;var V=R._size,X=this.xaxis.domain,j=this.yaxis.domain,H=(I=p.pick(D/p.pixelRatio+V.l+X[0]*V.w,F/p.pixelRatio-(V.t+(1-j[1])*V.h)))&&I.object._trace.handlePick(I);if(H&&C&&this.emitPointAction(H,"plotly_click"),I&&I.object._trace.hoverinfo!=="skip"&&R.hovermode&&H&&(!this.lastPickResult||this.lastPickResult.traceUid!==H.trace.uid||this.lastPickResult.dataCoord[0]!==H.dataCoord[0]||this.lastPickResult.dataCoord[1]!==H.dataCoord[1])){var G=H;this.lastPickResult={traceUid:H.trace?H.trace.uid:null,dataCoord:H.dataCoord.slice()},this.spikes.update({center:I.dataCoord}),G.screenCoord=[((p.viewBox[2]-p.viewBox[0])*(I.dataCoord[0]-p.dataBox[0])/(p.dataBox[2]-p.dataBox[0])+p.viewBox[0])/p.pixelRatio,(this.canvas.height-(p.viewBox[3]-p.viewBox[1])*(I.dataCoord[1]-p.dataBox[1])/(p.dataBox[3]-p.dataBox[1])-p.viewBox[1])/p.pixelRatio],this.emitPointAction(H,"plotly_hover");var ie=this.fullData[G.trace.index]||{},re=G.pointIndex,te=g.castHoverinfo(ie,R,re);if(te&&te!=="all"){var K=te.split("+");K.indexOf("x")===-1&&(G.traceCoord[0]=void 0),K.indexOf("y")===-1&&(G.traceCoord[1]=void 0),K.indexOf("z")===-1&&(G.traceCoord[2]=void 0),K.indexOf("text")===-1&&(G.textLabel=void 0),K.indexOf("name")===-1&&(G.name=void 0)}g.loneHover({x:G.screenCoord[0],y:G.screenCoord[1],xLabel:this.hoverFormatter("xaxis",G.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",G.traceCoord[1]),zLabel:G.traceCoord[2],text:G.textLabel,name:G.name,color:g.castHoverOption(ie,re,"bgcolor")||G.color,borderColor:g.castHoverOption(ie,re,"bordercolor"),fontFamily:g.castHoverOption(ie,re,"font.family"),fontSize:g.castHoverOption(ie,re,"font.size"),fontColor:g.castHoverOption(ie,re,"font.color"),nameLength:g.castHoverOption(ie,re,"namelength"),textAlign:g.castHoverOption(ie,re,"align")},{container:this.svgContainer,gd:this.graphDiv})}}I||this.unhover(),p.draw()}},A.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),g.loneUnhover(this.svgContainer))},A.hoverFormatter=function(p,L){if(L!==void 0){var M=this[p];return b.tickText(M,M.c2l(L),"hover").text}}},12536:function(O,S,e){var v=e(67824).overrideAll,x=e(65460),t=e(98432),b=e(84888).op,g=e(3400),c=e(9616),s="gl3d",n="scene";S.name=s,S.attr=n,S.idRoot=n,S.idRegex=S.attrRegex=g.counterRegex("scene"),S.attributes=e(6636),S.layoutAttributes=e(346),S.baseLayoutAttrOverrides=v({hoverlabel:x.hoverlabel},"plot","nested"),S.supplyLayoutDefaults=e(5208),S.plot=function(i){for(var a=i._fullLayout,r=i._fullData,o=a._subplots[s],l=0;l<o.length;l++){var u=o[l],h=b(r,s,u),f=a[u],T=f.camera,d=f._scene;d||(d=new t({id:u,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio,camera:T},a),f._scene=d),d.viewInitial||(d.viewInitial={up:{x:T.up.x,y:T.up.y,z:T.up.z},eye:{x:T.eye.x,y:T.eye.y,z:T.eye.z},center:{x:T.center.x,y:T.center.y,z:T.center.z}}),d.plot(h,a,i.layout)}},S.clean=function(i,a,r,o){for(var l=o._subplots[s]||[],u=0;u<l.length;u++){var h=l[u];!a[h]&&o[h]._scene&&(o[h]._scene.destroy(),o._infolayer&&o._infolayer.selectAll(".annotation-"+h).remove())}},S.toSVG=function(i){for(var a=i._fullLayout,r=a._subplots[s],o=a._size,l=0;l<r.length;l++){var u=a[r[l]],h=u.domain,f=u._scene,T=f.toImage("png");a._glimages.append("svg:image").attr({xmlns:c.svg,"xlink:href":T,x:o.l+o.w*h.x[0],y:o.t+o.h*(1-h.y[1]),width:o.w*(h.x[1]-h.x[0]),height:o.h*(h.y[1]-h.y[0]),preserveAspectRatio:"none"}),f.destroy()}},S.cleanId=function(i){if(i.match(/^scene[0-9]*$/)){var a=i.substr(5);return a==="1"&&(a=""),n+a}},S.updateFx=function(i){for(var a=i._fullLayout,r=a._subplots[s],o=0;o<r.length;o++)a[r[o]]._scene.updateFx(a.dragmode,a.hovermode)}},6636:function(O){O.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},86140:function(O,S,e){var v=e(76308),x=e(94724),t=e(92880).extendFlat,b=e(67824).overrideAll;O.exports=b({visible:x.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:v.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:x.color,categoryorder:x.categoryorder,categoryarray:x.categoryarray,title:{text:x.title.text,font:x.title.font},type:t({},x.type,{values:["-","linear","log","date","category"]}),autotypenumbers:x.autotypenumbers,autorange:x.autorange,autorangeoptions:{minallowed:x.autorangeoptions.minallowed,maxallowed:x.autorangeoptions.maxallowed,clipmin:x.autorangeoptions.clipmin,clipmax:x.autorangeoptions.clipmax,include:x.autorangeoptions.include,editType:"plot"},rangemode:x.rangemode,minallowed:x.minallowed,maxallowed:x.maxallowed,range:t({},x.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:x.minor.tickmode,nticks:x.nticks,tick0:x.tick0,dtick:x.dtick,tickvals:x.tickvals,ticktext:x.ticktext,ticks:x.ticks,mirror:x.mirror,ticklen:x.ticklen,tickwidth:x.tickwidth,tickcolor:x.tickcolor,showticklabels:x.showticklabels,labelalias:x.labelalias,tickfont:x.tickfont,tickangle:x.tickangle,tickprefix:x.tickprefix,showtickprefix:x.showtickprefix,ticksuffix:x.ticksuffix,showticksuffix:x.showticksuffix,showexponent:x.showexponent,exponentformat:x.exponentformat,minexponent:x.minexponent,separatethousands:x.separatethousands,tickformat:x.tickformat,tickformatstops:x.tickformatstops,hoverformat:x.hoverformat,showline:x.showline,linecolor:x.linecolor,linewidth:x.linewidth,showgrid:x.showgrid,gridcolor:t({},x.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:x.gridwidth,zeroline:x.zeroline,zerolinecolor:x.zerolinecolor,zerolinewidth:x.zerolinewidth,_deprecated:{title:x._deprecated.title,titlefont:x._deprecated.titlefont}},"plot","from-root")},64380:function(O,S,e){var v=e(49760).mix,x=e(3400),t=e(31780),b=e(86140),g=e(14944),c=e(28336),s=["xaxis","yaxis","zaxis"];O.exports=function(n,i,a){var r,o;function l(f,T){return x.coerce(r,o,b,f,T)}for(var u=0;u<s.length;u++){var h=s[u];r=n[h]||{},(o=t.newContainer(i,h))._id=h[0]+a.scene,o._name=h,g(r,o,l,a),c(r,o,l,{font:a.font,letter:h[0],data:a.data,showGrid:!0,noAutotickangles:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:a.bgColor,calendar:a.calendar},a.fullLayout),l("gridcolor",v(o.color,a.bgColor,72.72727272727273).toRgbString()),l("title.text",h[0]),o.setScale=x.noop,l("showspikes")&&(l("spikesides"),l("spikethickness"),l("spikecolor",o.color)),l("showaxeslabels"),l("showbackground")&&l("backgroundcolor")}}},44728:function(O,S,e){var v=e(43080),x=e(3400),t=["xaxis","yaxis","zaxis"];function b(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickFontWeight=["normal","normal","normal","normal"],this.tickFontStyle=["normal","normal","normal","normal"],this.tickFontVariant=["normal","normal","normal","normal"],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelFontWeight=["normal","normal","normal","normal"],this.labelFontStyle=["normal","normal","normal","normal"],this.labelFontVariant=["normal","normal","normal","normal"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}b.prototype.merge=function(g,c){for(var s=this,n=0;n<3;++n){var i=c[t[n]];i.visible?(s.labels[n]=g._meta?x.templateString(i.title.text,g._meta):i.title.text,"font"in i.title&&(i.title.font.color&&(s.labelColor[n]=v(i.title.font.color)),i.title.font.family&&(s.labelFont[n]=i.title.font.family),i.title.font.size&&(s.labelSize[n]=i.title.font.size),i.title.font.weight&&(s.labelFontWeight[n]=i.title.font.weight),i.title.font.style&&(s.labelFontStyle[n]=i.title.font.style),i.title.font.variant&&(s.labelFontVariant[n]=i.title.font.variant)),"showline"in i&&(s.lineEnable[n]=i.showline),"linecolor"in i&&(s.lineColor[n]=v(i.linecolor)),"linewidth"in i&&(s.lineWidth[n]=i.linewidth),"showgrid"in i&&(s.gridEnable[n]=i.showgrid),"gridcolor"in i&&(s.gridColor[n]=v(i.gridcolor)),"gridwidth"in i&&(s.gridWidth[n]=i.gridwidth),i.type==="log"?s.zeroEnable[n]=!1:"zeroline"in i&&(s.zeroEnable[n]=i.zeroline),"zerolinecolor"in i&&(s.zeroLineColor[n]=v(i.zerolinecolor)),"zerolinewidth"in i&&(s.zeroLineWidth[n]=i.zerolinewidth),"ticks"in i&&i.ticks?s.lineTickEnable[n]=!0:s.lineTickEnable[n]=!1,"ticklen"in i&&(s.lineTickLength[n]=s._defaultLineTickLength[n]=i.ticklen),"tickcolor"in i&&(s.lineTickColor[n]=v(i.tickcolor)),"tickwidth"in i&&(s.lineTickWidth[n]=i.tickwidth),"tickangle"in i&&(s.tickAngle[n]=i.tickangle==="auto"?-3600:Math.PI*-i.tickangle/180),"showticklabels"in i&&(s.tickEnable[n]=i.showticklabels),"tickfont"in i&&(i.tickfont.color&&(s.tickColor[n]=v(i.tickfont.color)),i.tickfont.family&&(s.tickFont[n]=i.tickfont.family),i.tickfont.size&&(s.tickSize[n]=i.tickfont.size),i.tickfont.weight&&(s.tickFontWeight[n]=i.tickfont.weight),i.tickfont.style&&(s.tickFontStyle[n]=i.tickfont.style),i.tickfont.variant&&(s.tickFontVariant[n]=i.tickfont.variant)),"mirror"in i?["ticks","all","allticks"].indexOf(i.mirror)!==-1?(s.lineTickMirror[n]=!0,s.lineMirror[n]=!0):i.mirror===!0?(s.lineTickMirror[n]=!1,s.lineMirror[n]=!0):(s.lineTickMirror[n]=!1,s.lineMirror[n]=!1):s.lineMirror[n]=!1,"showbackground"in i&&i.showbackground!==!1?(s.backgroundEnable[n]=!0,s.backgroundColor[n]=v(i.backgroundcolor)):s.backgroundEnable[n]=!1):(s.tickEnable[n]=!1,s.labelEnable[n]=!1,s.lineEnable[n]=!1,s.lineTickEnable[n]=!1,s.gridEnable[n]=!1,s.zeroEnable[n]=!1,s.backgroundEnable[n]=!1)}},O.exports=function(g,c){var s=new b;return s.merge(g,c),s}},5208:function(O,S,e){var v=e(3400),x=e(76308),t=e(24040),b=e(168),g=e(64380),c=e(346),s=e(84888).op,n="gl3d";function i(a,r,o,l){for(var u=o("bgcolor"),h=x.combine(u,l.paper_bgcolor),f=["up","center","eye"],T=0;T<f.length;T++)o("camera."+f[T]+".x"),o("camera."+f[T]+".y"),o("camera."+f[T]+".z");o("camera.projection.type");var d=!!o("aspectratio.x")&&!!o("aspectratio.y")&&!!o("aspectratio.z"),y=o("aspectmode",d?"manual":"auto");d||(a.aspectratio=r.aspectratio={x:1,y:1,z:1},y==="manual"&&(r.aspectmode="auto"),a.aspectmode=r.aspectmode);var m=s(l.fullData,n,l.id);g(a,r,{font:l.font,scene:l.id,data:m,bgColor:h,calendar:l.calendar,autotypenumbersDflt:l.autotypenumbersDflt,fullLayout:l.fullLayout}),t.getComponentMethod("annotations3d","handleDefaults")(a,r,l);var w=l.getDfltFromLayout("dragmode");if(w!==!1&&!w)if(w="orbit",a.camera&&a.camera.up){var _=a.camera.up.x,A=a.camera.up.y,p=a.camera.up.z;p!==0&&(_&&A&&p?p/Math.sqrt(_*_+A*A+p*p)>.999&&(w="turntable"):w="turntable")}else w="turntable";o("dragmode",w),o("hovermode",l.getDfltFromLayout("hovermode"))}O.exports=function(a,r,o){var l=r._basePlotModules.length>1;b(a,r,o,{type:n,attributes:c,handleDefaults:i,fullLayout:r,font:r.font,fullData:o,getDfltFromLayout:function(u){if(!l)return v.validate(a[u],c[u])?a[u]:void 0},autotypenumbersDflt:r.autotypenumbers,paper_bgcolor:r.paper_bgcolor,calendar:r.calendar})}},346:function(O,S,e){var v=e(86140),x=e(86968).u,t=e(92880).extendFlat,b=e(3400).counterRegex;function g(c,s,n){return{x:{valType:"number",dflt:c,editType:"camera"},y:{valType:"number",dflt:s,editType:"camera"},z:{valType:"number",dflt:n,editType:"camera"},editType:"camera"}}O.exports={_arrayAttrRegexps:[b("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:t(g(0,0,1),{}),center:t(g(0,0,0),{}),eye:t(g(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:x({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:v,yaxis:v,zaxis:v,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},9020:function(O,S,e){var v=e(43080),x=["xaxis","yaxis","zaxis"];function t(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}t.prototype.merge=function(b){for(var g=0;g<3;++g){var c=b[x[g]];c.visible?(this.enabled[g]=c.showspikes,this.colors[g]=v(c.spikecolor),this.drawSides[g]=c.spikesides,this.lineWidth[g]=c.spikethickness):(this.enabled[g]=!1,this.drawSides[g]=!1)}},O.exports=function(b){var g=new t;return g.merge(b),g}},87152:function(O,S,e){O.exports=function(g){for(var c=g.axesOptions,s=g.glplot.axesPixels,n=g.fullSceneLayout,i=[[],[],[]],a=0;a<3;++a){var r=n[t[a]];if(r._length=(s[a].hi-s[a].lo)*s[a].pixelsPerDataUnit/g.dataScale[a],Math.abs(r._length)===1/0||isNaN(r._length))i[a]=[];else{r._input_range=r.range.slice(),r.range[0]=s[a].lo/g.dataScale[a],r.range[1]=s[a].hi/g.dataScale[a],r._m=1/(g.dataScale[a]*s[a].pixelsPerDataUnit),r.range[0]===r.range[1]&&(r.range[0]-=1,r.range[1]+=1);var o=r.tickmode;if(r.tickmode==="auto"){r.tickmode="linear";var l=r.nticks||x.constrain(r._length/40,4,9);v.autoTicks(r,Math.abs(r.range[1]-r.range[0])/l)}for(var u=v.calcTicks(r,{msUTC:!0}),h=0;h<u.length;++h)u[h].x=u[h].x*g.dataScale[a],r.type==="date"&&(u[h].text=u[h].text.replace(/\<br\>/g," "));i[a]=u,r.tickmode=o}}for(c.ticks=i,a=0;a<3;++a)for(b[a]=.5*(g.glplot.bounds[0][a]+g.glplot.bounds[1][a]),h=0;h<2;++h)c.bounds[h][a]=g.glplot.bounds[h][a];g.contourLevels=function(f){for(var T=new Array(3),d=0;d<3;++d){for(var y=f[d],m=new Array(y.length),w=0;w<y.length;++w)m[w]=y[w].x;T[d]=m}return T}(i)};var v=e(54460),x=e(3400),t=["xaxis","yaxis","zaxis"],b=[0,0,0]},94424:function(O){function S(e,v){var x,t,b=[0,0,0,0];for(x=0;x<4;++x)for(t=0;t<4;++t)b[t]+=e[4*x+t]*v[x];return b}O.exports=function(e,v){return S(e.projection,S(e.view,S(e.model,[v[0],v[1],v[2],1])))}},98432:function(O,S,e){var v,x,t=e(67792).gl_plot3d,b=t.createCamera,g=t.createScene,c=e(5408),s=e(89184),n=e(24040),i=e(3400),a=i.preserveDrawingBuffer(),r=e(54460),o=e(93024),l=e(43080),u=e(16576),h=e(94424),f=e(44728),T=e(9020),d=e(87152),y=e(19280).applyAutorangeOptions,m=!1;function w(M,C){var R=document.createElement("div"),I=M.container;this.graphDiv=M.graphDiv;var D=document.createElementNS("http://www.w3.org/2000/svg","svg");D.style.position="absolute",D.style.top=D.style.left="0px",D.style.width=D.style.height="100%",D.style["z-index"]=20,D.style["pointer-events"]="none",R.appendChild(D),this.svgContainer=D,R.id=M.id,R.style.position="absolute",R.style.top=R.style.left="0px",R.style.width=R.style.height="100%",I.appendChild(R),this.fullLayout=C,this.id=M.id||"scene",this.fullSceneLayout=C[this.id],this.plotArgs=[[],{},{}],this.axesOptions=f(C,C[this.id]),this.spikeOptions=T(C[this.id]),this.container=R,this.staticMode=!!M.staticPlot,this.pixelRatio=this.pixelRatio||M.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=n.getComponentMethod("annotations3d","convert"),this.drawAnnotations=n.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var _=w.prototype;_.prepareOptions=function(){var M=this,C={canvas:M.canvas,gl:M.gl,glOptions:{preserveDrawingBuffer:a,premultipliedAlpha:!0,antialias:!0},container:M.container,axes:M.axesOptions,spikes:M.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:M.camera,pixelRatio:M.pixelRatio};if(M.staticMode){if(!(x||(v=document.createElement("canvas"),x=c({canvas:v,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}))))throw new Error("error creating static canvas/context for image server");C.gl=x,C.canvas=v}return C};var A=!0;_.tryCreatePlot=function(){var M=this,C=M.prepareOptions(),R=!0;try{M.glplot=g(C)}catch{if(M.staticMode||!A||a)R=!1;else{i.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{a=C.glOptions.preserveDrawingBuffer=!0,M.glplot=g(C)}catch{a=C.glOptions.preserveDrawingBuffer=!1,R=!1}}}return A=!1,R},_.initializeGLCamera=function(){var M=this,C=M.fullSceneLayout.camera,R=C.projection.type==="orthographic";M.camera=b(M.container,{center:[C.center.x,C.center.y,C.center.z],eye:[C.eye.x,C.eye.y,C.eye.z],up:[C.up.x,C.up.y,C.up.z],_ortho:R,zoomMin:.01,zoomMax:100,mode:"orbit"})},_.initializeGLPlot=function(){var M=this;if(M.initializeGLCamera(),!M.tryCreatePlot())return u(M);M.traces={},M.make4thDimension();var C=M.graphDiv,R=C.layout,I=function(){var F={};return M.isCameraChanged(R)&&(F[M.id+".camera"]=M.getCamera()),M.isAspectChanged(R)&&(F[M.id+".aspectratio"]=M.glplot.getAspectratio(),R[M.id].aspectmode!=="manual"&&(M.fullSceneLayout.aspectmode=R[M.id].aspectmode=F[M.id+".aspectmode"]="manual")),F},D=function(F){if(F.fullSceneLayout.dragmode!==!1){var q=I();F.saveLayout(R),F.graphDiv.emit("plotly_relayout",q)}};return M.glplot.canvas&&(M.glplot.canvas.addEventListener("mouseup",function(){D(M)}),M.glplot.canvas.addEventListener("touchstart",function(){m=!0}),M.glplot.canvas.addEventListener("wheel",function(F){if(C._context._scrollZoom.gl3d){if(M.camera._ortho){var q=F.deltaX>F.deltaY?1.1:.9090909090909091,z=M.glplot.getAspectratio();M.glplot.setAspectratio({x:q*z.x,y:q*z.y,z:q*z.z})}D(M)}},!!s&&{passive:!1}),M.glplot.canvas.addEventListener("mousemove",function(){if(M.fullSceneLayout.dragmode!==!1&&M.camera.mouseListener.buttons!==0){var F=I();M.graphDiv.emit("plotly_relayouting",F)}}),M.staticMode||M.glplot.canvas.addEventListener("webglcontextlost",function(F){C&&C.emit&&C.emit("plotly_webglcontextlost",{event:F,layer:M.id})},!1)),M.glplot.oncontextloss=function(){M.recoverContext()},M.glplot.onrender=function(){M.render()},!0},_.render=function(){var M,C=this,R=C.graphDiv,I=C.svgContainer,D=C.container.getBoundingClientRect();R._fullLayout._calcInverseTransform(R);var F=R._fullLayout._invScaleX,q=R._fullLayout._invScaleY,z=D.width*F,V=D.height*q;I.setAttributeNS(null,"viewBox","0 0 "+z+" "+V),I.setAttributeNS(null,"width",z),I.setAttributeNS(null,"height",V),d(C),C.glplot.axes.update(C.axesOptions);for(var X=Object.keys(C.traces),j=null,H=C.glplot.selection,G=0;G<X.length;++G)(M=C.traces[X[G]]).data.hoverinfo!=="skip"&&M.handlePick(H)&&(j=M),M.setContourLevels&&M.setContourLevels();function ie(we,Te,Le){var Ie=C.fullSceneLayout[we+"axis"];return Ie.type!=="log"&&(Te=Ie.d2l(Te)),r.hoverLabelText(Ie,Te,Le)}if(j!==null){var re=h(C.glplot.cameraParams,H.dataCoordinate);M=j.data;var te,K=R._fullData[M.index],J=H.index,$={xLabel:ie("x",H.traceCoordinate[0],M.xhoverformat),yLabel:ie("y",H.traceCoordinate[1],M.yhoverformat),zLabel:ie("z",H.traceCoordinate[2],M.zhoverformat)},ae=o.castHoverinfo(K,C.fullLayout,J),ue=(ae||"").split("+"),ce=ae&&ae==="all";K.hovertemplate||ce||(ue.indexOf("x")===-1&&($.xLabel=void 0),ue.indexOf("y")===-1&&($.yLabel=void 0),ue.indexOf("z")===-1&&($.zLabel=void 0),ue.indexOf("text")===-1&&(H.textLabel=void 0),ue.indexOf("name")===-1&&(j.name=void 0));var de=[];M.type==="cone"||M.type==="streamtube"?($.uLabel=ie("x",H.traceCoordinate[3],M.uhoverformat),(ce||ue.indexOf("u")!==-1)&&de.push("u: "+$.uLabel),$.vLabel=ie("y",H.traceCoordinate[4],M.vhoverformat),(ce||ue.indexOf("v")!==-1)&&de.push("v: "+$.vLabel),$.wLabel=ie("z",H.traceCoordinate[5],M.whoverformat),(ce||ue.indexOf("w")!==-1)&&de.push("w: "+$.wLabel),$.normLabel=H.traceCoordinate[6].toPrecision(3),(ce||ue.indexOf("norm")!==-1)&&de.push("norm: "+$.normLabel),M.type==="streamtube"&&($.divergenceLabel=H.traceCoordinate[7].toPrecision(3),(ce||ue.indexOf("divergence")!==-1)&&de.push("divergence: "+$.divergenceLabel)),H.textLabel&&de.push(H.textLabel),te=de.join("<br>")):M.type==="isosurface"||M.type==="volume"?($.valueLabel=r.hoverLabelText(C._mockAxis,C._mockAxis.d2l(H.traceCoordinate[3]),M.valuehoverformat),de.push("value: "+$.valueLabel),H.textLabel&&de.push(H.textLabel),te=de.join("<br>")):te=H.textLabel;var pe={x:H.traceCoordinate[0],y:H.traceCoordinate[1],z:H.traceCoordinate[2],data:K._input,fullData:K,curveNumber:K.index,pointNumber:J};o.appendArrayPointValue(pe,K,J),M._module.eventData&&(pe=K._module.eventData(pe,H,K,{},J));var me={points:[pe]};if(C.fullSceneLayout.hovermode){var be=[];o.loneHover({trace:K,x:(.5+.5*re[0]/re[3])*z,y:(.5-.5*re[1]/re[3])*V,xLabel:$.xLabel,yLabel:$.yLabel,zLabel:$.zLabel,text:te,name:j.name,color:o.castHoverOption(K,J,"bgcolor")||j.color,borderColor:o.castHoverOption(K,J,"bordercolor"),fontFamily:o.castHoverOption(K,J,"font.family"),fontSize:o.castHoverOption(K,J,"font.size"),fontColor:o.castHoverOption(K,J,"font.color"),nameLength:o.castHoverOption(K,J,"namelength"),textAlign:o.castHoverOption(K,J,"align"),hovertemplate:i.castOption(K,J,"hovertemplate"),hovertemplateLabels:i.extendFlat({},pe,$),eventData:[pe]},{container:I,gd:R,inOut_bbox:be}),pe.bbox=be[0]}H.distance<5&&(H.buttons||m)?R.emit("plotly_click",me):R.emit("plotly_hover",me),this.oldEventData=me}else o.loneUnhover(I),this.oldEventData&&R.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;C.drawAnnotations(C)},_.recoverContext=function(){var M=this;M.glplot.dispose();var C=function(){M.glplot.gl.isContextLost()?requestAnimationFrame(C):M.initializeGLPlot()?M.plot.apply(M,M.plotArgs):i.error("Catastrophic and unrecoverable WebGL error. Context lost.")};requestAnimationFrame(C)};var p=["xaxis","yaxis","zaxis"];function L(M,C,R){for(var I=M.fullSceneLayout,D=0;D<3;D++){var F=p[D],q=F.charAt(0),z=I[F],V=C[q],X=C[q+"calendar"],j=C["_"+q+"length"];if(i.isArrayOrTypedArray(V))for(var H,G=0;G<(j||V.length);G++)if(i.isArrayOrTypedArray(V[G]))for(var ie=0;ie<V[G].length;++ie)H=z.d2l(V[G][ie],0,X),!isNaN(H)&&isFinite(H)&&(R[0][D]=Math.min(R[0][D],H),R[1][D]=Math.max(R[1][D],H));else H=z.d2l(V[G],0,X),!isNaN(H)&&isFinite(H)&&(R[0][D]=Math.min(R[0][D],H),R[1][D]=Math.max(R[1][D],H));else R[0][D]=Math.min(R[0][D],0),R[1][D]=Math.max(R[1][D],j-1)}}_.plot=function(M,C,R){var I=this;if(I.plotArgs=[M,C,R],!I.glplot.contextLost){var D,F,q,z,V,X,j=C[I.id],H=R[I.id];I.fullLayout=C,I.fullSceneLayout=j,I.axesOptions.merge(C,j),I.spikeOptions.merge(j),I.setViewport(j),I.updateFx(j.dragmode,j.hovermode),I.camera.enableWheel=I.graphDiv._context._scrollZoom.gl3d,I.glplot.setClearColor(l(j.bgcolor)),I.setConvert(V),M?Array.isArray(M)||(M=[M]):M=[];var G=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(q=0;q<M.length;++q)(D=M[q]).visible===!0&&D._length!==0&&L(this,D,G);(function(Pe,Fe){for(var Be=Pe.fullSceneLayout,xe=Be.annotations||[],Me=0;Me<3;Me++)for(var Ce=p[Me],Ne=Ce.charAt(0),Re=Be[Ce],He=0;He<xe.length;He++){var Ye=xe[He];if(Ye.visible){var Qe=Re.r2l(Ye[Ne]);!isNaN(Qe)&&isFinite(Qe)&&(Fe[0][Me]=Math.min(Fe[0][Me],Qe),Fe[1][Me]=Math.max(Fe[1][Me],Qe))}}})(this,G);var ie=[1,1,1];for(z=0;z<3;++z)G[1][z]===G[0][z]?ie[z]=1:ie[z]=1/(G[1][z]-G[0][z]);for(I.dataScale=ie,I.convertAnnotations(this),q=0;q<M.length;++q)(D=M[q]).visible===!0&&D._length!==0&&((F=I.traces[D.uid])?F.data.type===D.type?F.update(D):(F.dispose(),F=D._module.plot(this,D),I.traces[D.uid]=F):(F=D._module.plot(this,D),I.traces[D.uid]=F),F.name=D.name);var re=Object.keys(I.traces);e:for(q=0;q<re.length;++q){for(z=0;z<M.length;++z)if(M[z].uid===re[q]&&M[z].visible===!0&&M[z]._length!==0)continue e;(F=I.traces[re[q]]).dispose(),delete I.traces[re[q]]}I.glplot.objects.sort(function(Pe,Fe){return Pe._trace.data.index-Fe._trace.data.index});var te,K=[[0,0,0],[0,0,0]],J=[],$={};for(q=0;q<3;++q){var ae;if((X=(V=j[p[q]]).type)in $?($[X].acc*=ie[q],$[X].count+=1):$[X]={acc:ie[q],count:1},V.autorange){K[0][q]=1/0,K[1][q]=-1/0;var ue=I.glplot.objects,ce=I.fullSceneLayout.annotations||[],de=V._name.charAt(0);for(z=0;z<ue.length;z++){var pe=ue[z],me=pe.bounds,be=pe._trace.data._pad||0;pe.constructor.name==="ErrorBars"&&V._lowerLogErrorBound?K[0][q]=Math.min(K[0][q],V._lowerLogErrorBound):K[0][q]=Math.min(K[0][q],me[0][q]/ie[q]-be),K[1][q]=Math.max(K[1][q],me[1][q]/ie[q]+be)}for(z=0;z<ce.length;z++){var we=ce[z];if(we.visible){var Te=V.r2l(we[de]);K[0][q]=Math.min(K[0][q],Te),K[1][q]=Math.max(K[1][q],Te)}}if("rangemode"in V&&V.rangemode==="tozero"&&(K[0][q]=Math.min(K[0][q],0),K[1][q]=Math.max(K[1][q],0)),K[0][q]>K[1][q])K[0][q]=-1,K[1][q]=1;else{var Le=K[1][q]-K[0][q];K[0][q]-=Le/32,K[1][q]+=Le/32}if(ae=[K[0][q],K[1][q]],ae=y(ae,V),K[0][q]=ae[0],K[1][q]=ae[1],V.isReversed()){var Ie=K[0][q];K[0][q]=K[1][q],K[1][q]=Ie}}else ae=V.range,K[0][q]=V.r2l(ae[0]),K[1][q]=V.r2l(ae[1]);K[0][q]===K[1][q]&&(K[0][q]-=1,K[1][q]+=1),J[q]=K[1][q]-K[0][q],V.range=[K[0][q],K[1][q]],V.limitRange(),I.glplot.setBounds(q,{min:V.range[0]*ie[q],max:V.range[1]*ie[q]})}var _e=j.aspectmode;if(_e==="cube")te=[1,1,1];else if(_e==="manual"){var fe=j.aspectratio;te=[fe.x,fe.y,fe.z]}else{if(_e!=="auto"&&_e!=="data")throw new Error("scene.js aspectRatio was not one of the enumerated types");var le=[1,1,1];for(q=0;q<3;++q){var ye=$[X=(V=j[p[q]]).type];le[q]=Math.pow(ye.acc,1/ye.count)/ie[q]}te=_e==="data"||Math.max.apply(null,le)/Math.min.apply(null,le)<=4?le:[1,1,1]}j.aspectratio.x=H.aspectratio.x=te[0],j.aspectratio.y=H.aspectratio.y=te[1],j.aspectratio.z=H.aspectratio.z=te[2],I.glplot.setAspectratio(j.aspectratio),I.viewInitial.aspectratio||(I.viewInitial.aspectratio={x:j.aspectratio.x,y:j.aspectratio.y,z:j.aspectratio.z}),I.viewInitial.aspectmode||(I.viewInitial.aspectmode=j.aspectmode);var Oe=j.domain||null,Ae=C._size||null;if(Oe&&Ae){var Se=I.container.style;Se.position="absolute",Se.left=Ae.l+Oe.x[0]*Ae.w+"px",Se.top=Ae.t+(1-Oe.y[1])*Ae.h+"px",Se.width=Ae.w*(Oe.x[1]-Oe.x[0])+"px",Se.height=Ae.h*(Oe.y[1]-Oe.y[0])+"px"}I.glplot.redraw()}},_.destroy=function(){var M=this;M.glplot&&(M.camera.mouseListener.enabled=!1,M.container.removeEventListener("wheel",M.camera.wheelListener),M.camera=null,M.glplot.dispose(),M.container.parentNode.removeChild(M.container),M.glplot=null)},_.getCamera=function(){var M,C=this;return C.camera.view.recalcMatrix(C.camera.view.lastT()),{up:{x:(M=C.camera).up[0],y:M.up[1],z:M.up[2]},center:{x:M.center[0],y:M.center[1],z:M.center[2]},eye:{x:M.eye[0],y:M.eye[1],z:M.eye[2]},projection:{type:M._ortho===!0?"orthographic":"perspective"}}},_.setViewport=function(M){var C,R=this,I=M.camera;R.camera.lookAt.apply(this,[[(C=I).eye.x,C.eye.y,C.eye.z],[C.center.x,C.center.y,C.center.z],[C.up.x,C.up.y,C.up.z]]),R.glplot.setAspectratio(M.aspectratio),I.projection.type==="orthographic"!==R.camera._ortho&&(R.glplot.redraw(),R.glplot.clearRGBA(),R.glplot.dispose(),R.initializeGLPlot())},_.isCameraChanged=function(M){var C=this.getCamera(),R=i.nestedProperty(M,this.id+".camera").get();function I(z,V,X,j){var H=["up","center","eye"],G=["x","y","z"];return V[H[X]]&&z[H[X]][G[j]]===V[H[X]][G[j]]}var D=!1;if(R===void 0)D=!0;else{for(var F=0;F<3;F++)for(var q=0;q<3;q++)if(!I(C,R,F,q)){D=!0;break}(!R.projection||C.projection&&C.projection.type!==R.projection.type)&&(D=!0)}return D},_.isAspectChanged=function(M){var C=this.glplot.getAspectratio(),R=i.nestedProperty(M,this.id+".aspectratio").get();return R===void 0||R.x!==C.x||R.y!==C.y||R.z!==C.z},_.saveLayout=function(M){var C,R,I,D,F,q,z=this,V=z.fullLayout,X=z.isCameraChanged(M),j=z.isAspectChanged(M),H=X||j;if(H){var G={};X&&(C=z.getCamera(),I=(R=i.nestedProperty(M,z.id+".camera")).get(),G[z.id+".camera"]=I),j&&(D=z.glplot.getAspectratio(),q=(F=i.nestedProperty(M,z.id+".aspectratio")).get(),G[z.id+".aspectratio"]=q),n.call("_storeDirectGUIEdit",M,V._preGUI,G),X&&(R.set(C),i.nestedProperty(V,z.id+".camera").set(C)),j&&(F.set(D),i.nestedProperty(V,z.id+".aspectratio").set(D),z.glplot.redraw())}return H},_.updateFx=function(M,C){var R=this,I=R.camera;if(I)if(M==="orbit")I.mode="orbit",I.keyBindingMode="rotate";else if(M==="turntable"){I.up=[0,0,1],I.mode="turntable",I.keyBindingMode="rotate";var D=R.graphDiv,F=D._fullLayout,q=R.fullSceneLayout.camera,z=q.up.x,V=q.up.y,X=q.up.z;if(X/Math.sqrt(z*z+V*V+X*X)<.999){var j=R.id+".camera.up",H={x:0,y:0,z:1},G={};G[j]=H;var ie=D.layout;n.call("_storeDirectGUIEdit",ie,F._preGUI,G),q.up=H,i.nestedProperty(ie,j).set(H)}}else I.keyBindingMode=M;R.fullSceneLayout.hovermode=C},_.toImage=function(M){var C=this;M||(M="png"),C.staticMode&&C.container.appendChild(v),C.glplot.redraw();var R=C.glplot.gl,I=R.drawingBufferWidth,D=R.drawingBufferHeight;R.bindFramebuffer(R.FRAMEBUFFER,null);var F=new Uint8Array(I*D*4);R.readPixels(0,0,I,D,R.RGBA,R.UNSIGNED_BYTE,F),function(j,H,G){for(var ie=0,re=G-1;ie<re;++ie,--re)for(var te=0;te<H;++te)for(var K=0;K<4;++K){var J=4*(H*ie+te)+K,$=4*(H*re+te)+K,ae=j[J];j[J]=j[$],j[$]=ae}}(F,I,D),function(j,H,G){for(var ie=0;ie<G;++ie)for(var re=0;re<H;++re){var te=4*(H*ie+re),K=j[te+3];if(K>0)for(var J=255/K,$=0;$<3;++$)j[te+$]=Math.min(J*j[te+$],255)}}(F,I,D);var q=document.createElement("canvas");q.width=I,q.height=D;var z,V=q.getContext("2d",{willReadFrequently:!0}),X=V.createImageData(I,D);switch(X.data.set(F),V.putImageData(X,0,0),M){case"jpeg":z=q.toDataURL("image/jpeg");break;case"webp":z=q.toDataURL("image/webp");break;default:z=q.toDataURL("image/png")}return C.staticMode&&C.container.removeChild(v),z},_.setConvert=function(){for(var M=0;M<3;M++){var C=this.fullSceneLayout[p[M]];r.setConvert(C,this.fullLayout),C.setScale=i.noop}},_.make4thDimension=function(){var M=this,C=M.graphDiv._fullLayout;M._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},r.setConvert(M._mockAxis,C)},O.exports=w},52094:function(O){O.exports=function(S,e,v,x){x=x||S.length;for(var t=new Array(x),b=0;b<x;b++)t[b]=[S[b],e[b],v[b]];return t}},64859:function(O,S,e){var v=e(25376),x=e(85656),t=e(22548),b=e(92872),g=e(34200),c=e(66741),s=e(92880).extendFlat,n=v({editType:"calc"});n.family.dflt='"Open Sans", verdana, arial, sans-serif',n.size.dflt=12,n.color.dflt=t.defaultLine,O.exports={font:n,title:{text:{valType:"string",editType:"layoutstyle"},font:v({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:s(c({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:t.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:t.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:t.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:b.newshape,activeshape:b.activeshape,newselection:g.newselection,activeselection:g.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:s({},x.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:v({editType:"layoutstyle"})}}},47552:function(O,S,e){var v=e(95376),x="1.13.4",t=' <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',b=[' <a target="_blank" href="https://carto.com/">Carto</a>',t].join(" "),g=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),c={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:t,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:b,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:b,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:g,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:g,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},s=v(c);O.exports={requiredVersion:x,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:c,styleValuesNonMapbox:s,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install @plotly/mapbox-gl@"+x+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",s.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},89032:function(O,S,e){var v=e(3400);O.exports=function(x,t){var b=x.split(" "),g=b[0],c=b[1],s=v.isArrayOrTypedArray(t)?v.mean(t):t,n=.5+s/100,i=1.5+s/100,a=["",""],r=[0,0];switch(g){case"top":a[0]="top",r[1]=-i;break;case"bottom":a[0]="bottom",r[1]=i}switch(c){case"left":a[1]="right",r[0]=-n;break;case"right":a[1]="left",r[0]=n}return{anchor:a[0]&&a[1]?a.join("-"):a[0]?a[0]:a[1]?a[1]:"center",offset:r}}},33688:function(O,S,e){var v=e(3480),x=e(3400),t=x.strTranslate,b=x.strScale,g=e(84888).KY,c=e(9616),s=e(33428),n=e(43616),i=e(72736),a=e(14440),r="mapbox",o=S.constants=e(47552);function l(u){return typeof u=="string"&&(o.styleValuesMapbox.indexOf(u)!==-1||u.indexOf("mapbox://")===0||u.indexOf("stamen")===0)}S.name=r,S.attr="subplot",S.idRoot=r,S.idRegex=S.attrRegex=x.counterRegex(r),S.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},S.layoutAttributes=e(5232),S.supplyLayoutDefaults=e(5976),S.plot=function(u){var h=u._fullLayout,f=u.calcdata,T=h._subplots[r];if(v.version!==o.requiredVersion)throw new Error(o.wrongVersionErrorMsg);var d=function(p,L){var M=p._fullLayout;if(p._context.mapboxAccessToken==="")return"";for(var C=[],R=[],I=!1,D=!1,F=0;F<L.length;F++){var q=M[L[F]],z=q.accesstoken;l(q.style)&&(z?x.pushUnique(C,z):(l(q._input.style)&&(x.error("Uses Mapbox map style, but did not set an access token."),I=!0),D=!0)),z&&x.pushUnique(R,z)}if(D){var V=I?o.noAccessTokenErrorMsg:o.missingStyleErrorMsg;throw x.error(V),new Error(V)}return C.length?(C.length>1&&x.warn(o.multipleTokensErrorMsg),C[0]):(R.length&&x.log(["Listed mapbox access token(s)",R.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}(u,T);v.accessToken=d;for(var y=0;y<T.length;y++){var m=T[y],w=g(f,r,m),_=h[m],A=_._subplot;A||(A=new a(u,m),h[m]._subplot=A),A.viewInitial||(A.viewInitial={center:x.extendFlat({},_.center),zoom:_.zoom,bearing:_.bearing,pitch:_.pitch}),A.plot(w,h,u._promises)}},S.clean=function(u,h,f,T){for(var d=T._subplots[r]||[],y=0;y<d.length;y++){var m=d[y];!h[m]&&T[m]._subplot&&T[m]._subplot.destroy()}},S.toSVG=function(u){for(var h=u._fullLayout,f=h._subplots[r],T=h._size,d=0;d<f.length;d++){var y=h[f[d]],m=y.domain,w=y._subplot.toImage("png");h._glimages.append("svg:image").attr({xmlns:c.svg,"xlink:href":w,x:T.l+T.w*m.x[0],y:T.t+T.h*(1-m.y[1]),width:T.w*(m.x[1]-m.x[0]),height:T.h*(m.y[1]-m.y[0]),preserveAspectRatio:"none"});var _=s.select(y._subplot.div);if(_.select(".mapboxgl-ctrl-logo").node().offsetParent!==null){var A=h._glimages.append("g");A.attr("transform",t(T.l+T.w*m.x[0]+10,T.t+T.h*(1-m.y[0])-31)),A.append("path").attr("d",o.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),A.append("path").attr("d",o.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),A.append("path").attr("d",o.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),A.append("polygon").attr("points",o.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var p=_.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),L=h._glimages.append("g"),M=L.append("text");M.text(p).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":p});var C=n.bBox(M.node()),R=T.w*(m.x[1]-m.x[0]);if(C.width>R/2){var I=p.split("|").join("<br>");M.text(I).attr("data-unformatted",I).call(i.convertToTspans,u),C=n.bBox(M.node())}M.attr("transform",t(-3,8-C.height)),L.insert("rect",".static-attribution").attr({x:-C.width-6,y:-C.height-3,width:C.width+6,height:C.height+3,fill:"rgba(255, 255, 255, 0.75)"});var D=1;C.width+6>R&&(D=R/(C.width+6));var F=[T.l+T.w*m.x[1],T.t+T.h*(1-m.y[0])];L.attr("transform",t(F[0],F[1])+b(D))}},S.updateFx=function(u){for(var h=u._fullLayout,f=h._subplots[r],T=0;T<f.length;T++)h[f[T]]._subplot.updateFx(h)}},22360:function(O,S,e){var v=e(3400),x=e(72736).sanitizeHTML,t=e(89032),b=e(47552);function g(i,a){this.subplot=i,this.uid=i.uid+"-"+a,this.index=a,this.idSource="source-"+this.uid,this.idLayer=b.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var c=g.prototype;function s(i){if(!i.visible)return!1;var a=i.source;if(Array.isArray(a)&&a.length>0){for(var r=0;r<a.length;r++)if(typeof a[r]!="string"||a[r].length===0)return!1;return!0}return v.isPlainObject(a)||typeof a=="string"&&a.length>0}function n(i){var a={},r={};switch(i.type){case"circle":v.extendFlat(r,{"circle-radius":i.circle.radius,"circle-color":i.color,"circle-opacity":i.opacity});break;case"line":v.extendFlat(r,{"line-width":i.line.width,"line-color":i.color,"line-opacity":i.opacity,"line-dasharray":i.line.dash});break;case"fill":v.extendFlat(r,{"fill-color":i.color,"fill-outline-color":i.fill.outlinecolor,"fill-opacity":i.opacity});break;case"symbol":var o=i.symbol,l=t(o.textposition,o.iconsize);v.extendFlat(a,{"icon-image":o.icon+"-15","icon-size":o.iconsize/10,"text-field":o.text,"text-size":o.textfont.size,"text-anchor":l.anchor,"text-offset":l.offset,"symbol-placement":o.placement}),v.extendFlat(r,{"icon-color":i.color,"text-color":o.textfont.color,"text-opacity":i.opacity});break;case"raster":v.extendFlat(r,{"raster-fade-duration":0,"raster-opacity":i.opacity})}return{layout:a,paint:r}}c.update=function(i){this.visible?this.needsNewImage(i)?this.updateImage(i):this.needsNewSource(i)?(this.removeLayer(),this.updateSource(i),this.updateLayer(i)):this.needsNewLayer(i)?this.updateLayer(i):this.updateStyle(i):(this.updateSource(i),this.updateLayer(i)),this.visible=s(i)},c.needsNewImage=function(i){return this.subplot.map.getSource(this.idSource)&&this.sourceType==="image"&&i.sourcetype==="image"&&(this.source!==i.source||JSON.stringify(this.coordinates)!==JSON.stringify(i.coordinates))},c.needsNewSource=function(i){return this.sourceType!==i.sourcetype||JSON.stringify(this.source)!==JSON.stringify(i.source)||this.layerType!==i.type},c.needsNewLayer=function(i){return this.layerType!==i.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},c.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},c.updateImage=function(i){this.subplot.map.getSource(this.idSource).updateImage({url:i.source,coordinates:i.coordinates});var a=this.findFollowingMapboxLayerId(this.lookupBelow());a!==null&&this.subplot.map.moveLayer(this.idLayer,a)},c.updateSource=function(i){var a=this.subplot.map;if(a.getSource(this.idSource)&&a.removeSource(this.idSource),this.sourceType=i.sourcetype,this.source=i.source,s(i)){var r=function(o){var l,u=o.sourcetype,h=o.source,f={type:u};return u==="geojson"?l="data":u==="vector"?l=typeof h=="string"?"url":"tiles":u==="raster"?(l="tiles",f.tileSize=256):u==="image"&&(l="url",f.coordinates=o.coordinates),f[l]=h,o.sourceattribution&&(f.attribution=x(o.sourceattribution)),f}(i);a.addSource(this.idSource,r)}},c.findFollowingMapboxLayerId=function(i){if(i==="traces")for(var a=this.subplot.getMapLayers(),r=0;r<a.length;r++){var o=a[r].id;if(typeof o=="string"&&o.indexOf(b.traceLayerPrefix)===0){i=o;break}}return i},c.updateLayer=function(i){var a=this.subplot,r=n(i),o=this.lookupBelow(),l=this.findFollowingMapboxLayerId(o);this.removeLayer(),s(i)&&a.addLayer({id:this.idLayer,source:this.idSource,"source-layer":i.sourcelayer||"",type:i.type,minzoom:i.minzoom,maxzoom:i.maxzoom,layout:r.layout,paint:r.paint},l),this.layerType=i.type,this.below=o},c.updateStyle=function(i){if(s(i)){var a=n(i);this.subplot.setOptions(this.idLayer,"setLayoutProperty",a.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",a.paint)}},c.removeLayer=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer)},c.dispose=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer),i.getSource(this.idSource)&&i.removeSource(this.idSource)},O.exports=function(i,a,r){var o=new g(i,a);return o.update(r),o}},5232:function(O,S,e){var v=e(3400),x=e(76308).defaultLine,t=e(86968).u,b=e(25376),g=e(52904).textposition,c=e(67824).overrideAll,s=e(31780).templatedArray,n=e(47552),i=b({noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0});i.family.dflt="Open Sans Regular, Arial Unicode MS Regular",(O.exports=c({_arrayAttrRegexps:[v.counterRegex("mapbox",".layers",!0)],domain:t({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:n.styleValuesMapbox.concat(n.styleValuesNonMapbox),dflt:n.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:s("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:x},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:x}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:i,textposition:v.extendFlat({},g,{arrayOk:!1})}})},"plot","from-root")).uirevision={valType:"any",editType:"none"}},5976:function(O,S,e){var v=e(3400),x=e(168),t=e(51272),b=e(5232);function g(s,n,i,a){i("accesstoken",a.accessToken),i("style"),i("center.lon"),i("center.lat"),i("zoom"),i("bearing"),i("pitch");var r=i("bounds.west"),o=i("bounds.east"),l=i("bounds.south"),u=i("bounds.north");r!==void 0&&o!==void 0&&l!==void 0&&u!==void 0||delete n.bounds,t(s,n,{name:"layers",handleItemDefaults:c}),n._input=s}function c(s,n){function i(u,h){return v.coerce(s,n,b.layers,u,h)}if(i("visible")){var a,r=i("sourcetype"),o=r==="raster"||r==="image";i("source"),i("sourceattribution"),r==="vector"&&i("sourcelayer"),r==="image"&&i("coordinates"),o&&(a="raster");var l=i("type",a);o&&l!=="raster"&&(l=n.type="raster",v.log("Source types *raster* and *image* must drawn *raster* layer type.")),i("below"),i("color"),i("opacity"),i("minzoom"),i("maxzoom"),l==="circle"&&i("circle.radius"),l==="line"&&(i("line.width"),i("line.dash")),l==="fill"&&i("fill.outlinecolor"),l==="symbol"&&(i("symbol.icon"),i("symbol.iconsize"),i("symbol.text"),v.coerceFont(i,"symbol.textfont",void 0,{noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}),i("symbol.textposition"),i("symbol.placement"))}}O.exports=function(s,n,i){x(s,n,i,{type:"mapbox",attributes:b,handleDefaults:g,partition:"y",accessToken:n._mapboxAccessToken})}},14440:function(O,S,e){var v=e(3480),x=e(3400),t=e(27144),b=e(24040),g=e(54460),c=e(86476),s=e(93024),n=e(72760),i=n.drawMode,a=n.selectMode,r=e(22676).prepSelect,o=e(22676).clearOutline,l=e(22676).clearSelectionsCache,u=e(22676).selectOnClick,h=e(47552),f=e(22360);function T(A,p){this.id=p,this.gd=A;var L=A._fullLayout,M=A._context;this.container=L._glcontainer.node(),this.isStatic=M.staticPlot,this.uid=L._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(L),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var d=T.prototype;d.plot=function(A,p,L){var M,C=this,R=p[C.id];C.map&&R.accesstoken!==C.accessToken&&(C.map.remove(),C.map=null,C.styleObj=null,C.traceHash={},C.layerList=[]),M=C.map?new Promise(function(I,D){C.updateMap(A,p,I,D)}):new Promise(function(I,D){C.createMap(A,p,I,D)}),L.push(M)},d.createMap=function(A,p,L,M){var C=this,R=p[C.id],I=C.styleObj=m(R.style,p);C.accessToken=R.accesstoken;var D=R.bounds,F=D?[[D.west,D.south],[D.east,D.north]]:null,q=C.map=new v.Map({container:C.div,style:I.style,center:_(R.center),zoom:R.zoom,bearing:R.bearing,pitch:R.pitch,maxBounds:F,interactive:!C.isStatic,preserveDrawingBuffer:C.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new v.AttributionControl({compact:!0}));q._canvas.style.left="0px",q._canvas.style.top="0px",C.rejectOnError(M),C.isStatic||C.initFx(A,p);var z=[];z.push(new Promise(function(V){q.once("load",V)})),z=z.concat(t.fetchTraceGeoData(A)),Promise.all(z).then(function(){C.fillBelowLookup(A,p),C.updateData(A),C.updateLayout(p),C.resolveOnRender(L)}).catch(M)},d.updateMap=function(A,p,L,M){var C=this,R=C.map,I=p[this.id];C.rejectOnError(M);var D=[],F=m(I.style,p);JSON.stringify(C.styleObj)!==JSON.stringify(F)&&(C.styleObj=F,R.setStyle(F.style),C.traceHash={},D.push(new Promise(function(q){R.once("styledata",q)}))),D=D.concat(t.fetchTraceGeoData(A)),Promise.all(D).then(function(){C.fillBelowLookup(A,p),C.updateData(A),C.updateLayout(p),C.resolveOnRender(L)}).catch(M)},d.fillBelowLookup=function(A,p){var L,M,C=p[this.id].layers,R=this.belowLookup={},I=!1;for(L=0;L<A.length;L++){var D=A[L][0].trace,F=D._module;typeof D.below=="string"?M=D.below:F.getBelow&&(M=F.getBelow(D,this)),M===""&&(I=!0),R["trace-"+D.uid]=M||""}for(L=0;L<C.length;L++){var q=C[L];M=typeof q.below=="string"?q.below:I?"traces":"",R["layout-"+L]=M}var z,V,X={};for(z in R)X[M=R[z]]?X[M].push(z):X[M]=[z];for(M in X){var j=X[M];if(j.length>1)for(L=0;L<j.length;L++)(z=j[L]).indexOf("trace-")===0?(V=z.split("trace-")[1],this.traceHash[V]&&(this.traceHash[V].below=null)):z.indexOf("layout-")===0&&(V=z.split("layout-")[1],this.layerList[V]&&(this.layerList[V].below=null))}};var y={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};function m(A,p){var L={};if(x.isPlainObject(A))L.id=A.id,L.style=A;else if(typeof A=="string")if(L.id=A,h.styleValuesMapbox.indexOf(A)!==-1)L.style=w(A);else if(h.stylesNonMapbox[A]){L.style=h.stylesNonMapbox[A];var M=L.style.sources["plotly-"+A],C=M?M.tiles:void 0;C&&C[0]&&C[0].slice(-9)==="?api_key="&&(C[0]+=p._mapboxAccessToken)}else L.style=A;else L.id=h.styleValueDflt,L.style=w(h.styleValueDflt);return L.transition={duration:0,delay:0},L}function w(A){return h.styleUrlPrefix+A+"-"+h.styleUrlSuffix}function _(A){return[A.lon,A.lat]}d.updateData=function(A){var p,L,M,C,R=this.traceHash,I=A.slice().sort(function(V,X){return y[V[0].trace.type]-y[X[0].trace.type]});for(M=0;M<I.length;M++){var D=I[M],F=!1;(p=R[(L=D[0].trace).uid])&&(p.type===L.type?(p.update(D),F=!0):p.dispose()),!F&&L._module&&(R[L.uid]=L._module.plot(this,D))}var q=Object.keys(R);e:for(M=0;M<q.length;M++){var z=q[M];for(C=0;C<A.length;C++)if(z===(L=A[C][0].trace).uid)continue e;(p=R[z]).dispose(),delete R[z]}},d.updateLayout=function(A){var p=this.map,L=A[this.id];this.dragging||this.wheeling||(p.setCenter(_(L.center)),p.setZoom(L.zoom),p.setBearing(L.bearing),p.setPitch(L.pitch)),this.updateLayers(A),this.updateFramework(A),this.updateFx(A),this.map.resize(),this.gd._context._scrollZoom.mapbox?p.scrollZoom.enable():p.scrollZoom.disable()},d.resolveOnRender=function(A){var p=this.map;p.on("render",function L(){p.loaded()&&(p.off("render",L),setTimeout(A,10))})},d.rejectOnError=function(A){var p=this.map;function L(){A(new Error(h.mapOnErrorMsg))}p.once("error",L),p.once("style.error",L),p.once("source.error",L),p.once("tile.error",L),p.once("layer.error",L)},d.createFramework=function(A){var p=this,L=p.div=document.createElement("div");L.id=p.uid,L.style.position="absolute",p.container.appendChild(L),p.xaxis={_id:"x",c2p:function(M){return p.project(M).x}},p.yaxis={_id:"y",c2p:function(M){return p.project(M).y}},p.updateFramework(A),p.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},g.setConvert(p.mockAxis,A)},d.initFx=function(A,p){var L=this,M=L.gd,C=L.map;function R(){s.loneUnhover(p._hoverlayer)}function I(){var D=L.getView();M.emit("plotly_relayouting",L.getViewEditsWithDerived(D))}C.on("moveend",function(D){if(L.map){var F=M._fullLayout;if(D.originalEvent||L.wheeling){var q=F[L.id];b.call("_storeDirectGUIEdit",M.layout,F._preGUI,L.getViewEdits(q));var z=L.getView();q._input.center=q.center=z.center,q._input.zoom=q.zoom=z.zoom,q._input.bearing=q.bearing=z.bearing,q._input.pitch=q.pitch=z.pitch,M.emit("plotly_relayout",L.getViewEditsWithDerived(z))}D.originalEvent&&D.originalEvent.type==="mouseup"?L.dragging=!1:L.wheeling&&(L.wheeling=!1),F._rehover&&F._rehover()}}),C.on("wheel",function(){L.wheeling=!0}),C.on("mousemove",function(D){var F=L.div.getBoundingClientRect(),q=[D.originalEvent.offsetX,D.originalEvent.offsetY];D.target.getBoundingClientRect=function(){return F},L.xaxis.p2c=function(){return C.unproject(q).lng},L.yaxis.p2c=function(){return C.unproject(q).lat},M._fullLayout._rehover=function(){M._fullLayout._hoversubplot===L.id&&M._fullLayout[L.id]&&s.hover(M,D,L.id)},s.hover(M,D,L.id),M._fullLayout._hoversubplot=L.id}),C.on("dragstart",function(){L.dragging=!0,R()}),C.on("zoomstart",R),C.on("mouseout",function(){M._fullLayout._hoversubplot=null}),C.on("drag",I),C.on("zoom",I),C.on("dblclick",function(){var D=M._fullLayout[L.id];b.call("_storeDirectGUIEdit",M.layout,M._fullLayout._preGUI,L.getViewEdits(D));var F=L.viewInitial;C.setCenter(_(F.center)),C.setZoom(F.zoom),C.setBearing(F.bearing),C.setPitch(F.pitch);var q=L.getView();D._input.center=D.center=q.center,D._input.zoom=D.zoom=q.zoom,D._input.bearing=D.bearing=q.bearing,D._input.pitch=D.pitch=q.pitch,M.emit("plotly_doubleclick",null),M.emit("plotly_relayout",L.getViewEditsWithDerived(q))}),L.clearOutline=function(){l(L.dragOptions),o(L.dragOptions.gd)},L.onClickInPanFn=function(D){return function(F){var q=M._fullLayout.clickmode;q.indexOf("select")>-1&&u(F.originalEvent,M,[L.xaxis],[L.yaxis],L.id,D),q.indexOf("event")>-1&&s.click(M,F.originalEvent)}}},d.updateFx=function(A){var p=this,L=p.map,M=p.gd;if(!p.isStatic){var C,R=A.dragmode;C=function(F,q){q.isRect?(F.range={})[p.id]=[D([q.xmin,q.ymin]),D([q.xmax,q.ymax])]:(F.lassoPoints={})[p.id]=q.map(D)};var I=p.dragOptions;p.dragOptions=x.extendDeep(I||{},{dragmode:A.dragmode,element:p.div,gd:M,plotinfo:{id:p.id,domain:A[p.id].domain,xaxis:p.xaxis,yaxis:p.yaxis,fillRangeItems:C},xaxes:[p.xaxis],yaxes:[p.yaxis],subplot:p.id}),L.off("click",p.onClickInPanHandler),a(R)||i(R)?(L.dragPan.disable(),L.on("zoomstart",p.clearOutline),p.dragOptions.prepFn=function(F,q,z){r(F,q,z,p.dragOptions,R)},c.init(p.dragOptions)):(L.dragPan.enable(),L.off("zoomstart",p.clearOutline),p.div.onmousedown=null,p.div.ontouchstart=null,p.div.removeEventListener("touchstart",p.div._ontouchstart),p.onClickInPanHandler=p.onClickInPanFn(p.dragOptions),L.on("click",p.onClickInPanHandler))}function D(F){var q=p.map.unproject(F);return[q.lng,q.lat]}},d.updateFramework=function(A){var p=A[this.id].domain,L=A._size,M=this.div.style;M.width=L.w*(p.x[1]-p.x[0])+"px",M.height=L.h*(p.y[1]-p.y[0])+"px",M.left=L.l+p.x[0]*L.w+"px",M.top=L.t+(1-p.y[1])*L.h+"px",this.xaxis._offset=L.l+p.x[0]*L.w,this.xaxis._length=L.w*(p.x[1]-p.x[0]),this.yaxis._offset=L.t+(1-p.y[1])*L.h,this.yaxis._length=L.h*(p.y[1]-p.y[0])},d.updateLayers=function(A){var p,L=A[this.id].layers,M=this.layerList;if(L.length!==M.length){for(p=0;p<M.length;p++)M[p].dispose();for(M=this.layerList=[],p=0;p<L.length;p++)M.push(f(this,p,L[p]))}else for(p=0;p<L.length;p++)M[p].update(L[p])},d.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},d.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},d.setOptions=function(A,p,L){for(var M in L)this.map[p](A,M,L[M])},d.getMapLayers=function(){return this.map.getStyle().layers},d.addLayer=function(A,p){var L=this.map;if(typeof p=="string"){if(p==="")return void L.addLayer(A,p);for(var M=this.getMapLayers(),C=0;C<M.length;C++)if(p===M[C].id)return void L.addLayer(A,p);x.warn(["Trying to add layer with *below* value",p,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}L.addLayer(A)},d.project=function(A){return this.map.project(new v.LngLat(A[0],A[1]))},d.getView=function(){var A=this.map,p=A.getCenter(),L={lon:p.lng,lat:p.lat},M=A.getCanvas(),C=parseInt(M.style.width),R=parseInt(M.style.height);return{center:L,zoom:A.getZoom(),bearing:A.getBearing(),pitch:A.getPitch(),_derived:{coordinates:[A.unproject([0,0]).toArray(),A.unproject([C,0]).toArray(),A.unproject([C,R]).toArray(),A.unproject([0,R]).toArray()]}}},d.getViewEdits=function(A){for(var p=this.id,L=["center","zoom","bearing","pitch"],M={},C=0;C<L.length;C++){var R=L[C];M[p+"."+R]=A[R]}return M},d.getViewEditsWithDerived=function(A){var p=this.id,L=this.getViewEdits(A);return L[p+"._derived"]=A._derived,L},O.exports=T},66741:function(O){O.exports=function(S){var e=S.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},7316:function(O,S,e){var v=e(33428),x=e(94336).m_,t=e(57624).SO,b=e(38248),g=e(83160),c=e(24040),s=e(73060),n=e(31780),i=e(3400),a=e(76308),r=e(39032).BADNUM,o=e(79811),l=e(1936).clearOutline,u=e(55308),h=e(85656),f=e(16672),T=e(84888)._M,d=i.relinkPrivateKeys,y=i._,m=O.exports={};i.extendFlat(m,c),m.attributes=e(45464),m.attributes.type.values=m.allTypes,m.fontAttrs=e(25376),m.layoutAttributes=e(64859);var w=m.transformsRegistry,_=e(62460);m.executeAPICommand=_.executeAPICommand,m.computeAPICommandBindings=_.computeAPICommandBindings,m.manageCommandObserver=_.manageCommandObserver,m.hasSimpleAPICommandBindings=_.hasSimpleAPICommandBindings,m.redrawText=function(j){return j=i.getGraphDiv(j),new Promise(function(H){setTimeout(function(){j._fullLayout&&(c.getComponentMethod("annotations","draw")(j),c.getComponentMethod("legend","draw")(j),c.getComponentMethod("colorbar","draw")(j),H(m.previousPromises(j)))},300)})},m.resize=function(j){var H;j=i.getGraphDiv(j);var G=new Promise(function(ie,re){j&&!i.isHidden(j)||re(new Error("Resize must be passed a displayed plot div element.")),j._redrawTimer&&clearTimeout(j._redrawTimer),j._resolveResize&&(H=j._resolveResize),j._resolveResize=ie,j._redrawTimer=setTimeout(function(){if(!j.layout||j.layout.width&&j.layout.height||i.isHidden(j))ie(j);else{delete j.layout.width,delete j.layout.height;var te=j.changed;j.autoplay=!0,c.call("relayout",j,{autosize:!0}).then(function(){j.changed=te,j._resolveResize===ie&&(delete j._resolveResize,ie(j))})}},100)});return H&&H(G),G},m.previousPromises=function(j){if((j._promises||[]).length)return Promise.all(j._promises).then(function(){j._promises=[]})},m.addLinks=function(j){if(j._context.showLink||j._context.showSources){var H=j._fullLayout,G=i.ensureSingle(H._paper,"text","js-plot-link-container",function($){$.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:a.defaultLine,"pointer-events":"all"}).each(function(){var ae=v.select(this);ae.append("tspan").classed("js-link-to-tool",!0),ae.append("tspan").classed("js-link-spacer",!0),ae.append("tspan").classed("js-sourcelinks",!0)})}),ie=G.node(),re={y:H._paper.attr("height")-9};document.body.contains(ie)&&ie.getComputedTextLength()>=H.width-20?(re["text-anchor"]="start",re.x=5):(re["text-anchor"]="end",re.x=H._paper.attr("width")-7),G.attr(re);var te=G.select(".js-link-to-tool"),K=G.select(".js-link-spacer"),J=G.select(".js-sourcelinks");j._context.showSources&&j._context.showSources(j),j._context.showLink&&function($,ae){ae.text("");var ue=ae.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text($._context.linkText+" ");if($._context.sendData)ue.on("click",function(){m.sendDataToCloud($)});else{var ce=window.location.pathname.split("/"),de=window.location.search;ue.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+ce[2].split(".")[0]+"/"+ce[1]+de})}}(j,te),K.text(te.text()&&J.text()?" - ":"")}},m.sendDataToCloud=function(j){var H=(window.PLOTLYENV||{}).BASE_URL||j._context.plotlyServerURL;if(H){j.emit("plotly_beforeexport");var G=v.select(j).append("div").attr("id","hiddenform").style("display","none"),ie=G.append("form").attr({action:H+"/external",method:"post",target:"_blank"});return ie.append("input").attr({type:"text",name:"data"}).node().value=m.graphJson(j,!1,"keepdata"),ie.node().submit(),G.remove(),j.emit("plotly_afterexport"),!1}};var A=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],p=["year","month","dayMonth","dayMonthYear"];function L(j,H){var G=j._context.locale;G||(G="en-US");var ie=!1,re={};function te(ce){for(var de=!0,pe=0;pe<H.length;pe++){var me=H[pe];re[me]||(ce[me]?re[me]=ce[me]:de=!1)}de&&(ie=!0)}for(var K=0;K<2;K++){for(var J=j._context.locales,$=0;$<2;$++){var ae=(J[G]||{}).format;if(ae&&(te(ae),ie))break;J=c.localeRegistry}var ue=G.split("-")[0];if(ie||ue===G)break;G=ue}return ie||te(c.localeRegistry.en.format),re}function M(j,H){var G={_fullLayout:H},ie=j._id.charAt(0)==="x",re=j._mainAxis._anchorAxis,te="",K="",J="";if(re&&(J=re._mainAxis._id,te=ie?j._id+J:J+j._id),!te||!H._plots[te]){te="";for(var $=j._counterAxes,ae=0;ae<$.length;ae++){var ue=$[ae],ce=ie?j._id+ue:ue+j._id;K||(K=ce);var de=o.getFromId(G,ue);if(J&&de.overlaying===J){te=ce;break}}}return te||K}function C(j){var H=j.transforms;if(Array.isArray(H)&&H.length)for(var G=0;G<H.length;G++){var ie=H[G],re=ie._module||w[ie.type];if(re&&re.makesData)return!0}return!1}function R(j,H,G,ie){for(var re=j.transforms,te=[j],K=0;K<re.length;K++){var J=re[K],$=w[J.type];$&&$.transform&&(te=$.transform(te,{transform:J,fullTrace:j,fullData:H,layout:G,fullLayout:ie,transformIndex:K}))}return te}function I(j){return typeof j=="string"&&j.substr(j.length-2)==="px"&&parseFloat(j)}function D(j){var H=j.margin;if(!j._size){var G=j._size={l:Math.round(H.l),r:Math.round(H.r),t:Math.round(H.t),b:Math.round(H.b),p:Math.round(H.pad)};G.w=Math.round(j.width)-G.l-G.r,G.h=Math.round(j.height)-G.t-G.b}j._pushmargin||(j._pushmargin={}),j._pushmarginIds||(j._pushmarginIds={}),j._reservedMargin||(j._reservedMargin={})}m.supplyDefaults=function(j,H){var G=H&&H.skipUpdateCalc,ie=j._fullLayout||{};if(ie._skipDefaults)delete ie._skipDefaults;else{var re,te=j._fullLayout={},K=j.layout||{},J=j._fullData||[],$=j._fullData=[],ae=j.data||[],ue=j.calcdata||[],ce=j._context||{};j._transitionData||m.createTransitionData(j),te._dfltTitle={plot:y(j,"Click to enter Plot title"),x:y(j,"Click to enter X axis title"),y:y(j,"Click to enter Y axis title"),colorbar:y(j,"Click to enter Colorscale title"),annotation:y(j,"new text")},te._traceWord=y(j,"trace");var de=L(j,A);if(te._mapboxAccessToken=ce.mapboxAccessToken,ie._initialAutoSizeIsDone){var pe=ie.width,me=ie.height;m.supplyLayoutGlobalDefaults(K,te,de),K.width||(te.width=pe),K.height||(te.height=me),m.sanitizeMargins(te)}else{m.supplyLayoutGlobalDefaults(K,te,de);var be=!K.width||!K.height,we=te.autosize,Te=ce.autosizable;be&&(we||Te)?m.plotAutoSize(j,K,te):be&&m.sanitizeMargins(te),!we&&be&&(K.width=te.width,K.height=te.height)}te._d3locale=function(Re,He){return Re.decimal=He.charAt(0),Re.thousands=He.charAt(1),{numberFormat:function(Ye){try{Ye=t(Re).format(i.adjustFormat(Ye))}catch{return i.warnBadFormat(Ye),i.noFormat}return Ye},timeFormat:x(Re).utcFormat}}(de,te.separators),te._extraFormat=L(j,p),te._initialAutoSizeIsDone=!0,te._dataLength=ae.length,te._modules=[],te._visibleModules=[],te._basePlotModules=[];var Le=te._subplots=function(){var Re,He,Ye=c.collectableSubplotTypes,Qe={};if(!Ye){Ye=[];var lt=c.subplotsRegistry;for(var ut in lt){var xt=lt[ut].attr;if(xt&&(Ye.push(ut),Array.isArray(xt)))for(He=0;He<xt.length;He++)i.pushUnique(Ye,xt[He])}}for(Re=0;Re<Ye.length;Re++)Qe[Ye[Re]]=[];return Qe}(),Ie=te._splomAxes={x:{},y:{}},_e=te._splomSubplots={};te._splomGridDflt={},te._scatterStackOpts={},te._firstScatter={},te._alignmentOpts={},te._colorAxes={},te._requestRangeslider={},te._traceUids=function(Re,He){var Ye,Qe,lt=He.length,ut=[];for(Ye=0;Ye<Re.length;Ye++){var xt=Re[Ye]._fullInput;xt!==Qe&&ut.push(xt),Qe=xt}var _t=ut.length,mt=new Array(lt),it={};function nt(Ft,Pt){mt[Pt]=Ft,it[Ft]=1}function Et(Ft,Pt){if(Ft&&typeof Ft=="string"&&!it[Ft])return nt(Ft,Pt),!0}for(Ye=0;Ye<lt;Ye++){var zt=He[Ye].uid;typeof zt=="number"&&(zt=String(zt)),Et(zt,Ye)||Ye<_t&&Et(ut[Ye].uid,Ye)||nt(i.randstr(it),Ye)}return mt}(J,ae),te._globalTransforms=(j._context||{}).globalTransforms,m.supplyDataDefaults(ae,$,K,te);var fe=Object.keys(Ie.x),le=Object.keys(Ie.y);if(fe.length>1&&le.length>1){for(c.getComponentMethod("grid","sizeDefaults")(K,te),re=0;re<fe.length;re++)i.pushUnique(Le.xaxis,fe[re]);for(re=0;re<le.length;re++)i.pushUnique(Le.yaxis,le[re]);for(var ye in _e)i.pushUnique(Le.cartesian,ye)}if(te._has=m._hasPlotType.bind(te),J.length===$.length)for(re=0;re<$.length;re++)d($[re],J[re]);m.supplyLayoutModuleDefaults(K,te,$,j._transitionData);var Oe=te._visibleModules,Ae=[];for(re=0;re<Oe.length;re++){var Se=Oe[re].crossTraceDefaults;Se&&i.pushUnique(Ae,Se)}for(re=0;re<Ae.length;re++)Ae[re]($,te);te._hasOnlyLargeSploms=te._basePlotModules.length===1&&te._basePlotModules[0].name==="splom"&&fe.length>15&&le.length>15&&te.shapes.length===0&&te.images.length===0,m.linkSubplots($,te,J,ie),m.cleanPlot($,te,J,ie);var Pe=!(!ie._has||!ie._has("gl2d")),Fe=!(!te._has||!te._has("gl2d")),Be=!(!ie._has||!ie._has("cartesian"))||Pe,xe=!(!te._has||!te._has("cartesian"))||Fe;Be&&!xe?ie._bgLayer.remove():xe&&!Be&&(te._shouldCreateBgLayer=!0),ie._zoomlayer&&!j._dragging&&l({_fullLayout:ie}),function(Re,He){var Ye,Qe=[];He.meta&&(Ye=He._meta={meta:He.meta,layout:{meta:He.meta}});for(var lt=0;lt<Re.length;lt++){var ut=Re[lt];ut.meta?Qe[ut.index]=ut._meta={meta:ut.meta}:He.meta&&(ut._meta={meta:He.meta}),He.meta&&(ut._meta.layout={meta:He.meta})}Qe.length&&(Ye||(Ye=He._meta={}),Ye.data=Qe)}($,te),d(te,ie),c.getComponentMethod("colorscale","crossTraceDefaults")($,te),te._preGUI||(te._preGUI={}),te._tracePreGUI||(te._tracePreGUI={});var Me,Ce=te._tracePreGUI,Ne={};for(Me in Ce)Ne[Me]="old";for(re=0;re<$.length;re++)Ne[Me=$[re]._fullInput.uid]||(Ce[Me]={}),Ne[Me]="new";for(Me in Ne)Ne[Me]==="old"&&delete Ce[Me];D(te),c.getComponentMethod("rangeslider","makeData")(te),G||ue.length!==$.length||m.supplyDefaultsUpdateCalc(ue,$)}},m.supplyDefaultsUpdateCalc=function(j,H){for(var G=0;G<H.length;G++){var ie=H[G],re=(j[G]||[])[0];if(re&&re.trace){var te=re.trace;if(te._hasCalcTransform){var K,J,$,ae=te._arrayAttrs;for(K=0;K<ae.length;K++)J=ae[K],$=i.nestedProperty(te,J).get().slice(),i.nestedProperty(ie,J).set($)}re.trace=ie}}},m.createTransitionData=function(j){j._transitionData||(j._transitionData={}),j._transitionData._frames||(j._transitionData._frames=[]),j._transitionData._frameHash||(j._transitionData._frameHash={}),j._transitionData._counter||(j._transitionData._counter=0),j._transitionData._interruptCallbacks||(j._transitionData._interruptCallbacks=[])},m._hasPlotType=function(j){var H,G=this._basePlotModules||[];for(H=0;H<G.length;H++)if(G[H].name===j)return!0;var ie=this._modules||[];for(H=0;H<ie.length;H++){var re=ie[H].name;if(re===j)return!0;var te=c.modules[re];if(te&&te.categories[j])return!0}return!1},m.cleanPlot=function(j,H,G,ie){var re,te,K=ie._basePlotModules||[];for(re=0;re<K.length;re++){var J=K[re];J.clean&&J.clean(j,H,G,ie)}var $=ie._has&&ie._has("gl"),ae=H._has&&H._has("gl");$&&!ae&&ie._glcontainer!==void 0&&(ie._glcontainer.selectAll(".gl-canvas").remove(),ie._glcontainer.selectAll(".no-webgl").remove(),ie._glcanvas=null);var ue=!!ie._infolayer;e:for(re=0;re<G.length;re++){var ce=G[re].uid;for(te=0;te<j.length;te++)if(ce===j[te].uid)continue e;ue&&ie._infolayer.select(".cb"+ce).remove()}},m.linkSubplots=function(j,H,G,ie){var re,te,K=ie._plots||{},J=H._plots={},$=H._subplots,ae={_fullData:j,_fullLayout:H},ue=$.cartesian.concat($.gl2d||[]);for(re=0;re<ue.length;re++){var ce,de=ue[re],pe=K[de],me=o.getFromId(ae,de,"x"),be=o.getFromId(ae,de,"y");for(pe?ce=J[de]=pe:(ce=J[de]={}).id=de,me._counterAxes.push(be._id),be._counterAxes.push(me._id),me._subplotsWith.push(de),be._subplotsWith.push(de),ce.xaxis=me,ce.yaxis=be,ce._hasClipOnAxisFalse=!1,te=0;te<j.length;te++){var we=j[te];if(we.xaxis===ce.xaxis._id&&we.yaxis===ce.yaxis._id&&we.cliponaxis===!1){ce._hasClipOnAxisFalse=!0;break}}}var Te,Le=o.list(ae,null,!0);for(re=0;re<Le.length;re++){var Ie=null;(Te=Le[re]).overlaying&&(Ie=o.getFromId(ae,Te.overlaying))&&Ie.overlaying&&(Te.overlaying=!1,Ie=null),Te._mainAxis=Ie||Te,Ie&&(Te.domain=Ie.domain.slice()),Te._anchorAxis=Te.anchor==="free"?null:o.getFromId(ae,Te.anchor)}for(re=0;re<Le.length;re++)if((Te=Le[re])._counterAxes.sort(o.idSort),Te._subplotsWith.sort(i.subplotSort),Te._mainSubplot=M(Te,H),Te._counterAxes.length&&(Te.spikemode&&Te.spikemode.indexOf("across")!==-1||Te.automargin&&Te.mirror&&Te.anchor!=="free"||c.getComponentMethod("rangeslider","isVisible")(Te))){var _e=1,fe=0;for(te=0;te<Te._counterAxes.length;te++){var le=o.getFromId(ae,Te._counterAxes[te]);_e=Math.min(_e,le.domain[0]),fe=Math.max(fe,le.domain[1])}_e<fe&&(Te._counterDomainMin=_e,Te._counterDomainMax=fe)}},m.clearExpandedTraceDefaultColors=function(j){var H,G,ie;for(G=[],(H=j._module._colorAttrs)||(j._module._colorAttrs=H=[],s.crawl(j._module.attributes,function(re,te,K,J){G[J]=te,G.length=J+1,re.valType==="color"&&re.dflt===void 0&&H.push(G.join("."))})),ie=0;ie<H.length;ie++)i.nestedProperty(j,"_input."+H[ie]).get()||i.nestedProperty(j,H[ie]).set(null)},m.supplyDataDefaults=function(j,H,G,ie){var re,te,K,J=ie._modules,$=ie._visibleModules,ae=ie._basePlotModules,ue=0,ce=0;function de(ye){H.push(ye);var Oe=ye._module;Oe&&(i.pushUnique(J,Oe),ye.visible===!0&&i.pushUnique($,Oe),i.pushUnique(ae,ye._module.basePlotModule),ue++,ye._input.visible!==!1&&ce++)}ie._transformModules=[];var pe={},me=[],be=(G.template||{}).data||{},we=n.traceTemplater(be);for(re=0;re<j.length;re++){if(K=j[re],(te=we.newTrace(K)).uid=ie._traceUids[re],m.supplyTraceDefaults(K,te,ce,ie,re),te.index=re,te._input=K,te._expandedIndex=ue,te.transforms&&te.transforms.length)for(var Te=K.visible!==!1&&te.visible===!1,Le=R(te,H,G,ie),Ie=0;Ie<Le.length;Ie++){var _e=Le[Ie],fe={_template:te._template,type:te.type,uid:te.uid+Ie};Te&&_e.visible===!1&&delete _e.visible,m.supplyTraceDefaults(_e,fe,ue,ie,re),d(fe,_e),fe.index=re,fe._input=K,fe._fullInput=te,fe._expandedIndex=ue,fe._expandedInput=_e,de(fe)}else te._fullInput=te,te._expandedInput=te,de(te);c.traceIs(te,"carpetAxis")&&(pe[te.carpet]=te),c.traceIs(te,"carpetDependent")&&me.push(re)}for(re=0;re<me.length;re++)if((te=H[me[re]]).visible){var le=pe[te.carpet];te._carpet=le,le&&le.visible?(te.xaxis=le.xaxis,te.yaxis=le.yaxis):te.visible=!1}},m.supplyAnimationDefaults=function(j){var H;j=j||{};var G={};function ie(re,te){return i.coerce(j||{},G,h,re,te)}if(ie("mode"),ie("direction"),ie("fromcurrent"),Array.isArray(j.frame))for(G.frame=[],H=0;H<j.frame.length;H++)G.frame[H]=m.supplyAnimationFrameDefaults(j.frame[H]||{});else G.frame=m.supplyAnimationFrameDefaults(j.frame||{});if(Array.isArray(j.transition))for(G.transition=[],H=0;H<j.transition.length;H++)G.transition[H]=m.supplyAnimationTransitionDefaults(j.transition[H]||{});else G.transition=m.supplyAnimationTransitionDefaults(j.transition||{});return G},m.supplyAnimationFrameDefaults=function(j){var H={};function G(ie,re){return i.coerce(j||{},H,h.frame,ie,re)}return G("duration"),G("redraw"),H},m.supplyAnimationTransitionDefaults=function(j){var H={};function G(ie,re){return i.coerce(j||{},H,h.transition,ie,re)}return G("duration"),G("easing"),H},m.supplyFrameDefaults=function(j){var H={};function G(ie,re){return i.coerce(j,H,f,ie,re)}return G("group"),G("name"),G("traces"),G("baseframe"),G("data"),G("layout"),H},m.supplyTraceDefaults=function(j,H,G,ie,re){var te,K=ie.colorway||a.defaults,J=K[G%K.length];function $(Ie,_e){return i.coerce(j,H,m.attributes,Ie,_e)}var ae=$("visible");$("type"),$("name",ie._traceWord+" "+re),$("uirevision",ie.uirevision);var ue=m.getModule(H);if(H._module=ue,ue){var ce=ue.basePlotModule,de=ce.attr,pe=ce.attributes;if(de&&pe){var me=ie._subplots,be="";if(ae||ce.name!=="gl2d"){if(Array.isArray(de))for(te=0;te<de.length;te++){var we=de[te],Te=i.coerce(j,H,pe,we);me[we]&&i.pushUnique(me[we],Te),be+=Te}else be=i.coerce(j,H,pe,de);me[ce.name]&&i.pushUnique(me[ce.name],be)}}}if(ae){if($("customdata"),$("ids"),$("meta"),c.traceIs(H,"showLegend")?(i.coerce(j,H,ue.attributes.showlegend?ue.attributes:m.attributes,"showlegend"),$("legend"),$("legendwidth"),$("legendgroup"),$("legendgrouptitle.text"),$("legendrank"),H._dfltShowLegend=!0):H._dfltShowLegend=!1,ue&&ue.supplyDefaults(j,H,J,ie),c.traceIs(H,"noOpacity")||$("opacity"),c.traceIs(H,"notLegendIsolatable")&&(H.visible=!!H.visible),c.traceIs(H,"noHover")||(H.hovertemplate||i.coerceHoverinfo(j,H,ie),H.type!=="parcats"&&c.getComponentMethod("fx","supplyDefaults")(j,H,J,ie)),ue&&ue.selectPoints){var Le=$("selectedpoints");i.isTypedArray(Le)&&(H.selectedpoints=Array.from(Le))}m.supplyTransformDefaults(j,H,ie)}return H},m.hasMakesDataTransform=C,m.supplyTransformDefaults=function(j,H,G){if(H._length||C(j)){var ie=G._globalTransforms||[],re=G._transformModules||[];if(Array.isArray(j.transforms)||ie.length!==0)for(var te=j.transforms||[],K=ie.concat(te),J=H.transforms=[],$=0;$<K.length;$++){var ae,ue=K[$],ce=ue.type,de=w[ce],pe=!(ue._module&&ue._module===de),me=de&&typeof de.transform=="function";de||i.warn("Unrecognized transform type "+ce+"."),de&&de.supplyDefaults&&(pe||me)?((ae=de.supplyDefaults(ue,H,G,j)).type=ce,ae._module=de,i.pushUnique(re,de)):ae=i.extendFlat({},ue),J.push(ae)}}},m.supplyLayoutGlobalDefaults=function(j,H,G){function ie(ue,ce){return i.coerce(j,H,m.layoutAttributes,ue,ce)}var re=j.template;i.isPlainObject(re)&&(H.template=re,H._template=re.layout,H._dataTemplate=re.data),ie("autotypenumbers");var te=i.coerceFont(ie,"font"),K=te.size;i.coerceFont(ie,"title.font",te,{overrideDflt:{size:Math.round(1.4*K)}}),ie("title.text",H._dfltTitle.plot),ie("title.xref");var J=ie("title.yref");ie("title.pad.t"),ie("title.pad.r"),ie("title.pad.b"),ie("title.pad.l");var $=ie("title.automargin");ie("title.x"),ie("title.xanchor"),ie("title.y"),ie("title.yanchor"),$&&(J==="paper"&&(H.title.y!==0&&(H.title.y=1),H.title.yanchor==="auto"&&(H.title.yanchor=H.title.y===0?"top":"bottom")),J==="container"&&(H.title.y==="auto"&&(H.title.y=1),H.title.yanchor==="auto"&&(H.title.yanchor=H.title.y<.5?"bottom":"top"))),ie("uniformtext.mode")&&ie("uniformtext.minsize"),ie("autosize",!(j.width&&j.height)),ie("width"),ie("height"),ie("minreducedwidth"),ie("minreducedheight"),ie("margin.l"),ie("margin.r"),ie("margin.t"),ie("margin.b"),ie("margin.pad"),ie("margin.autoexpand"),j.width&&j.height&&m.sanitizeMargins(H),c.getComponentMethod("grid","sizeDefaults")(j,H),ie("paper_bgcolor"),ie("separators",G.decimal+G.thousands),ie("hidesources"),ie("colorway"),ie("datarevision");var ae=ie("uirevision");ie("editrevision",ae),ie("selectionrevision",ae),c.getComponentMethod("modebar","supplyLayoutDefaults")(j,H),c.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(j,H,ie),c.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(j,H,ie),ie("meta"),i.isPlainObject(j.transition)&&(ie("transition.duration"),ie("transition.easing"),ie("transition.ordering")),c.getComponentMethod("calendars","handleDefaults")(j,H,"calendar"),c.getComponentMethod("fx","supplyLayoutGlobalDefaults")(j,H,ie),i.coerce(j,H,u,"scattermode")},m.plotAutoSize=function(j,H,G){var ie,re,te=j._context||{},K=te.frameMargins,J=i.isPlotDiv(j);if(J&&j.emit("plotly_autosize"),te.fillFrame)ie=window.innerWidth,re=window.innerHeight,document.body.style.overflow="hidden";else{var $=J?window.getComputedStyle(j):{};if(ie=I($.width)||I($.maxWidth)||G.width,re=I($.height)||I($.maxHeight)||G.height,b(K)&&K>0){var ae=1-2*K;ie=Math.round(ae*ie),re=Math.round(ae*re)}}var ue=m.layoutAttributes.width.min,ce=m.layoutAttributes.height.min;ie<ue&&(ie=ue),re<ce&&(re=ce);var de=!H.width&&Math.abs(G.width-ie)>1,pe=!H.height&&Math.abs(G.height-re)>1;(pe||de)&&(de&&(G.width=ie),pe&&(G.height=re)),j._initialAutoSize||(j._initialAutoSize={width:ie,height:re}),m.sanitizeMargins(G)},m.supplyLayoutModuleDefaults=function(j,H,G,ie){var re,te,K,J=c.componentsRegistry,$=H._basePlotModules,ae=c.subplotsRegistry.cartesian;for(re in J)(K=J[re]).includeBasePlot&&K.includeBasePlot(j,H);for(var ue in $.length||$.push(ae),H._has("cartesian")&&(c.getComponentMethod("grid","contentDefaults")(j,H),ae.finalizeSubplots(j,H)),H._subplots)H._subplots[ue].sort(i.subplotSort);for(te=0;te<$.length;te++)(K=$[te]).supplyLayoutDefaults&&K.supplyLayoutDefaults(j,H,G);var ce=H._modules;for(te=0;te<ce.length;te++)(K=ce[te]).supplyLayoutDefaults&&K.supplyLayoutDefaults(j,H,G);var de=H._transformModules;for(te=0;te<de.length;te++)(K=de[te]).supplyLayoutDefaults&&K.supplyLayoutDefaults(j,H,G,ie);for(re in J)(K=J[re]).supplyLayoutDefaults&&K.supplyLayoutDefaults(j,H,G)},m.purge=function(j){var H=j._fullLayout||{};H._glcontainer!==void 0&&(H._glcontainer.selectAll(".gl-canvas").remove(),H._glcontainer.remove(),H._glcanvas=null),H._modeBar&&H._modeBar.destroy(),j._transitionData&&(j._transitionData._interruptCallbacks&&(j._transitionData._interruptCallbacks.length=0),j._transitionData._animationRaf&&window.cancelAnimationFrame(j._transitionData._animationRaf)),i.clearThrottle(),i.clearResponsive(j),delete j.data,delete j.layout,delete j._fullData,delete j._fullLayout,delete j.calcdata,delete j.empty,delete j.fid,delete j.undoqueue,delete j.undonum,delete j.autoplay,delete j.changed,delete j._promises,delete j._redrawTimer,delete j._hmlumcount,delete j._hmpixcount,delete j._transitionData,delete j._transitioning,delete j._initialAutoSize,delete j._transitioningWithDuration,delete j._dragging,delete j._dragged,delete j._dragdata,delete j._hoverdata,delete j._snapshotInProgress,delete j._editing,delete j._mouseDownTime,delete j._legendMouseDownTime,j.removeAllListeners&&j.removeAllListeners()},m.style=function(j){var H,G=j._fullLayout._visibleModules,ie=[];for(H=0;H<G.length;H++){var re=G[H];re.style&&i.pushUnique(ie,re.style)}for(H=0;H<ie.length;H++)ie[H](j)},m.sanitizeMargins=function(j){if(j&&j.margin){var H,G=j.width,ie=j.height,re=j.margin,te=G-(re.l+re.r),K=ie-(re.t+re.b);te<0&&(H=(G-1)/(re.l+re.r),re.l=Math.floor(H*re.l),re.r=Math.floor(H*re.r)),K<0&&(H=(ie-1)/(re.t+re.b),re.t=Math.floor(H*re.t),re.b=Math.floor(H*re.b))}},m.clearAutoMarginIds=function(j){j._fullLayout._pushmarginIds={}},m.allowAutoMargin=function(j,H){j._fullLayout._pushmarginIds[H]=1},m.autoMargin=function(j,H,G){var ie=j._fullLayout,re=ie.width,te=ie.height,K=ie.margin,J=ie.minreducedwidth,$=ie.minreducedheight,ae=i.constrain(re-K.l-K.r,2,J),ue=i.constrain(te-K.t-K.b,2,$),ce=Math.max(0,re-ae),de=Math.max(0,te-ue),pe=ie._pushmargin,me=ie._pushmarginIds;if(K.autoexpand!==!1){if(G){var be=G.pad;if(be===void 0&&(be=Math.min(12,K.l,K.r,K.t,K.b)),ce){var we=(G.l+G.r)/ce;we>1&&(G.l/=we,G.r/=we)}if(de){var Te=(G.t+G.b)/de;Te>1&&(G.t/=Te,G.b/=Te)}var Le=G.xl!==void 0?G.xl:G.x,Ie=G.xr!==void 0?G.xr:G.x,_e=G.yt!==void 0?G.yt:G.y,fe=G.yb!==void 0?G.yb:G.y;pe[H]={l:{val:Le,size:G.l+be},r:{val:Ie,size:G.r+be},b:{val:fe,size:G.b+be},t:{val:_e,size:G.t+be}},me[H]=1}else delete pe[H],delete me[H];if(!ie._replotting)return m.doAutoMargin(j)}},m.doAutoMargin=function(j){var H=j._fullLayout,G=H.width,ie=H.height;H._size||(H._size={}),D(H);var re=H._size,te=H.margin,K={t:0,b:0,l:0,r:0},J=i.extendFlat({},re),$=te.l,ae=te.r,ue=te.t,ce=te.b,de=H._pushmargin,pe=H._pushmarginIds,me=H.minreducedwidth,be=H.minreducedheight;if(te.autoexpand!==!1){for(var we in de)pe[we]||delete de[we];var Te=j._fullLayout._reservedMargin;for(var Le in Te)for(var Ie in Te[Le]){var _e=Te[Le][Ie];K[Ie]=Math.max(K[Ie],_e)}for(var fe in de.base={l:{val:0,size:$},r:{val:1,size:ae},t:{val:1,size:ue},b:{val:0,size:ce}},K){var le=0;for(var ye in de)ye!=="base"&&b(de[ye][fe].size)&&(le=de[ye][fe].size>le?de[ye][fe].size:le);var Oe=Math.max(0,te[fe]-le);K[fe]=Math.max(0,K[fe]-Oe)}for(var Ae in de){var Se=de[Ae].l||{},Pe=de[Ae].b||{},Fe=Se.val,Be=Se.size,xe=Pe.val,Me=Pe.size,Ce=G-K.r-K.l,Ne=ie-K.t-K.b;for(var Re in de){if(b(Be)&&de[Re].r){var He=de[Re].r.val,Ye=de[Re].r.size;if(He>Fe){var Qe=(Be*He+(Ye-Ce)*Fe)/(He-Fe),lt=(Ye*(1-Fe)+(Be-Ce)*(1-He))/(He-Fe);Qe+lt>$+ae&&($=Qe,ae=lt)}}if(b(Me)&&de[Re].t){var ut=de[Re].t.val,xt=de[Re].t.size;if(ut>xe){var _t=(Me*ut+(xt-Ne)*xe)/(ut-xe),mt=(xt*(1-xe)+(Me-Ne)*(1-ut))/(ut-xe);_t+mt>ce+ue&&(ce=_t,ue=mt)}}}}}var it=i.constrain(G-te.l-te.r,2,me),nt=i.constrain(ie-te.t-te.b,2,be),Et=Math.max(0,G-it),zt=Math.max(0,ie-nt);if(Et){var Ft=($+ae)/Et;Ft>1&&($/=Ft,ae/=Ft)}if(zt){var Pt=(ce+ue)/zt;Pt>1&&(ce/=Pt,ue/=Pt)}if(re.l=Math.round($)+K.l,re.r=Math.round(ae)+K.r,re.t=Math.round(ue)+K.t,re.b=Math.round(ce)+K.b,re.p=Math.round(te.pad),re.w=Math.round(G)-re.l-re.r,re.h=Math.round(ie)-re.t-re.b,!H._replotting&&(m.didMarginChange(J,re)||function(Je){if("_redrawFromAutoMarginCount"in Je._fullLayout)return!1;var qe=o.list(Je,"",!0);for(var Ke in qe)if(qe[Ke].autoshift||qe[Ke].shift)return!0;return!1}(j))){"_redrawFromAutoMarginCount"in H?H._redrawFromAutoMarginCount++:H._redrawFromAutoMarginCount=1;var Ze=3*(1+Object.keys(pe).length);if(H._redrawFromAutoMarginCount<Ze)return c.call("_doPlot",j);H._size=J,i.warn("Too many auto-margin redraws.")}(function(Je){var qe=o.list(Je,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(Ke){for(var ft=0;ft<qe.length;ft++){var ot=qe[ft][Ke];ot&&ot()}})})(j)};var F=["l","r","t","b","p","w","h"];function q(j,H,G){var ie=!1,re=[m.previousPromises,function(){if(j._transitionData)return j._transitioning=!1,function(K){var J=Promise.resolve();if(!K)return J;for(;K.length;)J=J.then(K.shift());return J}(j._transitionData._interruptCallbacks)},G.prepareFn,m.rehover,m.reselect,function(){return j.emit("plotly_transitioning",[]),new Promise(function(K){j._transitioning=!0,H.duration>0&&(j._transitioningWithDuration=!0),j._transitionData._interruptCallbacks.push(function(){ie=!0}),G.redraw&&j._transitionData._interruptCallbacks.push(function(){return c.call("redraw",j)}),j._transitionData._interruptCallbacks.push(function(){j.emit("plotly_transitioninterrupted",[])});var J=0,$=0;function ae(){return J++,function(){var ue;$++,ie||$!==J||(ue=K,j._transitionData&&(function(ce){if(ce)for(;ce.length;)ce.shift()}(j._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(G.redraw)return c.call("redraw",j)}).then(function(){j._transitioning=!1,j._transitioningWithDuration=!1,j.emit("plotly_transitioned",[])}).then(ue)))}}G.runFn(ae),setTimeout(ae())})}],te=i.syncOrAsync(re,j);return te&&te.then||(te=Promise.resolve()),te.then(function(){return j})}m.didMarginChange=function(j,H){for(var G=0;G<F.length;G++){var ie=F[G],re=j[ie],te=H[ie];if(!b(re)||Math.abs(te-re)>1)return!0}return!1},m.graphJson=function(j,H,G,ie,re,te){(re&&H&&!j._fullData||re&&!H&&!j._fullLayout)&&m.supplyDefaults(j);var K=re?j._fullData:j.data,J=re?j._fullLayout:j.layout,$=(j._transitionData||{})._frames;function ae(de,pe){if(typeof de=="function")return pe?"_function_":null;if(i.isPlainObject(de)){var me,be={};return Object.keys(de).sort().forEach(function(Ie){if(["_","["].indexOf(Ie.charAt(0))===-1)if(typeof de[Ie]!="function"){if(G==="keepdata"){if(Ie.substr(Ie.length-3)==="src")return}else if(G==="keepstream"){if(typeof(me=de[Ie+"src"])=="string"&&me.indexOf(":")>0&&!i.isPlainObject(de.stream))return}else if(G!=="keepall"&&typeof(me=de[Ie+"src"])=="string"&&me.indexOf(":")>0)return;be[Ie]=ae(de[Ie],pe)}else pe&&(be[Ie]="_function")}),be}var we=Array.isArray(de),Te=i.isTypedArray(de);if((we||Te)&&de.dtype&&de.shape){var Le=de.bdata;return ae({dtype:de.dtype,shape:de.shape,bdata:i.isArrayBuffer(Le)?g.encode(Le):Le},pe)}return we?de.map(function(Ie){return ae(Ie,pe)}):Te?i.simpleMap(de,i.identity):i.isJSDate(de)?i.ms2DateTimeLocal(+de):de}var ue={data:(K||[]).map(function(de){var pe=ae(de);return H&&delete pe.fit,pe})};if(!H&&(ue.layout=ae(J),re)){var ce=J._size;ue.layout.computed={margin:{b:ce.b,l:ce.l,r:ce.r,t:ce.t}}}return $&&(ue.frames=ae($)),te&&(ue.config=ae(j._context,!0)),ie==="object"?ue:JSON.stringify(ue)},m.modifyFrames=function(j,H){var G,ie,re,te=j._transitionData._frames,K=j._transitionData._frameHash;for(G=0;G<H.length;G++)switch((ie=H[G]).type){case"replace":re=ie.value;var J=(te[ie.index]||{}).name,$=re.name;te[ie.index]=K[$]=re,$!==J&&(delete K[J],K[$]=re);break;case"insert":K[(re=ie.value).name]=re,te.splice(ie.index,0,re);break;case"delete":delete K[(re=te[ie.index]).name],te.splice(ie.index,1)}return Promise.resolve()},m.computeFrame=function(j,H){var G,ie,re,te,K=j._transitionData._frameHash;if(!H)throw new Error("computeFrame must be given a string frame name");var J=K[H.toString()];if(!J)return!1;for(var $=[J],ae=[J.name];J.baseframe&&(J=K[J.baseframe.toString()])&&ae.indexOf(J.name)===-1;)$.push(J),ae.push(J.name);for(var ue={};J=$.pop();)if(J.layout&&(ue.layout=m.extendLayout(ue.layout,J.layout)),J.data){if(ue.data||(ue.data=[]),!(ie=J.traces))for(ie=[],G=0;G<J.data.length;G++)ie[G]=G;for(ue.traces||(ue.traces=[]),G=0;G<J.data.length;G++)(re=ie[G])!=null&&((te=ue.traces.indexOf(re))===-1&&(te=ue.data.length,ue.traces[te]=re),ue.data[te]=m.extendTrace(ue.data[te],J.data[G]))}return ue},m.recomputeFrameHash=function(j){for(var H=j._transitionData._frameHash={},G=j._transitionData._frames,ie=0;ie<G.length;ie++){var re=G[ie];re&&re.name&&(H[re.name]=re)}},m.extendObjectWithContainers=function(j,H,G){var ie,re,te,K,J,$,ae,ue=i.extendDeepNoArrays({},H||{}),ce=i.expandObjectPaths(ue),de={};if(G&&G.length)for(te=0;te<G.length;te++)(re=(ie=i.nestedProperty(ce,G[te])).get())===void 0?i.nestedProperty(de,G[te]).set(null):(ie.set(null),i.nestedProperty(de,G[te]).set(re));if(j=i.extendDeepNoArrays(j||{},ce),G&&G.length){for(te=0;te<G.length;te++)if($=i.nestedProperty(de,G[te]).get()){for(ae=(J=i.nestedProperty(j,G[te])).get(),Array.isArray(ae)||(ae=[],J.set(ae)),K=0;K<$.length;K++){var pe=$[K];ae[K]=pe===null?null:m.extendObjectWithContainers(ae[K],pe)}J.set(ae)}}return j},m.dataArrayContainers=["transforms","dimensions"],m.layoutArrayContainers=c.layoutArrayContainers,m.extendTrace=function(j,H){return m.extendObjectWithContainers(j,H,m.dataArrayContainers)},m.extendLayout=function(j,H){return m.extendObjectWithContainers(j,H,m.layoutArrayContainers)},m.transition=function(j,H,G,ie,re,te){var K={redraw:re.redraw},J={},$=[];return K.prepareFn=function(){for(var ae=Array.isArray(H)?H.length:0,ue=ie.slice(0,ae),ce=0;ce<ue.length;ce++){var de=ue[ce],pe=j._fullData[de]._module;if(pe){if(pe.animatable){var me=pe.basePlotModule.name;J[me]||(J[me]=[]),J[me].push(de)}j.data[ue[ce]]=m.extendTrace(j.data[ue[ce]],H[ce])}}var be=i.expandObjectPaths(i.extendDeepNoArrays({},G)),we=/^[xy]axis[0-9]*$/;for(var Te in be)we.test(Te)&&delete be[Te].range;m.extendLayout(j.layout,be),delete j.calcdata,m.supplyDefaults(j),m.doCalcdata(j);var Le=i.expandObjectPaths(G);if(Le){var Ie=j._fullLayout._plots;for(var _e in Ie){var fe=Ie[_e],le=fe.xaxis,ye=fe.yaxis,Oe=le.range.slice(),Ae=ye.range.slice(),Se=null,Pe=null,Fe=null,Be=null;Array.isArray(Le[le._name+".range"])?Se=Le[le._name+".range"].slice():Array.isArray((Le[le._name]||{}).range)&&(Se=Le[le._name].range.slice()),Array.isArray(Le[ye._name+".range"])?Pe=Le[ye._name+".range"].slice():Array.isArray((Le[ye._name]||{}).range)&&(Pe=Le[ye._name].range.slice()),Oe&&Se&&(le.r2l(Oe[0])!==le.r2l(Se[0])||le.r2l(Oe[1])!==le.r2l(Se[1]))&&(Fe={xr0:Oe,xr1:Se}),Ae&&Pe&&(ye.r2l(Ae[0])!==ye.r2l(Pe[0])||ye.r2l(Ae[1])!==ye.r2l(Pe[1]))&&(Be={yr0:Ae,yr1:Pe}),(Fe||Be)&&$.push(i.extendFlat({plotinfo:fe},Fe,Be))}}return Promise.resolve()},K.runFn=function(ae){var ue,ce,de=j._fullLayout._basePlotModules,pe=$.length;if(G)for(ce=0;ce<de.length;ce++)de[ce].transitionAxes&&de[ce].transitionAxes(j,$,te,ae);for(var me in pe?((ue=i.extendFlat({},te)).duration=0,delete J.cartesian):ue=te,J){var be=J[me];j._fullData[be[0]]._module.basePlotModule.plot(j,be,ue,ae)}},q(j,te,K)},m.transitionFromReact=function(j,H,G,ie){var re=j._fullLayout,te=re.transition,K={},J=[];return K.prepareFn=function(){var $=re._plots;for(var ae in K.redraw=!1,H.anim==="some"&&(K.redraw=!0),G.anim==="some"&&(K.redraw=!0),$){var ue=$[ae],ce=ue.xaxis,de=ue.yaxis,pe=ie[ce._name].range.slice(),me=ie[de._name].range.slice(),be=ce.range.slice(),we=de.range.slice();ce.setScale(),de.setScale();var Te=null,Le=null;ce.r2l(pe[0])===ce.r2l(be[0])&&ce.r2l(pe[1])===ce.r2l(be[1])||(Te={xr0:pe,xr1:be}),de.r2l(me[0])===de.r2l(we[0])&&de.r2l(me[1])===de.r2l(we[1])||(Le={yr0:me,yr1:we}),(Te||Le)&&J.push(i.extendFlat({plotinfo:ue},Te,Le))}return Promise.resolve()},K.runFn=function($){for(var ae,ue,ce,de=j._fullData,pe=j._fullLayout._basePlotModules,me=[],be=0;be<de.length;be++)me.push(be);function we(){if(j._fullLayout)for(var Le=0;Le<pe.length;Le++)pe[Le].transitionAxes&&pe[Le].transitionAxes(j,J,ae,$)}function Te(){if(j._fullLayout)for(var Le=0;Le<pe.length;Le++)pe[Le].plot(j,ce,ue,$)}J.length&&H.anim?te.ordering==="traces first"?(ae=i.extendFlat({},te,{duration:0}),ce=me,ue=te,setTimeout(we,te.duration),Te()):(ae=te,ce=null,ue=i.extendFlat({},te,{duration:0}),setTimeout(Te,ae.duration),we()):J.length?(ae=te,we()):H.anim&&(ce=me,ue=te,Te())},q(j,te,K)},m.doCalcdata=function(j,H){var G,ie,re,te,K=o.list(j),J=j._fullData,$=j._fullLayout,ae=new Array(J.length),ue=(j.calcdata||[]).slice();for(j.calcdata=ae,$._numBoxes=0,$._numViolins=0,$._violinScaleGroupStats={},j._hmpixcount=0,j._hmlumcount=0,$._piecolormap={},$._sunburstcolormap={},$._treemapcolormap={},$._iciclecolormap={},$._funnelareacolormap={},re=0;re<J.length;re++)Array.isArray(H)&&H.indexOf(re)===-1&&(ae[re]=ue[re]);for(re=0;re<J.length;re++)(G=J[re])._arrayAttrs=s.findArrayAttributes(G),G._extremes={};var ce=$._subplots.polar||[];for(re=0;re<ce.length;re++)K.push($[ce[re]].radialaxis,$[ce[re]].angularaxis);for(var de in $._colorAxes){var pe=$[de];pe.cauto!==!1&&(delete pe.cmin,delete pe.cmax)}var me=!1;function be(Le){if(G=J[Le],ie=G._module,G.visible===!0&&G.transforms){if(ie&&ie.calc){var Ie=ie.calc(j,G);Ie[0]&&Ie[0].t&&Ie[0].t._scene&&delete Ie[0].t._scene.dirty}for(te=0;te<G.transforms.length;te++){var _e=G.transforms[te];(ie=w[_e.type])&&ie.calcTransform&&(G._hasCalcTransform=!0,me=!0,ie.calcTransform(j,G,_e))}}}function we(Le,Ie){if(G=J[Le],!!(ie=G._module).isContainer===Ie){var _e=[];if(G.visible===!0&&G._length!==0){delete G._indexToPoints;var fe=G.transforms||[];for(te=fe.length-1;te>=0;te--)if(fe[te].enabled){G._indexToPoints=fe[te]._indexToPoints;break}ie&&ie.calc&&(_e=ie.calc(j,G))}Array.isArray(_e)&&_e[0]||(_e=[{x:r,y:r}]),_e[0].t||(_e[0].t={}),_e[0].trace=G,ae[Le]=_e}}for(V(K,J,$),re=0;re<J.length;re++)we(re,!0);for(re=0;re<J.length;re++)be(re);for(me&&V(K,J,$),re=0;re<J.length;re++)we(re,!0);for(re=0;re<J.length;re++)we(re,!1);X(j);var Te=function(Le,Ie){var _e,fe,le,ye,Oe,Ae=[];function Se(Ke,ft,ot){var Ue=ft._id.charAt(0);if(Ke==="histogram2dcontour"){var Ve=ft._counterAxes[0],st=o.getFromId(Ie,Ve),Xe=Ue==="x"||Ve==="x"&&st.type==="category",gt=Ue==="y"||Ve==="y"&&st.type==="category";return function(yt,bt){return yt===0||bt===0||Xe&&yt===ot[bt].length-1||gt&&bt===ot.length-1?-1:(Ue==="y"?bt:yt)-1}}return function(yt,bt){return Ue==="y"?bt:yt}}var Pe={min:function(Ke){return i.aggNums(Math.min,null,Ke)},max:function(Ke){return i.aggNums(Math.max,null,Ke)},sum:function(Ke){return i.aggNums(function(ft,ot){return ft+ot},null,Ke)},total:function(Ke){return i.aggNums(function(ft,ot){return ft+ot},null,Ke)},mean:function(Ke){return i.mean(Ke)},median:function(Ke){return i.median(Ke)}};function Fe(Ke,ft){return Ke[1]-ft[1]}function Be(Ke,ft){return ft[1]-Ke[1]}for(_e=0;_e<Le.length;_e++){var xe=Le[_e];if(xe.type==="category"){var Me=xe.categoryorder.match(z);if(Me){var Ce=Me[1],Ne=Me[2],Re=xe._id.charAt(0),He=Re==="x",Ye=[];for(fe=0;fe<xe._categories.length;fe++)Ye.push([xe._categories[fe],[]]);for(fe=0;fe<xe._traceIndices.length;fe++){var Qe=xe._traceIndices[fe],lt=Ie._fullData[Qe];if(lt.visible===!0){var ut=lt.type;c.traceIs(lt,"histogram")&&(delete lt._xautoBinFinished,delete lt._yautoBinFinished);var xt=ut==="splom",_t=ut==="scattergl",mt=Ie.calcdata[Qe];for(le=0;le<mt.length;le++){var it,nt,Et=mt[le];if(xt){var zt=lt._axesDim[xe._id];if(!He){var Ft=lt._diag[zt][0];Ft&&(xe=Ie._fullLayout[o.id2name(Ft)])}var Pt=Et.trace.dimensions[zt].values;for(ye=0;ye<Pt.length;ye++)for(it=xe._categoriesMap[Pt[ye]],Oe=0;Oe<Et.trace.dimensions.length;Oe++)if(Oe!==zt){var Ze=Et.trace.dimensions[Oe];Ye[it][1].push(Ze.values[ye])}}else if(_t){for(ye=0;ye<Et.t.x.length;ye++)He?(it=Et.t.x[ye],nt=Et.t.y[ye]):(it=Et.t.y[ye],nt=Et.t.x[ye]),Ye[it][1].push(nt);Et.t&&Et.t._scene&&delete Et.t._scene.dirty}else if(Et.hasOwnProperty("z")){nt=Et.z;var Je=Se(lt.type,xe,nt);for(ye=0;ye<nt.length;ye++)for(Oe=0;Oe<nt[ye].length;Oe++)(it=Je(Oe,ye))+1&&Ye[it][1].push(nt[ye][Oe])}else for((it=Et.p)===void 0&&(it=Et[Re]),(nt=Et.s)===void 0&&(nt=Et.v),nt===void 0&&(nt=He?Et.y:Et.x),Array.isArray(nt)||(nt=nt===void 0?[]:[nt]),ye=0;ye<nt.length;ye++)Ye[it][1].push(nt[ye])}}}xe._categoriesValue=Ye;var qe=[];for(fe=0;fe<Ye.length;fe++)qe.push([Ye[fe][0],Pe[Ce](Ye[fe][1])]);qe.sort(Ne==="descending"?Be:Fe),xe._categoriesAggregatedValue=qe,xe._initialCategories=qe.map(function(Ke){return Ke[0]}),Ae=Ae.concat(xe.sortByInitialCategories())}}}return Ae}(K,j);if(Te.length){for($._numBoxes=0,$._numViolins=0,re=0;re<Te.length;re++)we(Te[re],!0);for(re=0;re<Te.length;re++)we(Te[re],!1);X(j)}c.getComponentMethod("fx","calc")(j),c.getComponentMethod("errorbars","calc")(j)};var z=/(total|sum|min|max|mean|median) (ascending|descending)/;function V(j,H,G){var ie={};function re($){$.clearCalc(),$.type==="multicategory"&&$.setupMultiCategory(H),ie[$._id]=1}i.simpleMap(j,re);for(var te=G._axisMatchGroups||[],K=0;K<te.length;K++)for(var J in te[K])ie[J]||re(G[o.id2name(J)])}function X(j){var H,G,ie,re=j._fullLayout,te=re._visibleModules,K={};for(G=0;G<te.length;G++){var J=te[G],$=J.crossTraceCalc;if($){var ae=J.basePlotModule.name;K[ae]?i.pushUnique(K[ae],$):K[ae]=[$]}}for(ie in K){var ue=K[ie],ce=re._subplots[ie];if(Array.isArray(ce))for(H=0;H<ce.length;H++){var de=ce[H],pe=ie==="cartesian"?re._plots[de]:re[de];for(G=0;G<ue.length;G++)ue[G](j,pe,de)}else for(G=0;G<ue.length;G++)ue[G](j)}}m.rehover=function(j){j._fullLayout._rehover&&j._fullLayout._rehover()},m.redrag=function(j){j._fullLayout._redrag&&j._fullLayout._redrag()},m.reselect=function(j){var H=j._fullLayout,G=(j.layout||{}).selections,ie=H._previousSelections;H._previousSelections=G;var re=H._reselect||JSON.stringify(G)!==JSON.stringify(ie);c.getComponentMethod("selections","reselect")(j,re)},m.generalUpdatePerTraceModule=function(j,H,G,ie){var re,te=H.traceHash,K={};for(re=0;re<G.length;re++){var J=G[re],$=J[0].trace;$.visible&&(K[$.type]=K[$.type]||[],K[$.type].push(J))}for(var ae in te)if(!K[ae]){var ue=te[ae][0];ue[0].trace.visible=!1,K[ae]=[ue]}for(var ce in K){var de=K[ce];de[0][0].trace._module.plot(j,H,i.filterVisible(de),ie)}H.traceHash=K},m.plotBasePlot=function(j,H,G,ie,re){var te=c.getModule(j),K=T(H.calcdata,te)[0];te.plot(H,K,ie,re)},m.cleanBasePlot=function(j,H,G,ie,re){var te=re._has&&re._has(j),K=G._has&&G._has(j);te&&!K&&re["_"+j+"layer"].selectAll("g.trace").remove()}},39360:function(O){O.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},57384:function(O,S,e){var v=e(3400),x=e(92065).tester,t=v.findIndexOfMin,b=v.isAngleInsideSector,g=v.angleDelta,c=v.angleDist;function s(r,o,l,u){var h,f,T=u[0],d=u[1],y=i(Math.sin(o)-Math.sin(r)),m=i(Math.cos(o)-Math.cos(r)),w=Math.tan(l),_=i(1/w),A=y/m,p=d-A*T;return _?y&&m?f=w*(h=p/(w-A)):m?(h=d*_,f=d):(h=T,f=T*w):y&&m?(h=0,f=p):m?(h=0,f=d):h=f=NaN,[h,f]}function n(r,o,l,u){return v.isFullCircle([o,l])?function(h,f){var T,d=f.length,y=new Array(d+1);for(T=0;T<d;T++){var m=f[T];y[T]=[h*Math.cos(m),h*Math.sin(m)]}return y[T]=y[0].slice(),y}(r,u):function(h,f,T,d){var y,m,w=d.length,_=[];function A(q){return[h*Math.cos(q),h*Math.sin(q)]}function p(q,z,V){return s(q,z,V,A(q))}function L(q){return v.mod(q,w)}function M(q){return b(q,[f,T])}var C=t(d,function(q){return M(q)?c(q,f):1/0}),R=p(d[C],d[L(C-1)],f);for(_.push(R),y=C,m=0;m<w;y++,m++){var I=d[L(y)];if(!M(I))break;_.push(A(I))}var D=t(d,function(q){return M(q)?c(q,T):1/0}),F=p(d[D],d[L(D+1)],T);return _.push(F),_.push([0,0]),_.push(_[0].slice()),_}(r,o,l,u)}function i(r){return Math.abs(r)>1e-10?r:0}function a(r,o,l){o=o||0,l=l||0;for(var u=r.length,h=new Array(u),f=0;f<u;f++){var T=r[f];h[f]=[o+T[0],l-T[1]]}return h}O.exports={isPtInsidePolygon:function(r,o,l,u,h){if(!b(o,u))return!1;var f,T;l[0]<l[1]?(f=l[0],T=l[1]):(f=l[1],T=l[0]);var d=x(n(f,u[0],u[1],h)),y=x(n(T,u[0],u[1],h)),m=[r*Math.cos(o),r*Math.sin(o)];return y.contains(m)&&!d.contains(m)},findPolygonOffset:function(r,o,l,u){for(var h=1/0,f=1/0,T=n(r,o,l,u),d=0;d<T.length;d++){var y=T[d];h=Math.min(h,y[0]),f=Math.min(f,-y[1])}return[h,f]},findEnclosingVertexAngles:function(r,o){var l=t(o,function(h){var f=g(h,r);return f>0?f:1/0}),u=v.mod(l+1,o.length);return[o[l],o[u]]},findIntersectionXY:s,findXYatLength:function(r,o,l,u){var h=-o*l,f=o*o+1,T=2*(o*h-l),d=h*h+l*l-r*r,y=Math.sqrt(T*T-4*f*d),m=(-T+y)/(2*f),w=(-T-y)/(2*f);return[[m,o*m+h+u],[w,o*w+h+u]]},clampTiny:i,pathPolygon:function(r,o,l,u,h,f){return"M"+a(n(r,o,l,u),h,f).join("L")},pathPolygonAnnulus:function(r,o,l,u,h,f,T){var d,y;r<o?(d=r,y=o):(d=o,y=r);var m=a(n(d,l,u,h),f,T);return"M"+a(n(y,l,u,h),f,T).reverse().join("L")+"M"+m.join("L")}}},40872:function(O,S,e){var v=e(84888).KY,x=e(3400).counterRegex,t=e(62400),b=e(39360),g=b.attr,c=b.name,s=x(c),n={};n[g]={valType:"subplotid",dflt:c,editType:"calc"},O.exports={attr:g,name:c,idRoot:c,idRegex:s,attrRegex:s,attributes:n,layoutAttributes:e(95300),supplyLayoutDefaults:e(84380),plot:function(i){for(var a=i._fullLayout,r=i.calcdata,o=a._subplots[c],l=0;l<o.length;l++){var u=o[l],h=v(r,c,u),f=a[u]._subplot;f||(f=t(i,u),a[u]._subplot=f),f.plot(h,a,i._promises)}},clean:function(i,a,r,o){for(var l=o._subplots[c]||[],u=o._has&&o._has("gl"),h=a._has&&a._has("gl"),f=u&&!h,T=0;T<l.length;T++){var d=l[T],y=o[d]._subplot;if(!a[d]&&y)for(var m in y.framework.remove(),y.layers["radial-axis-title"].remove(),y.clipPaths)y.clipPaths[m].remove();f&&y._scene&&(y._scene.destroy(),y._scene=null)}},toSVG:e(57952).toSVG}},95300:function(O,S,e){var v=e(22548),x=e(94724),t=e(86968).u,b=e(3400).extendFlat,g=e(67824).overrideAll,c=g({color:x.color,showline:b({},x.showline,{dflt:!0}),linecolor:x.linecolor,linewidth:x.linewidth,showgrid:b({},x.showgrid,{dflt:!0}),gridcolor:x.gridcolor,gridwidth:x.gridwidth,griddash:x.griddash},"plot","from-root"),s=g({tickmode:x.minor.tickmode,nticks:x.nticks,tick0:x.tick0,dtick:x.dtick,tickvals:x.tickvals,ticktext:x.ticktext,ticks:x.ticks,ticklen:x.ticklen,tickwidth:x.tickwidth,tickcolor:x.tickcolor,ticklabelstep:x.ticklabelstep,showticklabels:x.showticklabels,labelalias:x.labelalias,showtickprefix:x.showtickprefix,tickprefix:x.tickprefix,showticksuffix:x.showticksuffix,ticksuffix:x.ticksuffix,showexponent:x.showexponent,exponentformat:x.exponentformat,minexponent:x.minexponent,separatethousands:x.separatethousands,tickfont:x.tickfont,tickangle:x.tickangle,tickformat:x.tickformat,tickformatstops:x.tickformatstops,layer:x.layer},"plot","from-root"),n={visible:b({},x.visible,{dflt:!0}),type:b({},x.type,{values:["-","linear","log","date","category"]}),autotypenumbers:x.autotypenumbers,autorangeoptions:{minallowed:x.autorangeoptions.minallowed,maxallowed:x.autorangeoptions.maxallowed,clipmin:x.autorangeoptions.clipmin,clipmax:x.autorangeoptions.clipmax,include:x.autorangeoptions.include,editType:"plot"},autorange:b({},x.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:b({},x.minallowed,{editType:"plot"}),maxallowed:b({},x.maxallowed,{editType:"plot"}),range:b({},x.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:x.categoryorder,categoryarray:x.categoryarray,angle:{valType:"angle",editType:"plot"},autotickangles:x.autotickangles,side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:b({},x.title.text,{editType:"plot",dflt:""}),font:b({},x.title.font,{editType:"plot"}),editType:"plot"},hoverformat:x.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:x._deprecated.title,titlefont:x._deprecated.titlefont}};b(n,c,s);var i={visible:b({},x.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:x.autotypenumbers,categoryorder:x.categoryorder,categoryarray:x.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:x.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};b(i,c,s),O.exports={domain:t({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:v.background},radialaxis:n,angularaxis:i,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},84380:function(O,S,e){var v=e(3400),x=e(76308),t=e(31780),b=e(168),g=e(84888).op,c=e(26332),s=e(25404),n=e(95936),i=e(42568),a=e(22416),r=e(42136),o=e(76808),l=e(52976),u=e(95300),h=e(57696),f=e(39360),T=f.axisNames;function d(m,w,_,A){var p=_("bgcolor");A.bgColor=x.combine(p,A.paper_bgcolor);var L=_("sector");_("hole");var M,C=g(A.fullData,f.name,A.id),R=A.layoutOut;function I(Te,Le){return _(M+"."+Te,Le)}for(var D=0;D<T.length;D++){M=T[D],v.isPlainObject(m[M])||(m[M]={});var F=m[M],q=t.newContainer(w,M);q._id=q._name=M,q._attr=A.id+"."+M,q._traceIndices=C.map(function(Te){return Te._expandedIndex});var z=f.axisName2dataArray[M],V=y(F,q,I,C,z,A);a(F,q,I,{axData:C,dataAttr:z});var X=I("visible");switch(h(q,w,R),I("uirevision",w.uirevision),q._m=1,M){case"radialaxis":I("minallowed"),I("maxallowed");var j,H=I("range"),G=q.getAutorangeDflt(H),ie=I("autorange",G);!H||(H[0]!==null||H[1]!==null)&&(H[0]!==null&&H[1]!==null||ie!=="reversed"&&ie!==!0)&&(H[0]===null||ie!=="min"&&ie!=="max reversed")&&(H[1]===null||ie!=="max"&&ie!=="min reversed")||(H=void 0,delete q.range,q.autorange=!0,j=!0),j||(ie=I("autorange",G=q.getAutorangeDflt(H))),F.autorange=ie,ie&&(o(I,ie,H),V!=="linear"&&V!=="-"||I("rangemode"),q.isReversed()&&(q._m=-1)),q.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(V==="date"){v.log("Polar plots do not support date angular axes yet.");for(var re=0;re<C.length;re++)C[re].visible=!1;V=F.type=q.type="linear"}I(V==="linear"?"thetaunit":"period");var te=I("direction");I("rotation",{counterclockwise:0,clockwise:90}[te])}if(i(F,q,I,q.type,{tickSuffixDflt:q.thetaunit==="degrees"?"":void 0}),X){var K,J,$,ae,ue,ce,de,pe,me,be,we=A.font||{};J=(K=I("color"))===F.color?K:we.color,$=we.size,ae=we.family,ue=we.weight,ce=we.style,de=we.variant,pe=we.textcase,me=we.lineposition,be=we.shadow,c(F,q,I,q.type),n(F,q,I,q.type,{font:{weight:ue,style:ce,variant:de,textcase:pe,lineposition:me,shadow:be,color:J,size:$,family:ae},noAutotickangles:M==="angularaxis"}),s(F,q,I,{outerTicks:!0}),r(F,q,I,{dfltColor:K,bgColor:A.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:u[M]}),I("layer"),M==="radialaxis"&&(I("side"),I("angle",L[0]),I("title.text"),v.coerceFont(I,"title.font",{weight:ue,style:ce,variant:de,textcase:pe,lineposition:me,shadow:be,color:J,size:v.bigFont($),family:ae}))}V!=="category"&&I("hoverformat"),q._input=F}w.angularaxis.type==="category"&&_("gridshape")}function y(m,w,_,A,p,L){var M=_("autotypenumbers",L.autotypenumbersDflt);if(_("type")==="-"){for(var C,R=0;R<A.length;R++)if(A[R].visible){C=A[R];break}C&&C[p]&&(w.type=l(C[p],"gregorian",{noMultiCategory:!0,autotypenumbers:M})),w.type==="-"?w.type="linear":m.type=w.type}return w.type}O.exports=function(m,w,_){b(m,w,_,{type:f.name,attributes:u,handleDefaults:d,font:w.font,autotypenumbersDflt:w.autotypenumbers,paper_bgcolor:w.paper_bgcolor,fullData:_,layoutOut:w})}},62400:function(O,S,e){var v=e(33428),x=e(49760),t=e(24040),b=e(3400),g=b.strRotate,c=b.strTranslate,s=e(76308),n=e(43616),i=e(7316),a=e(54460),r=e(78344),o=e(57696),l=e(19280).doAutoRange,u=e(51184),h=e(86476),f=e(93024),T=e(81668),d=e(22676).prepSelect,y=e(22676).selectOnClick,m=e(22676).clearOutline,w=e(93972),_=e(73696),A=e(39172).redrawReglTraces,p=e(84284).MID_SHIFT,L=e(39360),M=e(57384),C=e(36416),R=C.smith,I=C.reactanceArc,D=C.resistanceArc,F=C.smithTransform,q=b._,z=b.mod,V=b.deg2rad,X=b.rad2deg;function j(te,K,J){this.isSmith=J||!1,this.id=K,this.gd=te,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var $=te._fullLayout,ae="clip"+$._uid+K;this.clipIds.forTraces=ae+"-for-traces",this.clipPaths.forTraces=$._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=$["_"+(J?"smith":"polar")+"layer"].append("g").attr("class",K),this.getHole=function(ue){return this.isSmith?0:ue.hole},this.getSector=function(ue){return this.isSmith?[0,360]:ue.sector},this.getRadial=function(ue){return this.isSmith?ue.realaxis:ue.radialaxis},this.getAngular=function(ue){return this.isSmith?ue.imaginaryaxis:ue.angularaxis},J||(this.radialTickLayout=null,this.angularTickLayout=null)}var H=j.prototype;function G(te){var K=te.ticks+String(te.ticklen)+String(te.showticklabels);return"side"in te&&(K+=te.side),K}function ie(te,K){return K[b.findIndexOfMin(K,function(J){return b.angleDist(te,J)})]}function re(te,K,J){return K?(te.attr("display",null),te.attr(J)):te&&te.attr("display","none"),te}O.exports=function(te,K,J){return new j(te,K,J)},H.plot=function(te,K){for(var J=this,$=K[J.id],ae=!1,ue=0;ue<te.length;ue++)if(te[ue][0].trace.cliponaxis===!1){ae=!0;break}J._hasClipOnAxisFalse=ae,J.updateLayers(K,$),J.updateLayout(K,$),i.generalUpdatePerTraceModule(J.gd,J,te,$),J.updateFx(K,$),J.isSmith&&(delete $.realaxis.range,delete $.imaginaryaxis.range)},H.updateLayers=function(te,K){var J=this,$=J.isSmith,ae=J.layers,ue=J.getRadial(K),ce=J.getAngular(K),de=L.layerNames,pe=de.indexOf("frontplot"),me=de.slice(0,pe),be=ce.layer==="below traces",we=ue.layer==="below traces";be&&me.push("angular-line"),we&&me.push("radial-line"),be&&me.push("angular-axis"),we&&me.push("radial-axis"),me.push("frontplot"),be||me.push("angular-line"),we||me.push("radial-line"),be||me.push("angular-axis"),we||me.push("radial-axis");var Te=($?"smith":"polar")+"sublayer",Le=J.framework.selectAll("."+Te).data(me,String);Le.enter().append("g").attr("class",function(Ie){return Te+" "+Ie}).each(function(Ie){var _e=ae[Ie]=v.select(this);switch(Ie){case"frontplot":$||_e.append("g").classed("barlayer",!0),_e.append("g").classed("scatterlayer",!0);break;case"backplot":_e.append("g").classed("maplayer",!0);break;case"plotbg":ae.bg=_e.append("path");break;case"radial-grid":case"angular-grid":_e.style("fill","none");break;case"radial-line":_e.append("line").style("fill","none");break;case"angular-line":_e.append("path").style("fill","none")}}),Le.order()},H.updateLayout=function(te,K){var J=this,$=J.layers,ae=te._size,ue=J.getRadial(K),ce=J.getAngular(K),de=K.domain.x,pe=K.domain.y;J.xOffset=ae.l+ae.w*de[0],J.yOffset=ae.t+ae.h*(1-pe[1]);var me=J.xLength=ae.w*(de[1]-de[0]),be=J.yLength=ae.h*(pe[1]-pe[0]),we=J.getSector(K);J.sectorInRad=we.map(V);var Te,Le,Ie,_e,fe,le=J.sectorBBox=function(lt){var ut,xt=lt[0],_t=lt[1]-xt,mt=z(xt,360),it=mt+_t,nt=Math.cos(V(mt)),Et=Math.sin(V(mt)),zt=Math.cos(V(it)),Ft=Math.sin(V(it));return ut=mt<=90&&it>=90||mt>90&&it>=450?1:Et<=0&&Ft<=0?0:Math.max(Et,Ft),[mt<=180&&it>=180||mt>180&&it>=540?-1:nt>=0&&zt>=0?0:Math.min(nt,zt),mt<=270&&it>=270||mt>270&&it>=630?-1:Et>=0&&Ft>=0?0:Math.min(Et,Ft),it>=360?1:nt<=0&&zt<=0?0:Math.max(nt,zt),ut]}(we),ye=le[2]-le[0],Oe=le[3]-le[1],Ae=be/me,Se=Math.abs(Oe/ye);Ae>Se?(Te=me,fe=(be-(Le=me*Se))/ae.h/2,Ie=[de[0],de[1]],_e=[pe[0]+fe,pe[1]-fe]):(Le=be,fe=(me-(Te=be/Se))/ae.w/2,Ie=[de[0]+fe,de[1]-fe],_e=[pe[0],pe[1]]),J.xLength2=Te,J.yLength2=Le,J.xDomain2=Ie,J.yDomain2=_e;var Pe,Fe=J.xOffset2=ae.l+ae.w*Ie[0],Be=J.yOffset2=ae.t+ae.h*(1-_e[1]),xe=J.radius=Te/ye,Me=J.innerRadius=J.getHole(K)*xe,Ce=J.cx=Fe-xe*le[0],Ne=J.cy=Be+xe*le[3],Re=J.cxx=Ce-Fe,He=J.cyy=Ne-Be,Ye=ue.side;Ye==="counterclockwise"?(Pe=Ye,Ye="top"):Ye==="clockwise"&&(Pe=Ye,Ye="bottom"),J.radialAxis=J.mockAxis(te,K,ue,{_id:"x",side:Ye,_trueSide:Pe,domain:[Me/ae.w,xe/ae.w]}),J.angularAxis=J.mockAxis(te,K,ce,{side:"right",domain:[0,Math.PI],autorange:!1}),J.doAutoRange(te,K),J.updateAngularAxis(te,K),J.updateRadialAxis(te,K),J.updateRadialAxisTitle(te,K),J.xaxis=J.mockCartesianAxis(te,K,{_id:"x",domain:Ie}),J.yaxis=J.mockCartesianAxis(te,K,{_id:"y",domain:_e});var Qe=J.pathSubplot();J.clipPaths.forTraces.select("path").attr("d",Qe).attr("transform",c(Re,He)),$.frontplot.attr("transform",c(Fe,Be)).call(n.setClipUrl,J._hasClipOnAxisFalse?null:J.clipIds.forTraces,J.gd),$.bg.attr("d",Qe).attr("transform",c(Ce,Ne)).call(s.fill,K.bgcolor)},H.mockAxis=function(te,K,J,$){var ae=b.extendFlat({},J,$);return o(ae,K,te),ae},H.mockCartesianAxis=function(te,K,J){var $=this,ae=$.isSmith,ue=J._id,ce=b.extendFlat({type:"linear"},J);r(ce,te);var de={x:[0,2],y:[1,3]};return ce.setRange=function(){var pe=$.sectorBBox,me=de[ue],be=$.radialAxis._rl,we=(be[1]-be[0])/(1-$.getHole(K));ce.range=[pe[me[0]]*we,pe[me[1]]*we]},ce.isPtWithinRange=ue!=="x"||ae?function(){return!0}:function(pe){return $.isPtInside(pe)},ce.setRange(),ce.setScale(),ce},H.doAutoRange=function(te,K){var J=this,$=J.gd,ae=J.radialAxis,ue=J.getRadial(K);l($,ae);var ce=ae.range;if(ue.range=ce.slice(),ue._input.range=ce.slice(),ae._rl=[ae.r2l(ce[0],null,"gregorian"),ae.r2l(ce[1],null,"gregorian")],ae.minallowed!==void 0){var de=ae.r2l(ae.minallowed);ae._rl[0]>ae._rl[1]?ae._rl[1]=Math.max(ae._rl[1],de):ae._rl[0]=Math.max(ae._rl[0],de)}if(ae.maxallowed!==void 0){var pe=ae.r2l(ae.maxallowed);ae._rl[0]<ae._rl[1]?ae._rl[1]=Math.min(ae._rl[1],pe):ae._rl[0]=Math.min(ae._rl[0],pe)}},H.updateRadialAxis=function(te,K){var J=this,$=J.gd,ae=J.layers,ue=J.radius,ce=J.innerRadius,de=J.cx,pe=J.cy,me=J.getRadial(K),be=z(J.getSector(K)[0],360),we=J.radialAxis,Te=ce<ue,Le=J.isSmith;Le||(J.fillViewInitialKey("radialaxis.angle",me.angle),J.fillViewInitialKey("radialaxis.range",we.range.slice()),we.setGeometry()),we.tickangle==="auto"&&be>90&&be<=270&&(we.tickangle=180);var Ie=Le?function(Be){var xe=F(J,R([Be.x,0]));return c(xe[0]-de,xe[1]-pe)}:function(Be){return c(we.l2p(Be.x)+ce,0)},_e=Le?function(Be){return D(J,Be.x,-1/0,1/0)}:function(Be){return J.pathArc(we.r2p(Be.x)+ce)},fe=G(me);if(J.radialTickLayout!==fe&&(ae["radial-axis"].selectAll(".xtick").remove(),J.radialTickLayout=fe),Te){we.setScale();var le=0,ye=Le?(we.tickvals||[]).filter(function(Be){return Be>=0}).map(function(Be){return a.tickText(we,Be,!0,!1)}):a.calcTicks(we),Oe=Le?ye:a.clipEnds(we,ye),Ae=a.getTickSigns(we)[2];Le&&((we.ticks==="top"&&we.side==="bottom"||we.ticks==="bottom"&&we.side==="top")&&(Ae=-Ae),we.ticks==="top"&&we.side==="top"&&(le=-we.ticklen),we.ticks==="bottom"&&we.side==="bottom"&&(le=we.ticklen)),a.drawTicks($,we,{vals:ye,layer:ae["radial-axis"],path:a.makeTickPath(we,0,Ae),transFn:Ie,crisp:!1}),a.drawGrid($,we,{vals:Oe,layer:ae["radial-grid"],path:_e,transFn:b.noop,crisp:!1}),a.drawLabels($,we,{vals:ye,layer:ae["radial-axis"],transFn:Ie,labelFns:a.makeLabelFns(we,le)})}var Se=J.radialAxisAngle=J.vangles?X(ie(V(me.angle),J.vangles)):me.angle,Pe=c(de,pe),Fe=Pe+g(-Se);re(ae["radial-axis"],Te&&(me.showticklabels||me.ticks),{transform:Fe}),re(ae["radial-grid"],Te&&me.showgrid,{transform:Le?"":Pe}),re(ae["radial-line"].select("line"),Te&&me.showline,{x1:Le?-ue:ce,y1:0,x2:ue,y2:0,transform:Fe}).attr("stroke-width",me.linewidth).call(s.stroke,me.linecolor)},H.updateRadialAxisTitle=function(te,K,J){if(!this.isSmith){var $=this,ae=$.gd,ue=$.radius,ce=$.cx,de=$.cy,pe=$.getRadial(K),me=$.id+"title",be=0;if(pe.title){var we=n.bBox($.layers["radial-axis"].node()).height,Te=pe.title.font.size,Le=pe.side;be=Le==="top"?Te:Le==="counterclockwise"?-(we+.4*Te):we+.8*Te}var Ie=J!==void 0?J:$.radialAxisAngle,_e=V(Ie),fe=Math.cos(_e),le=Math.sin(_e),ye=ce+ue/2*fe+be*le,Oe=de-ue/2*le+be*fe;$.layers["radial-axis-title"]=T.draw(ae,me,{propContainer:pe,propName:$.id+".radialaxis.title",placeholder:q(ae,"Click to enter radial axis title"),attributes:{x:ye,y:Oe,"text-anchor":"middle"},transform:{rotate:-Ie}})}},H.updateAngularAxis=function(te,K){var J=this,$=J.gd,ae=J.layers,ue=J.radius,ce=J.innerRadius,de=J.cx,pe=J.cy,me=J.getAngular(K),be=J.angularAxis,we=J.isSmith;we||(J.fillViewInitialKey("angularaxis.rotation",me.rotation),be.setGeometry(),be.setScale());var Te=we?function(Be){var xe=F(J,R([0,Be.x]));return Math.atan2(xe[0]-de,xe[1]-pe)-Math.PI/2}:function(Be){return be.t2g(Be.x)};be.type==="linear"&&be.thetaunit==="radians"&&(be.tick0=X(be.tick0),be.dtick=X(be.dtick));var Le=function(Be){return c(de+ue*Math.cos(Be),pe-ue*Math.sin(Be))},Ie=we?function(Be){var xe=F(J,R([0,Be.x]));return c(xe[0],xe[1])}:function(Be){return Le(Te(Be))},_e=we?function(Be){var xe=F(J,R([0,Be.x])),Me=Math.atan2(xe[0]-de,xe[1]-pe)-Math.PI/2;return c(xe[0],xe[1])+g(-X(Me))}:function(Be){var xe=Te(Be);return Le(xe)+g(-X(xe))},fe=we?function(Be){return I(J,Be.x,0,1/0)}:function(Be){var xe=Te(Be),Me=Math.cos(xe),Ce=Math.sin(xe);return"M"+[de+ce*Me,pe-ce*Ce]+"L"+[de+ue*Me,pe-ue*Ce]},le=a.makeLabelFns(be,0).labelStandoff,ye={xFn:function(Be){var xe=Te(Be);return Math.cos(xe)*le},yFn:function(Be){var xe=Te(Be),Me=Math.sin(xe)>0?.2:1;return-Math.sin(xe)*(le+Be.fontSize*Me)+Math.abs(Math.cos(xe))*(Be.fontSize*p)},anchorFn:function(Be){var xe=Te(Be),Me=Math.cos(xe);return Math.abs(Me)<.1?"middle":Me>0?"start":"end"},heightFn:function(Be,xe,Me){var Ce=Te(Be);return-.5*(1+Math.sin(Ce))*Me}},Oe=G(me);J.angularTickLayout!==Oe&&(ae["angular-axis"].selectAll("."+be._id+"tick").remove(),J.angularTickLayout=Oe);var Ae,Se=we?[1/0].concat(be.tickvals||[]).map(function(Be){return a.tickText(be,Be,!0,!1)}):a.calcTicks(be);if(we&&(Se[0].text="",Se[0].fontSize*=1.75),K.gridshape==="linear"?(Ae=Se.map(Te),b.angleDelta(Ae[0],Ae[1])<0&&(Ae=Ae.slice().reverse())):Ae=null,J.vangles=Ae,be.type==="category"&&(Se=Se.filter(function(Be){return b.isAngleInsideSector(Te(Be),J.sectorInRad)})),be.visible){var Pe=be.ticks==="inside"?-1:1,Fe=(be.linewidth||1)/2;a.drawTicks($,be,{vals:Se,layer:ae["angular-axis"],path:"M"+Pe*Fe+",0h"+Pe*be.ticklen,transFn:_e,crisp:!1}),a.drawGrid($,be,{vals:Se,layer:ae["angular-grid"],path:fe,transFn:b.noop,crisp:!1}),a.drawLabels($,be,{vals:Se,layer:ae["angular-axis"],repositionOnUpdate:!0,transFn:Ie,labelFns:ye})}re(ae["angular-line"].select("path"),me.showline,{d:J.pathSubplot(),transform:c(de,pe)}).attr("stroke-width",me.linewidth).call(s.stroke,me.linecolor)},H.updateFx=function(te,K){this.gd._context.staticPlot||(!this.isSmith&&(this.updateAngularDrag(te),this.updateRadialDrag(te,K,0),this.updateRadialDrag(te,K,1)),this.updateHoverAndMainDrag(te))},H.updateHoverAndMainDrag=function(te){var K,J,$=this,ae=$.isSmith,ue=$.gd,ce=$.layers,de=te._zoomlayer,pe=L.MINZOOM,me=L.OFFEDGE,be=$.radius,we=$.innerRadius,Te=$.cx,Le=$.cy,Ie=$.cxx,_e=$.cyy,fe=$.sectorInRad,le=$.vangles,ye=$.radialAxis,Oe=M.clampTiny,Ae=M.findXYatLength,Se=M.findEnclosingVertexAngles,Pe=L.cornerHalfWidth,Fe=L.cornerLen/2,Be=u.makeDragger(ce,"path","maindrag",te.dragmode===!1?"none":"crosshair");v.select(Be).attr("d",$.pathSubplot()).attr("transform",c(Te,Le)),Be.onmousemove=function(ot){f.hover(ue,ot,$.id),ue._fullLayout._lasthover=Be,ue._fullLayout._hoversubplot=$.id},Be.onmouseout=function(ot){ue._dragging||h.unhover(ue,ot)};var xe,Me,Ce,Ne,Re,He,Ye,Qe,lt,ut={element:Be,gd:ue,subplot:$.id,plotinfo:{id:$.id,xaxis:$.xaxis,yaxis:$.yaxis},xaxes:[$.xaxis],yaxes:[$.yaxis]};function xt(ot,Ue){return Math.sqrt(ot*ot+Ue*Ue)}function _t(ot,Ue){return xt(ot-Ie,Ue-_e)}function mt(ot,Ue){return Math.atan2(_e-Ue,ot-Ie)}function it(ot,Ue){return[ot*Math.cos(Ue),ot*Math.sin(-Ue)]}function nt(ot,Ue){if(ot===0)return $.pathSector(2*Pe);var Ve=Fe/ot,st=Ue-Ve,Xe=Ue+Ve,gt=Math.max(0,Math.min(ot,be)),yt=gt-Pe,bt=gt+Pe;return"M"+it(yt,st)+"A"+[yt,yt]+" 0,0,0 "+it(yt,Xe)+"L"+it(bt,Xe)+"A"+[bt,bt]+" 0,0,1 "+it(bt,st)+"Z"}function Et(ot,Ue,Ve){if(ot===0)return $.pathSector(2*Pe);var st,Xe,gt=it(ot,Ue),yt=it(ot,Ve),bt=Oe((gt[0]+yt[0])/2),dt=Oe((gt[1]+yt[1])/2);if(bt&&dt){var Lt=dt/bt,wt=-1/Lt,Ct=Ae(Pe,Lt,bt,dt);st=Ae(Fe,wt,Ct[0][0],Ct[0][1]),Xe=Ae(Fe,wt,Ct[1][0],Ct[1][1])}else{var Rt,Dt;dt?(Rt=Fe,Dt=Pe):(Rt=Pe,Dt=Fe),st=[[bt-Rt,dt-Dt],[bt+Rt,dt-Dt]],Xe=[[bt-Rt,dt+Dt],[bt+Rt,dt+Dt]]}return"M"+st.join("L")+"L"+Xe.reverse().join("L")+"Z"}function zt(ot,Ue){return Ue=Math.max(Math.min(Ue,be),we),ot<me?ot=0:be-ot<me?ot=be:Ue<me?Ue=0:be-Ue<me&&(Ue=be),Math.abs(Ue-ot)>pe?(ot<Ue?(Ce=ot,Ne=Ue):(Ce=Ue,Ne=ot),!0):(Ce=null,Ne=null,!1)}function Ft(ot,Ue){ot=ot||Re,Ue=Ue||"M0,0Z",Qe.attr("d",ot),lt.attr("d",Ue),u.transitionZoombox(Qe,lt,He,Ye),He=!0;var Ve={};Ke(Ve),ue.emit("plotly_relayouting",Ve)}function Pt(ot,Ue){var Ve,st,Xe=xe+(ot*=K),gt=Me+(Ue*=J),yt=_t(xe,Me),bt=Math.min(_t(Xe,gt),be),dt=mt(xe,Me);zt(yt,bt)&&(Ve=Re+$.pathSector(Ne),Ce&&(Ve+=$.pathSector(Ce)),st=nt(Ce,dt)+nt(Ne,dt)),Ft(Ve,st)}function Ze(ot,Ue,Ve,st){var Xe=M.findIntersectionXY(Ve,st,Ve,[ot-Ie,_e-Ue]);return xt(Xe[0],Xe[1])}function Je(ot,Ue){var Ve,st,Xe=xe+ot,gt=Me+Ue,yt=mt(xe,Me),bt=mt(Xe,gt),dt=Se(yt,le),Lt=Se(bt,le);zt(Ze(xe,Me,dt[0],dt[1]),Math.min(Ze(Xe,gt,Lt[0],Lt[1]),be))&&(Ve=Re+$.pathSector(Ne),Ce&&(Ve+=$.pathSector(Ce)),st=[Et(Ce,dt[0],dt[1]),Et(Ne,dt[0],dt[1])].join(" ")),Ft(Ve,st)}function qe(){if(u.removeZoombox(ue),Ce!==null&&Ne!==null){var ot={};Ke(ot),u.showDoubleClickNotifier(ue),t.call("_guiRelayout",ue,ot)}}function Ke(ot){var Ue=ye._rl,Ve=(Ue[1]-Ue[0])/(1-we/be)/be,st=[Ue[0]+(Ce-we)*Ve,Ue[0]+(Ne-we)*Ve];ot[$.id+".radialaxis.range"]=st}function ft(ot,Ue){var Ve=ue._fullLayout.clickmode;if(u.removeZoombox(ue),ot===2){var st={};for(var Xe in $.viewInitial)st[$.id+"."+Xe]=$.viewInitial[Xe];ue.emit("plotly_doubleclick",null),t.call("_guiRelayout",ue,st)}Ve.indexOf("select")>-1&&ot===1&&y(Ue,ue,[$.xaxis],[$.yaxis],$.id,ut),Ve.indexOf("event")>-1&&f.click(ue,Ue,$.id)}ut.prepFn=function(ot,Ue,Ve){var st=ue._fullLayout.dragmode,Xe=Be.getBoundingClientRect();ue._fullLayout._calcInverseTransform(ue);var gt=ue._fullLayout._invTransform;K=ue._fullLayout._invScaleX,J=ue._fullLayout._invScaleY;var yt=b.apply3DTransform(gt)(Ue-Xe.left,Ve-Xe.top);if(xe=yt[0],Me=yt[1],le){var bt=M.findPolygonOffset(be,fe[0],fe[1],le);xe+=Ie+bt[0],Me+=_e+bt[1]}switch(st){case"zoom":ut.clickFn=ft,ae||(ut.moveFn=le?Je:Pt,ut.doneFn=qe,function(){Ce=null,Ne=null,Re=$.pathSubplot(),He=!1;var dt=ue._fullLayout[$.id];Ye=x(dt.bgcolor).getLuminance(),(Qe=u.makeZoombox(de,Ye,Te,Le,Re)).attr("fill-rule","evenodd"),lt=u.makeCorners(de,Te,Le),m(ue)}());break;case"select":case"lasso":d(ot,Ue,Ve,ut,st)}},h.init(ut)},H.updateRadialDrag=function(te,K,J){var $=this,ae=$.gd,ue=$.layers,ce=$.radius,de=$.innerRadius,pe=$.cx,me=$.cy,be=$.radialAxis,we=L.radialDragBoxSize,Te=we/2;if(be.visible){var Le,Ie,_e,fe=V($.radialAxisAngle),le=be._rl,ye=le[0],Oe=le[1],Ae=le[J],Se=.75*(le[1]-le[0])/(1-$.getHole(K))/ce;J?(Le=pe+(ce+Te)*Math.cos(fe),Ie=me-(ce+Te)*Math.sin(fe),_e="radialdrag"):(Le=pe+(de-Te)*Math.cos(fe),Ie=me-(de-Te)*Math.sin(fe),_e="radialdrag-inner");var Pe,Fe,Be,xe=u.makeRectDragger(ue,_e,"crosshair",-Te,-Te,we,we),Me={element:xe,gd:ae};te.dragmode===!1&&(Me.dragmode=!1),re(v.select(xe),be.visible&&de<ce,{transform:c(Le,Ie)}),Me.prepFn=function(){Pe=null,Fe=null,Be=null,Me.moveFn=Ce,Me.doneFn=Ne,m(ae)},Me.clampFn=function(Ye,Qe){return Math.sqrt(Ye*Ye+Qe*Qe)<L.MINDRAG&&(Ye=0,Qe=0),[Ye,Qe]},h.init(Me)}function Ce(Ye,Qe){if(Pe)Pe(Ye,Qe);else{var lt=[Ye,-Qe],ut=[Math.cos(fe),Math.sin(fe)],xt=Math.abs(b.dot(lt,ut)/Math.sqrt(b.dot(lt,lt)));isNaN(xt)||(Pe=xt<.5?Re:He)}var _t={};(function(mt){Fe!==null?mt[$.id+".radialaxis.angle"]=Fe:Be!==null&&(mt[$.id+".radialaxis.range["+J+"]"]=Be)})(_t),ae.emit("plotly_relayouting",_t)}function Ne(){Fe!==null?t.call("_guiRelayout",ae,$.id+".radialaxis.angle",Fe):Be!==null&&t.call("_guiRelayout",ae,$.id+".radialaxis.range["+J+"]",Be)}function Re(Ye,Qe){if(J!==0){var lt=Le+Ye,ut=Ie+Qe;Fe=Math.atan2(me-ut,lt-pe),$.vangles&&(Fe=ie(Fe,$.vangles)),Fe=X(Fe);var xt=c(pe,me)+g(-Fe);ue["radial-axis"].attr("transform",xt),ue["radial-line"].select("line").attr("transform",xt);var _t=$.gd._fullLayout,mt=_t[$.id];$.updateRadialAxisTitle(_t,mt,Fe)}}function He(Ye,Qe){var lt=b.dot([Ye,-Qe],[Math.cos(fe),Math.sin(fe)]);if(Be=Ae-Se*lt,Se>0==(J?Be>ye:Be<Oe)){var ut=ae._fullLayout,xt=ut[$.id];be.range[J]=Be,be._rl[J]=Be,$.updateRadialAxis(ut,xt),$.xaxis.setRange(),$.xaxis.setScale(),$.yaxis.setRange(),$.yaxis.setScale();var _t=!1;for(var mt in $.traceHash){var it=$.traceHash[mt],nt=b.filterVisible(it);it[0][0].trace._module.plot(ae,$,nt,xt),t.traceIs(mt,"gl")&&nt.length&&(_t=!0)}_t&&(_(ae),A(ae))}else Be=null}},H.updateAngularDrag=function(te){var K=this,J=K.gd,$=K.layers,ae=K.radius,ue=K.angularAxis,ce=K.cx,de=K.cy,pe=K.cxx,me=K.cyy,be=L.angularDragBoxSize,we=u.makeDragger($,"path","angulardrag",te.dragmode===!1?"none":"move"),Te={element:we,gd:J};function Le(Me,Ce){return Math.atan2(me+be-Ce,Me-pe-be)}te.dragmode===!1?Te.dragmode=!1:v.select(we).attr("d",K.pathAnnulus(ae,ae+be)).attr("transform",c(ce,de)).call(w,"move");var Ie,_e,fe,le,ye,Oe,Ae=$.frontplot.select(".scatterlayer").selectAll(".trace"),Se=Ae.selectAll(".point"),Pe=Ae.selectAll(".textpoint");function Fe(Me,Ce){var Ne=K.gd._fullLayout,Re=Ne[K.id],He=Le(Ie+Me*te._invScaleX,_e+Ce*te._invScaleY),Ye=X(He-Oe);if(le=fe+Ye,$.frontplot.attr("transform",c(K.xOffset2,K.yOffset2)+g([-Ye,pe,me])),K.vangles){ye=K.radialAxisAngle+Ye;var Qe=c(ce,de)+g(-Ye),lt=c(ce,de)+g(-ye);$.bg.attr("transform",Qe),$["radial-grid"].attr("transform",Qe),$["radial-axis"].attr("transform",lt),$["radial-line"].select("line").attr("transform",lt),K.updateRadialAxisTitle(Ne,Re,ye)}else K.clipPaths.forTraces.select("path").attr("transform",c(pe,me)+g(Ye));Se.each(function(){var nt=v.select(this),Et=n.getTranslate(nt);nt.attr("transform",c(Et.x,Et.y)+g([Ye]))}),Pe.each(function(){var nt=v.select(this),Et=nt.select("text"),zt=n.getTranslate(nt);nt.attr("transform",g([Ye,Et.attr("x"),Et.attr("y")])+c(zt.x,zt.y))}),ue.rotation=b.modHalf(le,360),K.updateAngularAxis(Ne,Re),K._hasClipOnAxisFalse&&!b.isFullCircle(K.sectorInRad)&&Ae.call(n.hideOutsideRangePoints,K);var ut=!1;for(var xt in K.traceHash)if(t.traceIs(xt,"gl")){var _t=K.traceHash[xt],mt=b.filterVisible(_t);_t[0][0].trace._module.plot(J,K,mt,Re),mt.length&&(ut=!0)}ut&&(_(J),A(J));var it={};Be(it),J.emit("plotly_relayouting",it)}function Be(Me){Me[K.id+".angularaxis.rotation"]=le,K.vangles&&(Me[K.id+".radialaxis.angle"]=ye)}function xe(){Pe.select("text").attr("transform",null);var Me={};Be(Me),t.call("_guiRelayout",J,Me)}Te.prepFn=function(Me,Ce,Ne){var Re=te[K.id];fe=Re.angularaxis.rotation;var He=we.getBoundingClientRect();Ie=Ce-He.left,_e=Ne-He.top,J._fullLayout._calcInverseTransform(J);var Ye=b.apply3DTransform(te._invTransform)(Ie,_e);Ie=Ye[0],_e=Ye[1],Oe=Le(Ie,_e),Te.moveFn=Fe,Te.doneFn=xe,m(J)},K.vangles&&!b.isFullCircle(K.sectorInRad)&&(Te.prepFn=b.noop,w(v.select(we),null)),h.init(Te)},H.isPtInside=function(te){if(this.isSmith)return!0;var K=this.sectorInRad,J=this.vangles,$=this.angularAxis.c2g(te.theta),ae=this.radialAxis,ue=ae.c2l(te.r),ce=ae._rl;return(J?M.isPtInsidePolygon:b.isPtInsideSector)(ue,$,ce,K,J)},H.pathArc=function(te){var K=this.sectorInRad,J=this.vangles;return(J?M.pathPolygon:b.pathArc)(te,K[0],K[1],J)},H.pathSector=function(te){var K=this.sectorInRad,J=this.vangles;return(J?M.pathPolygon:b.pathSector)(te,K[0],K[1],J)},H.pathAnnulus=function(te,K){var J=this.sectorInRad,$=this.vangles;return($?M.pathPolygonAnnulus:b.pathAnnulus)(te,K,J[0],J[1],$)},H.pathSubplot=function(){var te=this.innerRadius,K=this.radius;return te?this.pathAnnulus(te,K):this.pathSector(K)},H.fillViewInitialKey=function(te,K){te in this.viewInitial||(this.viewInitial[te]=K)}},57696:function(O,S,e){var v=e(3400),x=e(78344),t=v.deg2rad,b=v.rad2deg;O.exports=function(g,c,s){switch(x(g,s),g._id){case"x":case"radialaxis":(function(n,i){var a=i._subplot;n.setGeometry=function(){var r=n._rl[0],o=n._rl[1],l=a.innerRadius,u=(a.radius-l)/(o-r),h=l/u,f=r>o?function(T){return T<=0}:function(T){return T>=0};n.c2g=function(T){var d=n.c2l(T)-r;return(f(d)?d:0)+h},n.g2c=function(T){return n.l2c(T+r-h)},n.g2p=function(T){return T*u},n.c2p=function(T){return n.g2p(n.c2g(T))}}})(g,c);break;case"angularaxis":(function(n,i){var a=n.type;if(a==="linear"){var r=n.d2c,o=n.c2d;n.d2c=function(l,u){return function(h,f){return f==="degrees"?t(h):h}(r(l),u)},n.c2d=function(l,u){return o(function(h,f){return f==="degrees"?b(h):h}(l,u))}}n.makeCalcdata=function(l,u){var h,f,T=l[u],d=l._length,y=function(p){return n.d2c(p,l.thetaunit)};if(T)for(h=new Array(d),f=0;f<d;f++)h[f]=y(T[f]);else{var m=u+"0",w="d"+u,_=m in l?y(l[m]):0,A=l[w]?y(l[w]):(n.period||2*Math.PI)/d;for(h=new Array(d),f=0;f<d;f++)h[f]=_+f*A}return h},n.setGeometry=function(){var l,u,h,f,T=i.sector,d=T.map(t),y={clockwise:-1,counterclockwise:1}[n.direction],m=t(n.rotation),w=function(L){return y*L+m},_=function(L){return(L-m)/y};switch(a){case"linear":u=l=v.identity,f=t,h=b,n.range=v.isFullCircle(d)?[T[0],T[0]+360]:d.map(_).map(b);break;case"category":var A=n._categories.length,p=n.period?Math.max(n.period,A):A;p===0&&(p=1),u=f=function(L){return 2*L*Math.PI/p},l=h=function(L){return L*p/Math.PI/2},n.range=[0,p]}n.c2g=function(L){return w(u(L))},n.g2c=function(L){return l(_(L))},n.t2g=function(L){return w(f(L))},n.g2t=function(L){return h(_(L))}}})(g,c)}}},55012:function(O){O.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},36416:function(O){function S(t){return t<0?-1:t>0?1:0}function e(t){var b=t[0],g=t[1];if(!isFinite(b)||!isFinite(g))return[1,0];var c=(b+1)*(b+1)+g*g;return[(b*b+g*g-1)/c,2*g/c]}function v(t,b){var g=b[0],c=b[1];return[g*t.radius+t.cx,-c*t.radius+t.cy]}function x(t,b){return b*t.radius}O.exports={smith:e,reactanceArc:function(t,b,g,c){var s=v(t,e([g,b])),n=s[0],i=s[1],a=v(t,e([c,b])),r=a[0],o=a[1];if(b===0)return["M"+n+","+i,"L"+r+","+o].join(" ");var l=x(t,1/Math.abs(b));return["M"+n+","+i,"A"+l+","+l+" 0 0,"+(b<0?1:0)+" "+r+","+o].join(" ")},resistanceArc:function(t,b,g,c){var s=x(t,1/(b+1)),n=v(t,e([b,g])),i=n[0],a=n[1],r=v(t,e([b,c])),o=r[0],l=r[1];if(S(g)!==S(c)){var u=v(t,e([b,0]));return["M"+i+","+a,"A"+s+","+s+" 0 0,"+(0<g?0:1)+" "+u[0]+","+u[1],"A"+s+","+s+" 0 0,"+(c<0?0:1)+o+","+l].join(" ")}return["M"+i+","+a,"A"+s+","+s+" 0 0,"+(c<g?0:1)+" "+o+","+l].join(" ")},smithTransform:v}},47788:function(O,S,e){var v=e(84888).KY,x=e(3400).counterRegex,t=e(62400),b=e(55012),g=b.attr,c=b.name,s=x(c),n={};n[g]={valType:"subplotid",dflt:c,editType:"calc"},O.exports={attr:g,name:c,idRoot:c,idRegex:s,attrRegex:s,attributes:n,layoutAttributes:e(6183),supplyLayoutDefaults:e(22836),plot:function(i){for(var a=i._fullLayout,r=i.calcdata,o=a._subplots[c],l=0;l<o.length;l++){var u=o[l],h=v(r,c,u),f=a[u]._subplot;f||(f=t(i,u,!0),a[u]._subplot=f),f.plot(h,a,i._promises)}},clean:function(i,a,r,o){for(var l=o._subplots[c]||[],u=0;u<l.length;u++){var h=l[u],f=o[h]._subplot;if(!a[h]&&f)for(var T in f.framework.remove(),f.clipPaths)f.clipPaths[T].remove()}},toSVG:e(57952).toSVG}},6183:function(O,S,e){var v=e(22548),x=e(94724),t=e(86968).u,b=e(3400).extendFlat,g=e(67824).overrideAll,c=g({color:x.color,showline:b({},x.showline,{dflt:!0}),linecolor:x.linecolor,linewidth:x.linewidth,showgrid:b({},x.showgrid,{dflt:!0}),gridcolor:x.gridcolor,gridwidth:x.gridwidth,griddash:x.griddash},"plot","from-root"),s=g({ticklen:x.ticklen,tickwidth:b({},x.tickwidth,{dflt:2}),tickcolor:x.tickcolor,showticklabels:x.showticklabels,labelalias:x.labelalias,showtickprefix:x.showtickprefix,tickprefix:x.tickprefix,showticksuffix:x.showticksuffix,ticksuffix:x.ticksuffix,tickfont:x.tickfont,tickformat:x.tickformat,hoverformat:x.hoverformat,layer:x.layer},"plot","from-root"),n=b({visible:b({},x.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:b({},x.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},c,s),i=b({visible:b({},x.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:x.ticks,editType:"calc"},c,s);O.exports={domain:t({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:v.background},realaxis:n,imaginaryaxis:i,editType:"calc"}},22836:function(O,S,e){var v,x,t,b=e(3400),g=e(76308),c=e(31780),s=e(168),n=e(84888).op,i=e(42568),a=e(95936),r=e(42136),o=e(78344),l=e(6183),u=e(55012),h=u.axisNames,f=(v=function(d){return b.isTypedArray(d)&&(d=Array.from(d)),d.slice().reverse().map(function(y){return-y}).concat([0]).concat(d)},x=String,t={},function(d){var y=x?x(d):d;if(y in t)return t[y];var m=v(d);return t[y]=m,m});function T(d,y,m,w){var _=m("bgcolor");w.bgColor=g.combine(_,w.paper_bgcolor);var A,p=n(w.fullData,u.name,w.id),L=w.layoutOut;function M(H,G){return m(A+"."+H,G)}for(var C=0;C<h.length;C++){A=h[C],b.isPlainObject(d[A])||(d[A]={});var R=d[A],I=c.newContainer(y,A);I._id=I._name=A,I._attr=w.id+"."+A,I._traceIndices=p.map(function(H){return H._expandedIndex});var D=M("visible");if(I.type="linear",o(I,L),i(R,I,M,I.type),D){var F,q,z,V,X=A==="realaxis";X&&M("side"),X?M("tickvals"):M("tickvals",f(y.realaxis.tickvals||l.realaxis.tickvals.dflt)),b.isTypedArray(I.tickvals)&&(I.tickvals=Array.from(I.tickvals));var j=w.font||{};D&&(q=(F=M("color"))===R.color?F:j.color,z=j.size,V=j.family),a(R,I,M,I.type,{noAutotickangles:!0,noTicklabelstep:!0,noAng:!X,noExp:!0,font:{color:q,size:z,family:V}}),b.coerce2(d,y,l,A+".ticklen"),b.coerce2(d,y,l,A+".tickwidth"),b.coerce2(d,y,l,A+".tickcolor",y.color),M("ticks")||(delete y[A].ticklen,delete y[A].tickwidth,delete y[A].tickcolor),r(R,I,M,{dfltColor:F,bgColor:w.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:l[A]}),M("layer")}M("hoverformat"),delete I.type,I._input=R}}O.exports=function(d,y,m){s(d,y,m,{noUirevision:!0,type:u.name,attributes:l,handleDefaults:T,font:y.font,paper_bgcolor:y.paper_bgcolor,fullData:m,layoutOut:y})}},168:function(O,S,e){var v=e(3400),x=e(31780),t=e(86968).Q;O.exports=function(b,g,c,s){var n,i,a=s.type,r=s.attributes,o=s.handleDefaults,l=s.partition||"x",u=g._subplots[a],h=u.length,f=h&&u[0].replace(/\d+$/,"");function T(w,_){return v.coerce(n,i,r,w,_)}for(var d=0;d<h;d++){var y=u[d];n=b[y]?b[y]:b[y]={},i=x.newContainer(g,y,f),s.noUirevision||T("uirevision",g.uirevision);var m={};m[l]=[d/h,(d+1)/h],t(i,g,T,m),s.id=y,o(n,i,T,s)}}},21776:function(O,S,e){var v=e(26880);function x(t){var b=t.description?" "+t.description:"",g=t.keys||[];if(g.length>0){for(var c=[],s=0;s<g.length;s++)c[s]="`"+g[s]+"`";b+="Finally, the template string has access to ",b=g.length===1?b+"variable "+c[0]:b+"variables "+c.slice(0,-1).join(", ")+" and "+c.slice(-1)+"."}return b}v.FORMAT_LINK,v.DATE_FORMAT_LINK,S.Ks=function(t,b){t=t||{},x(b=b||{});var g={valType:"string",dflt:"",editType:t.editType||"none"};return t.arrayOk!==!1&&(g.arrayOk=!0),g},S.Gw=function(t,b){t=t||{},x(b=b||{});var g={valType:"string",dflt:"",editType:t.editType||"calc"};return t.arrayOk!==!1&&(g.arrayOk=!0),g},S.ye=function(t,b){return b=b||{},(t=t||{}).newshape,x(b),{valType:"string",dflt:"",editType:t.editType||"arraydraw"}}},19352:function(O,S,e){var v=e(24696),x=e(84888).KY,t=e(3400).counterRegex,b="ternary";S.name=b;var g=S.attr="subplot";S.idRoot=b,S.idRegex=S.attrRegex=t(b),(S.attributes={})[g]={valType:"subplotid",dflt:"ternary",editType:"calc"},S.layoutAttributes=e(86379),S.supplyLayoutDefaults=e(38536),S.plot=function(c){for(var s=c._fullLayout,n=c.calcdata,i=s._subplots[b],a=0;a<i.length;a++){var r=i[a],o=x(n,b,r),l=s[r]._subplot;l||(l=new v({id:r,graphDiv:c,container:s._ternarylayer.node()},s),s[r]._subplot=l),l.plot(o,s,c._promises)}},S.clean=function(c,s,n,i){for(var a=i._subplots[b]||[],r=0;r<a.length;r++){var o=a[r],l=i[o]._subplot;!s[o]&&l&&(l.plotContainer.remove(),l.clipDef.remove(),l.clipDefRelative.remove(),l.layers["a-title"].remove(),l.layers["b-title"].remove(),l.layers["c-title"].remove())}}},86379:function(O,S,e){var v=e(22548),x=e(86968).u,t=e(94724),b=e(67824).overrideAll,g=e(92880).extendFlat,c={title:{text:t.title.text,font:t.title.font},color:t.color,tickmode:t.minor.tickmode,nticks:g({},t.nticks,{dflt:6,min:1}),tick0:t.tick0,dtick:t.dtick,tickvals:t.tickvals,ticktext:t.ticktext,ticks:t.ticks,ticklen:t.ticklen,tickwidth:t.tickwidth,tickcolor:t.tickcolor,ticklabelstep:t.ticklabelstep,showticklabels:t.showticklabels,labelalias:t.labelalias,showtickprefix:t.showtickprefix,tickprefix:t.tickprefix,showticksuffix:t.showticksuffix,ticksuffix:t.ticksuffix,showexponent:t.showexponent,exponentformat:t.exponentformat,minexponent:t.minexponent,separatethousands:t.separatethousands,tickfont:t.tickfont,tickangle:t.tickangle,tickformat:t.tickformat,tickformatstops:t.tickformatstops,hoverformat:t.hoverformat,showline:g({},t.showline,{dflt:!0}),linecolor:t.linecolor,linewidth:t.linewidth,showgrid:g({},t.showgrid,{dflt:!0}),gridcolor:t.gridcolor,gridwidth:t.gridwidth,griddash:t.griddash,layer:t.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:t._deprecated.title,titlefont:t._deprecated.titlefont}},s=O.exports=b({domain:x({name:"ternary"}),bgcolor:{valType:"color",dflt:v.background},sum:{valType:"number",dflt:1,min:0},aaxis:c,baxis:c,caxis:c},"plot","from-root");s.uirevision={valType:"any",editType:"none"},s.aaxis.uirevision=s.baxis.uirevision=s.caxis.uirevision={valType:"any",editType:"none"}},38536:function(O,S,e){var v=e(76308),x=e(31780),t=e(3400),b=e(168),g=e(95936),c=e(42568),s=e(25404),n=e(26332),i=e(42136),a=e(86379),r=["aaxis","baxis","caxis"];function o(u,h,f,T){var d,y,m,w=f("bgcolor"),_=f("sum");T.bgColor=v.combine(w,T.paper_bgcolor);for(var A=0;A<r.length;A++)y=u[d=r[A]]||{},(m=x.newContainer(h,d))._name=d,l(y,m,T,h);var p=h.aaxis,L=h.baxis,M=h.caxis;p.min+L.min+M.min>=_&&(p.min=0,L.min=0,M.min=0,u.aaxis&&delete u.aaxis.min,u.baxis&&delete u.baxis.min,u.caxis&&delete u.caxis.min)}function l(u,h,f,T){var d=a[h._name];function y(L,M){return t.coerce(u,h,d,L,M)}y("uirevision",T.uirevision),h.type="linear";var m=y("color"),w=m!==d.color.dflt?m:f.font.color,_=h._name.charAt(0).toUpperCase(),A="Component "+_,p=y("title.text",A);h._hovertitle=p===A?p:_,t.coerceFont(y,"title.font",f.font,{overrideDflt:{size:t.bigFont(f.font.size),color:w}}),y("min"),n(u,h,y,"linear"),c(u,h,y,"linear"),g(u,h,y,"linear",{noAutotickangles:!0}),s(u,h,y,{outerTicks:!0}),y("showticklabels")&&(t.coerceFont(y,"tickfont",f.font,{overrideDflt:{color:w}}),y("tickangle"),y("tickformat")),i(u,h,y,{dfltColor:m,bgColor:f.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:d}),y("hoverformat"),y("layer")}O.exports=function(u,h,f){b(u,h,f,{type:"ternary",attributes:a,handleDefaults:o,font:h.font,paper_bgcolor:h.paper_bgcolor})}},24696:function(O,S,e){var v=e(33428),x=e(49760),t=e(24040),b=e(3400),g=b.strTranslate,c=b._,s=e(76308),n=e(43616),i=e(78344),a=e(92880).extendFlat,r=e(7316),o=e(54460),l=e(86476),u=e(93024),h=e(72760),f=h.freeMode,T=h.rectMode,d=e(81668),y=e(22676).prepSelect,m=e(22676).selectOnClick,w=e(22676).clearOutline,_=e(22676).clearSelectionsCache,A=e(33816);function p(z,V){this.id=z.id,this.graphDiv=z.graphDiv,this.init(V),this.makeFramework(V),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}O.exports=p;var L=p.prototype;L.init=function(z){this.container=z._ternarylayer,this.defs=z._defs,this.layoutId=z._uid,this.traceHash={},this.layers={}},L.plot=function(z,V){var X=this,j=V[X.id],H=V._size;X._hasClipOnAxisFalse=!1;for(var G=0;G<z.length;G++)if(z[G][0].trace.cliponaxis===!1){X._hasClipOnAxisFalse=!0;break}X.updateLayers(j),X.adjustLayout(j,H),r.generalUpdatePerTraceModule(X.graphDiv,X,z,j),X.layers.plotbg.select("path").call(s.fill,j.bgcolor)},L.makeFramework=function(z){var V=this,X=V.graphDiv,j=z[V.id],H=V.clipId="clip"+V.layoutId+V.id,G=V.clipIdRelative="clip-relative"+V.layoutId+V.id;V.clipDef=b.ensureSingleById(z._clips,"clipPath",H,function(ie){ie.append("path").attr("d","M0,0Z")}),V.clipDefRelative=b.ensureSingleById(z._clips,"clipPath",G,function(ie){ie.append("path").attr("d","M0,0Z")}),V.plotContainer=b.ensureSingle(V.container,"g",V.id),V.updateLayers(j),n.setClipUrl(V.layers.backplot,H,X),n.setClipUrl(V.layers.grids,H,X)},L.updateLayers=function(z){var V=this.layers,X=["draglayer","plotbg","backplot","grids"];z.aaxis.layer==="below traces"&&X.push("aaxis","aline"),z.baxis.layer==="below traces"&&X.push("baxis","bline"),z.caxis.layer==="below traces"&&X.push("caxis","cline"),X.push("frontplot"),z.aaxis.layer==="above traces"&&X.push("aaxis","aline"),z.baxis.layer==="above traces"&&X.push("baxis","bline"),z.caxis.layer==="above traces"&&X.push("caxis","cline");var j=this.plotContainer.selectAll("g.toplevel").data(X,String),H=["agrid","bgrid","cgrid"];j.enter().append("g").attr("class",function(G){return"toplevel "+G}).each(function(G){var ie=v.select(this);V[G]=ie,G==="frontplot"?ie.append("g").classed("scatterlayer",!0):G==="backplot"?ie.append("g").classed("maplayer",!0):G==="plotbg"?ie.append("path").attr("d","M0,0Z"):G==="aline"||G==="bline"||G==="cline"?ie.append("path"):G==="grids"&&H.forEach(function(re){V[re]=ie.append("g").classed("grid "+re,!0)})}),j.order()};var M=Math.sqrt(4/3);L.adjustLayout=function(z,V){var X,j,H,G,ie,re,te=this,K=z.domain,J=(K.x[0]+K.x[1])/2,$=(K.y[0]+K.y[1])/2,ae=K.x[1]-K.x[0],ue=K.y[1]-K.y[0],ce=ae*V.w,de=ue*V.h,pe=z.sum,me=z.aaxis.min,be=z.baxis.min,we=z.caxis.min;ce>M*de?H=(G=de)*M:G=(H=ce)/M,ie=ae*H/ce,re=ue*G/de,X=V.l+V.w*J-H/2,j=V.t+V.h*(1-$)-G/2,te.x0=X,te.y0=j,te.w=H,te.h=G,te.sum=pe,te.xaxis={type:"linear",range:[me+2*we-pe,pe-me-2*be],domain:[J-ie/2,J+ie/2],_id:"x"},i(te.xaxis,te.graphDiv._fullLayout),te.xaxis.setScale(),te.xaxis.isPtWithinRange=function(Pe){return Pe.a>=te.aaxis.range[0]&&Pe.a<=te.aaxis.range[1]&&Pe.b>=te.baxis.range[1]&&Pe.b<=te.baxis.range[0]&&Pe.c>=te.caxis.range[1]&&Pe.c<=te.caxis.range[0]},te.yaxis={type:"linear",range:[me,pe-be-we],domain:[$-re/2,$+re/2],_id:"y"},i(te.yaxis,te.graphDiv._fullLayout),te.yaxis.setScale(),te.yaxis.isPtWithinRange=function(){return!0};var Te=te.yaxis.domain[0],Le=te.aaxis=a({},z.aaxis,{range:[me,pe-be-we],side:"left",tickangle:(+z.aaxis.tickangle||0)-30,domain:[Te,Te+re*M],anchor:"free",position:0,_id:"y",_length:H});i(Le,te.graphDiv._fullLayout),Le.setScale();var Ie=te.baxis=a({},z.baxis,{range:[pe-me-we,be],side:"bottom",domain:te.xaxis.domain,anchor:"free",position:0,_id:"x",_length:H});i(Ie,te.graphDiv._fullLayout),Ie.setScale();var _e=te.caxis=a({},z.caxis,{range:[pe-me-be,we],side:"right",tickangle:(+z.caxis.tickangle||0)+30,domain:[Te,Te+re*M],anchor:"free",position:0,_id:"y",_length:H});i(_e,te.graphDiv._fullLayout),_e.setScale();var fe="M"+X+","+(j+G)+"h"+H+"l-"+H/2+",-"+G+"Z";te.clipDef.select("path").attr("d",fe),te.layers.plotbg.select("path").attr("d",fe);var le="M0,"+G+"h"+H+"l-"+H/2+",-"+G+"Z";te.clipDefRelative.select("path").attr("d",le);var ye=g(X,j);te.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",ye),te.clipDefRelative.select("path").attr("transform",null);var Oe=g(X-Ie._offset,j+G);te.layers.baxis.attr("transform",Oe),te.layers.bgrid.attr("transform",Oe);var Ae=g(X+H/2,j)+"rotate(30)"+g(0,-Le._offset);te.layers.aaxis.attr("transform",Ae),te.layers.agrid.attr("transform",Ae);var Se=g(X+H/2,j)+"rotate(-30)"+g(0,-_e._offset);te.layers.caxis.attr("transform",Se),te.layers.cgrid.attr("transform",Se),te.drawAxes(!0),te.layers.aline.select("path").attr("d",Le.showline?"M"+X+","+(j+G)+"l"+H/2+",-"+G:"M0,0").call(s.stroke,Le.linecolor||"#000").style("stroke-width",(Le.linewidth||0)+"px"),te.layers.bline.select("path").attr("d",Ie.showline?"M"+X+","+(j+G)+"h"+H:"M0,0").call(s.stroke,Ie.linecolor||"#000").style("stroke-width",(Ie.linewidth||0)+"px"),te.layers.cline.select("path").attr("d",_e.showline?"M"+(X+H/2)+","+j+"l"+H/2+","+G:"M0,0").call(s.stroke,_e.linecolor||"#000").style("stroke-width",(_e.linewidth||0)+"px"),te.graphDiv._context.staticPlot||te.initInteractions(),n.setClipUrl(te.layers.frontplot,te._hasClipOnAxisFalse?null:te.clipId,te.graphDiv)},L.drawAxes=function(z){var V=this,X=V.graphDiv,j=V.id.substr(7)+"title",H=V.layers,G=V.aaxis,ie=V.baxis,re=V.caxis;if(V.drawAx(G),V.drawAx(ie),V.drawAx(re),z){var te=Math.max(G.showticklabels?G.tickfont.size/2:0,(re.showticklabels?.75*re.tickfont.size:0)+(re.ticks==="outside"?.87*re.ticklen:0)),K=(ie.showticklabels?ie.tickfont.size:0)+(ie.ticks==="outside"?ie.ticklen:0)+3;H["a-title"]=d.draw(X,"a"+j,{propContainer:G,propName:V.id+".aaxis.title",placeholder:c(X,"Click to enter Component A title"),attributes:{x:V.x0+V.w/2,y:V.y0-G.title.font.size/3-te,"text-anchor":"middle"}}),H["b-title"]=d.draw(X,"b"+j,{propContainer:ie,propName:V.id+".baxis.title",placeholder:c(X,"Click to enter Component B title"),attributes:{x:V.x0-K,y:V.y0+V.h+.83*ie.title.font.size+K,"text-anchor":"middle"}}),H["c-title"]=d.draw(X,"c"+j,{propContainer:re,propName:V.id+".caxis.title",placeholder:c(X,"Click to enter Component C title"),attributes:{x:V.x0+V.w+K,y:V.y0+V.h+.83*re.title.font.size+K,"text-anchor":"middle"}})}},L.drawAx=function(z){var V,X=this,j=X.graphDiv,H=z._name,G=H.charAt(0),ie=z._id,re=X.layers[H],te=G+"tickLayout",K=(V=z).ticks+String(V.ticklen)+String(V.showticklabels);X[te]!==K&&(re.selectAll("."+ie+"tick").remove(),X[te]=K),z.setScale();var J=o.calcTicks(z),$=o.clipEnds(z,J),ae=o.makeTransTickFn(z),ue=o.getTickSigns(z)[2],ce=b.deg2rad(30),de=ue*(z.linewidth||1)/2,pe=ue*z.ticklen,me=X.w,be=X.h,we=G==="b"?"M0,"+de+"l"+Math.sin(ce)*pe+","+Math.cos(ce)*pe:"M"+de+",0l"+Math.cos(ce)*pe+","+-Math.sin(ce)*pe,Te={a:"M0,0l"+be+",-"+me/2,b:"M0,0l-"+me/2+",-"+be,c:"M0,0l-"+be+","+me/2}[G];o.drawTicks(j,z,{vals:z.ticks==="inside"?$:J,layer:re,path:we,transFn:ae,crisp:!1}),o.drawGrid(j,z,{vals:$,layer:X.layers[G+"grid"],path:Te,transFn:ae,crisp:!1}),o.drawLabels(j,z,{vals:J,layer:re,transFn:ae,labelFns:o.makeLabelFns(z,0,30)})};var C=A.MINZOOM/2+.87,R="m-0.87,.5h"+C+"v3h-"+(C+5.2)+"l"+(C/2+2.6)+",-"+(.87*C+4.5)+"l2.6,1.5l-"+C/2+","+.87*C+"Z",I="m0.87,.5h-"+C+"v3h"+(C+5.2)+"l-"+(C/2+2.6)+",-"+(.87*C+4.5)+"l-2.6,1.5l"+C/2+","+.87*C+"Z",D="m0,1l"+C/2+","+.87*C+"l2.6,-1.5l-"+(C/2+2.6)+",-"+(.87*C+4.5)+"l-"+(C/2+2.6)+","+(.87*C+4.5)+"l2.6,1.5l"+C/2+",-"+.87*C+"Z",F=!0;function q(z){v.select(z).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}L.clearOutline=function(){_(this.dragOptions),w(this.dragOptions.gd)},L.initInteractions=function(){var z,V,X,j,H,G,ie,re,te,K,J,$,ae=this,ue=ae.layers.plotbg.select("path").node(),ce=ae.graphDiv,de=ce._fullLayout._zoomlayer;function pe(le){var ye={};return ye[ae.id+".aaxis.min"]=le.a,ye[ae.id+".baxis.min"]=le.b,ye[ae.id+".caxis.min"]=le.c,ye}function me(le,ye){var Oe=ce._fullLayout.clickmode;q(ce),le===2&&(ce.emit("plotly_doubleclick",null),t.call("_guiRelayout",ce,pe({a:0,b:0,c:0}))),Oe.indexOf("select")>-1&&le===1&&m(ye,ce,[ae.xaxis],[ae.yaxis],ae.id,ae.dragOptions),Oe.indexOf("event")>-1&&u.click(ce,ye,ae.id)}function be(le,ye){return 1-ye/ae.h}function we(le,ye){return 1-(le+(ae.h-ye)/Math.sqrt(3))/ae.w}function Te(le,ye){return(le-(ae.h-ye)/Math.sqrt(3))/ae.w}function Le(le,ye){var Oe=X+le*z,Ae=j+ye*V,Se=Math.max(0,Math.min(1,be(0,j),be(0,Ae))),Pe=Math.max(0,Math.min(1,we(X,j),we(Oe,Ae))),Fe=Math.max(0,Math.min(1,Te(X,j),Te(Oe,Ae))),Be=(Se/2+Fe)*ae.w,xe=(1-Se/2-Pe)*ae.w,Me=(Be+xe)/2,Ce=xe-Be,Ne=(1-Se)*ae.h,Re=Ne-Ce/M;Ce<A.MINZOOM?(ie=H,J.attr("d",te),$.attr("d","M0,0Z")):(ie={a:H.a+Se*G,b:H.b+Pe*G,c:H.c+Fe*G},J.attr("d",te+"M"+Be+","+Ne+"H"+xe+"L"+Me+","+Re+"L"+Be+","+Ne+"Z"),$.attr("d","M"+X+","+j+"m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2ZM"+Be+","+Ne+R+"M"+xe+","+Ne+I+"M"+Me+","+Re+D)),K||(J.transition().style("fill",re>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),$.transition().style("opacity",1).duration(200),K=!0),ce.emit("plotly_relayouting",pe(ie))}function Ie(){q(ce),ie!==H&&(t.call("_guiRelayout",ce,pe(ie)),F&&ce.data&&ce._context.showTips&&(b.notifier(c(ce,"Double-click to zoom back out"),"long"),F=!1))}function _e(le,ye){var Oe=le/ae.xaxis._m,Ae=ye/ae.yaxis._m,Se=[(ie={a:H.a-Ae,b:H.b+(Oe+Ae)/2,c:H.c-(Oe-Ae)/2}).a,ie.b,ie.c].sort(b.sorterAsc),Pe=Se.indexOf(ie.a),Fe=Se.indexOf(ie.b),Be=Se.indexOf(ie.c);Se[0]<0&&(Se[1]+Se[0]/2<0?(Se[2]+=Se[0]+Se[1],Se[0]=Se[1]=0):(Se[2]+=Se[0]/2,Se[1]+=Se[0]/2,Se[0]=0),ie={a:Se[Pe],b:Se[Fe],c:Se[Be]},ye=(H.a-ie.a)*ae.yaxis._m,le=(H.c-ie.c-H.b+ie.b)*ae.xaxis._m);var xe=g(ae.x0+le,ae.y0+ye);ae.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",xe);var Me=g(-le,-ye);ae.clipDefRelative.select("path").attr("transform",Me),ae.aaxis.range=[ie.a,ae.sum-ie.b-ie.c],ae.baxis.range=[ae.sum-ie.a-ie.c,ie.b],ae.caxis.range=[ae.sum-ie.a-ie.b,ie.c],ae.drawAxes(!1),ae._hasClipOnAxisFalse&&ae.plotContainer.select(".scatterlayer").selectAll(".trace").call(n.hideOutsideRangePoints,ae),ce.emit("plotly_relayouting",pe(ie))}function fe(){t.call("_guiRelayout",ce,pe(ie))}this.dragOptions={element:ue,gd:ce,plotinfo:{id:ae.id,domain:ce._fullLayout[ae.id].domain,xaxis:ae.xaxis,yaxis:ae.yaxis},subplot:ae.id,prepFn:function(le,ye,Oe){ae.dragOptions.xaxes=[ae.xaxis],ae.dragOptions.yaxes=[ae.yaxis],z=ce._fullLayout._invScaleX,V=ce._fullLayout._invScaleY;var Ae=ae.dragOptions.dragmode=ce._fullLayout.dragmode;f(Ae)?ae.dragOptions.minDrag=1:ae.dragOptions.minDrag=void 0,Ae==="zoom"?(ae.dragOptions.moveFn=Le,ae.dragOptions.clickFn=me,ae.dragOptions.doneFn=Ie,function(Se,Pe,Fe){var Be=ue.getBoundingClientRect();X=Pe-Be.left,j=Fe-Be.top,ce._fullLayout._calcInverseTransform(ce);var xe=ce._fullLayout._invTransform,Me=b.apply3DTransform(xe)(X,j);X=Me[0],j=Me[1],H={a:ae.aaxis.range[0],b:ae.baxis.range[1],c:ae.caxis.range[1]},ie=H,G=ae.aaxis.range[1]-H.a,re=x(ae.graphDiv._fullLayout[ae.id].bgcolor).getLuminance(),te="M0,"+ae.h+"L"+ae.w/2+", 0L"+ae.w+","+ae.h+"Z",K=!1,J=de.append("path").attr("class","zoombox").attr("transform",g(ae.x0,ae.y0)).style({fill:re>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",te),$=de.append("path").attr("class","zoombox-corners").attr("transform",g(ae.x0,ae.y0)).style({fill:s.background,stroke:s.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),ae.clearOutline(ce)}(0,ye,Oe)):Ae==="pan"?(ae.dragOptions.moveFn=_e,ae.dragOptions.clickFn=me,ae.dragOptions.doneFn=fe,H={a:ae.aaxis.range[0],b:ae.baxis.range[1],c:ae.caxis.range[1]},ie=H,ae.clearOutline(ce)):(T(Ae)||f(Ae))&&y(le,ye,Oe,ae.dragOptions,Ae)}},ue.onmousemove=function(le){u.hover(ce,le,ae.id),ce._fullLayout._lasthover=ue,ce._fullLayout._hoversubplot=ae.id},ue.onmouseout=function(le){ce._dragging||l.unhover(ce,le)},l.init(this.dragOptions)}},24040:function(O,S,e){var v=e(24248),x=e(16628),t=e(52416),b=e(63620),g=e(52200).addStyleRule,c=e(92880),s=e(45464),n=e(64859),i=c.extendFlat,a=c.extendDeepAll;function r(m){var w=m.name,_=m.categories,A=m.meta;if(S.modules[w])v.log("Type "+w+" already registered");else{S.subplotsRegistry[m.basePlotModule.name]||function(F){var q=F.name;if(S.subplotsRegistry[q])v.log("Plot type "+q+" already registered.");else for(var z in h(F),S.subplotsRegistry[q]=F,S.componentsRegistry)d(z,F.name)}(m.basePlotModule);for(var p={},L=0;L<_.length;L++)p[_[L]]=!0,S.allCategories[_[L]]=!0;for(var M in S.modules[w]={_module:m,categories:p},A&&Object.keys(A).length&&(S.modules[w].meta=A),S.allTypes.push(w),S.componentsRegistry)f(M,w);m.layoutAttributes&&i(S.traceLayoutAttributes,m.layoutAttributes);var C=m.basePlotModule,R=C.name;if(R==="mapbox"){var I=C.constants.styleRules;for(var D in I)g(".js-plotly-plot .plotly .mapboxgl-"+D,I[D])}R!=="geo"&&R!=="mapbox"||window.PlotlyGeoAssets!==void 0||(window.PlotlyGeoAssets={topojson:{}})}}function o(m){if(typeof m.name!="string")throw new Error("Component module *name* must be a string.");var w=m.name;for(var _ in S.componentsRegistry[w]=m,m.layoutAttributes&&(m.layoutAttributes._isLinkedToArray&&t(S.layoutArrayContainers,w),h(m)),S.modules)f(w,_);for(var A in S.subplotsRegistry)d(w,A);for(var p in S.transformsRegistry)T(w,p);m.schema&&m.schema.layout&&a(n,m.schema.layout)}function l(m){if(typeof m.name!="string")throw new Error("Transform module *name* must be a string.");var w="Transform module "+m.name,_=typeof m.transform=="function",A=typeof m.calcTransform=="function";if(!_&&!A)throw new Error(w+" is missing a *transform* or *calcTransform* method.");for(var p in _&&A&&v.log([w+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),b(m.attributes)||v.log(w+" registered without an *attributes* object."),typeof m.supplyDefaults!="function"&&v.log(w+" registered without a *supplyDefaults* method."),S.transformsRegistry[m.name]=m,S.componentsRegistry)T(p,m.name)}function u(m){var w=m.name,_=w.split("-")[0],A=m.dictionary,p=m.format,L=A&&Object.keys(A).length,M=p&&Object.keys(p).length,C=S.localeRegistry,R=C[w];if(R||(C[w]=R={}),_!==w){var I=C[_];I||(C[_]=I={}),L&&I.dictionary===R.dictionary&&(I.dictionary=A),M&&I.format===R.format&&(I.format=p)}L&&(R.dictionary=A),M&&(R.format=p)}function h(m){if(m.layoutAttributes){var w=m.layoutAttributes._arrayAttrRegexps;if(w)for(var _=0;_<w.length;_++)t(S.layoutArrayRegexes,w[_])}}function f(m,w){var _=S.componentsRegistry[m].schema;if(_&&_.traces){var A=_.traces[w];A&&a(S.modules[w]._module.attributes,A)}}function T(m,w){var _=S.componentsRegistry[m].schema;if(_&&_.transforms){var A=_.transforms[w];A&&a(S.transformsRegistry[w].attributes,A)}}function d(m,w){var _=S.componentsRegistry[m].schema;if(_&&_.subplots){var A=S.subplotsRegistry[w],p=A.layoutAttributes,L=A.attr==="subplot"?A.name:A.attr;Array.isArray(L)&&(L=L[0]);var M=_.subplots[L];p&&M&&a(p,M)}}function y(m){return typeof m=="object"&&(m=m.type),m}S.modules={},S.allCategories={},S.allTypes=[],S.subplotsRegistry={},S.transformsRegistry={},S.componentsRegistry={},S.layoutArrayContainers=[],S.layoutArrayRegexes=[],S.traceLayoutAttributes={},S.localeRegistry={},S.apiMethodRegistry={},S.collectableSubplotTypes=null,S.register=function(m){if(S.collectableSubplotTypes=null,!m)throw new Error("No argument passed to Plotly.register.");m&&!Array.isArray(m)&&(m=[m]);for(var w=0;w<m.length;w++){var _=m[w];if(!_)throw new Error("Invalid module was attempted to be registered!");switch(_.moduleType){case"trace":r(_);break;case"transform":l(_);break;case"component":o(_);break;case"locale":u(_);break;case"apiMethod":var A=_.name;S.apiMethodRegistry[A]=_.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},S.getModule=function(m){var w=S.modules[y(m)];return!!w&&w._module},S.traceIs=function(m,w){if((m=y(m))==="various")return!1;var _=S.modules[m];return _||(m&&v.log("Unrecognized trace type "+m+"."),_=S.modules[s.type.dflt]),!!_.categories[w]},S.getTransformIndices=function(m,w){for(var _=[],A=m.transforms||[],p=0;p<A.length;p++)A[p].type===w&&_.push(p);return _},S.hasTransform=function(m,w){for(var _=m.transforms||[],A=0;A<_.length;A++)if(_[A].type===w)return!0;return!1},S.getComponentMethod=function(m,w){var _=S.componentsRegistry[m];return _&&_[w]||x},S.call=function(){var m=arguments[0],w=[].slice.call(arguments,1);return S.apiMethodRegistry[m].apply(null,w)}},91536:function(O,S,e){var v=e(24040),x=e(3400),t=x.extendFlat,b=x.extendDeep;function g(c){var s;switch(c){case"themes__thumb":s={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":s={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:s={}}return s}O.exports=function(c,s){var n,i,a=c.data,r=c.layout,o=b([],a),l=b({},r,g(s.tileClass)),u=c._context||{};if(s.width&&(l.width=s.width),s.height&&(l.height=s.height),s.tileClass==="thumbnail"||s.tileClass==="themes__thumb"){l.annotations=[];var h=Object.keys(l);for(n=0;n<h.length;n++)i=h[n],["xaxis","yaxis","zaxis"].indexOf(i.slice(0,5))>-1&&(l[h[n]].title={text:""});for(n=0;n<o.length;n++){var f=o[n];f.showscale=!1,f.marker&&(f.marker.showscale=!1),v.traceIs(f,"pie-like")&&(f.textposition="none")}}if(Array.isArray(s.annotations))for(n=0;n<s.annotations.length;n++)l.annotations.push(s.annotations[n]);var T=Object.keys(l).filter(function(_){return _.match(/^scene\d*$/)});if(T.length){var d={};for(s.tileClass==="thumbnail"&&(d={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),n=0;n<T.length;n++){var y=l[T[n]];y.xaxis||(y.xaxis={}),y.yaxis||(y.yaxis={}),y.zaxis||(y.zaxis={}),t(y.xaxis,d),t(y.yaxis,d),t(y.zaxis,d),y._scene=null}}var m=document.createElement("div");s.tileClass&&(m.className=s.tileClass);var w={gd:m,td:m,layout:l,data:o,config:{staticPlot:s.staticPlot===void 0||s.staticPlot,plotGlPixelRatio:s.plotGlPixelRatio===void 0?2:s.plotGlPixelRatio,displaylogo:s.displaylogo||!1,showLink:s.showLink||!1,showTips:s.showTips||!1,mapboxAccessToken:u.mapboxAccessToken}};return s.setBackground!=="transparent"&&(w.config.setBackground=s.setBackground||"opaque"),w.gd.defaultLayout=g(s.tileClass),w}},39792:function(O,S,e){var v=e(3400),x=e(67024),t=e(48616),b=e(81792);O.exports=function(g,c){var s;return v.isPlainObject(g)||(s=v.getGraphDiv(g)),(c=c||{}).format=c.format||"png",c.width=c.width||null,c.height=c.height||null,c.imageDataOnly=!0,new Promise(function(n,i){s&&s._snapshotInProgress&&i(new Error("Snapshotting already in progress.")),v.isIE()&&c.format!=="svg"&&i(new Error(b.MSG_IE_BAD_FORMAT)),s&&(s._snapshotInProgress=!0);var a=x(g,c),r=c.filename||g.fn||"newplot";r+="."+c.format.replace("-","."),a.then(function(o){return s&&(s._snapshotInProgress=!1),t(o,r,c.format)}).then(function(o){n(o)}).catch(function(o){s&&(s._snapshotInProgress=!1),i(o)})})}},48616:function(O,S,e){var v=e(3400),x=e(81792);O.exports=function(t,b,g){var c=document.createElement("a"),s="download"in c;return new Promise(function(n,i){var a,r;if(v.isIE())return a=x.createBlob(t,"svg"),window.navigator.msSaveBlob(a,b),a=null,n(b);if(s)return a=x.createBlob(t,g),r=x.createObjectURL(a),c.href=r,c.download=b,document.body.appendChild(c),c.click(),document.body.removeChild(c),x.revokeObjectURL(r),a=null,n(b);if(v.isSafari()){var o=g==="svg"?",":";base64,";return x.octetStream(o+encodeURIComponent(t)),n(b)}i(new Error("download error"))})}},81792:function(O,S,e){var v=e(24040);S.getDelay=function(t){return t._has&&(t._has("gl3d")||t._has("gl2d")||t._has("mapbox"))?500:0},S.getRedrawFunc=function(t){return function(){v.getComponentMethod("colorbar","draw")(t)}},S.encodeSVG=function(t){return"data:image/svg+xml,"+encodeURIComponent(t)},S.encodeJSON=function(t){return"data:application/json,"+encodeURIComponent(t)};var x=window.URL||window.webkitURL;S.createObjectURL=function(t){return x.createObjectURL(t)},S.revokeObjectURL=function(t){return x.revokeObjectURL(t)},S.createBlob=function(t,b){if(b==="svg")return new window.Blob([t],{type:"image/svg+xml;charset=utf-8"});if(b==="full-json")return new window.Blob([t],{type:"application/json;charset=utf-8"});var g=function(c){for(var s=c.length,n=new ArrayBuffer(s),i=new Uint8Array(n),a=0;a<s;a++)i[a]=c.charCodeAt(a);return n}(window.atob(t));return new window.Blob([g],{type:"image/"+b})},S.octetStream=function(t){document.location.href="data:application/octet-stream"+t},S.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,S.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},78904:function(O,S,e){var v=e(81792),x={getDelay:v.getDelay,getRedrawFunc:v.getRedrawFunc,clone:e(91536),toSVG:e(37164),svgToImg:e(63268),toImage:e(61808),downloadImage:e(39792)};O.exports=x},63268:function(O,S,e){var v=e(3400),x=e(61252).EventEmitter,t=e(81792);O.exports=function(b){var g=b.emitter||new x,c=new Promise(function(s,n){var i=window.Image,a=b.svg,r=b.format||"png";if(v.isIE()&&r!=="svg"){var o=new Error(t.MSG_IE_BAD_FORMAT);return n(o),b.promise?c:g.emit("error",o)}var l,u,h=b.canvas,f=b.scale||1,T=b.width||300,d=b.height||150,y=f*T,m=f*d,w=h.getContext("2d",{willReadFrequently:!0}),_=new i;r==="svg"||v.isSafari()?u=t.encodeSVG(a):(l=t.createBlob(a,"svg"),u=t.createObjectURL(l)),h.width=y,h.height=m,_.onload=function(){var A;switch(l=null,t.revokeObjectURL(u),r!=="svg"&&w.drawImage(_,0,0,y,m),r){case"jpeg":A=h.toDataURL("image/jpeg");break;case"png":A=h.toDataURL("image/png");break;case"webp":A=h.toDataURL("image/webp");break;case"svg":A=u;break;default:var p="Image format is not jpeg, png, svg or webp.";if(n(new Error(p)),!b.promise)return g.emit("error",p)}s(A),b.promise||g.emit("success",A)},_.onerror=function(A){if(l=null,t.revokeObjectURL(u),n(A),!b.promise)return g.emit("error",A)},_.src=u});return b.promise?c:g}},61808:function(O,S,e){var v=e(61252).EventEmitter,x=e(24040),t=e(3400),b=e(81792),g=e(91536),c=e(37164),s=e(63268);O.exports=function(n,i){var a=new v,r=g(n,{format:"png"}),o=r.gd;o.style.position="absolute",o.style.left="-5000px",document.body.appendChild(o);var l=b.getRedrawFunc(o);return x.call("_doPlot",o,r.data,r.layout,r.config).then(l).then(function(){var u=b.getDelay(o._fullLayout);setTimeout(function(){var h=c(o),f=document.createElement("canvas");f.id=t.randstr(),(a=s({format:i.format,width:o._fullLayout.width,height:o._fullLayout.height,canvas:f,emitter:a,svg:h})).clean=function(){o&&document.body.removeChild(o)}},u)}).catch(function(u){a.emit("error",u)}),a}},37164:function(O,S,e){var v=e(33428),x=e(3400),t=e(43616),b=e(76308),g=e(9616),c=/"/g,s="TOBESTRIPPED",n=new RegExp('("'+s+")|("+s+'")',"g");O.exports=function(i,a,r){var o,l=i._fullLayout,u=l._paper,h=l._toppaper,f=l.width,T=l.height;u.insert("rect",":first-child").call(t.setRect,0,0,f,T).call(b.fill,l.paper_bgcolor);var d=l._basePlotModules||[];for(o=0;o<d.length;o++){var y=d[o];y.toSVG&&y.toSVG(i)}if(h){var m=h.node().childNodes,w=Array.prototype.slice.call(m);for(o=0;o<w.length;o++){var _=w[o];_.childNodes.length&&u.node().appendChild(_)}}l._draggers&&l._draggers.remove(),u.node().style.background="",u.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var p=v.select(this);if(this.style.visibility!=="hidden"&&this.style.display!=="none"){p.style({visibility:null,display:null});var L=this.style.fontFamily;L&&L.indexOf('"')!==-1&&p.style("font-family",L.replace(c,s));var M=this.style.fontWeight;!M||M!=="normal"&&M!=="400"||p.style("font-weight",void 0);var C=this.style.fontStyle;C&&C==="normal"&&p.style("font-style",void 0);var R=this.style.fontVariant;R&&R==="normal"&&p.style("font-variant",void 0)}else p.remove()}),u.selectAll(".gradient_filled,.pattern_filled").each(function(){var p=v.select(this),L=this.style.fill;L&&L.indexOf("url(")!==-1&&p.style("fill",L.replace(c,s));var M=this.style.stroke;M&&M.indexOf("url(")!==-1&&p.style("stroke",M.replace(c,s))}),a!=="pdf"&&a!=="eps"||u.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),u.node().setAttributeNS(g.xmlns,"xmlns",g.svg),u.node().setAttributeNS(g.xmlns,"xmlns:xlink",g.xlink),a==="svg"&&r&&(u.attr("width",r*f),u.attr("height",r*T),u.attr("viewBox","0 0 "+f+" "+T));var A=new window.XMLSerializer().serializeToString(u.node());return A=(A=(A=function(p){var L=v.select("body").append("div").style({display:"none"}).html(""),M=p.replace(/(&[^;]*;)/gi,function(C){return C==="&lt;"?"&#60;":C==="&rt;"?"&#62;":C.indexOf("<")!==-1||C.indexOf(">")!==-1?"":L.html(C).text()});return L.remove(),M}(A)).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(n,"'"),x.isIE()&&(A=(A=(A=A.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),A}},84664:function(O,S,e){var v=e(3400);O.exports=function(x,t){for(var b=0;b<x.length;b++)x[b].i=b;v.mergeArray(t.text,x,"tx"),v.mergeArray(t.hovertext,x,"htx");var g=t.marker;if(g){v.mergeArray(g.opacity,x,"mo",!0),v.mergeArray(g.color,x,"mc");var c=g.line;c&&(v.mergeArray(c.color,x,"mlc"),v.mergeArrayCastPositive(c.width,x,"mlw"))}}},20832:function(O,S,e){var v=e(52904),x=e(29736).axisHoverFormat,t=e(21776).Ks,b=e(21776).Gw,g=e(49084),c=e(25376),s=e(78048),n=e(98192).c,i=e(92880).extendFlat,a=c({editType:"calc",arrayOk:!0,colorEditType:"style"}),r=i({},v.marker.line.width,{dflt:0}),o=i({width:r,editType:"calc"},g("marker.line")),l=i({line:o,editType:"calc"},g("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:n,cornerradius:{valType:"any",editType:"calc"}});O.exports={x:v.x,x0:v.x0,dx:v.dx,y:v.y,y0:v.y0,dy:v.dy,xperiod:v.xperiod,yperiod:v.yperiod,xperiod0:v.xperiod0,yperiod0:v.yperiod0,xperiodalignment:v.xperiodalignment,yperiodalignment:v.yperiodalignment,xhoverformat:x("x"),yhoverformat:x("y"),text:v.text,texttemplate:b({editType:"plot"},{keys:s.eventDataKeys}),hovertext:v.hovertext,hovertemplate:t({},{keys:s.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:i({},a,{}),insidetextfont:i({},a,{}),outsidetextfont:i({},a,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:i({},v.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:l,offsetgroup:v.offsetgroup,alignmentgroup:v.alignmentgroup,selected:{marker:{opacity:v.selected.marker.opacity,color:v.selected.marker.color,editType:"style"},textfont:v.selected.textfont,editType:"style"},unselected:{marker:{opacity:v.unselected.marker.opacity,color:v.unselected.marker.color,editType:"style"},textfont:v.unselected.textfont,editType:"style"},zorder:v.zorder,_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},71820:function(O,S,e){var v=e(54460),x=e(1220),t=e(94288).hasColorscale,b=e(47128),g=e(84664),c=e(4500);O.exports=function(s,n){var i,a,r,o,l,u,h=v.getFromId(s,n.xaxis||"x"),f=v.getFromId(s,n.yaxis||"y"),T={msUTC:!(!n.base&&n.base!==0)};n.orientation==="h"?(i=h.makeCalcdata(n,"x",T),r=f.makeCalcdata(n,"y"),o=x(n,f,"y",r),l=!!n.yperiodalignment,u="y"):(i=f.makeCalcdata(n,"y",T),r=h.makeCalcdata(n,"x"),o=x(n,h,"x",r),l=!!n.xperiodalignment,u="x"),a=o.vals;for(var d=Math.min(a.length,i.length),y=new Array(d),m=0;m<d;m++)y[m]={p:a[m],s:i[m]},l&&(y[m].orig_p=r[m],y[m][u+"End"]=o.ends[m],y[m][u+"Start"]=o.starts[m]),n.ids&&(y[m].id=String(n.ids[m]));return t(n,"marker")&&b(s,n,{vals:n.marker.color,containerStr:"marker",cLetter:"c"}),t(n,"marker.line")&&b(s,n,{vals:n.marker.line.color,containerStr:"marker.line",cLetter:"c"}),g(y,n),c(y,n),y}},78048:function(O){O.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},96376:function(O,S,e){var v=e(38248),x=e(3400).isArrayOrTypedArray,t=e(39032).BADNUM,b=e(24040),g=e(54460),c=e(71888).getAxisGroup,s=e(72592);function n(d,y,m,w,_){if(w.length){var A,p,L,M;switch(function(C,R){var I,D;for(I=0;I<R.length;I++){var F,q=R[I],z=q[0].trace,V=z.type==="funnel"?z._base:z.base,X=z.orientation==="h"?z.xcalendar:z.ycalendar,j=C.type==="category"||C.type==="multicategory"?function(){return null}:C.d2c;if(x(V)){for(D=0;D<Math.min(V.length,q.length);D++)F=j(V[D],0,X),v(F)?(q[D].b=+F,q[D].hasB=1):q[D].b=0;for(;D<q.length;D++)q[D].b=0}else{F=j(V,0,X);var H=v(F);for(F=H?F:0,D=0;D<q.length;D++)q[D].b=F,H&&(q[D].hasB=1)}}}(m,w),_.mode){case"overlay":i(y,m,w,_);break;case"group":for(A=[],p=[],L=0;L<w.length;L++)(M=w[L])[0].trace.offset===void 0?p.push(M):A.push(M);p.length&&function(C,R,I,D,F){var q=new s(D,{posAxis:R,sepNegVal:!1,overlapNoMerge:!F.norm});(function(z,V,X,j){for(var H=z._fullLayout,G=X.positions,ie=X.distinctPositions,re=X.minDiff,te=X.traces,K=te.length,J=G.length!==ie.length,$=re*(1-j.gap),ae=c(H,V._id)+te[0][0].trace.orientation,ue=H._alignmentOpts[ae]||{},ce=0;ce<K;ce++){var de,pe,me=te[ce],be=me[0].trace,we=ue[be.alignmentgroup]||{},Te=Object.keys(we.offsetGroups||{}).length,Le=(de=Te?$/Te:J?$/K:$)*(1-(j.groupgap||0));pe=Te?((2*be._offsetIndex+1-Te)*de-Le)/2:J?((2*ce+1-K)*de-Le)/2:-Le/2;var Ie=me[0].t;Ie.barwidth=Le,Ie.poffset=pe,Ie.bargroupwidth=$,Ie.bardelta=re}X.binWidth=te[0][0].t.barwidth/100,r(X),o(V,X),l(V,X,J)})(C,R,q,F),function(z,V){for(var X=z.traces,j=0;j<X.length;j++){var H=X[j];if(H[0].trace.base===void 0)for(var G=new s([H],{posAxis:V,sepNegVal:!0,overlapNoMerge:!0}),ie=0;ie<H.length;ie++){var re=H[ie];if(re.p!==t){var te=G.put(re.p,re.b+re.s);te&&(re.b=te)}}}}(q,R),F.norm?(h(q),f(I,q,F)):u(I,q)}(d,y,m,p,_),A.length&&i(y,m,A,_);break;case"stack":case"relative":for(A=[],p=[],L=0;L<w.length;L++)(M=w[L])[0].trace.base===void 0?p.push(M):A.push(M);(function(C){if(!(C.length<2)){var R,I,D,F,q,z;for(R=0;R<C.length&&(F=(I=C[R][0].trace).marker?I.marker.cornerradius:void 0)===void 0;R++);if(F!==void 0)for(q=v(F)?+F:+F.slice(0,-1),z=v(F)?"px":"%",R=0;R<C.length;R++)(D=C[R][0].t).cornerradiusvalue=q,D.cornerradiusform=z}})(p),p.length&&function(C,R,I,D,F){var q=new s(D,{posAxis:R,sepNegVal:F.mode==="relative",overlapNoMerge:!(F.norm||F.mode==="stack"||F.mode==="relative")});a(R,q,F),function(H,G,ie){var re,te,K,J,$,ae,ue=T(H),ce=G.traces;for(J=0;J<ce.length;J++)if((te=(re=ce[J])[0].trace).type==="funnel")for($=0;$<re.length;$++)(ae=re[$]).s!==t&&G.put(ae.p,-.5*ae.s);for(J=0;J<ce.length;J++){K=(te=(re=ce[J])[0].trace).type==="funnel";var de=[];for($=0;$<re.length;$++)if((ae=re[$]).s!==t){var pe;pe=K?ae.s:ae.s+ae.b;var me=G.put(ae.p,pe),be=me+pe;ae.b=me,ae[ue]=be,ie.norm||(de.push(be),ae.hasB&&de.push(me))}ie.norm||(te._extremes[H._id]=g.findExtremes(H,de,{tozero:!0,padded:!0}))}}(I,q,F);for(var z=0;z<D.length;z++)for(var V=D[z],X=0;X<V.length;X++){var j=V[X];j.s!==t&&j.b+j.s===q.get(j.p,j.s)&&(j._outmost=!0)}F.norm&&f(I,q,F)}(0,y,m,p,_),A.length&&i(y,m,A,_)}(function(C){var R,I,D,F,q,z,V;for(R=0;R<C.length;R++)D=(I=C[R])[0].trace,(F=I[0].t).cornerradiusvalue===void 0&&(q=D.marker?D.marker.cornerradius:void 0)!==void 0&&(z=v(q)?+q:+q.slice(0,-1),V=v(q)?"px":"%",F.cornerradiusvalue=z,F.cornerradiusform=V)})(w),function(C,R){var I,D,F,q=T(R),z={},V=1/0,X=-1/0;for(I=0;I<C.length;I++)for(F=C[I],D=0;D<F.length;D++){var j=F[D].p;v(j)&&(V=Math.min(V,j),X=Math.max(X,j))}var H=1e4/(X-V),G=z.round=function(be){return String(Math.round(H*(be-V)))},ie={},re={},te=C.some(function(be){var we=be[0].trace;return"marker"in we&&we.marker.cornerradius});for(I=0;I<C.length;I++){(F=C[I])[0].t.extents=z;var K=F[0].t.poffset,J=x(K);for(D=0;D<F.length;D++){var $=F[D],ae=$[q]-$.w/2;if(v(ae)){var ue=$[q]+$.w/2,ce=G($.p);z[ce]?z[ce]=[Math.min(ae,z[ce][0]),Math.max(ue,z[ce][1])]:z[ce]=[ae,ue]}if($.p0=$.p+(J?K[D]:K),$.p1=$.p0+$.w,$.s0=$.b,$.s1=$.s0+$.s,te){var de=Math.min($.s0,$.s1)||0,pe=Math.max($.s0,$.s1)||0,me=$[q];ie[me]=me in ie?Math.min(ie[me],de):de,re[me]=me in re?Math.max(re[me],pe):pe}}}te&&function(be,we,Te,Le){for(var Ie=T(Le),_e=0;_e<be.length;_e++)for(var fe=be[_e],le=0;le<fe.length;le++){var ye=fe[le],Oe=ye[Ie];ye._sMin=we[Oe],ye._sMax=Te[Oe]}}(C,ie,re,R)}(w,y)}}function i(d,y,m,w){for(var _=0;_<m.length;_++){var A=m[_],p=new s([A],{posAxis:d,sepNegVal:!1,overlapNoMerge:!w.norm});a(d,p,w),w.norm?(h(p),f(y,p,w)):u(y,p)}}function a(d,y,m){for(var w=y.minDiff,_=y.traces,A=w*(1-m.gap),p=A*(1-(m.groupgap||0)),L=-p/2,M=0;M<_.length;M++){var C=_[M][0].t;C.barwidth=p,C.poffset=L,C.bargroupwidth=A,C.bardelta=w}y.binWidth=_[0][0].t.barwidth/100,r(y),o(d,y),l(d,y)}function r(d){var y,m,w=d.traces;for(y=0;y<w.length;y++){var _,A=w[y],p=A[0],L=p.trace,M=p.t,C=L._offset||L.offset,R=M.poffset;if(x(C)){for(_=Array.prototype.slice.call(C,0,A.length),m=0;m<_.length;m++)v(_[m])||(_[m]=R);for(m=_.length;m<A.length;m++)_.push(R);M.poffset=_}else C!==void 0&&(M.poffset=C);var I=L._width||L.width,D=M.barwidth;if(x(I)){var F=Array.prototype.slice.call(I,0,A.length);for(m=0;m<F.length;m++)v(F[m])||(F[m]=D);for(m=F.length;m<A.length;m++)F.push(D);if(M.barwidth=F,C===void 0){for(_=[],m=0;m<A.length;m++)_.push(R+(D-F[m])/2);M.poffset=_}}else I!==void 0&&(M.barwidth=I,C===void 0&&(M.poffset=R+(D-I)/2))}}function o(d,y){for(var m=y.traces,w=T(d),_=0;_<m.length;_++)for(var A=m[_],p=A[0].t,L=p.poffset,M=x(L),C=p.barwidth,R=x(C),I=0;I<A.length;I++){var D=A[I],F=D.w=R?C[I]:C;D.p===void 0&&(D.p=D[w],D["orig_"+w]=D[w]);var q=(M?L[I]:L)+F/2;D[w]=D.p+q}}function l(d,y,m){var w=y.traces,_=y.minDiff/2;g.minDtick(d,y.minDiff,y.distinctPositions[0],m);for(var A=0;A<w.length;A++){var p,L,M,C,R=w[A],I=R[0],D=I.trace,F=[];for(C=0;C<R.length;C++)L=(p=R[C]).p-_,M=p.p+_,F.push(L,M);if(D.width||D.offset){var q=I.t,z=q.poffset,V=q.barwidth,X=x(z),j=x(V);for(C=0;C<R.length;C++){p=R[C];var H=X?z[C]:z,G=j?V[C]:V;M=(L=p.p+H)+G,F.push(L,M)}}D._extremes[d._id]=g.findExtremes(d,F,{padded:!1})}}function u(d,y){for(var m=y.traces,w=T(d),_=0;_<m.length;_++){for(var A=m[_],p=A[0].trace,L=p.type==="scatter",M=p.orientation==="v",C=[],R=!1,I=0;I<A.length;I++){var D=A[I],F=L?0:D.b,q=L?M?D.y:D.x:F+D.s;D[w]=q,C.push(q),D.hasB&&C.push(F),D.hasB&&D.b||(R=!0)}p._extremes[d._id]=g.findExtremes(d,C,{tozero:R,padded:!0})}}function h(d){for(var y=d.traces,m=0;m<y.length;m++)for(var w=y[m],_=0;_<w.length;_++){var A=w[_];A.s!==t&&d.put(A.p,A.b+A.s)}}function f(d,y,m){var w=y.traces,_=T(d),A=m.norm==="fraction"?1:100,p=A/1e9,L=d.l2c(d.c2l(0)),M=m.mode==="stack"?A:L;function C(ie){return v(d.c2l(ie))&&(ie<L-p||ie>M+p||!v(L))}for(var R=0;R<w.length;R++){for(var I=w[R],D=I[0].trace,F=[],q=!1,z=!1,V=0;V<I.length;V++){var X=I[V];if(X.s!==t){var j=Math.abs(A/y.get(X.p,X.s));X.b*=j,X.s*=j;var H=X.b,G=H+X.s;X[_]=G,F.push(G),z=z||C(G),X.hasB&&(F.push(H),z=z||C(H)),X.hasB&&X.b||(q=!0)}}D._extremes[d._id]=g.findExtremes(d,F,{tozero:q,padded:z})}}function T(d){return d._id.charAt(0)}O.exports={crossTraceCalc:function(d,y){for(var m=y.xaxis,w=y.yaxis,_=d._fullLayout,A=d._fullData,p=d.calcdata,L=[],M=[],C=0;C<A.length;C++){var R=A[C];if(R.visible===!0&&b.traceIs(R,"bar")&&R.xaxis===m._id&&R.yaxis===w._id&&(R.orientation==="h"?L.push(p[C]):M.push(p[C]),R._computePh))for(var I=d.calcdata[C],D=0;D<I.length;D++)typeof I[D].ph0=="function"&&(I[D].ph0=I[D].ph0()),typeof I[D].ph1=="function"&&(I[D].ph1=I[D].ph1())}var F={xCat:m.type==="category"||m.type==="multicategory",yCat:w.type==="category"||w.type==="multicategory",mode:_.barmode,norm:_.barnorm,gap:_.bargap,groupgap:_.bargroupgap};n(d,m,w,M,F),n(d,w,m,L,F)},setGroupPositions:n}},31508:function(O,S,e){var v=e(38248),x=e(3400),t=e(76308),b=e(24040),g=e(43980),c=e(31147),s=e(55592),n=e(20011),i=e(20832),a=x.coerceFont;function r(l){if(v(l)){if((l=+l)>=0)return l}else if(typeof l=="string"&&(l=l.trim()).slice(-1)==="%"&&v(l.slice(0,-1))&&(l=+l.slice(0,-1))>=0)return l+"%"}function o(l,u,h,f,T,d){var y=(d=d||{}).moduleHasSelected!==!1,m=d.moduleHasUnselected!==!1,w=d.moduleHasConstrain!==!1,_=d.moduleHasCliponaxis!==!1,A=d.moduleHasTextangle!==!1,p=d.moduleHasInsideanchor!==!1,L=!!d.hasPathbar,M=Array.isArray(T)||T==="auto",C=M||T==="inside",R=M||T==="outside";if(C||R){var I=a(f,"textfont",h.font),D=x.extendFlat({},I),F=!(l.textfont&&l.textfont.color);if(F&&delete D.color,a(f,"insidetextfont",D),L){var q=x.extendFlat({},I);F&&delete q.color,a(f,"pathbar.textfont",q)}R&&a(f,"outsidetextfont",I),y&&f("selected.textfont.color"),m&&f("unselected.textfont.color"),w&&f("constraintext"),_&&f("cliponaxis"),A&&f("textangle"),f("texttemplate")}C&&p&&f("insidetextanchor")}O.exports={supplyDefaults:function(l,u,h,f){function T(w,_){return x.coerce(l,u,i,w,_)}if(g(l,u,f,T)){c(l,u,f,T),T("xhoverformat"),T("yhoverformat"),T("zorder"),T("orientation",u.x&&!u.y?"h":"v"),T("base"),T("offset"),T("width"),T("text"),T("hovertext"),T("hovertemplate");var d=T("textposition");o(l,0,f,T,d,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),s(l,u,T,h,f);var y=(u.marker.line||{}).color,m=b.getComponentMethod("errorbars","supplyDefaults");m(l,u,y||t.defaultLine,{axis:"y"}),m(l,u,y||t.defaultLine,{axis:"x",inherit:"y"}),x.coerceSelectionMarkerOpacity(u,T)}else u.visible=!1},crossTraceDefaults:function(l,u){var h,f;function T(m,w){return x.coerce(f._input,f,i,m,w)}for(var d=0;d<l.length;d++)if((f=l[d]).type==="bar"){h=f._input;var y=T("marker.cornerradius",u.barcornerradius);f.marker&&(f.marker.cornerradius=r(y)),u.barmode==="group"&&n(h,f,u,T)}},handleText:o,validateCornerradius:r}},52160:function(O){O.exports=function(S,e,v){return S.x="xVal"in e?e.xVal:e.x,S.y="yVal"in e?e.yVal:e.y,e.xa&&(S.xaxis=e.xa),e.ya&&(S.yaxis=e.ya),v.orientation==="h"?(S.label=S.y,S.value=S.x):(S.label=S.x,S.value=S.y),S}},60444:function(O,S,e){var v=e(38248),x=e(49760),t=e(3400).isArrayOrTypedArray;S.coerceString=function(b,g,c){if(typeof g=="string"){if(g||!b.noBlank)return g}else if((typeof g=="number"||g===!0)&&!b.strict)return String(g);return c!==void 0?c:b.dflt},S.coerceNumber=function(b,g,c){if(v(g)){g=+g;var s=b.min,n=b.max;if(!(s!==void 0&&g<s||n!==void 0&&g>n))return g}return c!==void 0?c:b.dflt},S.coerceColor=function(b,g,c){return x(g).isValid()?g:c!==void 0?c:b.dflt},S.coerceEnumerated=function(b,g,c){return b.coerceNumber&&(g=+g),b.values.indexOf(g)!==-1?g:c!==void 0?c:b.dflt},S.getValue=function(b,g){var c;return t(b)?g<b.length&&(c=b[g]):c=b,c},S.getLineWidth=function(b,g){return 0<g.mlw?g.mlw:t(b.marker.line.width)?0:b.marker.line.width}},63400:function(O,S,e){var v=e(93024),x=e(24040),t=e(76308),b=e(3400).fillText,g=e(60444).getLineWidth,c=e(54460).hoverLabelText,s=e(39032).BADNUM;function n(a,r,o,l,u){var h,f,T,d,y,m,w,_=a.cd,A=_[0].trace,p=_[0].t,L=l==="closest",M=A.type==="waterfall",C=a.maxHoverDistance,R=a.maxSpikeDistance;A.orientation==="h"?(h=o,f=r,T="y",d="x",y=re,m=G):(h=r,f=o,T="x",d="y",m=re,y=G);var I=A[T+"period"],D=L||I;function F(de){return z(de,-1)}function q(de){return z(de,1)}function z(de,pe){var me=de.w;return de[T]+pe*me/2}function V(de){return de[T+"End"]-de[T+"Start"]}var X=L?F:I?function(de){return de.p-V(de)/2}:function(de){return Math.min(F(de),de.p-p.bardelta/2)},j=L?q:I?function(de){return de.p+V(de)/2}:function(de){return Math.max(q(de),de.p+p.bardelta/2)};function H(de,pe,me){return u.finiteRange&&(me=0),v.inbox(de-h,pe-h,me+Math.min(1,Math.abs(pe-de)/w)-1)}function G(de){return H(X(de),j(de),C)}function ie(de){var pe=de[d];if(M){var me=Math.abs(de.rawS)||0;f>0?pe+=me:f<0&&(pe-=me)}return pe}function re(de){var pe=f,me=de.b,be=ie(de);return v.inbox(me-pe,be-pe,C+(be-pe)/(be-me)-1)}var te=a[T+"a"],K=a[d+"a"];w=Math.abs(te.r2c(te.range[1])-te.r2c(te.range[0]));var J=v.getDistanceFunction(l,y,m,function(de){return(y(de)+m(de))/2});if(v.getClosest(_,J,a),a.index!==!1&&_[a.index].p!==s){D||(X=function(de){return Math.min(F(de),de.p-p.bargroupwidth/2)},j=function(de){return Math.max(q(de),de.p+p.bargroupwidth/2)});var $=_[a.index],ae=A.base?$.b+$.s:$.s;a[d+"0"]=a[d+"1"]=K.c2p($[d],!0),a[d+"LabelVal"]=ae;var ue=p.extents[p.extents.round($.p)];a[T+"0"]=te.c2p(L?X($):ue[0],!0),a[T+"1"]=te.c2p(L?j($):ue[1],!0);var ce=$.orig_p!==void 0;return a[T+"LabelVal"]=ce?$.orig_p:$.p,a.labelLabel=c(te,a[T+"LabelVal"],A[T+"hoverformat"]),a.valueLabel=c(K,a[d+"LabelVal"],A[d+"hoverformat"]),a.baseLabel=c(K,$.b,A[d+"hoverformat"]),a.spikeDistance=(function(de){var pe=f,me=de.b,be=ie(de);return v.inbox(me-pe,be-pe,R+(be-pe)/(be-me)-1)}($)+function(de){return H(F(de),q(de),R)}($))/2,a[T+"Spike"]=te.c2p($.p,!0),b($,A,a),a.hovertemplate=A.hovertemplate,a}}function i(a,r){var o=r.mcc||a.marker.color,l=r.mlcc||a.marker.line.color,u=g(a,r);return t.opacity(o)?o:t.opacity(l)&&u?l:void 0}O.exports={hoverPoints:function(a,r,o,l,u){var h=n(a,r,o,l,u);if(h){var f=h.cd,T=f[0].trace,d=f[h.index];return h.color=i(T,d),x.getComponentMethod("errorbars","hoverInfo")(d,T,h),[h]}},hoverOnBars:n,getTraceColor:i}},51132:function(O,S,e){O.exports={attributes:e(20832),layoutAttributes:e(39324),supplyDefaults:e(31508).supplyDefaults,crossTraceDefaults:e(31508).crossTraceDefaults,supplyLayoutDefaults:e(37156),calc:e(71820),crossTraceCalc:e(96376).crossTraceCalc,colorbar:e(5528),arraysToCalcdata:e(84664),plot:e(98184).plot,style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(63400).hoverPoints,eventData:e(52160),selectPoints:e(45784),moduleType:"trace",name:"bar",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},39324:function(O){O.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}},37156:function(O,S,e){var v=e(24040),x=e(54460),t=e(3400),b=e(39324),g=e(31508).validateCornerradius;O.exports=function(c,s,n){function i(y,m){return t.coerce(c,s,b,y,m)}for(var a=!1,r=!1,o=!1,l={},u=i("barmode"),h=0;h<n.length;h++){var f=n[h];if(v.traceIs(f,"bar")&&f.visible){if(a=!0,u==="group"){var T=f.xaxis+f.yaxis;l[T]&&(o=!0),l[T]=!0}f.visible&&f.type==="histogram"&&x.getFromId({_fullLayout:s},f[f.orientation==="v"?"xaxis":"yaxis"]).type!=="category"&&(r=!0)}}if(a){u!=="overlay"&&i("barnorm"),i("bargap",r&&!o?0:.2),i("bargroupgap");var d=i("barcornerradius");s.barcornerradius=g(d)}else delete s.barmode}},98184:function(O,S,e){var v=e(33428),x=e(38248),t=e(3400),b=e(72736),g=e(76308),c=e(43616),s=e(24040),n=e(54460).tickText,i=e(82744),a=i.recordMinTextSize,r=i.clearMinTextSize,o=e(60100),l=e(60444),u=e(78048),h=e(20832),f=h.text,T=h.textposition,d=e(10624).appendArrayPointValue,y=u.TEXTPAD;function m(D){return D.id}function w(D){if(D.ids)return m}function _(D){return(D>0)-(D<0)}function A(D,F){return D<F?1:-1}function p(D,F,q,z){var V;return!F.uniformtext.mode&&L(q)?(z&&(V=z()),D.transition().duration(q.duration).ease(q.easing).each("end",function(){V&&V()}).each("interrupt",function(){V&&V()})):D}function L(D){return D&&D.duration>0}function M(D,F,q,z,V){return!(D<0||F<0)&&(q<=D&&z<=F||q<=F&&z<=D||(V?D>=q*(F/z):F>=z*(D/q)))}function C(D){return D==="auto"?0:D}function R(D,F){var q=Math.PI/180*F,z=Math.abs(Math.sin(q)),V=Math.abs(Math.cos(q));return{x:D.width*V+D.height*z,y:D.width*z+D.height*V}}function I(D,F,q,z,V,X){var j=!!X.isHorizontal,H=!!X.constrained,G=X.angle||0,ie=X.anchor,re=ie==="end",te=ie==="start",K=((X.leftToRight||0)+1)/2,J=1-K,$=X.hasB,ae=X.r,ue=X.overhead,ce=V.width,de=V.height,pe=Math.abs(F-D),me=Math.abs(z-q),be=pe>2*y&&me>2*y?y:0;pe-=2*be,me-=2*be;var we=C(G);G!=="auto"||ce<=pe&&de<=me||!(ce>pe||de>me)||(ce>me||de>pe)&&ce<de==pe<me||(we+=90);var Te,Le,Ie=R(V,we);if(ae&&ae-ue>y){var _e=function(Be,xe,Me,Ce,Ne,Re,He,Ye,Qe){var lt,ut,xt,_t,mt=Math.max(0,Math.abs(xe-Be)-2*y),it=Math.max(0,Math.abs(Ce-Me)-2*y),nt=Re-y,Et=He?nt-Math.sqrt(nt*nt-(nt-He)*(nt-He)):nt,zt=Qe?2*nt:Ye?nt-He:2*Et,Ft=Qe?2*nt:Ye?2*Et:nt-He;return Ne.y/Ne.x>=it/(mt-zt)?_t=it/Ne.y:Ne.y/Ne.x<=(it-Ft)/mt?_t=mt/Ne.x:!Qe&&Ye?(lt=Ne.x*Ne.x+Ne.y*Ne.y/4,xt=(mt-nt)*(mt-nt)+(it/2-nt)*(it/2-nt)-nt*nt,_t=(-(ut=-2*Ne.x*(mt-nt)-Ne.y*(it/2-nt))+Math.sqrt(ut*ut-4*lt*xt))/(2*lt)):Qe?(lt=(Ne.x*Ne.x+Ne.y*Ne.y)/4,xt=(mt/2-nt)*(mt/2-nt)+(it/2-nt)*(it/2-nt)-nt*nt,_t=(-(ut=-Ne.x*(mt/2-nt)-Ne.y*(it/2-nt))+Math.sqrt(ut*ut-4*lt*xt))/(2*lt)):(lt=Ne.x*Ne.x/4+Ne.y*Ne.y,xt=(mt/2-nt)*(mt/2-nt)+(it-nt)*(it-nt)-nt*nt,_t=(-(ut=-Ne.x*(mt/2-nt)-2*Ne.y*(it-nt))+Math.sqrt(ut*ut-4*lt*xt))/(2*lt)),{scale:_t=Math.min(1,_t),pad:Ye?Math.max(0,nt-Math.sqrt(Math.max(0,nt*nt-(nt-(it-Ne.y*_t)/2)*(nt-(it-Ne.y*_t)/2)))-He):Math.max(0,nt-Math.sqrt(Math.max(0,nt*nt-(nt-(mt-Ne.x*_t)/2)*(nt-(mt-Ne.x*_t)/2)))-He)}}(D,F,q,z,Ie,ae,ue,j,$);Te=_e.scale,Le=_e.pad}else Te=1,H&&(Te=Math.min(1,pe/Ie.x,me/Ie.y)),Le=0;var fe=V.left*J+V.right*K,le=(V.top+V.bottom)/2,ye=(D+y)*J+(F-y)*K,Oe=(q+z)/2,Ae=0,Se=0;if(te||re){var Pe=(j?Ie.x:Ie.y)/2;ae&&(re||$)&&(be+=Le);var Fe=j?A(D,F):A(q,z);j?te?(ye=D+Fe*be,Ae=-Fe*Pe):(ye=F-Fe*be,Ae=Fe*Pe):te?(Oe=q+Fe*be,Se=-Fe*Pe):(Oe=z-Fe*be,Se=Fe*Pe)}return{textX:fe,textY:le,targetX:ye,targetY:Oe,anchorX:Ae,anchorY:Se,scale:Te,rotate:we}}O.exports={plot:function(D,F,q,z,V,X){var j=F.xaxis,H=F.yaxis,G=D._fullLayout,ie=D._context.staticPlot;V||(V={mode:G.barmode,norm:G.barmode,gap:G.bargap,groupgap:G.bargroupgap},r("bar",G));var re=t.makeTraceGroups(z,q,"trace bars").each(function(te){var K=v.select(this),J=te[0].trace,$=te[0].t,ae=J.type==="waterfall",ue=J.type==="funnel",ce=J.type==="histogram",de=J.type==="bar",pe=de||ue,me=0;ae&&J.connector.visible&&J.connector.mode==="between"&&(me=J.connector.line.width/2);var be=J.orientation==="h",we=L(V),Te=t.ensureSingle(K,"g","points"),Le=w(J),Ie=Te.selectAll("g.point").data(t.identity,Le);Ie.enter().append("g").classed("point",!0),Ie.exit().remove(),Ie.each(function(fe,le){var ye,Oe,Ae=v.select(this),Se=function(ot,Ue,Ve,st){var Xe=[],gt=[],yt=st?Ue:Ve,bt=st?Ve:Ue;return Xe[0]=yt.c2p(ot.s0,!0),gt[0]=bt.c2p(ot.p0,!0),Xe[1]=yt.c2p(ot.s1,!0),gt[1]=bt.c2p(ot.p1,!0),st?[Xe,gt]:[gt,Xe]}(fe,j,H,be),Pe=Se[0][0],Fe=Se[0][1],Be=Se[1][0],xe=Se[1][1],Me=(be?Fe-Pe:xe-Be)==0;if(Me&&pe&&l.getLineWidth(J,fe)&&(Me=!1),Me||(Me=!(x(Pe)&&x(Fe)&&x(Be)&&x(xe))),fe.isBlank=Me,Me&&(be?Fe=Pe:xe=Be),me&&!Me&&(be?(Pe-=A(Pe,Fe)*me,Fe+=A(Pe,Fe)*me):(Be-=A(Be,xe)*me,xe+=A(Be,xe)*me)),J.type==="waterfall"){if(!Me){var Ce=J[fe.dir].marker;ye=Ce.line.width,Oe=Ce.color}}else ye=l.getLineWidth(J,fe),Oe=fe.mc||J.marker.color;function Ne(ot){var Ue=v.round(ye/2%1,2);return V.gap===0&&V.groupgap===0?v.round(Math.round(ot)-Ue,2):ot}var Re=g.opacity(Oe)<1||ye>.01?Ne:function(ot,Ue,Ve){return Ve&&ot===Ue?ot:Math.abs(ot-Ue)>=2?Ne(ot):ot>Ue?Math.ceil(ot):Math.floor(ot)};D._context.staticPlot||(Pe=Re(Pe,Fe,be),Fe=Re(Fe,Pe,be),Be=Re(Be,xe,!be),xe=Re(xe,Be,!be));var He,Ye=be?j.c2p:H.c2p;He=fe.s0>0?fe._sMax:fe.s0<0?fe._sMin:fe.s1>0?fe._sMax:fe._sMin;var Qe,lt,ut=de||ce?function(ot,Ue){if(!ot)return 0;var Ve,st=Math.abs(be?xe-Be:Fe-Pe),Xe=Math.abs(be?Fe-Pe:xe-Be),gt=Re(Math.abs(Ye(He,!0)-Ye(0,!0))),yt=fe.hasB?Math.min(st/2,Xe/2):Math.min(st/2,gt);return Ve=Ue==="%"?st*(Math.min(50,ot)/100):ot,Re(Math.max(Math.min(Ve,yt),0))}($.cornerradiusvalue,$.cornerradiusform):0,xt="M"+Pe+","+Be+"V"+xe+"H"+Fe+"V"+Be+"Z",_t=0;if(ut&&fe.s){var mt=_(fe.s0)===0||_(fe.s)===_(fe.s0)?fe.s1:fe.s0;if((_t=Re(fe.hasB?0:Math.abs(Ye(He,!0)-Ye(mt,!0))))<ut){var it=A(Pe,Fe),nt=A(Be,xe),Et=it===-nt?1:0;if(be)if(fe.hasB)Qe="M"+(Pe+ut*it)+","+Be+"A "+ut+","+ut+" 0 0 "+Et+" "+Pe+","+(Be+ut*nt)+"V"+(xe-ut*nt)+"A "+ut+","+ut+" 0 0 "+Et+" "+(Pe+ut*it)+","+xe+"H"+(Fe-ut*it)+"A "+ut+","+ut+" 0 0 "+Et+" "+Fe+","+(xe-ut*nt)+"V"+(Be+ut*nt)+"A "+ut+","+ut+" 0 0 "+Et+" "+(Fe-ut*it)+","+Be+"Z";else{var zt=(lt=Math.abs(Fe-Pe)+_t)<ut?ut-Math.sqrt(lt*(2*ut-lt)):0,Ft=_t>0?Math.sqrt(_t*(2*ut-_t)):0,Pt=it>0?Math.max:Math.min;Qe="M"+Pe+","+Be+"V"+(xe-zt*nt)+"H"+Pt(Fe-(ut-_t)*it,Pe)+"A "+ut+","+ut+" 0 0 "+Et+" "+Fe+","+(xe-ut*nt-Ft)+"V"+(Be+ut*nt+Ft)+"A "+ut+","+ut+" 0 0 "+Et+" "+Pt(Fe-(ut-_t)*it,Pe)+","+(Be+zt*nt)+"Z"}else if(fe.hasB)Qe="M"+(Pe+ut*it)+","+Be+"A "+ut+","+ut+" 0 0 "+Et+" "+Pe+","+(Be+ut*nt)+"V"+(xe-ut*nt)+"A "+ut+","+ut+" 0 0 "+Et+" "+(Pe+ut*it)+","+xe+"H"+(Fe-ut*it)+"A "+ut+","+ut+" 0 0 "+Et+" "+Fe+","+(xe-ut*nt)+"V"+(Be+ut*nt)+"A "+ut+","+ut+" 0 0 "+Et+" "+(Fe-ut*it)+","+Be+"Z";else{var Ze=(lt=Math.abs(xe-Be)+_t)<ut?ut-Math.sqrt(lt*(2*ut-lt)):0,Je=_t>0?Math.sqrt(_t*(2*ut-_t)):0,qe=nt>0?Math.max:Math.min;Qe="M"+(Pe+Ze*it)+","+Be+"V"+qe(xe-(ut-_t)*nt,Be)+"A "+ut+","+ut+" 0 0 "+Et+" "+(Pe+ut*it-Je)+","+xe+"H"+(Fe-ut*it+Je)+"A "+ut+","+ut+" 0 0 "+Et+" "+(Fe-Ze*it)+","+qe(xe-(ut-_t)*nt,Be)+"V"+Be+"Z"}}else Qe=xt}else Qe=xt;var Ke=p(t.ensureSingle(Ae,"path"),G,V,X);if(Ke.style("vector-effect",ie?"none":"non-scaling-stroke").attr("d",isNaN((Fe-Pe)*(xe-Be))||Me&&D._context.staticPlot?"M0,0Z":Qe).call(c.setClipUrl,F.layerClipId,D),!G.uniformtext.mode&&we){var ft=c.makePointStyleFns(J);c.singlePointStyle(fe,Ke,J,ft,D)}(function(ot,Ue,Ve,st,Xe,gt,yt,bt,dt,Lt,wt,Ct,Rt){var Dt,Nt=Ue.xaxis,Xt=Ue.yaxis,un=ot._fullLayout;function qt(xr,Qt,xn){return t.ensureSingle(xr,"text").text(Qt).attr({class:"bartext bartext-"+Dt,"text-anchor":"middle","data-notex":1}).call(c.font,xn).call(b.convertToTspans,ot)}var Kt=st[0].trace,Ut=Kt.orientation==="h",Rn=function(xr,Qt,xn,At,Wt){var en,dn=Qt[0].trace;return en=dn.texttemplate?function(gn,_n,on,Yt,Zt){var sn=_n[0].trace,hn=t.castOption(sn,on,"texttemplate");if(!hn)return"";var Sn,Cn,Un,qn,tr=sn.type==="histogram",Yn=sn.type==="waterfall",sr=sn.type==="funnel",ar=sn.orientation==="h";function er($r){return n(qn,qn.c2l($r),!0).text}ar?(Sn="y",Cn=Zt,Un="x",qn=Yt):(Sn="x",Cn=Yt,Un="y",qn=Zt);var mr,Mr=_n[on],br={};br.label=Mr.p,br.labelLabel=br[Sn+"Label"]=(mr=Mr.p,n(Cn,Cn.c2l(mr),!0).text);var ur=t.castOption(sn,Mr.i,"text");(ur===0||ur)&&(br.text=ur),br.value=Mr.s,br.valueLabel=br[Un+"Label"]=er(Mr.s);var kr={};d(kr,sn,Mr.i),(tr||kr.x===void 0)&&(kr.x=ar?br.value:br.label),(tr||kr.y===void 0)&&(kr.y=ar?br.label:br.value),(tr||kr.xLabel===void 0)&&(kr.xLabel=ar?br.valueLabel:br.labelLabel),(tr||kr.yLabel===void 0)&&(kr.yLabel=ar?br.labelLabel:br.valueLabel),Yn&&(br.delta=+Mr.rawS||Mr.s,br.deltaLabel=er(br.delta),br.final=Mr.v,br.finalLabel=er(br.final),br.initial=br.final-br.delta,br.initialLabel=er(br.initial)),sr&&(br.value=Mr.s,br.valueLabel=er(br.value),br.percentInitial=Mr.begR,br.percentInitialLabel=t.formatPercent(Mr.begR),br.percentPrevious=Mr.difR,br.percentPreviousLabel=t.formatPercent(Mr.difR),br.percentTotal=Mr.sumR,br.percenTotalLabel=t.formatPercent(Mr.sumR));var Er=t.castOption(sn,Mr.i,"customdata");return Er&&(br.customdata=Er),t.texttemplateString(hn,br,gn._d3locale,kr,br,sn._meta||{})}(xr,Qt,xn,At,Wt):dn.textinfo?function(gn,_n,on,Yt){var Zt=gn[0].trace,sn=Zt.orientation==="h",hn=Zt.type==="waterfall",Sn=Zt.type==="funnel";function Cn(Er){return n(sn?on:Yt,+Er,!0).text}var Un,qn,tr=Zt.textinfo,Yn=gn[_n],sr=tr.split("+"),ar=[],er=function(Er){return sr.indexOf(Er)!==-1};if(er("label")&&ar.push((qn=gn[_n].p,n(sn?Yt:on,qn,!0).text)),er("text")&&((Un=t.castOption(Zt,Yn.i,"text"))===0||Un)&&ar.push(Un),hn){var mr=+Yn.rawS||Yn.s,Mr=Yn.v,br=Mr-mr;er("initial")&&ar.push(Cn(br)),er("delta")&&ar.push(Cn(mr)),er("final")&&ar.push(Cn(Mr))}if(Sn){er("value")&&ar.push(Cn(Yn.s));var ur=0;er("percent initial")&&ur++,er("percent previous")&&ur++,er("percent total")&&ur++;var kr=ur>1;er("percent initial")&&(Un=t.formatPercent(Yn.begR),kr&&(Un+=" of initial"),ar.push(Un)),er("percent previous")&&(Un=t.formatPercent(Yn.difR),kr&&(Un+=" of previous"),ar.push(Un)),er("percent total")&&(Un=t.formatPercent(Yn.sumR),kr&&(Un+=" of total"),ar.push(Un))}return ar.join("<br>")}(Qt,xn,At,Wt):l.getValue(dn.text,xn),l.coerceString(f,en)}(un,st,Xe,Nt,Xt);Dt=function(xr,Qt){var xn=l.getValue(xr.textposition,Qt);return l.coerceEnumerated(T,xn)}(Kt,Xe);var An=Ct.mode==="stack"||Ct.mode==="relative",mn=st[Xe],tn=!An||mn._outmost,fn=mn.hasB,rn=Lt&&Lt-wt>y;if(Rn&&Dt!=="none"&&(!mn.isBlank&&gt!==yt&&bt!==dt||Dt!=="auto"&&Dt!=="inside")){var pn=un.font,wn=o.getBarColor(st[Xe],Kt),kn=o.getInsideTextFont(Kt,Xe,pn,wn),Pn=o.getOutsideTextFont(Kt,Xe,pn),On=Kt.insidetextanchor||"end",En=Ve.datum();Ut?Nt.type==="log"&&En.s0<=0&&(gt=Nt.range[0]<Nt.range[1]?0:Nt._length):Xt.type==="log"&&En.s0<=0&&(bt=Xt.range[0]<Xt.range[1]?Xt._length:0);var Vn,Bn,Wn,rr,ir,Kn=Math.abs(yt-gt),vr=Math.abs(dt-bt),nn=Kn-2*y,an=vr-2*y;if(Dt==="outside"&&(tn||mn.hasB||(Dt="inside")),Dt==="auto")if(tn){Dt="inside",Vn=qt(Ve,Rn,ir=t.ensureUniformFontSize(ot,kn)),Wn=(Bn=c.bBox(Vn.node())).width,rr=Bn.height;var In,yn=Wn>0&&rr>0;In=rn?fn?M(nn-2*Lt,an,Wn,rr,Ut)||M(nn,an-2*Lt,Wn,rr,Ut):Ut?M(nn-(Lt-wt),an,Wn,rr,Ut)||M(nn,an-2*(Lt-wt),Wn,rr,Ut):M(nn,an-(Lt-wt),Wn,rr,Ut)||M(nn-2*(Lt-wt),an,Wn,rr,Ut):M(nn,an,Wn,rr,Ut),yn&&In?Dt="inside":(Dt="outside",Vn.remove(),Vn=null)}else Dt="inside";if(!Vn){var Dn=(Vn=qt(Ve,Rn,ir=t.ensureUniformFontSize(ot,Dt==="outside"?Pn:kn))).attr("transform");if(Vn.attr("transform",""),Wn=(Bn=c.bBox(Vn.node())).width,rr=Bn.height,Vn.attr("transform",Dn),Wn<=0||rr<=0)return void Vn.remove()}var $n,Hn=Kt.textangle;$n=Dt==="outside"?function(xr,Qt,xn,At,Wt,en){var dn,gn=!!en.isHorizontal,_n=!!en.constrained,on=en.angle||0,Yt=Wt.width,Zt=Wt.height,sn=Math.abs(Qt-xr),hn=Math.abs(At-xn);dn=gn?hn>2*y?y:0:sn>2*y?y:0;var Sn=1;_n&&(Sn=gn?Math.min(1,hn/Zt):Math.min(1,sn/Yt));var Cn=C(on),Un=R(Wt,Cn),qn=(gn?Un.x:Un.y)/2,tr=(Wt.left+Wt.right)/2,Yn=(Wt.top+Wt.bottom)/2,sr=(xr+Qt)/2,ar=(xn+At)/2,er=0,mr=0,Mr=gn?A(Qt,xr):A(xn,At);return gn?(sr=Qt-Mr*dn,er=Mr*qn):(ar=At+Mr*dn,mr=-Mr*qn),{textX:tr,textY:Yn,targetX:sr,targetY:ar,anchorX:er,anchorY:mr,scale:Sn,rotate:Cn}}(gt,yt,bt,dt,Bn,{isHorizontal:Ut,constrained:Kt.constraintext==="both"||Kt.constraintext==="outside",angle:Hn}):I(gt,yt,bt,dt,Bn,{isHorizontal:Ut,constrained:Kt.constraintext==="both"||Kt.constraintext==="inside",angle:Hn,anchor:On,hasB:fn,r:Lt,overhead:wt}),$n.fontSize=ir.size,a(Kt.type==="histogram"?"bar":Kt.type,$n,un),mn.transform=$n;var Qn=p(Vn,un,Ct,Rt);t.setTransormAndDisplay(Qn,$n)}else Ve.select("text").remove()})(D,F,Ae,te,le,Pe,Fe,Be,xe,ut,_t,V,X),F.layerClipId&&c.hideOutsideRangePoint(fe,Ae.select("text"),j,H,J.xcalendar,J.ycalendar)});var _e=J.cliponaxis===!1;c.setClipUrl(K,_e?null:F.layerClipId,D)});s.getComponentMethod("errorbars","plot")(D,re,F,V)},toMoveInsideBar:I}},45784:function(O){function S(e,v,x,t,b){var g=v.c2p(t?e.s0:e.p0,!0),c=v.c2p(t?e.s1:e.p1,!0),s=x.c2p(t?e.p0:e.s0,!0),n=x.c2p(t?e.p1:e.s1,!0);return b?[(g+c)/2,(s+n)/2]:t?[c,(s+n)/2]:[(g+c)/2,n]}O.exports=function(e,v){var x,t=e.cd,b=e.xaxis,g=e.yaxis,c=t[0].trace,s=c.type==="funnel",n=c.orientation==="h",i=[];if(v===!1)for(x=0;x<t.length;x++)t[x].selected=0;else for(x=0;x<t.length;x++){var a=t[x],r="ct"in a?a.ct:S(a,b,g,n,s);v.contains(r,!1,x,e)?(i.push({pointNumber:x,x:b.c2d(a.x),y:g.c2d(a.y)}),a.selected=1):a.selected=0}return i}},72592:function(O,S,e){O.exports=x;var v=e(3400).distinctVals;function x(t,b){this.traces=t,this.sepNegVal=b.sepNegVal,this.overlapNoMerge=b.overlapNoMerge;for(var g=1/0,c=b.posAxis._id.charAt(0),s=[],n=0;n<t.length;n++){for(var i=t[n],a=0;a<i.length;a++){var r=i[a],o=r.p;o===void 0&&(o=r[c]),o!==void 0&&s.push(o)}i[0]&&i[0].width1&&(g=Math.min(i[0].width1,g))}this.positions=s;var l=v(s);this.distinctPositions=l.vals,l.vals.length===1&&g!==1/0?this.minDiff=g:this.minDiff=Math.min(l.minDiff,g);var u=(b.posAxis||{}).type;u!=="category"&&u!=="multicategory"||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}x.prototype.put=function(t,b){var g=this.getLabel(t,b),c=this.bins[g]||0;return this.bins[g]=c+b,c},x.prototype.get=function(t,b){var g=this.getLabel(t,b);return this.bins[g]||0},x.prototype.getLabel=function(t,b){return(b<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?t:Math.round(t/this.binWidth))}},60100:function(O,S,e){var v=e(33428),x=e(76308),t=e(43616),b=e(3400),g=e(24040),c=e(82744).resizeText,s=e(20832),n=s.textfont,i=s.insidetextfont,a=s.outsidetextfont,r=e(60444);function o(m,w,_){t.pointStyle(m.selectAll("path"),w,_),l(m,w,_)}function l(m,w,_){m.selectAll("text").each(function(A){var p=v.select(this),L=b.ensureUniformFontSize(_,u(p,A,w,_));t.font(p,L)})}function u(m,w,_,A){var p=A._fullLayout.font,L=_.textfont;if(m.classed("bartext-inside")){var M=y(w,_);L=f(_,w.i,p,M)}else m.classed("bartext-outside")&&(L=T(_,w.i,p));return L}function h(m,w,_){return d(n,m.textfont,w,_)}function f(m,w,_,A){var p=h(m,w,_);return(m._input.textfont===void 0||m._input.textfont.color===void 0||Array.isArray(m.textfont.color)&&m.textfont.color[w]===void 0)&&(p={color:x.contrast(A),family:p.family,size:p.size,weight:p.weight,style:p.style,variant:p.variant,textcase:p.textcase,lineposition:p.lineposition,shadow:p.shadow}),d(i,m.insidetextfont,w,p)}function T(m,w,_){var A=h(m,w,_);return d(a,m.outsidetextfont,w,A)}function d(m,w,_,A){w=w||{};var p=r.getValue(w.family,_),L=r.getValue(w.size,_),M=r.getValue(w.color,_),C=r.getValue(w.weight,_),R=r.getValue(w.style,_),I=r.getValue(w.variant,_),D=r.getValue(w.textcase,_),F=r.getValue(w.lineposition,_),q=r.getValue(w.shadow,_);return{family:r.coerceString(m.family,p,A.family),size:r.coerceNumber(m.size,L,A.size),color:r.coerceColor(m.color,M,A.color),weight:r.coerceString(m.weight,C,A.weight),style:r.coerceString(m.style,R,A.style),variant:r.coerceString(m.variant,I,A.variant),textcase:r.coerceString(m.variant,D,A.textcase),lineposition:r.coerceString(m.variant,F,A.lineposition),shadow:r.coerceString(m.variant,q,A.shadow)}}function y(m,w){return w.type==="waterfall"?w[m.dir].marker.color:m.mcc||m.mc||w.marker.color}O.exports={style:function(m){var w=v.select(m).selectAll('g[class^="barlayer"]').selectAll("g.trace");c(m,w,"bar");var _=w.size(),A=m._fullLayout;w.style("opacity",function(p){return p[0].trace.opacity}).each(function(p){(A.barmode==="stack"&&_>1||A.bargap===0&&A.bargroupgap===0&&!p[0].trace.marker.line.width)&&v.select(this).attr("shape-rendering","crispEdges")}),w.selectAll("g.points").each(function(p){o(v.select(this),p[0].trace,m)}),g.getComponentMethod("errorbars","style")(w)},styleTextPoints:l,styleOnSelect:function(m,w,_){var A=w[0].trace;A.selectedpoints?function(p,L,M){t.selectedPointStyle(p.selectAll("path"),L),function(C,R,I){C.each(function(D){var F,q=v.select(this);if(D.selected){F=b.ensureUniformFontSize(I,u(q,D,R,I));var z=R.selected.textfont&&R.selected.textfont.color;z&&(F.color=z),t.font(q,F)}else t.selectedTextStyle(q,R)})}(p.selectAll("text"),L,M)}(_,A,m):(o(_,A,m),g.getComponentMethod("errorbars","style")(_))},getInsideTextFont:f,getOutsideTextFont:T,getBarColor:y,resizeText:c}},55592:function(O,S,e){var v=e(76308),x=e(94288).hasColorscale,t=e(27260),b=e(3400).coercePattern;O.exports=function(g,c,s,n,i){var a=s("marker.color",n),r=x(g,"marker");r&&t(g,c,i,s,{prefix:"marker.",cLetter:"c"}),s("marker.line.color",v.defaultLine),x(g,"marker.line")&&t(g,c,i,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width"),s("marker.opacity"),b(s,"marker.pattern",a,r),s("selected.marker.color"),s("unselected.marker.color")}},82744:function(O,S,e){var v=e(33428),x=e(3400);function t(b){return"_"+b+"Text_minsize"}O.exports={recordMinTextSize:function(b,g,c){if(c.uniformtext.mode){var s=t(b),n=c.uniformtext.minsize,i=g.scale*g.fontSize;g.hide=i<n,c[s]=c[s]||1/0,g.hide||(c[s]=Math.min(c[s],Math.max(i,n)))}},clearMinTextSize:function(b,g){g[t(b)]=void 0},resizeText:function(b,g,c){var s=b._fullLayout,n=s["_"+c+"Text_minsize"];if(n){var i,a=s.uniformtext.mode==="hide";switch(c){case"funnelarea":case"pie":case"sunburst":i="g.slice";break;case"treemap":case"icicle":i="g.slice, g.pathbar";break;default:i="g.points > g.point"}g.selectAll(i).each(function(r){var o=r.transform;if(o){o.scale=a&&o.hide?0:n/o.fontSize;var l=v.select(this).select("text");x.setTransormAndDisplay(l,o)}})}}}},78100:function(O,S,e){var v,x=e(21776).Ks,t=e(92880).extendFlat,b=e(8319),g=e(20832);O.exports={r:b.r,theta:b.theta,r0:b.r0,dr:b.dr,theta0:b.theta0,dtheta:b.dtheta,thetaunit:b.thetaunit,base:t({},g.base,{}),offset:t({},g.offset,{}),width:t({},g.width,{}),text:t({},g.text,{}),hovertext:t({},g.hovertext,{}),marker:(v=t({},g.marker),delete v.cornerradius,v),hoverinfo:b.hoverinfo,hovertemplate:x(),selected:g.selected,unselected:g.unselected}},47056:function(O,S,e){var v=e(94288).hasColorscale,x=e(47128),t=e(3400).isArrayOrTypedArray,b=e(84664),g=e(96376).setGroupPositions,c=e(4500),s=e(24040).traceIs,n=e(3400).extendFlat;O.exports={calc:function(i,a){for(var r=i._fullLayout,o=a.subplot,l=r[o].radialaxis,u=r[o].angularaxis,h=l.makeCalcdata(a,"r"),f=u.makeCalcdata(a,"theta"),T=a._length,d=new Array(T),y=h,m=f,w=0;w<T;w++)d[w]={p:m[w],s:y[w]};function _(A){var p=a[A];p!==void 0&&(a["_"+A]=t(p)?u.makeCalcdata(a,A):u.d2c(p,a.thetaunit))}return u.type==="linear"&&(_("width"),_("offset")),v(a,"marker")&&x(i,a,{vals:a.marker.color,containerStr:"marker",cLetter:"c"}),v(a,"marker.line")&&x(i,a,{vals:a.marker.line.color,containerStr:"marker.line",cLetter:"c"}),b(d,a),c(d,a),d},crossTraceCalc:function(i,a,r){for(var o=i.calcdata,l=[],u=0;u<o.length;u++){var h=o[u],f=h[0].trace;f.visible===!0&&s(f,"bar")&&f.subplot===r&&l.push(h)}var T=n({},a.radialaxis,{_id:"x"}),d=a.angularaxis;g(i,d,T,l,{mode:a.barmode,norm:a.barnorm,gap:a.bargap,groupgap:a.bargroupgap})}}},70384:function(O,S,e){var v=e(3400),x=e(85968).handleRThetaDefaults,t=e(55592),b=e(78100);O.exports=function(g,c,s,n){function i(a,r){return v.coerce(g,c,b,a,r)}x(g,c,n,i)?(i("thetaunit"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate"),t(g,c,i,s,n),v.coerceSelectionMarkerOpacity(c,i)):c.visible=!1}},68896:function(O,S,e){var v=e(93024),x=e(3400),t=e(63400).getTraceColor,b=x.fillText,g=e(8504).makeHoverPointText,c=e(57384).isPtInsidePolygon;O.exports=function(s,n,i){var a=s.cd,r=a[0].trace,o=s.subplot,l=o.radialAxis,u=o.angularAxis,h=o.vangles,f=h?c:x.isPtInsideSector,T=s.maxHoverDistance,d=u._period||2*Math.PI,y=Math.abs(l.g2p(Math.sqrt(n*n+i*i))),m=Math.atan2(i,n);if(l.range[0]>l.range[1]&&(m+=Math.PI),v.getClosest(a,function(A){return f(y,m,[A.rp0,A.rp1],[A.thetag0,A.thetag1],h)?T+Math.min(1,Math.abs(A.thetag1-A.thetag0)/d)-1+(A.rp1-y)/(A.rp1-A.rp0)-1:1/0},s),s.index!==!1){var w=a[s.index];s.x0=s.x1=w.ct[0],s.y0=s.y1=w.ct[1];var _=x.extendFlat({},w,{r:w.s,theta:w.p});return b(w,r,s),g(_,r,o,s),s.hovertemplate=r.hovertemplate,s.color=t(r,w),s.xLabelVal=s.yLabelVal=void 0,w.s<0&&(s.idealAlign="left"),[s]}}},94456:function(O,S,e){O.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(40872),categories:["polar","bar","showLegend"],attributes:e(78100),layoutAttributes:e(9320),supplyDefaults:e(70384),supplyLayoutDefaults:e(89580),calc:e(47056).calc,crossTraceCalc:e(47056).crossTraceCalc,plot:e(42040),colorbar:e(5528),formatLabels:e(22852),style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(68896),selectPoints:e(45784),meta:{}}},9320:function(O){O.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},89580:function(O,S,e){var v=e(3400),x=e(9320);O.exports=function(t,b,g){var c,s={};function n(r,o){return v.coerce(t[c]||{},b[c],x,r,o)}for(var i=0;i<g.length;i++){var a=g[i];a.type==="barpolar"&&a.visible===!0&&(s[c=a.subplot]||(n("barmode"),n("bargap"),s[c]=1))}}},42040:function(O,S,e){var v=e(33428),x=e(38248),t=e(3400),b=e(43616),g=e(57384);O.exports=function(c,s,n){var i=c._context.staticPlot,a=s.xaxis,r=s.yaxis,o=s.radialAxis,l=s.angularAxis,u=function(f){var T=f.cxx,d=f.cyy;return f.vangles?function(y,m,w,_){var A,p;t.angleDelta(w,_)>0?(A=w,p=_):(A=_,p=w);var L=[g.findEnclosingVertexAngles(A,f.vangles)[0],(A+p)/2,g.findEnclosingVertexAngles(p,f.vangles)[1]];return g.pathPolygonAnnulus(y,m,A,p,L,T,d)}:function(y,m,w,_){return t.pathAnnulus(y,m,w,_,T,d)}}(s),h=s.layers.frontplot.select("g.barlayer");t.makeTraceGroups(h,n,"trace bars").each(function(){var f=v.select(this),T=t.ensureSingle(f,"g","points").selectAll("g.point").data(t.identity);T.enter().append("g").style("vector-effect",i?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),T.exit().remove(),T.each(function(d){var y,m=v.select(this),w=d.rp0=o.c2p(d.s0),_=d.rp1=o.c2p(d.s1),A=d.thetag0=l.c2g(d.p0),p=d.thetag1=l.c2g(d.p1);if(x(w)&&x(_)&&x(A)&&x(p)&&w!==_&&A!==p){var L=o.c2g(d.s1),M=(A+p)/2;d.ct=[a.c2p(L*Math.cos(M)),r.c2p(L*Math.sin(M))],y=u(w,_,A,p)}else y="M0,0Z";t.ensureSingle(m,"path").attr("d",y)}),b.setClipUrl(f,s._hasClipOnAxisFalse?s.clipIds.forTraces:null,c)})}},63188:function(O,S,e){var v=e(98304),x=e(52904),t=e(20832),b=e(22548),g=e(29736).axisHoverFormat,c=e(21776).Ks,s=e(92880).extendFlat,n=x.marker,i=n.line;O.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:x.xperiod,yperiod:x.yperiod,xperiod0:x.xperiod0,yperiod0:x.yperiod0,xperiodalignment:x.xperiodalignment,yperiodalignment:x.yperiodalignment,xhoverformat:g("x"),yhoverformat:g("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:s({},n.symbol,{arrayOk:!1,editType:"plot"}),opacity:s({},n.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:s({},n.angle,{arrayOk:!1,editType:"calc"}),size:s({},n.size,{arrayOk:!1,editType:"calc"}),color:s({},n.color,{arrayOk:!1,editType:"style"}),line:{color:s({},i.color,{arrayOk:!1,dflt:b.defaultLine,editType:"style"}),width:s({},i.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:v(),whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:t.offsetgroup,alignmentgroup:t.alignmentgroup,selected:{marker:x.selected.marker,editType:"style"},unselected:{marker:x.unselected.marker,editType:"style"},text:s({},x.text,{}),hovertext:s({},x.hovertext,{}),hovertemplate:c({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"},zorder:x.zorder}},62555:function(O,S,e){var v=e(38248),x=e(54460),t=e(1220),b=e(3400),g=e(39032).BADNUM,c=b._;O.exports=function(f,T){var d,y,m,w,_,A,p,L=f._fullLayout,M=x.getFromId(f,T.xaxis||"x"),C=x.getFromId(f,T.yaxis||"y"),R=[],I=T.type==="violin"?"_numViolins":"_numBoxes";T.orientation==="h"?(m=M,w="x",_=C,A="y",p=!!T.yperiodalignment):(m=C,w="y",_=M,A="x",p=!!T.xperiodalignment);var D,F,q,z,V,X,j=function(Ne,Re,He,Ye){var Qe,lt=Re+"0"in Ne;if(Re in Ne||lt&&"d"+Re in Ne){var ut=He.makeCalcdata(Ne,Re);return[t(Ne,He,Re,ut).vals,ut]}Qe=lt?Ne[Re+"0"]:"name"in Ne&&(He.type==="category"||v(Ne.name)&&["linear","log"].indexOf(He.type)!==-1||b.isDateTime(Ne.name)&&He.type==="date")?Ne.name:Ye;for(var xt=He.type==="multicategory"?He.r2c_just_indices(Qe):He.d2c(Qe,0,Ne[Re+"calendar"]),_t=Ne._length,mt=new Array(_t),it=0;it<_t;it++)mt[it]=xt;return[mt]}(T,A,_,L[I]),H=j[0],G=j[1],ie=b.distinctVals(H,_),re=ie.vals,te=ie.minDiff/2,K=(T.boxpoints||T.points)==="all"?b.identity:function(Ne){return Ne.v<D.lf||Ne.v>D.uf};if(T._hasPreCompStats){var J=T[w],$=function(Ne){return m.d2c((T[Ne]||[])[d])},ae=1/0,ue=-1/0;for(d=0;d<T._length;d++){var ce=H[d];if(v(ce)){if((D={}).pos=D[A]=ce,p&&G&&(D.orig_p=G[d]),D.q1=$("q1"),D.med=$("median"),D.q3=$("q3"),F=[],J&&b.isArrayOrTypedArray(J[d]))for(y=0;y<J[d].length;y++)(X=m.d2c(J[d][y]))!==g&&(n(V={v:X,i:[d,y]},T,[d,y]),F.push(V));if(D.pts=F.sort(i),z=(q=D[w]=F.map(a)).length,D.med!==g&&D.q1!==g&&D.q3!==g&&D.med>=D.q1&&D.q3>=D.med){var de=$("lowerfence");D.lf=de!==g&&de<=D.q1?de:r(D,q,z);var pe=$("upperfence");D.uf=pe!==g&&pe>=D.q3?pe:o(D,q,z);var me=$("mean");D.mean=me!==g?me:z?b.mean(q,z):(D.q1+D.q3)/2;var be=$("sd");D.sd=me!==g&&be>=0?be:z?b.stdev(q,z,D.mean):D.q3-D.q1,D.lo=l(D),D.uo=u(D);var we=$("notchspan");we=we!==g&&we>0?we:h(D,z),D.ln=D.med-we,D.un=D.med+we;var Te=D.lf,Le=D.uf;T.boxpoints&&q.length&&(Te=Math.min(Te,q[0]),Le=Math.max(Le,q[z-1])),T.notched&&(Te=Math.min(Te,D.ln),Le=Math.max(Le,D.un)),D.min=Te,D.max=Le}else{var Ie;b.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+D.q1,"median = "+D.med,"q3 = "+D.q3].join(`
`)),Ie=D.med!==g?D.med:D.q1!==g?D.q3!==g?(D.q1+D.q3)/2:D.q1:D.q3!==g?D.q3:0,D.med=Ie,D.q1=D.q3=Ie,D.lf=D.uf=Ie,D.mean=D.sd=Ie,D.ln=D.un=Ie,D.min=D.max=Ie}ae=Math.min(ae,D.min),ue=Math.max(ue,D.max),D.pts2=F.filter(K),R.push(D)}}T._extremes[m._id]=x.findExtremes(m,[ae,ue],{padded:!0})}else{var _e=m.makeCalcdata(T,w),fe=function(Ne,Re){for(var He=Ne.length,Ye=new Array(He+1),Qe=0;Qe<He;Qe++)Ye[Qe]=Ne[Qe]-Re;return Ye[He]=Ne[He-1]+Re,Ye}(re,te),le=re.length,ye=function(Ne){for(var Re=new Array(Ne),He=0;He<Ne;He++)Re[He]=[];return Re}(le);for(d=0;d<T._length;d++)if(X=_e[d],v(X)){var Oe=b.findBin(H[d],fe);Oe>=0&&Oe<le&&(n(V={v:X,i:d},T,d),ye[Oe].push(V))}var Ae=1/0,Se=-1/0,Pe=T.quartilemethod,Fe=Pe==="exclusive",Be=Pe==="inclusive";for(d=0;d<le;d++)if(ye[d].length>0){var xe,Me;(D={}).pos=D[A]=re[d],F=D.pts=ye[d].sort(i),z=(q=D[w]=F.map(a)).length,D.min=q[0],D.max=q[z-1],D.mean=b.mean(q,z),D.sd=b.stdev(q,z,D.mean)*T.sdmultiple,D.med=b.interp(q,.5),z%2&&(Fe||Be)?(Fe?(xe=q.slice(0,z/2),Me=q.slice(z/2+1)):Be&&(xe=q.slice(0,z/2+1),Me=q.slice(z/2)),D.q1=b.interp(xe,.5),D.q3=b.interp(Me,.5)):(D.q1=b.interp(q,.25),D.q3=b.interp(q,.75)),D.lf=r(D,q,z),D.uf=o(D,q,z),D.lo=l(D),D.uo=u(D);var Ce=h(D,z);D.ln=D.med-Ce,D.un=D.med+Ce,Ae=Math.min(Ae,D.ln),Se=Math.max(Se,D.un),D.pts2=F.filter(K),R.push(D)}T.notched&&b.isTypedArray(_e)&&(_e=Array.from(_e)),T._extremes[m._id]=x.findExtremes(m,T.notched?_e.concat([Ae,Se]):_e,{padded:!0})}return function(Ne,Re){if(b.isArrayOrTypedArray(Re.selectedpoints))for(var He=0;He<Ne.length;He++){for(var Ye=Ne[He].pts||[],Qe={},lt=0;lt<Ye.length;lt++)Qe[Ye[lt].i]=lt;b.tagSelected(Ye,Re,Qe)}}(R,T),R.length>0?(R[0].t={num:L[I],dPos:te,posLetter:A,valLetter:w,labels:{med:c(f,"median:"),min:c(f,"min:"),q1:c(f,"q1:"),q3:c(f,"q3:"),max:c(f,"max:"),mean:T.boxmean==="sd"||T.sizemode==="sd"?c(f,"mean  :").replace("",T.sdmultiple===1?"":T.sdmultiple+""):c(f,"mean:"),lf:c(f,"lower fence:"),uf:c(f,"upper fence:")}},L[I]++,R):[{t:{empty:!0}}]};var s={text:"tx",hovertext:"htx"};function n(f,T,d){for(var y in s)b.isArrayOrTypedArray(T[y])&&(Array.isArray(d)?b.isArrayOrTypedArray(T[y][d[0]])&&(f[s[y]]=T[y][d[0]][d[1]]):f[s[y]]=T[y][d])}function i(f,T){return f.v-T.v}function a(f){return f.v}function r(f,T,d){return d===0?f.q1:Math.min(f.q1,T[Math.min(b.findBin(2.5*f.q1-1.5*f.q3,T,!0)+1,d-1)])}function o(f,T,d){return d===0?f.q3:Math.max(f.q3,T[Math.max(b.findBin(2.5*f.q3-1.5*f.q1,T),0)])}function l(f){return 4*f.q1-3*f.q3}function u(f){return 4*f.q3-3*f.q1}function h(f,T){return T===0?0:1.57*(f.q3-f.q1)/Math.sqrt(T)}},96404:function(O,S,e){var v=e(54460),x=e(3400),t=e(71888).getAxisGroup,b=["v","h"];function g(c,s,n,i){var a,r,o,l=s.calcdata,u=s._fullLayout,h=i._id,f=h.charAt(0),T=[],d=0;for(a=0;a<n.length;a++)for(o=l[n[a]],r=0;r<o.length;r++)T.push(i.c2l(o[r].pos,!0)),d+=(o[r].pts2||[]).length;if(T.length){var y=x.distinctVals(T);i.type!=="category"&&i.type!=="multicategory"||(y.minDiff=1);var m=y.minDiff/2;v.minDtick(i,y.minDiff,y.vals[0],!0);var w=u[c==="violin"?"_numViolins":"_numBoxes"],_=u[c+"mode"]==="group"&&w>1,A=1-u[c+"gap"],p=1-u[c+"groupgap"];for(a=0;a<n.length;a++){var L,M,C,R,I,D,F=(o=l[n[a]])[0].trace,q=o[0].t,z=F.width,V=F.side;if(z)L=M=R=z/2,C=0;else if(L=m,_){var X=t(u,i._id)+F.orientation,j=(u._alignmentOpts[X]||{})[F.alignmentgroup]||{},H=Object.keys(j.offsetGroups||{}).length,G=H||w;M=L*A*p/G,C=2*L*(((H?F._offsetIndex:q.num)+.5)/G-.5)*A,R=L*A/G}else M=L*A*p,C=0,R=L;q.dPos=L,q.bPos=C,q.bdPos=M,q.wHover=R;var ie,re,te,K,J,$,ae=C+M,ue=!!z;if(V==="positive"?(I=L*(z?1:.5),ie=ae,D=ie=C):V==="negative"?(I=ie=C,D=L*(z?1:.5),re=ae):(I=D=L,ie=re=ae),(F.boxpoints||F.points)&&d>0){var ce=F.pointpos,de=F.jitter,pe=F.marker.size/2,me=0;ce+de>=0&&((me=ae*(ce+de))>I?(ue=!0,J=pe,te=me):me>ie&&(J=pe,te=I)),me<=I&&(te=I);var be=0;ce-de<=0&&((be=-ae*(ce-de))>D?(ue=!0,$=pe,K=be):be>re&&($=pe,K=D)),be<=D&&(K=D)}else te=I,K=D;var we=new Array(o.length);for(r=0;r<o.length;r++)we[r]=o[r].pos;F._extremes[h]=v.findExtremes(i,we,{padded:ue,vpadminus:K,vpadplus:te,vpadLinearized:!0,ppadminus:{x:$,y:J}[f],ppadplus:{x:J,y:$}[f]})}}}O.exports={crossTraceCalc:function(c,s){for(var n=c.calcdata,i=s.xaxis,a=s.yaxis,r=0;r<b.length;r++){for(var o=b[r],l=o==="h"?a:i,u=[],h=0;h<n.length;h++){var f=n[h],T=f[0].t,d=f[0].trace;d.visible!==!0||d.type!=="box"&&d.type!=="candlestick"||T.empty||(d.orientation||"v")!==o||d.xaxis!==i._id||d.yaxis!==a._id||u.push(h)}g("box",c,u,l)}},setPositionOffset:g}},90624:function(O,S,e){var v=e(3400),x=e(24040),t=e(76308),b=e(31147),g=e(20011),c=e(52976),s=e(63188);function n(a,r,o,l){function u(V){var X=0;return V&&V.length&&(X+=1,v.isArrayOrTypedArray(V[0])&&V[0].length&&(X+=1)),X}function h(V){return v.validate(a[V],s[V])}var f,T=o("y"),d=o("x");if(r.type==="box"){var y=o("q1"),m=o("median"),w=o("q3");r._hasPreCompStats=y&&y.length&&m&&m.length&&w&&w.length,f=Math.min(v.minRowLength(y),v.minRowLength(m),v.minRowLength(w))}var _,A,p=u(T),L=u(d),M=p&&v.minRowLength(T),C=L&&v.minRowLength(d),R=l.calendar,I={autotypenumbers:l.autotypenumbers};if(r._hasPreCompStats)switch(String(L)+String(p)){case"00":var D=h("x0")||h("dx");_=!h("y0")&&!h("dy")||D?"v":"h",A=f;break;case"10":_="v",A=Math.min(f,C);break;case"20":_="h",A=Math.min(f,d.length);break;case"01":_="h",A=Math.min(f,M);break;case"02":_="v",A=Math.min(f,T.length);break;case"12":_="v",A=Math.min(f,C,T.length);break;case"21":_="h",A=Math.min(f,d.length,M);break;case"11":A=0;break;case"22":var F,q=!1;for(F=0;F<d.length;F++)if(c(d[F],R,I)==="category"){q=!0;break}if(q)_="v",A=Math.min(f,C,T.length);else{for(F=0;F<T.length;F++)if(c(T[F],R,I)==="category"){q=!0;break}q?(_="h",A=Math.min(f,d.length,M)):(_="v",A=Math.min(f,C,T.length))}}else p>0?(_="v",A=L>0?Math.min(C,M):Math.min(M)):L>0?(_="h",A=Math.min(C)):A=0;if(A){r._length=A;var z=o("orientation",_);r._hasPreCompStats?z==="v"&&L===0?(o("x0",0),o("dx",1)):z==="h"&&p===0&&(o("y0",0),o("dy",1)):z==="v"&&L===0?o("x0"):z==="h"&&p===0&&o("y0"),x.getComponentMethod("calendars","handleTraceDefaults")(a,r,["x","y"],l)}else r.visible=!1}function i(a,r,o,l){var u=l.prefix,h=v.coerce2(a,r,s,"marker.outliercolor"),f=o("marker.line.outliercolor"),T="outliers";r._hasPreCompStats?T="all":(h||f)&&(T="suspectedoutliers");var d=o(u+"points",T);d?(o("jitter",d==="all"?.3:0),o("pointpos",d==="all"?-1.5:0),o("marker.symbol"),o("marker.opacity"),o("marker.size"),o("marker.angle"),o("marker.color",r.line.color),o("marker.line.color"),o("marker.line.width"),d==="suspectedoutliers"&&(o("marker.line.outliercolor",r.marker.color),o("marker.line.outlierwidth")),o("selected.marker.color"),o("unselected.marker.color"),o("selected.marker.size"),o("unselected.marker.size"),o("text"),o("hovertext")):delete r.marker;var y=o("hoveron");y!=="all"&&y.indexOf("points")===-1||o("hovertemplate"),v.coerceSelectionMarkerOpacity(r,o)}O.exports={supplyDefaults:function(a,r,o,l){function u(A,p){return v.coerce(a,r,s,A,p)}if(n(a,r,u,l),r.visible!==!1){b(a,r,l,u),u("xhoverformat"),u("yhoverformat");var h=r._hasPreCompStats;h&&(u("lowerfence"),u("upperfence")),u("line.color",(a.marker||{}).color||o),u("line.width"),u("fillcolor",t.addOpacity(r.line.color,.5));var f=!1;if(h){var T=u("mean"),d=u("sd");T&&T.length&&(f=!0,d&&d.length&&(f="sd"))}u("whiskerwidth");var y,m=u("sizemode");m==="quartiles"&&(y=u("boxmean",f)),u("showwhiskers",m==="quartiles"),m!=="sd"&&y!=="sd"||u("sdmultiple"),u("width"),u("quartilemethod");var w=!1;if(h){var _=u("notchspan");_&&_.length&&(w=!0)}else v.validate(a.notchwidth,s.notchwidth)&&(w=!0);u("notched",w)&&u("notchwidth"),i(a,r,u,{prefix:"box"}),u("zorder")}},crossTraceDefaults:function(a,r){var o,l;function u(T){return v.coerce(l._input,l,s,T)}for(var h=0;h<a.length;h++){var f=(l=a[h]).type;f!=="box"&&f!=="violin"||(o=l._input,r[f+"mode"]==="group"&&g(o,l,r,u))}},handleSampleDefaults:n,handlePointsDefaults:i}},10392:function(O){O.exports=function(S,e){return e.hoverOnBox&&(S.hoverOnBox=e.hoverOnBox),"xVal"in e&&(S.x=e.xVal),"yVal"in e&&(S.y=e.yVal),e.xa&&(S.xaxis=e.xa),e.ya&&(S.yaxis=e.ya),S}},27576:function(O,S,e){var v=e(54460),x=e(3400),t=e(93024),b=e(76308),g=x.fillText;function c(n,i,a,r){var o,l,u,h,f,T,d,y,m,w,_,A,p,L,M=n.cd,C=n.xa,R=n.ya,I=M[0].trace,D=M[0].t,F=I.type==="violin",q=D.bdPos,z=D.wHover,V=function(Ie){return u.c2l(Ie.pos)+D.bPos-u.c2l(T)};F&&I.side!=="both"?(I.side==="positive"&&(m=function(Ie){var _e=V(Ie);return t.inbox(_e,_e+z,w)},A=q,p=0),I.side==="negative"&&(m=function(Ie){var _e=V(Ie);return t.inbox(_e-z,_e,w)},A=0,p=q)):(m=function(Ie){var _e=V(Ie);return t.inbox(_e-z,_e+z,w)},A=p=q),L=F?function(Ie){return t.inbox(Ie.span[0]-f,Ie.span[1]-f,w)}:function(Ie){return t.inbox(Ie.min-f,Ie.max-f,w)},I.orientation==="h"?(f=i,T=a,d=L,y=m,o="y",u=R,l="x",h=C):(f=a,T=i,d=m,y=L,o="x",u=C,l="y",h=R);var X=Math.min(1,q/Math.abs(u.r2c(u.range[1])-u.r2c(u.range[0])));function j(Ie){return(d(Ie)+y(Ie))/2}w=n.maxHoverDistance-X,_=n.maxSpikeDistance-X;var H=t.getDistanceFunction(r,d,y,j);if(t.getClosest(M,H,n),n.index===!1)return[];var G=M[n.index],ie=I.line.color,re=(I.marker||{}).color;b.opacity(ie)&&I.line.width?n.color=ie:b.opacity(re)&&I.boxpoints?n.color=re:n.color=I.fillcolor,n[o+"0"]=u.c2p(G.pos+D.bPos-p,!0),n[o+"1"]=u.c2p(G.pos+D.bPos+A,!0),n[o+"LabelVal"]=G.orig_p!==void 0?G.orig_p:G.pos;var te=o+"Spike";n.spikeDistance=j(G)*_/w,n[te]=u.c2p(G.pos,!0);var K=I.boxmean||I.sizemode==="sd"||(I.meanline||{}).visible,J=I.boxpoints||I.points,$=J&&K?["max","uf","q3","med","mean","q1","lf","min"]:J&&!K?["max","uf","q3","med","q1","lf","min"]:!J&&K?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],ae=h.range[1]<h.range[0];I.orientation===(ae?"v":"h")&&$.reverse();for(var ue=n.spikeDistance,ce=n[te],de=[],pe=0;pe<$.length;pe++){var me=$[pe];if(me in G){var be=G[me],we=h.c2p(be,!0),Te=x.extendFlat({},n);Te.attr=me,Te[l+"0"]=Te[l+"1"]=we,Te[l+"LabelVal"]=be,Te[l+"Label"]=(D.labels?D.labels[me]+" ":"")+v.hoverLabelText(h,be,I[l+"hoverformat"]),Te.hoverOnBox=!0,me!=="mean"||!("sd"in G)||I.boxmean!=="sd"&&I.sizemode!=="sd"||(Te[l+"err"]=G.sd),Te.hovertemplate=!1,de.push(Te)}}n.name="",n.spikeDistance=void 0,n[te]=void 0;for(var Le=0;Le<de.length;Le++)de[Le].attr!=="med"?(de[Le].name="",de[Le].spikeDistance=void 0,de[Le][te]=void 0):(de[Le].spikeDistance=ue,de[Le][te]=ce);return de}function s(n,i,a){for(var r,o,l,u=n.cd,h=n.xa,f=n.ya,T=u[0].trace,d=h.c2p(i),y=f.c2p(a),m=t.quadrature(function(F){var q=Math.max(3,F.mrc||0);return Math.max(Math.abs(h.c2p(F.x)-d)-q,1-3/q)},function(F){var q=Math.max(3,F.mrc||0);return Math.max(Math.abs(f.c2p(F.y)-y)-q,1-3/q)}),w=!1,_=0;_<u.length;_++){o=u[_];for(var A=0;A<(o.pts||[]).length;A++){var p=m(l=o.pts[A]);p<=n.distance&&(n.distance=p,w=[_,A])}}if(!w)return!1;l=(o=u[w[0]]).pts[w[1]];var L=h.c2p(l.x,!0),M=f.c2p(l.y,!0),C=l.mrc||1;r=x.extendFlat({},n,{index:l.i,color:(T.marker||{}).color,name:T.name,x0:L-C,x1:L+C,y0:M-C,y1:M+C,spikeDistance:n.distance,hovertemplate:T.hovertemplate});var R,I=o.orig_p,D=I!==void 0?I:o.pos;return T.orientation==="h"?(R=f,r.xLabelVal=l.x,r.yLabelVal=D):(R=h,r.xLabelVal=D,r.yLabelVal=l.y),r[R._id.charAt(0)+"Spike"]=R.c2p(o.pos,!0),g(l,T,r),r}O.exports={hoverPoints:function(n,i,a,r){var o,l=n.cd[0].trace.hoveron,u=[];return l.indexOf("boxes")!==-1&&(u=u.concat(c(n,i,a,r))),l.indexOf("points")!==-1&&(o=s(n,i,a)),r==="closest"?o?[o]:u:(o&&u.push(o),u)},hoverOnBoxes:c,hoverOnPoints:s}},67244:function(O,S,e){O.exports={attributes:e(63188),layoutAttributes:e(16560),supplyDefaults:e(90624).supplyDefaults,crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(68832).supplyLayoutDefaults,calc:e(62555),crossTraceCalc:e(96404).crossTraceCalc,plot:e(18728).plot,style:e(25776).style,styleOnSelect:e(25776).styleOnSelect,hoverPoints:e(27576).hoverPoints,eventData:e(10392),selectPoints:e(8264),moduleType:"trace",name:"box",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},16560:function(O){O.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},68832:function(O,S,e){var v=e(24040),x=e(3400),t=e(16560);function b(g,c,s,n,i){for(var a=i+"Layout",r=!1,o=0;o<s.length;o++){var l=s[o];if(v.traceIs(l,a)){r=!0;break}}r&&(n(i+"mode"),n(i+"gap"),n(i+"groupgap"))}O.exports={supplyLayoutDefaults:function(g,c,s){b(0,0,s,function(n,i){return x.coerce(g,c,t,n,i)},"box")},_supply:b}},18728:function(O,S,e){var v=e(33428),x=e(3400),t=e(43616);function b(s,n,i,a,r){var o,l,u=i.orientation==="h",h=n.val,f=n.pos,T=!!f.rangebreaks,d=a.bPos,y=a.wdPos||0,m=a.bPosPxOffset||0,w=i.whiskerwidth||0,_=i.showwhiskers!==!1,A=i.notched||!1,p=A?1-2*i.notchwidth:1;Array.isArray(a.bdPos)?(o=a.bdPos[0],l=a.bdPos[1]):(o=a.bdPos,l=a.bdPos);var L=s.selectAll("path.box").data(i.type!=="violin"||i.box.visible?x.identity:[]);L.enter().append("path").style("vector-effect",r?"none":"non-scaling-stroke").attr("class","box"),L.exit().remove(),L.each(function(M){if(M.empty)return v.select(this).attr("d","M0,0Z");var C=f.c2l(M.pos+d,!0),R=f.l2p(C-o)+m,I=f.l2p(C+l)+m,D=T?(R+I)/2:f.l2p(C)+m,F=i.whiskerwidth,q=T?R*F+(1-F)*D:f.l2p(C-y)+m,z=T?I*F+(1-F)*D:f.l2p(C+y)+m,V=f.l2p(C-o*p)+m,X=f.l2p(C+l*p)+m,j=i.sizemode==="sd",H=h.c2p(j?M.mean-M.sd:M.q1,!0),G=j?h.c2p(M.mean+M.sd,!0):h.c2p(M.q3,!0),ie=x.constrain(j?h.c2p(M.mean,!0):h.c2p(M.med,!0),Math.min(H,G)+1,Math.max(H,G)-1),re=M.lf===void 0||i.boxpoints===!1||j,te=h.c2p(re?M.min:M.lf,!0),K=h.c2p(re?M.max:M.uf,!0),J=h.c2p(M.ln,!0),$=h.c2p(M.un,!0);u?v.select(this).attr("d","M"+ie+","+V+"V"+X+"M"+H+","+R+"V"+I+(A?"H"+J+"L"+ie+","+X+"L"+$+","+I:"")+"H"+G+"V"+R+(A?"H"+$+"L"+ie+","+V+"L"+J+","+R:"")+"Z"+(_?"M"+H+","+D+"H"+te+"M"+G+","+D+"H"+K+(w===0?"":"M"+te+","+q+"V"+z+"M"+K+","+q+"V"+z):"")):v.select(this).attr("d","M"+V+","+ie+"H"+X+"M"+R+","+H+"H"+I+(A?"V"+J+"L"+X+","+ie+"L"+I+","+$:"")+"V"+G+"H"+R+(A?"V"+$+"L"+V+","+ie+"L"+R+","+J:"")+"Z"+(_?"M"+D+","+H+"V"+te+"M"+D+","+G+"V"+K+(w===0?"":"M"+q+","+te+"H"+z+"M"+q+","+K+"H"+z):""))})}function g(s,n,i,a){var r=n.x,o=n.y,l=a.bdPos,u=a.bPos,h=i.boxpoints||i.points;x.seedPseudoRandom();var f=s.selectAll("g.points").data(h?function(d){return d.forEach(function(y){y.t=a,y.trace=i}),d}:[]);f.enter().append("g").attr("class","points"),f.exit().remove();var T=f.selectAll("path").data(function(d){var y,m,w=d.pts2,_=Math.max((d.max-d.min)/10,d.q3-d.q1),A=1e-9*_,p=.01*_,L=[],M=0;if(i.jitter){if(_===0)for(M=1,L=new Array(w.length),y=0;y<w.length;y++)L[y]=1;else for(y=0;y<w.length;y++){var C=Math.max(0,y-5),R=w[C].v,I=Math.min(w.length-1,y+5),D=w[I].v;h!=="all"&&(w[y].v<d.lf?D=Math.min(D,d.lf):R=Math.max(R,d.uf));var F=Math.sqrt(p*(I-C)/(D-R+A))||0;F=x.constrain(Math.abs(F),0,1),L.push(F),M=Math.max(F,M)}m=2*i.jitter/(M||1)}for(y=0;y<w.length;y++){var q=w[y],z=q.v,V=i.jitter?m*L[y]*(x.pseudoRandom()-.5):0,X=d.pos+u+l*(i.pointpos+V);i.orientation==="h"?(q.y=X,q.x=z):(q.x=X,q.y=z),h==="suspectedoutliers"&&z<d.uo&&z>d.lo&&(q.so=!0)}return w});T.enter().append("path").classed("point",!0),T.exit().remove(),T.call(t.translatePoints,r,o)}function c(s,n,i,a){var r,o,l=n.val,u=n.pos,h=!!u.rangebreaks,f=a.bPos,T=a.bPosPxOffset||0,d=i.boxmean||(i.meanline||{}).visible;Array.isArray(a.bdPos)?(r=a.bdPos[0],o=a.bdPos[1]):(r=a.bdPos,o=a.bdPos);var y=s.selectAll("path.mean").data(i.type==="box"&&i.boxmean||i.type==="violin"&&i.box.visible&&i.meanline.visible?x.identity:[]);y.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),y.exit().remove(),y.each(function(m){var w=u.c2l(m.pos+f,!0),_=u.l2p(w-r)+T,A=u.l2p(w+o)+T,p=h?(_+A)/2:u.l2p(w)+T,L=l.c2p(m.mean,!0),M=l.c2p(m.mean-m.sd,!0),C=l.c2p(m.mean+m.sd,!0);i.orientation==="h"?v.select(this).attr("d","M"+L+","+_+"V"+A+(d==="sd"?"m0,0L"+M+","+p+"L"+L+","+_+"L"+C+","+p+"Z":"")):v.select(this).attr("d","M"+_+","+L+"H"+A+(d==="sd"?"m0,0L"+p+","+M+"L"+_+","+L+"L"+p+","+C+"Z":""))})}O.exports={plot:function(s,n,i,a){var r=s._context.staticPlot,o=n.xaxis,l=n.yaxis;x.makeTraceGroups(a,i,"trace boxes").each(function(u){var h,f,T=v.select(this),d=u[0],y=d.t,m=d.trace;y.wdPos=y.bdPos*m.whiskerwidth,m.visible!==!0||y.empty?T.remove():(m.orientation==="h"?(h=l,f=o):(h=o,f=l),b(T,{pos:h,val:f},m,y,r),g(T,{x:o,y:l},m,y),c(T,{pos:h,val:f},m,y))})},plotBoxAndWhiskers:b,plotPoints:g,plotBoxMean:c}},8264:function(O){O.exports=function(S,e){var v,x,t=S.cd,b=S.xaxis,g=S.yaxis,c=[];if(e===!1)for(v=0;v<t.length;v++)for(x=0;x<(t[v].pts||[]).length;x++)t[v].pts[x].selected=0;else for(v=0;v<t.length;v++)for(x=0;x<(t[v].pts||[]).length;x++){var s=t[v].pts[x],n=b.c2p(s.x),i=g.c2p(s.y);e.contains([n,i],null,s.i,S)?(c.push({pointNumber:s.i,x:b.c2d(s.x),y:g.c2d(s.y)}),s.selected=1):s.selected=0}return c}},25776:function(O,S,e){var v=e(33428),x=e(76308),t=e(43616);O.exports={style:function(b,g,c){var s=c||v.select(b).selectAll("g.trace.boxes");s.style("opacity",function(n){return n[0].trace.opacity}),s.each(function(n){var i=v.select(this),a=n[0].trace,r=a.line.width;function o(h,f,T,d){h.style("stroke-width",f+"px").call(x.stroke,T).call(x.fill,d)}var l=i.selectAll("path.box");if(a.type==="candlestick")l.each(function(h){if(!h.empty){var f=v.select(this),T=a[h.dir];o(f,T.line.width,T.line.color,T.fillcolor),f.style("opacity",a.selectedpoints&&!h.selected?.3:1)}});else{o(l,r,a.line.color,a.fillcolor),i.selectAll("path.mean").style({"stroke-width":r,"stroke-dasharray":2*r+"px,"+r+"px"}).call(x.stroke,a.line.color);var u=i.selectAll("path.point");t.pointStyle(u,a,b)}})},styleOnSelect:function(b,g,c){var s=g[0].trace,n=c.selectAll("path.point");s.selectedpoints?t.selectedPointStyle(n,s):t.pointStyle(n,s,b)}}},64216:function(O,S,e){var v=e(3400).extendFlat,x=e(29736).axisHoverFormat,t=e(20279),b=e(63188);function g(c){return{line:{color:v({},b.line.color,{dflt:c}),width:b.line.width,editType:"style"},fillcolor:b.fillcolor,editType:"style"}}O.exports={xperiod:t.xperiod,xperiod0:t.xperiod0,xperiodalignment:t.xperiodalignment,xhoverformat:x("x"),yhoverformat:x("y"),x:t.x,open:t.open,high:t.high,low:t.low,close:t.close,line:{width:v({},b.line.width,{}),editType:"style"},increasing:g(t.increasing.line.color.dflt),decreasing:g(t.decreasing.line.color.dflt),text:t.text,hovertext:t.hovertext,whiskerwidth:v({},b.whiskerwidth,{dflt:0}),hoverlabel:t.hoverlabel,zorder:b.zorder}},46283:function(O,S,e){var v=e(3400),x=e(54460),t=e(1220),b=e(42812).calcCommon;function g(c,s,n,i){return{min:n,q1:Math.min(c,i),med:i,q3:Math.max(c,i),max:s}}O.exports=function(c,s){var n=c._fullLayout,i=x.getFromId(c,s.xaxis),a=x.getFromId(c,s.yaxis),r=i.makeCalcdata(s,"x"),o=t(s,i,"x",r).vals,l=b(c,s,r,o,a,g);return l.length?(v.extendFlat(l[0].t,{num:n._numBoxes,dPos:v.distinctVals(o).minDiff/2,posLetter:"x",valLetter:"y"}),n._numBoxes++,l):[{t:{empty:!0}}]}},64588:function(O,S,e){var v=e(3400),x=e(76308),t=e(52744),b=e(31147),g=e(64216);function c(s,n,i,a){var r=i(a+".line.color");i(a+".line.width",n.line.width),i(a+".fillcolor",x.addOpacity(r,.5))}O.exports=function(s,n,i,a){function r(o,l){return v.coerce(s,n,g,o,l)}t(s,n,r,a)?(b(s,n,a,r,{x:!0}),r("xhoverformat"),r("yhoverformat"),r("line.width"),c(0,n,r,"increasing"),c(0,n,r,"decreasing"),r("text"),r("hovertext"),r("whiskerwidth"),a._requestRangeslider[n.xaxis]=!0,r("zorder")):n.visible=!1}},61712:function(O,S,e){O.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(57952),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(64216),layoutAttributes:e(16560),supplyLayoutDefaults:e(68832).supplyLayoutDefaults,crossTraceCalc:e(96404).crossTraceCalc,supplyDefaults:e(64588),calc:e(46283),plot:e(18728).plot,layerName:"boxlayer",style:e(25776).style,hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},93504:function(O,S,e){var v=e(63856),x=e(31780);O.exports=function(t,b,g,c,s){c("a")||(c("da"),c("a0")),c("b")||(c("db"),c("b0")),function(n,i,a,r){["aaxis","baxis"].forEach(function(o){var l=o.charAt(0),u=n[o]||{},h=x.newContainer(i,o),f={noAutotickangles:!0,noTicklabelstep:!0,tickfont:"x",id:l+"axis",letter:l,font:i.font,name:o,data:n[l],calendar:i.calendar,dfltColor:r,bgColor:a.paper_bgcolor,autotypenumbersDflt:a.autotypenumbers,fullLayout:a};v(u,h,f),h._categories=h._categories||[],n[o]||u.type==="-"||(n[o]={type:u.type})})}(t,b,g,s)}},51676:function(O,S,e){var v=e(3400).isArrayOrTypedArray;function x(t,b){if(!v(t)||b>=10)return null;for(var g=1/0,c=-1/0,s=t.length,n=0;n<s;n++){var i=t[n];if(v(i)){var a=x(i,b+1);a&&(g=Math.min(a[0],g),c=Math.max(a[1],c))}else g=Math.min(i,g),c=Math.max(i,c)}return[g,c]}O.exports=function(t){return x(t,0)}},85720:function(O,S,e){var v=e(25376),x=e(98692),t=e(22548),b=v({editType:"calc"}),g=e(52904).zorder;b.family.dflt='"Open Sans", verdana, arial, sans-serif',b.size.dflt=12,b.color.dflt=t.defaultLine,O.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:x,baxis:x,font:b,color:{valType:"color",dflt:t.defaultLine,editType:"plot"},transforms:void 0,zorder:g}},77712:function(O,S,e){var v=e(3400).isArrayOrTypedArray;O.exports=function(x,t,b,g){var c,s,n,i,a,r,o,l,u,h,f,T,d,y=v(b)?"a":"b",m=(y==="a"?x.aaxis:x.baxis).smoothing,w=y==="a"?x.a2i:x.b2j,_=y==="a"?b:g,A=y==="a"?g:b,p=y==="a"?t.a.length:t.b.length,L=y==="a"?t.b.length:t.a.length,M=Math.floor(y==="a"?x.b2j(A):x.a2i(A)),C=y==="a"?function(ie){return x.evalxy([],ie,M)}:function(ie){return x.evalxy([],M,ie)};m&&(n=Math.max(0,Math.min(L-2,M)),i=M-n,s=y==="a"?function(ie,re){return x.dxydi([],ie,n,re,i)}:function(ie,re){return x.dxydj([],n,ie,i,re)});var R=w(_[0]),I=w(_[1]),D=R<I?1:-1,F=1e-8*(I-R),q=D>0?Math.floor:Math.ceil,z=D>0?Math.ceil:Math.floor,V=D>0?Math.min:Math.max,X=D>0?Math.max:Math.min,j=q(R+F),H=z(I-F),G=[[o=C(R)]];for(c=j;c*D<H*D;c+=D)a=[],f=X(R,c),d=(T=V(I,c+D))-f,r=Math.max(0,Math.min(p-2,Math.floor(.5*(f+T)))),l=C(T),m&&(u=s(r,f-r),h=s(r,T-r),a.push([o[0]+u[0]/3*d,o[1]+u[1]/3*d]),a.push([l[0]-h[0]/3*d,l[1]-h[1]/3*d])),a.push(l),G.push(a),o=l;return G}},98692:function(O,S,e){var v=e(25376),x=e(22548),t=e(94724),b=e(29736).descriptionWithDates,g=e(67824).overrideAll,c=e(98192).u,s=e(92880).extendFlat;O.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:v({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:t.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:s({},t.labelalias,{editType:"calc"}),tickfont:v({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:b("tick label")},tickformatstops:g(t.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:x.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:s({},c,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:s({},c,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:x.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:v({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},63856:function(O,S,e){var v=e(85720),x=e(76308).addOpacity,t=e(24040),b=e(3400),g=e(26332),c=e(95936),s=e(42568),n=e(22416),i=e(78344),a=e(52976);O.exports=function(r,o,l){var u=l.letter,h=l.font||{},f=v[u+"axis"];function T(D,F){return b.coerce(r,o,f,D,F)}function d(D,F){return b.coerce2(r,o,f,D,F)}l.name&&(o._name=l.name,o._id=l.name),T("autotypenumbers",l.autotypenumbersDflt);var y=T("type");y==="-"&&(l.data&&function(D,F){if(D.type==="-"){var q=D._id.charAt(0),z=D[q+"calendar"];D.type=a(F,z,{autotypenumbers:D.autotypenumbers})}}(o,l.data),o.type==="-"?o.type="linear":y=r.type=o.type),T("smoothing"),T("cheatertype"),T("showticklabels"),T("labelprefix",u+" = "),T("labelsuffix"),T("showtickprefix"),T("showticksuffix"),T("separatethousands"),T("tickformat"),T("exponentformat"),T("minexponent"),T("showexponent"),T("categoryorder"),T("tickmode"),T("tickvals"),T("ticktext"),T("tick0"),T("dtick"),o.tickmode==="array"&&(T("arraytick0"),T("arraydtick")),T("labelpadding"),o._hovertitle=u,y==="date"&&t.getComponentMethod("calendars","handleDefaults")(r,o,"calendar",l.calendar),i(o,l.fullLayout),o.c2p=b.identity;var m=T("color",l.dfltColor),w=m===r.color?m:h.color;T("title.text")&&(b.coerceFont(T,"title.font",h,{overrideDflt:{size:b.bigFont(h.size),color:w}}),T("title.offset")),T("tickangle"),T("autorange",!o.isValidRange(r.range))&&T("rangemode"),T("range"),o.cleanRange(),T("fixedrange"),g(r,o,T,y),s(r,o,T,y,l),c(r,o,T,y,l),n(r,o,T,{data:l.data,dataAttr:u});var _=d("gridcolor",x(m,.3)),A=d("gridwidth"),p=d("griddash"),L=T("showgrid");L||(delete o.gridcolor,delete o.gridwidth,delete o.griddash);var M=d("startlinecolor",m),C=d("startlinewidth",A);T("startline",o.showgrid||!!M||!!C)||(delete o.startlinecolor,delete o.startlinewidth);var R=d("endlinecolor",m),I=d("endlinewidth",A);return T("endline",o.showgrid||!!R||!!I)||(delete o.endlinecolor,delete o.endlinewidth),L?(T("minorgridcount"),T("minorgridwidth",A),T("minorgriddash",p),T("minorgridcolor",x(_,.06)),o.minorgridcount||(delete o.minorgridwidth,delete o.minorgriddash,delete o.minorgridcolor)):(delete o.gridcolor,delete o.gridwidth,delete o.griddash),o.showticklabels==="none"&&(delete o.tickfont,delete o.tickangle,delete o.showexponent,delete o.exponentformat,delete o.minexponent,delete o.tickformat,delete o.showticksuffix,delete o.showtickprefix),o.showticksuffix||delete o.ticksuffix,o.showtickprefix||delete o.tickprefix,T("tickmode"),o}},58744:function(O,S,e){var v=e(54460),x=e(3400).isArray1D,t=e(60776),b=e(51676),g=e(19216),c=e(14724),s=e(24944),n=e(26136),i=e(51512),a=e(2872),r=e(81e3);O.exports=function(o,l){var u=v.getFromId(o,l.xaxis),h=v.getFromId(o,l.yaxis),f=l.aaxis,T=l.baxis,d=l.x,y=l.y,m=[];d&&x(d)&&m.push("x"),y&&x(y)&&m.push("y"),m.length&&a(l,f,T,"a","b",m);var w=l._a=l._a||l.a,_=l._b=l._b||l.b;d=l._x||l.x,y=l._y||l.y;var A={};if(l._cheater){var p=f.cheatertype==="index"?w.length:w,L=T.cheatertype==="index"?_.length:_;d=t(p,L,l.cheaterslope)}l._x=d=n(d),l._y=y=n(y),i(d,w,_),i(y,w,_),r(l),l.setScale();var M=b(d),C=b(y),R=.5*(M[1]-M[0]),I=.5*(M[1]+M[0]),D=.5*(C[1]-C[0]),F=.5*(C[1]+C[0]),q=1.3;return M=[I-R*q,I+R*q],C=[F-D*q,F+D*q],l._extremes[u._id]=v.findExtremes(u,M,{padded:!0}),l._extremes[h._id]=v.findExtremes(h,C,{padded:!0}),g(l,"a","b"),g(l,"b","a"),c(l,f),c(l,T),A.clipsegments=s(l._xctrl,l._yctrl,f,T),A.x=d,A.y=y,A.a=w,A.b=_,[A]}},24944:function(O){O.exports=function(S,e,v,x){var t,b,g,c=[],s=!!v.smoothing,n=!!x.smoothing,i=S[0].length-1,a=S.length-1;for(t=0,b=[],g=[];t<=i;t++)b[t]=S[0][t],g[t]=e[0][t];for(c.push({x:b,y:g,bicubic:s}),t=0,b=[],g=[];t<=a;t++)b[t]=S[t][i],g[t]=e[t][i];for(c.push({x:b,y:g,bicubic:n}),t=i,b=[],g=[];t>=0;t--)b[i-t]=S[a][t],g[i-t]=e[a][t];for(c.push({x:b,y:g,bicubic:s}),t=a,b=[],g=[];t>=0;t--)b[a-t]=S[t][0],g[a-t]=e[t][0];return c.push({x:b,y:g,bicubic:n}),c}},19216:function(O,S,e){var v=e(54460),x=e(92880).extendFlat;O.exports=function(t,b,g){var c,s,n,i,a,r,o,l,u,h,f,T,d,y,m=t["_"+b],w=t[b+"axis"],_=w._gridlines=[],A=w._minorgridlines=[],p=w._boundarylines=[],L=t["_"+g],M=t[g+"axis"];w.tickmode==="array"&&(w.tickvals=m.slice());var C=t._xctrl,R=t._yctrl,I=C[0].length,D=C.length,F=t._a.length,q=t._b.length;v.prepTicks(w),w.tickmode==="array"&&delete w.tickvals;var z=w.smoothing?3:1;function V(j){var H,G,ie,re,te,K,J,$,ae,ue,ce,de,pe=[],me=[],be={};if(b==="b")for(G=t.b2j(j),ie=Math.floor(Math.max(0,Math.min(q-2,G))),re=G-ie,be.length=q,be.crossLength=F,be.xy=function(we){return t.evalxy([],we,G)},be.dxy=function(we,Te){return t.dxydi([],we,ie,Te,re)},H=0;H<F;H++)K=Math.min(F-2,H),J=H-K,$=t.evalxy([],H,G),M.smoothing&&H>0&&(ae=t.dxydi([],H-1,ie,0,re),pe.push(te[0]+ae[0]/3),me.push(te[1]+ae[1]/3),ue=t.dxydi([],H-1,ie,1,re),pe.push($[0]-ue[0]/3),me.push($[1]-ue[1]/3)),pe.push($[0]),me.push($[1]),te=$;else for(H=t.a2i(j),K=Math.floor(Math.max(0,Math.min(F-2,H))),J=H-K,be.length=F,be.crossLength=q,be.xy=function(we){return t.evalxy([],H,we)},be.dxy=function(we,Te){return t.dxydj([],K,we,J,Te)},G=0;G<q;G++)ie=Math.min(q-2,G),re=G-ie,$=t.evalxy([],H,G),M.smoothing&&G>0&&(ce=t.dxydj([],K,G-1,J,0),pe.push(te[0]+ce[0]/3),me.push(te[1]+ce[1]/3),de=t.dxydj([],K,G-1,J,1),pe.push($[0]-de[0]/3),me.push($[1]-de[1]/3)),pe.push($[0]),me.push($[1]),te=$;return be.axisLetter=b,be.axis=w,be.crossAxis=M,be.value=j,be.constvar=g,be.index=l,be.x=pe,be.y=me,be.smoothing=M.smoothing,be}function X(j){var H,G,ie,re,te,K=[],J=[],$={};if($.length=m.length,$.crossLength=L.length,b==="b")for(ie=Math.max(0,Math.min(q-2,j)),te=Math.min(1,Math.max(0,j-ie)),$.xy=function(ae){return t.evalxy([],ae,j)},$.dxy=function(ae,ue){return t.dxydi([],ae,ie,ue,te)},H=0;H<I;H++)K[H]=C[j*z][H],J[H]=R[j*z][H];else for(G=Math.max(0,Math.min(F-2,j)),re=Math.min(1,Math.max(0,j-G)),$.xy=function(ae){return t.evalxy([],j,ae)},$.dxy=function(ae,ue){return t.dxydj([],G,ae,re,ue)},H=0;H<D;H++)K[H]=C[H][j*z],J[H]=R[H][j*z];return $.axisLetter=b,$.axis=w,$.crossAxis=M,$.value=m[j],$.constvar=g,$.index=j,$.x=K,$.y=J,$.smoothing=M.smoothing,$}if(w.tickmode==="array"){for(i=5e-15,r=(a=[Math.floor((m.length-1-w.arraytick0)/w.arraydtick*(1+i)),Math.ceil(-w.arraytick0/w.arraydtick/(1+i))].sort(function(j,H){return j-H}))[0]-1,o=a[1]+1,l=r;l<o;l++)(s=w.arraytick0+w.arraydtick*l)<0||s>m.length-1||_.push(x(X(s),{color:w.gridcolor,width:w.gridwidth,dash:w.griddash}));for(l=r;l<o;l++)if(n=w.arraytick0+w.arraydtick*l,f=Math.min(n+w.arraydtick,m.length-1),!(n<0||n>m.length-1||f<0||f>m.length-1))for(T=m[n],d=m[f],c=0;c<w.minorgridcount;c++)(y=f-n)<=0||(h=T+(d-T)*(c+1)/(w.minorgridcount+1)*(w.arraydtick/y))<m[0]||h>m[m.length-1]||A.push(x(V(h),{color:w.minorgridcolor,width:w.minorgridwidth,dash:w.minorgriddash}));w.startline&&p.push(x(X(0),{color:w.startlinecolor,width:w.startlinewidth})),w.endline&&p.push(x(X(m.length-1),{color:w.endlinecolor,width:w.endlinewidth}))}else{for(i=5e-15,r=(a=[Math.floor((m[m.length-1]-w.tick0)/w.dtick*(1+i)),Math.ceil((m[0]-w.tick0)/w.dtick/(1+i))].sort(function(j,H){return j-H}))[0],o=a[1],l=r;l<=o;l++)u=w.tick0+w.dtick*l,_.push(x(V(u),{color:w.gridcolor,width:w.gridwidth,dash:w.griddash}));for(l=r-1;l<o+1;l++)for(u=w.tick0+w.dtick*l,c=0;c<w.minorgridcount;c++)(h=u+w.dtick*(c+1)/(w.minorgridcount+1))<m[0]||h>m[m.length-1]||A.push(x(V(h),{color:w.minorgridcolor,width:w.minorgridwidth,dash:w.minorgriddash}));w.startline&&p.push(x(V(m[0]),{color:w.startlinecolor,width:w.startlinewidth})),w.endline&&p.push(x(V(m[m.length-1]),{color:w.endlinecolor,width:w.endlinewidth}))}}},14724:function(O,S,e){var v=e(54460),x=e(92880).extendFlat;O.exports=function(t,b){var g,c,s,n=b._labels=[],i=b._gridlines;for(g=0;g<i.length;g++)s=i[g],["start","both"].indexOf(b.showticklabels)!==-1&&(c=v.tickText(b,s.value),x(c,{prefix:void 0,suffix:void 0,endAnchor:!0,xy:s.xy(0),dxy:s.dxy(0,0),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:g===0,isLast:g===i.length-1}),n.push(c)),["end","both"].indexOf(b.showticklabels)!==-1&&(c=v.tickText(b,s.value),x(c,{endAnchor:!1,xy:s.xy(s.crossLength-1),dxy:s.dxy(s.crossLength-2,1),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:g===0,isLast:g===i.length-1}),n.push(c))}},62284:function(O){O.exports=function(S,e,v,x){var t=S[0]-e[0],b=S[1]-e[1],g=v[0]-e[0],c=v[1]-e[1],s=Math.pow(t*t+b*b,.25),n=Math.pow(g*g+c*c,.25),i=(n*n*t-s*s*g)*x,a=(n*n*b-s*s*c)*x,r=n*(s+n)*3,o=s*(s+n)*3;return[[e[0]+(r&&i/r),e[1]+(r&&a/r)],[e[0]-(o&&i/o),e[1]-(o&&a/o)]]}},60776:function(O,S,e){var v=e(3400).isArrayOrTypedArray;O.exports=function(x,t,b){var g,c,s,n,i,a,r=[],o=v(x)?x.length:x,l=v(t)?t.length:t,u=v(x)?x:null,h=v(t)?t:null;u&&(s=(u.length-1)/(u[u.length-1]-u[0])/(o-1)),h&&(n=(h.length-1)/(h[h.length-1]-h[0])/(l-1));var f=1/0,T=-1/0;for(c=0;c<l;c++)for(r[c]=[],i=h?(h[c]-h[0])*n:c/(l-1),g=0;g<o;g++)a=(u?(u[g]-u[0])*s:g/(o-1))-i*b,f=Math.min(a,f),T=Math.max(a,T),r[c][g]=a;var d=1/(T-f),y=-f*d;for(c=0;c<l;c++)for(g=0;g<o;g++)r[c][g]=d*r[c][g]+y;return r}},30180:function(O,S,e){var v=e(62284),x=e(3400).ensureArray;function t(b,g,c){var s=-.5*c[0]+1.5*g[0],n=-.5*c[1]+1.5*g[1];return[(2*s+b[0])/3,(2*n+b[1])/3]}O.exports=function(b,g,c,s,n,i){var a,r,o,l,u,h,f,T,d,y,m=c[0].length,w=c.length,_=n?3*m-2:m,A=i?3*w-2:w;for(b=x(b,A),g=x(g,A),o=0;o<A;o++)b[o]=x(b[o],_),g[o]=x(g[o],_);for(r=0,l=0;r<w;r++,l+=i?3:1)for(u=b[l],h=g[l],f=c[r],T=s[r],a=0,o=0;a<m;a++,o+=n?3:1)u[o]=f[a],h[o]=T[a];if(n)for(r=0,l=0;r<w;r++,l+=i?3:1){for(a=1,o=3;a<m-1;a++,o+=3)d=v([c[r][a-1],s[r][a-1]],[c[r][a],s[r][a]],[c[r][a+1],s[r][a+1]],n),b[l][o-1]=d[0][0],g[l][o-1]=d[0][1],b[l][o+1]=d[1][0],g[l][o+1]=d[1][1];y=t([b[l][0],g[l][0]],[b[l][2],g[l][2]],[b[l][3],g[l][3]]),b[l][1]=y[0],g[l][1]=y[1],y=t([b[l][_-1],g[l][_-1]],[b[l][_-3],g[l][_-3]],[b[l][_-4],g[l][_-4]]),b[l][_-2]=y[0],g[l][_-2]=y[1]}if(i)for(o=0;o<_;o++){for(l=3;l<A-3;l+=3)d=v([b[l-3][o],g[l-3][o]],[b[l][o],g[l][o]],[b[l+3][o],g[l+3][o]],i),b[l-1][o]=d[0][0],g[l-1][o]=d[0][1],b[l+1][o]=d[1][0],g[l+1][o]=d[1][1];y=t([b[0][o],g[0][o]],[b[2][o],g[2][o]],[b[3][o],g[3][o]]),b[1][o]=y[0],g[1][o]=y[1],y=t([b[A-1][o],g[A-1][o]],[b[A-3][o],g[A-3][o]],[b[A-4][o],g[A-4][o]]),b[A-2][o]=y[0],g[A-2][o]=y[1]}if(n&&i)for(l=1;l<A;l+=(l+1)%3==0?2:1){for(o=3;o<_-3;o+=3)d=v([b[l][o-3],g[l][o-3]],[b[l][o],g[l][o]],[b[l][o+3],g[l][o+3]],n),b[l][o-1]=.5*(b[l][o-1]+d[0][0]),g[l][o-1]=.5*(g[l][o-1]+d[0][1]),b[l][o+1]=.5*(b[l][o+1]+d[1][0]),g[l][o+1]=.5*(g[l][o+1]+d[1][1]);y=t([b[l][0],g[l][0]],[b[l][2],g[l][2]],[b[l][3],g[l][3]]),b[l][1]=.5*(b[l][1]+y[0]),g[l][1]=.5*(g[l][1]+y[1]),y=t([b[l][_-1],g[l][_-1]],[b[l][_-3],g[l][_-3]],[b[l][_-4],g[l][_-4]]),b[l][_-2]=.5*(b[l][_-2]+y[0]),g[l][_-2]=.5*(g[l][_-2]+y[1])}return[b,g]}},24588:function(O){O.exports={RELATIVE_CULL_TOLERANCE:1e-6}},26435:function(O){O.exports=function(S,e,v){return e&&v?function(x,t,b,g,c){var s,n,i,a,r,o;x||(x=[]),t*=3,b*=3;var l=g*g,u=1-g,h=u*u,f=u*g*2,T=-3*h,d=3*(h-f),y=3*(f-l),m=3*l,w=c*c,_=w*c,A=1-c,p=A*A,L=p*A;for(o=0;o<S.length;o++)s=T*(r=S[o])[b][t]+d*r[b][t+1]+y*r[b][t+2]+m*r[b][t+3],n=T*r[b+1][t]+d*r[b+1][t+1]+y*r[b+1][t+2]+m*r[b+1][t+3],i=T*r[b+2][t]+d*r[b+2][t+1]+y*r[b+2][t+2]+m*r[b+2][t+3],a=T*r[b+3][t]+d*r[b+3][t+1]+y*r[b+3][t+2]+m*r[b+3][t+3],x[o]=L*s+3*(p*c*n+A*w*i)+_*a;return x}:e?function(x,t,b,g,c){var s,n,i,a;x||(x=[]),t*=3;var r=g*g,o=1-g,l=o*o,u=o*g*2,h=-3*l,f=3*(l-u),T=3*(u-r),d=3*r,y=1-c;for(i=0;i<S.length;i++)s=h*(a=S[i])[b][t]+f*a[b][t+1]+T*a[b][t+2]+d*a[b][t+3],n=h*a[b+1][t]+f*a[b+1][t+1]+T*a[b+1][t+2]+d*a[b+1][t+3],x[i]=y*s+c*n;return x}:v?function(x,t,b,g,c){var s,n,i,a,r,o;x||(x=[]),b*=3;var l=c*c,u=l*c,h=1-c,f=h*h,T=f*h;for(r=0;r<S.length;r++)s=(o=S[r])[b][t+1]-o[b][t],n=o[b+1][t+1]-o[b+1][t],i=o[b+2][t+1]-o[b+2][t],a=o[b+3][t+1]-o[b+3][t],x[r]=T*s+3*(f*c*n+h*l*i)+u*a;return x}:function(x,t,b,g,c){var s,n,i,a;x||(x=[]);var r=1-c;for(i=0;i<S.length;i++)s=(a=S[i])[b][t+1]-a[b][t],n=a[b+1][t+1]-a[b+1][t],x[i]=r*s+c*n;return x}}},24464:function(O){O.exports=function(S,e,v){return e&&v?function(x,t,b,g,c){var s,n,i,a,r,o;x||(x=[]),t*=3,b*=3;var l=g*g,u=l*g,h=1-g,f=h*h,T=f*h,d=c*c,y=1-c,m=y*y,w=y*c*2,_=-3*m,A=3*(m-w),p=3*(w-d),L=3*d;for(o=0;o<S.length;o++)s=_*(r=S[o])[b][t]+A*r[b+1][t]+p*r[b+2][t]+L*r[b+3][t],n=_*r[b][t+1]+A*r[b+1][t+1]+p*r[b+2][t+1]+L*r[b+3][t+1],i=_*r[b][t+2]+A*r[b+1][t+2]+p*r[b+2][t+2]+L*r[b+3][t+2],a=_*r[b][t+3]+A*r[b+1][t+3]+p*r[b+2][t+3]+L*r[b+3][t+3],x[o]=T*s+3*(f*g*n+h*l*i)+u*a;return x}:e?function(x,t,b,g,c){var s,n,i,a,r,o;x||(x=[]),t*=3;var l=c*c,u=l*c,h=1-c,f=h*h,T=f*h;for(r=0;r<S.length;r++)s=(o=S[r])[b+1][t]-o[b][t],n=o[b+1][t+1]-o[b][t+1],i=o[b+1][t+2]-o[b][t+2],a=o[b+1][t+3]-o[b][t+3],x[r]=T*s+3*(f*c*n+h*l*i)+u*a;return x}:v?function(x,t,b,g,c){var s,n,i,a;x||(x=[]),b*=3;var r=1-g,o=c*c,l=1-c,u=l*l,h=l*c*2,f=-3*u,T=3*(u-h),d=3*(h-o),y=3*o;for(i=0;i<S.length;i++)s=f*(a=S[i])[b][t]+T*a[b+1][t]+d*a[b+2][t]+y*a[b+3][t],n=f*a[b][t+1]+T*a[b+1][t+1]+d*a[b+2][t+1]+y*a[b+3][t+1],x[i]=r*s+g*n;return x}:function(x,t,b,g,c){var s,n,i,a;x||(x=[]);var r=1-g;for(i=0;i<S.length;i++)s=(a=S[i])[b+1][t]-a[b][t],n=a[b+1][t+1]-a[b][t+1],x[i]=r*s+g*n;return x}}},29056:function(O){O.exports=function(S,e,v,x,t){var b=e-2,g=v-2;return x&&t?function(c,s,n){var i,a,r,o,l,u;c||(c=[]);var h=Math.max(0,Math.min(Math.floor(s),b)),f=Math.max(0,Math.min(Math.floor(n),g)),T=Math.max(0,Math.min(1,s-h)),d=Math.max(0,Math.min(1,n-f));h*=3,f*=3;var y=T*T,m=y*T,w=1-T,_=w*w,A=_*w,p=d*d,L=p*d,M=1-d,C=M*M,R=C*M;for(u=0;u<S.length;u++)i=A*(l=S[u])[f][h]+3*(_*T*l[f][h+1]+w*y*l[f][h+2])+m*l[f][h+3],a=A*l[f+1][h]+3*(_*T*l[f+1][h+1]+w*y*l[f+1][h+2])+m*l[f+1][h+3],r=A*l[f+2][h]+3*(_*T*l[f+2][h+1]+w*y*l[f+2][h+2])+m*l[f+2][h+3],o=A*l[f+3][h]+3*(_*T*l[f+3][h+1]+w*y*l[f+3][h+2])+m*l[f+3][h+3],c[u]=R*i+3*(C*d*a+M*p*r)+L*o;return c}:x?function(c,s,n){c||(c=[]);var i,a,r,o,l,u,h=Math.max(0,Math.min(Math.floor(s),b)),f=Math.max(0,Math.min(Math.floor(n),g)),T=Math.max(0,Math.min(1,s-h)),d=Math.max(0,Math.min(1,n-f));h*=3;var y=T*T,m=y*T,w=1-T,_=w*w,A=_*w,p=1-d;for(l=0;l<S.length;l++)i=p*(u=S[l])[f][h]+d*u[f+1][h],a=p*u[f][h+1]+d*u[f+1][h+1],r=p*u[f][h+2]+d*u[f+1][h+1],o=p*u[f][h+3]+d*u[f+1][h+1],c[l]=A*i+3*(_*T*a+w*y*r)+m*o;return c}:t?function(c,s,n){c||(c=[]);var i,a,r,o,l,u,h=Math.max(0,Math.min(Math.floor(s),b)),f=Math.max(0,Math.min(Math.floor(n),g)),T=Math.max(0,Math.min(1,s-h)),d=Math.max(0,Math.min(1,n-f));f*=3;var y=d*d,m=y*d,w=1-d,_=w*w,A=_*w,p=1-T;for(l=0;l<S.length;l++)i=p*(u=S[l])[f][h]+T*u[f][h+1],a=p*u[f+1][h]+T*u[f+1][h+1],r=p*u[f+2][h]+T*u[f+2][h+1],o=p*u[f+3][h]+T*u[f+3][h+1],c[l]=A*i+3*(_*d*a+w*y*r)+m*o;return c}:function(c,s,n){c||(c=[]);var i,a,r,o,l=Math.max(0,Math.min(Math.floor(s),b)),u=Math.max(0,Math.min(Math.floor(n),g)),h=Math.max(0,Math.min(1,s-l)),f=Math.max(0,Math.min(1,n-u)),T=1-f,d=1-h;for(r=0;r<S.length;r++)i=d*(o=S[r])[u][l]+h*o[u][l+1],a=d*o[u+1][l]+h*o[u+1][l+1],c[r]=T*i+f*a;return c}}},38356:function(O,S,e){var v=e(3400),x=e(86411),t=e(93504),b=e(85720),g=e(22548);O.exports=function(c,s,n,i){function a(o,l){return v.coerce(c,s,b,o,l)}s._clipPathId="clip"+s.uid+"carpet";var r=a("color",g.defaultLine);v.coerceFont(a,"font",i.font),a("carpet"),t(c,s,i,a,r),s.a&&s.b?(s.a.length<3&&(s.aaxis.smoothing=0),s.b.length<3&&(s.baxis.smoothing=0),x(c,s,a)||(s.visible=!1),s._cheater&&a("cheaterslope"),a("zorder")):s.visible=!1}},95856:function(O,S,e){O.exports={attributes:e(85720),supplyDefaults:e(38356),plot:e(164),calc:e(58744),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},50948:function(O){O.exports=function(S,e){for(var v,x=S._fullData.length,t=0;t<x;t++){var b=S._fullData[t];if(b.index!==e.index&&b.type==="carpet"&&(v||(v=b),b.carpet===e.carpet))return b}return v}},53416:function(O){O.exports=function(S,e,v){if(S.length===0)return"";var x,t=[],b=v?3:1;for(x=0;x<S.length;x+=b)t.push(S[x]+","+e[x]),v&&x<S.length-b&&(t.push("C"),t.push([S[x+1]+","+e[x+1],S[x+2]+","+e[x+2]+" "].join(" ")));return t.join(v?"":"L")}},87072:function(O,S,e){var v=e(3400).isArrayOrTypedArray;O.exports=function(x,t,b){var g;for(v(x)?x.length>t.length&&(x=x.slice(0,t.length)):x=[],g=0;g<t.length;g++)x[g]=b(t[g]);return x}},15584:function(O){O.exports=function(S,e,v,x,t,b){var g=t[0]*S.dpdx(e),c=t[1]*S.dpdy(v),s=1,n=1;if(b){var i=Math.sqrt(t[0]*t[0]+t[1]*t[1]),a=Math.sqrt(b[0]*b[0]+b[1]*b[1]),r=(t[0]*b[0]+t[1]*b[1])/i/a;n=Math.max(0,r)}var o=180*Math.atan2(c,g)/Math.PI;return o<-90?(o+=180,s=-s):o>90&&(o-=180,s=-s),{angle:o,flip:s,p:S.c2p(x,e,v),offsetMultplier:n}}},164:function(O,S,e){var v=e(33428),x=e(43616),t=e(87072),b=e(53416),g=e(15584),c=e(72736),s=e(3400),n=s.strRotate,i=s.strTranslate,a=e(84284);function r(f,T,d,y,m,w,_){var A="const-"+m+"-lines",p=d.selectAll("."+A).data(w);p.enter().append("path").classed(A,!0).style("vector-effect",_?"none":"non-scaling-stroke"),p.each(function(L){var M=L,C=M.x,R=M.y,I=t([],C,f.c2p),D=t([],R,T.c2p),F="M"+b(I,D,M.smoothing);v.select(this).attr("d",F).style("stroke-width",M.width).style("stroke",M.color).style("stroke-dasharray",x.dashStyle(M.dash,M.width)).style("fill","none")}),p.exit().remove()}function o(f,T,d,y,m,w,_,A){var p=w.selectAll("text."+A).data(_);p.enter().append("text").classed(A,!0);var L=0,M={};return p.each(function(C,R){var I;if(C.axis.tickangle==="auto")I=g(y,T,d,C.xy,C.dxy);else{var D=(C.axis.tickangle+180)*Math.PI/180;I=g(y,T,d,C.xy,[Math.cos(D),Math.sin(D)])}R||(M={angle:I.angle,flip:I.flip});var F=(C.endAnchor?-1:1)*I.flip,q=v.select(this).attr({"text-anchor":F>0?"start":"end","data-notex":1}).call(x.font,C.font).text(C.text).call(c.convertToTspans,f),z=x.bBox(this);q.attr("transform",i(I.p[0],I.p[1])+n(I.angle)+i(C.axis.labelpadding*F,.3*z.height)),L=Math.max(L,z.width+C.axis.labelpadding)}),p.exit().remove(),M.maxExtent=L,M}O.exports=function(f,T,d,y){var m=f._context.staticPlot,w=T.xaxis,_=T.yaxis,A=f._fullLayout._clips;s.makeTraceGroups(y,d,"trace").each(function(p){var L=v.select(this),M=p[0],C=M.trace,R=C.aaxis,I=C.baxis,D=s.ensureSingle(L,"g","minorlayer"),F=s.ensureSingle(L,"g","majorlayer"),q=s.ensureSingle(L,"g","boundarylayer"),z=s.ensureSingle(L,"g","labellayer");L.style("opacity",C.opacity),r(w,_,F,0,"a",R._gridlines,!0),r(w,_,F,0,"b",I._gridlines,!0),r(w,_,D,0,"a",R._minorgridlines,!0),r(w,_,D,0,"b",I._minorgridlines,!0),r(w,_,q,0,"a-boundary",R._boundarylines,m),r(w,_,q,0,"b-boundary",I._boundarylines,m);var V=o(f,w,_,C,0,z,R._labels,"a-label"),X=o(f,w,_,C,0,z,I._labels,"b-label");(function(j,H,G,ie,re,te,K,J){var $,ae,ue,ce,de=s.aggNums(Math.min,null,G.a),pe=s.aggNums(Math.max,null,G.a),me=s.aggNums(Math.min,null,G.b),be=s.aggNums(Math.max,null,G.b);$=.5*(de+pe),ae=me,ue=G.ab2xy($,ae,!0),ce=G.dxyda_rough($,ae),K.angle===void 0&&s.extendFlat(K,g(G,re,te,ue,G.dxydb_rough($,ae))),h(j,H,G,0,ue,ce,G.aaxis,re,te,K,"a-title"),$=de,ae=.5*(me+be),ue=G.ab2xy($,ae,!0),ce=G.dxydb_rough($,ae),J.angle===void 0&&s.extendFlat(J,g(G,re,te,ue,G.dxyda_rough($,ae))),h(j,H,G,0,ue,ce,G.baxis,re,te,J,"b-title")})(f,z,C,0,w,_,V,X),function(j,H,G,ie,re){var te,K,J,$,ae=G.select("#"+j._clipPathId);ae.size()||(ae=G.append("clipPath").classed("carpetclip",!0));var ue=s.ensureSingle(ae,"path","carpetboundary"),ce=H.clipsegments,de=[];for($=0;$<ce.length;$++)te=ce[$],K=t([],te.x,ie.c2p),J=t([],te.y,re.c2p),de.push(b(K,J,te.bicubic));var pe="M"+de.join("L")+"Z";ae.attr("id",j._clipPathId),ue.attr("d",pe)}(C,M,A,w,_)})};var l=a.LINE_SPACING,u=(1-a.MID_SHIFT)/l+1;function h(f,T,d,y,m,w,_,A,p,L,M){var C=[];_.title.text&&C.push(_.title.text);var R=T.selectAll("text."+M).data(C),I=L.maxExtent;R.enter().append("text").classed(M,!0),R.each(function(){var D=g(d,A,p,m,w);["start","both"].indexOf(_.showticklabels)===-1&&(I=0);var F=_.title.font.size;I+=F+_.title.offset;var q=(L.angle+(L.flip<0?180:0)-D.angle+450)%360,z=q>90&&q<270,V=v.select(this);V.text(_.title.text).call(c.convertToTspans,f),z&&(I=(-c.lineCount(V)+u)*l*F-I),V.attr("transform",i(D.p[0],D.p[1])+n(D.angle)+i(0,I)).attr("text-anchor","middle").call(x.font,_.title.font)}),R.exit().remove()}},81e3:function(O,S,e){var v=e(24588),x=e(14952).findBin,t=e(30180),b=e(29056),g=e(26435),c=e(24464);O.exports=function(s){var n=s._a,i=s._b,a=n.length,r=i.length,o=s.aaxis,l=s.baxis,u=n[0],h=n[a-1],f=i[0],T=i[r-1],d=n[n.length-1]-n[0],y=i[i.length-1]-i[0],m=d*v.RELATIVE_CULL_TOLERANCE,w=y*v.RELATIVE_CULL_TOLERANCE;u-=m,h+=m,f-=w,T+=w,s.isVisible=function(_,A){return _>u&&_<h&&A>f&&A<T},s.isOccluded=function(_,A){return _<u||_>h||A<f||A>T},s.setScale=function(){var _=s._x,A=s._y,p=t(s._xctrl,s._yctrl,_,A,o.smoothing,l.smoothing);s._xctrl=p[0],s._yctrl=p[1],s.evalxy=b([s._xctrl,s._yctrl],a,r,o.smoothing,l.smoothing),s.dxydi=g([s._xctrl,s._yctrl],o.smoothing,l.smoothing),s.dxydj=c([s._xctrl,s._yctrl],o.smoothing,l.smoothing)},s.i2a=function(_){var A=Math.max(0,Math.floor(_[0]),a-2),p=_[0]-A;return(1-p)*n[A]+p*n[A+1]},s.j2b=function(_){var A=Math.max(0,Math.floor(_[1]),a-2),p=_[1]-A;return(1-p)*i[A]+p*i[A+1]},s.ij2ab=function(_){return[s.i2a(_[0]),s.j2b(_[1])]},s.a2i=function(_){var A=Math.max(0,Math.min(x(_,n),a-2)),p=n[A],L=n[A+1];return Math.max(0,Math.min(a-1,A+(_-p)/(L-p)))},s.b2j=function(_){var A=Math.max(0,Math.min(x(_,i),r-2)),p=i[A],L=i[A+1];return Math.max(0,Math.min(r-1,A+(_-p)/(L-p)))},s.ab2ij=function(_){return[s.a2i(_[0]),s.b2j(_[1])]},s.i2c=function(_,A){return s.evalxy([],_,A)},s.ab2xy=function(_,A,p){if(!p&&(_<n[0]||_>n[a-1]|A<i[0]||A>i[r-1]))return[!1,!1];var L=s.a2i(_),M=s.b2j(A),C=s.evalxy([],L,M);if(p){var R,I,D,F,q=0,z=0,V=[];_<n[0]?(R=0,I=0,q=(_-n[0])/(n[1]-n[0])):_>n[a-1]?(R=a-2,I=1,q=(_-n[a-1])/(n[a-1]-n[a-2])):I=L-(R=Math.max(0,Math.min(a-2,Math.floor(L)))),A<i[0]?(D=0,F=0,z=(A-i[0])/(i[1]-i[0])):A>i[r-1]?(D=r-2,F=1,z=(A-i[r-1])/(i[r-1]-i[r-2])):F=M-(D=Math.max(0,Math.min(r-2,Math.floor(M)))),q&&(s.dxydi(V,R,D,I,F),C[0]+=V[0]*q,C[1]+=V[1]*q),z&&(s.dxydj(V,R,D,I,F),C[0]+=V[0]*z,C[1]+=V[1]*z)}return C},s.c2p=function(_,A,p){return[A.c2p(_[0]),p.c2p(_[1])]},s.p2x=function(_,A,p){return[A.p2c(_[0]),p.p2c(_[1])]},s.dadi=function(_){var A=Math.max(0,Math.min(n.length-2,_));return n[A+1]-n[A]},s.dbdj=function(_){var A=Math.max(0,Math.min(i.length-2,_));return i[A+1]-i[A]},s.dxyda=function(_,A,p,L){var M=s.dxydi(null,_,A,p,L),C=s.dadi(_,p);return[M[0]/C,M[1]/C]},s.dxydb=function(_,A,p,L){var M=s.dxydj(null,_,A,p,L),C=s.dbdj(A,L);return[M[0]/C,M[1]/C]},s.dxyda_rough=function(_,A,p){var L=d*(p||.1),M=s.ab2xy(_+L,A,!0),C=s.ab2xy(_-L,A,!0);return[.5*(M[0]-C[0])/L,.5*(M[1]-C[1])/L]},s.dxydb_rough=function(_,A,p){var L=y*(p||.1),M=s.ab2xy(_,A+L,!0),C=s.ab2xy(_,A-L,!0);return[.5*(M[0]-C[0])/L,.5*(M[1]-C[1])/L]},s.dpdx=function(_){return _._m},s.dpdy=function(_){return _._m}}},51512:function(O,S,e){var v=e(3400);O.exports=function(x,t,b){var g,c,s,n=[],i=[],a=x[0].length,r=x.length;function o(j,H){var G,ie=0,re=0;return j>0&&(G=x[H][j-1])!==void 0&&(re++,ie+=G),j<a-1&&(G=x[H][j+1])!==void 0&&(re++,ie+=G),H>0&&(G=x[H-1][j])!==void 0&&(re++,ie+=G),H<r-1&&(G=x[H+1][j])!==void 0&&(re++,ie+=G),ie/Math.max(1,re)}var l,u,h,f,T,d,y,m,w,_,A,p=0;for(g=0;g<a;g++)for(c=0;c<r;c++)x[c][g]===void 0&&(n.push(g),i.push(c),x[c][g]=o(g,c)),p=Math.max(p,Math.abs(x[c][g]));if(!n.length)return x;var L=0,M=0,C=n.length;do{for(L=0,s=0;s<C;s++){g=n[s],c=i[s];var R,I,D,F,q,z,V=0,X=0;g===0?(D=t[q=Math.min(a-1,2)],F=t[1],R=x[c][q],X+=(I=x[c][1])+(I-R)*(t[0]-F)/(F-D),V++):g===a-1&&(D=t[q=Math.max(0,a-3)],F=t[a-2],R=x[c][q],X+=(I=x[c][a-2])+(I-R)*(t[a-1]-F)/(F-D),V++),(g===0||g===a-1)&&c>0&&c<r-1&&(l=b[c+1]-b[c],X+=((u=b[c]-b[c-1])*x[c+1][g]+l*x[c-1][g])/(u+l),V++),c===0?(D=b[z=Math.min(r-1,2)],F=b[1],R=x[z][g],X+=(I=x[1][g])+(I-R)*(b[0]-F)/(F-D),V++):c===r-1&&(D=b[z=Math.max(0,r-3)],F=b[r-2],R=x[z][g],X+=(I=x[r-2][g])+(I-R)*(b[r-1]-F)/(F-D),V++),(c===0||c===r-1)&&g>0&&g<a-1&&(l=t[g+1]-t[g],X+=((u=t[g]-t[g-1])*x[c][g+1]+l*x[c][g-1])/(u+l),V++),V?X/=V:(h=t[g+1]-t[g],f=t[g]-t[g-1],m=(T=b[c+1]-b[c])*(d=b[c]-b[c-1])*(T+d),X=((y=h*f*(h+f))*(d*x[c+1][g]+T*x[c-1][g])+m*(f*x[c][g+1]+h*x[c][g-1]))/(m*(f+h)+y*(d+T))),L+=(_=(w=X-x[c][g])/p)*_,A=V?0:.85,x[c][g]+=w*(1+A)}L=Math.sqrt(L)}while(M++<100&&L>1e-5);return v.log("Smoother converged to",L,"after",M,"iterations"),x}},86411:function(O,S,e){var v=e(3400).isArray1D;O.exports=function(x,t,b){var g=b("x"),c=g&&g.length,s=b("y"),n=s&&s.length;if(!c&&!n)return!1;if(t._cheater=!g,c&&!v(g)||n&&!v(s))t._length=null;else{var i=c?g.length:1/0;n&&(i=Math.min(i,s.length)),t.a&&t.a.length&&(i=Math.min(i,t.a.length)),t.b&&t.b.length&&(i=Math.min(i,t.b.length)),t._length=i}return!0}},83372:function(O,S,e){var v=e(21776).Ks,x=e(6096),t=e(49084),b=e(45464),g=e(22548).defaultLine,c=e(92880).extendFlat,s=x.marker.line;O.exports=c({locations:{valType:"data_array",editType:"calc"},locationmode:x.locationmode,z:{valType:"data_array",editType:"calc"},geojson:c({},x.geojson,{}),featureidkey:x.featureidkey,text:c({},x.text,{}),hovertext:c({},x.hovertext,{}),marker:{line:{color:c({},s.color,{dflt:g}),width:c({},s.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:x.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:x.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:c({},b.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:v(),showlegend:c({},b.showlegend,{dflt:!1})},t("",{cLetter:"z",editTypeOverride:"calc"}))},7924:function(O,S,e){var v=e(38248),x=e(39032).BADNUM,t=e(47128),b=e(20148),g=e(4500);function c(s){return s&&typeof s=="string"}O.exports=function(s,n){var i,a=n._length,r=new Array(a);i=n.geojson?function(f){return c(f)||v(f)}:c;for(var o=0;o<a;o++){var l=r[o]={},u=n.locations[o],h=n.z[o];i(u)&&v(h)?(l.loc=u,l.z=h):(l.loc=null,l.z=x),l.index=o}return b(r,n),t(s,n,{vals:n.z,containerStr:"",cLetter:"z"}),g(r,n),r}},30972:function(O,S,e){var v=e(3400),x=e(27260),t=e(83372);O.exports=function(b,g,c,s){function n(l,u){return v.coerce(b,g,t,l,u)}var i=n("locations"),a=n("z");if(i&&i.length&&v.isArrayOrTypedArray(a)&&a.length){g._length=Math.min(i.length,a.length);var r,o=n("geojson");(typeof o=="string"&&o!==""||v.isPlainObject(o))&&(r="geojson-id"),n("locationmode",r)==="geojson-id"&&n("featureidkey"),n("text"),n("hovertext"),n("hovertemplate"),n("marker.line.width")&&n("marker.line.color"),n("marker.opacity"),x(b,g,s,n,{prefix:"",cLetter:"z"}),v.coerceSelectionMarkerOpacity(g,n)}else g.visible=!1}},52428:function(O){O.exports=function(S,e,v,x,t){S.location=e.location,S.z=e.z;var b=x[t];return b.fIn&&b.fIn.properties&&(S.properties=b.fIn.properties),S.ct=b.ct,S}},69224:function(O,S,e){var v=e(54460),x=e(83372),t=e(3400).fillText;O.exports=function(b,g,c){var s,n,i,a,r=b.cd,o=r[0].trace,l=b.subplot,u=[g,c],h=[g+360,c];for(n=0;n<r.length;n++)if(a=!1,(s=r[n])._polygons){for(i=0;i<s._polygons.length;i++)s._polygons[i].contains(u)&&(a=!a),s._polygons[i].contains(h)&&(a=!a);if(a)break}if(a&&s)return b.x0=b.x1=b.xa.c2p(s.ct),b.y0=b.y1=b.ya.c2p(s.ct),b.index=s.index,b.location=s.loc,b.z=s.z,b.zLabel=v.tickText(l.mockAxis,l.mockAxis.c2l(s.z),"hover").text,b.hovertemplate=s.hovertemplate,function(f,T,d){if(!T.hovertemplate){var y=d.hi||T.hoverinfo,m=String(d.loc),w=y==="all"?x.hoverinfo.flags:y.split("+"),_=w.indexOf("name")!==-1,A=w.indexOf("location")!==-1,p=w.indexOf("z")!==-1,L=w.indexOf("text")!==-1,M=[];!_&&A?f.nameOverride=m:(_&&(f.nameOverride=T.name),A&&M.push(m)),p&&M.push(f.zLabel),L&&t(d,T,M),f.extraText=M.join("<br>")}}(b,o,s),[b]}},54272:function(O,S,e){O.exports={attributes:e(83372),supplyDefaults:e(30972),colorbar:e(96288),calc:e(7924),calcGeoJSON:e(88364).calcGeoJSON,plot:e(88364).plot,style:e(7947).style,styleOnSelect:e(7947).styleOnSelect,hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),moduleType:"trace",name:"choropleth",basePlotModule:e(10816),categories:["geo","noOpacity","showLegend"],meta:{}}},88364:function(O,S,e){var v=e(33428),x=e(3400),t=e(27144),b=e(59972).getTopojsonFeatures,g=e(19280).findExtremes,c=e(7947).style;O.exports={calcGeoJSON:function(s,n){for(var i=s[0].trace,a=n[i.geo],r=a._subplot,o=i.locationmode,l=i._length,u=o==="geojson-id"?t.extractTraceFeature(s):b(i,r.topojson),h=[],f=[],T=0;T<l;T++){var d=s[T],y=o==="geojson-id"?d.fOut:t.locationToFeature(o,d.loc,u);if(y){d.geojson=y,d.ct=y.properties.ct,d._polygons=t.feature2polygons(y);var m=t.computeBbox(y);h.push(m[0],m[2]),f.push(m[1],m[3])}else d.geojson=null}if(a.fitbounds==="geojson"&&o==="geojson-id"){var w=t.computeBbox(t.getTraceGeojson(i));h=[w[0],w[2]],f=[w[1],w[3]]}var _={padded:!0};i._extremes.lon=g(a.lonaxis._ax,h,_),i._extremes.lat=g(a.lataxis._ax,f,_)},plot:function(s,n,i){var a=n.layers.backplot.select(".choroplethlayer");x.makeTraceGroups(a,i,"trace choropleth").each(function(r){var o=v.select(this).selectAll("path.choroplethlocation").data(x.identity);o.enter().append("path").classed("choroplethlocation",!0),o.exit().remove(),c(s,r)})}}},17328:function(O){O.exports=function(S,e){var v,x,t,b,g,c=S.cd,s=S.xaxis,n=S.yaxis,i=[];if(e===!1)for(v=0;v<c.length;v++)c[v].selected=0;else for(v=0;v<c.length;v++)(t=(x=c[v]).ct)&&(b=s.c2p(t),g=n.c2p(t),e.contains([b,g],null,v,S)?(i.push({pointNumber:v,lon:t[0],lat:t[1]}),x.selected=1):x.selected=0);return i}},7947:function(O,S,e){var v=e(33428),x=e(76308),t=e(43616),b=e(8932);function g(c,s){var n=s[0].trace,i=s[0].node3.selectAll(".choroplethlocation"),a=n.marker||{},r=a.line||{},o=b.makeColorScaleFuncFromTrace(n);i.each(function(l){v.select(this).attr("fill",o(l.z)).call(x.stroke,l.mlc||r.color).call(t.dashLine,"",l.mlw||r.width||0).style("opacity",a.opacity)}),t.selectedPointStyle(i,n)}O.exports={style:function(c,s){s&&g(0,s)},styleOnSelect:function(c,s){var n=s[0].node3,i=s[0].trace;i.selectedpoints?t.selectedPointStyle(n.selectAll(".choroplethlocation"),i):g(0,s)}}},45608:function(O,S,e){var v=e(83372),x=e(49084),t=e(21776).Ks,b=e(45464),g=e(92880).extendFlat;O.exports=g({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:g({},v.featureidkey,{}),below:{valType:"string",editType:"plot"},text:v.text,hovertext:v.hovertext,marker:{line:{color:g({},v.marker.line.color,{editType:"plot"}),width:g({},v.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:g({},v.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:g({},v.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:g({},v.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:v.hoverinfo,hovertemplate:t({},{keys:["properties"]}),showlegend:g({},b.showlegend,{dflt:!1})},x("",{cLetter:"z",editTypeOverride:"calc"}))},13504:function(O,S,e){var v=e(38248),x=e(3400),t=e(8932),b=e(43616),g=e(44808).makeBlank,c=e(27144);function s(n){var i,a=n[0].trace,r=a._opts;if(a.selectedpoints){for(var o=b.makeSelectedPointStyleFns(a),l=0;l<n.length;l++){var u=n[l];u.fOut&&(u.fOut.properties.mo2=o.selectedOpacityFn(u))}i={type:"identity",property:"mo2"}}else i=x.isArrayOrTypedArray(a.marker.opacity)?{type:"identity",property:"mo"}:a.marker.opacity;return x.extendFlat(r.fill.paint,{"fill-opacity":i}),x.extendFlat(r.line.paint,{"line-opacity":i}),r}O.exports={convert:function(n){var i=n[0].trace,a=i.visible===!0&&i._length!==0,r={layout:{visibility:"none"},paint:{}},o={layout:{visibility:"none"},paint:{}},l=i._opts={fill:r,line:o,geojson:g()};if(!a)return l;var u=c.extractTraceFeature(n);if(!u)return l;var h,f,T,d=t.makeColorScaleFuncFromTrace(i),y=i.marker,m=y.line||{};x.isArrayOrTypedArray(y.opacity)&&(h=function(M){var C=M.mo;return v(C)?+x.constrain(C,0,1):0}),x.isArrayOrTypedArray(m.color)&&(f=function(M){return M.mlc}),x.isArrayOrTypedArray(m.width)&&(T=function(M){return M.mlw});for(var w=0;w<n.length;w++){var _=n[w],A=_.fOut;if(A){var p=A.properties;p.fc=d(_.z),h&&(p.mo=h(_)),f&&(p.mlc=f(_)),T&&(p.mlw=T(_)),_.ct=p.ct,_._polygons=c.feature2polygons(A)}}var L=h?{type:"identity",property:"mo"}:y.opacity;return x.extendFlat(r.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":L}),x.extendFlat(o.paint,{"line-color":f?{type:"identity",property:"mlc"}:m.color,"line-width":T?{type:"identity",property:"mlw"}:m.width,"line-opacity":L}),r.layout.visibility="visible",o.layout.visibility="visible",l.geojson={type:"FeatureCollection",features:u},s(n),l},convertOnSelect:s}},9352:function(O,S,e){var v=e(3400),x=e(27260),t=e(45608);O.exports=function(b,g,c,s){function n(o,l){return v.coerce(b,g,t,o,l)}var i=n("locations"),a=n("z"),r=n("geojson");v.isArrayOrTypedArray(i)&&i.length&&v.isArrayOrTypedArray(a)&&a.length&&(typeof r=="string"&&r!==""||v.isPlainObject(r))?(n("featureidkey"),g._length=Math.min(i.length,a.length),n("below"),n("text"),n("hovertext"),n("hovertemplate"),n("marker.line.width")&&n("marker.line.color"),n("marker.opacity"),x(b,g,s,n,{prefix:"",cLetter:"z"}),v.coerceSelectionMarkerOpacity(g,n)):g.visible=!1}},85404:function(O,S,e){O.exports={attributes:e(45608),supplyDefaults:e(9352),colorbar:e(96288),calc:e(7924),plot:e(61288),hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),styleOnSelect:function(v,x){x&&x[0].trace._glTrace.updateOnSelect(x)},getBelow:function(v,x){for(var t=x.getMapLayers(),b=t.length-2;b>=0;b--){var g=t[b].id;if(typeof g=="string"&&g.indexOf("water")===0){for(var c=b+1;c<t.length;c++)if(typeof(g=t[c].id)=="string"&&g.indexOf("plotly-")===-1)return g}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(33688),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},61288:function(O,S,e){var v=e(13504).convert,x=e(13504).convertOnSelect,t=e(47552).traceLayerPrefix;function b(c,s){this.type="choroplethmapbox",this.subplot=c,this.uid=s,this.sourceId="source-"+s,this.layerList=[["fill",t+s+"-fill"],["line",t+s+"-line"]],this.below=null}var g=b.prototype;g.update=function(c){this._update(v(c)),c[0].trace._glTrace=this},g.updateOnSelect=function(c){this._update(x(c))},g._update=function(c){var s=this.subplot,n=this.layerList,i=s.belowLookup["trace-"+this.uid];s.map.getSource(this.sourceId).setData(c.geojson),i!==this.below&&(this._removeLayers(),this._addLayers(c,i),this.below=i);for(var a=0;a<n.length;a++){var r=n[a],o=r[0],l=r[1],u=c[o];s.setOptions(l,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&s.setOptions(l,"setPaintProperty",u.paint)}},g._addLayers=function(c,s){for(var n=this.subplot,i=this.layerList,a=this.sourceId,r=0;r<i.length;r++){var o=i[r],l=o[0],u=c[l];n.addLayer({type:l,id:o[1],source:a,layout:u.layout,paint:u.paint},s)}},g._removeLayers=function(){for(var c=this.subplot.map,s=this.layerList,n=s.length-1;n>=0;n--)c.removeLayer(s[n][1])},g.dispose=function(){var c=this.subplot.map;this._removeLayers(),c.removeSource(this.sourceId)},O.exports=function(c,s){var n=s[0].trace,i=new b(c,n.uid),a=i.sourceId,r=v(s),o=i.below=c.belowLookup["trace-"+n.uid];return c.map.addSource(a,{type:"geojson",data:r.geojson}),i._addLayers(r,o),s[0].trace._glTrace=i,i}},86040:function(O,S,e){var v=e(49084),x=e(29736).axisHoverFormat,t=e(21776).Ks,b=e(52948),g=e(45464),c=e(92880).extendFlat,s={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute","raw"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:t({editType:"calc"},{keys:["norm"]}),uhoverformat:x("u",1),vhoverformat:x("v",1),whoverformat:x("w",1),xhoverformat:x("x"),yhoverformat:x("y"),zhoverformat:x("z"),showlegend:c({},g.showlegend,{dflt:!1})};c(s,v("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(n){s[n]=b[n]}),s.hoverinfo=c({},g.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),s.transforms=void 0,O.exports=s},83344:function(O,S,e){var v=e(47128);O.exports=function(x,t){for(var b=t.u,g=t.v,c=t.w,s=Math.min(t.x.length,t.y.length,t.z.length,b.length,g.length,c.length),n=-1/0,i=1/0,a=0;a<s;a++){var r=b[a],o=g[a],l=c[a],u=Math.sqrt(r*r+o*o+l*l);n=Math.max(n,u),i=Math.min(i,u)}t._len=s,t._normMax=n,v(x,t,{vals:[i,n],containerStr:"",cLetter:"c"})}},6648:function(O,S,e){var v=e(67792).gl_cone3d,x=e(67792).gl_cone3d.createConeMesh,t=e(3400).simpleMap,b=e(33040).parseColorScale,g=e(8932).extractOpts,c=e(3400).isArrayOrTypedArray,s=e(52094);function n(u,h){this.scene=u,this.uid=h,this.mesh=null,this.data=null}var i=n.prototype;i.handlePick=function(u){if(u.object===this.mesh){var h=u.index=u.data.index,f=this.data.x[h],T=this.data.y[h],d=this.data.z[h],y=this.data.u[h],m=this.data.v[h],w=this.data.w[h];u.traceCoordinate=[f,T,d,y,m,w,Math.sqrt(y*y+m*m+w*w)];var _=this.data.hovertext||this.data.text;return c(_)&&_[h]!==void 0?u.textLabel=_[h]:_&&(u.textLabel=_),!0}};var a={xaxis:0,yaxis:1,zaxis:2},r={tip:1,tail:0,cm:.25,center:.5},o={tip:1,tail:1,cm:.75,center:.5};function l(u,h){var f=u.fullSceneLayout,T=u.dataScale,d={};function y(p,L){var M=f[L],C=T[a[L]];return t(p,function(R){return M.d2l(R)*C})}d.vectors=s(y(h.u,"xaxis"),y(h.v,"yaxis"),y(h.w,"zaxis"),h._len),d.positions=s(y(h.x,"xaxis"),y(h.y,"yaxis"),y(h.z,"zaxis"),h._len);var m=g(h);d.colormap=b(h),d.vertexIntensityBounds=[m.min/h._normMax,m.max/h._normMax],d.coneOffset=r[h.anchor];var w=h.sizemode;w==="scaled"?d.coneSize=h.sizeref||.5:w==="absolute"?d.coneSize=h.sizeref&&h._normMax?h.sizeref/h._normMax:.5:w==="raw"&&(d.coneSize=h.sizeref),d.coneSizemode=w;var _=v(d),A=h.lightposition;return _.lightPosition=[A.x,A.y,A.z],_.ambient=h.lighting.ambient,_.diffuse=h.lighting.diffuse,_.specular=h.lighting.specular,_.roughness=h.lighting.roughness,_.fresnel=h.lighting.fresnel,_.opacity=h.opacity,h._pad=o[h.anchor]*_.vectorScale*_.coneScale*h._normMax,_}i.update=function(u){this.data=u;var h=l(this.scene,u);this.mesh.update(h)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},O.exports=function(u,h){var f=u.glplot.gl,T=l(u,h),d=x(f,T),y=new n(u,h.uid);return y.mesh=d,y.data=h,d._trace=y,u.glplot.add(d),y}},86096:function(O,S,e){var v=e(3400),x=e(27260),t=e(86040);O.exports=function(b,g,c,s){function n(f,T){return v.coerce(b,g,t,f,T)}var i=n("u"),a=n("v"),r=n("w"),o=n("x"),l=n("y"),u=n("z");if(i&&i.length&&a&&a.length&&r&&r.length&&o&&o.length&&l&&l.length&&u&&u.length){var h=n("sizemode");n("sizeref",h==="raw"?1:.5),n("anchor"),n("lighting.ambient"),n("lighting.diffuse"),n("lighting.specular"),n("lighting.roughness"),n("lighting.fresnel"),n("lightposition.x"),n("lightposition.y"),n("lightposition.z"),x(b,g,s,n,{prefix:"",cLetter:"c"}),n("text"),n("hovertext"),n("hovertemplate"),n("uhoverformat"),n("vhoverformat"),n("whoverformat"),n("xhoverformat"),n("yhoverformat"),n("zhoverformat"),g._length=null}else g.visible=!1}},26048:function(O,S,e){O.exports={moduleType:"trace",name:"cone",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(86040),supplyDefaults:e(86096),colorbar:{min:"cmin",max:"cmax"},calc:e(83344),plot:e(6648),eventData:function(v,x){return v.norm=x.traceCoordinate[6],v},meta:{}}},67104:function(O,S,e){var v=e(83328),x=e(52904),t=e(29736),b=t.axisHoverFormat,g=t.descriptionOnlyNumbers,c=e(49084),s=e(98192).u,n=e(25376),i=e(92880).extendFlat,a=e(69104),r=a.COMPARISON_OPS2,o=a.INTERVAL_OPS,l=x.line;O.exports=i({z:v.z,x:v.x,x0:v.x0,dx:v.dx,y:v.y,y0:v.y0,dy:v.dy,xperiod:v.xperiod,yperiod:v.yperiod,xperiod0:x.xperiod0,yperiod0:x.yperiod0,xperiodalignment:v.xperiodalignment,yperiodalignment:v.yperiodalignment,text:v.text,hovertext:v.hovertext,transpose:v.transpose,xtype:v.xtype,ytype:v.ytype,xhoverformat:b("x"),yhoverformat:b("y"),zhoverformat:b("z",1),hovertemplate:v.hovertemplate,texttemplate:i({},v.texttemplate,{}),textfont:i({},v.textfont,{}),hoverongaps:v.hoverongaps,connectgaps:i({},v.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:n({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:g("contour label")},operation:{valType:"enumerated",values:[].concat(r).concat(o),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:i({},l.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:s,smoothing:i({},l.smoothing,{}),editType:"plot"},zorder:x.zorder},c("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},20688:function(O,S,e){var v=e(8932),x=e(19512),t=e(54444),b=e(46960);O.exports=function(g,c){var s=x(g,c),n=s[0].z;t(c,n);var i,a=c.contours,r=v.extractOpts(c);if(a.coloring==="heatmap"&&r.auto&&c.autocontour===!1){var o=a.start,l=b(a),u=a.size||1,h=Math.floor((l-o)/u)+1;isFinite(u)||(u=1,h=1);var f=o-u/2;i=[f,f+h*u]}else i=n;return v.calc(g,c,{vals:i,cLetter:"z"}),s}},56008:function(O){O.exports=function(S,e){var v,x=S[0],t=x.z;switch(e.type){case"levels":var b=Math.min(t[0][0],t[0][1]);for(v=0;v<S.length;v++){var g=S[v];g.prefixBoundary=!g.edgepaths.length&&(b>g.level||g.starts.length&&b===g.level)}break;case"constraint":if(x.prefixBoundary=!1,x.edgepaths.length)return;var c=x.x.length,s=x.y.length,n=-1/0,i=1/0;for(v=0;v<s;v++)i=Math.min(i,t[v][0]),i=Math.min(i,t[v][c-1]),n=Math.max(n,t[v][0]),n=Math.max(n,t[v][c-1]);for(v=1;v<c-1;v++)i=Math.min(i,t[0][v]),i=Math.min(i,t[s-1][v]),n=Math.max(n,t[0][v]),n=Math.max(n,t[s-1][v]);var a,r,o=e.value;switch(e._operation){case">":o>n&&(x.prefixBoundary=!0);break;case"<":(o<i||x.starts.length&&o===i)&&(x.prefixBoundary=!0);break;case"[]":a=Math.min(o[0],o[1]),((r=Math.max(o[0],o[1]))<i||a>n||x.starts.length&&r===i)&&(x.prefixBoundary=!0);break;case"][":a=Math.min(o[0],o[1]),r=Math.max(o[0],o[1]),a<i&&r>n&&(x.prefixBoundary=!0)}}}},55296:function(O,S,e){var v=e(8932),x=e(41076),t=e(46960);O.exports={min:"zmin",max:"zmax",calc:function(b,g,c){var s=g.contours,n=g.line,i=s.size||1,a=s.coloring,r=x(g,{isColorbar:!0});if(a==="heatmap"){var o=v.extractOpts(g);c._fillgradient=o.reversescale?v.flipScale(o.colorscale):o.colorscale,c._zrange=[o.min,o.max]}else a==="fill"&&(c._fillcolor=r);c._line={color:a==="lines"?r:n.color,width:s.showlines!==!1?n.width:0,dash:n.dash},c._levels={start:s.start,end:t(s),size:i}}}},93252:function(O){O.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},95536:function(O,S,e){var v=e(38248),x=e(17428),t=e(76308),b=t.addOpacity,g=t.opacity,c=e(69104),s=e(3400).isArrayOrTypedArray,n=c.CONSTRAINT_REDUCTION,i=c.COMPARISON_OPS2;O.exports=function(a,r,o,l,u,h){var f,T,d,y=r.contours,m=o("contours.operation");y._operation=n[m],function(w,_){var A;i.indexOf(_.operation)===-1?(w("contours.value",[0,1]),s(_.value)?_.value.length>2?_.value=_.value.slice(2):_.length===0?_.value=[0,1]:_.length<2?(A=parseFloat(_.value[0]),_.value=[A,A+1]):_.value=[parseFloat(_.value[0]),parseFloat(_.value[1])]:v(_.value)&&(A=parseFloat(_.value),_.value=[A,A+1])):(w("contours.value",0),v(_.value)||(s(_.value)?_.value=parseFloat(_.value[0]):_.value=0))}(o,y),m==="="?f=y.showlines=!0:(f=o("contours.showlines"),d=o("fillcolor",b((a.line||{}).color||u,.5))),f&&(T=o("line.color",d&&g(d)?b(r.fillcolor,1):u),o("line.width",2),o("line.dash")),o("line.smoothing"),x(o,l,T,h)}},3212:function(O,S,e){var v=e(69104),x=e(38248);function t(c,s){var n,i=Array.isArray(s);function a(r){return x(r)?+r:null}return v.COMPARISON_OPS2.indexOf(c)!==-1?n=a(i?s[0]:s):v.INTERVAL_OPS.indexOf(c)!==-1?n=i?[a(s[0]),a(s[1])]:[a(s),a(s)]:v.SET_OPS.indexOf(c)!==-1&&(n=i?s.map(a):[a(s)]),n}function b(c){return function(s){s=t(c,s);var n=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]);return{start:n,end:i,size:i-n}}}function g(c){return function(s){return{start:s=t(c,s),end:1/0,size:1/0}}}O.exports={"[]":b("[]"),"][":b("]["),">":g(">"),"<":g("<"),"=":g("=")}},84952:function(O){O.exports=function(S,e,v,x){var t=x("contours.start"),b=x("contours.end"),g=t===!1||b===!1,c=v("contours.size");!(g?e.autocontour=!0:v("autocontour",!1))&&c||v("ncontours")}},82172:function(O,S,e){var v=e(3400);function x(t){return v.extendFlat({},t,{edgepaths:v.extendDeep([],t.edgepaths),paths:v.extendDeep([],t.paths),starts:v.extendDeep([],t.starts)})}O.exports=function(t,b){var g,c,s,n=function(r){return r.reverse()},i=function(r){return r};switch(b){case"=":case"<":return t;case">":for(t.length!==1&&v.warn("Contour data invalid for the specified inequality operation."),c=t[0],g=0;g<c.edgepaths.length;g++)c.edgepaths[g]=n(c.edgepaths[g]);for(g=0;g<c.paths.length;g++)c.paths[g]=n(c.paths[g]);for(g=0;g<c.starts.length;g++)c.starts[g]=n(c.starts[g]);return t;case"][":var a=n;n=i,i=a;case"[]":for(t.length!==2&&v.warn("Contour data invalid for the specified inequality range operation."),c=x(t[0]),s=x(t[1]),g=0;g<c.edgepaths.length;g++)c.edgepaths[g]=n(c.edgepaths[g]);for(g=0;g<c.paths.length;g++)c.paths[g]=n(c.paths[g]);for(g=0;g<c.starts.length;g++)c.starts[g]=n(c.starts[g]);for(;s.edgepaths.length;)c.edgepaths.push(i(s.edgepaths.shift()));for(;s.paths.length;)c.paths.push(i(s.paths.shift()));for(;s.starts.length;)c.starts.push(i(s.starts.shift()));return[c]}}},57004:function(O,S,e){var v=e(3400),x=e(51264),t=e(31147),b=e(95536),g=e(84952),c=e(97680),s=e(39096),n=e(67104);O.exports=function(i,a,r,o){function l(h,f){return v.coerce(i,a,n,h,f)}if(x(i,a,l,o)){t(i,a,o,l),l("xhoverformat"),l("yhoverformat"),l("text"),l("hovertext"),l("hoverongaps"),l("hovertemplate");var u=l("contours.type")==="constraint";l("connectgaps",v.isArray1D(a.z)),u?b(i,a,l,o,r):(g(i,a,l,function(h){return v.coerce2(i,a,n,h)}),c(i,a,l,o)),a.contours&&a.contours.coloring==="heatmap"&&s(l,o),l("zorder")}else a.visible=!1}},61512:function(O,S,e){var v=e(3400),x=e(3212),t=e(46960);O.exports=function(b,g,c){for(var s=b.type==="constraint"?x[b._operation](b.value):b,n=s.size,i=[],a=t(s),r=c.trace._carpetTrace,o=r?{xaxis:r.aaxis,yaxis:r.baxis,x:c.a,y:c.b}:{xaxis:g.xaxis,yaxis:g.yaxis,x:c.x,y:c.y},l=s.start;l<a;l+=n)if(i.push(v.extendFlat({level:l,crossings:{},starts:[],edgepaths:[],paths:[],z:c.z,smoothing:c.trace.line.smoothing},o)),i.length>1e3){v.warn("Too many contours, clipping at 1000",b);break}return i}},46960:function(O){O.exports=function(S){return S.end+S.size/1e6}},88748:function(O,S,e){var v=e(3400),x=e(93252);function t(c,s,n,i){return Math.abs(c[0]-s[0])<n&&Math.abs(c[1]-s[1])<i}function b(c,s,n,i,a){var r,o=s.join(","),l=c.crossings[o],u=function(ae,ue,ce){var de=0,pe=0;return ae>20&&ue?ae===208||ae===1114?de=ce[0]===0?1:-1:pe=ce[1]===0?1:-1:x.BOTTOMSTART.indexOf(ae)!==-1?pe=1:x.LEFTSTART.indexOf(ae)!==-1?de=1:x.TOPSTART.indexOf(ae)!==-1?pe=-1:de=-1,[de,pe]}(l,n,s),h=[g(c,s,[-u[0],-u[1]])],f=c.z.length,T=c.z[0].length,d=s.slice(),y=u.slice();for(r=0;r<1e4;r++){if(l>20?(l=x.CHOOSESADDLE[l][(u[0]||u[1])<0?0:1],c.crossings[o]=x.SADDLEREMAINDER[l]):delete c.crossings[o],!(u=x.NEWDELTA[l])){v.log("Found bad marching index:",l,s,c.level);break}h.push(g(c,s,u)),s[0]+=u[0],s[1]+=u[1],o=s.join(","),t(h[h.length-1],h[h.length-2],i,a)&&h.pop();var m=u[0]&&(s[0]<0||s[0]>T-2)||u[1]&&(s[1]<0||s[1]>f-2);if(s[0]===d[0]&&s[1]===d[1]&&u[0]===y[0]&&u[1]===y[1]||n&&m)break;l=c.crossings[o]}r===1e4&&v.log("Infinite loop in contour?");var w,_,A,p,L,M,C,R,I,D,F,q,z,V,X,j=t(h[0],h[h.length-1],i,a),H=0,G=.2*c.smoothing,ie=[],re=0;for(r=1;r<h.length;r++)q=h[r],z=h[r-1],V=q[2]-z[2],X=q[3]-z[3],H+=C=Math.sqrt(V*V+X*X),ie.push(C);var te=H/ie.length*G;function K(ae){return h[ae%h.length]}for(r=h.length-2;r>=re;r--)if((w=ie[r])<te){for(A=0,_=r-1;_>=re&&w+ie[_]<te;_--)w+=ie[_];if(j&&r===h.length-2)for(A=0;A<_&&w+ie[A]<te;A++)w+=ie[A];L=r-_+A+1,M=Math.floor((r+_+A+2)/2),p=j||r!==h.length-2?j||_!==-1?L%2?K(M):[(K(M)[0]+K(M+1)[0])/2,(K(M)[1]+K(M+1)[1])/2]:h[0]:h[h.length-1],h.splice(_+1,r-_+1,p),r=_+1,A&&(re=A),j&&(r===h.length-2?h[A]=h[h.length-1]:r===0&&(h[h.length-1]=h[0]))}for(h.splice(0,re),r=0;r<h.length;r++)h[r].length=2;if(!(h.length<2))if(j)h.pop(),c.paths.push(h);else{n||v.log("Unclosed interior contour?",c.level,d.join(","),h.join("L"));var J=!1;for(R=0;R<c.edgepaths.length;R++)if(D=c.edgepaths[R],!J&&t(D[0],h[h.length-1],i,a)){h.pop(),J=!0;var $=!1;for(I=0;I<c.edgepaths.length;I++)if(t((F=c.edgepaths[I])[F.length-1],h[0],i,a)){$=!0,h.shift(),c.edgepaths.splice(R,1),I===R?c.paths.push(h.concat(F)):(I>R&&I--,c.edgepaths[I]=F.concat(h,D));break}$||(c.edgepaths[R]=h.concat(D))}for(R=0;R<c.edgepaths.length&&!J;R++)t((D=c.edgepaths[R])[D.length-1],h[0],i,a)&&(h.shift(),c.edgepaths[R]=D.concat(h),J=!0);J||c.edgepaths.push(h)}}function g(c,s,n){var i=s[0]+Math.max(n[0],0),a=s[1]+Math.max(n[1],0),r=c.z[a][i],o=c.xaxis,l=c.yaxis;if(n[1]){var u=(c.level-r)/(c.z[a][i+1]-r),h=(u!==1?(1-u)*o.c2l(c.x[i]):0)+(u!==0?u*o.c2l(c.x[i+1]):0);return[o.c2p(o.l2c(h),!0),l.c2p(c.y[a],!0),i+u,a]}var f=(c.level-r)/(c.z[a+1][i]-r),T=(f!==1?(1-f)*l.c2l(c.y[a]):0)+(f!==0?f*l.c2l(c.y[a+1]):0);return[o.c2p(c.x[i],!0),l.c2p(l.l2c(T),!0),i,a+f]}O.exports=function(c,s,n){var i,a,r,o;for(s=s||.01,n=n||.01,a=0;a<c.length;a++){for(r=c[a],o=0;o<r.starts.length;o++)b(r,r.starts[o],"edge",s,n);for(i=0;Object.keys(r.crossings).length&&i<1e4;)i++,b(r,Object.keys(r.crossings)[0].split(",").map(Number),void 0,s,n);i===1e4&&v.log("Infinite loop in contour?")}}},38200:function(O,S,e){var v=e(76308),x=e(55512);O.exports=function(t,b,g,c,s){s||(s={}),s.isContour=!0;var n=x(t,b,g,c,s);return n&&n.forEach(function(i){var a=i.trace;a.contours.type==="constraint"&&(a.fillcolor&&v.opacity(a.fillcolor)?i.color=v.addOpacity(a.fillcolor,1):a.contours.showlines&&v.opacity(a.line.color)&&(i.color=v.addOpacity(a.line.color,1)))}),n}},66240:function(O,S,e){O.exports={attributes:e(67104),supplyDefaults:e(57004),calc:e(20688),plot:e(23676).plot,style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"contour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},17428:function(O,S,e){var v=e(3400);O.exports=function(x,t,b,g){if(g||(g={}),x("contours.showlabels")){var c=t.font;v.coerceFont(x,"contours.labelfont",c,{overrideDflt:{color:b}}),x("contours.labelformat")}g.hasHover!==!1&&x("zhoverformat")}},41076:function(O,S,e){var v=e(33428),x=e(8932),t=e(46960);O.exports=function(b){var g=b.contours,c=g.start,s=t(g),n=g.size||1,i=Math.floor((s-c)/n)+1,a=g.coloring==="lines"?0:1,r=x.extractOpts(b);isFinite(n)||(n=1,i=1);var o,l,u=r.reversescale?x.flipScale(r.colorscale):r.colorscale,h=u.length,f=new Array(h),T=new Array(h),d=r.min,y=r.max;if(g.coloring==="heatmap"){for(l=0;l<h;l++)o=u[l],f[l]=o[0]*(y-d)+d,T[l]=o[1];var m=v.extent([d,y,g.start,g.start+n*(i-1)]),w=m[d<y?0:1],_=m[d<y?1:0];w!==d&&(f.splice(0,0,w),T.splice(0,0,T[0])),_!==y&&(f.push(_),T.push(T[T.length-1]))}else{var A=b._input&&typeof b._input.zmin=="number"&&typeof b._input.zmax=="number";for(A&&(c<=d||s>=y)&&(c<=d&&(c=d),s>=y&&(s=y),i=Math.floor((s-c)/n)+1,a=0),l=0;l<h;l++)o=u[l],f[l]=(o[0]*(i+a-1)-a/2)*n+c,T[l]=o[1];(A||b.autocontour)&&(f[0]>d&&(f.unshift(d),T.unshift(T[0])),f[f.length-1]<y&&(f.push(y),T.push(T[T.length-1])))}return x.makeColorScaleFunc({domain:f,range:T},{noNumericCheck:!0})}},72424:function(O,S,e){var v=e(93252);function x(t,b){var g=(b[0][0]>t?0:1)+(b[0][1]>t?0:2)+(b[1][1]>t?0:4)+(b[1][0]>t?0:8);return g===5||g===10?t>(b[0][0]+b[0][1]+b[1][0]+b[1][1])/4?g===5?713:1114:g===5?104:208:g===15?0:g}O.exports=function(t){var b,g,c,s,n,i,a,r,o,l=t[0].z,u=l.length,h=l[0].length,f=u===2||h===2;for(g=0;g<u-1;g++)for(s=[],g===0&&(s=s.concat(v.BOTTOMSTART)),g===u-2&&(s=s.concat(v.TOPSTART)),b=0;b<h-1;b++)for(c=s.slice(),b===0&&(c=c.concat(v.LEFTSTART)),b===h-2&&(c=c.concat(v.RIGHTSTART)),n=b+","+g,i=[[l[g][b],l[g][b+1]],[l[g+1][b],l[g+1][b+1]]],o=0;o<t.length;o++)(a=x((r=t[o]).level,i))&&(r.crossings[n]=a,c.indexOf(a)!==-1&&(r.starts.push([b,g]),f&&c.indexOf(a,c.indexOf(a)+1)!==-1&&r.starts.push([b,g])))}},23676:function(O,S,e){var v=e(33428),x=e(3400),t=e(43616),b=e(8932),g=e(72736),c=e(54460),s=e(78344),n=e(41420),i=e(72424),a=e(88748),r=e(61512),o=e(82172),l=e(56008),u=e(93252),h=u.LABELOPTIMIZER;function f(y,m){var w,_,A,p,L,M,C,R="",I=0,D=y.edgepaths.map(function(j,H){return H}),F=!0;function q(j){return Math.abs(j[1]-m[2][1])<.01}function z(j){return Math.abs(j[0]-m[0][0])<.01}function V(j){return Math.abs(j[0]-m[2][0])<.01}for(;D.length;){for(M=t.smoothopen(y.edgepaths[I],y.smoothing),R+=F?M:M.replace(/^M/,"L"),D.splice(D.indexOf(I),1),w=y.edgepaths[I][y.edgepaths[I].length-1],p=-1,A=0;A<4;A++){if(!w){x.log("Missing end?",I,y);break}for(C=w,Math.abs(C[1]-m[0][1])<.01&&!V(w)?_=m[1]:z(w)?_=m[0]:q(w)?_=m[3]:V(w)&&(_=m[2]),L=0;L<y.edgepaths.length;L++){var X=y.edgepaths[L][0];Math.abs(w[0]-_[0])<.01?Math.abs(w[0]-X[0])<.01&&(X[1]-w[1])*(_[1]-X[1])>=0&&(_=X,p=L):Math.abs(w[1]-_[1])<.01?Math.abs(w[1]-X[1])<.01&&(X[0]-w[0])*(_[0]-X[0])>=0&&(_=X,p=L):x.log("endpt to newendpt is not vert. or horz.",w,_,X)}if(w=_,p>=0)break;R+="L"+_}if(p===y.edgepaths.length){x.log("unclosed perimeter path");break}I=p,(F=D.indexOf(I)===-1)&&(I=D[0],R+="Z")}for(I=0;I<y.paths.length;I++)R+=t.smoothclosed(y.paths[I],y.smoothing);return R}function T(y,m,w,_){var A=m.width/2,p=m.height/2,L=y.x,M=y.y,C=y.theta,R=Math.cos(C)*A,I=Math.sin(C)*A,D=(L>_.center?_.right-L:L-_.left)/(R+Math.abs(Math.sin(C)*p)),F=(M>_.middle?_.bottom-M:M-_.top)/(Math.abs(I)+Math.cos(C)*p);if(D<1||F<1)return 1/0;var q=h.EDGECOST*(1/(D-1)+1/(F-1));q+=h.ANGLECOST*C*C;for(var z=L-R,V=M-I,X=L+R,j=M+I,H=0;H<w.length;H++){var G=w[H],ie=Math.cos(G.theta)*G.width/2,re=Math.sin(G.theta)*G.width/2,te=2*x.segmentDistance(z,V,X,j,G.x-ie,G.y-re,G.x+ie,G.y+re)/(m.height+G.height),K=G.level===m.level,J=K?h.SAMELEVELDISTANCE:1;if(te<=J)return 1/0;q+=h.NEIGHBORCOST*(K?h.SAMELEVELFACTOR:1)/(te-J)}return q}function d(y){var m,w,_=y.trace._emptypoints,A=[],p=y.z.length,L=y.z[0].length,M=[];for(m=0;m<L;m++)M.push(1);for(m=0;m<p;m++)A.push(M.slice());for(m=0;m<_.length;m++)A[(w=_[m])[0]][w[1]]=0;return y.zmask=A,A}S.plot=function(y,m,w,_){var A=m.xaxis,p=m.yaxis;x.makeTraceGroups(_,w,"contour").each(function(L){var M=v.select(this),C=L[0],R=C.trace,I=C.x,D=C.y,F=R.contours,q=r(F,m,C),z=x.ensureSingle(M,"g","heatmapcoloring"),V=[];F.coloring==="heatmap"&&(V=[L]),n(y,m,V,z),i(q),a(q);var X=A.c2p(I[0],!0),j=A.c2p(I[I.length-1],!0),H=p.c2p(D[0],!0),G=p.c2p(D[D.length-1],!0),ie=[[X,G],[j,G],[j,H],[X,H]],re=q;F.type==="constraint"&&(re=o(q,F._operation)),function(te,K,J){var $=x.ensureSingle(te,"g","contourbg").selectAll("path").data(J.coloring==="fill"?[0]:[]);$.enter().append("path"),$.exit().remove(),$.attr("d","M"+K.join("L")+"Z").style("stroke","none")}(M,ie,F),function(te,K,J,$){var ae=$.coloring==="fill"||$.type==="constraint"&&$._operation!=="=",ue="M"+J.join("L")+"Z";ae&&l(K,$);var ce=x.ensureSingle(te,"g","contourfill").selectAll("path").data(ae?K:[]);ce.enter().append("path"),ce.exit().remove(),ce.each(function(de){var pe=(de.prefixBoundary?ue:"")+f(de,J);pe?v.select(this).attr("d",pe).style("stroke","none"):v.select(this).remove()})}(M,re,ie,F),function(te,K,J,$,ae){var ue=J._context.staticPlot,ce=x.ensureSingle(te,"g","contourlines"),de=ae.showlines!==!1,pe=ae.showlabels,me=de&&pe,be=S.createLines(ce,de||pe,K,ue),we=S.createLineClip(ce,me,J,$.trace.uid),Te=te.selectAll("g.contourlabels").data(pe?[0]:[]);if(Te.exit().remove(),Te.enter().append("g").classed("contourlabels",!0),pe){var Le=[],Ie=[];x.clearLocationCache();var _e=S.labelFormatter(J,$),fe=t.tester.append("text").attr("data-notex",1).call(t.font,ae.labelfont),le=K[0].xaxis,ye=K[0].yaxis,Oe=le._length,Ae=ye._length,Se=le.range,Pe=ye.range,Fe=x.aggNums(Math.min,null,$.x),Be=x.aggNums(Math.max,null,$.x),xe=x.aggNums(Math.min,null,$.y),Me=x.aggNums(Math.max,null,$.y),Ce=Math.max(le.c2p(Fe,!0),0),Ne=Math.min(le.c2p(Be,!0),Oe),Re=Math.max(ye.c2p(Me,!0),0),He=Math.min(ye.c2p(xe,!0),Ae),Ye={};Se[0]<Se[1]?(Ye.left=Ce,Ye.right=Ne):(Ye.left=Ne,Ye.right=Ce),Pe[0]<Pe[1]?(Ye.top=Re,Ye.bottom=He):(Ye.top=He,Ye.bottom=Re),Ye.middle=(Ye.top+Ye.bottom)/2,Ye.center=(Ye.left+Ye.right)/2,Le.push([[Ye.left,Ye.top],[Ye.right,Ye.top],[Ye.right,Ye.bottom],[Ye.left,Ye.bottom]]);var Qe=Math.sqrt(Oe*Oe+Ae*Ae),lt=u.LABELDISTANCE*Qe/Math.max(1,K.length/u.LABELINCREASE);be.each(function(ut){var xt=S.calcTextOpts(ut.level,_e,fe,J);v.select(this).selectAll("path").each(function(){var _t=x.getVisibleSegment(this,Ye,xt.height/2);if(_t&&!(_t.len<(xt.width+xt.height)*u.LABELMIN))for(var mt=Math.min(Math.ceil(_t.len/lt),u.LABELMAX),it=0;it<mt;it++){var nt=S.findBestTextLocation(this,_t,xt,Ie,Ye);if(!nt)break;S.addLabelData(nt,xt,Ie,Le)}})}),fe.remove(),S.drawLabels(Te,Ie,J,we,me?Le:null)}pe&&!de&&be.remove()}(M,q,y,C,F),function(te,K,J,$,ae){var ue=$.trace,ce=J._fullLayout._clips,de="clip"+ue.uid,pe=ce.selectAll("#"+de).data(ue.connectgaps?[]:[0]);if(pe.enter().append("clipPath").classed("contourclip",!0).attr("id",de),pe.exit().remove(),ue.connectgaps===!1){var me={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:K.xaxis,yaxis:K.yaxis,x:$.x,y:$.y,z:d($),smoothing:0};i([me]),a([me]),l([me],{type:"levels"}),x.ensureSingle(pe,"path","").attr("d",(me.prefixBoundary?"M"+ae.join("L")+"Z":"")+f(me,ae))}else de=null;t.setClipUrl(te,de,J)}(M,m,y,C,ie)})},S.createLines=function(y,m,w,_){var A=w[0].smoothing,p=y.selectAll("g.contourlevel").data(m?w:[]);if(p.exit().remove(),p.enter().append("g").classed("contourlevel",!0),m){var L=p.selectAll("path.openline").data(function(C){return C.pedgepaths||C.edgepaths});L.exit().remove(),L.enter().append("path").classed("openline",!0),L.attr("d",function(C){return t.smoothopen(C,A)}).style("stroke-miterlimit",1).style("vector-effect",_?"none":"non-scaling-stroke");var M=p.selectAll("path.closedline").data(function(C){return C.ppaths||C.paths});M.exit().remove(),M.enter().append("path").classed("closedline",!0),M.attr("d",function(C){return t.smoothclosed(C,A)}).style("stroke-miterlimit",1).style("vector-effect",_?"none":"non-scaling-stroke")}return p},S.createLineClip=function(y,m,w,_){var A=m?"clipline"+_:null,p=w._fullLayout._clips.selectAll("#"+A).data(m?[0]:[]);return p.exit().remove(),p.enter().append("clipPath").classed("contourlineclip",!0).attr("id",A),t.setClipUrl(y,A,w),p},S.labelFormatter=function(y,m){var w=y._fullLayout,_=m.trace,A=_.contours,p={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(A.labelformat)p.tickformat=A.labelformat,s(p,w);else{var L=b.extractOpts(_);if(L&&L.colorbar&&L.colorbar._axis)p=L.colorbar._axis;else{if(A.type==="constraint"){var M=A.value;x.isArrayOrTypedArray(M)?p.range=[M[0],M[M.length-1]]:p.range=[M,M]}else p.range=[A.start,A.end],p.nticks=(A.end-A.start)/A.size;p.range[0]===p.range[1]&&(p.range[1]+=p.range[0]||1),p.nticks||(p.nticks=1e3),s(p,w),c.prepTicks(p),p._tmin=null,p._tmax=null}}return function(C){return c.tickText(p,C).text}},S.calcTextOpts=function(y,m,w,_){var A=m(y);w.text(A).call(g.convertToTspans,_);var p=w.node(),L=t.bBox(p,!0);return{text:A,width:L.width,height:L.height,fontSize:+p.style["font-size"].replace("px",""),level:y,dy:(L.top+L.bottom)/2}},S.findBestTextLocation=function(y,m,w,_,A){var p,L,M,C,R,I=w.width;m.isClosed?(L=m.len/h.INITIALSEARCHPOINTS,p=m.min+L/2,M=m.max):(L=(m.len-I)/(h.INITIALSEARCHPOINTS+1),p=m.min+L+I/2,M=m.max-(L+I)/2);for(var D=1/0,F=0;F<h.ITERATIONS;F++){for(var q=p;q<M;q+=L){var z=x.getTextLocation(y,m.total,q,I),V=T(z,w,_,A);V<D&&(D=V,R=z,C=q)}if(D>2*h.MAXCOST)break;F&&(L/=2),M=(p=C-L/2)+1.5*L}if(D<=h.MAXCOST)return R},S.addLabelData=function(y,m,w,_){var A=m.fontSize,p=m.width+A/3,L=Math.max(0,m.height-A/3),M=y.x,C=y.y,R=y.theta,I=Math.sin(R),D=Math.cos(R),F=function(z,V){return[M+z*D-V*I,C+z*I+V*D]},q=[F(-p/2,-L/2),F(-p/2,L/2),F(p/2,L/2),F(p/2,-L/2)];w.push({text:m.text,x:M,y:C,dy:m.dy,theta:R,level:m.level,width:p,height:L}),_.push(q)},S.drawLabels=function(y,m,w,_,A){var p=y.selectAll("text").data(m,function(C){return C.text+","+C.x+","+C.y+","+C.theta});if(p.exit().remove(),p.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(C){var R=C.x+Math.sin(C.theta)*C.dy,I=C.y-Math.cos(C.theta)*C.dy;v.select(this).text(C.text).attr({x:R,y:I,transform:"rotate("+180*C.theta/Math.PI+" "+R+" "+I+")"}).call(g.convertToTspans,w)}),A){for(var L="",M=0;M<A.length;M++)L+="M"+A[M].join("L")+"Z";x.ensureSingle(_,"path","").attr("d",L)}}},54444:function(O,S,e){var v=e(54460),x=e(3400);function t(b,g,c){var s={type:"linear",range:[b,g]};return v.autoTicks(s,(g-b)/(c||15)),s}O.exports=function(b,g){var c=b.contours;if(b.autocontour){var s=b.zmin,n=b.zmax;(b.zauto||s===void 0)&&(s=x.aggNums(Math.min,null,g)),(b.zauto||n===void 0)&&(n=x.aggNums(Math.max,null,g));var i=t(s,n,b.ncontours);c.size=i.dtick,c.start=v.tickFirst(i),i.range.reverse(),c.end=v.tickFirst(i),c.start===s&&(c.start+=c.size),c.end===n&&(c.end-=c.size),c.start>c.end&&(c.start=c.end=(c.start+c.end)/2),b._input.contours||(b._input.contours={}),x.extendFlat(b._input.contours,{start:c.start,end:c.end,size:c.size}),b._input.autocontour=!0}else if(c.type!=="constraint"){var a,r=c.start,o=c.end,l=b._input.contours;r>o&&(c.start=l.start=o,o=c.end=l.end=r,r=c.start),c.size>0||(a=r===o?1:t(r,o,b.ncontours).dtick,l.size=c.size=a)}}},52440:function(O,S,e){var v=e(33428),x=e(43616),t=e(41648),b=e(41076);O.exports=function(g){var c=v.select(g).selectAll("g.contour");c.style("opacity",function(s){return s[0].trace.opacity}),c.each(function(s){var n=v.select(this),i=s[0].trace,a=i.contours,r=i.line,o=a.size||1,l=a.start,u=a.type==="constraint",h=!u&&a.coloring==="lines",f=!u&&a.coloring==="fill",T=h||f?b(i):null;n.selectAll("g.contourlevel").each(function(m){v.select(this).selectAll("path").call(x.lineGroupStyle,r.width,h?T(m.level):r.color,r.dash)});var d=a.labelfont;if(n.selectAll("g.contourlabels text").each(function(m){x.font(v.select(this),{weight:d.weight,style:d.style,variant:d.variant,textcase:d.textcase,lineposition:d.lineposition,shadow:d.shadow,family:d.family,size:d.size,color:d.color||(h?T(m.level):r.color)})}),u)n.selectAll("g.contourfill path").style("fill",i.fillcolor);else if(f){var y;n.selectAll("g.contourfill path").style("fill",function(m){return y===void 0&&(y=m.level),T(m.level+.5*o)}),y===void 0&&(y=l),n.selectAll("g.contourbg path").style("fill",T(y-.5*o))}}),t(g)}},97680:function(O,S,e){var v=e(27260),x=e(17428);O.exports=function(t,b,g,c,s){var n,i=g("contours.coloring"),a="";i==="fill"&&(n=g("contours.showlines")),n!==!1&&(i!=="lines"&&(a=g("line.color","#000")),g("line.width",.5),g("line.dash")),i!=="none"&&(t.showlegend!==!0&&(b.showlegend=!1),b._dfltShowLegend=!1,v(t,b,c,g,{prefix:"",cLetter:"z"})),g("line.smoothing"),x(g,c,a,s)}},37960:function(O,S,e){var v=e(83328),x=e(67104),t=e(49084),b=e(92880).extendFlat,g=x.contours;O.exports=b({carpet:{valType:"string",editType:"calc"},z:v.z,a:v.x,a0:v.x0,da:v.dx,b:v.y,b0:v.y0,db:v.dy,text:v.text,hovertext:v.hovertext,transpose:v.transpose,atype:v.xtype,btype:v.ytype,fillcolor:x.fillcolor,autocontour:x.autocontour,ncontours:x.ncontours,contours:{type:g.type,start:g.start,end:g.end,size:g.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:g.showlines,showlabels:g.showlabels,labelfont:g.labelfont,labelformat:g.labelformat,operation:g.operation,value:g.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:x.line.color,width:x.line.width,dash:x.line.dash,smoothing:x.line.smoothing,editType:"plot"},zorder:x.zorder,transforms:void 0},t("",{cLetter:"z",autoColorDflt:!1}))},30572:function(O,S,e){var v=e(47128),x=e(3400),t=e(2872),b=e(26136),g=e(70448),c=e(11240),s=e(35744),n=e(3252),i=e(50948),a=e(54444);O.exports=function(r,o){var l=o._carpetTrace=i(r,o);if(l&&l.visible&&l.visible!=="legendonly"){if(!o.a||!o.b){var u=r.data[l.index],h=r.data[o.index];h.a||(h.a=u.a),h.b||(h.b=u.b),n(h,o,o._defaultColor,r._fullLayout)}var f=function(T,d){var y,m,w,_,A,p,L,M=d._carpetTrace,C=M.aaxis,R=M.baxis;C._minDtick=0,R._minDtick=0,x.isArray1D(d.z)&&t(d,C,R,"a","b",["z"]),y=d._a=d._a||d.a,_=d._b=d._b||d.b,y=y?C.makeCalcdata(d,"_a"):[],_=_?R.makeCalcdata(d,"_b"):[],m=d.a0||0,w=d.da||1,A=d.b0||0,p=d.db||1,L=d._z=b(d._z||d.z,d.transpose),d._emptypoints=c(L),g(L,d._emptypoints);var I=x.maxRowLength(L),D=d.xtype==="scaled"?"":y,F=s(d,D,m,w,I,C),q=d.ytype==="scaled"?"":_,z={a:F,b:s(d,q,A,p,L.length,R),z:L};return d.contours.type==="levels"&&d.contours.coloring!=="none"&&v(T,d,{vals:L,containerStr:"",cLetter:"z"}),[z]}(r,o);return a(o,o._z),f}}},3252:function(O,S,e){var v=e(3400),x=e(51264),t=e(37960),b=e(95536),g=e(84952),c=e(97680);O.exports=function(s,n,i,a){function r(o,l){return v.coerce(s,n,t,o,l)}if(r("carpet"),s.a&&s.b){if(!x(s,n,r,a,"a","b"))return void(n.visible=!1);r("text"),r("contours.type")==="constraint"?b(s,n,r,a,i,{hasHover:!1}):(g(s,n,r,function(o){return v.coerce2(s,n,t,o)}),c(s,n,r,a,{hasHover:!1}))}else n._defaultColor=i,n._length=null;r("zorder")}},40448:function(O,S,e){O.exports={attributes:e(37960),supplyDefaults:e(3252),colorbar:e(55296),calc:e(30572),plot:e(94440),style:e(52440),moduleType:"trace",name:"contourcarpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},94440:function(O,S,e){var v=e(33428),x=e(87072),t=e(53416),b=e(43616),g=e(3400),c=e(72424),s=e(88748),n=e(23676),i=e(93252),a=e(82172),r=e(61512),o=e(56008),l=e(50948),u=e(77712);function h(d,y,m){var w=d.getPointAtLength(y),_=d.getPointAtLength(m),A=_.x-w.x,p=_.y-w.y,L=Math.sqrt(A*A+p*p);return[A/L,p/L]}function f(d){var y=Math.sqrt(d[0]*d[0]+d[1]*d[1]);return[d[0]/y,d[1]/y]}function T(d,y){var m=Math.abs(d[0]*y[0]+d[1]*y[1]);return Math.sqrt(1-m*m)/m}O.exports=function(d,y,m,w){var _=y.xaxis,A=y.yaxis;g.makeTraceGroups(w,m,"contour").each(function(p){var L=v.select(this),M=p[0],C=M.trace,R=C._carpetTrace=l(d,C),I=d.calcdata[R.index][0];if(R.visible&&R.visible!=="legendonly"){var D=M.a,F=M.b,q=C.contours,z=r(q,y,M),V=q.type==="constraint",X=q._operation,j=V?X==="="?"lines":"fill":q.coloring,H=[[D[0],F[F.length-1]],[D[D.length-1],F[F.length-1]],[D[D.length-1],F[0]],[D[0],F[0]]];c(z);var G=1e-8*(D[D.length-1]-D[0]),ie=1e-8*(F[F.length-1]-F[0]);s(z,G,ie);var re,te,K,J,$=z;q.type==="constraint"&&($=a(z,X)),function(de,pe){var me,be,we,Te,Le,Ie,_e,fe,le;for(me=0;me<de.length;me++){for(Le=(Te=de[me]).pedgepaths=[],Ie=Te.ppaths=[],be=0;be<Te.edgepaths.length;be++){for(le=Te.edgepaths[be],_e=[],we=0;we<le.length;we++)_e[we]=pe(le[we]);Le.push(_e)}for(be=0;be<Te.paths.length;be++){for(le=Te.paths[be],fe=[],we=0;we<le.length;we++)fe[we]=pe(le[we]);Ie.push(fe)}}}(z,ce);var ae=[];for(J=I.clipsegments.length-1;J>=0;J--)re=I.clipsegments[J],te=x([],re.x,_.c2p),K=x([],re.y,A.c2p),te.reverse(),K.reverse(),ae.push(t(te,K,re.bicubic));var ue="M"+ae.join("L")+"Z";(function(de,pe,me,be,we,Te){var Le,Ie,_e,fe,le=g.ensureSingle(de,"g","contourbg").selectAll("path").data(Te!=="fill"||we?[]:[0]);le.enter().append("path"),le.exit().remove();var ye=[];for(fe=0;fe<pe.length;fe++)Le=pe[fe],Ie=x([],Le.x,me.c2p),_e=x([],Le.y,be.c2p),ye.push(t(Ie,_e,Le.bicubic));le.attr("d","M"+ye.join("L")+"Z").style("stroke","none")})(L,I.clipsegments,_,A,V,j),function(de,pe,me,be,we,Te,Le,Ie,_e,fe,le){var ye=fe==="fill";ye&&o(we,de.contours);var Oe=g.ensureSingle(pe,"g","contourfill").selectAll("path").data(ye?we:[]);Oe.enter().append("path"),Oe.exit().remove(),Oe.each(function(Ae){var Se=(Ae.prefixBoundary?le:"")+function(Pe,Fe,Be,xe,Me,Ce,Ne,Re){var He,Ye,Qe,lt,ut,xt,_t,mt="",it=Fe.edgepaths.map(function(ot,Ue){return Ue}),nt=!0,Et=1e-4*Math.abs(Be[0][0]-Be[2][0]),zt=1e-4*Math.abs(Be[0][1]-Be[2][1]);function Ft(ot){return Math.abs(ot[1]-Be[0][1])<zt}function Pt(ot){return Math.abs(ot[1]-Be[2][1])<zt}function Ze(ot){return Math.abs(ot[0]-Be[0][0])<Et}function Je(ot){return Math.abs(ot[0]-Be[2][0])<Et}function qe(ot,Ue){var Ve,st,Xe,gt,yt="";for(Ft(ot)&&!Je(ot)||Pt(ot)&&!Ze(ot)?(gt=Me.aaxis,Xe=u(Me,Ce,[ot[0],Ue[0]],.5*(ot[1]+Ue[1]))):(gt=Me.baxis,Xe=u(Me,Ce,.5*(ot[0]+Ue[0]),[ot[1],Ue[1]])),Ve=1;Ve<Xe.length;Ve++)for(yt+=gt.smoothing?"C":"L",st=0;st<Xe[Ve].length;st++){var bt=Xe[Ve][st];yt+=[Ne.c2p(bt[0]),Re.c2p(bt[1])]+" "}return yt}for(He=0,Ye=null;it.length;){var Ke=Fe.edgepaths[He][0];for(Ye&&(mt+=qe(Ye,Ke)),_t=b.smoothopen(Fe.edgepaths[He].map(xe),Fe.smoothing),mt+=nt?_t:_t.replace(/^M/,"L"),it.splice(it.indexOf(He),1),Ye=Fe.edgepaths[He][Fe.edgepaths[He].length-1],ut=-1,lt=0;lt<4;lt++){if(!Ye){g.log("Missing end?",He,Fe);break}for(Ft(Ye)&&!Je(Ye)?Qe=Be[1]:Ze(Ye)?Qe=Be[0]:Pt(Ye)?Qe=Be[3]:Je(Ye)&&(Qe=Be[2]),xt=0;xt<Fe.edgepaths.length;xt++){var ft=Fe.edgepaths[xt][0];Math.abs(Ye[0]-Qe[0])<Et?Math.abs(Ye[0]-ft[0])<Et&&(ft[1]-Ye[1])*(Qe[1]-ft[1])>=0&&(Qe=ft,ut=xt):Math.abs(Ye[1]-Qe[1])<zt?Math.abs(Ye[1]-ft[1])<zt&&(ft[0]-Ye[0])*(Qe[0]-ft[0])>=0&&(Qe=ft,ut=xt):g.log("endpt to newendpt is not vert. or horz.",Ye,Qe,ft)}if(ut>=0)break;mt+=qe(Ye,Qe),Ye=Qe}if(ut===Fe.edgepaths.length){g.log("unclosed perimeter path");break}He=ut,(nt=it.indexOf(He)===-1)&&(He=it[0],mt+=qe(Ye,Qe)+"Z",Ye=null)}for(He=0;He<Fe.paths.length;He++)mt+=b.smoothclosed(Fe.paths[He].map(xe),Fe.smoothing);return mt}(0,Ae,Te,Le,Ie,_e,me,be);Se?v.select(this).attr("d",Se).style("stroke","none"):v.select(this).remove()})}(C,L,_,A,$,H,ce,R,I,j,ue),function(de,pe,me,be,we,Te,Le){var Ie=me._context.staticPlot,_e=g.ensureSingle(de,"g","contourlines"),fe=we.showlines!==!1,le=we.showlabels,ye=fe&&le,Oe=n.createLines(_e,fe||le,pe,Ie),Ae=n.createLineClip(_e,ye,me,be.trace.uid),Se=de.selectAll("g.contourlabels").data(le?[0]:[]);if(Se.exit().remove(),Se.enter().append("g").classed("contourlabels",!0),le){var Pe=Te.xaxis,Fe=Te.yaxis,Be=Pe._length,xe=Fe._length,Me=[[[0,0],[Be,0],[Be,xe],[0,xe]]],Ce=[];g.clearLocationCache();var Ne=n.labelFormatter(me,be),Re=b.tester.append("text").attr("data-notex",1).call(b.font,we.labelfont),He={left:0,right:Be,center:Be/2,top:0,bottom:xe,middle:xe/2},Ye=Math.sqrt(Be*Be+xe*xe),Qe=i.LABELDISTANCE*Ye/Math.max(1,pe.length/i.LABELINCREASE);Oe.each(function(lt){var ut=n.calcTextOpts(lt.level,Ne,Re,me);v.select(this).selectAll("path").each(function(xt){var _t=this,mt=g.getVisibleSegment(_t,He,ut.height/2);if(mt&&(function(zt,Ft,Pt,Ze,Je,qe){for(var Ke,ft=0;ft<Pt.pedgepaths.length;ft++)Ft===Pt.pedgepaths[ft]&&(Ke=Pt.edgepaths[ft]);if(Ke){var ot=Je.a[0],Ue=Je.a[Je.a.length-1],Ve=Je.b[0],st=Je.b[Je.b.length-1],Xe=h(zt,0,1),gt=h(zt,Ze.total,Ze.total-1),yt=dt(Ke[0],Xe),bt=Ze.total-dt(Ke[Ke.length-1],gt);Ze.min<yt&&(Ze.min=yt),Ze.max>bt&&(Ze.max=bt),Ze.len=Ze.max-Ze.min}function dt(Lt,wt){var Ct,Rt=0,Dt=.1;return(Math.abs(Lt[0]-ot)<Dt||Math.abs(Lt[0]-Ue)<Dt)&&(Ct=f(Je.dxydb_rough(Lt[0],Lt[1],Dt)),Rt=Math.max(Rt,qe*T(wt,Ct)/2)),(Math.abs(Lt[1]-Ve)<Dt||Math.abs(Lt[1]-st)<Dt)&&(Ct=f(Je.dxyda_rough(Lt[0],Lt[1],Dt)),Rt=Math.max(Rt,qe*T(wt,Ct)/2)),Rt}}(_t,xt,lt,mt,Le,ut.height),!(mt.len<(ut.width+ut.height)*i.LABELMIN)))for(var it=Math.min(Math.ceil(mt.len/Qe),i.LABELMAX),nt=0;nt<it;nt++){var Et=n.findBestTextLocation(_t,mt,ut,Ce,He);if(!Et)break;n.addLabelData(Et,ut,Ce,Me)}})}),Re.remove(),n.drawLabels(Se,Ce,me,Ae,ye?Me:null)}le&&!fe&&Oe.remove()}(L,z,d,M,q,y,R),b.setClipUrl(L,R._clipPathId,d)}function ce(de){var pe=R.ab2xy(de[0],de[1],!0);return[_.c2p(pe[0]),A.c2p(pe[1])]}})}},33928:function(O,S,e){var v=e(49084),x=e(21776).Ks,t=e(45464),b=e(31512),g=e(92880).extendFlat;O.exports=g({lon:b.lon,lat:b.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:b.text,hovertext:b.hovertext,hoverinfo:g({},t.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:x(),showlegend:g({},t.showlegend,{dflt:!1})},v("",{cLetter:"z",editTypeOverride:"calc"}))},90876:function(O,S,e){var v=e(38248),x=e(3400).isArrayOrTypedArray,t=e(39032).BADNUM,b=e(47128),g=e(3400)._;O.exports=function(c,s){for(var n=s._length,i=new Array(n),a=s.z,r=x(a)&&a.length,o=0;o<n;o++){var l=i[o]={},u=s.lon[o],h=s.lat[o];if(l.lonlat=v(u)&&v(h)?[+u,+h]:[t,t],r){var f=a[o];l.z=v(f)?f:t}}return b(c,s,{vals:r?a:[0,1],containerStr:"",cLetter:"z"}),n&&(i[0].t={labels:{lat:g(c,"lat:")+" ",lon:g(c,"lon:")+" "}}),i}},4629:function(O,S,e){var v=e(38248),x=e(3400),t=e(76308),b=e(8932),g=e(39032).BADNUM,c=e(44808).makeBlank;O.exports=function(s){var n=s[0].trace,i=n.visible===!0&&n._length!==0,a=n._opts={heatmap:{layout:{visibility:"none"},paint:{}},geojson:c()};if(!i)return a;var r,o=[],l=n.z,u=n.radius,h=x.isArrayOrTypedArray(l)&&l.length,f=x.isArrayOrTypedArray(u);for(r=0;r<s.length;r++){var T=s[r],d=T.lonlat;if(d[0]!==g){var y={};if(h){var m=T.z;y.z=m!==g?m:0}f&&(y.r=v(u[r])&&u[r]>0?+u[r]:0),o.push({type:"Feature",geometry:{type:"Point",coordinates:d},properties:y})}}var w=b.extractOpts(n),_=w.reversescale?b.flipScale(w.colorscale):w.colorscale,A=_[0][1],p=["interpolate",["linear"],["heatmap-density"],0,t.opacity(A)<1?A:t.addOpacity(A,0)];for(r=1;r<_.length;r++)p.push(_[r][0],_[r][1]);var L=["interpolate",["linear"],["get","z"],w.min,0,w.max,1];return x.extendFlat(a.heatmap.paint,{"heatmap-weight":h?L:1/(w.max-w.min),"heatmap-color":p,"heatmap-radius":f?{type:"identity",property:"r"}:n.radius,"heatmap-opacity":n.opacity}),a.geojson={type:"FeatureCollection",features:o},a.heatmap.layout.visibility="visible",a}},97664:function(O,S,e){var v=e(3400),x=e(27260),t=e(33928);O.exports=function(b,g,c,s){function n(o,l){return v.coerce(b,g,t,o,l)}var i=n("lon")||[],a=n("lat")||[],r=Math.min(i.length,a.length);r?(g._length=r,n("z"),n("radius"),n("below"),n("text"),n("hovertext"),n("hovertemplate"),x(b,g,s,n,{prefix:"",cLetter:"z"})):g.visible=!1}},96176:function(O){O.exports=function(S,e){return S.lon=e.lon,S.lat=e.lat,S.z=e.z,S}},25336:function(O,S,e){var v=e(54460),x=e(63312).hoverPoints,t=e(63312).getExtraText;O.exports=function(b,g,c){var s=x(b,g,c);if(s){var n=s[0],i=n.cd,a=i[0].trace,r=i[n.index];if(delete n.color,"z"in r){var o=n.subplot.mockAxis;n.z=r.z,n.zLabel=v.tickText(o,o.c2l(r.z),"hover").text}return n.extraText=t(a,r,i[0].t.labels),[n]}}},15088:function(O,S,e){O.exports={attributes:e(33928),supplyDefaults:e(97664),colorbar:e(96288),formatLabels:e(11960),calc:e(90876),plot:e(35256),hoverPoints:e(25336),eventData:e(96176),getBelow:function(v,x){for(var t=x.getMapLayers(),b=0;b<t.length;b++){var g=t[b],c=g.id;if(g.type==="symbol"&&typeof c=="string"&&c.indexOf("plotly-")===-1)return c}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(33688),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},35256:function(O,S,e){var v=e(4629),x=e(47552).traceLayerPrefix;function t(g,c){this.type="densitymapbox",this.subplot=g,this.uid=c,this.sourceId="source-"+c,this.layerList=[["heatmap",x+c+"-heatmap"]],this.below=null}var b=t.prototype;b.update=function(g){var c=this.subplot,s=this.layerList,n=v(g),i=c.belowLookup["trace-"+this.uid];c.map.getSource(this.sourceId).setData(n.geojson),i!==this.below&&(this._removeLayers(),this._addLayers(n,i),this.below=i);for(var a=0;a<s.length;a++){var r=s[a],o=r[0],l=r[1],u=n[o];c.setOptions(l,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&c.setOptions(l,"setPaintProperty",u.paint)}},b._addLayers=function(g,c){for(var s=this.subplot,n=this.layerList,i=this.sourceId,a=0;a<n.length;a++){var r=n[a],o=r[0],l=g[o];s.addLayer({type:o,id:r[1],source:i,layout:l.layout,paint:l.paint},c)}},b._removeLayers=function(){for(var g=this.subplot.map,c=this.layerList,s=c.length-1;s>=0;s--)g.removeLayer(c[s][1])},b.dispose=function(){var g=this.subplot.map;this._removeLayers(),g.removeSource(this.sourceId)},O.exports=function(g,c){var s=c[0].trace,n=new t(g,s.uid),i=n.sourceId,a=v(c),r=n.below=g.belowLookup["trace-"+s.uid];return g.map.addSource(i,{type:"geojson",data:a.geojson}),n._addLayers(a,r),n}},74248:function(O,S,e){var v=e(3400);O.exports=function(x,t){for(var b=0;b<x.length;b++)x[b].i=b;v.mergeArray(t.text,x,"tx"),v.mergeArray(t.hovertext,x,"htx");var g=t.marker;if(g){v.mergeArray(g.opacity,x,"mo"),v.mergeArray(g.color,x,"mc");var c=g.line;c&&(v.mergeArray(c.color,x,"mlc"),v.mergeArrayCastPositive(c.width,x,"mlw"))}}},20088:function(O,S,e){var v,x=e(20832),t=e(52904).line,b=e(45464),g=e(29736).axisHoverFormat,c=e(21776).Ks,s=e(21776).Gw,n=e(74732),i=e(92880).extendFlat,a=e(76308);O.exports={x:x.x,x0:x.x0,dx:x.dx,y:x.y,y0:x.y0,dy:x.dy,xperiod:x.xperiod,yperiod:x.yperiod,xperiod0:x.xperiod0,yperiod0:x.yperiod0,xperiodalignment:x.xperiodalignment,yperiodalignment:x.yperiodalignment,xhoverformat:g("x"),yhoverformat:g("y"),hovertext:x.hovertext,hovertemplate:c({},{keys:n.eventDataKeys}),hoverinfo:i({},b.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:s({editType:"plot"},{keys:n.eventDataKeys.concat(["label","value"])}),text:x.text,textposition:x.textposition,insidetextanchor:i({},x.insidetextanchor,{dflt:"middle"}),textangle:i({},x.textangle,{dflt:0}),textfont:x.textfont,insidetextfont:x.insidetextfont,outsidetextfont:x.outsidetextfont,constraintext:x.constraintext,cliponaxis:x.cliponaxis,orientation:i({},x.orientation,{}),offset:i({},x.offset,{arrayOk:!1}),width:i({},x.width,{arrayOk:!1}),marker:(v=i({},x.marker),delete v.pattern,delete v.cornerradius,v),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:i({},t.color,{dflt:a.defaultLine}),width:i({},t.width,{dflt:0,editType:"plot"}),dash:t.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:x.offsetgroup,alignmentgroup:x.alignmentgroup,zorder:x.zorder}},23096:function(O,S,e){var v=e(54460),x=e(1220),t=e(74248),b=e(4500),g=e(39032).BADNUM;function c(s){return s===g?0:s}O.exports=function(s,n){var i,a,r,o,l,u,h,f,T=v.getFromId(s,n.xaxis||"x"),d=v.getFromId(s,n.yaxis||"y");n.orientation==="h"?(i=T.makeCalcdata(n,"x"),r=d.makeCalcdata(n,"y"),o=x(n,d,"y",r),l=!!n.yperiodalignment,u="y"):(i=d.makeCalcdata(n,"y"),r=T.makeCalcdata(n,"x"),o=x(n,T,"x",r),l=!!n.xperiodalignment,u="x"),a=o.vals;var y,m=Math.min(a.length,i.length),w=new Array(m);for(n._base=[],h=0;h<m;h++){i[h]<0&&(i[h]=g);var _=!1;i[h]!==g&&h+1<m&&i[h+1]!==g&&(_=!0),f=w[h]={p:a[h],s:i[h],cNext:_},n._base[h]=-.5*f.s,l&&(w[h].orig_p=r[h],w[h][u+"End"]=o.ends[h],w[h][u+"Start"]=o.starts[h]),n.ids&&(f.id=String(n.ids[h])),h===0&&(w[0].vTotal=0),w[0].vTotal+=c(f.s),f.begR=c(f.s)/c(w[0].s)}for(h=0;h<m;h++)(f=w[h]).s!==g&&(f.sumR=f.s/w[0].vTotal,f.difR=y!==void 0?f.s/y:1,y=f.s);return t(w,n),b(w,n),w}},74732:function(O){O.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},4804:function(O,S,e){var v=e(96376).setGroupPositions;O.exports=function(x,t){var b,g,c=x._fullLayout,s=x._fullData,n=x.calcdata,i=t.xaxis,a=t.yaxis,r=[],o=[],l=[];for(g=0;g<s.length;g++){var u=s[g],h=u.orientation==="h";u.visible===!0&&u.xaxis===i._id&&u.yaxis===a._id&&u.type==="funnel"&&(b=n[g],h?l.push(b):o.push(b),r.push(b))}var f={mode:c.funnelmode,norm:c.funnelnorm,gap:c.funnelgap,groupgap:c.funnelgroupgap};for(v(x,i,a,o,f),v(x,a,i,l,f),g=0;g<r.length;g++){b=r[g];for(var T=0;T<b.length;T++)T+1<b.length&&(b[T].nextP0=b[T+1].p0,b[T].nextS0=b[T+1].s0,b[T].nextP1=b[T+1].p1,b[T].nextS1=b[T+1].s1)}}},45432:function(O,S,e){var v=e(3400),x=e(20011),t=e(31508).handleText,b=e(43980),g=e(31147),c=e(20088),s=e(76308);O.exports={supplyDefaults:function(n,i,a,r){function o(f,T){return v.coerce(n,i,c,f,T)}if(b(n,i,r,o)){g(n,i,r,o),o("xhoverformat"),o("yhoverformat"),o("orientation",i.y&&!i.x?"v":"h"),o("offset"),o("width");var l=o("text");o("hovertext"),o("hovertemplate");var u=o("textposition");t(n,i,r,o,u,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),i.textposition==="none"||i.texttemplate||o("textinfo",v.isArrayOrTypedArray(l)?"text+value":"value");var h=o("marker.color",a);o("marker.line.color",s.defaultLine),o("marker.line.width"),o("connector.visible")&&(o("connector.fillcolor",function(f){var T=v.isArrayOrTypedArray(f)?"#000":f;return s.addOpacity(T,.5*s.opacity(T))}(h)),o("connector.line.width")&&(o("connector.line.color"),o("connector.line.dash"))),o("zorder")}else i.visible=!1},crossTraceDefaults:function(n,i){var a,r;function o(u){return v.coerce(r._input,r,c,u)}if(i.funnelmode==="group")for(var l=0;l<n.length;l++)a=(r=n[l])._input,x(a,r,i,o)}}},34580:function(O){O.exports=function(S,e){return S.x="xVal"in e?e.xVal:e.x,S.y="yVal"in e?e.yVal:e.y,"percentInitial"in e&&(S.percentInitial=e.percentInitial),"percentPrevious"in e&&(S.percentPrevious=e.percentPrevious),"percentTotal"in e&&(S.percentTotal=e.percentTotal),e.xa&&(S.xaxis=e.xa),e.ya&&(S.yaxis=e.ya),S}},31488:function(O,S,e){var v=e(76308).opacity,x=e(63400).hoverOnBars,t=e(3400).formatPercent;O.exports=function(b,g,c,s,n){var i=x(b,g,c,s,n);if(i){var a=i.cd,r=a[0].trace,o=r.orientation==="h",l=a[i.index];i[(o?"x":"y")+"LabelVal"]=l.s,i.percentInitial=l.begR,i.percentInitialLabel=t(l.begR,1),i.percentPrevious=l.difR,i.percentPreviousLabel=t(l.difR,1),i.percentTotal=l.sumR,i.percentTotalLabel=t(l.sumR,1);var u=l.hi||r.hoverinfo,h=[];if(u&&u!=="none"&&u!=="skip"){var f=u==="all",T=u.split("+"),d=function(y){return f||T.indexOf(y)!==-1};d("percent initial")&&h.push(i.percentInitialLabel+" of initial"),d("percent previous")&&h.push(i.percentPreviousLabel+" of previous"),d("percent total")&&h.push(i.percentTotalLabel+" of total")}return i.extraText=h.join("<br>"),i.color=function(y,m){var w=y.marker,_=m.mc||w.color,A=m.mlc||w.line.color,p=m.mlw||w.line.width;return v(_)?_:v(A)&&p?A:void 0}(r,l),[i]}}},94704:function(O,S,e){O.exports={attributes:e(20088),layoutAttributes:e(7076),supplyDefaults:e(45432).supplyDefaults,crossTraceDefaults:e(45432).crossTraceDefaults,supplyLayoutDefaults:e(11631),calc:e(23096),crossTraceCalc:e(4804),plot:e(42200),style:e(44544).style,hoverPoints:e(31488),eventData:e(34580),selectPoints:e(45784),moduleType:"trace",name:"funnel",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},7076:function(O){O.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},11631:function(O,S,e){var v=e(3400),x=e(7076);O.exports=function(t,b,g){var c=!1;function s(a,r){return v.coerce(t,b,x,a,r)}for(var n=0;n<g.length;n++){var i=g[n];if(i.visible&&i.type==="funnel"){c=!0;break}}c&&(s("funnelmode"),s("funnelgap",.2),s("funnelgroupgap"))}},42200:function(O,S,e){var v=e(33428),x=e(3400),t=e(43616),b=e(39032).BADNUM,g=e(98184),c=e(82744).clearMinTextSize;function s(n,i,a,r){var o=[],l=[],u=r?i:a,h=r?a:i;return o[0]=u.c2p(n.s0,!0),l[0]=h.c2p(n.p0,!0),o[1]=u.c2p(n.s1,!0),l[1]=h.c2p(n.p1,!0),o[2]=u.c2p(n.nextS0,!0),l[2]=h.c2p(n.nextP0,!0),o[3]=u.c2p(n.nextS1,!0),l[3]=h.c2p(n.nextP1,!0),r?[o,l]:[l,o]}O.exports=function(n,i,a,r){var o=n._fullLayout;c("funnel",o),function(l,u,h,f){var T=u.xaxis,d=u.yaxis;x.makeTraceGroups(f,h,"trace bars").each(function(y){var m=v.select(this),w=y[0].trace,_=x.ensureSingle(m,"g","regions");if(w.connector&&w.connector.visible){var A=w.orientation==="h",p=_.selectAll("g.region").data(x.identity);p.enter().append("g").classed("region",!0),p.exit().remove();var L=p.size();p.each(function(M,C){if(C===L-1||M.cNext){var R=s(M,T,d,A),I=R[0],D=R[1],F="";I[0]!==b&&D[0]!==b&&I[1]!==b&&D[1]!==b&&I[2]!==b&&D[2]!==b&&I[3]!==b&&D[3]!==b&&(F+=A?"M"+I[0]+","+D[1]+"L"+I[2]+","+D[2]+"H"+I[3]+"L"+I[1]+","+D[1]+"Z":"M"+I[1]+","+D[1]+"L"+I[2]+","+D[3]+"V"+D[2]+"L"+I[1]+","+D[0]+"Z"),F===""&&(F="M0,0Z"),x.ensureSingle(v.select(this),"path").attr("d",F).call(t.setClipUrl,u.layerClipId,l)}})}else _.remove()})}(n,i,a,r),function(l,u,h,f){var T=u.xaxis,d=u.yaxis;x.makeTraceGroups(f,h,"trace bars").each(function(y){var m=v.select(this),w=y[0].trace,_=x.ensureSingle(m,"g","lines");if(w.connector&&w.connector.visible&&w.connector.line.width){var A=w.orientation==="h",p=_.selectAll("g.line").data(x.identity);p.enter().append("g").classed("line",!0),p.exit().remove();var L=p.size();p.each(function(M,C){if(C===L-1||M.cNext){var R=s(M,T,d,A),I=R[0],D=R[1],F="";I[3]!==void 0&&D[3]!==void 0&&(A?(F+="M"+I[0]+","+D[1]+"L"+I[2]+","+D[2],F+="M"+I[1]+","+D[1]+"L"+I[3]+","+D[2]):(F+="M"+I[1]+","+D[1]+"L"+I[2]+","+D[3],F+="M"+I[1]+","+D[0]+"L"+I[2]+","+D[2])),F===""&&(F="M0,0Z"),x.ensureSingle(v.select(this),"path").attr("d",F).call(t.setClipUrl,u.layerClipId,l)}})}else _.remove()})}(n,i,a,r),g.plot(n,i,a,r,{mode:o.funnelmode,norm:o.funnelmode,gap:o.funnelgap,groupgap:o.funnelgroupgap})}},44544:function(O,S,e){var v=e(33428),x=e(43616),t=e(76308),b=e(13448).DESELECTDIM,g=e(60100),c=e(82744).resizeText,s=g.styleTextPoints;O.exports={style:function(n,i,a){var r=a||v.select(n).selectAll('g[class^="funnellayer"]').selectAll("g.trace");c(n,r,"funnel"),r.style("opacity",function(o){return o[0].trace.opacity}),r.each(function(o){var l=v.select(this),u=o[0].trace;l.selectAll(".point > path").each(function(h){if(!h.isBlank){var f=u.marker;v.select(this).call(t.fill,h.mc||f.color).call(t.stroke,h.mlc||f.line.color).call(x.dashLine,f.line.dash,h.mlw||f.line.width).style("opacity",u.selectedpoints&&!h.selected?b:1)}}),s(l,u,n),l.selectAll(".regions").each(function(){v.select(this).selectAll("path").style("stroke-width",0).call(t.fill,u.connector.fillcolor)}),l.selectAll(".lines").each(function(){var h=u.connector.line;x.lineGroupStyle(v.select(this).selectAll("path"),h.width,h.color,h.dash)})})}}},22332:function(O,S,e){var v=e(74996),x=e(45464),t=e(86968).u,b=e(21776).Ks,g=e(21776).Gw,c=e(92880).extendFlat;O.exports={labels:v.labels,label0:v.label0,dlabel:v.dlabel,values:v.values,marker:{colors:v.marker.colors,line:{color:c({},v.marker.line.color,{dflt:null}),width:c({},v.marker.line.width,{dflt:1}),editType:"calc"},pattern:v.marker.pattern,editType:"calc"},text:v.text,hovertext:v.hovertext,scalegroup:c({},v.scalegroup,{}),textinfo:c({},v.textinfo,{flags:["label","text","value","percent"]}),texttemplate:g({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:c({},x.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:b({},{keys:["label","color","value","text","percent"]}),textposition:c({},v.textposition,{values:["inside","none"],dflt:"inside"}),textfont:v.textfont,insidetextfont:v.insidetextfont,title:{text:v.title.text,font:v.title.font,position:c({},v.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:t({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},91248:function(O,S,e){var v=e(7316);S.name="funnelarea",S.plot=function(x,t,b,g){v.plotBasePlot(S.name,x,t,b,g)},S.clean=function(x,t,b,g){v.cleanBasePlot(S.name,x,t,b,g)}},54e3:function(O,S,e){var v=e(45768);O.exports={calc:function(x,t){return v.calc(x,t)},crossTraceCalc:function(x){v.crossTraceCalc(x,{type:"funnelarea"})}}},92688:function(O,S,e){var v=e(3400),x=e(22332),t=e(86968).Q,b=e(31508).handleText,g=e(74174).handleLabelsAndValues,c=e(74174).handleMarkerDefaults;O.exports=function(s,n,i,a){function r(m,w){return v.coerce(s,n,x,m,w)}var o=r("labels"),l=r("values"),u=g(o,l),h=u.len;if(n._hasLabels=u.hasLabels,n._hasValues=u.hasValues,!n._hasLabels&&n._hasValues&&(r("label0"),r("dlabel")),h){n._length=h,c(s,n,a,r),r("scalegroup");var f,T=r("text"),d=r("texttemplate");if(d||(f=r("textinfo",Array.isArray(T)?"text+percent":"percent")),r("hovertext"),r("hovertemplate"),d||f&&f!=="none"){var y=r("textposition");b(s,n,a,r,y,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}else f==="none"&&r("textposition","none");t(n,a,r),r("title.text")&&(r("title.position"),v.coerceFont(r,"title.font",a.font)),r("aspectratio"),r("baseratio")}else n.visible=!1}},62396:function(O,S,e){O.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(91248),categories:["pie-like","funnelarea","showLegend"],attributes:e(22332),layoutAttributes:e(61280),supplyDefaults:e(92688),supplyLayoutDefaults:e(35384),calc:e(54e3).calc,crossTraceCalc:e(54e3).crossTraceCalc,plot:e(39472),style:e(62096),styleOne:e(10528),meta:{}}},61280:function(O,S,e){var v=e(85204).hiddenlabels;O.exports={hiddenlabels:v,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},35384:function(O,S,e){var v=e(3400),x=e(61280);O.exports=function(t,b){function g(c,s){return v.coerce(t,b,x,c,s)}g("hiddenlabels"),g("funnelareacolorway",b.colorway),g("extendfunnelareacolors")}},39472:function(O,S,e){var v=e(33428),x=e(43616),t=e(3400),b=t.strScale,g=t.strTranslate,c=e(72736),s=e(98184).toMoveInsideBar,n=e(82744),i=n.recordMinTextSize,a=n.clearMinTextSize,r=e(69656),o=e(37820),l=o.attachFxHandlers,u=o.determineInsideTextFont,h=o.layoutAreas,f=o.prerenderTitles,T=o.positionTitleOutside,d=o.formatSliceLabel;function y(m,w){return"l"+(w[0]-m[0])+","+(w[1]-m[1])}O.exports=function(m,w){var _=m._context.staticPlot,A=m._fullLayout;a("funnelarea",A),f(w,m),h(w,A._size),t.makeTraceGroups(A._funnelarealayer,w,"trace").each(function(p){var L=v.select(this),M=p[0],C=M.trace;(function(R){if(R.length){var I=R[0],D=I.trace,F=D.aspectratio,q=D.baseratio;q>.999&&(q=.999);var z,V,X,j=Math.pow(q,2),H=I.vTotal,G=H,ie=H*j/(1-j)/H,re=[];for(re.push(_e()),V=R.length-1;V>-1;V--)if(!(X=R[V]).hidden){var te=X.v/G;ie+=te,re.push(_e())}var K=1/0,J=-1/0;for(V=0;V<re.length;V++)z=re[V],K=Math.min(K,z[1]),J=Math.max(J,z[1]);for(V=0;V<re.length;V++)re[V][1]-=(J+K)/2;var $=re[re.length-1][0],ae=I.r,ue=(J-K)/2,ce=ae/$,de=ae/ue*F;for(I.r=de*ue,V=0;V<re.length;V++)re[V][0]*=ce,re[V][1]*=de;var pe,me,be=[-(z=re[0])[0],z[1]],we=[z[0],z[1]],Te=0;for(V=R.length-1;V>-1;V--)if(!(X=R[V]).hidden){var Le=re[Te+=1][0],Ie=re[Te][1];X.TL=[-Le,Ie],X.TR=[Le,Ie],X.BL=be,X.BR=we,X.pxmid=(pe=X.TR,me=X.BR,[.5*(pe[0]+me[0]),.5*(pe[1]+me[1])]),be=X.TL,we=X.TR}}function _e(){var fe,le={x:fe=Math.sqrt(ie),y:-fe};return[le.x,le.y]}})(p),L.each(function(){var R=v.select(this).selectAll("g.slice").data(p);R.enter().append("g").classed("slice",!0),R.exit().remove(),R.each(function(D,F){if(D.hidden)v.select(this).selectAll("path,g").remove();else{D.pointNumber=D.i,D.curveNumber=C.index;var q=M.cx,z=M.cy,V=v.select(this),X=V.selectAll("path.surface").data([D]);X.enter().append("path").classed("surface",!0).style({"pointer-events":_?"none":"all"}),V.call(l,m,p);var j="M"+(q+D.TR[0])+","+(z+D.TR[1])+y(D.TR,D.BR)+y(D.BR,D.BL)+y(D.BL,D.TL)+"Z";X.attr("d",j),d(m,D,M);var H=r.castOption(C.textposition,D.pts),G=V.selectAll("g.slicetext").data(D.text&&H!=="none"?[0]:[]);G.enter().append("g").classed("slicetext",!0),G.exit().remove(),G.each(function(){var ie=t.ensureSingle(v.select(this),"text","",function(ce){ce.attr("data-notex",1)}),re=t.ensureUniformFontSize(m,u(C,D,A.font));ie.text(D.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(x.font,re).call(c.convertToTspans,m);var te,K,J,$=x.bBox(ie.node()),ae=Math.min(D.BL[1],D.BR[1])+z,ue=Math.max(D.TL[1],D.TR[1])+z;K=Math.max(D.TL[0],D.BL[0])+q,J=Math.min(D.TR[0],D.BR[0])+q,(te=s(K,J,ae,ue,$,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"})).fontSize=re.size,i(C.type,te,A),p[F].transform=te,t.setTransormAndDisplay(ie,te)})}});var I=v.select(this).selectAll("g.titletext").data(C.title.text?[0]:[]);I.enter().append("g").classed("titletext",!0),I.exit().remove(),I.each(function(){var D=t.ensureSingle(v.select(this),"text","",function(z){z.attr("data-notex",1)}),F=C.title.text;C._meta&&(F=t.templateString(F,C._meta)),D.text(F).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(x.font,C.title.font).call(c.convertToTspans,m);var q=T(M,A._size);D.attr("transform",g(q.x,q.y)+b(Math.min(1,q.scale))+g(q.tx,q.ty))})})})}},62096:function(O,S,e){var v=e(33428),x=e(10528),t=e(82744).resizeText;O.exports=function(b){var g=b._fullLayout._funnelarealayer.selectAll(".trace");t(b,g,"funnelarea"),g.each(function(c){var s=c[0].trace,n=v.select(this);n.style({opacity:s.opacity}),n.selectAll("path.surface").each(function(i){v.select(this).call(x,i,s,b)})})}},83328:function(O,S,e){var v=e(52904),x=e(45464),t=e(25376),b=e(29736).axisHoverFormat,g=e(21776).Ks,c=e(21776).Gw,s=e(49084),n=e(92880).extendFlat;O.exports=n({z:{valType:"data_array",editType:"calc"},x:n({},v.x,{impliedEdits:{xtype:"array"}}),x0:n({},v.x0,{impliedEdits:{xtype:"scaled"}}),dx:n({},v.dx,{impliedEdits:{xtype:"scaled"}}),y:n({},v.y,{impliedEdits:{ytype:"array"}}),y0:n({},v.y0,{impliedEdits:{ytype:"scaled"}}),dy:n({},v.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:n({},v.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:n({},v.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:n({},v.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:n({},v.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:n({},v.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:n({},v.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:b("x"),yhoverformat:b("y"),zhoverformat:b("z",1),hovertemplate:g(),texttemplate:c({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:t({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:n({},x.showlegend,{dflt:!1}),zorder:v.zorder},{transforms:void 0},s("",{cLetter:"z",autoColorDflt:!1}))},19512:function(O,S,e){var v=e(24040),x=e(3400),t=e(54460),b=e(1220),g=e(55480),c=e(47128),s=e(2872),n=e(26136),i=e(70448),a=e(11240),r=e(35744),o=e(39032).BADNUM;function l(u){for(var h=[],f=u.length,T=0;T<f;T++){var d=u[T];d!==o&&h.push(d)}return h}O.exports=function(u,h){var f,T,d,y,m,w,_,A,p,L,M,C=t.getFromId(u,h.xaxis||"x"),R=t.getFromId(u,h.yaxis||"y"),I=v.traceIs(h,"contour"),D=v.traceIs(h,"histogram"),F=v.traceIs(h,"gl2d"),q=I?"best":h.zsmooth;if(C._minDtick=0,R._minDtick=0,D)y=(M=g(u,h)).orig_x,f=M.x,T=M.x0,d=M.dx,A=M.orig_y,m=M.y,w=M.y0,_=M.dy,p=M.z;else{var z=h.z;x.isArray1D(z)?(s(h,C,R,"x","y",["z"]),f=h._x,m=h._y,z=h._z):(y=h.x?C.makeCalcdata(h,"x"):[],A=h.y?R.makeCalcdata(h,"y"):[],f=b(h,C,"x",y).vals,m=b(h,R,"y",A).vals,h._x=f,h._y=m),T=h.x0,d=h.dx,w=h.y0,_=h.dy,p=n(z,h,C,R)}function V(J){q=h._input.zsmooth=h.zsmooth=!1,x.warn('cannot use zsmooth: "fast": '+J)}function X(J){if(J.length>1){var $=(J[J.length-1]-J[0])/(J.length-1),ae=Math.abs($/100);for(L=0;L<J.length-1;L++)if(Math.abs(J[L+1]-J[L]-$)>ae)return!1}return!0}(C.rangebreaks||R.rangebreaks)&&(p=function(J,$,ae){for(var ue=[],ce=-1,de=0;de<ae.length;de++)if($[de]!==o){ue[++ce]=[];for(var pe=0;pe<ae[de].length;pe++)J[pe]!==o&&ue[ce].push(ae[de][pe])}return ue}(f,m,p),D||(f=l(f),m=l(m),h._x=f,h._y=m)),D||!I&&!h.connectgaps||(h._emptypoints=a(p),i(p,h._emptypoints)),h._islinear=!1,C.type==="log"||R.type==="log"?q==="fast"&&V("log axis found"):X(f)?X(m)?h._islinear=!0:q==="fast"&&V("y scale is not linear"):q==="fast"&&V("x scale is not linear");var j=x.maxRowLength(p),H=h.xtype==="scaled"?"":f,G=r(h,H,T,d,j,C),ie=h.ytype==="scaled"?"":m,re=r(h,ie,w,_,p.length,R);F||(h._extremes[C._id]=t.findExtremes(C,G),h._extremes[R._id]=t.findExtremes(R,re));var te={x:G,y:re,z:p,text:h._text||h.text,hovertext:h._hovertext||h.hovertext};if(h.xperiodalignment&&y&&(te.orig_x=y),h.yperiodalignment&&A&&(te.orig_y=A),H&&H.length===G.length-1&&(te.xCenter=H),ie&&ie.length===re.length-1&&(te.yCenter=ie),D&&(te.xRanges=M.xRanges,te.yRanges=M.yRanges,te.pts=M.pts),I||c(u,h,{vals:p,cLetter:"z"}),I&&h.contours&&h.contours.coloring==="heatmap"){var K={type:h.type==="contour"?"heatmap":"histogram2d",xcalendar:h.xcalendar,ycalendar:h.ycalendar};te.xfill=r(K,H,T,d,j,C),te.yfill=r(K,ie,w,_,p.length,R)}return[te]}},26136:function(O,S,e){var v=e(38248),x=e(3400),t=e(39032).BADNUM;O.exports=function(b,g,c,s){var n,i,a,r,o,l;function u(m){if(v(m))return+m}if(g&&g.transpose){for(n=0,o=0;o<b.length;o++)n=Math.max(n,b[o].length);if(n===0)return!1;a=function(m){return m.length},r=function(m,w,_){return(m[_]||[])[w]}}else n=b.length,a=function(m,w){return m[w].length},r=function(m,w,_){return(m[w]||[])[_]};var h=function(m,w,_){return w===t||_===t?t:r(m,w,_)};function f(m){if(g&&g.type!=="carpet"&&g.type!=="contourcarpet"&&m&&m.type==="category"&&g["_"+m._id.charAt(0)].length){var w=m._id.charAt(0),_={},A=g["_"+w+"CategoryMap"]||g[w];for(o=0;o<A.length;o++)_[A[o]]=o;return function(p){var L=_[m._categories[p]];return L+1?L:t}}return x.identity}var T=f(c),d=f(s);s&&s.type==="category"&&(n=s._categories.length);var y=new Array(n);for(o=0;o<n;o++)for(i=c&&c.type==="category"?c._categories.length:a(b,o),y[o]=new Array(i),l=0;l<i;l++)y[o][l]=u(h(b,d(o),T(l)));return y}},96288:function(O){O.exports={min:"zmin",max:"zmax"}},2872:function(O,S,e){var v=e(3400),x=e(39032).BADNUM,t=e(1220);O.exports=function(b,g,c,s,n,i){var a=b._length,r=g.makeCalcdata(b,s),o=c.makeCalcdata(b,n);r=t(b,g,s,r).vals,o=t(b,c,n,o).vals;var l,u,h,f,T=b.text,d=T!==void 0&&v.isArray1D(T),y=b.hovertext,m=y!==void 0&&v.isArray1D(y),w=v.distinctVals(r),_=w.vals,A=v.distinctVals(o),p=A.vals,L=[],M=p.length,C=_.length;for(l=0;l<i.length;l++)L[l]=v.init2dArray(M,C);d&&(h=v.init2dArray(M,C)),m&&(f=v.init2dArray(M,C));var R=v.init2dArray(M,C);for(l=0;l<a;l++)if(r[l]!==x&&o[l]!==x){var I=v.findBin(r[l]+w.minDiff/2,_),D=v.findBin(o[l]+A.minDiff/2,p);for(u=0;u<i.length;u++){var F=b[i[u]];L[u][D][I]=F[l],R[D][I]=l}d&&(h[D][I]=T[l]),m&&(f[D][I]=y[l])}for(b["_"+s]=_,b["_"+n]=p,u=0;u<i.length;u++)b["_"+i[u]]=L[u];d&&(b._text=h),m&&(b._hovertext=f),g&&g.type==="category"&&(b["_"+s+"CategoryMap"]=_.map(function(q){return g._categories[q]})),c&&c.type==="category"&&(b["_"+n+"CategoryMap"]=p.map(function(q){return c._categories[q]})),b._after2before=R}},24480:function(O,S,e){var v=e(3400),x=e(51264),t=e(39096),b=e(31147),g=e(82748),c=e(27260),s=e(83328);O.exports=function(n,i,a,r){function o(l,u){return v.coerce(n,i,s,l,u)}x(n,i,o,r)?(b(n,i,r,o),o("xhoverformat"),o("yhoverformat"),o("text"),o("hovertext"),o("hovertemplate"),t(o,r),g(n,i,o,r),o("hoverongaps"),o("connectgaps",v.isArray1D(i.z)&&i.zsmooth!==!1),c(n,i,r,o,{prefix:"",cLetter:"z"}),o("zorder")):i.visible=!1}},11240:function(O,S,e){var v=e(3400).maxRowLength;O.exports=function(x){var t,b,g,c,s,n,i,a,r=[],o={},l=[],u=x[0],h=[],f=[0,0,0],T=v(x);for(b=0;b<x.length;b++)for(t=h,h=u,u=x[b+1]||[],g=0;g<T;g++)h[g]===void 0&&((n=(h[g-1]!==void 0?1:0)+(h[g+1]!==void 0?1:0)+(t[g]!==void 0?1:0)+(u[g]!==void 0?1:0))?(b===0&&n++,g===0&&n++,b===x.length-1&&n++,g===h.length-1&&n++,n<4&&(o[[b,g]]=[b,g,n]),r.push([b,g,n])):l.push([b,g]));for(;l.length;){for(i={},a=!1,s=l.length-1;s>=0;s--)(n=((o[[(b=(c=l[s])[0])-1,g=c[1]]]||f)[2]+(o[[b+1,g]]||f)[2]+(o[[b,g-1]]||f)[2]+(o[[b,g+1]]||f)[2])/20)&&(i[c]=[b,g,n],l.splice(s,1),a=!0);if(!a)throw"findEmpties iterated with no new neighbors";for(c in i)o[c]=i[c],r.push(i[c])}return r.sort(function(d,y){return y[2]-d[2]})}},55512:function(O,S,e){var v=e(93024),x=e(3400),t=x.isArrayOrTypedArray,b=e(54460),g=e(8932).extractOpts;O.exports=function(c,s,n,i,a){a||(a={});var r,o,l,u,h=a.isContour,f=c.cd[0],T=f.trace,d=c.xa,y=c.ya,m=f.x,w=f.y,_=f.z,A=f.xCenter,p=f.yCenter,L=f.zmask,M=T.zhoverformat,C=m,R=w;if(c.index!==!1){try{l=Math.round(c.index[1]),u=Math.round(c.index[0])}catch{return void x.error("Error hovering on heatmap, pointNumber must be [row,col], found:",c.index)}if(l<0||l>=_[0].length||u<0||u>_.length)return}else{if(v.inbox(s-m[0],s-m[m.length-1],0)>0||v.inbox(n-w[0],n-w[w.length-1],0)>0)return;if(h){var I;for(C=[2*m[0]-m[1]],I=1;I<m.length;I++)C.push((m[I]+m[I-1])/2);for(C.push([2*m[m.length-1]-m[m.length-2]]),R=[2*w[0]-w[1]],I=1;I<w.length;I++)R.push((w[I]+w[I-1])/2);R.push([2*w[w.length-1]-w[w.length-2]])}l=Math.max(0,Math.min(C.length-2,x.findBin(s,C))),u=Math.max(0,Math.min(R.length-2,x.findBin(n,R)))}var D,F,q=d.c2p(m[l]),z=d.c2p(m[l+1]),V=y.c2p(w[u]),X=y.c2p(w[u+1]);h?(D=f.orig_x||m,F=f.orig_y||w,z=q,r=D[l],X=V,o=F[u]):(D=f.orig_x||A||m,F=f.orig_y||p||w,r=A?D[l]:(D[l]+D[l+1])/2,o=p?F[u]:(F[u]+F[u+1])/2,d&&d.type==="category"&&(r=m[l]),y&&y.type==="category"&&(o=w[u]),T.zsmooth&&(q=z=d.c2p(r),V=X=y.c2p(o)));var j=_[u][l];if(L&&!L[u][l]&&(j=void 0),j!==void 0||T.hoverongaps){var H;t(f.hovertext)&&t(f.hovertext[u])?H=f.hovertext[u][l]:t(f.text)&&t(f.text[u])&&(H=f.text[u][l]);var G=g(T),ie={type:"linear",range:[G.min,G.max],hoverformat:M,_separators:d._separators,_numFormat:d._numFormat},re=b.tickText(ie,j,"hover").text;return[x.extendFlat(c,{index:T._after2before?T._after2before[u][l]:[u,l],distance:c.maxHoverDistance,spikeDistance:c.maxSpikeDistance,x0:q,x1:z,y0:V,y1:X,xLabelVal:r,yLabelVal:o,zLabelVal:j,zLabel:re,text:H})]}}},81932:function(O,S,e){O.exports={attributes:e(83328),supplyDefaults:e(24480),calc:e(19512),plot:e(41420),colorbar:e(96288),style:e(41648),hoverPoints:e(55512),moduleType:"trace",name:"heatmap",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},70448:function(O,S,e){var v=e(3400),x=[[-1,0],[1,0],[0,-1],[0,1]];function t(g){return .5-.25*Math.min(1,.5*g)}function b(g,c,s){var n,i,a,r,o,l,u,h,f,T,d,y,m,w=0;for(r=0;r<c.length;r++){for(i=(n=c[r])[0],a=n[1],d=g[i][a],T=0,f=0,o=0;o<4;o++)(u=g[i+(l=x[o])[0]])&&(h=u[a+l[1]])!==void 0&&(T===0?y=m=h:(y=Math.min(y,h),m=Math.max(m,h)),f++,T+=h);if(f===0)throw"iterateInterp2d order is wrong: no defined neighbors";g[i][a]=T/f,d===void 0?f<4&&(w=1):(g[i][a]=(1+s)*g[i][a]-s*d,m>y&&(w=Math.max(w,Math.abs(g[i][a]-d)/(m-y))))}return w}O.exports=function(g,c){var s,n=1;for(b(g,c),s=0;s<c.length&&!(c[s][2]<4);s++);for(c=c.slice(s),s=0;s<100&&n>.01;s++)n=b(g,c,t(n));return n>.01&&v.log("interp2d didn't converge quickly",n),g}},39096:function(O,S,e){var v=e(3400);O.exports=function(x,t){x("texttemplate");var b=v.extendFlat({},t.font,{color:"auto",size:"auto"});v.coerceFont(x,"textfont",b)}},35744:function(O,S,e){var v=e(24040),x=e(3400).isArrayOrTypedArray;O.exports=function(t,b,g,c,s,n){var i,a,r,o=[],l=v.traceIs(t,"contour"),u=v.traceIs(t,"histogram"),h=v.traceIs(t,"gl2d");if(x(b)&&b.length>1&&!u&&n.type!=="category"){var f=b.length;if(!(f<=s))return l?b.slice(0,s):b.slice(0,s+1);if(l||h)o=Array.from(b).slice(0,s);else if(s===1)o=n.type==="log"?[.5*b[0],2*b[0]]:[b[0]-.5,b[0]+.5];else if(n.type==="log"){for(o=[Math.pow(b[0],1.5)/Math.pow(b[1],.5)],r=1;r<f;r++)o.push(Math.sqrt(b[r-1]*b[r]));o.push(Math.pow(b[f-1],1.5)/Math.pow(b[f-2],.5))}else{for(o=[1.5*b[0]-.5*b[1]],r=1;r<f;r++)o.push(.5*(b[r-1]+b[r]));o.push(1.5*b[f-1]-.5*b[f-2])}if(f<s){var T,d=o[o.length-1];if(n.type==="log")for(T=d/o[o.length-2],r=f;r<s;r++)d*=T,o.push(d);else for(T=d-o[o.length-2],r=f;r<s;r++)d+=T,o.push(d)}}else{var y=t[n._id.charAt(0)+"calendar"];for(i=u?n.r2c(g,0,y):x(b)&&b.length===1?b[0]:g===void 0?0:(n.type==="log"?n.d2c:n.r2c)(g,0,y),a=c||1,r=l||h?0:-.5;r<s;r++)o.push(i+a*r)}return o}},41420:function(O,S,e){var v=e(33428),x=e(49760),t=e(24040),b=e(43616),g=e(54460),c=e(3400),s=e(72736),n=e(76688),i=e(76308),a=e(8932).extractOpts,r=e(8932).makeColorScaleFuncFromTrace,o=e(9616),l=e(84284).LINE_SPACING,u=e(9188),h=e(2264).STYLE,f="heatmap-label";function T(_){return _.selectAll("g."+f)}function d(_){T(_).remove()}function y(_,A){var p=A.length-2,L=c.constrain(c.findBin(_,A),0,p),M=A[L],C=A[L+1],R=c.constrain(L+(_-M)/(C-M)-.5,0,p),I=Math.round(R),D=Math.abs(R-I);return R&&R!==p&&D?{bin0:I,frac:D,bin1:Math.round(I+D/(R-I))}:{bin0:I,bin1:I,frac:0}}function m(_,A){var p=A.length-1,L=c.constrain(c.findBin(_,A),0,p),M=A[L],C=(_-M)/(A[L+1]-M)||0;return C<=0?{bin0:L,bin1:L,frac:0}:C<.5?{bin0:L,bin1:L+1,frac:C}:{bin0:L+1,bin1:L,frac:1-C}}function w(_,A,p){_[A]=p[0],_[A+1]=p[1],_[A+2]=p[2],_[A+3]=Math.round(255*p[3])}O.exports=function(_,A,p,L){var M=A.xaxis,C=A.yaxis;c.makeTraceGroups(L,p,"hm").each(function(R){var I,D,F,q,z,V,X,j,H=v.select(this),G=R[0],ie=G.trace,re=ie.xgap||0,te=ie.ygap||0,K=G.z,J=G.x,$=G.y,ae=G.xCenter,ue=G.yCenter,ce=t.traceIs(ie,"contour"),de=ce?"best":ie.zsmooth,pe=K.length,me=c.maxRowLength(K),be=!1,we=!1;for(V=0;I===void 0&&V<J.length-1;)I=M.c2p(J[V]),V++;for(V=J.length-1;D===void 0&&V>0;)D=M.c2p(J[V]),V--;for(D<I&&(F=D,D=I,I=F,be=!0),V=0;q===void 0&&V<$.length-1;)q=C.c2p($[V]),V++;for(V=$.length-1;z===void 0&&V>0;)z=C.c2p($[V]),V--;z<q&&(F=q,q=z,z=F,we=!0),ce&&(ae=J,ue=$,J=G.xfill,$=G.yfill);var Te="default";if(de?Te=de==="best"?"smooth":"fast":ie._islinear&&re===0&&te===0&&u()&&(Te="fast"),Te!=="fast"){var Le=de==="best"?0:.5;I=Math.max(-Le*M._length,I),D=Math.min((1+Le)*M._length,D),q=Math.max(-Le*C._length,q),z=Math.min((1+Le)*C._length,z)}var Ie,_e,fe=Math.round(D-I),le=Math.round(z-q);if(I>=M._length||D<=0||q>=C._length||z<=0)return H.selectAll("image").data([]).exit().remove(),void d(H);Te==="fast"?(Ie=me,_e=pe):(Ie=fe,_e=le);var ye=document.createElement("canvas");ye.width=Ie,ye.height=_e;var Oe,Ae,Se=ye.getContext("2d",{willReadFrequently:!0}),Pe=r(ie,{noNumericCheck:!0,returnArray:!0});Te==="fast"?(Oe=be?function(vr){return me-1-vr}:c.identity,Ae=we?function(vr){return pe-1-vr}:c.identity):(Oe=function(vr){return c.constrain(Math.round(M.c2p(J[vr])-I),0,fe)},Ae=function(vr){return c.constrain(Math.round(C.c2p($[vr])-q),0,le)});var Fe,Be,xe,Me,Ce=Ae(0),Ne=[Ce,Ce],Re=be?0:1,He=we?0:1,Ye=0,Qe=0,lt=0,ut=0;function xt(vr,nn){if(vr!==void 0){var an=Pe(vr);return an[0]=Math.round(an[0]),an[1]=Math.round(an[1]),an[2]=Math.round(an[2]),Ye+=nn,Qe+=an[0]*nn,lt+=an[1]*nn,ut+=an[2]*nn,an}return[0,0,0,0]}function _t(vr,nn,an,In){var yn=vr[an.bin0];if(yn===void 0)return xt(void 0,1);var Dn,$n=vr[an.bin1],Hn=nn[an.bin0],Qn=nn[an.bin1],xr=$n-yn||0,Qt=Hn-yn||0;return Dn=$n===void 0?Qn===void 0?0:Hn===void 0?2*(Qn-yn):2*(2*Qn-Hn-yn)/3:Qn===void 0?Hn===void 0?0:2*(2*yn-$n-Hn)/3:Hn===void 0?2*(2*Qn-$n-yn)/3:Qn+yn-$n-Hn,xt(yn+an.frac*xr+In.frac*(Qt+an.frac*Dn))}if(Te!=="default"){var mt,it=0;try{mt=new Uint8Array(Ie*_e*4)}catch{mt=new Array(Ie*_e*4)}if(Te==="smooth"){var nt,Et,zt,Ft=ae||J,Pt=ue||$,Ze=new Array(Ft.length),Je=new Array(Pt.length),qe=new Array(fe),Ke=ae?m:y,ft=ue?m:y;for(V=0;V<Ft.length;V++)Ze[V]=Math.round(M.c2p(Ft[V])-I);for(V=0;V<Pt.length;V++)Je[V]=Math.round(C.c2p(Pt[V])-q);for(V=0;V<fe;V++)qe[V]=Ke(V,Ze);for(X=0;X<le;X++)for(Et=K[(nt=ft(X,Je)).bin0],zt=K[nt.bin1],V=0;V<fe;V++,it+=4)w(mt,it,Me=_t(Et,zt,qe[V],nt))}else for(X=0;X<pe;X++)for(xe=K[X],Ne=Ae(X),V=0;V<me;V++)Me=xt(xe[V],1),w(mt,it=4*(Ne*me+Oe(V)),Me);var ot=Se.createImageData(Ie,_e);try{ot.data.set(mt)}catch{var Ue=ot.data,Ve=Ue.length;for(X=0;X<Ve;X++)Ue[X]=mt[X]}Se.putImageData(ot,0,0)}else{var st=Math.floor(re/2),Xe=Math.floor(te/2);for(X=0;X<pe;X++)if(xe=K[X],Ne.reverse(),Ne[He]=Ae(X+1),Ne[0]!==Ne[1]&&Ne[0]!==void 0&&Ne[1]!==void 0)for(Fe=[Be=Oe(0),Be],V=0;V<me;V++)Fe.reverse(),Fe[Re]=Oe(V+1),Fe[0]!==Fe[1]&&Fe[0]!==void 0&&Fe[1]!==void 0&&(Me=xt(xe[V],(Fe[1]-Fe[0])*(Ne[1]-Ne[0])),Se.fillStyle="rgba("+Me.join(",")+")",Se.fillRect(Fe[0]+st,Ne[0]+Xe,Fe[1]-Fe[0]-re,Ne[1]-Ne[0]-te))}Qe=Math.round(Qe/Ye),lt=Math.round(lt/Ye),ut=Math.round(ut/Ye);var gt=x("rgb("+Qe+","+lt+","+ut+")");_._hmpixcount=(_._hmpixcount||0)+Ye,_._hmlumcount=(_._hmlumcount||0)+Ye*gt.getLuminance();var yt=H.selectAll("image").data(R);yt.enter().append("svg:image").attr({xmlns:o.svg,preserveAspectRatio:"none"}),yt.attr({height:le,width:fe,x:I,y:q,"xlink:href":ye.toDataURL("image/png")}),Te!=="fast"||de||yt.attr("style",h),d(H);var bt=ie.texttemplate;if(bt){var dt=a(ie),Lt={type:"linear",range:[dt.min,dt.max],_separators:M._separators,_numFormat:M._numFormat},wt=ie.type==="histogram2dcontour",Ct=ie.type==="contour",Rt=Ct?pe-1:pe,Dt=Ct?1:0,Nt=Ct?me-1:me,Xt=[];for(V=Ct?1:0;V<Rt;V++){var un;if(Ct)un=G.y[V];else if(wt){if(V===0||V===pe-1)continue;un=G.y[V]}else if(G.yCenter)un=G.yCenter[V];else{if(V+1===pe&&G.y[V+1]===void 0)continue;un=(G.y[V]+G.y[V+1])/2}var qt=Math.round(C.c2p(un));if(!(0>qt||qt>C._length))for(X=Dt;X<Nt;X++){var Kt;if(Ct)Kt=G.x[X];else if(wt){if(X===0||X===me-1)continue;Kt=G.x[X]}else if(G.xCenter)Kt=G.xCenter[X];else{if(X+1===me&&G.x[X+1]===void 0)continue;Kt=(G.x[X]+G.x[X+1])/2}var Ut=Math.round(M.c2p(Kt));if(!(0>Ut||Ut>M._length)){var Rn=n({x:Kt,y:un},ie,_._fullLayout);Rn.x=Kt,Rn.y=un;var An=G.z[V][X];An===void 0?(Rn.z="",Rn.zLabel=""):(Rn.z=An,Rn.zLabel=g.tickText(Lt,An,"hover").text);var mn=G.text&&G.text[V]&&G.text[V][X];mn!==void 0&&mn!==!1||(mn=""),Rn.text=mn;var tn=c.texttemplateString(bt,Rn,_._fullLayout._d3locale,Rn,ie._meta||{});if(tn){var fn=tn.split("<br>"),rn=fn.length,pn=0;for(j=0;j<rn;j++)pn=Math.max(pn,fn[j].length);Xt.push({l:rn,c:pn,t:tn,x:Ut,y:qt,z:An})}}}}var wn=ie.textfont,kn=wn.size,Pn=_._fullLayout.font.size;if(!kn||kn==="auto"){var On=1/0,En=1/0,Vn=0,Bn=0;for(j=0;j<Xt.length;j++){var Wn=Xt[j];if(Vn=Math.max(Vn,Wn.l),Bn=Math.max(Bn,Wn.c),j<Xt.length-1){var rr=Xt[j+1],ir=Math.abs(rr.x-Wn.x),Kn=Math.abs(rr.y-Wn.y);ir&&(On=Math.min(On,ir)),Kn&&(En=Math.min(En,Kn))}}isFinite(On)&&isFinite(En)?(On-=re,En-=te,On/=Bn,En/=Vn,On/=l/2,En/=l,kn=Math.min(Math.floor(On),Math.floor(En),Pn)):kn=Pn}if(kn<=0||!isFinite(kn))return;T(H).data(Xt).enter().append("g").classed(f,1).append("text").attr("text-anchor","middle").each(function(vr){var nn=v.select(this),an=wn.color;an&&an!=="auto"||(an=i.contrast(vr.z===void 0?_._fullLayout.plot_bgcolor:"rgba("+Pe(vr.z).join()+")")),nn.attr("data-notex",1).call(s.positionText,function(In){return In.x}(vr),function(In){return In.y-kn*(In.l*l/2-1)}(vr)).call(b.font,{family:wn.family,size:kn,color:an,weight:wn.weight,style:wn.style,variant:wn.variant,textcase:wn.textcase,lineposition:wn.lineposition,shadow:wn.shadow}).text(vr.t).call(s.convertToTspans,_)})}})}},41648:function(O,S,e){var v=e(33428);O.exports=function(x){v.select(x).selectAll(".hm image").style("opacity",function(t){return t.trace.opacity})}},82748:function(O){O.exports=function(S,e,v){v("zsmooth")===!1&&(v("xgap"),v("ygap")),v("zhoverformat")}},51264:function(O,S,e){var v=e(38248),x=e(3400),t=e(24040);function b(g,c){var s=c(g);return(s?c(g+"type","array"):"scaled")==="scaled"&&(c(g+"0"),c("d"+g)),s}O.exports=function(g,c,s,n,i,a){var r,o,l=s("z");if(i=i||"x",a=a||"y",l===void 0||!l.length)return 0;if(x.isArray1D(l)){r=s(i),o=s(a);var u=x.minRowLength(r),h=x.minRowLength(o);if(u===0||h===0)return 0;c._length=Math.min(u,h,l.length)}else{if(r=b(i,s),o=b(a,s),!function(f){for(var T,d=!0,y=!1,m=!1,w=0;w<f.length;w++){if(T=f[w],!x.isArrayOrTypedArray(T)){d=!1;break}T.length>0&&(y=!0);for(var _=0;_<T.length;_++)if(v(T[_])){m=!0;break}}return d&&y&&m}(l))return 0;s("transpose"),c._length=null}return g.type==="heatmapgl"||t.getComponentMethod("calendars","handleTraceDefaults")(g,c,[i,a],n),!0}},74512:function(O,S,e){for(var v=e(83328),x=e(49084),t=e(92880).extendFlat,b=e(67824).overrideAll,g=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],c={},s=0;s<g.length;s++){var n=g[s];c[n]=v[n]}c.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},t(c,x("",{cLetter:"z",autoColorDflt:!1})),O.exports=b(c,"calc","nested")},84656:function(O,S,e){var v=e(67792).gl_heatmap2d,x=e(54460),t=e(43080);function b(c,s){this.scene=c,this.uid=s,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=v(c.glplot,this.options),this.heatmap._trace=this}var g=b.prototype;g.handlePick=function(c){var s=this.options,n=s.shape,i=c.pointId,a=i%n[0],r=Math.floor(i/n[0]),o=i;return{trace:this,dataCoord:c.dataCoord,traceCoord:[s.x[a],s.y[r],s.z[o]],textLabel:this.textLabels[i],name:this.name,pointIndex:[r,a],hoverinfo:this.hoverinfo}},g.update=function(c,s){var n=s[0];this.index=c.index,this.name=c.name,this.hoverinfo=c.hoverinfo;var i=n.z;this.options.z=[].concat.apply([],i);var a=i[0].length,r=i.length;this.options.shape=[a,r],this.options.x=n.x,this.options.y=n.y,this.options.zsmooth=c.zsmooth;var o=function(T){for(var d=T.colorscale,y=T.zmin,m=T.zmax,w=d.length,_=new Array(w),A=new Array(4*w),p=0;p<w;p++){var L=d[p],M=t(L[1]);_[p]=y+L[0]*(m-y);for(var C=0;C<4;C++)A[4*p+C]=M[C]}return{colorLevels:_,colorValues:A}}(c);this.options.colorLevels=o.colorLevels,this.options.colorValues=o.colorValues,this.textLabels=[].concat.apply([],c.text),this.heatmap.update(this.options);var l,u,h=this.scene.xaxis,f=this.scene.yaxis;c.zsmooth===!1&&(l={ppad:n.x[1]-n.x[0]},u={ppad:n.y[1]-n.y[0]}),c._extremes[h._id]=x.findExtremes(h,n.x,l),c._extremes[f._id]=x.findExtremes(f,n.y,u)},g.dispose=function(){this.heatmap.dispose()},O.exports=function(c,s,n){var i=new b(c,s.uid);return i.update(s,n),i}},86464:function(O,S,e){var v=e(3400),x=e(51264),t=e(27260),b=e(74512);O.exports=function(g,c,s,n){function i(a,r){return v.coerce(g,c,b,a,r)}x(g,c,i,n)?(i("text"),i("zsmooth"),t(g,c,n,i,{prefix:"",cLetter:"z"})):c.visible=!1}},45536:function(O,S,e){O.exports={attributes:e(74512),supplyDefaults:e(86464),colorbar:e(96288),calc:e(19512),plot:e(84656),moduleType:"trace",name:"heatmapgl",basePlotModule:e(39952),categories:["gl","gl2d","2dMap"],meta:{}}},40196:function(O,S,e){var v=e(20832),x=e(29736).axisHoverFormat,t=e(21776).Ks,b=e(21776).Gw,g=e(25376),c=e(11120),s=e(73316),n=e(92880).extendFlat;O.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:x("x"),yhoverformat:x("y"),text:n({},v.text,{}),hovertext:n({},v.hovertext,{}),orientation:v.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:c("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:c("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:t({},{keys:s.eventDataKeys}),texttemplate:b({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:n({},v.textposition,{arrayOk:!1}),textfont:g({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:g({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:g({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:v.insidetextanchor,textangle:v.textangle,cliponaxis:v.cliponaxis,constraintext:v.constraintext,marker:v.marker,offsetgroup:v.offsetgroup,alignmentgroup:v.alignmentgroup,selected:v.selected,unselected:v.unselected,_deprecated:{bardir:v._deprecated.bardir},zorder:v.zorder}},2e3:function(O){O.exports=function(S,e){for(var v=S.length,x=0,t=0;t<v;t++)e[t]?(S[t]/=e[t],x+=S[t]):S[t]=null;return x}},11120:function(O){O.exports=function(S,e){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},16964:function(O,S,e){var v=e(38248);O.exports={count:function(x,t,b){return b[x]++,1},sum:function(x,t,b,g){var c=g[t];return v(c)?(c=Number(c),b[x]+=c,c):0},avg:function(x,t,b,g,c){var s=g[t];return v(s)&&(s=Number(s),b[x]+=s,c[x]++),0},min:function(x,t,b,g){var c=g[t];if(v(c)){if(c=Number(c),!v(b[x]))return b[x]=c,c;if(b[x]>c){var s=c-b[x];return b[x]=c,s}}return 0},max:function(x,t,b,g){var c=g[t];if(v(c)){if(c=Number(c),!v(b[x]))return b[x]=c,c;if(b[x]<c){var s=c-b[x];return b[x]=c,s}}return 0}}},67712:function(O,S,e){var v=e(39032),x=v.ONEAVGYEAR,t=v.ONEAVGMONTH,b=v.ONEDAY,g=v.ONEHOUR,c=v.ONEMIN,s=v.ONESEC,n=e(54460).tickIncrement;function i(l,u,h,f){if(l*u<=0)return 1/0;for(var T=Math.abs(u-l),d=h.type==="date",y=a(T,d),m=0;m<10;m++){var w=a(80*y,d);if(y===w||!r(w,l,u,d,h,f))break;y=w}return y}function a(l,u){return u&&l>s?l>b?l>1.1*x?x:l>1.1*t?t:b:l>g?g:l>c?c:s:Math.pow(10,Math.floor(Math.log(l)/Math.LN10))}function r(l,u,h,f,T,d){if(f&&l>b){var y=o(u,T,d),m=o(h,T,d),w=l===x?0:1;return y[w]!==m[w]}return Math.floor(h/l)-Math.floor(u/l)>.1}function o(l,u,h){var f=u.c2d(l,x,h).split("-");return f[0]===""&&(f.unshift(),f[0]="-"+f[0]),f}O.exports=function(l,u,h,f,T){var d,y,m=-1.1*u,w=-.1*u,_=l-w,A=h[0],p=h[1],L=Math.min(i(A+w,A+_,f,T),i(p+w,p+_,f,T)),M=Math.min(i(A+m,A+w,f,T),i(p+m,p+w,f,T));if(L>M&&M<Math.abs(p-A)/4e3?(d=L,y=!1):(d=Math.min(L,M),y=!0),f.type==="date"&&d>b){var C=d===x?1:6,R=d===x?"M12":"M1";return function(I,D){var F=f.c2d(I,x,T),q=F.indexOf("-",C);q>0&&(F=F.substr(0,q));var z=f.d2c(F,0,T);if(z<I){var V=n(z,R,!1,T);(z+V)/2<I+l&&(z=V)}return D&&y?n(z,R,!0,T):z}}return function(I,D){var F=d*Math.round(I/d);return F+d/10<I&&F+.9*d<I+l&&(F+=d),D&&y&&(F-=d),F}}},35852:function(O,S,e){var v=e(38248),x=e(3400),t=e(24040),b=e(54460),g=e(84664),c=e(16964),s=e(10648),n=e(2e3),i=e(67712);function a(r,o,l,u,h){var f,T,d,y,m,w,_,A=u+"bins",p=r._fullLayout,L=o["_"+u+"bingroup"],M=p._histogramBinOpts[L],C=p.barmode==="overlay",R=function(we){return l.r2c(we,0,y)},I=function(we){return l.c2r(we,0,y)},D=l.type==="date"?function(we){return we||we===0?x.cleanDate(we,null,y):null}:function(we){return v(we)?Number(we):null};function F(we,Te,Le){Te[we+"Found"]?(Te[we]=D(Te[we]),Te[we]===null&&(Te[we]=Le[we])):(w[we]=Te[we]=Le[we],x.nestedProperty(T[0],A+"."+we).set(Le[we]))}if(o["_"+u+"autoBinFinished"])delete o["_"+u+"autoBinFinished"];else{T=M.traces;var q=[],z=!0,V=!1,X=!1;for(f=0;f<T.length;f++)if((d=T[f]).visible){var j=M.dirs[f];m=d["_"+j+"pos0"]=l.makeCalcdata(d,j),q=x.concat(q,m),delete d["_"+u+"autoBinFinished"],o.visible===!0&&(z?z=!1:(delete d._autoBin,d["_"+u+"autoBinFinished"]=1),t.traceIs(d,"2dMap")&&(V=!0),d.type==="histogram2dcontour"&&(X=!0))}y=T[0][u+"calendar"];var H=b.autoBin(q,l,M.nbins,V,y,M.sizeFound&&M.size),G=T[0]._autoBin={};if(w=G[M.dirs[0]]={},X&&(M.size||(H.start=I(b.tickIncrement(R(H.start),H.size,!0,y))),M.end===void 0&&(H.end=I(b.tickIncrement(R(H.end),H.size,!1,y)))),C&&!t.traceIs(o,"2dMap")&&H._dataSpan===0&&l.type!=="category"&&l.type!=="multicategory"&&o.bingroup===""&&o.xbins===void 0){if(h)return[H,m,!0];H=function(we,Te,Le,Ie,_e){var fe,le,ye,Oe=we._fullLayout,Ae=function(Qe,lt){for(var ut=lt.xaxis,xt=lt.yaxis,_t=lt.orientation,mt=[],it=Qe._fullData,nt=0;nt<it.length;nt++){var Et=it[nt];Et.type==="histogram"&&Et.visible===!0&&Et.orientation===_t&&Et.xaxis===ut&&Et.yaxis===xt&&mt.push(Et)}return mt}(we,Te),Se=!1,Pe=1/0,Fe=[Te];for(fe=0;fe<Ae.length;fe++)if((le=Ae[fe])===Te)Se=!0;else if(Se){var Be=a(we,le,Le,Ie,!0),xe=Be[0],Me=Be[2];le["_"+Ie+"autoBinFinished"]=1,le["_"+Ie+"pos0"]=Be[1],Me?Fe.push(le):Pe=Math.min(Pe,xe.size)}else ye=Oe._histogramBinOpts[le["_"+Ie+"bingroup"]],Pe=Math.min(Pe,ye.size||le[_e].size);var Ce=new Array(Fe.length);for(fe=0;fe<Fe.length;fe++)for(var Ne=Fe[fe]["_"+Ie+"pos0"],Re=0;Re<Ne.length;Re++)if(Ne[Re]!==void 0){Ce[fe]=Ne[Re];break}for(isFinite(Pe)||(Pe=x.distinctVals(Ce).minDiff),fe=0;fe<Fe.length;fe++){var He=(le=Fe[fe])[Ie+"calendar"],Ye={start:Le.c2r(Ce[fe]-Pe/2,0,He),end:Le.c2r(Ce[fe]+Pe/2,0,He),size:Pe};le._input[_e]=le[_e]=Ye,(ye=Oe._histogramBinOpts[le["_"+Ie+"bingroup"]])&&x.extendFlat(ye,Ye)}return Te[_e]}(r,o,l,u,A)}(_=d.cumulative||{}).enabled&&_.currentbin!=="include"&&(_.direction==="decreasing"?H.start=I(b.tickIncrement(R(H.start),H.size,!0,y)):H.end=I(b.tickIncrement(R(H.end),H.size,!1,y))),M.size=H.size,M.sizeFound||(w.size=H.size,x.nestedProperty(T[0],A+".size").set(H.size)),F("start",M,H),F("end",M,H)}m=o["_"+u+"pos0"],delete o["_"+u+"pos0"];var ie=o._input[A]||{},re=x.extendFlat({},M),te=M.start,K=l.r2l(ie.start),J=K!==void 0;if((M.startFound||J)&&K!==l.r2l(te)){var $=J?K:x.aggNums(Math.min,null,m),ae={type:l.type==="category"||l.type==="multicategory"?"linear":l.type,r2l:l.r2l,dtick:M.size,tick0:te,calendar:y,range:[$,b.tickIncrement($,M.size,!1,y)].map(l.l2r)},ue=b.tickFirst(ae);ue>l.r2l($)&&(ue=b.tickIncrement(ue,M.size,!0,y)),re.start=l.l2r(ue),J||x.nestedProperty(o,A+".start").set(re.start)}var ce=M.end,de=l.r2l(ie.end),pe=de!==void 0;if((M.endFound||pe)&&de!==l.r2l(ce)){var me=pe?de:x.aggNums(Math.max,null,m);re.end=l.l2r(me),pe||x.nestedProperty(o,A+".start").set(re.end)}var be="autobin"+u;return o._input[be]===!1&&(o._input[A]=x.extendFlat({},o[A]||{}),delete o._input[be],delete o[be]),[re,m]}O.exports={calc:function(r,o){var l,u,h,f,T=[],d=[],y=o.orientation==="h",m=b.getFromId(r,y?o.yaxis:o.xaxis),w=y?"y":"x",_={x:"y",y:"x"}[w],A=o[w+"calendar"],p=o.cumulative,L=a(r,o,m,w),M=L[0],C=L[1],R=typeof M.size=="string",I=[],D=R?I:M,F=[],q=[],z=[],V=0,X=o.histnorm,j=o.histfunc,H=X.indexOf("density")!==-1;p.enabled&&H&&(X=X.replace(/ ?density$/,""),H=!1);var G,ie=j==="max"||j==="min"?null:0,re=c.count,te=s[X],K=!1,J=function(le){return m.r2c(le,0,A)};for(x.isArrayOrTypedArray(o[_])&&j!=="count"&&(G=o[_],K=j==="avg",re=c[j]),l=J(M.start),h=J(M.end)+(l-b.tickIncrement(l,M.size,!1,A))/1e6;l<h&&T.length<1e6&&(u=b.tickIncrement(l,M.size,!1,A),T.push((l+u)/2),d.push(ie),z.push([]),I.push(l),H&&F.push(1/(u-l)),K&&q.push(0),!(u<=l));)l=u;I.push(l),R||m.type!=="date"||(D={start:J(D.start),end:J(D.end),size:D.size}),r._fullLayout._roundFnOpts||(r._fullLayout._roundFnOpts={});var $=o["_"+w+"bingroup"],ae={leftGap:1/0,rightGap:1/0};$&&(r._fullLayout._roundFnOpts[$]||(r._fullLayout._roundFnOpts[$]=ae),ae=r._fullLayout._roundFnOpts[$]);var ue,ce=d.length,de=!0,pe=ae.leftGap,me=ae.rightGap,be={};for(l=0;l<C.length;l++){var we=C[l];(f=x.findBin(we,D))>=0&&f<ce&&(V+=re(f,l,d,G,q),de&&z[f].length&&we!==C[z[f][0]]&&(de=!1),z[f].push(l),be[l]=f,pe=Math.min(pe,we-I[f]),me=Math.min(me,I[f+1]-we))}ae.leftGap=pe,ae.rightGap=me,de||(ue=function(le,ye){return function(){var Oe=r._fullLayout._roundFnOpts[$];return i(Oe.leftGap,Oe.rightGap,I,m,A)(le,ye)}}),K&&(V=n(d,q)),te&&te(d,V,F),p.enabled&&function(le,ye,Oe){var Ae,Se,Pe;function Fe(xe){Pe=le[xe],le[xe]/=2}function Be(xe){Se=le[xe],le[xe]=Pe+Se/2,Pe+=Se}if(Oe==="half")if(ye==="increasing")for(Fe(0),Ae=1;Ae<le.length;Ae++)Be(Ae);else for(Fe(le.length-1),Ae=le.length-2;Ae>=0;Ae--)Be(Ae);else if(ye==="increasing"){for(Ae=1;Ae<le.length;Ae++)le[Ae]+=le[Ae-1];Oe==="exclude"&&(le.unshift(0),le.pop())}else{for(Ae=le.length-2;Ae>=0;Ae--)le[Ae]+=le[Ae+1];Oe==="exclude"&&(le.push(0),le.shift())}}(d,p.direction,p.currentbin);var Te=Math.min(T.length,d.length),Le=[],Ie=0,_e=Te-1;for(l=0;l<Te;l++)if(d[l]){Ie=l;break}for(l=Te-1;l>=Ie;l--)if(d[l]){_e=l;break}for(l=Ie;l<=_e;l++)if(v(T[l])&&v(d[l])){var fe={p:T[l],s:d[l],b:0};p.enabled||(fe.pts=z[l],de?fe.ph0=fe.ph1=z[l].length?C[z[l][0]]:T[l]:(o._computePh=!0,fe.ph0=ue(I[l]),fe.ph1=ue(I[l+1],!0))),Le.push(fe)}return Le.length===1&&(Le[0].width1=b.tickIncrement(Le[0].p,M.size,!1,A)-Le[0].p),g(Le,o),x.isArrayOrTypedArray(o.selectedpoints)&&x.tagSelected(Le,o,be),Le},calcAllAutoBins:a}},73316:function(O){O.exports={eventDataKeys:["binNumber"]}},80536:function(O,S,e){var v=e(3400),x=e(79811),t=e(24040).traceIs,b=e(20011),g=e(31508).validateCornerradius,c=v.nestedProperty,s=e(71888).getAxisGroup,n=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],i=["x","y"];O.exports=function(a,r){var o,l,u,h,f,T,d,y=r._histogramBinOpts={},m=[],w={},_=[];function A(ie,re){return v.coerce(o._input,o,o._module.attributes,ie,re)}function p(ie){return ie.orientation==="v"?"x":"y"}function L(ie,re,te){var K=ie.uid+"__"+te;re||(re=K);var J=function(ce,de){return x.getFromTrace({_fullLayout:r},ce,de).type}(ie,te),$=ie[te+"calendar"]||"",ae=y[re],ue=!0;ae&&(J===ae.axType&&$===ae.calendar?(ue=!1,ae.traces.push(ie),ae.dirs.push(te)):(re=K,J!==ae.axType&&v.warn(["Attempted to group the bins of trace",ie.index,"set on a","type:"+J,"axis","with bins on","type:"+ae.axType,"axis."].join(" ")),$!==ae.calendar&&v.warn(["Attempted to group the bins of trace",ie.index,"set with a",$,"calendar","with bins",ae.calendar?"on a "+ae.calendar+" calendar":"w/o a set calendar"].join(" ")))),ue&&(y[re]={traces:[ie],dirs:[te],axType:J,calendar:ie[te+"calendar"]||""}),ie["_"+te+"bingroup"]=re}for(f=0;f<a.length;f++)if(o=a[f],t(o,"histogram")){if(m.push(o),delete o._xautoBinFinished,delete o._yautoBinFinished,o.type==="histogram"){var M=A("marker.cornerradius",r.barcornerradius);o.marker&&(o.marker.cornerradius=g(M))}t(o,"2dMap")||b(o._input,o,r,A)}var C=r._alignmentOpts||{};for(f=0;f<m.length;f++){if(o=m[f],u="",!t(o,"2dMap")){if(h=p(o),r.barmode==="group"&&o.alignmentgroup){var R=o[h+"axis"],I=s(r,R)+o.orientation;(C[I]||{})[o.alignmentgroup]&&(u=I)}u||r.barmode==="overlay"||(u=s(r,o.xaxis)+s(r,o.yaxis)+p(o))}u?(w[u]||(w[u]=[]),w[u].push(o)):_.push(o)}for(u in w)if((l=w[u]).length!==1){var D=!1;for(l.length&&(o=l[0],D=A("bingroup")),u=D||u,f=0;f<l.length;f++){var F=(o=l[f])._input.bingroup;F&&F!==u&&v.warn(["Trace",o.index,"must match","within bingroup",u+".","Ignoring its bingroup:",F,"setting."].join(" ")),o.bingroup=u,L(o,u,p(o))}}else _.push(l[0]);for(f=0;f<_.length;f++){o=_[f];var q=A("bingroup");if(t(o,"2dMap"))for(d=0;d<2;d++){var z=A((h=i[d])+"bingroup",q?q+"__"+h:null);L(o,z,h)}else L(o,q,p(o))}for(u in y){var V=y[u];for(l=V.traces,T=0;T<n.length;T++){var X,j,H=n[T],G=H.name;if(G!=="nbins"||!V.sizeFound){for(f=0;f<l.length;f++){if(o=l[f],h=V.dirs[f],X=H.aStr[h],c(o._input,X).get()!==void 0){V[G]=A(X),V[G+"Found"]=!0;break}(j=(o._autoBin||{})[h]||{})[G]&&c(o,X).set(j[G])}if(G==="start"||G==="end")for(;f<l.length;f++)(o=l[f])["_"+h+"bingroup"]&&A(X,(j=(o._autoBin||{})[h]||{})[G]);G!=="nbins"||V.sizeFound||V.nbinsFound||(o=l[0],V[G]=A(X))}}}}},6616:function(O,S,e){var v=e(24040),x=e(3400),t=e(76308),b=e(31508).handleText,g=e(55592),c=e(40196);O.exports=function(s,n,i,a){function r(w,_){return x.coerce(s,n,c,w,_)}var o=r("x"),l=r("y");r("cumulative.enabled")&&(r("cumulative.direction"),r("cumulative.currentbin")),r("text");var u=r("textposition");b(s,n,a,r,u,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),r("hovertext"),r("hovertemplate"),r("xhoverformat"),r("yhoverformat");var h=r("orientation",l&&!o?"h":"v"),f=h==="v"?"x":"y",T=h==="v"?"y":"x",d=o&&l?Math.min(x.minRowLength(o)&&x.minRowLength(l)):x.minRowLength(n[f]||[]);if(d){n._length=d,v.getComponentMethod("calendars","handleTraceDefaults")(s,n,["x","y"],a),n[T]&&r("histfunc"),r("histnorm"),r("autobin"+f),g(s,n,r,i,a),x.coerceSelectionMarkerOpacity(n,r);var y=(n.marker.line||{}).color,m=v.getComponentMethod("errorbars","supplyDefaults");m(s,n,y||t.defaultLine,{axis:"y"}),m(s,n,y||t.defaultLine,{axis:"x",inherit:"y"}),r("zorder")}else n.visible=!1}},84980:function(O){O.exports=function(S,e,v,x,t){if(S.x="xVal"in e?e.xVal:e.x,S.y="yVal"in e?e.yVal:e.y,"zLabelVal"in e&&(S.z=e.zLabelVal),e.xa&&(S.xaxis=e.xa),e.ya&&(S.yaxis=e.ya),!(v.cumulative||{}).enabled){var b,g=Array.isArray(t)?x[0].pts[t[0]][t[1]]:x[t].pts;if(S.pointNumbers=g,S.binNumber=S.pointNumber,delete S.pointNumber,delete S.pointIndex,v._indexToPoints){b=[];for(var c=0;c<g.length;c++)b=b.concat(v._indexToPoints[g[c]])}else b=g;S.pointIndices=b}return S}},43339:function(O,S,e){var v=e(63400).hoverPoints,x=e(54460).hoverLabelText;O.exports=function(t,b,g,c,s){var n=v(t,b,g,c,s);if(n){var i=(t=n[0]).cd[t.index],a=t.cd[0].trace;if(!a.cumulative.enabled){var r=a.orientation==="h"?"y":"x";t[r+"Label"]=x(t[r+"a"],[i.ph0,i.ph1],a[r+"hoverformat"])}return n}}},42600:function(O,S,e){O.exports={attributes:e(40196),layoutAttributes:e(39324),supplyDefaults:e(6616),crossTraceDefaults:e(80536),supplyLayoutDefaults:e(37156),calc:e(35852).calc,crossTraceCalc:e(96376).crossTraceCalc,plot:e(98184).plot,layerName:"barlayer",style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,colorbar:e(5528),hoverPoints:e(43339),selectPoints:e(45784),eventData:e(84980),moduleType:"trace",name:"histogram",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},10648:function(O){O.exports={percent:function(S,e){for(var v=S.length,x=100/e,t=0;t<v;t++)S[t]*=x},probability:function(S,e){for(var v=S.length,x=0;x<v;x++)S[x]/=e},density:function(S,e,v,x){var t=S.length;x=x||1;for(var b=0;b<t;b++)S[b]*=v[b]*x},"probability density":function(S,e,v,x){var t=S.length;x&&(e/=x);for(var b=0;b<t;b++)S[b]*=v[b]/e}}},37008:function(O,S,e){var v=e(40196),x=e(11120),t=e(83328),b=e(45464),g=e(29736).axisHoverFormat,c=e(21776).Ks,s=e(21776).Gw,n=e(49084),i=e(92880).extendFlat;O.exports=i({x:v.x,y:v.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:v.histnorm,histfunc:v.histfunc,nbinsx:v.nbinsx,xbins:x("x"),nbinsy:v.nbinsy,ybins:x("y"),autobinx:v.autobinx,autobiny:v.autobiny,bingroup:i({},v.bingroup,{}),xbingroup:i({},v.bingroup,{}),ybingroup:i({},v.bingroup,{}),xgap:t.xgap,ygap:t.ygap,zsmooth:t.zsmooth,xhoverformat:g("x"),yhoverformat:g("y"),zhoverformat:g("z",1),hovertemplate:c({},{keys:"z"}),texttemplate:s({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:t.textfont,showlegend:i({},b.showlegend,{dflt:!1})},n("",{cLetter:"z",autoColorDflt:!1}))},55480:function(O,S,e){var v=e(3400),x=e(54460),t=e(16964),b=e(10648),g=e(2e3),c=e(67712),s=e(35852).calcAllAutoBins;function n(r,o,l,u){var h,f=new Array(r);if(u)for(h=0;h<r;h++)f[h]=1/(o[h+1]-o[h]);else{var T=1/l;for(h=0;h<r;h++)f[h]=T}return f}function i(r,o){return{start:r(o.start),end:r(o.end),size:o.size}}function a(r,o,l,u,h,f){var T,d=r.length-1,y=new Array(d),m=c(l,u,r,h,f);for(T=0;T<d;T++){var w=(o||[])[T];y[T]=w===void 0?[m(r[T]),m(r[T+1],!0)]:[w,w]}return y}O.exports=function(r,o){var l,u,h,f,T=x.getFromId(r,o.xaxis),d=x.getFromId(r,o.yaxis),y=o.xcalendar,m=o.ycalendar,w=function(xt){return T.r2c(xt,0,y)},_=function(xt){return d.r2c(xt,0,m)},A=s(r,o,T,"x"),p=A[0],L=A[1],M=s(r,o,d,"y"),C=M[0],R=M[1],I=o._length;L.length>I&&L.splice(I,L.length-I),R.length>I&&R.splice(I,R.length-I);var D=[],F=[],q=[],z=typeof p.size=="string",V=typeof C.size=="string",X=[],j=[],H=z?X:p,G=V?j:C,ie=0,re=[],te=[],K=o.histnorm,J=o.histfunc,$=K.indexOf("density")!==-1,ae=J==="max"||J==="min"?null:0,ue=t.count,ce=b[K],de=!1,pe=[],me=[],be="z"in o?o.z:"marker"in o&&Array.isArray(o.marker.color)?o.marker.color:"";be&&J!=="count"&&(de=J==="avg",ue=t[J]);var we=p.size,Te=w(p.start),Le=w(p.end)+(Te-x.tickIncrement(Te,we,!1,y))/1e6;for(l=Te;l<Le;l=x.tickIncrement(l,we,!1,y))F.push(ae),X.push(l),de&&q.push(0);X.push(l);var Ie,_e=F.length,fe=(l-Te)/_e,le=(Ie=Te+fe/2,T.c2r(Ie,0,y)),ye=C.size,Oe=_(C.start),Ae=_(C.end)+(Oe-x.tickIncrement(Oe,ye,!1,m))/1e6;for(l=Oe;l<Ae;l=x.tickIncrement(l,ye,!1,m)){D.push(F.slice()),j.push(l);var Se=new Array(_e);for(u=0;u<_e;u++)Se[u]=[];te.push(Se),de&&re.push(q.slice())}j.push(l);var Pe=D.length,Fe=(l-Oe)/Pe,Be=function(xt){return d.c2r(xt,0,m)}(Oe+Fe/2);$&&(pe=n(F.length,H,fe,z),me=n(D.length,G,Fe,V)),z||T.type!=="date"||(H=i(w,H)),V||d.type!=="date"||(G=i(_,G));var xe=!0,Me=!0,Ce=new Array(_e),Ne=new Array(Pe),Re=1/0,He=1/0,Ye=1/0,Qe=1/0;for(l=0;l<I;l++){var lt=L[l],ut=R[l];h=v.findBin(lt,H),f=v.findBin(ut,G),h>=0&&h<_e&&f>=0&&f<Pe&&(ie+=ue(h,l,D[f],be,re[f]),te[f][h].push(l),xe&&(Ce[h]===void 0?Ce[h]=lt:Ce[h]!==lt&&(xe=!1)),Me&&(Ne[f]===void 0?Ne[f]=ut:Ne[f]!==ut&&(Me=!1)),Re=Math.min(Re,lt-X[h]),He=Math.min(He,X[h+1]-lt),Ye=Math.min(Ye,ut-j[f]),Qe=Math.min(Qe,j[f+1]-ut))}if(de)for(f=0;f<Pe;f++)ie+=g(D[f],re[f]);if(ce)for(f=0;f<Pe;f++)ce(D[f],ie,pe,me[f]);return{x:L,xRanges:a(X,xe&&Ce,Re,He,T,y),x0:le,dx:fe,y:R,yRanges:a(j,Me&&Ne,Ye,Qe,d,m),y0:Be,dy:Fe,z:D,pts:te}}},99784:function(O,S,e){var v=e(3400),x=e(56408),t=e(82748),b=e(27260),g=e(39096),c=e(37008);O.exports=function(s,n,i,a){function r(o,l){return v.coerce(s,n,c,o,l)}x(s,n,r,a),n.visible!==!1&&(t(s,n,r,a),b(s,n,a,r,{prefix:"",cLetter:"z"}),r("hovertemplate"),g(r,a),r("xhoverformat"),r("yhoverformat"))}},59576:function(O,S,e){var v=e(55512),x=e(54460).hoverLabelText;O.exports=function(t,b,g,c,s){var n=v(t,b,g,c,s);if(n){var i=(t=n[0]).index,a=i[0],r=i[1],o=t.cd[0],l=o.trace,u=o.xRanges[r],h=o.yRanges[a];return t.xLabel=x(t.xa,[u[0],u[1]],l.xhoverformat),t.yLabel=x(t.ya,[h[0],h[1]],l.yhoverformat),n}}},21536:function(O,S,e){O.exports={attributes:e(37008),supplyDefaults:e(99784),crossTraceDefaults:e(80536),calc:e(19512),plot:e(41420),layerName:"heatmaplayer",colorbar:e(96288),style:e(41648),hoverPoints:e(59576),eventData:e(84980),moduleType:"trace",name:"histogram2d",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},56408:function(O,S,e){var v=e(24040),x=e(3400);O.exports=function(t,b,g,c){var s=g("x"),n=g("y"),i=x.minRowLength(s),a=x.minRowLength(n);i&&a?(b._length=Math.min(i,a),v.getComponentMethod("calendars","handleTraceDefaults")(t,b,["x","y"],c),(g("z")||g("marker.color"))&&g("histfunc"),g("histnorm"),g("autobinx"),g("autobiny")):b.visible=!1}},81220:function(O,S,e){var v=e(37008),x=e(67104),t=e(49084),b=e(29736).axisHoverFormat,g=e(92880).extendFlat;O.exports=g({x:v.x,y:v.y,z:v.z,marker:v.marker,histnorm:v.histnorm,histfunc:v.histfunc,nbinsx:v.nbinsx,xbins:v.xbins,nbinsy:v.nbinsy,ybins:v.ybins,autobinx:v.autobinx,autobiny:v.autobiny,bingroup:v.bingroup,xbingroup:v.xbingroup,ybingroup:v.ybingroup,autocontour:x.autocontour,ncontours:x.ncontours,contours:x.contours,line:{color:x.line.color,width:g({},x.line.width,{dflt:.5}),dash:x.line.dash,smoothing:x.line.smoothing,editType:"plot"},xhoverformat:b("x"),yhoverformat:b("y"),zhoverformat:b("z",1),hovertemplate:v.hovertemplate,texttemplate:x.texttemplate,textfont:x.textfont},t("",{cLetter:"z",editTypeOverride:"calc"}))},3704:function(O,S,e){var v=e(3400),x=e(56408),t=e(84952),b=e(97680),g=e(39096),c=e(81220);O.exports=function(s,n,i,a){function r(o,l){return v.coerce(s,n,c,o,l)}x(s,n,r,a),n.visible!==!1&&(t(s,n,r,function(o){return v.coerce2(s,n,c,o)}),b(s,n,r,a),r("xhoverformat"),r("yhoverformat"),r("hovertemplate"),n.contours&&n.contours.coloring==="heatmap"&&g(r,a))}},65664:function(O,S,e){O.exports={attributes:e(81220),supplyDefaults:e(3704),crossTraceDefaults:e(80536),calc:e(20688),plot:e(23676).plot,layerName:"contourlayer",style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},97376:function(O,S,e){var v=e(21776).Ks,x=e(21776).Gw,t=e(49084),b=e(86968).u,g=e(74996),c=e(424),s=e(40516),n=e(32984),i=e(92880).extendFlat,a=e(98192).c;O.exports={labels:c.labels,parents:c.parents,values:c.values,branchvalues:c.branchvalues,count:c.count,level:c.level,maxdepth:c.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:s.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:i({colors:c.marker.colors,line:c.marker.line,pattern:a,editType:"calc"},t("marker",{colorAttr:"colors",anim:!1})),leaf:c.leaf,pathbar:s.pathbar,text:g.text,textinfo:c.textinfo,texttemplate:x({editType:"plot"},{keys:n.eventDataKeys.concat(["label","value"])}),hovertext:g.hovertext,hoverinfo:c.hoverinfo,hovertemplate:v({},{keys:n.eventDataKeys}),textfont:g.textfont,insidetextfont:g.insidetextfont,outsidetextfont:s.outsidetextfont,textposition:s.textposition,sort:g.sort,root:c.root,domain:b({name:"icicle",trace:!0,editType:"calc"})}},59564:function(O,S,e){var v=e(7316);S.name="icicle",S.plot=function(x,t,b,g){v.plotBasePlot(S.name,x,t,b,g)},S.clean=function(x,t,b,g){v.cleanBasePlot(S.name,x,t,b,g)}},73876:function(O,S,e){var v=e(3776);S.r=function(x,t){return v.calc(x,t)},S.q=function(x){return v._runCrossTraceCalc("icicle",x)}},7045:function(O,S,e){var v=e(3400),x=e(97376),t=e(76308),b=e(86968).Q,g=e(31508).handleText,c=e(78048).TEXTPAD,s=e(74174).handleMarkerDefaults,n=e(8932),i=n.hasColorscale,a=n.handleDefaults;O.exports=function(r,o,l,u){function h(_,A){return v.coerce(r,o,x,_,A)}var f=h("labels"),T=h("parents");if(f&&f.length&&T&&T.length){var d=h("values");d&&d.length?h("branchvalues"):h("count"),h("level"),h("maxdepth"),h("tiling.orientation"),h("tiling.flip"),h("tiling.pad");var y=h("text");h("texttemplate"),o.texttemplate||h("textinfo",v.isArrayOrTypedArray(y)?"text+label":"label"),h("hovertext"),h("hovertemplate");var m=h("pathbar.visible");g(r,o,u,h,"auto",{hasPathbar:m,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition"),s(r,o,u,h);var w=o._hasColorscale=i(r,"marker","colors")||(r.marker||{}).coloraxis;w&&a(r,o,u,h,{prefix:"marker.",cLetter:"c"}),h("leaf.opacity",w?1:.7),o._hovered={marker:{line:{width:2,color:t.contrast(u.paper_bgcolor)}}},m&&(h("pathbar.thickness",o.pathbar.textfont.size+2*c),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),b(o,u,h),o._length=null}else o.visible=!1}},67880:function(O,S,e){var v=e(33428),x=e(3400),t=e(43616),b=e(72736),g=e(25132),c=e(47192).styleOne,s=e(32984),n=e(78176),i=e(45716),a=e(96488).formatSliceLabel,r=!1;O.exports=function(o,l,u,h,f){var T=f.width,d=f.height,y=f.viewX,m=f.viewY,w=f.pathSlice,_=f.toMoveInsideSlice,A=f.strTransform,p=f.hasTransition,L=f.handleSlicesExit,M=f.makeUpdateSliceInterpolator,C=f.makeUpdateTextInterpolator,R=f.prevEntry,I=o._context.staticPlot,D=o._fullLayout,F=l[0].trace,q=F.textposition.indexOf("left")!==-1,z=F.textposition.indexOf("right")!==-1,V=F.textposition.indexOf("bottom")!==-1,X=g(u,[T,d],{flipX:F.tiling.flip.indexOf("x")>-1,flipY:F.tiling.flip.indexOf("y")>-1,orientation:F.tiling.orientation,pad:{inner:F.tiling.pad},maxDepth:F._maxDepth}).descendants(),j=1/0,H=-1/0;X.forEach(function(K){var J=K.depth;J>=F._maxDepth?(K.x0=K.x1=(K.x0+K.x1)/2,K.y0=K.y1=(K.y0+K.y1)/2):(j=Math.min(j,J),H=Math.max(H,J))}),h=h.data(X,n.getPtId),F._maxVisibleLayers=isFinite(H)?H-j+1:0,h.enter().append("g").classed("slice",!0),L(h,r,{},[T,d],w),h.order();var G=null;if(p&&R){var ie=n.getPtId(R);h.each(function(K){G===null&&n.getPtId(K)===ie&&(G={x0:K.x0,x1:K.x1,y0:K.y0,y1:K.y1})})}var re=function(){return G||{x0:0,x1:T,y0:0,y1:d}},te=h;return p&&(te=te.transition().each("end",function(){var K=v.select(this);n.setSliceCursor(K,o,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),te.each(function(K){K._x0=y(K.x0),K._x1=y(K.x1),K._y0=m(K.y0),K._y1=m(K.y1),K._hoverX=y(K.x1-F.tiling.pad),K._hoverY=m(V?K.y1-F.tiling.pad/2:K.y0+F.tiling.pad/2);var J=v.select(this),$=x.ensureSingle(J,"path","surface",function(de){de.style("pointer-events",I?"none":"all")});p?$.transition().attrTween("d",function(de){var pe=M(de,r,re(),[T,d],{orientation:F.tiling.orientation,flipX:F.tiling.flip.indexOf("x")>-1,flipY:F.tiling.flip.indexOf("y")>-1});return function(me){return w(pe(me))}}):$.attr("d",w),J.call(i,u,o,l,{styleOne:c,eventDataKeys:s.eventDataKeys,transitionTime:s.CLICK_TRANSITION_TIME,transitionEasing:s.CLICK_TRANSITION_EASING}).call(n.setSliceCursor,o,{isTransitioning:o._transitioning}),$.call(c,K,F,o,{hovered:!1}),K.x0===K.x1||K.y0===K.y1?K._text="":K._text=a(K,u,F,l,D)||"";var ae=x.ensureSingle(J,"g","slicetext"),ue=x.ensureSingle(ae,"text","",function(de){de.attr("data-notex",1)}),ce=x.ensureUniformFontSize(o,n.determineTextFont(F,K,D.font));ue.text(K._text||" ").classed("slicetext",!0).attr("text-anchor",z?"end":q?"start":"middle").call(t.font,ce).call(b.convertToTspans,o),K.textBB=t.bBox(ue.node()),K.transform=_(K,{fontSize:ce.size}),K.transform.fontSize=ce.size,p?ue.transition().attrTween("transform",function(de){var pe=C(de,r,re(),[T,d]);return function(me){return A(pe(me))}}):ue.attr("transform",A(K))}),G}},29044:function(O,S,e){O.exports={moduleType:"trace",name:"icicle",basePlotModule:e(59564),categories:[],animatable:!0,attributes:e(97376),layoutAttributes:e(90676),supplyDefaults:e(7045),supplyLayoutDefaults:e(4304),calc:e(73876).r,crossTraceCalc:e(73876).q,plot:e(38364),style:e(47192).style,colorbar:e(5528),meta:{}}},90676:function(O){O.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},4304:function(O,S,e){var v=e(3400),x=e(90676);O.exports=function(t,b){function g(c,s){return v.coerce(t,b,x,c,s)}g("iciclecolorway",b.colorway),g("extendiciclecolors")}},25132:function(O,S,e){var v=e(74148),x=e(83024);O.exports=function(t,b,g){var c=g.flipX,s=g.flipY,n=g.orientation==="h",i=g.maxDepth,a=b[0],r=b[1];i&&(a=(t.height+1)*b[0]/Math.min(t.height+1,i),r=(t.height+1)*b[1]/Math.min(t.height+1,i));var o=v.partition().padding(g.pad.inner).size(n?[b[1],a]:[b[0],r])(t);return(n||c||s)&&x(o,b,{swapXY:n,flipX:c,flipY:s}),o}},38364:function(O,S,e){var v=e(95808),x=e(67880);O.exports=function(t,b,g,c){return v(t,b,g,c,{type:"icicle",drawDescendants:x})}},47192:function(O,S,e){var v=e(33428),x=e(76308),t=e(3400),b=e(82744).resizeText,g=e(60404);function c(s,n,i,a){var r=n.data.data,o=!n.children,l=r.i,u=t.castOption(i,l,"marker.line.color")||x.defaultLine,h=t.castOption(i,l,"marker.line.width")||0;s.call(g,n,i,a).style("stroke-width",h).call(x.stroke,u).style("opacity",o?i.leaf.opacity:null)}O.exports={style:function(s){var n=s._fullLayout._iciclelayer.selectAll(".trace");b(s,n,"icicle"),n.each(function(i){var a=v.select(this),r=i[0].trace;a.style("opacity",r.opacity),a.selectAll("path.surface").each(function(o){v.select(this).call(c,o,r,s)})})},styleOne:c}},95188:function(O,S,e){for(var v=e(45464),x=e(52904).zorder,t=e(21776).Ks,b=e(92880).extendFlat,g=e(47797).colormodel,c=["rgb","rgba","rgba256","hsl","hsla"],s=[],n=[],i=0;i<c.length;i++){var a=g[c[i]];s.push("For the `"+c[i]+"` colormodel, it is ["+(a.zminDflt||a.min).join(", ")+"]."),n.push("For the `"+c[i]+"` colormodel, it is ["+(a.zmaxDflt||a.max).join(", ")+"].")}O.exports=b({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:c,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:b({},v.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:t({},{keys:["z","color","colormodel"]}),zorder:x,transforms:void 0})},93336:function(O,S,e){var v=e(3400),x=e(47797),t=e(38248),b=e(54460),g=e(3400).maxRowLength,c=e(18712).i;function s(i,a,r,o){return function(l){return v.constrain((l-i)*a,r,o)}}function n(i,a){return function(r){return v.constrain(r,i,a)}}O.exports=function(i,a){var r,o;if(a._hasZ)r=a.z.length,o=g(a.z);else if(a._hasSource){var l=c(a.source);r=l.height,o=l.width}var u,h=b.getFromId(i,a.xaxis||"x"),f=b.getFromId(i,a.yaxis||"y"),T=h.d2c(a.x0)-a.dx/2,d=f.d2c(a.y0)-a.dy/2,y=[T,T+o*a.dx],m=[d,d+r*a.dy];if(h&&h.type==="log")for(u=0;u<o;u++)y.push(T+u*a.dx);if(f&&f.type==="log")for(u=0;u<r;u++)m.push(d+u*a.dy);return a._extremes[h._id]=b.findExtremes(h,y),a._extremes[f._id]=b.findExtremes(f,m),a._scaler=function(w){var _=x.colormodel[w.colormodel],A=(_.colormodel||w.colormodel).length;w._sArray=[];for(var p=0;p<A;p++)_.min[p]!==w.zmin[p]||_.max[p]!==w.zmax[p]?w._sArray.push(s(w.zmin[p],(_.max[p]-_.min[p])/(w.zmax[p]-w.zmin[p]),_.min[p],_.max[p])):w._sArray.push(n(_.min[p],_.max[p]));return function(L){for(var M=L.slice(0,A),C=0;C<A;C++){var R=M[C];if(!t(R))return!1;M[C]=w._sArray[C](R)}return M}}(a),[{x0:T,y0:d,z:a.z,w:o,h:r}]}},47797:function(O){O.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(S){return S.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(S){return S.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(S){return S.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(S){var e=S.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(S){var e=S.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%",""]}}}},13188:function(O,S,e){var v=e(3400),x=e(95188),t=e(47797),b=e(81792).IMAGE_URL_PREFIX;O.exports=function(g,c){function s(a,r){return v.coerce(g,c,x,a,r)}s("source"),c.source&&!c.source.match(b)&&delete c.source,c._hasSource=!!c.source;var n,i=s("z");c._hasZ=!(i===void 0||!i.length||!i[0]||!i[0].length),c._hasZ||c._hasSource?(s("x0"),s("y0"),s("dx"),s("dy"),c._hasZ?(s("colormodel","rgb"),s("zmin",(n=t.colormodel[c.colormodel]).zminDflt||n.min),s("zmax",n.zmaxDflt||n.max)):c._hasSource&&(c.colormodel="rgba256",n=t.colormodel[c.colormodel],c.zmin=n.zminDflt,c.zmax=n.zmaxDflt),s("zsmooth"),s("text"),s("hovertext"),s("hovertemplate"),c._length=null,s("zorder")):c.visible=!1}},79972:function(O){O.exports=function(S,e){return"xVal"in e&&(S.x=e.xVal),"yVal"in e&&(S.y=e.yVal),e.xa&&(S.xaxis=e.xa),e.ya&&(S.yaxis=e.ya),S.color=e.color,S.colormodel=e.trace.colormodel,S.z||(S.z=e.color),S}},18712:function(O,S,e){var v=e(19480),x=e(81792).IMAGE_URL_PREFIX,t=e(33576).Buffer;S.i=function(b){var g=b.replace(x,""),c=new t(g,"base64");return v(c)}},24892:function(O,S,e){var v=e(93024),x=e(3400),t=x.isArrayOrTypedArray,b=e(47797);O.exports=function(g,c,s){var n=g.cd[0],i=n.trace,a=g.xa,r=g.ya;if(!(v.inbox(c-n.x0,c-(n.x0+n.w*i.dx),0)>0||v.inbox(s-n.y0,s-(n.y0+n.h*i.dy),0)>0)){var o,l=Math.floor((c-n.x0)/i.dx),u=Math.floor(Math.abs(s-n.y0)/i.dy);if(i._hasZ?o=n.z[u][l]:i._hasSource&&(o=i._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(l,u,1,1).data),o){var h,f=n.hi||i.hoverinfo;if(f){var T=f.split("+");T.indexOf("all")!==-1&&(T=["color"]),T.indexOf("color")!==-1&&(h=!0)}var d,y=b.colormodel[i.colormodel],m=y.colormodel||i.colormodel,w=m.length,_=i._scaler(o),A=y.suffix,p=[];(i.hovertemplate||h)&&(p.push("["+[_[0]+A[0],_[1]+A[1],_[2]+A[2]].join(", ")),w===4&&p.push(", "+_[3]+A[3]),p.push("]"),p=p.join(""),g.extraText=m.toUpperCase()+": "+p),t(i.hovertext)&&t(i.hovertext[u])?d=i.hovertext[u][l]:t(i.text)&&t(i.text[u])&&(d=i.text[u][l]);var L=r.c2p(n.y0+(u+.5)*i.dy),M=n.x0+(l+.5)*i.dx,C=n.y0+(u+.5)*i.dy,R="["+o.slice(0,i.colormodel.length).join(", ")+"]";return[x.extendFlat(g,{index:[u,l],x0:a.c2p(n.x0+l*i.dx),x1:a.c2p(n.x0+(l+1)*i.dx),y0:L,y1:L,color:_,xVal:M,xLabelVal:M,yVal:C,yLabelVal:C,zLabelVal:R,text:d,hovertemplateLabels:{zLabel:R,colorLabel:p,"color[0]Label":_[0]+A[0],"color[1]Label":_[1]+A[1],"color[2]Label":_[2]+A[2],"color[3]Label":_[3]+A[3]}})]}}}},48928:function(O,S,e){O.exports={attributes:e(95188),supplyDefaults:e(13188),calc:e(93336),plot:e(63715),style:e(28576),hoverPoints:e(24892),eventData:e(79972),moduleType:"trace",name:"image",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},63715:function(O,S,e){var v=e(33428),x=e(3400),t=x.strTranslate,b=e(9616),g=e(47797),c=e(9188),s=e(2264).STYLE;O.exports=function(n,i,a,r){var o=i.xaxis,l=i.yaxis,u=!n._context._exportedPlot&&c();x.makeTraceGroups(r,a,"im").each(function(h){var f=v.select(this),T=h[0],d=T.trace,y=(d.zsmooth==="fast"||d.zsmooth===!1&&u)&&!d._hasZ&&d._hasSource&&o.type==="linear"&&l.type==="linear";d._realImage=y;var m,w,_,A,p,L,M=T.z,C=T.x0,R=T.y0,I=T.w,D=T.h,F=d.dx,q=d.dy;for(L=0;m===void 0&&L<I;)m=o.c2p(C+L*F),L++;for(L=I;w===void 0&&L>0;)w=o.c2p(C+L*F),L--;for(L=0;A===void 0&&L<D;)A=l.c2p(R+L*q),L++;for(L=D;p===void 0&&L>0;)p=l.c2p(R+L*q),L--;w<m&&(_=w,w=m,m=_),p<A&&(_=A,A=p,p=_),y||(m=Math.max(-.5*o._length,m),w=Math.min(1.5*o._length,w),A=Math.max(-.5*l._length,A),p=Math.min(1.5*l._length,p));var z=Math.round(w-m),V=Math.round(p-A);if(z<=0||V<=0)f.selectAll("image").data([]).exit().remove();else{var X=f.selectAll("image").data([h]);X.enter().append("svg:image").attr({xmlns:b.svg,preserveAspectRatio:"none"}),X.exit().remove();var j=d.zsmooth===!1?s:"";if(y){var H=x.simpleMap(o.range,o.r2l),G=x.simpleMap(l.range,l.r2l),ie=H[1]<H[0],re=G[1]>G[0];if(ie||re){var te=m+z/2,K=A+V/2;j+="transform:"+t(te+"px",K+"px")+"scale("+(ie?-1:1)+","+(re?-1:1)+")"+t(-te+"px",-K+"px")+";"}}X.attr("style",j);var J=new Promise(function(ae){if(d._hasZ)ae();else if(d._hasSource)if(d._canvas&&d._canvas.el.width===I&&d._canvas.el.height===D&&d._canvas.source===d.source)ae();else{var ue=document.createElement("canvas");ue.width=I,ue.height=D;var ce=ue.getContext("2d",{willReadFrequently:!0});d._image=d._image||new Image;var de=d._image;de.onload=function(){ce.drawImage(de,0,0),d._canvas={el:ue,source:d.source},ae()},de.setAttribute("src",d.source)}}).then(function(){var ae,ue;if(d._hasZ)ue=$(function(de,pe){var me=M[pe][de];return x.isTypedArray(me)&&(me=Array.from(me)),me}),ae=ue.toDataURL("image/png");else if(d._hasSource)if(y)ae=d.source;else{var ce=d._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,I,D).data;ue=$(function(de,pe){var me=4*(pe*I+de);return[ce[me],ce[me+1],ce[me+2],ce[me+3]]}),ae=ue.toDataURL("image/png")}X.attr({"xlink:href":ae,height:V,width:z,x:m,y:A})});n._promises.push(J)}function $(ae){var ue=document.createElement("canvas");ue.width=z,ue.height=V;var ce,de=ue.getContext("2d",{willReadFrequently:!0}),pe=function(ye){return x.constrain(Math.round(o.c2p(C+ye*F)-m),0,z)},me=function(ye){return x.constrain(Math.round(l.c2p(R+ye*q)-A),0,V)},be=g.colormodel[d.colormodel],we=be.colormodel||d.colormodel,Te=be.fmt;for(L=0;L<T.w;L++){var Le=pe(L),Ie=pe(L+1);if(Ie!==Le&&!isNaN(Ie)&&!isNaN(Le))for(var _e=0;_e<T.h;_e++){var fe=me(_e),le=me(_e+1);le===fe||isNaN(le)||isNaN(fe)||!ae(L,_e)||(ce=d._scaler(ae(L,_e)),de.fillStyle=ce?we+"("+Te(ce).join(",")+")":"rgba(0,0,0,0)",de.fillRect(Le,fe,Ie-Le,le-fe))}}return ue}})}},28576:function(O,S,e){var v=e(33428);O.exports=function(x){v.select(x).selectAll(".im image").style("opacity",function(t){return t[0].trace.opacity})}},89864:function(O,S,e){var v=e(92880).extendFlat,x=e(92880).extendDeep,t=e(67824).overrideAll,b=e(25376),g=e(22548),c=e(86968).u,s=e(94724),n=e(31780).templatedArray,i=e(48164),a=e(29736).descriptionOnlyNumbers,r=b({editType:"plot",colorEditType:"plot"}),o={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:g.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},l={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},u=n("step",x({},o,{range:l}));O.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:c({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:v({},r,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:a("value")},font:v({},r,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:a("value")},increasing:{symbol:{valType:"string",dflt:i.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:i.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:i.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:i.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:v({},r,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:x({},o,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:g.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:t({range:l,visible:v({},s.visible,{dflt:!0}),tickmode:s.minor.tickmode,nticks:s.nticks,tick0:s.tick0,dtick:s.dtick,tickvals:s.tickvals,ticktext:s.ticktext,ticks:v({},s.ticks,{dflt:"outside"}),ticklen:s.ticklen,tickwidth:s.tickwidth,tickcolor:s.tickcolor,ticklabelstep:s.ticklabelstep,showticklabels:s.showticklabels,labelalias:s.labelalias,tickfont:b({}),tickangle:s.tickangle,tickformat:s.tickformat,tickformatstops:s.tickformatstops,tickprefix:s.tickprefix,showtickprefix:s.showtickprefix,ticksuffix:s.ticksuffix,showticksuffix:s.showticksuffix,separatethousands:s.separatethousands,exponentformat:s.exponentformat,minexponent:s.minexponent,showexponent:s.showexponent,editType:"plot"},"plot"),steps:u,threshold:{line:{color:v({},o.line.color,{}),width:v({},o.line.width,{dflt:1}),editType:"plot"},thickness:v({},o.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},92728:function(O,S,e){var v=e(7316);S.name="indicator",S.plot=function(x,t,b,g){v.plotBasePlot(S.name,x,t,b,g)},S.clean=function(x,t,b,g){v.cleanBasePlot(S.name,x,t,b,g)}},79136:function(O){O.exports={calc:function(S,e){var v=[],x=e.value;typeof e._lastValue!="number"&&(e._lastValue=e.value);var t=e._lastValue,b=t;return e._hasDelta&&typeof e.delta.reference=="number"&&(b=e.delta.reference),v[0]={y:x,lastY:t,delta:x-b,relativeDelta:(x-b)/b},v}}},12096:function(O){O.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},20424:function(O,S,e){var v=e(3400),x=e(89864),t=e(86968).Q,b=e(31780),g=e(51272),c=e(12096),s=e(26332),n=e(25404),i=e(95936),a=e(42568);function r(o,l){function u(h,f){return v.coerce(o,l,x.gauge.steps,h,f)}u("color"),u("line.color"),u("line.width"),u("range"),u("thickness")}O.exports={supplyDefaults:function(o,l,u,h){function f(F,q){return v.coerce(o,l,x,F,q)}t(l,h,f),f("mode"),l._hasNumber=l.mode.indexOf("number")!==-1,l._hasDelta=l.mode.indexOf("delta")!==-1,l._hasGauge=l.mode.indexOf("gauge")!==-1;var T=f("value");l._range=[0,typeof T=="number"?1.5*T:1];var d,y,m=new Array(2);if(l._hasNumber){f("number.valueformat");var w=v.extendFlat({},h.font);w.size=void 0,v.coerceFont(f,"number.font",w),l.number.font.size===void 0&&(l.number.font.size=c.defaultNumberFontSize,m[0]=!0),f("number.prefix"),f("number.suffix"),d=l.number.font.size}if(l._hasDelta){var _=v.extendFlat({},h.font);_.size=void 0,v.coerceFont(f,"delta.font",_),l.delta.font.size===void 0&&(l.delta.font.size=(l._hasNumber?.5:1)*(d||c.defaultNumberFontSize),m[1]=!0),f("delta.reference",l.value),f("delta.relative"),f("delta.valueformat",l.delta.relative?"2%":""),f("delta.increasing.symbol"),f("delta.increasing.color"),f("delta.decreasing.symbol"),f("delta.decreasing.color"),f("delta.position"),f("delta.prefix"),f("delta.suffix"),y=l.delta.font.size}l._scaleNumbers=(!l._hasNumber||m[0])&&(!l._hasDelta||m[1])||!1;var A,p,L,M,C=v.extendFlat({},h.font);function R(F,q){return v.coerce(A,p,x.gauge,F,q)}function I(F,q){return v.coerce(L,M,x.gauge.axis,F,q)}if(C.size=.25*(d||y||c.defaultNumberFontSize),v.coerceFont(f,"title.font",C),f("title.text"),l._hasGauge){(A=o.gauge)||(A={}),p=b.newContainer(l,"gauge"),R("shape"),(l._isBullet=l.gauge.shape==="bullet")||f("title.align","center"),(l._isAngular=l.gauge.shape==="angular")||f("align","center"),R("bgcolor",h.paper_bgcolor),R("borderwidth"),R("bordercolor"),R("bar.color"),R("bar.line.color"),R("bar.line.width"),R("bar.thickness",c.valueThickness*(l.gauge.shape==="bullet"?.5:1)),g(A,p,{name:"steps",handleItemDefaults:r}),R("threshold.value"),R("threshold.thickness"),R("threshold.line.width"),R("threshold.line.color"),L={},A&&(L=A.axis||{}),M=b.newContainer(p,"axis"),I("visible"),l._range=I("range",l._range);var D={font:h.font,noAutotickangles:!0,outerTicks:!0};s(L,M,I,"linear"),a(L,M,I,"linear",D),i(L,M,I,"linear",D),n(L,M,I,D)}else f("title.align","center"),f("align","center"),l._isAngular=l._isBullet=!1;l._length=null}}},43480:function(O,S,e){O.exports={moduleType:"trace",name:"indicator",basePlotModule:e(92728),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(89864),supplyDefaults:e(20424).supplyDefaults,calc:e(79136).calc,plot:e(97864),meta:{}}},97864:function(O,S,e){var v=e(33428),x=e(67756).qy,t=e(67756).Gz,b=e(3400),g=b.strScale,c=b.strTranslate,s=b.rad2deg,n=e(84284).MID_SHIFT,i=e(43616),a=e(12096),r=e(72736),o=e(54460),l=e(28336),u=e(37668),h=e(94724),f=e(76308),T={left:"start",center:"middle",right:"end"},d={left:0,center:.5,right:1},y=/[yzafpnmkMGTPEZY]/;function m(M){return M&&M.duration>0}function w(M){M.each(function(C){f.stroke(v.select(this),C.line.color)}).each(function(C){f.fill(v.select(this),C.color)}).style("stroke-width",function(C){return C.line.width})}function _(M,C,R){var I=M._fullLayout,D=b.extendFlat({type:"linear",ticks:"outside",range:R,showline:!0},C),F={type:"linear",_id:"x"+C._id},q={letter:"x",font:I.font,noAutotickangles:!0,noHover:!0,noTickson:!0};function z(V,X){return b.coerce(D,F,h,V,X)}return l(D,F,z,q,I),u(D,F,z,q),F}function A(M,C,R){return[Math.min(C/M.width,R/M.height),M,C+"x"+R]}function p(M,C,R,I){var D=document.createElementNS("http://www.w3.org/2000/svg","text"),F=v.select(D);return F.text(M).attr("x",0).attr("y",0).attr("text-anchor",R).attr("data-unformatted",M).call(r.convertToTspans,I).call(i.font,C),i.bBox(F.node())}function L(M,C,R,I,D,F){var q="_cache"+C;M[q]&&M[q].key===D||(M[q]={key:D,value:R});var z=b.aggNums(F,null,[M[q].value,I],2);return M[q].value=z,z}O.exports=function(M,C,R,I){var D,F=M._fullLayout;m(R)&&I&&(D=I()),b.makeTraceGroups(F._indicatorlayer,C,"trace").each(function(q){var z,V,X,j,H,G=q[0].trace,ie=v.select(this),re=G._hasGauge,te=G._isAngular,K=G._isBullet,J=G.domain,$={w:F._size.w*(J.x[1]-J.x[0]),h:F._size.h*(J.y[1]-J.y[0]),l:F._size.l+F._size.w*J.x[0],r:F._size.r+F._size.w*(1-J.x[1]),t:F._size.t+F._size.h*(1-J.y[1]),b:F._size.b+F._size.h*J.y[0]},ae=$.l+$.w/2,ue=$.t+$.h/2,ce=Math.min($.w/2,$.h),de=a.innerRadius*ce,pe=G.align||"center";if(V=ue,re){if(te&&(z=ae,V=ue+ce/2,X=function(fe){return function(le,ye){return[ye/Math.sqrt(le.width/2*(le.width/2)+le.height*le.height),le,ye]}(fe,.9*de)}),K){var me=a.bulletPadding,be=1-a.bulletNumberDomainSize+me;z=$.l+(be+(1-be)*d[pe])*$.w,X=function(fe){return A(fe,(a.bulletNumberDomainSize-me)*$.w,$.h)}}}else z=$.l+d[pe]*$.w,X=function(fe){return A(fe,$.w,$.h)};(function(fe,le,ye,Oe){var Ae,Se,Pe,Fe=ye[0].trace,Be=Oe.numbersX,xe=Oe.numbersY,Me=Fe.align||"center",Ce=T[Me],Ne=Oe.transitionOpts,Re=Oe.onComplete,He=b.ensureSingle(le,"g","numbers"),Ye=[];Fe._hasNumber&&Ye.push("number"),Fe._hasDelta&&(Ye.push("delta"),Fe.delta.position==="left"&&Ye.reverse());var Qe=He.selectAll("text").data(Ye);function lt(zt,Ft,Pt,Ze){if(!zt.match("s")||Pt>=0==Ze>=0||Ft(Pt).slice(-1).match(y)||Ft(Ze).slice(-1).match(y))return Ft;var Je=zt.slice().replace("s","f").replace(/\d+/,function(Ke){return parseInt(Ke)-1}),qe=_(fe,{tickformat:Je});return function(Ke){return Math.abs(Ke)<1?o.tickText(qe,Ke).text:Ft(Ke)}}Qe.enter().append("text"),Qe.attr("text-anchor",function(){return Ce}).attr("class",function(zt){return zt}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),Qe.exit().remove();var ut,xt=Fe.mode+Fe.align;if(Fe._hasDelta&&(ut=function(){var zt=_(fe,{tickformat:Fe.delta.valueformat},Fe._range);zt.setScale(),o.prepTicks(zt);var Ft=function(Ue){return o.tickText(zt,Ue).text},Pt=Fe.delta.suffix,Ze=Fe.delta.prefix,Je=function(Ue){return Fe.delta.relative?Ue.relativeDelta:Ue.delta},qe=function(Ue,Ve){return Ue===0||typeof Ue!="number"||isNaN(Ue)?"-":(Ue>0?Fe.delta.increasing.symbol:Fe.delta.decreasing.symbol)+Ze+Ve(Ue)+Pt},Ke=function(Ue){return Ue.delta>=0?Fe.delta.increasing.color:Fe.delta.decreasing.color};Fe._deltaLastValue===void 0&&(Fe._deltaLastValue=Je(ye[0]));var ft=He.select("text.delta");function ot(){ft.text(qe(Je(ye[0]),Ft)).call(f.fill,Ke(ye[0])).call(r.convertToTspans,fe)}return ft.call(i.font,Fe.delta.font).call(f.fill,Ke({delta:Fe._deltaLastValue})),m(Ne)?ft.transition().duration(Ne.duration).ease(Ne.easing).tween("text",function(){var Ue=v.select(this),Ve=Je(ye[0]),st=Fe._deltaLastValue,Xe=lt(Fe.delta.valueformat,Ft,st,Ve),gt=t(st,Ve);return Fe._deltaLastValue=Ve,function(yt){Ue.text(qe(gt(yt),Xe)),Ue.call(f.fill,Ke({delta:gt(yt)}))}}).each("end",function(){ot(),Re&&Re()}).each("interrupt",function(){ot(),Re&&Re()}):ot(),Se=p(qe(Je(ye[0]),Ft),Fe.delta.font,Ce,fe),ft}(),xt+=Fe.delta.position+Fe.delta.font.size+Fe.delta.font.family+Fe.delta.valueformat,xt+=Fe.delta.increasing.symbol+Fe.delta.decreasing.symbol,Pe=Se),Fe._hasNumber&&(function(){var zt=_(fe,{tickformat:Fe.number.valueformat},Fe._range);zt.setScale(),o.prepTicks(zt);var Ft=function(Ke){return o.tickText(zt,Ke).text},Pt=Fe.number.suffix,Ze=Fe.number.prefix,Je=He.select("text.number");function qe(){var Ke=typeof ye[0].y=="number"?Ze+Ft(ye[0].y)+Pt:"-";Je.text(Ke).call(i.font,Fe.number.font).call(r.convertToTspans,fe)}m(Ne)?Je.transition().duration(Ne.duration).ease(Ne.easing).each("end",function(){qe(),Re&&Re()}).each("interrupt",function(){qe(),Re&&Re()}).attrTween("text",function(){var Ke=v.select(this),ft=t(ye[0].lastY,ye[0].y);Fe._lastValue=ye[0].y;var ot=lt(Fe.number.valueformat,Ft,ye[0].lastY,ye[0].y);return function(Ue){Ke.text(Ze+ot(ft(Ue))+Pt)}}):qe(),Ae=p(Ze+Ft(ye[0].y)+Pt,Fe.number.font,Ce,fe)}(),xt+=Fe.number.font.size+Fe.number.font.family+Fe.number.valueformat+Fe.number.suffix+Fe.number.prefix,Pe=Ae),Fe._hasDelta&&Fe._hasNumber){var _t,mt,it=[(Ae.left+Ae.right)/2,(Ae.top+Ae.bottom)/2],nt=[(Se.left+Se.right)/2,(Se.top+Se.bottom)/2],Et=.75*Fe.delta.font.size;Fe.delta.position==="left"&&(_t=L(Fe,"deltaPos",0,-1*(Ae.width*d[Fe.align]+Se.width*(1-d[Fe.align])+Et),xt,Math.min),mt=it[1]-nt[1],Pe={width:Ae.width+Se.width+Et,height:Math.max(Ae.height,Se.height),left:Se.left+_t,right:Ae.right,top:Math.min(Ae.top,Se.top+mt),bottom:Math.max(Ae.bottom,Se.bottom+mt)}),Fe.delta.position==="right"&&(_t=L(Fe,"deltaPos",0,Ae.width*(1-d[Fe.align])+Se.width*d[Fe.align]+Et,xt,Math.max),mt=it[1]-nt[1],Pe={width:Ae.width+Se.width+Et,height:Math.max(Ae.height,Se.height),left:Ae.left,right:Se.right+_t,top:Math.min(Ae.top,Se.top+mt),bottom:Math.max(Ae.bottom,Se.bottom+mt)}),Fe.delta.position==="bottom"&&(_t=null,mt=Se.height,Pe={width:Math.max(Ae.width,Se.width),height:Ae.height+Se.height,left:Math.min(Ae.left,Se.left),right:Math.max(Ae.right,Se.right),top:Ae.bottom-Ae.height,bottom:Ae.bottom+Se.height}),Fe.delta.position==="top"&&(_t=null,mt=Ae.top,Pe={width:Math.max(Ae.width,Se.width),height:Ae.height+Se.height,left:Math.min(Ae.left,Se.left),right:Math.max(Ae.right,Se.right),top:Ae.bottom-Ae.height-Se.height,bottom:Ae.bottom}),ut.attr({dx:_t,dy:mt})}(Fe._hasNumber||Fe._hasDelta)&&He.attr("transform",function(){var zt=Oe.numbersScaler(Pe);xt+=zt[2];var Ft,Pt=L(Fe,"numbersScale",1,zt[0],xt,Math.min);Fe._scaleNumbers||(Pt=1),Ft=Fe._isAngular?xe-Pt*Pe.bottom:xe-Pt*(Pe.top+Pe.bottom)/2,Fe._numbersTop=Pt*Pe.top+Ft;var Ze=Pe[Me];Me==="center"&&(Ze=(Pe.left+Pe.right)/2);var Je=Be-Pt*Ze;return Je=L(Fe,"numbersTranslate",0,Je,xt,Math.max),c(Je,Ft)+g(Pt)})})(M,ie,q,{numbersX:z,numbersY:V,numbersScaler:X,transitionOpts:R,onComplete:D}),re&&(j={range:G.gauge.axis.range,color:G.gauge.bgcolor,line:{color:G.gauge.bordercolor,width:0},thickness:1},H={range:G.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:G.gauge.bordercolor,width:G.gauge.borderwidth},thickness:1});var we=ie.selectAll("g.angular").data(te?q:[]);we.exit().remove();var Te=ie.selectAll("g.angularaxis").data(te?q:[]);Te.exit().remove(),te&&function(fe,le,ye,Oe){var Ae,Se,Pe,Fe,Be=ye[0].trace,xe=Oe.size,Me=Oe.radius,Ce=Oe.innerRadius,Ne=Oe.gaugeBg,Re=Oe.gaugeOutline,He=[xe.l+xe.w/2,xe.t+xe.h/2+Me/2],Ye=Oe.gauge,Qe=Oe.layer,lt=Oe.transitionOpts,ut=Oe.onComplete,xt=Math.PI/2;function _t(yt){var bt=Be.gauge.axis.range[0],dt=(yt-bt)/(Be.gauge.axis.range[1]-bt)*Math.PI-xt;return dt<-xt?-xt:dt>xt?xt:dt}function mt(yt){return v.svg.arc().innerRadius((Ce+Me)/2-yt/2*(Me-Ce)).outerRadius((Ce+Me)/2+yt/2*(Me-Ce)).startAngle(-xt)}function it(yt){yt.attr("d",function(bt){return mt(bt.thickness).startAngle(_t(bt.range[0])).endAngle(_t(bt.range[1]))()})}Ye.enter().append("g").classed("angular",!0),Ye.attr("transform",c(He[0],He[1])),Qe.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),Qe.selectAll("g.xangularaxistick,path,text").remove(),(Ae=_(fe,Be.gauge.axis)).type="linear",Ae.range=Be.gauge.axis.range,Ae._id="xangularaxis",Ae.ticklabeloverflow="allow",Ae.setScale();var nt=function(yt){return(Ae.range[0]-yt.x)/(Ae.range[1]-Ae.range[0])*Math.PI+Math.PI},Et={},zt=o.makeLabelFns(Ae,0).labelStandoff;Et.xFn=function(yt){var bt=nt(yt);return Math.cos(bt)*zt},Et.yFn=function(yt){var bt=nt(yt),dt=Math.sin(bt)>0?.2:1;return-Math.sin(bt)*(zt+yt.fontSize*dt)+Math.abs(Math.cos(bt))*(yt.fontSize*n)},Et.anchorFn=function(yt){var bt=nt(yt),dt=Math.cos(bt);return Math.abs(dt)<.1?"middle":dt>0?"start":"end"},Et.heightFn=function(yt,bt,dt){var Lt=nt(yt);return-.5*(1+Math.sin(Lt))*dt};var Ft=function(yt){return c(He[0]+Me*Math.cos(yt),He[1]-Me*Math.sin(yt))};if(Pe=function(yt){return Ft(nt(yt))},Se=o.calcTicks(Ae),Fe=o.getTickSigns(Ae)[2],Ae.visible){Fe=Ae.ticks==="inside"?-1:1;var Pt=(Ae.linewidth||1)/2;o.drawTicks(fe,Ae,{vals:Se,layer:Qe,path:"M"+Fe*Pt+",0h"+Fe*Ae.ticklen,transFn:function(yt){var bt=nt(yt);return Ft(bt)+"rotate("+-s(bt)+")"}}),o.drawLabels(fe,Ae,{vals:Se,layer:Qe,transFn:Pe,labelFns:Et})}var Ze=[Ne].concat(Be.gauge.steps),Je=Ye.selectAll("g.bg-arc").data(Ze);Je.enter().append("g").classed("bg-arc",!0).append("path"),Je.select("path").call(it).call(w),Je.exit().remove();var qe=mt(Be.gauge.bar.thickness),Ke=Ye.selectAll("g.value-arc").data([Be.gauge.bar]);Ke.enter().append("g").classed("value-arc",!0).append("path");var ft,ot,Ue,Ve=Ke.select("path");m(lt)?(Ve.transition().duration(lt.duration).ease(lt.easing).each("end",function(){ut&&ut()}).each("interrupt",function(){ut&&ut()}).attrTween("d",(ft=qe,ot=_t(ye[0].lastY),Ue=_t(ye[0].y),function(){var yt=x(ot,Ue);return function(bt){return ft.endAngle(yt(bt))()}})),Be._lastValue=ye[0].y):Ve.attr("d",typeof ye[0].y=="number"?qe.endAngle(_t(ye[0].y)):"M0,0Z"),Ve.call(w),Ke.exit().remove(),Ze=[];var st=Be.gauge.threshold.value;(st||st===0)&&Ze.push({range:[st,st],color:Be.gauge.threshold.color,line:{color:Be.gauge.threshold.line.color,width:Be.gauge.threshold.line.width},thickness:Be.gauge.threshold.thickness});var Xe=Ye.selectAll("g.threshold-arc").data(Ze);Xe.enter().append("g").classed("threshold-arc",!0).append("path"),Xe.select("path").call(it).call(w),Xe.exit().remove();var gt=Ye.selectAll("g.gauge-outline").data([Re]);gt.enter().append("g").classed("gauge-outline",!0).append("path"),gt.select("path").call(it).call(w),gt.exit().remove()}(M,0,q,{radius:ce,innerRadius:de,gauge:we,layer:Te,size:$,gaugeBg:j,gaugeOutline:H,transitionOpts:R,onComplete:D});var Le=ie.selectAll("g.bullet").data(K?q:[]);Le.exit().remove();var Ie=ie.selectAll("g.bulletaxis").data(K?q:[]);Ie.exit().remove(),K&&function(fe,le,ye,Oe){var Ae,Se,Pe,Fe,Be,xe=ye[0].trace,Me=Oe.gauge,Ce=Oe.layer,Ne=Oe.gaugeBg,Re=Oe.gaugeOutline,He=Oe.size,Ye=xe.domain,Qe=Oe.transitionOpts,lt=Oe.onComplete;Me.enter().append("g").classed("bullet",!0),Me.attr("transform",c(He.l,He.t)),Ce.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),Ce.selectAll("g.xbulletaxistick,path,text").remove();var ut=He.h,xt=xe.gauge.bar.thickness*ut,_t=Ye.x[0],mt=Ye.x[0]+(Ye.x[1]-Ye.x[0])*(xe._hasNumber||xe._hasDelta?1-a.bulletNumberDomainSize:1);function it(Je){Je.attr("width",function(qe){return Math.max(0,Ae.c2p(qe.range[1])-Ae.c2p(qe.range[0]))}).attr("x",function(qe){return Ae.c2p(qe.range[0])}).attr("y",function(qe){return .5*(1-qe.thickness)*ut}).attr("height",function(qe){return qe.thickness*ut})}(Ae=_(fe,xe.gauge.axis))._id="xbulletaxis",Ae.domain=[_t,mt],Ae.setScale(),Se=o.calcTicks(Ae),Pe=o.makeTransTickFn(Ae),Fe=o.getTickSigns(Ae)[2],Be=He.t+He.h,Ae.visible&&(o.drawTicks(fe,Ae,{vals:Ae.ticks==="inside"?o.clipEnds(Ae,Se):Se,layer:Ce,path:o.makeTickPath(Ae,Be,Fe),transFn:Pe}),o.drawLabels(fe,Ae,{vals:Se,layer:Ce,transFn:Pe,labelFns:o.makeLabelFns(Ae,Be)}));var nt=[Ne].concat(xe.gauge.steps),Et=Me.selectAll("g.bg-bullet").data(nt);Et.enter().append("g").classed("bg-bullet",!0).append("rect"),Et.select("rect").call(it).call(w),Et.exit().remove();var zt=Me.selectAll("g.value-bullet").data([xe.gauge.bar]);zt.enter().append("g").classed("value-bullet",!0).append("rect"),zt.select("rect").attr("height",xt).attr("y",(ut-xt)/2).call(w),m(Qe)?zt.select("rect").transition().duration(Qe.duration).ease(Qe.easing).each("end",function(){lt&&lt()}).each("interrupt",function(){lt&&lt()}).attr("width",Math.max(0,Ae.c2p(Math.min(xe.gauge.axis.range[1],ye[0].y)))):zt.select("rect").attr("width",typeof ye[0].y=="number"?Math.max(0,Ae.c2p(Math.min(xe.gauge.axis.range[1],ye[0].y))):0),zt.exit().remove();var Ft=ye.filter(function(){return xe.gauge.threshold.value||xe.gauge.threshold.value===0}),Pt=Me.selectAll("g.threshold-bullet").data(Ft);Pt.enter().append("g").classed("threshold-bullet",!0).append("line"),Pt.select("line").attr("x1",Ae.c2p(xe.gauge.threshold.value)).attr("x2",Ae.c2p(xe.gauge.threshold.value)).attr("y1",(1-xe.gauge.threshold.thickness)/2*ut).attr("y2",(1-(1-xe.gauge.threshold.thickness)/2)*ut).call(f.stroke,xe.gauge.threshold.line.color).style("stroke-width",xe.gauge.threshold.line.width),Pt.exit().remove();var Ze=Me.selectAll("g.gauge-outline").data([Re]);Ze.enter().append("g").classed("gauge-outline",!0).append("rect"),Ze.select("rect").call(it).call(w),Ze.exit().remove()}(M,0,q,{gauge:Le,layer:Ie,size:$,gaugeBg:j,gaugeOutline:H,transitionOpts:R,onComplete:D});var _e=ie.selectAll("text.title").data(q);_e.exit().remove(),_e.enter().append("text").classed("title",!0),_e.attr("text-anchor",function(){return K?T.right:T[G.title.align]}).text(G.title.text).call(i.font,G.title.font).call(r.convertToTspans,M),_e.attr("transform",function(){var fe,le=$.l+$.w*d[G.title.align],ye=a.titlePadding,Oe=i.bBox(_e.node());return re?(te&&(fe=G.gauge.axis.visible?i.bBox(Te.node()).top-ye-Oe.bottom:$.t+$.h/2-ce/2-Oe.bottom-ye),K&&(fe=V-(Oe.top+Oe.bottom)/2,le=$.l-a.bulletPadding*$.w)):fe=G._numbersTop-ye-Oe.bottom,c(le,fe)})})}},50048:function(O,S,e){var v=e(49084),x=e(29736).axisHoverFormat,t=e(21776).Ks,b=e(52948),g=e(45464),c=e(92880).extendFlat,s=e(67824).overrideAll,n=O.exports=s(c({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}},caps:{x:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:t(),xhoverformat:x("x"),yhoverformat:x("y"),zhoverformat:x("z"),valuehoverformat:x("value",1),showlegend:c({},g.showlegend,{dflt:!1})},v("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:b.opacity,lightposition:b.lightposition,lighting:b.lighting,flatshading:b.flatshading,contour:b.contour,hoverinfo:c({},g.hoverinfo)}),"calc","nested");n.flatshading.dflt=!0,n.lighting.facenormalsepsilon.dflt=0,n.x.editType=n.y.editType=n.z.editType=n.value.editType="calc+clearAxisTypes",n.transforms=void 0},62624:function(O,S,e){var v=e(47128),x=e(3832).processGrid,t=e(3832).filter;O.exports=function(b,g){g._len=Math.min(g.x.length,g.y.length,g.z.length,g.value.length),g._x=t(g.x,g._len),g._y=t(g.y,g._len),g._z=t(g.z,g._len),g._value=t(g.value,g._len);var c=x(g);g._gridFill=c.fill,g._Xs=c.Xs,g._Ys=c.Ys,g._Zs=c.Zs,g._len=c.len;for(var s=1/0,n=-1/0,i=0;i<g._len;i++){var a=g._value[i];s=Math.min(s,a),n=Math.max(n,a)}g._minValues=s,g._maxValues=n,g._vMin=g.isomin===void 0||g.isomin===null?s:g.isomin,g._vMax=g.isomax===void 0||g.isomax===null?n:g.isomax,v(b,g,{vals:[g._vMin,g._vMax],containerStr:"",cLetter:"c"})}},31460:function(O,S,e){var v=e(67792).gl_mesh3d,x=e(33040).parseColorScale,t=e(3400).isArrayOrTypedArray,b=e(43080),g=e(8932).extractOpts,c=e(52094),s=function(o,l){for(var u=l.length-1;u>0;u--){var h=Math.min(l[u],l[u-1]),f=Math.max(l[u],l[u-1]);if(f>h&&h<o&&o<=f)return{id:u,distRatio:(f-o)/(f-h)}}return{id:0,distRatio:0}};function n(o,l,u){this.scene=o,this.uid=u,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var i=n.prototype;i.handlePick=function(o){if(o.object===this.mesh){var l=o.data.index,u=this.data._meshX[l],h=this.data._meshY[l],f=this.data._meshZ[l],T=this.data._Ys.length,d=this.data._Zs.length,y=s(u,this.data._Xs).id,m=s(h,this.data._Ys).id,w=s(f,this.data._Zs).id,_=o.index=w+d*m+d*T*y;o.traceCoordinate=[this.data._meshX[_],this.data._meshY[_],this.data._meshZ[_],this.data._value[_]];var A=this.data.hovertext||this.data.text;return t(A)&&A[_]!==void 0?o.textLabel=A[_]:A&&(o.textLabel=A),!0}},i.update=function(o){var l=this.scene,u=l.fullSceneLayout;function h(d,y,m,w){return y.map(function(_){return d.d2l(_,0,w)*m})}this.data=r(o);var f={positions:c(h(u.xaxis,o._meshX,l.dataScale[0],o.xcalendar),h(u.yaxis,o._meshY,l.dataScale[1],o.ycalendar),h(u.zaxis,o._meshZ,l.dataScale[2],o.zcalendar)),cells:c(o._meshI,o._meshJ,o._meshK),lightPosition:[o.lightposition.x,o.lightposition.y,o.lightposition.z],ambient:o.lighting.ambient,diffuse:o.lighting.diffuse,specular:o.lighting.specular,roughness:o.lighting.roughness,fresnel:o.lighting.fresnel,vertexNormalsEpsilon:o.lighting.vertexnormalsepsilon,faceNormalsEpsilon:o.lighting.facenormalsepsilon,opacity:o.opacity,contourEnable:o.contour.show,contourColor:b(o.contour.color).slice(0,3),contourWidth:o.contour.width,useFacetNormals:o.flatshading},T=g(o);f.vertexIntensity=o._meshIntensity,f.vertexIntensityBounds=[T.min,T.max],f.colormap=x(o),this.mesh.update(f)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var a=["xyz","xzy","yxz","yzx","zxy","zyx"];function r(o){o._meshI=[],o._meshJ=[],o._meshK=[];var l,u,h,f,T,d,y,m=o.surface.show,w=o.spaceframe.show,_=o.surface.fill,A=o.spaceframe.fill,p=!1,L=!1,M=0,C=o._Xs,R=o._Ys,I=o._Zs,D=C.length,F=R.length,q=I.length,z=a.indexOf(o._gridFill.replace(/-/g,"").replace(/\+/g,"")),V=function(Ce,Ne,Re){switch(z){case 5:return Re+q*Ne+q*F*Ce;case 4:return Re+q*Ce+q*D*Ne;case 3:return Ne+F*Re+F*q*Ce;case 2:return Ne+F*Ce+F*D*Re;case 1:return Ce+D*Re+D*q*Ne;default:return Ce+D*Ne+D*F*Re}},X=o._minValues,j=o._maxValues,H=o._vMin,G=o._vMax;function ie(Ce,Ne,Re){for(var He=d.length,Ye=u;Ye<He;Ye++)if(Ce===h[Ye]&&Ne===f[Ye]&&Re===T[Ye])return Ye;return-1}function re(){u=l}function te(){h=[],f=[],T=[],d=[],l=0,re()}function K(Ce,Ne,Re,He){return h.push(Ce),f.push(Ne),T.push(Re),d.push(He),++l-1}function J(Ce,Ne,Re){for(var He=[],Ye=0;Ye<Ce.length;Ye++)He[Ye]=Ce[Ye]*(1-Re)+Re*Ne[Ye];return He}function $(Ce){y=Ce}function ae(Ce,Ne){return Ce==="all"||Ce===null||Ce.indexOf(Ne)>-1}function ue(Ce,Ne){return Ce===null?Ne:Ce}function ce(Ce,Ne,Re){re();var He,Ye,Qe,lt=[Ne],ut=[Re];if(y>=1)lt=[Ne],ut=[Re];else if(y>0){var xt=function(Ze,Je){var qe=Ze[0],Ke=Ze[1],ft=Ze[2],ot=function(dt,Lt,wt){for(var Ct=[],Rt=0;Rt<dt.length;Rt++)Ct[Rt]=(dt[Rt]+Lt[Rt]+wt[Rt])/3;return Ct}(qe,Ke,ft),Ue=Math.sqrt(1-y),Ve=J(ot,qe,Ue),st=J(ot,Ke,Ue),Xe=J(ot,ft,Ue),gt=Je[0],yt=Je[1],bt=Je[2];return{xyzv:[[qe,Ke,st],[st,Ve,qe],[Ke,ft,Xe],[Xe,st,Ke],[ft,qe,Ve],[Ve,Xe,ft]],abc:[[gt,yt,-1],[-1,-1,gt],[yt,bt,-1],[-1,-1,yt],[bt,gt,-1],[-1,-1,bt]]}}(Ne,Re);lt=xt.xyzv,ut=xt.abc}for(var _t=0;_t<lt.length;_t++){Ne=lt[_t],Re=ut[_t];for(var mt=[],it=0;it<3;it++){var nt=Ne[it][0],Et=Ne[it][1],zt=Ne[it][2],Ft=Ne[it][3],Pt=Re[it]>-1?Re[it]:ie(nt,Et,zt);mt[it]=Pt>-1?Pt:K(nt,Et,zt,ue(Ce,Ft))}He=mt[0],Ye=mt[1],Qe=mt[2],o._meshI.push(He),o._meshJ.push(Ye),o._meshK.push(Qe),++M}}function de(Ce,Ne,Re,He){var Ye=Ce[3];Ye<Re&&(Ye=Re),Ye>He&&(Ye=He);for(var Qe=(Ce[3]-Ye)/(Ce[3]-Ne[3]+1e-9),lt=[],ut=0;ut<4;ut++)lt[ut]=(1-Qe)*Ce[ut]+Qe*Ne[ut];return lt}function pe(Ce,Ne,Re){return Ce>=Ne&&Ce<=Re}function me(Ce){var Ne=.001*(G-H);return Ce>=H-Ne&&Ce<=G+Ne}function be(Ce){for(var Ne=[],Re=0;Re<4;Re++){var He=Ce[Re];Ne.push([o._x[He],o._y[He],o._z[He],o._value[He]])}return Ne}var we=3;function Te(Ce,Ne,Re,He,Ye,Qe){Qe||(Qe=1),Re=[-1,-1,-1];var lt=!1,ut=[pe(Ne[0][3],He,Ye),pe(Ne[1][3],He,Ye),pe(Ne[2][3],He,Ye)];if(!ut[0]&&!ut[1]&&!ut[2])return!1;var xt=function(mt,it,nt){return me(it[0][3])&&me(it[1][3])&&me(it[2][3])?(ce(mt,it,nt),!0):Qe<we&&Te(mt,it,nt,H,G,++Qe)};if(ut[0]&&ut[1]&&ut[2])return xt(Ce,Ne,Re)||lt;var _t=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(mt){if(ut[mt[0]]&&ut[mt[1]]&&!ut[mt[2]]){var it=Ne[mt[0]],nt=Ne[mt[1]],Et=Ne[mt[2]],zt=de(Et,it,He,Ye),Ft=de(Et,nt,He,Ye);lt=xt(Ce,[Ft,zt,it],[-1,-1,Re[mt[0]]])||lt,lt=xt(Ce,[it,nt,Ft],[Re[mt[0]],Re[mt[1]],-1])||lt,_t=!0}}),_t||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(mt){if(ut[mt[0]]&&!ut[mt[1]]&&!ut[mt[2]]){var it=Ne[mt[0]],nt=Ne[mt[1]],Et=Ne[mt[2]],zt=de(nt,it,He,Ye),Ft=de(Et,it,He,Ye);lt=xt(Ce,[Ft,zt,it],[-1,-1,Re[mt[0]]])||lt,_t=!0}}),lt}function Le(Ce,Ne,Re,He){var Ye=!1,Qe=be(Ne),lt=[pe(Qe[0][3],Re,He),pe(Qe[1][3],Re,He),pe(Qe[2][3],Re,He),pe(Qe[3][3],Re,He)];if(!(lt[0]||lt[1]||lt[2]||lt[3]))return Ye;if(lt[0]&&lt[1]&&lt[2]&&lt[3])return L&&(Ye=function(xt,_t,mt){var it=function(nt,Et,zt){ce(xt,[_t[nt],_t[Et],_t[zt]],[mt[nt],mt[Et],mt[zt]])};it(0,1,2),it(3,0,1),it(2,3,0),it(1,2,3)}(Ce,Qe,Ne)||Ye),Ye;var ut=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(xt){if(lt[xt[0]]&&lt[xt[1]]&&lt[xt[2]]&&!lt[xt[3]]){var _t=Qe[xt[0]],mt=Qe[xt[1]],it=Qe[xt[2]],nt=Qe[xt[3]];if(L)Ye=ce(Ce,[_t,mt,it],[Ne[xt[0]],Ne[xt[1]],Ne[xt[2]]])||Ye;else{var Et=de(nt,_t,Re,He),zt=de(nt,mt,Re,He),Ft=de(nt,it,Re,He);Ye=ce(null,[Et,zt,Ft],[-1,-1,-1])||Ye}ut=!0}}),ut||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(xt){if(lt[xt[0]]&&lt[xt[1]]&&!lt[xt[2]]&&!lt[xt[3]]){var _t=Qe[xt[0]],mt=Qe[xt[1]],it=Qe[xt[2]],nt=Qe[xt[3]],Et=de(it,_t,Re,He),zt=de(it,mt,Re,He),Ft=de(nt,mt,Re,He),Pt=de(nt,_t,Re,He);L?(Ye=ce(Ce,[_t,Pt,Et],[Ne[xt[0]],-1,-1])||Ye,Ye=ce(Ce,[mt,zt,Ft],[Ne[xt[1]],-1,-1])||Ye):Ye=function(Ze,Je,qe){var Ke=function(ft,ot,Ue){ce(null,[Je[ft],Je[ot],Je[Ue]],[qe[ft],qe[ot],qe[Ue]])};Ke(0,1,2),Ke(2,3,0)}(0,[Et,zt,Ft,Pt],[-1,-1,-1,-1])||Ye,ut=!0}}),ut||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(xt){if(lt[xt[0]]&&!lt[xt[1]]&&!lt[xt[2]]&&!lt[xt[3]]){var _t=Qe[xt[0]],mt=Qe[xt[1]],it=Qe[xt[2]],nt=Qe[xt[3]],Et=de(mt,_t,Re,He),zt=de(it,_t,Re,He),Ft=de(nt,_t,Re,He);L?(Ye=ce(Ce,[_t,Et,zt],[Ne[xt[0]],-1,-1])||Ye,Ye=ce(Ce,[_t,zt,Ft],[Ne[xt[0]],-1,-1])||Ye,Ye=ce(Ce,[_t,Ft,Et],[Ne[xt[0]],-1,-1])||Ye):Ye=ce(null,[Et,zt,Ft],[-1,-1,-1])||Ye,ut=!0}})),Ye}function Ie(Ce,Ne,Re,He,Ye,Qe,lt,ut,xt,_t,mt){var it=!1;return p&&(ae(Ce,"A")&&(it=Le(null,[Ne,Re,He,Qe],_t,mt)||it),ae(Ce,"B")&&(it=Le(null,[Re,He,Ye,xt],_t,mt)||it),ae(Ce,"C")&&(it=Le(null,[Re,Qe,lt,xt],_t,mt)||it),ae(Ce,"D")&&(it=Le(null,[He,Qe,ut,xt],_t,mt)||it),ae(Ce,"E")&&(it=Le(null,[Re,He,Qe,xt],_t,mt)||it)),L&&(it=Le(Ce,[Re,He,Qe,xt],_t,mt)||it),it}function _e(Ce,Ne,Re,He,Ye,Qe,lt,ut){return[ut[0]===!0||Te(Ce,be([Ne,Re,He]),[Ne,Re,He],Qe,lt),ut[1]===!0||Te(Ce,be([He,Ye,Ne]),[He,Ye,Ne],Qe,lt)]}function fe(Ce,Ne,Re,He,Ye,Qe,lt,ut,xt){return ut?_e(Ce,Ne,Re,Ye,He,Qe,lt,xt):_e(Ce,Re,Ye,He,Ne,Qe,lt,xt)}function le(Ce,Ne,Re,He,Ye,Qe,lt){var ut,xt,_t,mt,it=!1,nt=function(){it=Te(Ce,[ut,xt,_t],[-1,-1,-1],Ye,Qe)||it,it=Te(Ce,[_t,mt,ut],[-1,-1,-1],Ye,Qe)||it},Et=lt[0],zt=lt[1],Ft=lt[2];return Et&&(ut=J(be([V(Ne,Re-0,He-0)])[0],be([V(Ne-1,Re-0,He-0)])[0],Et),xt=J(be([V(Ne,Re-0,He-1)])[0],be([V(Ne-1,Re-0,He-1)])[0],Et),_t=J(be([V(Ne,Re-1,He-1)])[0],be([V(Ne-1,Re-1,He-1)])[0],Et),mt=J(be([V(Ne,Re-1,He-0)])[0],be([V(Ne-1,Re-1,He-0)])[0],Et),nt()),zt&&(ut=J(be([V(Ne-0,Re,He-0)])[0],be([V(Ne-0,Re-1,He-0)])[0],zt),xt=J(be([V(Ne-0,Re,He-1)])[0],be([V(Ne-0,Re-1,He-1)])[0],zt),_t=J(be([V(Ne-1,Re,He-1)])[0],be([V(Ne-1,Re-1,He-1)])[0],zt),mt=J(be([V(Ne-1,Re,He-0)])[0],be([V(Ne-1,Re-1,He-0)])[0],zt),nt()),Ft&&(ut=J(be([V(Ne-0,Re-0,He)])[0],be([V(Ne-0,Re-0,He-1)])[0],Ft),xt=J(be([V(Ne-0,Re-1,He)])[0],be([V(Ne-0,Re-1,He-1)])[0],Ft),_t=J(be([V(Ne-1,Re-1,He)])[0],be([V(Ne-1,Re-1,He-1)])[0],Ft),mt=J(be([V(Ne-1,Re-0,He)])[0],be([V(Ne-1,Re-0,He-1)])[0],Ft),nt()),it}function ye(Ce,Ne,Re,He,Ye,Qe,lt,ut,xt,_t,mt,it){var nt=Ce;return it?(p&&Ce==="even"&&(nt=null),Ie(nt,Ne,Re,He,Ye,Qe,lt,ut,xt,_t,mt)):(p&&Ce==="odd"&&(nt=null),Ie(nt,xt,ut,lt,Qe,Ye,He,Re,Ne,_t,mt))}function Oe(Ce,Ne,Re,He,Ye){for(var Qe=[],lt=0,ut=0;ut<Ne.length;ut++)for(var xt=Ne[ut],_t=1;_t<q;_t++)for(var mt=1;mt<F;mt++)Qe.push(fe(Ce,V(xt,mt-1,_t-1),V(xt,mt-1,_t),V(xt,mt,_t-1),V(xt,mt,_t),Re,He,(xt+mt+_t)%2,Ye&&Ye[lt]?Ye[lt]:[])),lt++;return Qe}function Ae(Ce,Ne,Re,He,Ye){for(var Qe=[],lt=0,ut=0;ut<Ne.length;ut++)for(var xt=Ne[ut],_t=1;_t<D;_t++)for(var mt=1;mt<q;mt++)Qe.push(fe(Ce,V(_t-1,xt,mt-1),V(_t,xt,mt-1),V(_t-1,xt,mt),V(_t,xt,mt),Re,He,(_t+xt+mt)%2,Ye&&Ye[lt]?Ye[lt]:[])),lt++;return Qe}function Se(Ce,Ne,Re,He,Ye){for(var Qe=[],lt=0,ut=0;ut<Ne.length;ut++)for(var xt=Ne[ut],_t=1;_t<F;_t++)for(var mt=1;mt<D;mt++)Qe.push(fe(Ce,V(mt-1,_t-1,xt),V(mt-1,_t,xt),V(mt,_t-1,xt),V(mt,_t,xt),Re,He,(mt+_t+xt)%2,Ye&&Ye[lt]?Ye[lt]:[])),lt++;return Qe}function Pe(Ce,Ne,Re){for(var He=1;He<q;He++)for(var Ye=1;Ye<F;Ye++)for(var Qe=1;Qe<D;Qe++)ye(Ce,V(Qe-1,Ye-1,He-1),V(Qe-1,Ye-1,He),V(Qe-1,Ye,He-1),V(Qe-1,Ye,He),V(Qe,Ye-1,He-1),V(Qe,Ye-1,He),V(Qe,Ye,He-1),V(Qe,Ye,He),Ne,Re,(Qe+Ye+He)%2)}function Fe(Ce,Ne,Re,He,Ye,Qe){for(var lt=[],ut=0,xt=0;xt<Ne.length;xt++)for(var _t=Ne[xt],mt=1;mt<q;mt++)for(var it=1;it<F;it++)lt.push(le(Ce,_t,it,mt,Re,He,Ye[xt],Qe&&Qe[ut]&&Qe[ut])),ut++;return lt}function Be(Ce,Ne,Re,He,Ye,Qe){for(var lt=[],ut=0,xt=0;xt<Ne.length;xt++)for(var _t=Ne[xt],mt=1;mt<D;mt++)for(var it=1;it<q;it++)lt.push(le(Ce,mt,_t,it,Re,He,Ye[xt],Qe&&Qe[ut]&&Qe[ut])),ut++;return lt}function xe(Ce,Ne,Re,He,Ye,Qe){for(var lt=[],ut=0,xt=0;xt<Ne.length;xt++)for(var _t=Ne[xt],mt=1;mt<F;mt++)for(var it=1;it<D;it++)lt.push(le(Ce,it,mt,_t,Re,He,Ye[xt],Qe&&Qe[ut]&&Qe[ut])),ut++;return lt}function Me(Ce,Ne){for(var Re=[],He=Ce;He<Ne;He++)Re.push(He);return Re}return function(){te(),function(){for(var xt=0;xt<D;xt++)for(var _t=0;_t<F;_t++)for(var mt=0;mt<q;mt++){var it=V(xt,_t,mt);K(o._x[it],o._y[it],o._z[it],o._value[it])}}();var Ce=null;if(w&&A&&($(A),L=!0,Pe(Ce,H,G),L=!1),m&&_){$(_);for(var Ne=o.surface.pattern,Re=o.surface.count,He=0;He<Re;He++){var Ye=Re===1?.5:He/(Re-1),Qe=(1-Ye)*H+Ye*G,lt=Math.abs(Qe-X)>Math.abs(Qe-j)?[X,Qe]:[Qe,j];p=!0,Pe(Ne,lt[0],lt[1]),p=!1}}var ut=[[Math.min(H,j),Math.max(H,j)],[Math.min(X,G),Math.max(X,G)]];["x","y","z"].forEach(function(xt){for(var _t=[],mt=0;mt<ut.length;mt++){var it=0,nt=ut[mt][0],Et=ut[mt][1],zt=o.slices[xt];if(zt.show&&zt.fill){$(zt.fill);var Ft=[],Pt=[],Ze=[];if(zt.locations.length)for(var Je=0;Je<zt.locations.length;Je++){var qe=s(zt.locations[Je],xt==="x"?C:xt==="y"?R:I);qe.distRatio===0?Ft.push(qe.id):qe.id>0&&(Pt.push(qe.id),xt==="x"?Ze.push([qe.distRatio,0,0]):xt==="y"?Ze.push([0,qe.distRatio,0]):Ze.push([0,0,qe.distRatio]))}else Ft=Me(1,xt==="x"?D-1:xt==="y"?F-1:q-1);Pt.length>0&&(_t[it]=xt==="x"?Fe(Ce,Pt,nt,Et,Ze,_t[it]):xt==="y"?Be(Ce,Pt,nt,Et,Ze,_t[it]):xe(Ce,Pt,nt,Et,Ze,_t[it]),it++),Ft.length>0&&(_t[it]=xt==="x"?Oe(Ce,Ft,nt,Et,_t[it]):xt==="y"?Ae(Ce,Ft,nt,Et,_t[it]):Se(Ce,Ft,nt,Et,_t[it]),it++)}var Ke=o.caps[xt];Ke.show&&Ke.fill&&($(Ke.fill),_t[it]=xt==="x"?Oe(Ce,[0,D-1],nt,Et,_t[it]):xt==="y"?Ae(Ce,[0,F-1],nt,Et,_t[it]):Se(Ce,[0,q-1],nt,Et,_t[it]),it++)}}),M===0&&te(),o._meshX=h,o._meshY=f,o._meshZ=T,o._meshIntensity=d,o._Xs=C,o._Ys=R,o._Zs=I}(),o}O.exports={findNearestOnAxis:s,generateIsoMeshes:r,createIsosurfaceTrace:function(o,l){var u=o.glplot.gl,h=v({gl:u}),f=new n(o,h,l.uid);return h._trace=f,f.update(l),o.glplot.add(h),f}}},70548:function(O,S,e){var v=e(3400),x=e(24040),t=e(50048),b=e(27260);function g(c,s,n,i,a){var r=a("isomin"),o=a("isomax");o!=null&&r!=null&&r>o&&(s.isomin=null,s.isomax=null);var l=a("x"),u=a("y"),h=a("z"),f=a("value");l&&l.length&&u&&u.length&&h&&h.length&&f&&f.length?(x.getComponentMethod("calendars","handleTraceDefaults")(c,s,["x","y","z"],i),a("valuehoverformat"),["x","y","z"].forEach(function(T){a(T+"hoverformat");var d="caps."+T;a(d+".show")&&a(d+".fill");var y="slices."+T;a(y+".show")&&(a(y+".fill"),a(y+".locations"))}),a("spaceframe.show")&&a("spaceframe.fill"),a("surface.show")&&(a("surface.count"),a("surface.fill"),a("surface.pattern")),a("contour.show")&&(a("contour.color"),a("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(T){a(T)}),b(c,s,i,a,{prefix:"",cLetter:"c"}),s._length=null):s.visible=!1}O.exports={supplyDefaults:function(c,s,n,i){g(c,s,0,i,function(a,r){return v.coerce(c,s,t,a,r)})},supplyIsoDefaults:g}},6296:function(O,S,e){O.exports={attributes:e(50048),supplyDefaults:e(70548).supplyDefaults,calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(31460).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},52948:function(O,S,e){var v=e(49084),x=e(29736).axisHoverFormat,t=e(21776).Ks,b=e(16716),g=e(45464),c=e(92880).extendFlat;O.exports=c({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:t({editType:"calc"}),xhoverformat:x("x"),yhoverformat:x("y"),zhoverformat:x("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},v("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:b.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:c({},b.contours.x.show,{}),color:b.contours.x.color,width:b.contours.x.width,editType:"calc"},lightposition:{x:c({},b.lightposition.x,{dflt:1e5}),y:c({},b.lightposition.y,{dflt:1e5}),z:c({},b.lightposition.z,{dflt:0}),editType:"calc"},lighting:c({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},b.lighting),hoverinfo:c({},g.hoverinfo,{editType:"calc"}),showlegend:c({},g.showlegend,{dflt:!1})})},1876:function(O,S,e){var v=e(47128);O.exports=function(x,t){t.intensity&&v(x,t,{vals:t.intensity,containerStr:"",cLetter:"c"})}},576:function(O,S,e){var v=e(67792).gl_mesh3d,x=e(67792).delaunay_triangulate,t=e(67792).alpha_shape,b=e(67792).convex_hull,g=e(33040).parseColorScale,c=e(3400).isArrayOrTypedArray,s=e(43080),n=e(8932).extractOpts,i=e(52094);function a(f,T,d){this.scene=f,this.uid=d,this.mesh=T,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var r=a.prototype;function o(f){for(var T=[],d=f.length,y=0;y<d;y++)T[y]=s(f[y]);return T}function l(f,T,d,y){for(var m=[],w=T.length,_=0;_<w;_++)m[_]=f.d2l(T[_],0,y)*d;return m}function u(f){for(var T=[],d=f.length,y=0;y<d;y++)T[y]=Math.round(f[y]);return T}function h(f,T){for(var d=f.length,y=0;y<d;y++)if(f[y]<=-.5||f[y]>=T-.5)return!1;return!0}r.handlePick=function(f){if(f.object===this.mesh){var T=f.index=f.data.index;f.data._cellCenter?f.traceCoordinate=f.data.dataCoordinate:f.traceCoordinate=[this.data.x[T],this.data.y[T],this.data.z[T]];var d=this.data.hovertext||this.data.text;return c(d)&&d[T]!==void 0?f.textLabel=d[T]:d&&(f.textLabel=d),!0}},r.update=function(f){var T=this.scene,d=T.fullSceneLayout;this.data=f;var y,m=f.x.length,w=i(l(d.xaxis,f.x,T.dataScale[0],f.xcalendar),l(d.yaxis,f.y,T.dataScale[1],f.ycalendar),l(d.zaxis,f.z,T.dataScale[2],f.zcalendar));if(f.i&&f.j&&f.k){if(f.i.length!==f.j.length||f.j.length!==f.k.length||!h(f.i,m)||!h(f.j,m)||!h(f.k,m))return;y=i(u(f.i),u(f.j),u(f.k))}else y=f.alphahull===0?b(w):f.alphahull>0?t(f.alphahull,w):function(L,M){for(var C=["x","y","z"].indexOf(L),R=[],I=M.length,D=0;D<I;D++)R[D]=[M[D][(C+1)%3],M[D][(C+2)%3]];return x(R)}(f.delaunayaxis,w);var _={positions:w,cells:y,lightPosition:[f.lightposition.x,f.lightposition.y,f.lightposition.z],ambient:f.lighting.ambient,diffuse:f.lighting.diffuse,specular:f.lighting.specular,roughness:f.lighting.roughness,fresnel:f.lighting.fresnel,vertexNormalsEpsilon:f.lighting.vertexnormalsepsilon,faceNormalsEpsilon:f.lighting.facenormalsepsilon,opacity:f.opacity,contourEnable:f.contour.show,contourColor:s(f.contour.color).slice(0,3),contourWidth:f.contour.width,useFacetNormals:f.flatshading};if(f.intensity){var A=n(f);this.color="#fff";var p=f.intensitymode;_[p+"Intensity"]=f.intensity,_[p+"IntensityBounds"]=[A.min,A.max],_.colormap=g(f)}else f.vertexcolor?(this.color=f.vertexcolor[0],_.vertexColors=o(f.vertexcolor)):f.facecolor?(this.color=f.facecolor[0],_.cellColors=o(f.facecolor)):(this.color=f.color,_.meshColor=s(f.color));this.mesh.update(_)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},O.exports=function(f,T){var d=f.glplot.gl,y=v({gl:d}),m=new a(f,y,T.uid);return y._trace=m,m.update(T),f.glplot.add(y),m}},74212:function(O,S,e){var v=e(24040),x=e(3400),t=e(27260),b=e(52948);O.exports=function(g,c,s,n){function i(r,o){return x.coerce(g,c,b,r,o)}function a(r){var o=r.map(function(l){var u=i(l);return u&&x.isArrayOrTypedArray(u)?u:null});return o.every(function(l){return l&&l.length===o[0].length})&&o}a(["x","y","z"])?(a(["i","j","k"]),(!c.i||c.j&&c.k)&&(!c.j||c.k&&c.i)&&(!c.k||c.i&&c.j)?(v.getComponentMethod("calendars","handleTraceDefaults")(g,c,["x","y","z"],n),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(r){i(r)}),i("contour.show")&&(i("contour.color"),i("contour.width")),"intensity"in g?(i("intensity"),i("intensitymode"),t(g,c,n,i,{prefix:"",cLetter:"c"})):(c.showscale=!1,"facecolor"in g?i("facecolor"):"vertexcolor"in g?i("vertexcolor"):i("color",s)),i("text"),i("hovertext"),i("hovertemplate"),i("xhoverformat"),i("yhoverformat"),i("zhoverformat"),c._length=null):c.visible=!1):c.visible=!1}},7404:function(O,S,e){O.exports={attributes:e(52948),supplyDefaults:e(74212),calc:e(1876),colorbar:{min:"cmin",max:"cmax"},plot:e(576),moduleType:"trace",name:"mesh3d",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},20279:function(O,S,e){var v=e(3400).extendFlat,x=e(52904),t=e(29736).axisHoverFormat,b=e(98192).u,g=e(55756),c=e(48164),s=c.INCREASING.COLOR,n=c.DECREASING.COLOR,i=x.line;function a(r){return{line:{color:v({},i.color,{dflt:r}),width:i.width,dash:b,editType:"style"},editType:"style"}}O.exports={xperiod:x.xperiod,xperiod0:x.xperiod0,xperiodalignment:x.xperiodalignment,xhoverformat:t("x"),yhoverformat:t("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:v({},i.width,{}),dash:v({},b,{}),editType:"style"},increasing:a(s),decreasing:a(n),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:v({},g.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}}),zorder:x.zorder}},42812:function(O,S,e){var v=e(3400),x=v._,t=e(54460),b=e(1220),g=e(39032).BADNUM;function c(n,i,a,r){return{o:n,h:i,l:a,c:r}}function s(n,i,a,r,o,l){for(var u=o.makeCalcdata(i,"open"),h=o.makeCalcdata(i,"high"),f=o.makeCalcdata(i,"low"),T=o.makeCalcdata(i,"close"),d=v.isArrayOrTypedArray(i.text),y=v.isArrayOrTypedArray(i.hovertext),m=!0,w=null,_=!!i.xperiodalignment,A=[],p=0;p<r.length;p++){var L=r[p],M=u[p],C=h[p],R=f[p],I=T[p];if(L!==g&&M!==g&&C!==g&&R!==g&&I!==g){I===M?w!==null&&I!==w&&(m=I>w):m=I>M,w=I;var D=l(M,C,R,I);D.pos=L,D.yc=(M+I)/2,D.i=p,D.dir=m?"increasing":"decreasing",D.x=D.pos,D.y=[R,C],_&&(D.orig_p=a[p]),d&&(D.tx=i.text[p]),y&&(D.htx=i.hovertext[p]),A.push(D)}else A.push({pos:L,empty:!0})}return i._extremes[o._id]=t.findExtremes(o,v.concat(f,h),{padded:!0}),A.length&&(A[0].t={labels:{open:x(n,"open:")+" ",high:x(n,"high:")+" ",low:x(n,"low:")+" ",close:x(n,"close:")+" "}}),A}O.exports={calc:function(n,i){var a=t.getFromId(n,i.xaxis),r=t.getFromId(n,i.yaxis),o=function(T,d,y){var m=y._minDiff;if(!m){var w,_=T._fullData,A=[];for(m=1/0,w=0;w<_.length;w++){var p=_[w];if(p.type==="ohlc"&&p.visible===!0&&p.xaxis===d._id){A.push(p);var L=d.makeCalcdata(p,"x");p._origX=L;var M=b(y,d,"x",L).vals;p._xcalc=M;var C=v.distinctVals(M).minDiff;C&&isFinite(C)&&(m=Math.min(m,C))}}for(m===1/0&&(m=1),w=0;w<A.length;w++)A[w]._minDiff=m}return m*y.tickwidth}(n,a,i),l=i._minDiff;i._minDiff=null;var u=i._origX;i._origX=null;var h=i._xcalc;i._xcalc=null;var f=s(n,i,u,h,r,c);return i._extremes[a._id]=t.findExtremes(a,h,{vpad:l/2}),f.length?(v.extendFlat(f[0].t,{wHover:l/2,tickLen:o}),f):[{t:{empty:!0}}]},calcCommon:s}},23860:function(O,S,e){var v=e(3400),x=e(52744),t=e(31147),b=e(20279);function g(c,s,n,i){n(i+".line.color"),n(i+".line.width",s.line.width),n(i+".line.dash",s.line.dash)}O.exports=function(c,s,n,i){function a(r,o){return v.coerce(c,s,b,r,o)}x(c,s,a,i)?(t(c,s,i,a,{x:!0}),a("xhoverformat"),a("yhoverformat"),a("line.width"),a("line.dash"),g(0,s,a,"increasing"),g(0,s,a,"decreasing"),a("text"),a("hovertext"),a("tickwidth"),i._requestRangeslider[s.xaxis]=!0,a("zorder")):s.visible=!1}},18720:function(O,S,e){var v=e(54460),x=e(3400),t=e(93024),b=e(76308),g=e(3400).fillText,c=e(48164),s={increasing:c.INCREASING.SYMBOL,decreasing:c.DECREASING.SYMBOL};function n(r,o,l,u){var h,f,T=r.cd,d=r.xa,y=T[0].trace,m=T[0].t,w=y.type,_=w==="ohlc"?"l":"min",A=w==="ohlc"?"h":"max",p=m.bPos||0,L=function(j){return j.pos+p-o},M=m.bdPos||m.tickLen,C=m.wHover,R=Math.min(1,M/Math.abs(d.r2c(d.range[1])-d.r2c(d.range[0])));function I(j){var H=L(j);return t.inbox(H-C,H+C,h)}function D(j){var H=j[_],G=j[A];return H===G||t.inbox(H-l,G-l,h)}function F(j){return(I(j)+D(j))/2}h=r.maxHoverDistance-R,f=r.maxSpikeDistance-R;var q=t.getDistanceFunction(u,I,D,F);if(t.getClosest(T,q,r),r.index===!1)return null;var z=T[r.index];if(z.empty)return null;var V=y[z.dir],X=V.line.color;return b.opacity(X)&&V.line.width?r.color=X:r.color=V.fillcolor,r.x0=d.c2p(z.pos+p-M,!0),r.x1=d.c2p(z.pos+p+M,!0),r.xLabelVal=z.orig_p!==void 0?z.orig_p:z.pos,r.spikeDistance=F(z)*f/h,r.xSpike=d.c2p(z.pos,!0),r}function i(r,o,l,u){var h=r.cd,f=r.ya,T=h[0].trace,d=h[0].t,y=[],m=n(r,o,l,u);if(!m)return[];var w=h[m.index].hi||T.hoverinfo,_=w.split("+");if(w!=="all"&&_.indexOf("y")===-1)return[];for(var A=["high","open","close","low"],p={},L=0;L<A.length;L++){var M,C=A[L],R=T[C][m.index],I=f.c2p(R,!0);R in p?(M=p[R]).yLabel+="<br>"+d.labels[C]+v.hoverLabelText(f,R,T.yhoverformat):((M=x.extendFlat({},m)).y0=M.y1=I,M.yLabelVal=R,M.yLabel=d.labels[C]+v.hoverLabelText(f,R,T.yhoverformat),M.name="",y.push(M),p[R]=M)}return y}function a(r,o,l,u){var h=r.cd,f=r.ya,T=h[0].trace,d=h[0].t,y=n(r,o,l,u);if(!y)return[];var m=h[y.index],w=y.index=m.i,_=m.dir;function A(D){return d.labels[D]+v.hoverLabelText(f,T[D][w],T.yhoverformat)}var p=m.hi||T.hoverinfo,L=p.split("+"),M=p==="all",C=M||L.indexOf("y")!==-1,R=M||L.indexOf("text")!==-1,I=C?[A("open"),A("high"),A("low"),A("close")+"  "+s[_]]:[];return R&&g(m,T,I),y.extraText=I.join("<br>"),y.y0=y.y1=f.c2p(m.yc,!0),[y]}O.exports={hoverPoints:function(r,o,l,u){return r.cd[0].trace.hoverlabel.split?i(r,o,l,u):a(r,o,l,u)},hoverSplit:i,hoverOnPoints:a}},65456:function(O,S,e){O.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(57952),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(20279),supplyDefaults:e(23860),calc:e(42812).calc,plot:e(36664),style:e(14008),hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},52744:function(O,S,e){var v=e(24040),x=e(3400);O.exports=function(t,b,g,c){var s=g("x"),n=g("open"),i=g("high"),a=g("low"),r=g("close");if(g("hoverlabel.split"),v.getComponentMethod("calendars","handleTraceDefaults")(t,b,["x"],c),n&&i&&a&&r){var o=Math.min(n.length,i.length,a.length,r.length);return s&&(o=Math.min(o,x.minRowLength(s))),b._length=o,o}}},36664:function(O,S,e){var v=e(33428),x=e(3400);O.exports=function(t,b,g,c){var s=b.yaxis,n=b.xaxis,i=!!n.rangebreaks;x.makeTraceGroups(c,g,"trace ohlc").each(function(a){var r=v.select(this),o=a[0],l=o.t;if(o.trace.visible!==!0||l.empty)r.remove();else{var u=l.tickLen,h=r.selectAll("path").data(x.identity);h.enter().append("path"),h.exit().remove(),h.attr("d",function(f){if(f.empty)return"M0,0Z";var T=n.c2p(f.pos-u,!0),d=n.c2p(f.pos+u,!0),y=i?(T+d)/2:n.c2p(f.pos,!0);return"M"+T+","+s.c2p(f.o,!0)+"H"+y+"M"+y+","+s.c2p(f.h,!0)+"V"+s.c2p(f.l,!0)+"M"+d+","+s.c2p(f.c,!0)+"H"+y})}})}},97384:function(O){O.exports=function(S,e){var v,x=S.cd,t=S.xaxis,b=S.yaxis,g=[],c=x[0].t.bPos||0;if(e===!1)for(v=0;v<x.length;v++)x[v].selected=0;else for(v=0;v<x.length;v++){var s=x[v];e.contains([t.c2p(s.pos+c),b.c2p(s.yc)],null,s.i,S)?(g.push({pointNumber:s.i,x:t.c2d(s.pos),y:b.c2d(s.yc)}),s.selected=1):s.selected=0}return g}},14008:function(O,S,e){var v=e(33428),x=e(43616),t=e(76308);O.exports=function(b,g,c){var s=c||v.select(b).selectAll("g.ohlclayer").selectAll("g.trace");s.style("opacity",function(n){return n[0].trace.opacity}),s.each(function(n){var i=n[0].trace;v.select(this).selectAll("path").each(function(a){if(!a.empty){var r=i[a.dir].line;v.select(this).style("fill","none").call(t.stroke,r.color).call(x.dashLine,r.dash,r.width).style("opacity",i.selectedpoints&&!a.selected?.3:1)}})})}},72140:function(O,S,e){var v=e(92880).extendFlat,x=e(45464),t=e(25376),b=e(49084),g=e(21776).Ks,c=e(86968).u,s=v({editType:"calc"},b("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:g({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});O.exports={domain:c({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:v({},x.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:g({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:t({editType:"calc"}),tickfont:t({autoShadowDflt:!0,editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:s,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},91800:function(O,S,e){var v=e(84888)._M,x=e(60268),t="parcats";S.name=t,S.plot=function(b,g,c,s){var n=v(b.calcdata,t);if(n.length){var i=n[0];x(b,i,c,s)}},S.clean=function(b,g,c,s){var n=s._has&&s._has("parcats"),i=g._has&&g._has("parcats");n&&!i&&s._paperdiv.selectAll(".parcats").remove()}},69136:function(O,S,e){var v=e(71688).wrap,x=e(94288).hasColorscale,t=e(47128),b=e(68944),g=e(43616),c=e(3400),s=e(38248);function n(r,o,l){r.valueInds.push(o),r.count+=l}function i(r,o,l){return{categoryInds:r,color:o,rawColor:l,valueInds:[],count:0}}function a(r,o,l){r.valueInds.push(o),r.count+=l}O.exports=function(r,o){var l=c.filterVisible(o.dimensions);if(l.length===0)return[];var u,h,f,T=l.map(function(G){var ie;if(G.categoryorder==="trace")ie=null;else if(G.categoryorder==="array")ie=G.categoryarray;else{ie=b(G.values);for(var re=!0,te=0;te<ie.length;te++)if(!s(ie[te])){re=!1;break}ie.sort(re?c.sorterAsc:void 0),G.categoryorder==="category descending"&&(ie=ie.reverse())}return function(K,J){J=J==null?[]:J.map(function(be){return be});var $={},ae={},ue=[];J.forEach(function(be,we){$[be]=0,ae[be]=we});for(var ce=0;ce<K.length;ce++){var de,pe=K[ce];$[pe]===void 0?($[pe]=1,de=J.push(pe)-1,ae[pe]=de):($[pe]++,de=ae[pe]),ue.push(de)}var me=J.map(function(be){return $[be]});return{uniqueValues:J,uniqueCounts:me,inds:ue}}(G.values,ie)});u=c.isArrayOrTypedArray(o.counts)?o.counts:[o.counts],function(G){var ie,re=G.map(function(te){return te.displayindex});if(function(te){for(var K=new Array(te.length),J=0;J<te.length;J++){if(te[J]<0||te[J]>=te.length||K[te[J]]!==void 0)return!1;K[te[J]]=!0}return!0}(re))for(ie=0;ie<G.length;ie++)G[ie]._displayindex=G[ie].displayindex;else for(ie=0;ie<G.length;ie++)G[ie]._displayindex=ie}(l),l.forEach(function(G,ie){(function(re,te){re._categoryarray=te.uniqueValues,re.ticktext===null||re.ticktext===void 0?re._ticktext=[]:re._ticktext=re.ticktext.slice();for(var K=re._ticktext.length;K<te.uniqueValues.length;K++)re._ticktext.push(te.uniqueValues[K])})(G,T[ie])});var d,y=o.line;y?(x(o,"line")&&t(r,o,{vals:o.line.color,containerStr:"line",cLetter:"c"}),d=g.tryColorscale(y)):d=c.identity;var m,w,_,A,p,L=l[0].values.length,M={},C=T.map(function(G){return G.inds});for(f=0,m=0;m<L;m++){var R=[];for(w=0;w<C.length;w++)R.push(C[w][m]);h=u[m%u.length],f+=h;var I=(_=m,A=void 0,p=void 0,c.isArrayOrTypedArray(y.color)?p=A=y.color[_%y.color.length]:A=y.color,{color:d(A),rawColor:p}),D=R+"-"+I.rawColor;M[D]===void 0&&(M[D]=i(R,I.color,I.rawColor)),a(M[D],m,h)}var F,q=l.map(function(G,ie){return function(re,te,K,J,$){return{dimensionInd:re,containerInd:te,displayInd:K,dimensionLabel:J,count:$,categories:[],dragX:null}}(ie,G._index,G._displayindex,G.label,f)});for(m=0;m<L;m++)for(h=u[m%u.length],w=0;w<q.length;w++){var z=q[w].containerInd,V=T[w].inds[m],X=q[w].categories;if(X[V]===void 0){var j=o.dimensions[z]._categoryarray[V],H=o.dimensions[z]._ticktext[V];X[V]={dimensionInd:w,categoryInd:F=V,categoryValue:j,displayInd:F,categoryLabel:H,valueInds:[],count:0,dragY:null}}n(X[V],m,h)}return v(function(G,ie,re){var te=G.map(function(K){return K.categories.length}).reduce(function(K,J){return Math.max(K,J)});return{dimensions:G,paths:ie,trace:void 0,maxCats:te,count:re}}(q,M,f))}},76671:function(O,S,e){var v=e(3400),x=e(94288).hasColorscale,t=e(27260),b=e(86968).Q,g=e(51272),c=e(72140),s=e(26284),n=e(38116).isTypedArraySpec;function i(a,r){function o(y,m){return v.coerce(a,r,c.dimensions,y,m)}var l=o("values"),u=o("visible");if(l&&l.length||(u=r.visible=!1),u){o("label"),o("displayindex",r._index);var h,f=a.categoryarray,T=v.isArrayOrTypedArray(f)&&f.length>0||n(f);T&&(h="array");var d=o("categoryorder",h);d==="array"?(o("categoryarray"),o("ticktext")):(delete a.categoryarray,delete a.ticktext),T||d!=="array"||(r.categoryorder="trace")}}O.exports=function(a,r,o,l){function u(d,y){return v.coerce(a,r,c,d,y)}var h=g(a,r,{name:"dimensions",handleItemDefaults:i}),f=function(d,y,m,w,_){_("line.shape"),_("line.hovertemplate");var A=_("line.color",w.colorway[0]);if(x(d,"line")&&v.isArrayOrTypedArray(A)){if(A.length)return _("line.colorscale"),t(d,y,w,_,{prefix:"line.",cLetter:"c"}),A.length;y.line.color=m}return 1/0}(a,r,o,l,u);b(r,l,u),Array.isArray(h)&&h.length||(r.visible=!1),s(r,h,"values",f),u("hoveron"),u("hovertemplate"),u("arrangement"),u("bundlecolors"),u("sortpaths"),u("counts");var T=l.font;v.coerceFont(u,"labelfont",T,{overrideDflt:{size:Math.round(T.size)}}),v.coerceFont(u,"tickfont",T,{autoShadowDflt:!0,overrideDflt:{size:Math.round(T.size/1.2)}})}},22020:function(O,S,e){O.exports={attributes:e(72140),supplyDefaults:e(76671),calc:e(69136),plot:e(60268),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(91800),categories:["noOpacity"],meta:{}}},51036:function(O,S,e){var v=e(33428),x=e(67756).Gz,t=e(36424),b=e(93024),g=e(3400),c=g.strTranslate,s=e(43616),n=e(49760),i=e(72736);function a(re,te,K,J){var $=te._context.staticPlot,ae=re.map(X.bind(0,te,K)),ue=J.selectAll("g.parcatslayer").data([null]);ue.enter().append("g").attr("class","parcatslayer").style("pointer-events",$?"none":"all");var ce=ue.selectAll("g.trace.parcats").data(ae,r),de=ce.enter().append("g").attr("class","trace parcats");ce.attr("transform",function(_e){return c(_e.x,_e.y)}),de.append("g").attr("class","paths");var pe=ce.select("g.paths").selectAll("path.path").data(function(_e){return _e.paths},r);pe.attr("fill",function(_e){return _e.model.color});var me=pe.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(_e){return _e.model.color}).attr("fill-opacity",0);y(me),pe.attr("d",function(_e){return _e.svgD}),me.empty()||pe.sort(l),pe.exit().remove(),pe.on("mouseover",u).on("mouseout",h).on("click",d),de.append("g").attr("class","dimensions");var be=ce.select("g.dimensions").selectAll("g.dimension").data(function(_e){return _e.dimensions},r);be.enter().append("g").attr("class","dimension"),be.attr("transform",function(_e){return c(_e.x,0)}),be.exit().remove();var we=be.selectAll("g.category").data(function(_e){return _e.categories},r),Te=we.enter().append("g").attr("class","category");we.attr("transform",function(_e){return c(0,_e.y)}),Te.append("rect").attr("class","catrect").attr("pointer-events","none"),we.select("rect.catrect").attr("fill","none").attr("width",function(_e){return _e.width}).attr("height",function(_e){return _e.height}),w(Te);var Le=we.selectAll("rect.bandrect").data(function(_e){return _e.bands},r);Le.each(function(){g.raiseToTop(this)}),Le.attr("fill",function(_e){return _e.color});var Ie=Le.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(_e){return _e.color}).attr("fill-opacity",0);Le.attr("fill",function(_e){return _e.color}).attr("width",function(_e){return _e.width}).attr("height",function(_e){return _e.height}).attr("y",function(_e){return _e.y}).attr("cursor",function(_e){return _e.parcatsViewModel.arrangement==="fixed"?"default":_e.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),_(Ie),Le.exit().remove(),Te.append("text").attr("class","catlabel").attr("pointer-events","none"),we.select("text.catlabel").attr("text-anchor",function(_e){return o(_e)?"start":"end"}).attr("alignment-baseline","middle").style("fill","rgb(0, 0, 0)").attr("x",function(_e){return o(_e)?_e.width+5:-5}).attr("y",function(_e){return _e.height/2}).text(function(_e){return _e.model.categoryLabel}).each(function(_e){s.font(v.select(this),_e.parcatsViewModel.categorylabelfont),i.convertToTspans(v.select(this),te)}),Te.append("text").attr("class","dimlabel"),we.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(_e){return _e.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(_e){return _e.width/2}).attr("y",-5).text(function(_e,fe){return fe===0?_e.parcatsViewModel.model.dimensions[_e.model.dimensionInd].dimensionLabel:null}).each(function(_e){s.font(v.select(this),_e.parcatsViewModel.labelfont)}),we.selectAll("rect.bandrect").on("mouseover",C).on("mouseout",R),we.exit().remove(),be.call(v.behavior.drag().origin(function(_e){return{x:_e.x,y:0}}).on("dragstart",I).on("drag",D).on("dragend",F)),ce.each(function(_e){_e.traceSelection=v.select(this),_e.pathSelection=v.select(this).selectAll("g.paths").selectAll("path.path"),_e.dimensionSelection=v.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),ce.exit().remove()}function r(re){return re.key}function o(re){var te=re.parcatsViewModel.dimensions.length,K=re.parcatsViewModel.dimensions[te-1].model.dimensionInd;return re.model.dimensionInd===K}function l(re,te){return re.model.rawColor>te.model.rawColor?1:re.model.rawColor<te.model.rawColor?-1:0}function u(re){if(!re.parcatsViewModel.dragDimension&&re.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){g.raiseToTop(this),m(v.select(this));var te=f(re),K=T(re);if(re.parcatsViewModel.graphDiv.emit("plotly_hover",{points:te,event:v.event,constraints:K}),re.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var J,$,ae,ue=v.mouse(this)[0],ce=re.parcatsViewModel.graphDiv,de=re.parcatsViewModel.trace,pe=ce._fullLayout,me=pe._paperdiv.node().getBoundingClientRect(),be=re.parcatsViewModel.graphDiv.getBoundingClientRect();for(ae=0;ae<re.leftXs.length-1;ae++)if(re.leftXs[ae]+re.dimWidths[ae]-2<=ue&&ue<=re.leftXs[ae+1]+2){var we=re.parcatsViewModel.dimensions[ae],Te=re.parcatsViewModel.dimensions[ae+1];J=(we.x+we.width+Te.x)/2,$=(re.topYs[ae]+re.topYs[ae+1]+re.height)/2;break}var Le=re.parcatsViewModel.x+J,Ie=re.parcatsViewModel.y+$,_e=n.mostReadable(re.model.color,["black","white"]),fe=re.model.count,le=fe/re.parcatsViewModel.model.count,ye={countLabel:fe,probabilityLabel:le.toFixed(3)},Oe=[];re.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Oe.push(["Count:",ye.countLabel].join(" ")),re.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&Oe.push(["P:",ye.probabilityLabel].join(" "));var Ae=Oe.join("<br>"),Se=v.mouse(ce)[0];b.loneHover({trace:de,x:Le-me.left+be.left,y:Ie-me.top+be.top,text:Ae,color:re.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:_e,idealAlign:Se<Le?"right":"left",hovertemplate:(de.line||{}).hovertemplate,hovertemplateLabels:ye,eventData:[{data:de._input,fullData:de,count:fe,probability:le}]},{container:pe._hoverlayer.node(),outerContainer:pe._paper.node(),gd:ce})}}}function h(re){if(!re.parcatsViewModel.dragDimension&&(y(v.select(this)),b.loneUnhover(re.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),re.parcatsViewModel.pathSelection.sort(l),re.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var te=f(re),K=T(re);re.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:te,event:v.event,constraints:K})}}function f(re){for(var te=[],K=q(re.parcatsViewModel),J=0;J<re.model.valueInds.length;J++){var $=re.model.valueInds[J];te.push({curveNumber:K,pointNumber:$})}return te}function T(re){for(var te={},K=re.parcatsViewModel.model.dimensions,J=0;J<K.length;J++){var $=K[J],ae=$.categories[re.model.categoryInds[J]];te[$.containerInd]=ae.categoryValue}return re.model.rawColor!==void 0&&(te.color=re.model.rawColor),te}function d(re){if(re.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var te=f(re),K=T(re);re.parcatsViewModel.graphDiv.emit("plotly_click",{points:te,event:v.event,constraints:K})}}function y(re){re.attr("fill",function(te){return te.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function m(re){re.attr("fill-opacity",.8).attr("stroke",function(te){return n.mostReadable(te.model.color,["black","white"])}).attr("stroke-width",.3)}function w(re){re.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function _(re){re.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function A(re){var te=re.parcatsViewModel.pathSelection,K=re.categoryViewModel.model.dimensionInd,J=re.categoryViewModel.model.categoryInd;return te.filter(function($){return $.model.categoryInds[K]===J&&$.model.color===re.color})}function p(re,te,K){var J=v.select(re).datum(),$=J.categoryViewModel.model,ae=J.parcatsViewModel.graphDiv,ue=v.select(re.parentNode).selectAll("rect.bandrect"),ce=[];ue.each(function(pe){A(pe).each(function(me){Array.prototype.push.apply(ce,f(me))})});var de={};de[$.dimensionInd]=$.categoryValue,ae.emit(te,{points:ce,event:K,constraints:de})}function L(re,te,K){var J=v.select(re).datum(),$=J.categoryViewModel.model,ae=J.parcatsViewModel.graphDiv,ue=A(J),ce=[];ue.each(function(pe){Array.prototype.push.apply(ce,f(pe))});var de={};de[$.dimensionInd]=$.categoryValue,J.rawColor!==void 0&&(de.color=J.rawColor),ae.emit(te,{points:ce,event:K,constraints:de})}function M(re,te,K){re._fullLayout._calcInverseTransform(re);var J,$,ae=re._fullLayout._invScaleX,ue=re._fullLayout._invScaleY,ce=v.select(K.parentNode).select("rect.catrect"),de=ce.node().getBoundingClientRect(),pe=ce.datum(),me=pe.parcatsViewModel,be=me.model.dimensions[pe.model.dimensionInd],we=me.trace,Te=de.top+de.height/2;me.dimensions.length>1&&be.displayInd===me.dimensions.length-1?(J=de.left,$="left"):(J=de.left+de.width,$="right");var Le=pe.model.count,Ie=pe.model.categoryLabel,_e=Le/pe.parcatsViewModel.model.count,fe={countLabel:Le,categoryLabel:Ie,probabilityLabel:_e.toFixed(3)},le=[];pe.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&le.push(["Count:",fe.countLabel].join(" ")),pe.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&le.push(["P("+fe.categoryLabel+"):",fe.probabilityLabel].join(" "));var ye=le.join("<br>");return{trace:we,x:ae*(J-te.left),y:ue*(Te-te.top),text:ye,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:$,hovertemplate:we.hovertemplate,hovertemplateLabels:fe,eventData:[{data:we._input,fullData:we,count:Le,category:Ie,probability:_e}]}}function C(re){if(!re.parcatsViewModel.dragDimension&&re.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){if(v.mouse(this)[1]<-1)return;var te,K=re.parcatsViewModel.graphDiv,J=K._fullLayout,$=J._paperdiv.node().getBoundingClientRect(),ae=re.parcatsViewModel.hoveron,ue=this;ae==="color"?(function(ce){var de=v.select(ce).datum(),pe=A(de);m(pe),pe.each(function(){g.raiseToTop(this)}),v.select(ce.parentNode).selectAll("rect.bandrect").filter(function(me){return me.color===de.color}).each(function(){g.raiseToTop(this),v.select(this).attr("stroke","black").attr("stroke-width",1.5)})}(ue),L(ue,"plotly_hover",v.event)):(function(ce){v.select(ce.parentNode).selectAll("rect.bandrect").each(function(de){var pe=A(de);m(pe),pe.each(function(){g.raiseToTop(this)})}),v.select(ce.parentNode).select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}(ue),p(ue,"plotly_hover",v.event)),re.parcatsViewModel.hoverinfoItems.indexOf("none")===-1&&(ae==="category"?te=M(K,$,ue):ae==="color"?te=function(ce,de,pe){ce._fullLayout._calcInverseTransform(ce);var me,be,we=ce._fullLayout._invScaleX,Te=ce._fullLayout._invScaleY,Le=pe.getBoundingClientRect(),Ie=v.select(pe).datum(),_e=Ie.categoryViewModel,fe=_e.parcatsViewModel,le=fe.model.dimensions[_e.model.dimensionInd],ye=fe.trace,Oe=Le.y+Le.height/2;fe.dimensions.length>1&&le.displayInd===fe.dimensions.length-1?(me=Le.left,be="left"):(me=Le.left+Le.width,be="right");var Ae=_e.model.categoryLabel,Se=Ie.parcatsViewModel.model.count,Pe=0;Ie.categoryViewModel.bands.forEach(function(Qe){Qe.color===Ie.color&&(Pe+=Qe.count)});var Fe=_e.model.count,Be=0;fe.pathSelection.each(function(Qe){Qe.model.color===Ie.color&&(Be+=Qe.model.count)});var xe=Pe/Se,Me=Pe/Be,Ce=Pe/Fe,Ne={countLabel:Pe,categoryLabel:Ae,probabilityLabel:xe.toFixed(3)},Re=[];_e.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Re.push(["Count:",Ne.countLabel].join(" ")),_e.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(Re.push("P(color  "+Ae+"): "+Ne.probabilityLabel),Re.push("P("+Ae+" | color): "+Me.toFixed(3)),Re.push("P(color | "+Ae+"): "+Ce.toFixed(3)));var He=Re.join("<br>"),Ye=n.mostReadable(Ie.color,["black","white"]);return{trace:ye,x:we*(me-de.left),y:Te*(Oe-de.top),text:He,color:Ie.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:Ye,fontSize:10,idealAlign:be,hovertemplate:ye.hovertemplate,hovertemplateLabels:Ne,eventData:[{data:ye._input,fullData:ye,category:Ae,count:Se,probability:xe,categorycount:Fe,colorcount:Be,bandcolorcount:Pe}]}}(K,$,ue):ae==="dimension"&&(te=function(ce,de,pe){var me=[];return v.select(pe.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){me.push(M(ce,de,this))}),me}(K,$,ue)),te&&b.loneHover(te,{container:J._hoverlayer.node(),outerContainer:J._paper.node(),gd:K}))}}function R(re){var te=re.parcatsViewModel;te.dragDimension||(y(te.pathSelection),w(te.dimensionSelection.selectAll("g.category")),_(te.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),b.loneUnhover(te.graphDiv._fullLayout._hoverlayer.node()),te.pathSelection.sort(l),te.hoverinfoItems.indexOf("skip")!==-1)||(re.parcatsViewModel.hoveron==="color"?L(this,"plotly_unhover",v.event):p(this,"plotly_unhover",v.event))}function I(re){re.parcatsViewModel.arrangement!=="fixed"&&(re.dragDimensionDisplayInd=re.model.displayInd,re.initialDragDimensionDisplayInds=re.parcatsViewModel.model.dimensions.map(function(te){return te.displayInd}),re.dragHasMoved=!1,re.dragCategoryDisplayInd=null,v.select(this).selectAll("g.category").select("rect.catrect").each(function(te){var K=v.mouse(this)[0],J=v.mouse(this)[1];-2<=K&&K<=te.width+2&&-2<=J&&J<=te.height+2&&(re.dragCategoryDisplayInd=te.model.displayInd,re.initialDragCategoryDisplayInds=re.model.categories.map(function($){return $.displayInd}),te.model.dragY=te.y,g.raiseToTop(this.parentNode),v.select(this.parentNode).selectAll("rect.bandrect").each(function($){$.y<J&&J<=$.y+$.height&&(re.potentialClickBand=this)}))}),re.parcatsViewModel.dragDimension=re,b.loneUnhover(re.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function D(re){if(re.parcatsViewModel.arrangement!=="fixed"&&(re.dragHasMoved=!0,re.dragDimensionDisplayInd!==null)){var te=re.dragDimensionDisplayInd,K=te-1,J=te+1,$=re.parcatsViewModel.dimensions[te];if(re.dragCategoryDisplayInd!==null){var ae=$.categories[re.dragCategoryDisplayInd];ae.model.dragY+=v.event.dy;var ue=ae.model.dragY,ce=ae.model.displayInd,de=$.categories,pe=de[ce-1],me=de[ce+1];pe!==void 0&&ue<pe.y+pe.height/2&&(ae.model.displayInd=pe.model.displayInd,pe.model.displayInd=ce),me!==void 0&&ue+ae.height>me.y+me.height/2&&(ae.model.displayInd=me.model.displayInd,me.model.displayInd=ce),re.dragCategoryDisplayInd=ae.model.displayInd}if(re.dragCategoryDisplayInd===null||re.parcatsViewModel.arrangement==="freeform"){$.model.dragX=v.event.x;var be=re.parcatsViewModel.dimensions[K],we=re.parcatsViewModel.dimensions[J];be!==void 0&&$.model.dragX<be.x+be.width&&($.model.displayInd=be.model.displayInd,be.model.displayInd=te),we!==void 0&&$.model.dragX+$.width>we.x&&($.model.displayInd=we.model.displayInd,we.model.displayInd=re.dragDimensionDisplayInd),re.dragDimensionDisplayInd=$.model.displayInd}G(re.parcatsViewModel),H(re.parcatsViewModel),V(re.parcatsViewModel),z(re.parcatsViewModel)}}function F(re){if(re.parcatsViewModel.arrangement!=="fixed"&&re.dragDimensionDisplayInd!==null){v.select(this).selectAll("text").attr("font-weight","normal");var te={},K=q(re.parcatsViewModel),J=re.parcatsViewModel.model.dimensions.map(function(me){return me.displayInd}),$=re.initialDragDimensionDisplayInds.some(function(me,be){return me!==J[be]});$&&J.forEach(function(me,be){var we=re.parcatsViewModel.model.dimensions[be].containerInd;te["dimensions["+we+"].displayindex"]=me});var ae=!1;if(re.dragCategoryDisplayInd!==null){var ue=re.model.categories.map(function(me){return me.displayInd});if(ae=re.initialDragCategoryDisplayInds.some(function(me,be){return me!==ue[be]})){var ce=re.model.categories.slice().sort(function(me,be){return me.displayInd-be.displayInd}),de=ce.map(function(me){return me.categoryValue}),pe=ce.map(function(me){return me.categoryLabel});te["dimensions["+re.model.containerInd+"].categoryarray"]=[de],te["dimensions["+re.model.containerInd+"].ticktext"]=[pe],te["dimensions["+re.model.containerInd+"].categoryorder"]="array"}}re.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!re.dragHasMoved&&re.potentialClickBand&&(re.parcatsViewModel.hoveron==="color"?L(re.potentialClickBand,"plotly_click",v.event.sourceEvent):p(re.potentialClickBand,"plotly_click",v.event.sourceEvent)),re.model.dragX=null,re.dragCategoryDisplayInd!==null&&(re.parcatsViewModel.dimensions[re.dragDimensionDisplayInd].categories[re.dragCategoryDisplayInd].model.dragY=null,re.dragCategoryDisplayInd=null),re.dragDimensionDisplayInd=null,re.parcatsViewModel.dragDimension=null,re.dragHasMoved=null,re.potentialClickBand=null,G(re.parcatsViewModel),H(re.parcatsViewModel),v.transition().duration(300).ease("cubic-in-out").each(function(){V(re.parcatsViewModel,!0),z(re.parcatsViewModel,!0)}).each("end",function(){($||ae)&&t.restyle(re.parcatsViewModel.graphDiv,te,[K])})}}function q(re){for(var te,K=re.graphDiv._fullData,J=0;J<K.length;J++)if(re.key===K[J].uid){te=J;break}return te}function z(re,te){var K;te===void 0&&(te=!1),re.pathSelection.data(function(J){return J.paths},r),(K=re.pathSelection,te?K.transition():K).attr("d",function(J){return J.svgD})}function V(re,te){function K(ue){return te?ue.transition():ue}te===void 0&&(te=!1),re.dimensionSelection.data(function(ue){return ue.dimensions},r);var J=re.dimensionSelection.selectAll("g.category").data(function(ue){return ue.categories},r);K(re.dimensionSelection).attr("transform",function(ue){return c(ue.x,0)}),K(J).attr("transform",function(ue){return c(0,ue.y)}),J.select(".dimlabel").text(function(ue,ce){return ce===0?ue.parcatsViewModel.model.dimensions[ue.model.dimensionInd].dimensionLabel:null}),J.select(".catlabel").attr("text-anchor",function(ue){return o(ue)?"start":"end"}).attr("x",function(ue){return o(ue)?ue.width+5:-5}).each(function(ue){var ce,de;o(ue)?(ce=ue.width+5,de="start"):(ce=-5,de="end"),v.select(this).selectAll("tspan").attr("x",ce).attr("text-anchor",de)});var $=J.selectAll("rect.bandrect").data(function(ue){return ue.bands},r),ae=$.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(ue){return ue.color}).attr("fill-opacity",0);$.attr("fill",function(ue){return ue.color}).attr("width",function(ue){return ue.width}).attr("height",function(ue){return ue.height}).attr("y",function(ue){return ue.y}),_(ae),$.each(function(){g.raiseToTop(this)}),$.exit().remove()}function X(re,te,K){var J,$=K[0],ae=te.margin||{l:80,r:80,t:100,b:80},ue=$.trace,ce=ue.domain,de=te.width,pe=te.height,me=Math.floor(de*(ce.x[1]-ce.x[0])),be=Math.floor(pe*(ce.y[1]-ce.y[0])),we=ce.x[0]*de+ae.l,Te=te.height-ce.y[1]*te.height+ae.t,Le=ue.line.shape;J=ue.hoverinfo==="all"?["count","probability"]:(ue.hoverinfo||"").split("+");var Ie={trace:ue,key:ue.uid,model:$,x:we,y:Te,width:me,height:be,hoveron:ue.hoveron,hoverinfoItems:J,arrangement:ue.arrangement,bundlecolors:ue.bundlecolors,sortpaths:ue.sortpaths,labelfont:ue.labelfont,categorylabelfont:ue.tickfont,pathShape:Le,dragDimension:null,margin:ae,paths:[],dimensions:[],graphDiv:re,traceSelection:null,pathSelection:null,dimensionSelection:null};return $.dimensions&&(G(Ie),H(Ie)),Ie}function j(re,te,K,J,$){var ae,ue,ce=[],de=[];for(ue=0;ue<K.length-1;ue++)ae=x(K[ue]+re[ue],re[ue+1]),ce.push(ae($)),de.push(ae(1-$));var pe="M "+re[0]+","+te[0];for(pe+="l"+K[0]+",0 ",ue=1;ue<K.length;ue++)pe+="C"+ce[ue-1]+","+te[ue-1]+" "+de[ue-1]+","+te[ue]+" "+re[ue]+","+te[ue],pe+="l"+K[ue]+",0 ";for(pe+="l0,"+J+" ",pe+="l -"+K[K.length-1]+",0 ",ue=K.length-2;ue>=0;ue--)pe+="C"+de[ue]+","+(te[ue+1]+J)+" "+ce[ue]+","+(te[ue]+J)+" "+(re[ue]+K[ue])+","+(te[ue]+J),pe+="l-"+K[ue]+",0 ";return pe+"Z"}function H(re){var te=re.dimensions,K=re.model,J=te.map(function(Ne){return Ne.categories.map(function(Re){return Re.y})}),$=re.model.dimensions.map(function(Ne){return Ne.categories.map(function(Re){return Re.displayInd})}),ae=re.model.dimensions.map(function(Ne){return Ne.displayInd}),ue=re.dimensions.map(function(Ne){return Ne.model.dimensionInd}),ce=te.map(function(Ne){return Ne.x}),de=te.map(function(Ne){return Ne.width}),pe=[];for(var me in K.paths)K.paths.hasOwnProperty(me)&&pe.push(K.paths[me]);function be(Ne){var Re=Ne.categoryInds.map(function(He,Ye){return $[Ye][He]});return ue.map(function(He){return Re[He]})}pe.sort(function(Ne,Re){var He=be(Ne),Ye=be(Re);return re.sortpaths==="backward"&&(He.reverse(),Ye.reverse()),He.push(Ne.valueInds[0]),Ye.push(Re.valueInds[0]),re.bundlecolors&&(He.unshift(Ne.rawColor),Ye.unshift(Re.rawColor)),He<Ye?-1:He>Ye?1:0});for(var we=new Array(pe.length),Te=te[0].model.count,Le=te[0].categories.map(function(Ne){return Ne.height}).reduce(function(Ne,Re){return Ne+Re}),Ie=0;Ie<pe.length;Ie++){var _e,fe=pe[Ie];_e=Te>0?Le*(fe.count/Te):0;for(var le,ye=new Array(J.length),Oe=0;Oe<fe.categoryInds.length;Oe++){var Ae=fe.categoryInds[Oe],Se=$[Oe][Ae],Pe=ae[Oe];ye[Pe]=J[Pe][Se],J[Pe][Se]+=_e;var Fe=re.dimensions[Pe].categories[Se],Be=Fe.bands.length,xe=Fe.bands[Be-1];if(xe===void 0||fe.rawColor!==xe.rawColor){var Me=xe===void 0?0:xe.y+xe.height;Fe.bands.push({key:Me,color:fe.color,rawColor:fe.rawColor,height:_e,width:Fe.width,count:fe.count,y:Me,categoryViewModel:Fe,parcatsViewModel:re})}else{var Ce=Fe.bands[Be-1];Ce.height+=_e,Ce.count+=fe.count}}le=re.pathShape==="hspline"?j(ce,ye,de,_e,.5):j(ce,ye,de,_e,0),we[Ie]={key:fe.valueInds[0],model:fe,height:_e,leftXs:ce,topYs:ye,dimWidths:de,svgD:le,parcatsViewModel:re}}re.paths=we}function G(re){var te=re.model.dimensions.map(function(ue){return{displayInd:ue.displayInd,dimensionInd:ue.dimensionInd}});te.sort(function(ue,ce){return ue.displayInd-ce.displayInd});var K=[];for(var J in te){var $=te[J].dimensionInd,ae=re.model.dimensions[$];K.push(ie(re,ae))}re.dimensions=K}function ie(re,te){var K,J=re.model.dimensions.length,$=te.displayInd;K=40+(J>1?(re.width-80-16)/(J-1):0)*$;var ae,ue,ce,de,pe,me=[],be=re.model.maxCats,we=te.categories.length,Te=te.count,Le=re.height-8*(be-1),Ie=8*(be-we)/2,_e=te.categories.map(function(fe){return{displayInd:fe.displayInd,categoryInd:fe.categoryInd}});for(_e.sort(function(fe,le){return fe.displayInd-le.displayInd}),pe=0;pe<we;pe++)de=_e[pe].categoryInd,ue=te.categories[de],ae=Te>0?ue.count/Te*Le:0,ce={key:ue.valueInds[0],model:ue,width:16,height:ae,y:ue.dragY!==null?ue.dragY:Ie,bands:[],parcatsViewModel:re},Ie=Ie+ae+8,me.push(ce);return{key:te.dimensionInd,x:te.dragX!==null?te.dragX:K,y:0,width:16,model:te,categories:me,parcatsViewModel:re,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}O.exports=function(re,te,K,J){a(K,re,J,te)}},60268:function(O,S,e){var v=e(51036);O.exports=function(x,t,b,g){var c=x._fullLayout,s=c._paper,n=c._size;v(x,s,t,{width:n.w,height:n.h,margin:{t:n.t,r:n.r,b:n.b,l:n.l}},b,g)}},82296:function(O,S,e){var v=e(49084),x=e(94724),t=e(25376),b=e(86968).u,g=e(92880).extendFlat,c=e(31780).templatedArray;O.exports={domain:b({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:t({editType:"plot"}),tickfont:t({autoShadowDflt:!0,editType:"plot"}),rangefont:t({editType:"plot"}),dimensions:c("dimension",{label:{valType:"string",editType:"plot"},tickvals:g({},x.tickvals,{editType:"plot"}),ticktext:g({},x.ticktext,{editType:"plot"}),tickformat:g({},x.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:g({editType:"calc"},v("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},71864:function(O,S,e){var v=e(30140),x=e(33428),t=e(71688).keyFun,b=e(71688).repeat,g=e(3400).sorterAsc,c=e(3400).strTranslate,s=v.bar.snapRatio;function n(M,C){return M*(1-s)+C*s}var i=v.bar.snapClose;function a(M,C){return M*(1-i)+C*i}function r(M,C,R,I){if(function(ie,re){for(var te=0;te<re.length;te++)if(ie>=re[te][0]&&ie<=re[te][1])return!0;return!1}(R,I))return R;var D=M?-1:1,F=0,q=C.length-1;if(D<0){var z=F;F=q,q=z}for(var V=C[F],X=V,j=F;D*j<D*q;j+=D){var H=j+D,G=C[H];if(D*R<D*a(V,G))return n(V,X);if(D*R<D*G||H===q)return n(G,V);X=V,V=G}}function o(M){M.attr("x",-v.bar.captureWidth/2).attr("width",v.bar.captureWidth)}function l(M){M.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function u(M){if(!M.brush.filterSpecified)return"0,"+M.height;for(var C,R,I,D=h(M.brush.filter.getConsolidated(),M.height),F=[0],q=D.length?D[0][0]:null,z=0;z<D.length;z++)R=(C=D[z])[1]-C[0],F.push(q),F.push(R),(I=z+1)<D.length&&(q=D[I][0]-C[1]);return F.push(M.height),F}function h(M,C){return M.map(function(R){return R.map(function(I){return Math.max(0,I*C)}).sort(g)})}function f(){x.select(document.body).style("cursor",null)}function T(M){M.attr("stroke-dasharray",u)}function d(M,C){var R=x.select(M).selectAll(".highlight, .highlight-shadow");T(C?R.transition().duration(v.bar.snapDuration).each("end",C):R)}function y(M,C){var R,I=M.brush,D=NaN,F={};if(I.filterSpecified){var q=M.height,z=I.filter.getConsolidated(),V=h(z,q),X=NaN,j=NaN,H=NaN;for(R=0;R<=V.length;R++){var G=V[R];if(G&&G[0]<=C&&C<=G[1]){X=R;break}if(j=R?R-1:NaN,G&&G[0]>C){H=R;break}}if(D=X,isNaN(D)&&(D=isNaN(j)||isNaN(H)?isNaN(j)?H:j:C-V[j][1]<V[H][0]-C?j:H),!isNaN(D)){var ie=V[D],re=function($,ae){var ue=v.bar.handleHeight;if(!(ae>$[1]+ue||ae<$[0]-ue))return ae>=.9*$[1]+.1*$[0]?"n":ae<=.9*$[0]+.1*$[1]?"s":"ns"}(ie,C);re&&(F.interval=z[D],F.intervalPix=ie,F.region=re)}}if(M.ordinal&&!F.region){var te=M.unitTickvals,K=M.unitToPaddedPx.invert(C);for(R=0;R<te.length;R++){var J=[.25*te[Math.max(R-1,0)]+.75*te[R],.25*te[Math.min(R+1,te.length-1)]+.75*te[R]];if(K>=J[0]&&K<=J[1]){F.clickableOrdinalRange=J;break}}}return F}function m(M,C){x.event.sourceEvent.stopPropagation();var R=C.height-x.mouse(M)[1]-2*v.verticalPadding,I=C.brush.svgBrush;I.wasDragged=!0,I._dragging=!0,I.grabbingBar?I.newExtent=[R-I.grabPoint,R+I.barLength-I.grabPoint].map(C.unitToPaddedPx.invert):I.newExtent=[I.startExtent,C.unitToPaddedPx.invert(R)].sort(g),C.brush.filterSpecified=!0,I.extent=I.stayingIntervals.concat([I.newExtent]),I.brushCallback(C),d(M.parentNode)}function w(M,C){var R=y(C,C.height-x.mouse(M)[1]-2*v.verticalPadding),I="crosshair";R.clickableOrdinalRange?I="pointer":R.region&&(I=R.region+"-resize"),x.select(document.body).style("cursor",I)}function _(M){M.on("mousemove",function(C){x.event.preventDefault(),C.parent.inBrushDrag||w(this,C)}).on("mouseleave",function(C){C.parent.inBrushDrag||f()}).call(x.behavior.drag().on("dragstart",function(C){(function(R,I){x.event.sourceEvent.stopPropagation();var D=I.height-x.mouse(R)[1]-2*v.verticalPadding,F=I.unitToPaddedPx.invert(D),q=I.brush,z=y(I,D),V=z.interval,X=q.svgBrush;if(X.wasDragged=!1,X.grabbingBar=z.region==="ns",X.grabbingBar){var j=V.map(I.unitToPaddedPx);X.grabPoint=D-j[0]-v.verticalPadding,X.barLength=j[1]-j[0]}X.clickableOrdinalRange=z.clickableOrdinalRange,X.stayingIntervals=I.multiselect&&q.filterSpecified?q.filter.getConsolidated():[],V&&(X.stayingIntervals=X.stayingIntervals.filter(function(H){return H[0]!==V[0]&&H[1]!==V[1]})),X.startExtent=z.region?V[z.region==="s"?1:0]:F,I.parent.inBrushDrag=!0,X.brushStartCallback()})(this,C)}).on("drag",function(C){m(this,C)}).on("dragend",function(C){(function(R,I){var D=I.brush,F=D.filter,q=D.svgBrush;q._dragging||(w(R,I),m(R,I),I.brush.svgBrush.wasDragged=!1),q._dragging=!1,x.event.sourceEvent.stopPropagation();var z=q.grabbingBar;if(q.grabbingBar=!1,q.grabLocation=void 0,I.parent.inBrushDrag=!1,f(),!q.wasDragged)return q.wasDragged=void 0,q.clickableOrdinalRange?D.filterSpecified&&I.multiselect?q.extent.push(q.clickableOrdinalRange):(q.extent=[q.clickableOrdinalRange],D.filterSpecified=!0):z?(q.extent=q.stayingIntervals,q.extent.length===0&&p(D)):p(D),q.brushCallback(I),d(R.parentNode),void q.brushEndCallback(D.filterSpecified?F.getConsolidated():[]);var V=function(){F.set(F.getConsolidated())};if(I.ordinal){var X=I.unitTickvals;X[X.length-1]<X[0]&&X.reverse(),q.newExtent=[r(0,X,q.newExtent[0],q.stayingIntervals),r(1,X,q.newExtent[1],q.stayingIntervals)];var j=q.newExtent[1]>q.newExtent[0];q.extent=q.stayingIntervals.concat(j?[q.newExtent]:[]),q.extent.length||p(D),q.brushCallback(I),j?d(R.parentNode,V):(V(),d(R.parentNode))}else V();q.brushEndCallback(D.filterSpecified?F.getConsolidated():[])})(this,C)}))}function A(M,C){return M[0]-C[0]}function p(M){M.filterSpecified=!1,M.svgBrush.extent=[[-1/0,1/0]]}function L(M){for(var C,R=M.slice(),I=[],D=R.shift();D;){for(C=D.slice();(D=R.shift())&&D[0]<=C[1];)C[1]=Math.max(C[1],D[1]);I.push(C)}return I.length===1&&I[0][0]>I[0][1]&&(I=[]),I}O.exports={makeBrush:function(M,C,R,I,D,F){var q,z=function(){var V,X,j=[];return{set:function(H){(j=H.map(function(G){return G.slice().sort(g)}).sort(A)).length===1&&j[0][0]===-1/0&&j[0][1]===1/0&&(j=[[0,-1]]),V=L(j),X=j.reduce(function(G,ie){return[Math.min(G[0],ie[0]),Math.max(G[1],ie[1])]},[1/0,-1/0])},get:function(){return j.slice()},getConsolidated:function(){return V},getBounds:function(){return X}}}();return z.set(R),{filter:z,filterSpecified:C,svgBrush:{extent:[],brushStartCallback:I,brushCallback:(q=D,function(V){var X=V.brush,j=function(G){return G.svgBrush.extent.map(function(ie){return ie.slice()})}(X),H=j.slice();X.filter.set(H),q()}),brushEndCallback:F}}},ensureAxisBrush:function(M,C,R){var I=M.selectAll("."+v.cn.axisBrush).data(b,t);I.enter().append("g").classed(v.cn.axisBrush,!0),function(D,F,q){var z=q._context.staticPlot,V=D.selectAll(".background").data(b);V.enter().append("rect").classed("background",!0).call(o).call(l).style("pointer-events",z?"none":"auto").attr("transform",c(0,v.verticalPadding)),V.call(_).attr("height",function(H){return H.height-v.verticalPadding});var X=D.selectAll(".highlight-shadow").data(b);X.enter().append("line").classed("highlight-shadow",!0).attr("x",-v.bar.width/2).attr("stroke-width",v.bar.width+v.bar.strokeWidth).attr("stroke",F).attr("opacity",v.bar.strokeOpacity).attr("stroke-linecap","butt"),X.attr("y1",function(H){return H.height}).call(T);var j=D.selectAll(".highlight").data(b);j.enter().append("line").classed("highlight",!0).attr("x",-v.bar.width/2).attr("stroke-width",v.bar.width-v.bar.strokeWidth).attr("stroke",v.bar.fillColor).attr("opacity",v.bar.fillOpacity).attr("stroke-linecap","butt"),j.attr("y1",function(H){return H.height}).call(T)}(I,C,R)},cleanRanges:function(M,C){if(Array.isArray(M[0])?(M=M.map(function(I){return I.sort(g)}),M=C.multiselect?L(M.sort(A)):[M[0]]):M=[M.sort(g)],C.tickvals){var R=C.tickvals.slice().sort(g);if(!(M=M.map(function(I){var D=[r(0,R,I[0],[]),r(1,R,I[1],[])];if(D[1]>D[0])return D}).filter(function(I){return I})).length)return}return M.length>1?M:M[0]}}},61664:function(O,S,e){O.exports={attributes:e(82296),supplyDefaults:e(60664),calc:e(95044),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(19976),categories:["gl","regl","noOpacity","noHover"],meta:{}}},19976:function(O,S,e){var v=e(33428),x=e(84888)._M,t=e(24196),b=e(9616);S.name="parcoords",S.plot=function(g){var c=x(g.calcdata,"parcoords")[0];c.length&&t(g,c)},S.clean=function(g,c,s,n){var i=n._has&&n._has("parcoords"),a=c._has&&c._has("parcoords");i&&!a&&(n._paperdiv.selectAll(".parcoords").remove(),n._glimages.selectAll("*").remove())},S.toSVG=function(g){var c=g._fullLayout._glimages,s=v.select(g).selectAll(".svg-container");s.filter(function(n,i){return i===s.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var n=this,i=n.toDataURL("image/png");c.append("svg:image").attr({xmlns:b.svg,"xlink:href":i,preserveAspectRatio:"none",x:0,y:0,width:n.style.width,height:n.style.height})}),window.setTimeout(function(){v.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},95044:function(O,S,e){var v=e(3400).isArrayOrTypedArray,x=e(8932),t=e(71688).wrap;O.exports=function(b,g){var c,s;return x.hasColorscale(g,"line")&&v(g.line.color)?(c=g.line.color,s=x.extractOpts(g.line).colorscale,x.calc(b,g,{vals:c,containerStr:"line",cLetter:"c"})):(c=function(n){for(var i=new Array(n),a=0;a<n;a++)i[a]=.5;return i}(g._length),s=[[0,g.line.color],[1,g.line.color]]),t({lineColor:c,cscale:s})}},30140:function(O){O.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},60664:function(O,S,e){var v=e(3400),x=e(94288).hasColorscale,t=e(27260),b=e(86968).Q,g=e(51272),c=e(54460),s=e(82296),n=e(71864),i=e(30140).maxDimensionCount,a=e(26284);function r(o,l,u,h){function f(w,_){return v.coerce(o,l,s.dimensions,w,_)}var T=f("values"),d=f("visible");if(T&&T.length||(d=l.visible=!1),d){f("label"),f("tickvals"),f("ticktext"),f("tickformat");var y=f("range");l._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:y},c.setConvert(l._ax,h.layout),f("multiselect");var m=f("constraintrange");m&&(l.constraintrange=n.cleanRanges(m,l))}}O.exports=function(o,l,u,h){function f(w,_){return v.coerce(o,l,s,w,_)}var T=o.dimensions;Array.isArray(T)&&T.length>i&&(v.log("parcoords traces support up to "+i+" dimensions at the moment"),T.splice(i));var d=g(o,l,{name:"dimensions",layout:h,handleItemDefaults:r}),y=function(w,_,A,p,L){var M=L("line.color",A);if(x(w,"line")&&v.isArrayOrTypedArray(M)){if(M.length)return L("line.colorscale"),t(w,_,p,L,{prefix:"line.",cLetter:"c"}),M.length;_.line.color=A}return 1/0}(o,l,u,h,f);b(l,h,f),Array.isArray(d)&&d.length||(l.visible=!1),a(l,d,"values",y);var m=v.extendFlat({},h.font,{size:Math.round(h.font.size/1.2)});v.coerceFont(f,"labelfont",m),v.coerceFont(f,"tickfont",m,{autoShadowDflt:!0}),v.coerceFont(f,"rangefont",m),f("labelangle"),f("labelside"),f("unselected.line.color"),f("unselected.line.opacity")}},95724:function(O,S,e){var v=e(3400).isTypedArray;S.convertTypedArray=function(x){return v(x)?Array.prototype.slice.call(x):x},S.isOrdinal=function(x){return!!x.tickvals},S.isVisible=function(x){return x.visible||!("visible"in x)}},29928:function(O,S,e){var v=e(61664);v.plot=e(24196),O.exports=v},51352:function(O,S,e){var v=["precision highp float;","","varying vec4 fragColor;","","attribute vec4 p01_04, p05_08, p09_12, p13_16,","               p17_20, p21_24, p25_28, p29_32,","               p33_36, p37_40, p41_44, p45_48,","               p49_52, p53_56, p57_60, colors;","","uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,","             loA, hiA, loB, hiB, loC, hiC, loD, hiD;","","uniform vec2 resolution, viewBoxPos, viewBoxSize;","uniform float maskHeight;","uniform float drwLayer; // 0: context, 1: focus, 2: pick","uniform vec4 contextColor;","uniform sampler2D maskTexture, palette;","","bool isPick    = (drwLayer > 1.5);","bool isContext = (drwLayer < 0.5);","","const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);","const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);","","float val(mat4 p, mat4 v) {","    return dot(matrixCompMult(p, v) * UNITS, UNITS);","}","","float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {","    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);","    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);","    return y1 * (1.0 - ratio) + y2 * ratio;","}","","int iMod(int a, int b) {","    return a - b * (a / b);","}","","bool fOutside(float p, float lo, float hi) {","    return (lo < hi) && (lo > p || p > hi);","}","","bool vOutside(vec4 p, vec4 lo, vec4 hi) {","    return (","        fOutside(p[0], lo[0], hi[0]) ||","        fOutside(p[1], lo[1], hi[1]) ||","        fOutside(p[2], lo[2], hi[2]) ||","        fOutside(p[3], lo[3], hi[3])","    );","}","","bool mOutside(mat4 p, mat4 lo, mat4 hi) {","    return (","        vOutside(p[0], lo[0], hi[0]) ||","        vOutside(p[1], lo[1], hi[1]) ||","        vOutside(p[2], lo[2], hi[2]) ||","        vOutside(p[3], lo[3], hi[3])","    );","}","","bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {","    return mOutside(A, loA, hiA) ||","           mOutside(B, loB, hiB) ||","           mOutside(C, loC, hiC) ||","           mOutside(D, loD, hiD);","}","","bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {","    mat4 pnts[4];","    pnts[0] = A;","    pnts[1] = B;","    pnts[2] = C;","    pnts[3] = D;","","    for(int i = 0; i < 4; ++i) {","        for(int j = 0; j < 4; ++j) {","            for(int k = 0; k < 4; ++k) {","                if(0 == iMod(","                    int(255.0 * texture2D(maskTexture,","                        vec2(","                            (float(i * 2 + j / 2) + 0.5) / 8.0,","                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight","                        ))[3]","                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),","                    2","                )) return true;","            }","        }","    }","    return false;","}","","vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {","    float x = 0.5 * sign(v) + 0.5;","    float y = axisY(x, A, B, C, D);","    float z = 1.0 - abs(v);","","    z += isContext ? 0.0 : 2.0 * float(","        outsideBoundingBox(A, B, C, D) ||","        outsideRasterMask(A, B, C, D)","    );","","    return vec4(","        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,","        z,","        1.0","    );","}","","void main() {","    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);","    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);","    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);","    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);","","    float v = colors[3];","","    gl_Position = position(isContext, v, A, B, C, D);","","    fragColor =","        isContext ? vec4(contextColor) :","        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));","}"].join(`
`),x=["precision highp float;","","varying vec4 fragColor;","","void main() {","    gl_FragColor = fragColor;","}"].join(`
`),t=e(30140).maxDimensionCount,b=e(3400),g=1e-6,c=new Uint8Array(4),s=new Uint8Array(4),n={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function i(d,y,m,w,_){var A=d._gl;A.enable(A.SCISSOR_TEST),A.scissor(y,m,w,_),d.clear({color:[0,0,0,0],depth:1})}function a(d,y,m,w,_,A){var p=A.key;m.drawCompleted||(function(L){L.read({x:0,y:0,width:1,height:1,data:c})}(d),m.drawCompleted=!0),function L(M){var C=Math.min(w,_-M*w);M===0&&(window.cancelAnimationFrame(m.currentRafs[p]),delete m.currentRafs[p],i(d,A.scissorX,A.scissorY,A.scissorWidth,A.viewBoxSize[1])),m.clearOnly||(A.count=2*C,A.offset=2*M*w,y(A),M*w+C<_&&(m.currentRafs[p]=window.requestAnimationFrame(function(){L(M+1)})),m.drawCompleted=!1)}(0)}function r(d,y){for(var m=new Array(256),w=0;w<256;w++)m[w]=d(w/255).concat(y);return m}function o(d,y){return(d>>>8*y)%256/255}function l(d,y,m){for(var w=new Array(8*y),_=0,A=0;A<y;A++)for(var p=0;p<2;p++)for(var L=0;L<4;L++){var M=4*d+L,C=m[64*A+M];M===63&&p===0&&(C*=-1),w[_++]=C}return w}function u(d){var y="0"+d;return y.substr(y.length-2)}function h(d){return d<t?"p"+u(d+1)+"_"+u(d+4):"colors"}function f(d,y,m,w,_,A,p,L,M,C,R,I,D,F){for(var q=[[],[]],z=0;z<64;z++)q[0][z]=z===_?1:0,q[1][z]=z===A?1:0;p*=F,L*=F,M*=F,C*=F;var V=d.lines.canvasOverdrag*F,X=d.domain,j=d.canvasWidth*F,H=d.canvasHeight*F,G=d.pad.l*F,ie=d.pad.b*F,re=d.layoutHeight*F,te=d.layoutWidth*F,K=d.deselectedLines.color,J=d.deselectedLines.opacity;return b.extendFlat({key:R,resolution:[j,H],viewBoxPos:[p+V,L],viewBoxSize:[M,C],i0:_,i1:A,dim0A:q[0].slice(0,16),dim0B:q[0].slice(16,32),dim0C:q[0].slice(32,48),dim0D:q[0].slice(48,64),dim1A:q[1].slice(0,16),dim1B:q[1].slice(16,32),dim1C:q[1].slice(32,48),dim1D:q[1].slice(48,64),drwLayer:I,contextColor:[K[0]/255,K[1]/255,K[2]/255,J!=="auto"?K[3]*J:Math.max(.00392156862745098,Math.pow(1/d.lines.color.length,.3333333333333333))],scissorX:(w===y?0:p+V)+(G-V)+te*X.x[0],scissorWidth:(w===m?j-p+V:M+.5)+(w===y?p+V:0),scissorY:L+ie+re*X.y[0],scissorHeight:C,viewportX:G-V+te*X.x[0],viewportY:ie+re*X.y[0],viewportWidth:j,viewportHeight:H},D)}function T(d){var y=2047,m=Math.max(0,Math.floor(d[0]*y),0),w=Math.min(y,Math.ceil(d[1]*y),y);return[Math.min(m,w),Math.max(m,w)]}O.exports=function(d,y){var m,w,_,A,p,L=y.context,M=y.pick,C=y.regl,R=C._gl,I=R.getParameter(R.ALIASED_LINE_WIDTH_RANGE),D=Math.max(I[0],Math.min(I[1],y.viewModel.plotGlPixelRatio)),F={currentRafs:{},drawCompleted:!0,clearOnly:!1},q=function(H){for(var G={},ie=0;ie<=t;ie+=4)G[h(ie)]=H.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return G}(C),z=C.texture(n),V=[];j(y);var X=C({profile:!1,blend:{enable:L,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!L,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:C.prop("scissorX"),y:C.prop("scissorY"),width:C.prop("scissorWidth"),height:C.prop("scissorHeight")}},viewport:{x:C.prop("viewportX"),y:C.prop("viewportY"),width:C.prop("viewportWidth"),height:C.prop("viewportHeight")},dither:!1,vert:v,frag:x,primitive:"lines",lineWidth:D,attributes:q,uniforms:{resolution:C.prop("resolution"),viewBoxPos:C.prop("viewBoxPos"),viewBoxSize:C.prop("viewBoxSize"),dim0A:C.prop("dim0A"),dim1A:C.prop("dim1A"),dim0B:C.prop("dim0B"),dim1B:C.prop("dim1B"),dim0C:C.prop("dim0C"),dim1C:C.prop("dim1C"),dim0D:C.prop("dim0D"),dim1D:C.prop("dim1D"),loA:C.prop("loA"),hiA:C.prop("hiA"),loB:C.prop("loB"),hiB:C.prop("hiB"),loC:C.prop("loC"),hiC:C.prop("hiC"),loD:C.prop("loD"),hiD:C.prop("hiD"),palette:z,contextColor:C.prop("contextColor"),maskTexture:C.prop("maskTexture"),drwLayer:C.prop("drwLayer"),maskHeight:C.prop("maskHeight")},offset:C.prop("offset"),count:C.prop("count")});function j(H){m=H.model,w=H.viewModel,_=w.dimensions.slice(),A=_[0]?_[0].values.length:0;var G=m.lines,ie=M?G.color.map(function(te,K){return K/G.color.length}):G.color,re=function(te,K,J){for(var $,ae=new Array(te*(t+4)),ue=0,ce=0;ce<te;ce++){for(var de=0;de<t;de++)ae[ue++]=de<K.length?K[de].paddedUnitValues[ce]:.5;ae[ue++]=o(ce,2),ae[ue++]=o(ce,1),ae[ue++]=o(ce,0),ae[ue++]=($=J[ce],Math.max(g,Math.min(.999999,$)))}return ae}(A,_,ie);(function(te,K,J){for(var $=0;$<=t;$+=4)te[h($)](l($/4,K,J))})(q,A,re),L||M||(z=C.texture(b.extendFlat({data:r(m.unitToColor,255)},n)))}return{render:function(H,G,ie){var re,te,K,J=H.length,$=1/0,ae=-1/0;for(re=0;re<J;re++)H[re].dim0.canvasX<$&&($=H[re].dim0.canvasX,te=re),H[re].dim1.canvasX>ae&&(ae=H[re].dim1.canvasX,K=re);J===0&&i(C,0,0,m.canvasWidth,m.canvasHeight);var ue=function(_e){var fe,le,ye,Oe=[[],[]];for(ye=0;ye<64;ye++){var Ae=!_e&&ye<_.length?_[ye].brush.filter.getBounds():[-1/0,1/0];Oe[0][ye]=Ae[0],Oe[1][ye]=Ae[1]}var Se=new Array(16384);for(fe=0;fe<16384;fe++)Se[fe]=255;if(!_e)for(fe=0;fe<_.length;fe++){var Pe=fe%8,Fe=(fe-Pe)/8,Be=Math.pow(2,Pe),xe=_[fe].brush.filter.get();if(!(xe.length<2)){var Me=T(xe[0])[1];for(le=1;le<xe.length;le++){var Ce=T(xe[le]);for(ye=Me+1;ye<Ce[0];ye++)Se[8*ye+Fe]&=~Be;Me=Math.max(Me,Ce[1])}}}var Ne={shape:[8,2048],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Se};return p?p(Ne):p=C.texture(Ne),{maskTexture:p,maskHeight:2048,loA:Oe[0].slice(0,16),loB:Oe[0].slice(16,32),loC:Oe[0].slice(32,48),loD:Oe[0].slice(48,64),hiA:Oe[1].slice(0,16),hiB:Oe[1].slice(16,32),hiC:Oe[1].slice(32,48),hiD:Oe[1].slice(48,64)}}(L);for(re=0;re<J;re++){var ce=H[re],de=ce.dim0.crossfilterDimensionIndex,pe=ce.dim1.crossfilterDimensionIndex,me=ce.canvasX,be=ce.canvasY,we=me+ce.panelSizeX,Te=ce.plotGlPixelRatio;if(G||!V[de]||V[de][0]!==me||V[de][1]!==we){V[de]=[me,we];var Le=f(m,te,K,re,de,pe,me,be,ce.panelSizeX,ce.panelSizeY,ce.dim0.crossfilterDimensionIndex,L?0:M?2:1,ue,Te);F.clearOnly=ie;var Ie=G?m.lines.blockLineCount:A;a(C,X,F,Ie,A,Le)}}},readPixel:function(H,G){return C.read({x:H,y:G,width:1,height:1,data:s}),s},readPixels:function(H,G,ie,re){var te=new Uint8Array(4*ie*re);return C.read({x:H,y:G,width:ie,height:re,data:te}),te},destroy:function(){for(var H in d.style["pointer-events"]="none",z.destroy(),p&&p.destroy(),q)q[H].destroy()},update:j}}},26284:function(O){O.exports=function(S,e,v,x){var t,b;for(x||(x=1/0),t=0;t<e.length;t++)(b=e[t]).visible&&(x=Math.min(x,b[v].length));for(x===1/0&&(x=0),S._length=x,t=0;t<e.length;t++)(b=e[t]).visible&&(b._length=x);return x}},36336:function(O,S,e){var v=e(33428),x=e(3400),t=x.isArrayOrTypedArray,b=x.numberFormat,g=e(96824),c=e(54460),s=x.strRotate,n=x.strTranslate,i=e(72736),a=e(43616),r=e(8932),o=e(71688),l=o.keyFun,u=o.repeat,h=o.unwrap,f=e(95724),T=e(30140),d=e(71864),y=e(51352);function m(X,j,H){return x.aggNums(X,null,j,H)}function w(X,j){return A(m(Math.min,X,j),m(Math.max,X,j))}function _(X){var j=X.range;return j?A(j[0],j[1]):w(X.values,X._length)}function A(X,j){return!isNaN(X)&&isFinite(X)||(X=0),!isNaN(j)&&isFinite(j)||(j=0),X===j&&(X===0?(X-=1,j+=1):(X*=.9,j*=1.1)),[X,j]}function p(X,j,H,G,ie){var re,te,K=_(H);return G?v.scale.ordinal().domain(G.map((re=b(H.tickformat),te=ie,te?function(J,$){var ae=te[$];return ae??re(J)}:re))).range(G.map(function(J){var $=(J-K[0])/(K[1]-K[0]);return X-j+$*(2*j-X)})):v.scale.linear().domain(K).range([X-j,j])}function L(X){if(X.tickvals){var j=_(X);return v.scale.ordinal().domain(X.tickvals).range(X.tickvals.map(function(H){return(H-j[0])/(j[1]-j[0])}))}}function M(X){var j=X.map(function(ie){return ie[0]}),H=X.map(function(ie){var re=g(ie[1]);return v.rgb("rgb("+re[0]+","+re[1]+","+re[2]+")")}),G="rgb".split("").map(function(ie){return v.scale.linear().clamp(!0).domain(j).range(H.map((re=ie,function(te){return te[re]})));var re});return function(ie){return G.map(function(re){return re(ie)})}}function C(X){return X.dimensions.some(function(j){return j.brush.filterSpecified})}function R(X,j,H){var G=h(j),ie=G.trace,re=f.convertTypedArray(G.lineColor),te=ie.line,K={color:g(ie.unselected.line.color),opacity:ie.unselected.line.opacity},J=r.extractOpts(te),$=J.reversescale?r.flipScale(G.cscale):G.cscale,ae=ie.domain,ue=ie.dimensions,ce=X.width,de=ie.labelangle,pe=ie.labelside,me=ie.labelfont,be=ie.tickfont,we=ie.rangefont,Te=x.extendDeepNoArrays({},te,{color:re.map(v.scale.linear().domain(_({values:re,range:[J.min,J.max],_length:ie._length}))),blockLineCount:T.blockLineCount,canvasOverdrag:T.overdrag*T.canvasPixelRatio}),Le=Math.floor(ce*(ae.x[1]-ae.x[0])),Ie=Math.floor(X.height*(ae.y[1]-ae.y[0])),_e=X.margin||{l:80,r:80,t:100,b:80},fe=Le,le=Ie;return{key:H,colCount:ue.filter(f.isVisible).length,dimensions:ue,tickDistance:T.tickDistance,unitToColor:M($),lines:Te,deselectedLines:K,labelAngle:de,labelSide:pe,labelFont:me,tickFont:be,rangeFont:we,layoutWidth:ce,layoutHeight:X.height,domain:ae,translateX:ae.x[0]*ce,translateY:X.height-ae.y[1]*X.height,pad:_e,canvasWidth:fe*T.canvasPixelRatio+2*Te.canvasOverdrag,canvasHeight:le*T.canvasPixelRatio,width:fe,height:le,canvasPixelRatio:T.canvasPixelRatio}}function I(X,j,H){var G=H.width,ie=H.height,re=H.dimensions,te=H.canvasPixelRatio,K=function(ce){return G*ce/Math.max(1,H.colCount-1)},J=T.verticalPadding/ie,$=function(ce,de){return v.scale.linear().range([de,ce-de])}(ie,T.verticalPadding),ae={key:H.key,xScale:K,model:H,inBrushDrag:!1},ue={};return ae.dimensions=re.filter(f.isVisible).map(function(ce,de){var pe=function(Pe,Fe){return v.scale.linear().domain(_(Pe)).range([Fe,1-Fe])}(ce,J),me=ue[ce.label];ue[ce.label]=(me||0)+1;var be=ce.label+(me?"__"+me:""),we=ce.constraintrange,Te=we&&we.length;Te&&!t(we[0])&&(we=[we]);var Le=Te?we.map(function(Pe){return Pe.map(pe)}):[[-1/0,1/0]],Ie=ce.values;Ie.length>ce._length&&(Ie=Ie.slice(0,ce._length));var _e,fe=ce.tickvals;function le(Pe,Fe){return{val:Pe,text:_e[Fe]}}function ye(Pe,Fe){return Pe.val-Fe.val}if(t(fe)&&fe.length){x.isTypedArray(fe)&&(fe=Array.from(fe)),_e=ce.ticktext,t(_e)&&_e.length?_e.length>fe.length?_e=_e.slice(0,fe.length):fe.length>_e.length&&(fe=fe.slice(0,_e.length)):_e=fe.map(b(ce.tickformat));for(var Oe=1;Oe<fe.length;Oe++)if(fe[Oe]<fe[Oe-1]){for(var Ae=fe.map(le).sort(ye),Se=0;Se<fe.length;Se++)fe[Se]=Ae[Se].val,_e[Se]=Ae[Se].text;break}}else fe=void 0;return Ie=f.convertTypedArray(Ie),{key:be,label:ce.label,tickFormat:ce.tickformat,tickvals:fe,ticktext:_e,ordinal:f.isOrdinal(ce),multiselect:ce.multiselect,xIndex:de,crossfilterDimensionIndex:de,visibleIndex:ce._index,height:ie,values:Ie,paddedUnitValues:Ie.map(pe),unitTickvals:fe&&fe.map(pe),xScale:K,x:K(de),canvasX:K(de)*te,unitToPaddedPx:$,domainScale:p(ie,T.verticalPadding,ce,fe,_e),ordinalScale:L(ce),parent:ae,model:H,brush:d.makeBrush(X,Te,Le,function(){X.linePickActive(!1)},function(){var Pe=ae;Pe.focusLayer&&Pe.focusLayer.render(Pe.panels,!0);var Fe=C(Pe);!X.contextShown()&&Fe?(Pe.contextLayer&&Pe.contextLayer.render(Pe.panels,!0),X.contextShown(!0)):X.contextShown()&&!Fe&&(Pe.contextLayer&&Pe.contextLayer.render(Pe.panels,!0,!0),X.contextShown(!1))},function(Pe){if(ae.focusLayer.render(ae.panels,!0),ae.pickLayer&&ae.pickLayer.render(ae.panels,!0),X.linePickActive(!0),j&&j.filterChanged){var Fe=pe.invert,Be=Pe.map(function(xe){return xe.map(Fe).sort(x.sorterAsc)}).sort(function(xe,Me){return xe[0]-Me[0]});j.filterChanged(ae.key,ce._index,Be)}})}}),ae}function D(X){X.classed(T.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function F(X,j){var H=j==="top"?1:-1,G=X*Math.PI/180;return{dir:H,dx:Math.sin(G),dy:Math.cos(G),degrees:X}}function q(X,j,H){for(var G=j.panels||(j.panels=[]),ie=X.data(),re=0;re<ie.length-1;re++){var te=G[re]||(G[re]={}),K=ie[re],J=ie[re+1];te.dim0=K,te.dim1=J,te.canvasX=K.canvasX,te.panelSizeX=J.canvasX-K.canvasX,te.panelSizeY=j.model.canvasHeight,te.y=0,te.canvasY=0,te.plotGlPixelRatio=H}}function z(X,j){return c.tickText(X._ax,j,!1).text}function V(X,j){if(X.ordinal)return"";var H=X.domainScale.domain(),G=H[j?H.length-1:0];return z(X.model.dimensions[X.visibleIndex],G)}O.exports=function(X,j,H,G){var ie=X._context.staticPlot,re=X._fullLayout,te=re._toppaper,K=re._glcontainer,J=X._context.plotGlPixelRatio,$=X._fullLayout.paper_bgcolor;(function(Pe){for(var Fe=0;Fe<Pe.length;Fe++)for(var Be=0;Be<Pe[Fe].length;Be++)for(var xe=Pe[Fe][Be].trace,Me=xe.dimensions,Ce=0;Ce<Me.length;Ce++){var Ne=Me[Ce].values,Re=Me[Ce]._ax;Re&&(Re.range?Re.range=A(Re.range[0],Re.range[1]):Re.range=w(Ne,xe._length),Re.dtick||(Re.dtick=.01*(Math.abs(Re.range[1]-Re.range[0])||1)),Re.tickformat=Me[Ce].tickformat,c.calcTicks(Re),Re.cleanRange())}})(j);var ae,ue,ce=(ae=!0,ue=!1,{linePickActive:function(Pe){return arguments.length?ae=!!Pe:ae},contextShown:function(Pe){return arguments.length?ue=!!Pe:ue}}),de=j.filter(function(Pe){return h(Pe).trace.visible}).map(R.bind(0,H)).map(I.bind(0,ce,G));K.each(function(Pe,Fe){return x.extendFlat(Pe,de[Fe])});var pe=K.selectAll(".gl-canvas").each(function(Pe){Pe.viewModel=de[0],Pe.viewModel.plotGlPixelRatio=J,Pe.viewModel.paperColor=$,Pe.model=Pe.viewModel?Pe.viewModel.model:null}),me=null;pe.filter(function(Pe){return Pe.pick}).style("pointer-events",ie?"none":"auto").on("mousemove",function(Pe){if(ce.linePickActive()&&Pe.lineLayer&&G&&G.hover){var Fe=v.event,Be=this.width,xe=this.height,Me=v.mouse(this),Ce=Me[0],Ne=Me[1];if(Ce<0||Ne<0||Ce>=Be||Ne>=xe)return;var Re=Pe.lineLayer.readPixel(Ce,xe-1-Ne),He=Re[3]!==0,Ye=He?Re[2]+256*(Re[1]+256*Re[0]):null,Qe={x:Ce,y:Ne,clientX:Fe.clientX,clientY:Fe.clientY,dataIndex:Pe.model.key,curveNumber:Ye};Ye!==me&&(He?G.hover(Qe):G.unhover&&G.unhover(Qe),me=Ye)}}),pe.style("opacity",function(Pe){return Pe.pick?0:1}),te.style("background","rgba(255, 255, 255, 0)");var be=te.selectAll("."+T.cn.parcoords).data(de,l);be.exit().remove(),be.enter().append("g").classed(T.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),be.attr("transform",function(Pe){return n(Pe.model.translateX,Pe.model.translateY)});var we=be.selectAll("."+T.cn.parcoordsControlView).data(u,l);we.enter().append("g").classed(T.cn.parcoordsControlView,!0),we.attr("transform",function(Pe){return n(Pe.model.pad.l,Pe.model.pad.t)});var Te=we.selectAll("."+T.cn.yAxis).data(function(Pe){return Pe.dimensions},l);Te.enter().append("g").classed(T.cn.yAxis,!0),we.each(function(Pe){q(Te,Pe,J)}),pe.each(function(Pe){if(Pe.viewModel){!Pe.lineLayer||G?Pe.lineLayer=y(this,Pe):Pe.lineLayer.update(Pe),(Pe.key||Pe.key===0)&&(Pe.viewModel[Pe.key]=Pe.lineLayer);var Fe=!Pe.context||G;Pe.lineLayer.render(Pe.viewModel.panels,Fe)}}),Te.attr("transform",function(Pe){return n(Pe.xScale(Pe.xIndex),0)}),Te.call(v.behavior.drag().origin(function(Pe){return Pe}).on("drag",function(Pe){var Fe=Pe.parent;ce.linePickActive(!1),Pe.x=Math.max(-T.overdrag,Math.min(Pe.model.width+T.overdrag,v.event.x)),Pe.canvasX=Pe.x*Pe.model.canvasPixelRatio,Te.sort(function(Be,xe){return Be.x-xe.x}).each(function(Be,xe){Be.xIndex=xe,Be.x=Pe===Be?Be.x:Be.xScale(Be.xIndex),Be.canvasX=Be.x*Be.model.canvasPixelRatio}),q(Te,Fe,J),Te.filter(function(Be){return Math.abs(Pe.xIndex-Be.xIndex)!==0}).attr("transform",function(Be){return n(Be.xScale(Be.xIndex),0)}),v.select(this).attr("transform",n(Pe.x,0)),Te.each(function(Be,xe,Me){Me===Pe.parent.key&&(Fe.dimensions[xe]=Be)}),Fe.contextLayer&&Fe.contextLayer.render(Fe.panels,!1,!C(Fe)),Fe.focusLayer.render&&Fe.focusLayer.render(Fe.panels)}).on("dragend",function(Pe){var Fe=Pe.parent;Pe.x=Pe.xScale(Pe.xIndex),Pe.canvasX=Pe.x*Pe.model.canvasPixelRatio,q(Te,Fe,J),v.select(this).attr("transform",function(Be){return n(Be.x,0)}),Fe.contextLayer&&Fe.contextLayer.render(Fe.panels,!1,!C(Fe)),Fe.focusLayer&&Fe.focusLayer.render(Fe.panels),Fe.pickLayer&&Fe.pickLayer.render(Fe.panels,!0),ce.linePickActive(!0),G&&G.axesMoved&&G.axesMoved(Fe.key,Fe.dimensions.map(function(Be){return Be.crossfilterDimensionIndex}))})),Te.exit().remove();var Le=Te.selectAll("."+T.cn.axisOverlays).data(u,l);Le.enter().append("g").classed(T.cn.axisOverlays,!0),Le.selectAll("."+T.cn.axis).remove();var Ie=Le.selectAll("."+T.cn.axis).data(u,l);Ie.enter().append("g").classed(T.cn.axis,!0),Ie.each(function(Pe){var Fe=Pe.model.height/Pe.model.tickDistance,Be=Pe.domainScale,xe=Be.domain();v.select(this).call(v.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(Fe,Pe.tickFormat).tickValues(Pe.ordinal?xe:null).tickFormat(function(Me){return f.isOrdinal(Pe)?Me:z(Pe.model.dimensions[Pe.visibleIndex],Me)}).scale(Be)),a.font(Ie.selectAll("text"),Pe.model.tickFont)}),Ie.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),Ie.selectAll("text").style("cursor","default");var _e=Le.selectAll("."+T.cn.axisHeading).data(u,l);_e.enter().append("g").classed(T.cn.axisHeading,!0);var fe=_e.selectAll("."+T.cn.axisTitle).data(u,l);fe.enter().append("text").classed(T.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",ie?"none":"auto"),fe.text(function(Pe){return Pe.label}).each(function(Pe){var Fe=v.select(this);a.font(Fe,Pe.model.labelFont),i.convertToTspans(Fe,X)}).attr("transform",function(Pe){var Fe=F(Pe.model.labelAngle,Pe.model.labelSide),Be=T.axisTitleOffset;return(Fe.dir>0?"":n(0,2*Be+Pe.model.height))+s(Fe.degrees)+n(-Be*Fe.dx,-Be*Fe.dy)}).attr("text-anchor",function(Pe){var Fe=F(Pe.model.labelAngle,Pe.model.labelSide);return 2*Math.abs(Fe.dx)>Math.abs(Fe.dy)?Fe.dir*Fe.dx<0?"start":"end":"middle"});var le=Le.selectAll("."+T.cn.axisExtent).data(u,l);le.enter().append("g").classed(T.cn.axisExtent,!0);var ye=le.selectAll("."+T.cn.axisExtentTop).data(u,l);ye.enter().append("g").classed(T.cn.axisExtentTop,!0),ye.attr("transform",n(0,-T.axisExtentOffset));var Oe=ye.selectAll("."+T.cn.axisExtentTopText).data(u,l);Oe.enter().append("text").classed(T.cn.axisExtentTopText,!0).call(D),Oe.text(function(Pe){return V(Pe,!0)}).each(function(Pe){a.font(v.select(this),Pe.model.rangeFont)});var Ae=le.selectAll("."+T.cn.axisExtentBottom).data(u,l);Ae.enter().append("g").classed(T.cn.axisExtentBottom,!0),Ae.attr("transform",function(Pe){return n(0,Pe.model.height+T.axisExtentOffset)});var Se=Ae.selectAll("."+T.cn.axisExtentBottomText).data(u,l);Se.enter().append("text").classed(T.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(D),Se.text(function(Pe){return V(Pe,!1)}).each(function(Pe){a.font(v.select(this),Pe.model.rangeFont)}),d.ensureAxisBrush(Le,$,X)}},24196:function(O,S,e){var v=e(36336),x=e(5048),t=e(95724).isVisible,b={};function g(c,s,n){var i=s.indexOf(n),a=c.indexOf(i);return a===-1&&(a+=s.length),a}(O.exports=function(c,s){var n=c._fullLayout;if(x(c,[],b)){var i={},a={},r={},o={},l=n._size;s.forEach(function(u,h){var f=u[0].trace;r[h]=f.index;var T=o[h]=f._fullInput.index;i[h]=c.data[T].dimensions,a[h]=c.data[T].dimensions.slice()}),v(c,s,{width:l.w,height:l.h,margin:{t:l.t,r:l.r,b:l.b,l:l.l}},{filterChanged:function(u,h,f){var T=a[u][h],d=f.map(function(p){return p.slice()}),y="dimensions["+h+"].constraintrange",m=n._tracePreGUI[c._fullData[r[u]]._fullInput.uid];if(m[y]===void 0){var w=T.constraintrange;m[y]=w||null}var _=c._fullData[r[u]].dimensions[h];d.length?(d.length===1&&(d=d[0]),T.constraintrange=d,_.constraintrange=d.slice(),d=[d]):(delete T.constraintrange,delete _.constraintrange,d=null);var A={};A[y]=d,c.emit("plotly_restyle",[A,[o[u]]])},hover:function(u){c.emit("plotly_hover",u)},unhover:function(u){c.emit("plotly_unhover",u)},axesMoved:function(u,h){var f=function(T,d){return function(y,m){return g(T,d,y)-g(T,d,m)}}(h,a[u].filter(t));i[u].sort(f),a[u].filter(function(T){return!t(T)}).sort(function(T){return a[u].indexOf(T)}).forEach(function(T){i[u].splice(i[u].indexOf(T),1),i[u].splice(a[u].indexOf(T),0,T)}),c.emit("plotly_restyle",[{dimensions:[i[u]]},[o[u]]])}})}}).reglPrecompiled=b},74996:function(O,S,e){var v=e(45464),x=e(86968).u,t=e(25376),b=e(22548),g=e(21776).Ks,c=e(21776).Gw,s=e(92880).extendFlat,n=e(98192).c,i=t({editType:"plot",arrayOk:!0,colorEditType:"plot"});O.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:b.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:n,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:s({},v.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:g({},{keys:["label","color","value","percent","text"]}),texttemplate:c({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:s({},i,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:s({},i,{}),outsidetextfont:s({},i,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:s({},i,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:x({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:s({},i,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},80036:function(O,S,e){var v=e(7316);S.name="pie",S.plot=function(x,t,b,g){v.plotBasePlot(S.name,x,t,b,g)},S.clean=function(x,t,b,g){v.cleanBasePlot(S.name,x,t,b,g)}},45768:function(O,S,e){var v=e(38248),x=e(49760),t=e(76308),b={};function g(s){return function(n,i){return!!n&&!!(n=x(n)).isValid()&&(n=t.addOpacity(n,n.getAlpha()),s[i]||(s[i]=n),n)}}function c(s,n){var i,a=JSON.stringify(s),r=n[a];if(!r){for(r=s.slice(),i=0;i<s.length;i++)r.push(x(s[i]).lighten(20).toHexString());for(i=0;i<s.length;i++)r.push(x(s[i]).darken(20).toHexString());n[a]=r}return r}O.exports={calc:function(s,n){var i,a,r=[],o=s._fullLayout,l=o.hiddenlabels||[],u=n.labels,h=n.marker.colors||[],f=n.values,T=n._length,d=n._hasValues&&T;if(n.dlabel)for(u=new Array(T),i=0;i<T;i++)u[i]=String(n.label0+i*n.dlabel);var y={},m=g(o["_"+n.type+"colormap"]),w=0,_=!1;for(i=0;i<T;i++){var A,p,L;if(d){if(A=f[i],!v(A))continue;A=+A}else A=1;(p=u[i])!==void 0&&p!==""||(p=i);var M=y[p=String(p)];M===void 0?(y[p]=r.length,(L=l.indexOf(p)!==-1)||(w+=A),r.push({v:A,label:p,color:m(h[i],p),i,pts:[i],hidden:L})):(_=!0,(a=r[M]).v+=A,a.pts.push(i),a.hidden||(w+=A),a.color===!1&&h[i]&&(a.color=m(h[i],p)))}return r=r.filter(function(C){return C.v>=0}),(n.type==="funnelarea"?_:n.sort)&&r.sort(function(C,R){return R.v-C.v}),r[0]&&(r[0].vTotal=w),r},crossTraceCalc:function(s,n){var i=(n||{}).type;i||(i="pie");var a=s._fullLayout,r=s.calcdata,o=a[i+"colorway"],l=a["_"+i+"colormap"];a["extend"+i+"colors"]&&(o=c(o,b));for(var u=0,h=0;h<r.length;h++){var f=r[h];if(f[0].trace.type===i)for(var T=0;T<f.length;T++){var d=f[T];d.color===!1&&(l[d.label]?d.color=l[d.label]:(l[d.label]=d.color=o[u%o.length],u++))}}},makePullColorFn:g,generateExtendedColors:c}},74174:function(O,S,e){var v=e(38248),x=e(3400),t=e(74996),b=e(86968).Q,g=e(31508).handleText,c=e(3400).coercePattern;function s(i,a){var r=x.isArrayOrTypedArray(i),o=x.isArrayOrTypedArray(a),l=Math.min(r?i.length:1/0,o?a.length:1/0);if(isFinite(l)||(l=0),l&&o){for(var u,h=0;h<l;h++){var f=a[h];if(v(f)&&f>0){u=!0;break}}u||(l=0)}return{hasLabels:r,hasValues:o,len:l}}function n(i,a,r,o,l){o("marker.line.width")&&o("marker.line.color",l?void 0:r.paper_bgcolor);var u=o("marker.colors");c(o,"marker.pattern",u),i.marker&&!a.marker.pattern.fgcolor&&(a.marker.pattern.fgcolor=i.marker.colors),a.marker.pattern.bgcolor||(a.marker.pattern.bgcolor=r.paper_bgcolor)}O.exports={handleLabelsAndValues:s,handleMarkerDefaults:n,supplyDefaults:function(i,a,r,o){function l(_,A){return x.coerce(i,a,t,_,A)}var u=s(l("labels"),l("values")),h=u.len;if(a._hasLabels=u.hasLabels,a._hasValues=u.hasValues,!a._hasLabels&&a._hasValues&&(l("label0"),l("dlabel")),h){a._length=h,n(i,a,o,l,!0),l("scalegroup");var f,T=l("text"),d=l("texttemplate");if(d||(f=l("textinfo",x.isArrayOrTypedArray(T)?"text+percent":"percent")),l("hovertext"),l("hovertemplate"),d||f&&f!=="none"){var y=l("textposition");g(i,a,o,l,y,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(y)||y==="auto"||y==="outside")&&l("automargin"),(y==="inside"||y==="auto"||Array.isArray(y))&&l("insidetextorientation")}else f==="none"&&l("textposition","none");b(a,o,l);var m=l("hole");if(l("title.text")){var w=l("title.position",m?"middle center":"top center");m||w!=="middle center"||(a.title.position="top center"),x.coerceFont(l,"title.font",o.font)}l("sort"),l("direction"),l("rotation"),l("pull")}else a.visible=!1}}},53644:function(O,S,e){var v=e(10624).appendArrayMultiPointValues;O.exports=function(x,t){var b={curveNumber:t.index,pointNumbers:x.pts,data:t._input,fullData:t,label:x.label,color:x.color,value:x.v,percent:x.percent,text:x.text,bbox:x.bbox,v:x.v};return x.pts.length===1&&(b.pointNumber=b.i=x.pts[0]),v(b,t,x.pts),t.type==="funnelarea"&&(delete b.v,delete b.i),b}},21552:function(O,S,e){var v=e(43616),x=e(76308);O.exports=function(t,b,g,c){var s=g.marker.pattern;s&&s.shape?v.pointStyle(t,g,c,b):x.fill(t,b.color)}},69656:function(O,S,e){var v=e(3400);function x(t){return t.indexOf("e")!==-1?t.replace(/[.]?0+e/,"e"):t.indexOf(".")!==-1?t.replace(/[.]?0+$/,""):t}S.formatPiePercent=function(t,b){var g=x((100*t).toPrecision(3));return v.numSeparate(g,b)+"%"},S.formatPieValue=function(t,b){var g=x(t.toPrecision(10));return v.numSeparate(g,b)},S.getFirstFilled=function(t,b){if(v.isArrayOrTypedArray(t))for(var g=0;g<b.length;g++){var c=t[b[g]];if(c||c===0||c==="")return c}},S.castOption=function(t,b){return v.isArrayOrTypedArray(t)?S.getFirstFilled(t,b):t||void 0},S.getRotationAngle=function(t){return(t==="auto"?0:t)*Math.PI/180}},75792:function(O,S,e){O.exports={attributes:e(74996),supplyDefaults:e(74174).supplyDefaults,supplyLayoutDefaults:e(90248),layoutAttributes:e(85204),calc:e(45768).calc,crossTraceCalc:e(45768).crossTraceCalc,plot:e(37820).plot,style:e(22152),styleOne:e(10528),moduleType:"trace",name:"pie",basePlotModule:e(80036),categories:["pie-like","pie","showLegend"],meta:{}}},85204:function(O){O.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},90248:function(O,S,e){var v=e(3400),x=e(85204);O.exports=function(t,b){function g(c,s){return v.coerce(t,b,x,c,s)}g("hiddenlabels"),g("piecolorway",b.colorway),g("extendpiecolors")}},37820:function(O,S,e){var v=e(33428),x=e(7316),t=e(93024),b=e(76308),g=e(43616),c=e(3400),s=c.strScale,n=c.strTranslate,i=e(72736),a=e(82744),r=a.recordMinTextSize,o=a.clearMinTextSize,l=e(78048).TEXTPAD,u=e(69656),h=e(53644),f=e(3400).isValidTextValue;function T(X,j,H){var G=H[0],ie=G.cx,re=G.cy,te=G.trace,K=te.type==="funnelarea";"_hasHoverLabel"in te||(te._hasHoverLabel=!1),"_hasHoverEvent"in te||(te._hasHoverEvent=!1),X.on("mouseover",function(J){var $=j._fullLayout,ae=j._fullData[te.index];if(!j._dragging&&$.hovermode!==!1){var ue=ae.hoverinfo;if(Array.isArray(ue)&&(ue=t.castHoverinfo({hoverinfo:[u.castOption(ue,J.pts)],_module:te._module},$,0)),ue==="all"&&(ue="label+text+value+percent+name"),ae.hovertemplate||ue!=="none"&&ue!=="skip"&&ue){var ce=J.rInscribed||0,de=ie+J.pxmid[0]*(1-ce),pe=re+J.pxmid[1]*(1-ce),me=$.separators,be=[];if(ue&&ue.indexOf("label")!==-1&&be.push(J.label),J.text=u.castOption(ae.hovertext||ae.text,J.pts),ue&&ue.indexOf("text")!==-1){var we=J.text;c.isValidTextValue(we)&&be.push(we)}J.value=J.v,J.valueLabel=u.formatPieValue(J.v,me),ue&&ue.indexOf("value")!==-1&&be.push(J.valueLabel),J.percent=J.v/G.vTotal,J.percentLabel=u.formatPiePercent(J.percent,me),ue&&ue.indexOf("percent")!==-1&&be.push(J.percentLabel);var Te=ae.hoverlabel,Le=Te.font,Ie=[];t.loneHover({trace:te,x0:de-ce*G.r,x1:de+ce*G.r,y:pe,_x0:K?ie+J.TL[0]:de-ce*G.r,_x1:K?ie+J.TR[0]:de+ce*G.r,_y0:K?re+J.TL[1]:pe-ce*G.r,_y1:K?re+J.BL[1]:pe+ce*G.r,text:be.join("<br>"),name:ae.hovertemplate||ue.indexOf("name")!==-1?ae.name:void 0,idealAlign:J.pxmid[0]<0?"left":"right",color:u.castOption(Te.bgcolor,J.pts)||J.color,borderColor:u.castOption(Te.bordercolor,J.pts),fontFamily:u.castOption(Le.family,J.pts),fontSize:u.castOption(Le.size,J.pts),fontColor:u.castOption(Le.color,J.pts),nameLength:u.castOption(Te.namelength,J.pts),textAlign:u.castOption(Te.align,J.pts),hovertemplate:u.castOption(ae.hovertemplate,J.pts),hovertemplateLabels:J,eventData:[h(J,ae)]},{container:$._hoverlayer.node(),outerContainer:$._paper.node(),gd:j,inOut_bbox:Ie}),J.bbox=Ie[0],te._hasHoverLabel=!0}te._hasHoverEvent=!0,j.emit("plotly_hover",{points:[h(J,ae)],event:v.event})}}),X.on("mouseout",function(J){var $=j._fullLayout,ae=j._fullData[te.index],ue=v.select(this).datum();te._hasHoverEvent&&(J.originalEvent=v.event,j.emit("plotly_unhover",{points:[h(ue,ae)],event:v.event}),te._hasHoverEvent=!1),te._hasHoverLabel&&(t.loneUnhover($._hoverlayer.node()),te._hasHoverLabel=!1)}),X.on("click",function(J){var $=j._fullLayout,ae=j._fullData[te.index];j._dragging||$.hovermode===!1||(j._hoverdata=[h(J,ae)],t.click(j,v.event))})}function d(X,j,H){var G=u.castOption(X.insidetextfont.color,j.pts);!G&&X._input.textfont&&(G=u.castOption(X._input.textfont.color,j.pts));var ie=u.castOption(X.insidetextfont.family,j.pts)||u.castOption(X.textfont.family,j.pts)||H.family,re=u.castOption(X.insidetextfont.size,j.pts)||u.castOption(X.textfont.size,j.pts)||H.size,te=u.castOption(X.insidetextfont.weight,j.pts)||u.castOption(X.textfont.weight,j.pts)||H.weight,K=u.castOption(X.insidetextfont.style,j.pts)||u.castOption(X.textfont.style,j.pts)||H.style,J=u.castOption(X.insidetextfont.variant,j.pts)||u.castOption(X.textfont.variant,j.pts)||H.variant,$=u.castOption(X.insidetextfont.textcase,j.pts)||u.castOption(X.textfont.textcase,j.pts)||H.textcase,ae=u.castOption(X.insidetextfont.lineposition,j.pts)||u.castOption(X.textfont.lineposition,j.pts)||H.lineposition,ue=u.castOption(X.insidetextfont.shadow,j.pts)||u.castOption(X.textfont.shadow,j.pts)||H.shadow;return{color:G||b.contrast(j.color),family:ie,size:re,weight:te,style:K,variant:J,textcase:$,lineposition:ae,shadow:ue}}function y(X,j){for(var H,G,ie=0;ie<X.length;ie++)if((G=(H=X[ie][0]).trace).title.text){var re=G.title.text;G._meta&&(re=c.templateString(re,G._meta));var te=g.tester.append("text").attr("data-notex",1).text(re).call(g.font,G.title.font).call(i.convertToTspans,j),K=g.bBox(te.node(),!0);H.titleBox={width:K.width,height:K.height},te.remove()}}function m(X,j,H){var G=H.r||j.rpx1,ie=j.rInscribed;if(j.startangle===j.stopangle)return{rCenter:1-ie,scale:0,rotate:0,textPosAngle:0};var re,te=j.ring,K=te===1&&Math.abs(j.startangle-j.stopangle)===2*Math.PI,J=j.halfangle,$=j.midangle,ae=H.trace.insidetextorientation,ue=ae==="horizontal",ce=ae==="tangential",de=ae==="radial",pe=ae==="auto",me=[];if(!pe){var be,we=function(le,ye){if(function(Pe,Fe){var Be=Pe.startangle,xe=Pe.stopangle;return Be>Fe&&Fe>xe||Be<Fe&&Fe<xe}(j,le)){var Oe=Math.abs(le-j.startangle),Ae=Math.abs(le-j.stopangle),Se=Oe<Ae?Oe:Ae;(re=ye==="tan"?_(X,G,te,Se,0):w(X,G,te,Se,Math.PI/2)).textPosAngle=le,me.push(re)}};if(ue||ce){for(be=4;be>=-4;be-=2)we(Math.PI*be,"tan");for(be=4;be>=-4;be-=2)we(Math.PI*(be+1),"tan")}if(ue||de){for(be=4;be>=-4;be-=2)we(Math.PI*(be+1.5),"rad");for(be=4;be>=-4;be-=2)we(Math.PI*(be+.5),"rad")}}if(K||pe||ue){var Te=Math.sqrt(X.width*X.width+X.height*X.height);if((re={scale:ie*G*2/Te,rCenter:1-ie,rotate:0}).textPosAngle=(j.startangle+j.stopangle)/2,re.scale>=1)return re;me.push(re)}(pe||de)&&((re=w(X,G,te,J,$)).textPosAngle=(j.startangle+j.stopangle)/2,me.push(re)),(pe||ce)&&((re=_(X,G,te,J,$)).textPosAngle=(j.startangle+j.stopangle)/2,me.push(re));for(var Le=0,Ie=0,_e=0;_e<me.length;_e++){var fe=me[_e].scale;if(Ie<fe&&(Ie=fe,Le=_e),!pe&&Ie>=1)break}return me[Le]}function w(X,j,H,G,ie){j=Math.max(0,j-2*l);var re=X.width/X.height,te=L(re,G,j,H);return{scale:2*te/X.height,rCenter:A(re,te/j),rotate:p(ie)}}function _(X,j,H,G,ie){j=Math.max(0,j-2*l);var re=X.height/X.width,te=L(re,G,j,H);return{scale:2*te/X.width,rCenter:A(re,te/j),rotate:p(ie+Math.PI/2)}}function A(X,j){return Math.cos(j)-X*j}function p(X){return(180/Math.PI*X+720)%180-90}function L(X,j,H,G){var ie=X+1/(2*Math.tan(j));return H*Math.min(1/(Math.sqrt(ie*ie+.5)+ie),G/(Math.sqrt(X*X+G/2)+X))}function M(X,j){return X.v!==j.vTotal||j.trace.hole?Math.min(1/(1+1/Math.sin(X.halfangle)),X.ring/2):1}function C(X,j){var H=j.pxmid[0],G=j.pxmid[1],ie=X.width/2,re=X.height/2;return H<0&&(ie*=-1),G<0&&(re*=-1),{scale:1,rCenter:1,rotate:0,x:ie+Math.abs(re)*(ie>0?1:-1)/2,y:re/(1+H*H/(G*G)),outside:!0}}function R(X,j){var H,G,ie,re=X.trace,te={x:X.cx,y:X.cy},K={tx:0,ty:0};K.ty+=re.title.font.size,ie=D(re),re.title.position.indexOf("top")!==-1?(te.y-=(1+ie)*X.r,K.ty-=X.titleBox.height):re.title.position.indexOf("bottom")!==-1&&(te.y+=(1+ie)*X.r);var J,$=X.r/((J=X.trace.aspectratio)===void 0?1:J),ae=j.w*(re.domain.x[1]-re.domain.x[0])/2;return re.title.position.indexOf("left")!==-1?(ae+=$,te.x-=(1+ie)*$,K.tx+=X.titleBox.width/2):re.title.position.indexOf("center")!==-1?ae*=2:re.title.position.indexOf("right")!==-1&&(ae+=$,te.x+=(1+ie)*$,K.tx-=X.titleBox.width/2),H=ae/X.titleBox.width,G=I(X,j)/X.titleBox.height,{x:te.x,y:te.y,scale:Math.min(H,G),tx:K.tx,ty:K.ty}}function I(X,j){var H=X.trace,G=j.h*(H.domain.y[1]-H.domain.y[0]);return Math.min(X.titleBox.height,G/2)}function D(X){var j,H=X.pull;if(!H)return 0;if(c.isArrayOrTypedArray(H))for(H=0,j=0;j<X.pull.length;j++)X.pull[j]>H&&(H=X.pull[j]);return H}function F(X,j){for(var H=[],G=0;G<X.length;G++){var ie=X[G][0],re=ie.trace,te=re.domain,K=j.w*(te.x[1]-te.x[0]),J=j.h*(te.y[1]-te.y[0]);re.title.text&&re.title.position!=="middle center"&&(J-=I(ie,j));var $=K/2,ae=J/2;re.type!=="funnelarea"||re.scalegroup||(ae/=re.aspectratio),ie.r=Math.min($,ae)/(1+D(re)),ie.cx=j.l+j.w*(re.domain.x[1]+re.domain.x[0])/2,ie.cy=j.t+j.h*(1-re.domain.y[0])-J/2,re.title.text&&re.title.position.indexOf("bottom")!==-1&&(ie.cy-=I(ie,j)),re.scalegroup&&H.indexOf(re.scalegroup)===-1&&H.push(re.scalegroup)}(function(ue,ce){for(var de,pe,me,be=0;be<ce.length;be++){var we=1/0,Te=ce[be];for(pe=0;pe<ue.length;pe++)if((me=(de=ue[pe][0]).trace).scalegroup===Te){var Le;if(me.type==="pie")Le=de.r*de.r;else if(me.type==="funnelarea"){var Ie,_e;me.aspectratio>1?_e=(Ie=de.r)/me.aspectratio:Ie=(_e=de.r)*me.aspectratio,Le=(Ie*=(1+me.baseratio)/2)*_e}we=Math.min(we,Le/de.vTotal)}for(pe=0;pe<ue.length;pe++)if((me=(de=ue[pe][0]).trace).scalegroup===Te){var fe=we*de.vTotal;me.type==="funnelarea"&&(fe/=(1+me.baseratio)/2,fe/=me.aspectratio),de.r=Math.sqrt(fe)}}})(X,H)}function q(X,j){return[X*Math.sin(j),-X*Math.cos(j)]}function z(X,j,H){var G=X._fullLayout,ie=H.trace,re=ie.texttemplate,te=ie.textinfo;if(!re&&te&&te!=="none"){var K,J=te.split("+"),$=function(Le){return J.indexOf(Le)!==-1},ae=$("label"),ue=$("text"),ce=$("value"),de=$("percent"),pe=G.separators;if(K=ae?[j.label]:[],ue){var me=u.getFirstFilled(ie.text,j.pts);f(me)&&K.push(me)}ce&&K.push(u.formatPieValue(j.v,pe)),de&&K.push(u.formatPiePercent(j.v/H.vTotal,pe)),j.text=K.join("<br>")}if(re){var be=c.castOption(ie,j.i,"texttemplate");if(be){var we=function(Le){return{label:Le.label,value:Le.v,valueLabel:u.formatPieValue(Le.v,G.separators),percent:Le.v/H.vTotal,percentLabel:u.formatPiePercent(Le.v/H.vTotal,G.separators),color:Le.color,text:Le.text,customdata:c.castOption(ie,Le.i,"customdata")}}(j),Te=u.getFirstFilled(ie.text,j.pts);(f(Te)||Te==="")&&(we.text=Te),j.text=c.texttemplateString(be,we,X._fullLayout._d3locale,we,ie._meta||{})}else j.text=""}}function V(X,j){var H=X.rotate*Math.PI/180,G=Math.cos(H),ie=Math.sin(H),re=(j.left+j.right)/2,te=(j.top+j.bottom)/2;X.textX=re*G-te*ie,X.textY=re*ie+te*G,X.noCenter=!0}O.exports={plot:function(X,j){var H=X._context.staticPlot,G=X._fullLayout,ie=G._size;o("pie",G),y(j,X),F(j,ie);var re=c.makeTraceGroups(G._pielayer,j,"trace").each(function(te){var K=v.select(this),J=te[0],$=J.trace;(function(ae){var ue,ce,de,pe=ae[0],me=pe.r,be=pe.trace,we=u.getRotationAngle(be.rotation),Te=2*Math.PI/pe.vTotal,Le="px0",Ie="px1";if(be.direction==="counterclockwise"){for(ue=0;ue<ae.length&&ae[ue].hidden;ue++);if(ue===ae.length)return;we+=Te*ae[ue].v,Te*=-1,Le="px1",Ie="px0"}for(de=q(me,we),ue=0;ue<ae.length;ue++)(ce=ae[ue]).hidden||(ce[Le]=de,ce.startangle=we,we+=Te*ce.v/2,ce.pxmid=q(me,we),ce.midangle=we,de=q(me,we+=Te*ce.v/2),ce.stopangle=we,ce[Ie]=de,ce.largeArc=ce.v>pe.vTotal/2?1:0,ce.halfangle=Math.PI*Math.min(ce.v/pe.vTotal,.5),ce.ring=1-be.hole,ce.rInscribed=M(ce,pe))})(te),K.attr("stroke-linejoin","round"),K.each(function(){var ae=v.select(this).selectAll("g.slice").data(te);ae.enter().append("g").classed("slice",!0),ae.exit().remove();var ue=[[[],[]],[[],[]]],ce=!1;ae.each(function(Ie,_e){if(Ie.hidden)v.select(this).selectAll("path,g").remove();else{Ie.pointNumber=Ie.i,Ie.curveNumber=$.index,ue[Ie.pxmid[1]<0?0:1][Ie.pxmid[0]<0?0:1].push(Ie);var fe=J.cx,le=J.cy,ye=v.select(this),Oe=ye.selectAll("path.surface").data([Ie]);if(Oe.enter().append("path").classed("surface",!0).style({"pointer-events":H?"none":"all"}),ye.call(T,X,te),$.pull){var Ae=+u.castOption($.pull,Ie.pts)||0;Ae>0&&(fe+=Ae*Ie.pxmid[0],le+=Ae*Ie.pxmid[1])}Ie.cxFinal=fe,Ie.cyFinal=le;var Se=$.hole;if(Ie.v===J.vTotal){var Pe="M"+(fe+Ie.px0[0])+","+(le+Ie.px0[1])+Ce(Ie.px0,Ie.pxmid,!0,1)+Ce(Ie.pxmid,Ie.px0,!0,1)+"Z";Se?Oe.attr("d","M"+(fe+Se*Ie.px0[0])+","+(le+Se*Ie.px0[1])+Ce(Ie.px0,Ie.pxmid,!1,Se)+Ce(Ie.pxmid,Ie.px0,!1,Se)+"Z"+Pe):Oe.attr("d",Pe)}else{var Fe=Ce(Ie.px0,Ie.px1,!0,1);if(Se){var Be=1-Se;Oe.attr("d","M"+(fe+Se*Ie.px1[0])+","+(le+Se*Ie.px1[1])+Ce(Ie.px1,Ie.px0,!1,Se)+"l"+Be*Ie.px0[0]+","+Be*Ie.px0[1]+Fe+"Z")}else Oe.attr("d","M"+fe+","+le+"l"+Ie.px0[0]+","+Ie.px0[1]+Fe+"Z")}z(X,Ie,J);var xe=u.castOption($.textposition,Ie.pts),Me=ye.selectAll("g.slicetext").data(Ie.text&&xe!=="none"?[0]:[]);Me.enter().append("g").classed("slicetext",!0),Me.exit().remove(),Me.each(function(){var Ne=c.ensureSingle(v.select(this),"text","",function(_t){_t.attr("data-notex",1)}),Re=c.ensureUniformFontSize(X,xe==="outside"?function(_t,mt,it){return{color:u.castOption(_t.outsidetextfont.color,mt.pts)||u.castOption(_t.textfont.color,mt.pts)||it.color,family:u.castOption(_t.outsidetextfont.family,mt.pts)||u.castOption(_t.textfont.family,mt.pts)||it.family,size:u.castOption(_t.outsidetextfont.size,mt.pts)||u.castOption(_t.textfont.size,mt.pts)||it.size,weight:u.castOption(_t.outsidetextfont.weight,mt.pts)||u.castOption(_t.textfont.weight,mt.pts)||it.weight,style:u.castOption(_t.outsidetextfont.style,mt.pts)||u.castOption(_t.textfont.style,mt.pts)||it.style,variant:u.castOption(_t.outsidetextfont.variant,mt.pts)||u.castOption(_t.textfont.variant,mt.pts)||it.variant,textcase:u.castOption(_t.outsidetextfont.textcase,mt.pts)||u.castOption(_t.textfont.textcase,mt.pts)||it.textcase,lineposition:u.castOption(_t.outsidetextfont.lineposition,mt.pts)||u.castOption(_t.textfont.lineposition,mt.pts)||it.lineposition,shadow:u.castOption(_t.outsidetextfont.shadow,mt.pts)||u.castOption(_t.textfont.shadow,mt.pts)||it.shadow}}($,Ie,G.font):d($,Ie,G.font));Ne.text(Ie.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(g.font,Re).call(i.convertToTspans,X);var He,Ye=g.bBox(Ne.node());if(xe==="outside")He=C(Ye,Ie);else if(He=m(Ye,Ie,J),xe==="auto"&&He.scale<1){var Qe=c.ensureUniformFontSize(X,$.outsidetextfont);Ne.call(g.font,Qe),He=C(Ye=g.bBox(Ne.node()),Ie)}var lt=He.textPosAngle,ut=lt===void 0?Ie.pxmid:q(J.r,lt);if(He.targetX=fe+ut[0]*He.rCenter+(He.x||0),He.targetY=le+ut[1]*He.rCenter+(He.y||0),V(He,Ye),He.outside){var xt=He.targetY;Ie.yLabelMin=xt-Ye.height/2,Ie.yLabelMid=xt,Ie.yLabelMax=xt+Ye.height/2,Ie.labelExtraX=0,Ie.labelExtraY=0,ce=!0}He.fontSize=Re.size,r($.type,He,G),te[_e].transform=He,c.setTransormAndDisplay(Ne,He)})}function Ce(Ne,Re,He,Ye){var Qe=Ye*(Re[0]-Ne[0]),lt=Ye*(Re[1]-Ne[1]);return"a"+Ye*J.r+","+Ye*J.r+" 0 "+Ie.largeArc+(He?" 1 ":" 0 ")+Qe+","+lt}});var de=v.select(this).selectAll("g.titletext").data($.title.text?[0]:[]);if(de.enter().append("g").classed("titletext",!0),de.exit().remove(),de.each(function(){var Ie,_e=c.ensureSingle(v.select(this),"text","",function(le){le.attr("data-notex",1)}),fe=$.title.text;$._meta&&(fe=c.templateString(fe,$._meta)),_e.text(fe).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(g.font,$.title.font).call(i.convertToTspans,X),Ie=$.title.position==="middle center"?function(le){var ye=Math.sqrt(le.titleBox.width*le.titleBox.width+le.titleBox.height*le.titleBox.height);return{x:le.cx,y:le.cy,scale:le.trace.hole*le.r*2/ye,tx:0,ty:-le.titleBox.height/2+le.trace.title.font.size}}(J):R(J,ie),_e.attr("transform",n(Ie.x,Ie.y)+s(Math.min(1,Ie.scale))+n(Ie.tx,Ie.ty))}),ce&&function(Ie,_e){var fe,le,ye,Oe,Ae,Se,Pe,Fe,Be,xe,Me,Ce,Ne;function Re(lt,ut){return lt.pxmid[1]-ut.pxmid[1]}function He(lt,ut){return ut.pxmid[1]-lt.pxmid[1]}function Ye(lt,ut){ut||(ut={});var xt,_t,mt,it,nt=ut.labelExtraY+(le?ut.yLabelMax:ut.yLabelMin),Et=le?lt.yLabelMin:lt.yLabelMax,zt=le?lt.yLabelMax:lt.yLabelMin,Ft=lt.cyFinal+Ae(lt.px0[1],lt.px1[1]),Pt=nt-Et;if(Pt*Pe>0&&(lt.labelExtraY=Pt),c.isArrayOrTypedArray(_e.pull))for(_t=0;_t<xe.length;_t++)(mt=xe[_t])===lt||(u.castOption(_e.pull,lt.pts)||0)>=(u.castOption(_e.pull,mt.pts)||0)||((lt.pxmid[1]-mt.pxmid[1])*Pe>0?(Pt=mt.cyFinal+Ae(mt.px0[1],mt.px1[1])-Et-lt.labelExtraY)*Pe>0&&(lt.labelExtraY+=Pt):(zt+lt.labelExtraY-Ft)*Pe>0&&(xt=3*Se*Math.abs(_t-xe.indexOf(lt)),(it=mt.cxFinal+Oe(mt.px0[0],mt.px1[0])+xt-(lt.cxFinal+lt.pxmid[0])-lt.labelExtraX)*Se>0&&(lt.labelExtraX+=it)))}for(le=0;le<2;le++)for(ye=le?Re:He,Ae=le?Math.max:Math.min,Pe=le?1:-1,fe=0;fe<2;fe++){for(Oe=fe?Math.max:Math.min,Se=fe?1:-1,(Fe=Ie[le][fe]).sort(ye),Be=Ie[1-le][fe],xe=Be.concat(Fe),Ce=[],Me=0;Me<Fe.length;Me++)Fe[Me].yLabelMid!==void 0&&Ce.push(Fe[Me]);for(Ne=!1,Me=0;le&&Me<Be.length;Me++)if(Be[Me].yLabelMid!==void 0){Ne=Be[Me];break}for(Me=0;Me<Ce.length;Me++){var Qe=Me&&Ce[Me-1];Ne&&!Me&&(Qe=Ne),Ye(Ce[Me],Qe)}}}(ue,$),function(Ie,_e){Ie.each(function(fe){var le=v.select(this);if(fe.labelExtraX||fe.labelExtraY){var ye=le.select("g.slicetext text");fe.transform.targetX+=fe.labelExtraX,fe.transform.targetY+=fe.labelExtraY,c.setTransormAndDisplay(ye,fe.transform);var Oe=fe.cxFinal+fe.pxmid[0],Ae="M"+Oe+","+(fe.cyFinal+fe.pxmid[1]),Se=(fe.yLabelMax-fe.yLabelMin)*(fe.pxmid[0]<0?-1:1)/4;if(fe.labelExtraX){var Pe=fe.labelExtraX*fe.pxmid[1]/fe.pxmid[0],Fe=fe.yLabelMid+fe.labelExtraY-(fe.cyFinal+fe.pxmid[1]);Math.abs(Pe)>Math.abs(Fe)?Ae+="l"+Fe*fe.pxmid[0]/fe.pxmid[1]+","+Fe+"H"+(Oe+fe.labelExtraX+Se):Ae+="l"+fe.labelExtraX+","+Pe+"v"+(Fe-Pe)+"h"+Se}else Ae+="V"+(fe.yLabelMid+fe.labelExtraY)+"h"+Se;c.ensureSingle(le,"path","textline").call(b.stroke,_e.outsidetextfont.color).attr({"stroke-width":Math.min(2,_e.outsidetextfont.size/8),d:Ae,fill:"none"})}else le.select("path.textline").remove()})}(ae,$),ce&&$.automargin){var pe=g.bBox(K.node()),me=$.domain,be=ie.w*(me.x[1]-me.x[0]),we=ie.h*(me.y[1]-me.y[0]),Te=(.5*be-J.r)/ie.w,Le=(.5*we-J.r)/ie.h;x.autoMargin(X,"pie."+$.uid+".automargin",{xl:me.x[0]-Te,xr:me.x[1]+Te,yb:me.y[0]-Le,yt:me.y[1]+Le,l:Math.max(J.cx-J.r-pe.left,0),r:Math.max(pe.right-(J.cx+J.r),0),b:Math.max(pe.bottom-(J.cy+J.r),0),t:Math.max(J.cy-J.r-pe.top,0),pad:5})}})});setTimeout(function(){re.selectAll("tspan").each(function(){var te=v.select(this);te.attr("dy")&&te.attr("dy",te.attr("dy"))})},0)},formatSliceLabel:z,transformInsideText:m,determineInsideTextFont:d,positionTitleOutside:R,prerenderTitles:y,layoutAreas:F,attachFxHandlers:T,computeTransform:V}},22152:function(O,S,e){var v=e(33428),x=e(10528),t=e(82744).resizeText;O.exports=function(b){var g=b._fullLayout._pielayer.selectAll(".trace");t(b,g,"pie"),g.each(function(c){var s=c[0].trace,n=v.select(this);n.style({opacity:s.opacity}),n.selectAll("path.surface").each(function(i){v.select(this).call(x,i,s,b)})})}},10528:function(O,S,e){var v=e(76308),x=e(69656).castOption,t=e(21552);O.exports=function(b,g,c,s){var n=c.marker.line,i=x(n.color,g.pts)||v.defaultLine,a=x(n.width,g.pts)||0;b.call(t,g,c,s).style("stroke-width",a).call(v.stroke,i)}},35484:function(O,S,e){var v=e(52904);O.exports={x:v.x,y:v.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:v.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},11072:function(O,S,e){var v=e(67792).gl_pointcloud2d,x=e(3400).isArrayOrTypedArray,t=e(43080),b=e(19280).findExtremes,g=e(44928);function c(n,i){this.scene=n,this.uid=i,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=v(n.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var s=c.prototype;s.handlePick=function(n){var i=this.idToIndex[n.pointId];return{trace:this,dataCoord:n.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[2*i],this.pickXYData[2*i+1]]:[this.pickXData[i],this.pickYData[i]],textLabel:x(this.textLabels)?this.textLabels[i]:this.textLabels,color:this.color,name:this.name,pointIndex:i,hoverinfo:this.hoverinfo}},s.update=function(n){this.index=n.index,this.textLabels=n.text,this.name=n.name,this.hoverinfo=n.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(n),this.color=g(n,{})},s.updateFast=function(n){var i,a,r,o,l,u,h=this.xData=this.pickXData=n.x,f=this.yData=this.pickYData=n.y,T=this.pickXYData=n.xy,d=n.xbounds&&n.ybounds,y=n.indices,m=this.bounds;if(T){if(r=T,i=T.length>>>1,d)m[0]=n.xbounds[0],m[2]=n.xbounds[1],m[1]=n.ybounds[0],m[3]=n.ybounds[1];else for(u=0;u<i;u++)o=r[2*u],l=r[2*u+1],o<m[0]&&(m[0]=o),o>m[2]&&(m[2]=o),l<m[1]&&(m[1]=l),l>m[3]&&(m[3]=l);if(y)a=y;else for(a=new Int32Array(i),u=0;u<i;u++)a[u]=u}else for(i=h.length,r=new Float32Array(2*i),a=new Int32Array(i),u=0;u<i;u++)o=h[u],l=f[u],a[u]=u,r[2*u]=o,r[2*u+1]=l,o<m[0]&&(m[0]=o),o>m[2]&&(m[2]=o),l<m[1]&&(m[1]=l),l>m[3]&&(m[3]=l);this.idToIndex=a,this.pointcloudOptions.idToIndex=a,this.pointcloudOptions.positions=r;var w=t(n.marker.color),_=t(n.marker.border.color),A=n.opacity*n.marker.opacity;w[3]*=A,this.pointcloudOptions.color=w;var p=n.marker.blend;p===null&&(p=h.length<100||f.length<100),this.pointcloudOptions.blend=p,_[3]*=A,this.pointcloudOptions.borderColor=_;var L=n.marker.sizemin,M=Math.max(n.marker.sizemax,n.marker.sizemin);this.pointcloudOptions.sizeMin=L,this.pointcloudOptions.sizeMax=M,this.pointcloudOptions.areaRatio=n.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var C=this.scene.xaxis,R=this.scene.yaxis,I=M/2||.5;n._extremes[C._id]=b(C,[m[0],m[2]],{ppad:I}),n._extremes[R._id]=b(R,[m[1],m[3]],{ppad:I})},s.dispose=function(){this.pointcloud.dispose()},O.exports=function(n,i){var a=new c(n,i.uid);return a.update(i),a}},41904:function(O,S,e){var v=e(3400),x=e(35484);O.exports=function(t,b,g){function c(s,n){return v.coerce(t,b,x,s,n)}c("x"),c("y"),c("xbounds"),c("ybounds"),t.xy&&t.xy instanceof Float32Array&&(b.xy=t.xy),t.indices&&t.indices instanceof Int32Array&&(b.indices=t.indices),c("text"),c("marker.color",g),c("marker.opacity"),c("marker.blend"),c("marker.sizemin"),c("marker.sizemax"),c("marker.border.color",g),c("marker.border.arearatio"),b._length=null}},156:function(O,S,e){O.exports={attributes:e(35484),supplyDefaults:e(41904),calc:e(41484),plot:e(11072),moduleType:"trace",name:"pointcloud",basePlotModule:e(39952),categories:["gl","gl2d","showLegend"],meta:{}}},41440:function(O,S,e){var v=e(25376),x=e(45464),t=e(22548),b=e(55756),g=e(86968).u,c=e(21776).Ks,s=e(49084),n=e(31780).templatedArray,i=e(29736).descriptionOnlyNumbers,a=e(92880).extendFlat,r=e(67824).overrideAll;(O.exports=r({hoverinfo:a({},x.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:b.hoverlabel,domain:g({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:i("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:v({autoShadowDflt:!0}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:t.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:b.hoverlabel,hovertemplate:c({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},hovercolor:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:t.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:b.hoverlabel,hovertemplate:c({},{keys:["value","label"]}),colorscales:n("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:a(s().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested")).transforms=void 0},10760:function(O,S,e){var v=e(67824).overrideAll,x=e(84888)._M,t=e(59596),b=e(65460),g=e(93972),c=e(86476),s=e(22676).prepSelect,n=e(3400),i=e(24040),a="sankey";function r(o,l){var u=o._fullData[l],h=o._fullLayout,f=h.dragmode,T=h.dragmode==="pan"?"move":"crosshair",d=u._bgRect;if(d&&f!=="pan"&&f!=="zoom"){g(d,T);var y={_id:"x",c2p:n.identity,_offset:u._sankey.translateX,_length:u._sankey.width},m={_id:"y",c2p:n.identity,_offset:u._sankey.translateY,_length:u._sankey.height},w={gd:o,element:d.node(),plotinfo:{id:l,xaxis:y,yaxis:m,fillRangeItems:n.noop},subplot:l,xaxes:[y],yaxes:[m],doneFnCompleted:function(_){var A,p=o._fullData[l],L=p.node.groups.slice(),M=[];function C(F){for(var q=p._sankey.graph.nodes,z=0;z<q.length;z++)if(q[z].pointNumber===F)return q[z]}for(var R=0;R<_.length;R++){var I=C(_[R].pointNumber);if(I)if(I.group){for(var D=0;D<I.childrenNodes.length;D++)M.push(I.childrenNodes[D].pointNumber);L[I.pointNumber-p.node._count]=!1}else M.push(I.pointNumber)}A=L.filter(Boolean).concat([M]),i.call("_guiRestyle",o,{"node.groups":[A]},l)},prepFn:function(_,A,p){s(_,A,p,w,f)}};c.init(w)}}S.name=a,S.baseLayoutAttrOverrides=v({hoverlabel:b.hoverlabel},"plot","nested"),S.plot=function(o){var l=x(o.calcdata,a)[0];t(o,l),S.updateFx(o)},S.clean=function(o,l,u,h){var f=h._has&&h._has(a),T=l._has&&l._has(a);f&&!T&&(h._paperdiv.selectAll(".sankey").remove(),h._paperdiv.selectAll(".bgsankey").remove())},S.updateFx=function(o){for(var l=0;l<o._fullData.length;l++)r(o,l)}},48068:function(O,S,e){var v=e(78484),x=e(3400),t=e(71688).wrap,b=x.isArrayOrTypedArray,g=x.isIndex,c=e(8932);O.exports=function(s,n){var i=function(a){var r,o=a.node,l=a.link,u=[],h=b(l.color),f=b(l.hovercolor),T=b(l.customdata),d={},y={},m=l.colorscales.length;for(r=0;r<m;r++){var w=l.colorscales[r],_=c.extractScale(w,{cLetter:"c"}),A=c.makeColorScaleFunc(_);y[w.label]=A}var p=0;for(r=0;r<l.value.length;r++)l.source[r]>p&&(p=l.source[r]),l.target[r]>p&&(p=l.target[r]);var L,M=p+1;a.node._count=M;var C=a.node.groups,R={};for(r=0;r<C.length;r++){var I=C[r];for(L=0;L<I.length;L++){var D=I[L],F=M+r;R.hasOwnProperty(D)?x.warn("Node "+D+" is already part of a group."):R[D]=F}}var q={source:[],target:[]};for(r=0;r<l.value.length;r++){var z=l.value[r],V=l.source[r],X=l.target[r];if(z>0&&g(V,M)&&g(X,M)&&(!R.hasOwnProperty(V)||!R.hasOwnProperty(X)||R[V]!==R[X])){R.hasOwnProperty(X)&&(X=R[X]),R.hasOwnProperty(V)&&(V=R[V]),X=+X,d[V=+V]=d[X]=!0;var j="";l.label&&l.label[r]&&(j=l.label[r]);var H=null;j&&y.hasOwnProperty(j)&&(H=y[j]),u.push({pointNumber:r,label:j,color:h?l.color[r]:l.color,hovercolor:f?l.hovercolor[r]:l.hovercolor,customdata:T?l.customdata[r]:l.customdata,concentrationscale:H,source:V,target:X,value:+z}),q.source.push(V),q.target.push(X)}}var G=M+C.length,ie=b(o.color),re=b(o.customdata),te=[];for(r=0;r<G;r++)if(d[r]){var K=o.label[r];te.push({group:r>M-1,childrenNodes:[],pointNumber:r,label:K,color:ie?o.color[r]:o.color,customdata:re?o.customdata[r]:o.customdata})}var J=!1;return function($,ae,ue){for(var ce=x.init2dArray($,0),de=0;de<Math.min(ae.length,ue.length);de++)if(x.isIndex(ae[de],$)&&x.isIndex(ue[de],$)){if(ae[de]===ue[de])return!0;ce[ae[de]].push(ue[de])}return v(ce).components.some(function(pe){return pe.length>1})}(G,q.source,q.target)&&(J=!0),{circular:J,links:u,nodes:te,groups:C,groupLookup:R}}(n);return t({circular:i.circular,_nodes:i.nodes,_links:i.links,_groups:i.groups,_groupLookup:i.groupLookup})}},11820:function(O){O.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},47140:function(O,S,e){var v=e(3400),x=e(41440),t=e(76308),b=e(49760),g=e(86968).Q,c=e(16132),s=e(31780),n=e(51272);function i(a,r){function o(l,u){return v.coerce(a,r,x.link.colorscales,l,u)}o("label"),o("cmin"),o("cmax"),o("colorscale")}O.exports=function(a,r,o,l){function u(C,R){return v.coerce(a,r,x,C,R)}var h=v.extendDeep(l.hoverlabel,a.hoverlabel),f=a.node,T=s.newContainer(r,"node");function d(C,R){return v.coerce(f,T,x.node,C,R)}d("label"),d("groups"),d("x"),d("y"),d("pad"),d("thickness"),d("line.color"),d("line.width"),d("hoverinfo",a.hoverinfo),c(f,T,d,h),d("hovertemplate"),d("align");var y=l.colorway;d("color",T.label.map(function(C,R){return t.addOpacity(function(I){return y[I%y.length]}(R),.8)})),d("customdata");var m=a.link||{},w=s.newContainer(r,"link");function _(C,R){return v.coerce(m,w,x.link,C,R)}_("label"),_("arrowlen"),_("source"),_("target"),_("value"),_("line.color"),_("line.width"),_("hoverinfo",a.hoverinfo),c(m,w,_,h),_("hovertemplate");var A,p=b(l.paper_bgcolor).getLuminance()<.333,L=_("color",p?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)");function M(C){var R=b(C);if(!R.isValid())return C;var I=R.getAlpha();return I<=.8?R.setAlpha(I+.2):R=p?R.brighten():R.darken(),R.toRgbString()}_("hovercolor",Array.isArray(L)?L.map(M):M(L)),_("customdata"),n(m,w,{name:"colorscales",handleItemDefaults:i}),g(r,l,u),u("orientation"),u("valueformat"),u("valuesuffix"),T.x.length&&T.y.length&&(A="freeform"),u("arrangement",A),v.coerceFont(u,"textfont",l.font,{autoShadowDflt:!0}),r._length=null}},45499:function(O,S,e){O.exports={attributes:e(41440),supplyDefaults:e(47140),calc:e(48068),plot:e(59596),moduleType:"trace",name:"sankey",basePlotModule:e(10760),selectPoints:e(81128),categories:["noOpacity"],meta:{}}},59596:function(O,S,e){var v=e(33428),x=e(3400),t=x.numberFormat,b=e(83248),g=e(93024),c=e(76308),s=e(11820).cn,n=x._;function i(m){return m!==""}function a(m,w){return m.filter(function(_){return _.key===w.traceId})}function r(m,w){v.select(m).select("path").style("fill-opacity",w),v.select(m).select("rect").style("fill-opacity",w)}function o(m){v.select(m).select("text.name").style("fill","black")}function l(m){return function(w){return m.node.sourceLinks.indexOf(w.link)!==-1||m.node.targetLinks.indexOf(w.link)!==-1}}function u(m){return function(w){return w.node.sourceLinks.indexOf(m.link)!==-1||w.node.targetLinks.indexOf(m.link)!==-1}}function h(m,w,_){w&&_&&a(_,w).selectAll("."+s.sankeyLink).filter(l(w)).call(T.bind(0,w,_,!1))}function f(m,w,_){w&&_&&a(_,w).selectAll("."+s.sankeyLink).filter(l(w)).call(d.bind(0,w,_,!1))}function T(m,w,_,A){A.style("fill",function(p){if(!p.link.concentrationscale)return p.tinyColorHoverHue}).style("fill-opacity",function(p){if(!p.link.concentrationscale)return p.tinyColorHoverAlpha}),A.each(function(p){var L=p.link.label;L!==""&&a(w,m).selectAll("."+s.sankeyLink).filter(function(M){return M.link.label===L}).style("fill",function(M){if(!M.link.concentrationscale)return M.tinyColorHoverHue}).style("fill-opacity",function(M){if(!M.link.concentrationscale)return M.tinyColorHoverAlpha})}),_&&a(w,m).selectAll("."+s.sankeyNode).filter(u(m)).call(h)}function d(m,w,_,A){A.style("fill",function(p){return p.tinyColorHue}).style("fill-opacity",function(p){return p.tinyColorAlpha}),A.each(function(p){var L=p.link.label;L!==""&&a(w,m).selectAll("."+s.sankeyLink).filter(function(M){return M.link.label===L}).style("fill",function(M){return M.tinyColorHue}).style("fill-opacity",function(M){return M.tinyColorAlpha})}),_&&a(w,m).selectAll(s.sankeyNode).filter(u(m)).call(f)}function y(m,w){var _=m.hoverlabel||{},A=x.nestedProperty(_,w).get();return!Array.isArray(A)&&A}O.exports=function(m,w){for(var _=m._fullLayout,A=_._paper,p=_._size,L=0;L<m._fullData.length;L++)if(m._fullData[L].visible&&m._fullData[L].type===s.sankey&&!m._fullData[L]._viewInitial){var M=m._fullData[L].node;m._fullData[L]._viewInitial={node:{groups:M.groups.slice(),x:M.x.slice(),y:M.y.slice()}}}var C=n(m,"source:")+" ",R=n(m,"target:")+" ",I=n(m,"concentration:")+" ",D=n(m,"incoming flow count:")+" ",F=n(m,"outgoing flow count:")+" ";b(m,A,w,{width:p.w,height:p.h,margin:{t:p.t,r:p.r,b:p.b,l:p.l}},{linkEvents:{hover:function(q,z,V){m._fullLayout.hovermode!==!1&&(v.select(q).call(T.bind(0,z,V,!0)),z.link.trace.link.hoverinfo!=="skip"&&(z.link.fullData=z.link.trace,m.emit("plotly_hover",{event:v.event,points:[z.link]})))},follow:function(q,z){if(m._fullLayout.hovermode!==!1){var V=z.link.trace.link;if(V.hoverinfo!=="none"&&V.hoverinfo!=="skip"){for(var X=[],j=0,H=0;H<z.flow.links.length;H++){var G=z.flow.links[H];if(m._fullLayout.hovermode!=="closest"||z.link.pointNumber===G.pointNumber){z.link.pointNumber===G.pointNumber&&(j=H),G.fullData=G.trace,V=z.link.trace.link;var ie=te(G),re={valueLabel:t(z.valueFormat)(G.value)+z.valueSuffix};X.push({x:ie[0],y:ie[1],name:re.valueLabel,text:[G.label||"",C+G.source.label,R+G.target.label,G.concentrationscale?I+t("%0.2f")(G.flow.labelConcentration):""].filter(i).join("<br>"),color:y(V,"bgcolor")||c.addOpacity(G.color,1),borderColor:y(V,"bordercolor"),fontFamily:y(V,"font.family"),fontSize:y(V,"font.size"),fontColor:y(V,"font.color"),fontWeight:y(V,"font.weight"),fontStyle:y(V,"font.style"),fontVariant:y(V,"font.variant"),fontTextcase:y(V,"font.textcase"),fontLineposition:y(V,"font.lineposition"),fontShadow:y(V,"font.shadow"),nameLength:y(V,"namelength"),textAlign:y(V,"align"),idealAlign:v.event.x<ie[0]?"right":"left",hovertemplate:V.hovertemplate,hovertemplateLabels:re,eventData:[G]})}}g.loneHover(X,{container:_._hoverlayer.node(),outerContainer:_._paper.node(),gd:m,anchorIndex:j}).each(function(){z.link.concentrationscale||r(this,.65),o(this)})}}function te(K){var J,$;K.circular?(J=(K.circularPathData.leftInnerExtent+K.circularPathData.rightInnerExtent)/2,$=K.circularPathData.verticalFullExtent):(J=(K.source.x1+K.target.x0)/2,$=(K.y0+K.y1)/2);var ae=[J,$];return K.trace.orientation==="v"&&ae.reverse(),ae[0]+=z.parent.translateX,ae[1]+=z.parent.translateY,ae}},unhover:function(q,z,V){m._fullLayout.hovermode!==!1&&(v.select(q).call(d.bind(0,z,V,!0)),z.link.trace.link.hoverinfo!=="skip"&&(z.link.fullData=z.link.trace,m.emit("plotly_unhover",{event:v.event,points:[z.link]})),g.loneUnhover(_._hoverlayer.node()))},select:function(q,z){var V=z.link;V.originalEvent=v.event,m._hoverdata=[V],g.click(m,{target:!0})}},nodeEvents:{hover:function(q,z,V){m._fullLayout.hovermode!==!1&&(v.select(q).call(h,z,V),z.node.trace.node.hoverinfo!=="skip"&&(z.node.fullData=z.node.trace,m.emit("plotly_hover",{event:v.event,points:[z.node]})))},follow:function(q,z){if(m._fullLayout.hovermode!==!1){var V=z.node.trace.node;if(V.hoverinfo!=="none"&&V.hoverinfo!=="skip"){var X=v.select(q).select("."+s.nodeRect),j=m._fullLayout._paperdiv.node().getBoundingClientRect(),H=X.node().getBoundingClientRect(),G=H.left-2-j.left,ie=H.right+2-j.left,re=H.top+H.height/4-j.top,te={valueLabel:t(z.valueFormat)(z.node.value)+z.valueSuffix};z.node.fullData=z.node.trace,m._fullLayout._calcInverseTransform(m);var K=m._fullLayout._invScaleX,J=m._fullLayout._invScaleY,$=g.loneHover({x0:K*G,x1:K*ie,y:J*re,name:t(z.valueFormat)(z.node.value)+z.valueSuffix,text:[z.node.label,D+z.node.targetLinks.length,F+z.node.sourceLinks.length].filter(i).join("<br>"),color:y(V,"bgcolor")||z.tinyColorHue,borderColor:y(V,"bordercolor"),fontFamily:y(V,"font.family"),fontSize:y(V,"font.size"),fontColor:y(V,"font.color"),fontWeight:y(V,"font.weight"),fontStyle:y(V,"font.style"),fontVariant:y(V,"font.variant"),fontTextcase:y(V,"font.textcase"),fontLineposition:y(V,"font.lineposition"),fontShadow:y(V,"font.shadow"),nameLength:y(V,"namelength"),textAlign:y(V,"align"),idealAlign:"left",hovertemplate:V.hovertemplate,hovertemplateLabels:te,eventData:[z.node]},{container:_._hoverlayer.node(),outerContainer:_._paper.node(),gd:m});r($,.85),o($)}}},unhover:function(q,z,V){m._fullLayout.hovermode!==!1&&(v.select(q).call(f,z,V),z.node.trace.node.hoverinfo!=="skip"&&(z.node.fullData=z.node.trace,m.emit("plotly_unhover",{event:v.event,points:[z.node]})),g.loneUnhover(_._hoverlayer.node()))},select:function(q,z,V){var X=z.node;X.originalEvent=v.event,m._hoverdata=[X],v.select(q).call(f,z,V),g.click(m,{target:!0})}}})}},83248:function(O,S,e){var v=e(49812),x=e(67756).Gz,t=e(33428),b=e(26800),g=e(48932),c=e(11820),s=e(49760),n=e(76308),i=e(43616),a=e(3400),r=a.strTranslate,o=a.strRotate,l=e(71688),u=l.keyFun,h=l.repeat,f=l.unwrap,T=e(72736),d=e(24040),y=e(84284),m=y.CAP_SHIFT,w=y.LINE_SPACING;function _(H,G,ie){var re,te=f(G),K=te.trace,J=K.domain,$=K.orientation==="h",ae=K.node.pad,ue=K.node.thickness,ce={justify:b.sankeyJustify,left:b.sankeyLeft,right:b.sankeyRight,center:b.sankeyCenter}[K.node.align],de=H.width*(J.x[1]-J.x[0]),pe=H.height*(J.y[1]-J.y[0]),me=te._nodes,be=te._links,we=te.circular;(re=we?g.sankeyCircular().circularLinkGap(0):b.sankey()).iterations(c.sankeyIterations).size($?[de,pe]:[pe,de]).nodeWidth(ue).nodePadding(ae).nodeId(function(Pe){return Pe.pointNumber}).nodeAlign(ce).nodes(me).links(be);var Te,Le,Ie,_e=re();for(var fe in re.nodePadding()<ae&&a.warn("node.pad was reduced to ",re.nodePadding()," to fit within the figure."),te._groupLookup){var le,ye=parseInt(te._groupLookup[fe]);for(Te=0;Te<_e.nodes.length;Te++)if(_e.nodes[Te].pointNumber===ye){le=_e.nodes[Te];break}if(le){var Oe={pointNumber:parseInt(fe),x0:le.x0,x1:le.x1,y0:le.y0,y1:le.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};_e.nodes.unshift(Oe),le.childrenNodes.unshift(Oe)}}if(function(){for(Te=0;Te<_e.nodes.length;Te++){var Pe,Fe,Be=_e.nodes[Te],xe={};for(Le=0;Le<Be.targetLinks.length;Le++)Pe=(Fe=Be.targetLinks[Le]).source.pointNumber+":"+Fe.target.pointNumber,xe.hasOwnProperty(Pe)||(xe[Pe]=[]),xe[Pe].push(Fe);var Me=Object.keys(xe);for(Le=0;Le<Me.length;Le++){var Ce=xe[Pe=Me[Le]],Ne=0,Re={};for(Ie=0;Ie<Ce.length;Ie++)Re[(Fe=Ce[Ie]).label]||(Re[Fe.label]=0),Re[Fe.label]+=Fe.value,Ne+=Fe.value;for(Ie=0;Ie<Ce.length;Ie++)(Fe=Ce[Ie]).flow={value:Ne,labelConcentration:Re[Fe.label]/Ne,concentration:Fe.value/Ne,links:Ce},Fe.concentrationscale&&(Fe.color=s(Fe.concentrationscale(Fe.flow.labelConcentration)))}var He=0;for(Le=0;Le<Be.sourceLinks.length;Le++)He+=Be.sourceLinks[Le].value;for(Le=0;Le<Be.sourceLinks.length;Le++)(Fe=Be.sourceLinks[Le]).concentrationOut=Fe.value/He;var Ye=0;for(Le=0;Le<Be.targetLinks.length;Le++)Ye+=Be.targetLinks[Le].value;for(Le=0;Le<Be.targetLinks.length;Le++)(Fe=Be.targetLinks[Le]).concenrationIn=Fe.value/Ye}}(),K.node.x.length&&K.node.y.length){for(Te=0;Te<Math.min(K.node.x.length,K.node.y.length,_e.nodes.length);Te++)if(K.node.x[Te]&&K.node.y[Te]){var Ae=[K.node.x[Te]*de,K.node.y[Te]*pe];_e.nodes[Te].x0=Ae[0]-ue/2,_e.nodes[Te].x1=Ae[0]+ue/2;var Se=_e.nodes[Te].y1-_e.nodes[Te].y0;_e.nodes[Te].y0=Ae[1]-Se/2,_e.nodes[Te].y1=Ae[1]+Se/2}K.arrangement==="snap"&&function(Pe){var Fe,Be,xe=Pe.map(function(He,Ye){return{x0:He.x0,index:Ye}}).sort(function(He,Ye){return He.x0-Ye.x0}),Me=[],Ce=-1,Ne=-1/0;for(Te=0;Te<xe.length;Te++){var Re=Pe[xe[Te].index];Re.x0>Ne+ue&&(Ce+=1,Fe=Re.x0),Ne=Re.x0,Me[Ce]||(Me[Ce]=[]),Me[Ce].push(Re),Be=Fe-Re.x0,Re.x0+=Be,Re.x1+=Be}return Me}(me=_e.nodes).forEach(function(Pe){var Fe,Be,xe,Me=0,Ce=Pe.length;for(Pe.sort(function(Ne,Re){return Ne.y0-Re.y0}),xe=0;xe<Ce;++xe)(Fe=Pe[xe]).y0>=Me||(Be=Me-Fe.y0)>1e-6&&(Fe.y0+=Be,Fe.y1+=Be),Me=Fe.y1+ae}),re.update(_e)}return{circular:we,key:ie,trace:K,guid:a.randstr(),horizontal:$,width:de,height:pe,nodePad:K.node.pad,nodeLineColor:K.node.line.color,nodeLineWidth:K.node.line.width,linkLineColor:K.link.line.color,linkLineWidth:K.link.line.width,linkArrowLength:K.link.arrowlen,valueFormat:K.valueformat,valueSuffix:K.valuesuffix,textFont:K.textfont,translateX:J.x[0]*H.width+H.margin.l,translateY:H.height-J.y[1]*H.height+H.margin.t,dragParallel:$?pe:de,dragPerpendicular:$?de:pe,arrangement:K.arrangement,sankey:re,graph:_e,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function A(H,G,ie){var re=s(G.color),te=s(G.hovercolor),K=G.source.label+"|"+G.target.label+"__"+ie;return G.trace=H.trace,G.curveNumber=H.trace.index,{circular:H.circular,key:K,traceId:H.key,pointNumber:G.pointNumber,link:G,tinyColorHue:n.tinyRGB(re),tinyColorAlpha:re.getAlpha(),tinyColorHoverHue:n.tinyRGB(te),tinyColorHoverAlpha:te.getAlpha(),linkPath:p,linkLineColor:H.linkLineColor,linkLineWidth:H.linkLineWidth,linkArrowLength:H.linkArrowLength,valueFormat:H.valueFormat,valueSuffix:H.valueSuffix,sankey:H.sankey,parent:H,interactionState:H.interactionState,flow:G.flow}}function p(){return function(H){var G=H.linkArrowLength;if(H.link.circular)return function(Te,Le){var Ie=Te.width/2,_e=Te.circularPathData;return Te.circularLinkType==="top"?"M "+(_e.targetX-Le)+" "+(_e.targetY+Ie)+" L"+(_e.rightInnerExtent-Le)+" "+(_e.targetY+Ie)+"A"+(_e.rightLargeArcRadius+Ie)+" "+(_e.rightSmallArcRadius+Ie)+" 0 0 1 "+(_e.rightFullExtent-Ie-Le)+" "+(_e.targetY-_e.rightSmallArcRadius)+"L"+(_e.rightFullExtent-Ie-Le)+" "+_e.verticalRightInnerExtent+"A"+(_e.rightLargeArcRadius+Ie)+" "+(_e.rightLargeArcRadius+Ie)+" 0 0 1 "+(_e.rightInnerExtent-Le)+" "+(_e.verticalFullExtent-Ie)+"L"+_e.leftInnerExtent+" "+(_e.verticalFullExtent-Ie)+"A"+(_e.leftLargeArcRadius+Ie)+" "+(_e.leftLargeArcRadius+Ie)+" 0 0 1 "+(_e.leftFullExtent+Ie)+" "+_e.verticalLeftInnerExtent+"L"+(_e.leftFullExtent+Ie)+" "+(_e.sourceY-_e.leftSmallArcRadius)+"A"+(_e.leftLargeArcRadius+Ie)+" "+(_e.leftSmallArcRadius+Ie)+" 0 0 1 "+_e.leftInnerExtent+" "+(_e.sourceY+Ie)+"L"+_e.sourceX+" "+(_e.sourceY+Ie)+"L"+_e.sourceX+" "+(_e.sourceY-Ie)+"L"+_e.leftInnerExtent+" "+(_e.sourceY-Ie)+"A"+(_e.leftLargeArcRadius-Ie)+" "+(_e.leftSmallArcRadius-Ie)+" 0 0 0 "+(_e.leftFullExtent-Ie)+" "+(_e.sourceY-_e.leftSmallArcRadius)+"L"+(_e.leftFullExtent-Ie)+" "+_e.verticalLeftInnerExtent+"A"+(_e.leftLargeArcRadius-Ie)+" "+(_e.leftLargeArcRadius-Ie)+" 0 0 0 "+_e.leftInnerExtent+" "+(_e.verticalFullExtent+Ie)+"L"+(_e.rightInnerExtent-Le)+" "+(_e.verticalFullExtent+Ie)+"A"+(_e.rightLargeArcRadius-Ie)+" "+(_e.rightLargeArcRadius-Ie)+" 0 0 0 "+(_e.rightFullExtent+Ie-Le)+" "+_e.verticalRightInnerExtent+"L"+(_e.rightFullExtent+Ie-Le)+" "+(_e.targetY-_e.rightSmallArcRadius)+"A"+(_e.rightLargeArcRadius-Ie)+" "+(_e.rightSmallArcRadius-Ie)+" 0 0 0 "+(_e.rightInnerExtent-Le)+" "+(_e.targetY-Ie)+"L"+(_e.targetX-Le)+" "+(_e.targetY-Ie)+(Le>0?"L"+_e.targetX+" "+_e.targetY:"")+"Z":"M "+(_e.targetX-Le)+" "+(_e.targetY-Ie)+" L"+(_e.rightInnerExtent-Le)+" "+(_e.targetY-Ie)+"A"+(_e.rightLargeArcRadius+Ie)+" "+(_e.rightSmallArcRadius+Ie)+" 0 0 0 "+(_e.rightFullExtent-Ie-Le)+" "+(_e.targetY+_e.rightSmallArcRadius)+"L"+(_e.rightFullExtent-Ie-Le)+" "+_e.verticalRightInnerExtent+"A"+(_e.rightLargeArcRadius+Ie)+" "+(_e.rightLargeArcRadius+Ie)+" 0 0 0 "+(_e.rightInnerExtent-Le)+" "+(_e.verticalFullExtent+Ie)+"L"+_e.leftInnerExtent+" "+(_e.verticalFullExtent+Ie)+"A"+(_e.leftLargeArcRadius+Ie)+" "+(_e.leftLargeArcRadius+Ie)+" 0 0 0 "+(_e.leftFullExtent+Ie)+" "+_e.verticalLeftInnerExtent+"L"+(_e.leftFullExtent+Ie)+" "+(_e.sourceY+_e.leftSmallArcRadius)+"A"+(_e.leftLargeArcRadius+Ie)+" "+(_e.leftSmallArcRadius+Ie)+" 0 0 0 "+_e.leftInnerExtent+" "+(_e.sourceY-Ie)+"L"+_e.sourceX+" "+(_e.sourceY-Ie)+"L"+_e.sourceX+" "+(_e.sourceY+Ie)+"L"+_e.leftInnerExtent+" "+(_e.sourceY+Ie)+"A"+(_e.leftLargeArcRadius-Ie)+" "+(_e.leftSmallArcRadius-Ie)+" 0 0 1 "+(_e.leftFullExtent-Ie)+" "+(_e.sourceY+_e.leftSmallArcRadius)+"L"+(_e.leftFullExtent-Ie)+" "+_e.verticalLeftInnerExtent+"A"+(_e.leftLargeArcRadius-Ie)+" "+(_e.leftLargeArcRadius-Ie)+" 0 0 1 "+_e.leftInnerExtent+" "+(_e.verticalFullExtent-Ie)+"L"+(_e.rightInnerExtent-Le)+" "+(_e.verticalFullExtent-Ie)+"A"+(_e.rightLargeArcRadius-Ie)+" "+(_e.rightLargeArcRadius-Ie)+" 0 0 1 "+(_e.rightFullExtent+Ie-Le)+" "+_e.verticalRightInnerExtent+"L"+(_e.rightFullExtent+Ie-Le)+" "+(_e.targetY+_e.rightSmallArcRadius)+"A"+(_e.rightLargeArcRadius-Ie)+" "+(_e.rightSmallArcRadius-Ie)+" 0 0 1 "+(_e.rightInnerExtent-Le)+" "+(_e.targetY+Ie)+"L"+(_e.targetX-Le)+" "+(_e.targetY+Ie)+(Le>0?"L"+_e.targetX+" "+_e.targetY:"")+"Z"}(H.link,G);var ie=Math.abs((H.link.target.x0-H.link.source.x1)/2);G>ie&&(G=ie);var re=H.link.source.x1,te=H.link.target.x0-G,K=x(re,te),J=K(.5),$=K(.5),ae=H.link.y0-H.link.width/2,ue=H.link.y0+H.link.width/2,ce=H.link.y1-H.link.width/2,de=H.link.y1+H.link.width/2,pe="M"+re+","+ae,me="C"+J+","+ae+" "+$+","+ce+" "+te+","+ce,be="C"+$+","+de+" "+J+","+ue+" "+re+","+ue,we=G>0?"L"+(te+G)+","+(ce+H.link.width/2):"";return pe+me+(we+="L"+te+","+de)+be+"Z"}}function L(H,G){var ie=s(G.color),re=c.nodePadAcross,te=H.nodePad/2;G.dx=G.x1-G.x0,G.dy=G.y1-G.y0;var K=G.dx,J=Math.max(.5,G.dy),$="node_"+G.pointNumber;return G.group&&($=a.randstr()),G.trace=H.trace,G.curveNumber=H.trace.index,{index:G.pointNumber,key:$,partOfGroup:G.partOfGroup||!1,group:G.group,traceId:H.key,trace:H.trace,node:G,nodePad:H.nodePad,nodeLineColor:H.nodeLineColor,nodeLineWidth:H.nodeLineWidth,textFont:H.textFont,size:H.horizontal?H.height:H.width,visibleWidth:Math.ceil(K),visibleHeight:J,zoneX:-re,zoneY:-te,zoneWidth:K+2*re,zoneHeight:J+2*te,labelY:H.horizontal?G.dy/2+1:G.dx/2+1,left:G.originalLayer===1,sizeAcross:H.width,forceLayouts:H.forceLayouts,horizontal:H.horizontal,darkBackground:ie.getBrightness()<=128,tinyColorHue:n.tinyRGB(ie),tinyColorAlpha:ie.getAlpha(),valueFormat:H.valueFormat,valueSuffix:H.valueSuffix,sankey:H.sankey,graph:H.graph,arrangement:H.arrangement,uniqueNodeLabelPathId:[H.guid,H.key,$].join("_"),interactionState:H.interactionState,figure:H}}function M(H){H.attr("transform",function(G){return r(G.node.x0.toFixed(3),G.node.y0.toFixed(3))})}function C(H){H.call(M)}function R(H,G){H.call(C),G.attr("d",p())}function I(H){H.attr("width",function(G){return G.node.x1-G.node.x0}).attr("height",function(G){return G.visibleHeight})}function D(H){return H.link.width>1||H.linkLineWidth>0}function F(H){return r(H.translateX,H.translateY)+(H.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function q(H,G,ie){H.on(".basic",null).on("mouseover.basic",function(re){re.interactionState.dragInProgress||re.partOfGroup||(ie.hover(this,re,G),re.interactionState.hovered=[this,re])}).on("mousemove.basic",function(re){re.interactionState.dragInProgress||re.partOfGroup||(ie.follow(this,re),re.interactionState.hovered=[this,re])}).on("mouseout.basic",function(re){re.interactionState.dragInProgress||re.partOfGroup||(ie.unhover(this,re,G),re.interactionState.hovered=!1)}).on("click.basic",function(re){re.interactionState.hovered&&(ie.unhover(this,re,G),re.interactionState.hovered=!1),re.interactionState.dragInProgress||re.partOfGroup||ie.select(this,re,G)})}function z(H,G,ie,re){var te=t.behavior.drag().origin(function(K){return{x:K.node.x0+K.visibleWidth/2,y:K.node.y0+K.visibleHeight/2}}).on("dragstart",function(K){if(K.arrangement!=="fixed"&&(a.ensureSingle(re._fullLayout._infolayer,"g","dragcover",function($){re._fullLayout._dragCover=$}),a.raiseToTop(this),K.interactionState.dragInProgress=K.node,X(K.node),K.interactionState.hovered&&(ie.nodeEvents.unhover.apply(0,K.interactionState.hovered),K.interactionState.hovered=!1),K.arrangement==="snap")){var J=K.traceId+"|"+K.key;K.forceLayouts[J]?K.forceLayouts[J].alpha(1):function($,ae,ue,ce){(function(pe){for(var me=0;me<pe.length;me++)pe[me].y=(pe[me].y0+pe[me].y1)/2,pe[me].x=(pe[me].x0+pe[me].x1)/2})(ue.graph.nodes);var de=ue.graph.nodes.filter(function(pe){return pe.originalX===ue.node.originalX}).filter(function(pe){return!pe.partOfGroup});ue.forceLayouts[ae]=v.forceSimulation(de).alphaDecay(0).force("collide",v.forceCollide().radius(function(pe){return pe.dy/2+ue.nodePad/2}).strength(1).iterations(c.forceIterations)).force("constrain",function(pe,me,be,we){return function(){for(var Te=0,Le=0;Le<be.length;Le++){var Ie=be[Le];Ie===we.interactionState.dragInProgress?(Ie.x=Ie.lastDraggedX,Ie.y=Ie.lastDraggedY):(Ie.vx=(Ie.originalX-Ie.x)/c.forceTicksPerFrame,Ie.y=Math.min(we.size-Ie.dy/2,Math.max(Ie.dy/2,Ie.y))),Te=Math.max(Te,Math.abs(Ie.vx),Math.abs(Ie.vy))}!we.interactionState.dragInProgress&&Te<.1&&we.forceLayouts[me].alpha()>0&&we.forceLayouts[me].alpha(0)}}(0,ae,de,ue)).stop()}(0,J,K),function($,ae,ue,ce,de){window.requestAnimationFrame(function pe(){var me;for(me=0;me<c.forceTicksPerFrame;me++)ue.forceLayouts[ce].tick();if(function(we){for(var Te=0;Te<we.length;Te++)we[Te].y0=we[Te].y-we[Te].dy/2,we[Te].y1=we[Te].y0+we[Te].dy,we[Te].x0=we[Te].x-we[Te].dx/2,we[Te].x1=we[Te].x0+we[Te].dx}(ue.graph.nodes),ue.sankey.update(ue.graph),R($.filter(j(ue)),ae),ue.forceLayouts[ce].alpha()>0)window.requestAnimationFrame(pe);else{var be=ue.node.originalX;ue.node.x0=be-ue.visibleWidth/2,ue.node.x1=be+ue.visibleWidth/2,V(ue,de)}})}(H,G,K,J,re)}}).on("drag",function(K){if(K.arrangement!=="fixed"){var J=t.event.x,$=t.event.y;K.arrangement==="snap"?(K.node.x0=J-K.visibleWidth/2,K.node.x1=J+K.visibleWidth/2,K.node.y0=$-K.visibleHeight/2,K.node.y1=$+K.visibleHeight/2):(K.arrangement==="freeform"&&(K.node.x0=J-K.visibleWidth/2,K.node.x1=J+K.visibleWidth/2),$=Math.max(0,Math.min(K.size-K.visibleHeight/2,$)),K.node.y0=$-K.visibleHeight/2,K.node.y1=$+K.visibleHeight/2),X(K.node),K.arrangement!=="snap"&&(K.sankey.update(K.graph),R(H.filter(j(K)),G))}}).on("dragend",function(K){if(K.arrangement!=="fixed"){K.interactionState.dragInProgress=!1;for(var J=0;J<K.node.childrenNodes.length;J++)K.node.childrenNodes[J].x=K.node.x,K.node.childrenNodes[J].y=K.node.y;K.arrangement!=="snap"&&V(K,re)}});H.on(".drag",null).call(te)}function V(H,G){for(var ie=[],re=[],te=0;te<H.graph.nodes.length;te++){var K=(H.graph.nodes[te].x0+H.graph.nodes[te].x1)/2,J=(H.graph.nodes[te].y0+H.graph.nodes[te].y1)/2;ie.push(K/H.figure.width),re.push(J/H.figure.height)}d.call("_guiRestyle",G,{"node.x":[ie],"node.y":[re]},H.trace.index).then(function(){G._fullLayout._dragCover&&G._fullLayout._dragCover.remove()})}function X(H){H.lastDraggedX=H.x0+H.dx/2,H.lastDraggedY=H.y0+H.dy/2}function j(H){return function(G){return G.node.originalX===H.node.originalX}}O.exports=function(H,G,ie,re,te){var K=H._context.staticPlot,J=!1;a.ensureSingle(H._fullLayout._infolayer,"g","first-render",function(){J=!0});var $=H._fullLayout._dragCover,ae=ie.filter(function(Te){return f(Te).trace.visible}).map(_.bind(null,re)),ue=G.selectAll("."+c.cn.sankey).data(ae,u);ue.exit().remove(),ue.enter().append("g").classed(c.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",K?"none":"auto").attr("transform",F),ue.each(function(Te,Le){H._fullData[Le]._sankey=Te;var Ie="bgsankey-"+Te.trace.uid+"-"+Le;a.ensureSingle(H._fullLayout._draggers,"rect",Ie),H._fullData[Le]._bgRect=t.select("."+Ie),H._fullData[Le]._bgRect.style("pointer-events",K?"none":"all").attr("width",Te.width).attr("height",Te.height).attr("x",Te.translateX).attr("y",Te.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),ue.transition().ease(c.ease).duration(c.duration).attr("transform",F);var ce=ue.selectAll("."+c.cn.sankeyLinks).data(h,u);ce.enter().append("g").classed(c.cn.sankeyLinks,!0).style("fill","none");var de=ce.selectAll("."+c.cn.sankeyLink).data(function(Te){return Te.graph.links.filter(function(Le){return Le.value}).map(A.bind(null,Te))},u);de.enter().append("path").classed(c.cn.sankeyLink,!0).call(q,ue,te.linkEvents),de.style("stroke",function(Te){return D(Te)?n.tinyRGB(s(Te.linkLineColor)):Te.tinyColorHue}).style("stroke-opacity",function(Te){return D(Te)?n.opacity(Te.linkLineColor):Te.tinyColorAlpha}).style("fill",function(Te){return Te.tinyColorHue}).style("fill-opacity",function(Te){return Te.tinyColorAlpha}).style("stroke-width",function(Te){return D(Te)?Te.linkLineWidth:1}).attr("d",p()),de.style("opacity",function(){return H._context.staticPlot||J||$?1:0}).transition().ease(c.ease).duration(c.duration).style("opacity",1),de.exit().transition().ease(c.ease).duration(c.duration).style("opacity",0).remove();var pe=ue.selectAll("."+c.cn.sankeyNodeSet).data(h,u);pe.enter().append("g").classed(c.cn.sankeyNodeSet,!0),pe.style("cursor",function(Te){switch(Te.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var me=pe.selectAll("."+c.cn.sankeyNode).data(function(Te){var Le=Te.graph.nodes;return function(Ie){var _e,fe=[];for(_e=0;_e<Ie.length;_e++)Ie[_e].originalX=(Ie[_e].x0+Ie[_e].x1)/2,Ie[_e].originalY=(Ie[_e].y0+Ie[_e].y1)/2,fe.indexOf(Ie[_e].originalX)===-1&&fe.push(Ie[_e].originalX);for(fe.sort(function(le,ye){return le-ye}),_e=0;_e<Ie.length;_e++)Ie[_e].originalLayerIndex=fe.indexOf(Ie[_e].originalX),Ie[_e].originalLayer=Ie[_e].originalLayerIndex/(fe.length-1)}(Le),Le.map(L.bind(null,Te))},u);me.enter().append("g").classed(c.cn.sankeyNode,!0).call(M).style("opacity",function(Te){return!H._context.staticPlot&&!J||Te.partOfGroup?0:1}),me.call(q,ue,te.nodeEvents).call(z,de,te,H),me.transition().ease(c.ease).duration(c.duration).call(M).style("opacity",function(Te){return Te.partOfGroup?0:1}),me.exit().transition().ease(c.ease).duration(c.duration).style("opacity",0).remove();var be=me.selectAll("."+c.cn.nodeRect).data(h);be.enter().append("rect").classed(c.cn.nodeRect,!0).call(I),be.style("stroke-width",function(Te){return Te.nodeLineWidth}).style("stroke",function(Te){return n.tinyRGB(s(Te.nodeLineColor))}).style("stroke-opacity",function(Te){return n.opacity(Te.nodeLineColor)}).style("fill",function(Te){return Te.tinyColorHue}).style("fill-opacity",function(Te){return Te.tinyColorAlpha}),be.transition().ease(c.ease).duration(c.duration).call(I);var we=me.selectAll("."+c.cn.nodeLabel).data(h);we.enter().append("text").classed(c.cn.nodeLabel,!0).style("cursor","default"),we.attr("data-notex",1).text(function(Te){return Te.node.label}).each(function(Te){var Le=t.select(this);i.font(Le,Te.textFont),T.convertToTspans(Le,H)}).attr("text-anchor",function(Te){return Te.horizontal&&Te.left?"end":"start"}).attr("transform",function(Te){var Le=t.select(this),Ie=T.lineCount(Le),_e=Te.textFont.size*((Ie-1)*w-m),fe=Te.nodeLineWidth/2+3,le=((Te.horizontal?Te.visibleHeight:Te.visibleWidth)-_e)/2;Te.horizontal&&(Te.left?fe=-fe:fe+=Te.visibleWidth);var ye=Te.horizontal?"":"scale(-1,1)"+o(90);return r(Te.horizontal?fe:le,Te.horizontal?le:fe)+ye}),we.transition().ease(c.ease).duration(c.duration)}},81128:function(O){O.exports=function(S,e){for(var v=[],x=S.cd[0].trace,t=x._sankey.graph.nodes,b=0;b<t.length;b++){var g=t[b];if(!g.partOfGroup){var c=[(g.x0+g.x1)/2,(g.y0+g.y1)/2];x.orientation==="v"&&c.reverse(),e&&e.contains(c,!1,b,S)&&v.push({pointNumber:g.pointNumber})}}return v}},20148:function(O,S,e){var v=e(3400);O.exports=function(x,t){for(var b=0;b<x.length;b++)x[b].i=b;v.mergeArray(t.text,x,"tx"),v.mergeArray(t.texttemplate,x,"txt"),v.mergeArray(t.hovertext,x,"htx"),v.mergeArray(t.customdata,x,"data"),v.mergeArray(t.textposition,x,"tp"),t.textfont&&(v.mergeArrayCastPositive(t.textfont.size,x,"ts"),v.mergeArray(t.textfont.color,x,"tc"),v.mergeArray(t.textfont.family,x,"tf"),v.mergeArray(t.textfont.weight,x,"tw"),v.mergeArray(t.textfont.style,x,"ty"),v.mergeArray(t.textfont.variant,x,"tv"),v.mergeArray(t.textfont.textcase,x,"tC"),v.mergeArray(t.textfont.lineposition,x,"tE"),v.mergeArray(t.textfont.shadow,x,"tS"));var g=t.marker;if(g){v.mergeArrayCastPositive(g.size,x,"ms"),v.mergeArrayCastPositive(g.opacity,x,"mo"),v.mergeArray(g.symbol,x,"mx"),v.mergeArray(g.angle,x,"ma"),v.mergeArray(g.standoff,x,"mf"),v.mergeArray(g.color,x,"mc");var c=g.line;g.line&&(v.mergeArray(c.color,x,"mlc"),v.mergeArrayCastPositive(c.width,x,"mlw"));var s=g.gradient;s&&s.type!=="none"&&(v.mergeArray(s.type,x,"mgt"),v.mergeArray(s.color,x,"mgc"))}}},52904:function(O,S,e){var v=e(29736).axisHoverFormat,x=e(21776).Gw,t=e(21776).Ks,b=e(49084),g=e(25376),c=e(98192).u,s=e(98192).c,n=e(43616),i=e(88200),a=e(92880).extendFlat,r=e(98304);O.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:v("x"),yhoverformat:v("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:x({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:t({},{keys:i.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:a({},c,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:r(!0),fillgradient:a({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:s,marker:a({symbol:{valType:"enumerated",values:n.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:a({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},b("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},b("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:g({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}},16356:function(O,S,e){var v=e(38248),x=e(3400),t=e(54460),b=e(1220),g=e(39032).BADNUM,c=e(43028),s=e(90136),n=e(20148),i=e(4500);function a(h,f,T,d,y,m,w){var _=f._length,A=h._fullLayout,p=T._id,L=d._id,M=A._firstScatter[l(f)]===f.uid,C=(u(f,A,T,d)||{}).orientation,R=f.fill;T._minDtick=0,d._minDtick=0;var I={padded:!0},D={padded:!0};w&&(I.ppad=D.ppad=w);var F=_<2||y[0]!==y[_-1]||m[0]!==m[_-1];F&&(R==="tozerox"||R==="tonextx"&&(M||C==="h"))?I.tozero=!0:(f.error_y||{}).visible||R!=="tonexty"&&R!=="tozeroy"&&(c.hasMarkers(f)||c.hasText(f))||(I.padded=!1,I.ppad=0),F&&(R==="tozeroy"||R==="tonexty"&&(M||C==="v"))?D.tozero=!0:R!=="tonextx"&&R!=="tozerox"||(D.padded=!1),p&&(f._extremes[p]=t.findExtremes(T,y,I)),L&&(f._extremes[L]=t.findExtremes(d,m,D))}function r(h,f){if(c.hasMarkers(h)){var T,d=h.marker,y=1.6*(h.marker.sizeref||1);if(T=h.marker.sizemode==="area"?function(p){return Math.max(Math.sqrt((p||0)/y),3)}:function(p){return Math.max((p||0)/y,3)},x.isArrayOrTypedArray(d.size)){var m={type:"linear"};t.setConvert(m);for(var w=m.makeCalcdata(h.marker,"size"),_=new Array(f),A=0;A<f;A++)_[A]=T(w[A]);return _}return T(d.size)}}function o(h,f){var T=l(f),d=h._firstScatter;d[T]||(d[T]=f.uid)}function l(h){var f=h.stackgroup;return h.xaxis+h.yaxis+h.type+(f?"-"+f:"")}function u(h,f,T,d){var y=h.stackgroup;if(y){var m=f._scatterStackOpts[T._id+d._id][y],w=m.orientation==="v"?d:T;return w.type==="linear"||w.type==="log"?m:void 0}}O.exports={calc:function(h,f){var T,d,y,m,w,_,A=h._fullLayout,p=f._xA=t.getFromId(h,f.xaxis||"x","x"),L=f._yA=t.getFromId(h,f.yaxis||"y","y"),M=p.makeCalcdata(f,"x"),C=L.makeCalcdata(f,"y"),R=b(f,p,"x",M),I=b(f,L,"y",C),D=R.vals,F=I.vals,q=f._length,z=new Array(q),V=f.ids,X=u(f,A,p,L),j=!1;o(A,f);var H,G="x",ie="y";X?(x.pushUnique(X.traceIndices,f._expandedIndex),(T=X.orientation==="v")?(ie="s",H="x"):(G="s",H="y"),w=X.stackgaps==="interpolate"):a(h,f,p,L,D,F,r(f,q));var re=!!f.xperiodalignment,te=!!f.yperiodalignment;for(d=0;d<q;d++){var K=z[d]={},J=v(D[d]),$=v(F[d]);J&&$?(K[G]=D[d],K[ie]=F[d],re&&(K.orig_x=M[d],K.xEnd=R.ends[d],K.xStart=R.starts[d]),te&&(K.orig_y=C[d],K.yEnd=I.ends[d],K.yStart=I.starts[d])):X&&(T?J:$)?(K[H]=T?D[d]:F[d],K.gap=!0,w?(K.s=g,j=!0):K.s=0):K[G]=K[ie]=g,V&&(K.id=String(V[d]))}if(n(z,f),s(h,f),i(z,f),X){for(d=0;d<z.length;)z[d][H]===g?z.splice(d,1):d++;if(x.sort(z,function(de,pe){return de[H]-pe[H]||de.i-pe.i}),j){for(d=0;d<z.length-1&&z[d].gap;)d++;for((_=z[d].s)||(_=z[d].s=0),y=0;y<d;y++)z[y].s=_;for(m=z.length-1;m>d&&z[m].gap;)m--;for(_=z[m].s,y=z.length-1;y>m;y--)z[y].s=_;for(;d<m;)if(z[++d].gap){for(y=d+1;z[y].gap;)y++;for(var ae=z[d-1][H],ue=z[d-1].s,ce=(z[y].s-ue)/(z[y][H]-ae);d<y;)z[d].s=ue+(z[d][H]-ae)*ce,d++}}}return z},calcMarkerSize:r,calcAxisExpansion:a,setFirstScatter:o,getStackOpts:u}},4500:function(O,S,e){var v=e(3400);O.exports=function(x,t){v.isArrayOrTypedArray(t.selectedpoints)&&v.tagSelected(x,t)}},90136:function(O,S,e){var v=e(94288).hasColorscale,x=e(47128),t=e(43028);O.exports=function(b,g){t.hasLines(g)&&v(g,"line")&&x(b,g,{vals:g.line.color,containerStr:"line",cLetter:"c"}),t.hasMarkers(g)&&(v(g,"marker")&&x(b,g,{vals:g.marker.color,containerStr:"marker",cLetter:"c"}),v(g,"marker.line")&&x(b,g,{vals:g.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},88200:function(O){O.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},96664:function(O,S,e){var v=e(16356),x=e(96376).setGroupPositions;function t(b,g,c,s,n,i,a){n[s]=!0;var r={i:null,gap:!0,s:0};if(r[a]=c,b.splice(g,0,r),g&&c===b[g-1][a]){var o=b[g-1];r.s=o.s,r.i=o.i,r.gap=o.gap}else i&&(r.s=function(l,u,h,f){var T=l[u-1],d=l[u+1];return d?T?T.s+(d.s-T.s)*(h-T[f])/(d[f]-T[f]):d.s:T.s}(b,g,c,a));g||(b[0].t=b[1].t,b[0].trace=b[1].trace,delete b[1].t,delete b[1].trace)}O.exports=function(b,g){b._fullLayout.scattermode==="group"&&function(H,G){for(var ie=G.xaxis,re=G.yaxis,te=H._fullLayout,K=H._fullData,J=H.calcdata,$=[],ae=[],ue=0;ue<K.length;ue++){var ce=K[ue];ce.visible===!0&&ce.type==="scatter"&&ce.xaxis===ie._id&&ce.yaxis===re._id&&(ce.orientation==="h"?$.push(J[ue]):ce.orientation==="v"&&ae.push(J[ue]))}var de={mode:te.scattermode,gap:te.scattergap};x(H,ie,re,ae,de),x(H,re,ie,$,de)}(b,g);var c=g.xaxis,s=g.yaxis,n=c._id+s._id,i=b._fullLayout._scatterStackOpts[n];if(i){var a,r,o,l,u,h,f,T,d,y,m,w,_,A,p,L=b.calcdata;for(var M in i){var C=(y=i[M]).traceIndices;if(C.length){for(m=y.stackgaps==="interpolate",w=y.groupnorm,y.orientation==="v"?(_="x",A="y"):(_="y",A="x"),p=new Array(C.length),a=0;a<p.length;a++)p[a]=!1;h=L[C[0]];var R=new Array(h.length);for(a=0;a<h.length;a++)R[a]=h[a][_];for(a=1;a<C.length;a++){for(u=L[C[a]],r=o=0;r<u.length;r++){for(f=u[r][_];f>R[o]&&o<R.length;o++)t(u,r,R[o],a,p,m,_),r++;if(f!==R[o]){for(l=0;l<a;l++)t(L[C[l]],o,f,l,p,m,_);R.splice(o,0,f)}o++}for(;o<R.length;o++)t(u,r,R[o],a,p,m,_),r++}var I=R.length;for(r=0;r<h.length;r++){for(T=h[r][A]=h[r].s,a=1;a<C.length;a++)(u=L[C[a]])[0].trace._rawLength=u[0].trace._length,u[0].trace._length=I,T+=u[r].s,u[r][A]=T;if(w)for(d=(w==="fraction"?T:T/100)||1,a=0;a<C.length;a++){var D=L[C[a]][r];D[A]/=d,D.sNorm=D.s/d}}for(a=0;a<C.length;a++){var F=(u=L[C[a]])[0].trace,q=v.calcMarkerSize(F,F._rawLength),z=Array.isArray(q);if(q&&p[a]||z){var V=q;for(q=new Array(I),r=0;r<I;r++)q[r]=u[r].gap?0:z?V[u[r].i]:V}var X=new Array(I),j=new Array(I);for(r=0;r<I;r++)X[r]=u[r].x,j[r]=u[r].y;v.calcAxisExpansion(b,F,c,s,X,j,q),u[0].t.orientation=y.orientation}}}}}},35036:function(O,S,e){var v=e(3400),x=e(20011),t=e(52904);O.exports=function(b,g){var c,s,n;function i(u){return v.coerce(s._input,s,t,u)}if(g.scattermode==="group")for(n=0;n<b.length;n++)(s=b[n]).type==="scatter"&&(c=s._input,x(c,s,g,i));for(n=0;n<b.length;n++){var a=b[n];if(a.type==="scatter"){var r=a.fill;if(r!=="none"&&r!=="toself"&&(a.opacity=void 0,r==="tonexty"||r==="tonextx"))for(var o=n-1;o>=0;o--){var l=b[o];if(l.type==="scatter"&&l.xaxis===a.xaxis&&l.yaxis===a.yaxis){l.opacity=void 0;break}}}}}},18800:function(O,S,e){var v=e(3400),x=e(24040),t=e(52904),b=e(88200),g=e(43028),c=e(43980),s=e(31147),n=e(43912),i=e(74428),a=e(66828),r=e(11731),o=e(124),l=e(70840),u=e(3400).coercePattern;O.exports=function(h,f,T,d){function y(C,R){return v.coerce(h,f,t,C,R)}var m=c(h,f,d,y);if(m||(f.visible=!1),f.visible){s(h,f,d,y),y("xhoverformat"),y("yhoverformat"),y("zorder");var w=n(h,f,d,y);d.scattermode==="group"&&f.orientation===void 0&&y("orientation","v");var _=!w&&m<b.PTS_LINESONLY?"lines+markers":"lines";y("text"),y("hovertext"),y("mode",_),g.hasMarkers(f)&&i(h,f,T,d,y,{gradient:!0}),g.hasLines(f)&&(a(h,f,T,d,y,{backoff:!0}),r(h,f,y),y("connectgaps"),y("line.simplify")),g.hasText(f)&&(y("texttemplate"),o(h,f,d,y));var A=[];(g.hasMarkers(f)||g.hasText(f))&&(y("cliponaxis"),y("marker.maxdisplayed"),A.push("points")),y("fill",w?w.fillDflt:"none"),f.fill!=="none"&&(l(h,f,T,y,{moduleHasFillgradient:!0}),g.hasLines(f)||r(h,f,y),u(y,"fillpattern",f.fillcolor,!1));var p=(f.line||{}).color,L=(f.marker||{}).color;f.fill!=="tonext"&&f.fill!=="toself"||A.push("fills"),y("hoveron",A.join("+")||"points"),f.hoveron!=="fills"&&y("hovertemplate");var M=x.getComponentMethod("errorbars","supplyDefaults");M(h,f,p||L||T,{axis:"y"}),M(h,f,p||L||T,{axis:"x",inherit:"y"}),v.coerceSelectionMarkerOpacity(f,y)}}},98304:function(O){O.exports=function(S){return{valType:"color",editType:"style",anim:!0}}},70840:function(O,S,e){var v=e(76308),x=e(3400).isArrayOrTypedArray;O.exports=function(t,b,g,c,s){s||(s={});var n,i=!1;if(b.marker){var a=b.marker.color,r=(b.marker.line||{}).color;a&&!x(a)?i=a:r&&!x(r)&&(i=r)}if(s.moduleHasFillgradient&&c("fillgradient.type")!=="none"){c("fillgradient.start"),c("fillgradient.stop");var o=c("fillgradient.colorscale");o&&(n=function(l){for(var u=v.interpolate(l[0][1],l[1][1],.5),h=2;h<l.length;h++){var f=v.interpolate(l[h-1][1],l[h][1],.5);u=v.interpolate(u,f,l[h-1][0]/l[h][0])}return u}(o))}c("fillcolor",v.addOpacity((b.line||{}).color||i||n||g,.5))}},76688:function(O,S,e){var v=e(54460);O.exports=function(x,t,b){var g={},c={_fullLayout:b},s=v.getFromTrace(c,t,"x"),n=v.getFromTrace(c,t,"y"),i=x.orig_x;i===void 0&&(i=x.x);var a=x.orig_y;return a===void 0&&(a=x.y),g.xLabel=v.tickText(s,s.c2l(i),!0).text,g.yLabel=v.tickText(n,n.c2l(a),!0).text,g}},44928:function(O,S,e){var v=e(76308),x=e(43028);O.exports=function(t,b){var g,c;if(t.mode==="lines")return(g=t.line.color)&&v.opacity(g)?g:t.fillcolor;if(t.mode==="none")return t.fill?t.fillcolor:"";var s=b.mcc||(t.marker||{}).color,n=b.mlcc||((t.marker||{}).line||{}).color;return(c=s&&v.opacity(s)?s:n&&v.opacity(n)&&(b.mlw||((t.marker||{}).line||{}).width)?n:"")?v.opacity(c)<.3?v.addOpacity(c,.3):c:(g=(t.line||{}).color)&&v.opacity(g)&&x.hasLines(t)&&t.line.width?g:t.fillcolor}},20011:function(O,S,e){var v=e(71888).getAxisGroup;O.exports=function(x,t,b,g){var c=t.orientation,s=t[{v:"x",h:"y"}[c]+"axis"],n=v(b,s)+c,i=b._alignmentOpts||{},a=g("alignmentgroup"),r=i[n];r||(r=i[n]={});var o=r[a];o?o.traces.push(t):o=r[a]={traces:[t],alignmentIndex:Object.keys(r).length,offsetGroups:{}};var l=g("offsetgroup"),u=o.offsetGroups,h=u[l];l&&(h||(h=u[l]={offsetIndex:Object.keys(u).length}),t._offsetIndex=h.offsetIndex)}},98723:function(O,S,e){var v=e(3400),x=e(93024),t=e(24040),b=e(44928),g=e(76308),c=v.fillText;O.exports=function(s,n,i,a){var r=s.cd,o=r[0].trace,l=s.xa,u=s.ya,h=l.c2p(n),f=u.c2p(i),T=[h,f],d=o.hoveron||"",y=o.mode.indexOf("markers")!==-1?3:.5,m=!!o.xperiodalignment,w=!!o.yperiodalignment;if(d.indexOf("points")!==-1){var _=function(X){var j=Math.max(y,X.mrc||0),H=l.c2p(X.x)-h,G=u.c2p(X.y)-f;return Math.max(Math.sqrt(H*H+G*G)-j,1-y/j)},A=x.getDistanceFunction(a,function(X){if(m){var j=l.c2p(X.xStart),H=l.c2p(X.xEnd);return h>=Math.min(j,H)&&h<=Math.max(j,H)?0:1/0}var G=Math.max(3,X.mrc||0),ie=1-1/G,re=Math.abs(l.c2p(X.x)-h);return re<G?ie*re/G:re-G+ie},function(X){if(w){var j=u.c2p(X.yStart),H=u.c2p(X.yEnd);return f>=Math.min(j,H)&&f<=Math.max(j,H)?0:1/0}var G=Math.max(3,X.mrc||0),ie=1-1/G,re=Math.abs(u.c2p(X.y)-f);return re<G?ie*re/G:re-G+ie},_);if(x.getClosest(r,A,s),s.index!==!1){var p=r[s.index],L=l.c2p(p.x,!0),M=u.c2p(p.y,!0),C=p.mrc||1;s.index=p.i;var R=r[0].t.orientation,I=R&&(p.sNorm||p.s),D=R==="h"?I:p.orig_x!==void 0?p.orig_x:p.x,F=R==="v"?I:p.orig_y!==void 0?p.orig_y:p.y;return v.extendFlat(s,{color:b(o,p),x0:L-C,x1:L+C,xLabelVal:D,y0:M-C,y1:M+C,yLabelVal:F,spikeDistance:_(p),hovertemplate:o.hovertemplate}),c(p,o,s),t.getComponentMethod("errorbars","hoverInfo")(p,o,s),[s]}}function q(X){if(!X)return!1;var j=X.node();try{var H=new DOMPoint(T[0],T[1]);return j.isPointInFill(H)}catch{var G=j.ownerSVGElement.createSVGPoint();return G.x=T[0],G.y=T[1],j.isPointInFill(G)}}if(d.indexOf("fills")!==-1&&o._fillElement&&q(o._fillElement)&&!q(o._fillExclusionElement)){var z=function(X){var j,H,G,ie,re,te,K,J,$,ae=[],ue=1/0,ce=-1/0,de=1/0,pe=-1/0;for(j=0;j<X.length;j++){var me=X[j];me.contains(T)&&(ae.push(me),de=Math.min(de,me.ymin),pe=Math.max(pe,me.ymax))}if(ae.length===0)return null;for(H=((de=Math.max(de,0))+(pe=Math.min(pe,u._length)))/2,j=0;j<ae.length;j++)for(ie=ae[j].pts,G=1;G<ie.length;G++)(J=ie[G-1][1])>H!=($=ie[G][1])>=H&&(te=ie[G-1][0],K=ie[G][0],$-J&&(re=te+(K-te)*(H-J)/($-J),ue=Math.min(ue,re),ce=Math.max(ce,re)));return{x0:ue=Math.max(ue,0),x1:ce=Math.min(ce,l._length),y0:H,y1:H}}(o._polygons);z===null&&(z={x0:T[0],x1:T[0],y0:T[1],y1:T[1]});var V=g.defaultLine;return g.opacity(o.fillcolor)?V=o.fillcolor:g.opacity((o.line||{}).color)&&(V=o.line.color),v.extendFlat(s,{distance:s.maxHoverDistance,x0:z.x0,x1:z.x1,y0:z.y0,y1:z.y1,color:V,hovertemplate:!1}),delete s.index,o.text&&!v.isArrayOrTypedArray(o.text)?s.text=String(o.text):s.text=o.name,[s]}}},65875:function(O,S,e){var v=e(43028);O.exports={hasLines:v.hasLines,hasMarkers:v.hasMarkers,hasText:v.hasText,isBubble:v.isBubble,attributes:e(52904),layoutAttributes:e(55308),supplyDefaults:e(18800),crossTraceDefaults:e(35036),supplyLayoutDefaults:e(59748),calc:e(16356).calc,crossTraceCalc:e(96664),arraysToCalcdata:e(20148),plot:e(96504),colorbar:e(5528),formatLabels:e(76688),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(98723),selectPoints:e(91560),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(57952),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},55308:function(O){O.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},59748:function(O,S,e){var v=e(3400),x=e(55308);O.exports=function(t,b){var g,c=b.barmode==="group";b.scattermode==="group"&&(g=c?b.bargap:.2,v.coerce(t,b,x,"scattergap",g))}},66828:function(O,S,e){var v=e(3400).isArrayOrTypedArray,x=e(94288).hasColorscale,t=e(27260);O.exports=function(b,g,c,s,n,i){i||(i={});var a=(b.marker||{}).color;a&&a._inputArray&&(a=a._inputArray),n("line.color",c),x(b,"line")?t(b,g,s,n,{prefix:"line.",cLetter:"c"}):n("line.color",!v(a)&&a||c),n("line.width"),i.noDash||n("line.dash"),i.backoff&&n("line.backoff")}},52340:function(O,S,e){var v=e(43616),x=e(39032),t=x.BADNUM,b=x.LOG_CLIP,g=b+.5,c=b-.5,s=e(3400),n=s.segmentsIntersect,i=s.constrain,a=e(88200);O.exports=function(r,o){var l,u,h,f,T,d,y,m,w,_,A,p,L,M,C,R,I,D,F=o.trace||{},q=o.xaxis,z=o.yaxis,V=q.type==="log",X=z.type==="log",j=q._length,H=z._length,G=o.backoff,ie=F.marker,re=o.connectGaps,te=o.baseTolerance,K=o.shape,J=K==="linear",$=F.fill&&F.fill!=="none",ae=[],ue=a.minTolerance,ce=r.length,de=new Array(ce),pe=0;function me(Pt){var Ze=r[Pt];if(!Ze)return!1;var Je=o.linearized?q.l2p(Ze.x):q.c2p(Ze.x),qe=o.linearized?z.l2p(Ze.y):z.c2p(Ze.y);if(Je===t){if(V&&(Je=q.c2p(Ze.x,!0)),Je===t)return!1;X&&qe===t&&(Je*=Math.abs(q._m*H*(q._m>0?g:c)/(z._m*j*(z._m>0?g:c)))),Je*=1e3}if(qe===t){if(X&&(qe=z.c2p(Ze.y,!0)),qe===t)return!1;qe*=1e3}return[Je,qe]}function be(Pt,Ze,Je,qe){var Ke=Je-Pt,ft=qe-Ze,ot=.5-Pt,Ue=.5-Ze,Ve=Ke*Ke+ft*ft,st=Ke*ot+ft*Ue;if(st>0&&st<Ve){var Xe=ot*ft-Ue*Ke;if(Xe*Xe<Ve)return!0}}function we(Pt,Ze){var Je=Pt[0]/j,qe=Pt[1]/H,Ke=Math.max(0,-Je,Je-1,-qe,qe-1);return Ke&&I!==void 0&&be(Je,qe,I,D)&&(Ke=0),Ke&&Ze&&be(Je,qe,Ze[0]/j,Ze[1]/H)&&(Ke=0),(1+a.toleranceGrowth*Ke)*te}function Te(Pt,Ze){var Je=Pt[0]-Ze[0],qe=Pt[1]-Ze[1];return Math.sqrt(Je*Je+qe*qe)}var Le,Ie,_e,fe,le,ye,Oe,Ae=a.maxScreensAway,Se=-j*Ae,Pe=j*(1+Ae),Fe=-H*Ae,Be=H*(1+Ae),xe=[[Se,Fe,Pe,Fe],[Pe,Fe,Pe,Be],[Pe,Be,Se,Be],[Se,Be,Se,Fe]];function Me(Pt){if(Pt[0]<Se||Pt[0]>Pe||Pt[1]<Fe||Pt[1]>Be)return[i(Pt[0],Se,Pe),i(Pt[1],Fe,Be)]}function Ce(Pt,Ze){return Pt[0]===Ze[0]&&(Pt[0]===Se||Pt[0]===Pe)||Pt[1]===Ze[1]&&(Pt[1]===Fe||Pt[1]===Be)||void 0}function Ne(Pt,Ze,Je){return function(qe,Ke){var ft=Me(qe),ot=Me(Ke),Ue=[];if(ft&&ot&&Ce(ft,ot))return Ue;ft&&Ue.push(ft),ot&&Ue.push(ot);var Ve=2*s.constrain((qe[Pt]+Ke[Pt])/2,Ze,Je)-((ft||qe)[Pt]+(ot||Ke)[Pt]);return Ve&&((ft&&ot?Ve>0==ft[Pt]>ot[Pt]?ft:ot:ft||ot)[Pt]+=Ve),Ue}}function Re(Pt){var Ze=Pt[0],Je=Pt[1],qe=Ze===de[pe-1][0],Ke=Je===de[pe-1][1];if(!qe||!Ke)if(pe>1){var ft=Ze===de[pe-2][0],ot=Je===de[pe-2][1];qe&&(Ze===Se||Ze===Pe)&&ft?ot?pe--:de[pe-1]=Pt:Ke&&(Je===Fe||Je===Be)&&ot?ft?pe--:de[pe-1]=Pt:de[pe++]=Pt}else de[pe++]=Pt}function He(Pt){de[pe-1][0]!==Pt[0]&&de[pe-1][1]!==Pt[1]&&Re([_e,fe]),Re(Pt),le=null,_e=fe=0}K==="linear"||K==="spline"?Oe=function(Pt,Ze){for(var Je=[],qe=0,Ke=0;Ke<4;Ke++){var ft=xe[Ke],ot=n(Pt[0],Pt[1],Ze[0],Ze[1],ft[0],ft[1],ft[2],ft[3]);ot&&(!qe||Math.abs(ot.x-Je[0][0])>1||Math.abs(ot.y-Je[0][1])>1)&&(ot=[ot.x,ot.y],qe&&Te(ot,Pt)<Te(Je[0],Pt)?Je.unshift(ot):Je.push(ot),qe++)}return Je}:K==="hv"||K==="vh"?Oe=function(Pt,Ze){var Je=[],qe=Me(Pt),Ke=Me(Ze);return qe&&Ke&&Ce(qe,Ke)||(qe&&Je.push(qe),Ke&&Je.push(Ke)),Je}:K==="hvh"?Oe=Ne(0,Se,Pe):K==="vhv"&&(Oe=Ne(1,Fe,Be));var Ye=s.isArrayOrTypedArray(ie);function Qe(Pt){if(Pt&&G&&(Pt.i=l,Pt.d=r,Pt.trace=F,Pt.marker=Ye?ie[Pt.i]:ie,Pt.backoff=G),I=Pt[0]/j,D=Pt[1]/H,Le=Pt[0]<Se?Se:Pt[0]>Pe?Pe:0,Ie=Pt[1]<Fe?Fe:Pt[1]>Be?Be:0,Le||Ie){if(pe)if(le){var Ze=Oe(le,Pt);Ze.length>1&&(He(Ze[0]),de[pe++]=Ze[1])}else ye=Oe(de[pe-1],Pt)[0],de[pe++]=ye;else de[pe++]=[Le||Pt[0],Ie||Pt[1]];var Je=de[pe-1];Le&&Ie&&(Je[0]!==Le||Je[1]!==Ie)?(le&&(_e!==Le&&fe!==Ie?Re(_e&&fe?(qe=le,ft=(Ke=Pt)[0]-qe[0],ot=(Ke[1]-qe[1])/ft,(qe[1]*Ke[0]-Ke[1]*qe[0])/ft>0?[ot>0?Se:Pe,Be]:[ot>0?Pe:Se,Fe]):[_e||Le,fe||Ie]):_e&&fe&&Re([_e,fe])),Re([Le,Ie])):_e-Le&&fe-Ie&&Re([Le||_e,Ie||fe]),le=Pt,_e=Le,fe=Ie}else le&&He(Oe(le,Pt)[0]),de[pe++]=Pt;var qe,Ke,ft,ot}for(l=0;l<ce;l++)if(u=me(l)){for(pe=0,le=null,Qe(u),l++;l<ce;l++){if(!(f=me(l))){if(re)continue;break}if(J&&o.simplify){var lt=me(l+1);if(_=Te(f,u),$&&(pe===0||pe===ce-1)||!(_<we(f,lt)*ue)){for(m=[(f[0]-u[0])/_,(f[1]-u[1])/_],T=u,A=_,p=M=C=0,y=!1,h=f,l++;l<r.length;l++){if(d=lt,lt=me(l+1),!d){if(re)continue;break}if(R=(w=[d[0]-u[0],d[1]-u[1]])[0]*m[1]-w[1]*m[0],M=Math.min(M,R),(C=Math.max(C,R))-M>we(d,lt))break;h=d,(L=w[0]*m[0]+w[1]*m[1])>A?(A=L,f=d,y=!1):L<p&&(p=L,T=d,y=!0)}if(y?(Qe(f),h!==T&&Qe(T)):(T!==u&&Qe(T),h!==f&&Qe(f)),Qe(h),l>=r.length||!d)break;Qe(d),u=d}}else Qe(f)}le&&Re([_e||le[0],fe||le[1]]),ae.push(de.slice(0,pe))}var ut=K.slice(K.length-1);if(G&&ut!=="h"&&ut!=="v"){for(var xt=!1,_t=-1,mt=[],it=0;it<ae.length;it++)for(var nt=0;nt<ae[it].length-1;nt++){var Et=ae[it][nt],zt=ae[it][nt+1],Ft=v.applyBackoff(zt,Et);Ft[0]===zt[0]&&Ft[1]===zt[1]||(xt=!0),mt[_t+1]||(mt[++_t]=[Et,[Ft[0],Ft[1]]])}return xt?mt:ae}return ae}},11731:function(O){O.exports=function(S,e,v){v("line.shape")==="spline"&&v("line.smoothing")}},14328:function(O){var S={tonextx:1,tonexty:1,tonext:1};O.exports=function(e,v,x){var t,b,g,c,s,n={},i=!1,a=-1,r=0,o=-1;for(b=0;b<x.length;b++)(g=(t=x[b][0].trace).stackgroup||"")?g in n?s=n[g]:(s=n[g]=r,r++):t.fill in S&&o>=0?s=o:(s=o=r,r++),s<a&&(i=!0),t._groupIndex=a=s;var l=x.slice();i&&l.sort(function(h,f){var T=h[0].trace,d=f[0].trace;return T._groupIndex-d._groupIndex||T.index-d.index});var u={};for(b=0;b<l.length;b++)g=(t=l[b][0].trace).stackgroup||"",t.visible===!0?(t._nexttrace=null,t.fill in S&&(c=u[g],t._prevtrace=c||null,c&&(c._nexttrace=t)),t._ownfill=t.fill&&(t.fill.substr(0,6)==="tozero"||t.fill==="toself"||t.fill.substr(0,2)==="to"&&!t._prevtrace),u[g]=t):t._prevtrace=t._nexttrace=t._ownfill=null;return l}},7152:function(O,S,e){var v=e(38248);O.exports=function(x,t){t||(t=2);var b=x.marker,g=b.sizeref||1,c=b.sizemin||0,s=b.sizemode==="area"?function(n){return Math.sqrt(n/g)}:function(n){return n/g};return function(n){var i=s(n/t);return v(i)&&i>0?Math.max(i,c):0}}},5528:function(O){O.exports={container:"marker",min:"cmin",max:"cmax"}},74428:function(O,S,e){var v=e(76308),x=e(94288).hasColorscale,t=e(27260),b=e(43028);O.exports=function(g,c,s,n,i,a){var r=b.isBubble(g),o=(g.line||{}).color;a=a||{},o&&(s=o),i("marker.symbol"),i("marker.opacity",r?.7:1),i("marker.size"),a.noAngle||(i("marker.angle"),a.noAngleRef||i("marker.angleref"),a.noStandOff||i("marker.standoff")),i("marker.color",s),x(g,"marker")&&t(g,c,n,i,{prefix:"marker.",cLetter:"c"}),a.noSelect||(i("selected.marker.color"),i("unselected.marker.color"),i("selected.marker.size"),i("unselected.marker.size")),a.noLine||(i("marker.line.color",o&&!Array.isArray(o)&&c.marker.color!==o?o:r?v.background:v.defaultLine),x(g,"marker.line")&&t(g,c,n,i,{prefix:"marker.line.",cLetter:"c"}),i("marker.line.width",r?1:0)),r&&(i("marker.sizeref"),i("marker.sizemin"),i("marker.sizemode")),a.gradient&&i("marker.gradient.type")!=="none"&&i("marker.gradient.color")}},31147:function(O,S,e){var v=e(3400).dateTick0,x=e(39032).ONEWEEK;function t(b,g){return v(g,b%x==0?1:0)}O.exports=function(b,g,c,s,n){if(n||(n={x:!0,y:!0}),n.x){var i=s("xperiod");i&&(s("xperiod0",t(i,g.xcalendar)),s("xperiodalignment"))}if(n.y){var a=s("yperiod");a&&(s("yperiod0",t(a,g.ycalendar)),s("yperiodalignment"))}}},96504:function(O,S,e){var v=e(33428),x=e(24040),t=e(3400),b=t.ensureSingle,g=t.identity,c=e(43616),s=e(43028),n=e(52340),i=e(14328),a=e(92065).tester;function r(o,l,u,h,f,T,d){var y,m=o._context.staticPlot;(function(Re,He,Ye,Qe,lt){var ut=Ye.xaxis,xt=Ye.yaxis,_t=v.extent(t.simpleMap(ut.range,ut.r2c)),mt=v.extent(t.simpleMap(xt.range,xt.r2c)),it=Qe[0].trace;if(s.hasMarkers(it)){var nt=it.marker.maxdisplayed;if(nt!==0){var Et=Qe.filter(function(Ze){return Ze.x>=_t[0]&&Ze.x<=_t[1]&&Ze.y>=mt[0]&&Ze.y<=mt[1]}),zt=Math.ceil(Et.length/nt),Ft=0;lt.forEach(function(Ze,Je){var qe=Ze[0].trace;s.hasMarkers(qe)&&qe.marker.maxdisplayed>0&&Je<He&&Ft++});var Pt=Math.round(Ft*zt/3+Math.floor(Ft/3)*zt/7.1);Qe.forEach(function(Ze){delete Ze.vis}),Et.forEach(function(Ze,Je){Math.round((Je+Pt)%zt)===0&&(Ze.vis=!0)})}}})(0,l,u,h,f);var w=!!d&&d.duration>0;function _(Re){return w?Re.transition():Re}var A=u.xaxis,p=u.yaxis,L=h[0].trace,M=L.line,C=v.select(T),R=b(C,"g","errorbars"),I=b(C,"g","lines"),D=b(C,"g","points"),F=b(C,"g","text");if(x.getComponentMethod("errorbars","plot")(o,R,u,d),L.visible===!0){var q,z;_(C).style("opacity",L.opacity);var V,X,j=L.fill.charAt(L.fill.length-1);j!=="x"&&j!=="y"&&(j=""),j==="y"?(V=1,X=p.c2p(0,!0)):j==="x"&&(V=0,X=A.c2p(0,!0)),h[0][u.isRangePlot?"nodeRangePlot3":"node3"]=C;var H,G,ie="",re=[],te=L._prevtrace,K=null,J=null;te&&(ie=te._prevRevpath||"",z=te._nextFill,re=te._ownPolygons,K=te._fillsegments,J=te._fillElement);var $,ae,ue,ce,de,pe,me="",be="",we=[];L._polygons=[];var Te=[],Le=[],Ie=t.noop;if(q=L._ownFill,s.hasLines(L)||L.fill!=="none"){z&&z.datum(h),["hv","vh","hvh","vhv"].indexOf(M.shape)!==-1?($=c.steps(M.shape),ae=c.steps(M.shape.split("").reverse().join(""))):$=ae=M.shape==="spline"?function(Re){var He=Re[Re.length-1];return Re.length>1&&Re[0][0]===He[0]&&Re[0][1]===He[1]?c.smoothclosed(Re.slice(1),M.smoothing):c.smoothopen(Re,M.smoothing)}:function(Re){return"M"+Re.join("L")},ue=function(Re){return ae(Re.reverse())},Le=n(h,{xaxis:A,yaxis:p,trace:L,connectGaps:L.connectgaps,baseTolerance:Math.max(M.width||1,3)/4,shape:M.shape,backoff:M.backoff,simplify:M.simplify,fill:L.fill}),Te=new Array(Le.length);var _e=0;for(y=0;y<Le.length;y++){var fe,le=Le[y];fe&&j?fe.push.apply(fe,le):(fe=le.slice(),Te[_e]=fe,_e++)}L._fillElement=null,L._fillExclusionElement=J,L._fillsegments=Te.slice(0,_e),Te=L._fillsegments,Le.length&&(ce=Le[0][0].slice(),pe=(de=Le[Le.length-1])[de.length-1].slice()),Ie=function(Re){return function(He){if(H=$(He),G=ue(He),me?j?(me+="L"+H.substr(1),be=G+"L"+be.substr(1)):(me+="Z"+H,be=G+"Z"+be):(me=H,be=G),s.hasLines(L)){var Ye=v.select(this);if(Ye.datum(h),Re)_(Ye.style("opacity",0).attr("d",H).call(c.lineGroupStyle)).style("opacity",1);else{var Qe=_(Ye);Qe.attr("d",H),c.singleLineStyle(h,Qe)}}}}}var ye=I.selectAll(".js-line").data(Le);_(ye.exit()).style("opacity",0).remove(),ye.each(Ie(!1)),ye.enter().append("path").classed("js-line",!0).style("vector-effect",m?"none":"non-scaling-stroke").call(c.lineGroupStyle).each(Ie(!0)),c.setClipUrl(ye,u.layerClipId,o);var Oe=function(){var Re=new Array(Te.length);for(y=0;y<Te.length;y++)Re[y]=a(Te[y]);return Re},Ae=function(Re){var He,Ye;if(Re&&Re.length!==0){for(He=new Array(Re.length-1+Te.length),Ye=0;Ye<Re.length-1;Ye++)He[Ye]=a(Re[Ye]);var Qe=Re[Re.length-1].slice();for(Qe.reverse(),Ye=0;Ye<Te.length;Ye++)He[Re.length-1+Ye]=a(Te[Ye].concat(Qe))}else for(He=new Array(Te.length),Ye=0;Ye<Te.length;Ye++){var lt=Te[Ye][0].slice(),ut=Te[Ye][Te[Ye].length-1].slice();lt[V]=ut[V]=X;var xt=[ut,lt].concat(Te[Ye]);He[Ye]=a(xt)}return He};Le.length?(q?(q.datum(h),ce&&pe&&(j?(ce[V]=pe[V]=X,_(q).attr("d","M"+pe+"L"+ce+"L"+me.substr(1)).call(c.singleFillStyle,o),we=Ae(null)):(_(q).attr("d",me+"Z").call(c.singleFillStyle,o),we=Oe())),L._polygons=we,L._fillElement=q):z&&(L.fill.substr(0,6)==="tonext"&&me&&ie?(L.fill==="tonext"?(_(z).attr("d",me+"Z"+ie+"Z").call(c.singleFillStyle,o),we=Oe(),L._polygons=we.concat(re)):(_(z).attr("d",me+"L"+ie.substr(1)+"Z").call(c.singleFillStyle,o),we=Ae(K),L._polygons=we),L._fillElement=z):Pe(z)),L._prevRevpath=be):(q?Pe(q):z&&Pe(z),L._prevRevpath=null),L._ownPolygons=we,D.datum(h),F.datum(h),function(Re,He,Ye){var Qe,lt=Ye[0].trace,ut=s.hasMarkers(lt),xt=s.hasText(lt),_t=Ce(lt),mt=Ne,it=Ne;if(ut||xt){var nt=g,Et=lt.stackgroup,zt=Et&&o._fullLayout._scatterStackOpts[A._id+p._id][Et].stackgaps==="infer zero";lt.marker.maxdisplayed||lt._needsCull?nt=zt?Be:Fe:Et&&!zt&&(nt=xe),ut&&(mt=nt),xt&&(it=nt)}var Ft,Pt=(Qe=Re.selectAll("path.point").data(mt,_t)).enter().append("path").classed("point",!0);w&&Pt.call(c.pointStyle,lt,o).call(c.translatePoints,A,p).style("opacity",0).transition().style("opacity",1),Qe.order(),ut&&(Ft=c.makePointStyleFns(lt)),Qe.each(function(Ze){var Je=v.select(this),qe=_(Je);c.translatePoint(Ze,qe,A,p)?(c.singlePointStyle(Ze,qe,lt,Ft,o),u.layerClipId&&c.hideOutsideRangePoint(Ze,qe,A,p,lt.xcalendar,lt.ycalendar),lt.customdata&&Je.classed("plotly-customdata",Ze.data!==null&&Ze.data!==void 0)):qe.remove()}),w?Qe.exit().transition().style("opacity",0).remove():Qe.exit().remove(),(Qe=He.selectAll("g").data(it,_t)).enter().append("g").classed("textpoint",!0).append("text"),Qe.order(),Qe.each(function(Ze){var Je=v.select(this),qe=_(Je.select("text"));c.translatePoint(Ze,qe,A,p)?u.layerClipId&&c.hideOutsideRangePoint(Ze,Je,A,p,lt.xcalendar,lt.ycalendar):Je.remove()}),Qe.selectAll("text").call(c.textPointStyle,lt,o).each(function(Ze){var Je=A.c2p(Ze.x),qe=p.c2p(Ze.y);v.select(this).selectAll("tspan.line").each(function(){_(v.select(this)).attr({x:Je,y:qe})})}),Qe.exit().remove()}(D,F,h);var Se=L.cliponaxis===!1?null:u.layerClipId;c.setClipUrl(D,Se,o),c.setClipUrl(F,Se,o)}function Pe(Re){_(Re).attr("d","M0,0Z")}function Fe(Re){return Re.filter(function(He){return!He.gap&&He.vis})}function Be(Re){return Re.filter(function(He){return He.vis})}function xe(Re){return Re.filter(function(He){return!He.gap})}function Me(Re){return Re.id}function Ce(Re){if(Re.ids)return Me}function Ne(){return!1}}O.exports=function(o,l,u,h,f,T){var d,y,m=!f,w=!!f&&f.duration>0,_=i(o,l,u);(d=h.selectAll("g.trace").data(_,function(A){return A[0].trace.uid})).enter().append("g").attr("class",function(A){return"trace scatter trace"+A[0].trace.uid}).style("stroke-miterlimit",2),d.order(),function(A,p,L){p.each(function(M){var C=b(v.select(this),"g","fills");c.setClipUrl(C,L.layerClipId,A);var R=M[0].trace,I=[];R._ownfill&&I.push("_ownFill"),R._nexttrace&&I.push("_nextFill");var D=C.selectAll("g").data(I,g);D.enter().append("g"),D.exit().each(function(F){R[F]=null}).remove(),D.order().each(function(F){R[F]=b(v.select(this),"path","js-fill")})})}(o,d,l),w?(T&&(y=T()),v.transition().duration(f.duration).ease(f.easing).each("end",function(){y&&y()}).each("interrupt",function(){y&&y()}).each(function(){h.selectAll("g.trace").each(function(A,p){r(o,p,l,A,_,this,f)})})):d.each(function(A,p){r(o,p,l,A,_,this,f)}),m&&d.exit().remove(),h.selectAll("path:not([d])").remove()}},91560:function(O,S,e){var v=e(43028);O.exports=function(x,t){var b,g,c,s,n=x.cd,i=x.xaxis,a=x.yaxis,r=[],o=n[0].trace;if(!v.hasMarkers(o)&&!v.hasText(o))return[];if(t===!1)for(b=0;b<n.length;b++)n[b].selected=0;else for(b=0;b<n.length;b++)g=n[b],c=i.c2p(g.x),s=a.c2p(g.y),g.i!==null&&t.contains([c,s],!1,b,x)?(r.push({pointNumber:g.i,x:i.c2d(g.x),y:a.c2d(g.y)}),g.selected=1):g.selected=0;return r}},43912:function(O){var S=["orientation","groupnorm","stackgaps"];O.exports=function(e,v,x,t){var b=x._scatterStackOpts,g=t("stackgroup");if(g){var c=v.xaxis+v.yaxis,s=b[c];s||(s=b[c]={});var n=s[g],i=!1;n?n.traces.push(v):(n=s[g]={traceIndices:[],traces:[v]},i=!0);for(var a={orientation:v.x&&!v.y?"h":"v"},r=0;r<S.length;r++){var o=S[r],l=o+"Found";if(!n[l]){var u=e[o]!==void 0,h=o==="orientation";if((u||i)&&(n[o]=t(o,a[o]),h&&(n.fillDflt=n[o]==="h"?"tonextx":"tonexty"),u&&(n[l]=!0,!i&&(delete n.traces[0][o],h))))for(var f=0;f<n.traces.length-1;f++){var T=n.traces[f];T._input.fill!==T.fill&&(T.fill=n.fillDflt)}}}return n}}},49224:function(O,S,e){var v=e(33428),x=e(43616),t=e(24040);function b(c,s,n){x.pointStyle(c.selectAll("path.point"),s,n)}function g(c,s,n){x.textPointStyle(c.selectAll("text"),s,n)}O.exports={style:function(c){var s=v.select(c).selectAll("g.trace.scatter");s.style("opacity",function(n){return n[0].trace.opacity}),s.selectAll("g.points").each(function(n){b(v.select(this),n.trace||n[0].trace,c)}),s.selectAll("g.text").each(function(n){g(v.select(this),n.trace||n[0].trace,c)}),s.selectAll("g.trace path.js-line").call(x.lineGroupStyle),s.selectAll("g.trace path.js-fill").call(x.fillGroupStyle,c,!1),t.getComponentMethod("errorbars","style")(s)},stylePoints:b,styleText:g,styleOnSelect:function(c,s,n){var i=s[0].trace;i.selectedpoints?(x.selectedPointStyle(n.selectAll("path.point"),i),x.selectedTextStyle(n.selectAll("text"),i)):(b(n,i,c),g(n,i,c))}}},43028:function(O,S,e){var v=e(3400),x=e(38116).isTypedArraySpec;O.exports={hasLines:function(t){return t.visible&&t.mode&&t.mode.indexOf("lines")!==-1},hasMarkers:function(t){return t.visible&&(t.mode&&t.mode.indexOf("markers")!==-1||t.type==="splom")},hasText:function(t){return t.visible&&t.mode&&t.mode.indexOf("text")!==-1},isBubble:function(t){var b=t.marker;return v.isPlainObject(b)&&(v.isArrayOrTypedArray(b.size)||x(b.size))}}},124:function(O,S,e){var v=e(3400);O.exports=function(x,t,b,g,c){c=c||{},g("textposition"),v.coerceFont(g,"textfont",c.font||b.font,c),c.noSelect||(g("selected.textfont.color"),g("unselected.textfont.color"))}},43980:function(O,S,e){var v=e(3400),x=e(24040);O.exports=function(t,b,g,c){var s,n=c("x"),i=c("y");if(x.getComponentMethod("calendars","handleTraceDefaults")(t,b,["x","y"],g),n){var a=v.minRowLength(n);i?s=Math.min(a,v.minRowLength(i)):(s=a,c("y0"),c("dy"))}else{if(!i)return 0;s=v.minRowLength(i),c("x0"),c("dx")}return b._length=s,s}},91592:function(O,S,e){var v=e(52904),x=e(25376),t=e(49084),b=e(29736).axisHoverFormat,g=e(21776).Ks,c=e(21776).Gw,s=e(45464),n=e(99168),i=e(87792),a=e(92880).extendFlat,r=e(67824).overrideAll,o=e(95376),l=v.line,u=v.marker,h=u.line,f=a({width:l.width,dash:{valType:"enumerated",values:o(n),dflt:"solid"}},t("line")),T=O.exports=r({x:v.x,y:v.y,z:{valType:"data_array"},text:a({},v.text,{}),texttemplate:c({},{}),hovertext:a({},v.hovertext,{}),hovertemplate:g(),xhoverformat:b("x"),yhoverformat:b("y"),zhoverformat:b("z"),mode:a({},v.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},y:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},z:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}}},connectgaps:v.connectgaps,line:f,marker:a({symbol:{valType:"enumerated",values:o(i),dflt:"circle",arrayOk:!0},size:a({},u.size,{dflt:8}),sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode,opacity:a({},u.opacity,{arrayOk:!1}),colorbar:u.colorbar,line:a({width:a({},h.width,{arrayOk:!1})},t("marker.line"))},t("marker")),textposition:a({},v.textposition,{dflt:"top center"}),textfont:x({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,variantValues:["normal","small-caps"]}),opacity:s.opacity,hoverinfo:a({},s.hoverinfo)},"calc","nested");T.x.editType=T.y.editType=T.z.editType="calc+clearAxisTypes"},41484:function(O,S,e){var v=e(20148),x=e(90136);O.exports=function(t,b){var g=[{x:!1,y:!1,trace:b,t:{}}];return v(g,b),x(t,b),g}},45156:function(O,S,e){var v=e(24040);function x(t,b,g,c){if(!b||!b.visible)return null;for(var s=v.getComponentMethod("errorbars","makeComputeError")(b),n=new Array(t.length),i=0;i<t.length;i++){var a=s(+t[i],i);if(c.type==="log"){var r=c.c2l(t[i]),o=t[i]-a[0],l=t[i]+a[1];if(n[i]=[(c.c2l(o,!0)-r)*g,(c.c2l(l,!0)-r)*g],o>0){var u=c.c2l(o);c._lowerLogErrorBound||(c._lowerLogErrorBound=u),c._lowerErrorBound=Math.min(c._lowerLogErrorBound,u)}}else n[i]=[-a[0]*g,a[1]*g]}return n}O.exports=function(t,b,g){var c=[x(t.x,t.error_x,b[0],g.xaxis),x(t.y,t.error_y,b[1],g.yaxis),x(t.z,t.error_z,b[2],g.zaxis)],s=function(l){for(var u=0;u<l.length;u++)if(l[u])return l[u].length;return 0}(c);if(s===0)return null;for(var n=new Array(s),i=0;i<s;i++){for(var a=[[0,0,0],[0,0,0]],r=0;r<3;r++)if(c[r])for(var o=0;o<2;o++)a[o][r]=c[r][i][o];n[i]=a}return n}},41064:function(O,S,e){var v=e(67792).gl_line3d,x=e(67792).gl_scatter3d,t=e(67792).gl_error3d,b=e(67792).gl_mesh3d,g=e(67792).delaunay_triangulate,c=e(3400),s=e(43080),n=e(33040).formatColor,i=e(7152),a=e(99168),r=e(87792),o=e(54460),l=e(10624).appendArrayPointValue,u=e(45156);function h(p,L){this.scene=p,this.uid=L,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var f=h.prototype;function T(p){return p==null?0:p.indexOf("left")>-1?-1:p.indexOf("right")>-1?1:0}function d(p){return p==null?0:p.indexOf("top")>-1?-1:p.indexOf("bottom")>-1?1:0}function y(p,L){return L(4*p)}function m(p){return r[p]}function w(p,L,M,C,R){var I=null;if(c.isArrayOrTypedArray(p)){I=[];for(var D=0;D<L;D++)p[D]===void 0?I[D]=C:I[D]=M(p[D],R)}else I=M(p,c.identity);return I}function _(p){if(c.isArrayOrTypedArray(p)){var L=p[0];return c.isArrayOrTypedArray(L)&&(p=L),"rgb("+p.slice(0,3).map(function(M){return Math.round(255*M)})+")"}return null}function A(p){return c.isArrayOrTypedArray(p)?p.length===4&&typeof p[0]=="number"?_(p):p.map(_):null}f.handlePick=function(p){if(p.object&&(p.object===this.linePlot||p.object===this.delaunayMesh||p.object===this.textMarkers||p.object===this.scatterPlot)){var L=p.index=p.data.index;return p.object.highlight&&p.object.highlight(null),this.scatterPlot&&(p.object=this.scatterPlot,this.scatterPlot.highlight(p.data)),p.textLabel="",this.textLabels&&(c.isArrayOrTypedArray(this.textLabels)?(this.textLabels[L]||this.textLabels[L]===0)&&(p.textLabel=this.textLabels[L]):p.textLabel=this.textLabels),p.traceCoordinate=[this.data.x[L],this.data.y[L],this.data.z[L]],!0}},f.update=function(p){var L,M,C,R,I=this.scene.glplot.gl,D=a.solid;this.data=p;var F=function(V,X){var j,H,G,ie,re,te,K=[],J=V.fullSceneLayout,$=V.dataScale,ae=J.xaxis,ue=J.yaxis,ce=J.zaxis,de=X.marker,pe=X.line,me=X.x||[],be=X.y||[],we=X.z||[],Te=me.length,Le=X.xcalendar,Ie=X.ycalendar,_e=X.zcalendar;for(re=0;re<Te;re++)j=ae.d2l(me[re],0,Le)*$[0],H=ue.d2l(be[re],0,Ie)*$[1],G=ce.d2l(we[re],0,_e)*$[2],K[re]=[j,H,G];if(Array.isArray(X.text))te=X.text;else if(c.isTypedArray(X.text))te=Array.from(X.text);else if(X.text!==void 0)for(te=new Array(Te),re=0;re<Te;re++)te[re]=X.text;function fe(He,Ye){var Qe=J[He];return o.tickText(Qe,Qe.d2l(Ye),!0).text}var le=X.texttemplate;if(le){var ye=V.fullLayout._d3locale,Oe=Array.isArray(le),Ae=Oe?Math.min(le.length,Te):Te,Se=Oe?function(He){return le[He]}:function(){return le};for(te=new Array(Ae),re=0;re<Ae;re++){var Pe={x:me[re],y:be[re],z:we[re]},Fe={xLabel:fe("xaxis",me[re]),yLabel:fe("yaxis",be[re]),zLabel:fe("zaxis",we[re])},Be={};l(Be,X,re);var xe=X._meta||{};te[re]=c.texttemplateString(Se(re),Fe,ye,Be,Pe,xe)}}if(ie={position:K,mode:X.mode,text:te},"line"in X&&(ie.lineColor=n(pe,1,Te),ie.lineWidth=pe.width,ie.lineDashes=pe.dash),"marker"in X){var Me=i(X);ie.scatterColor=n(de,1,Te),ie.scatterSize=w(de.size,Te,y,20,Me),ie.scatterMarker=w(de.symbol,Te,m,""),ie.scatterLineWidth=de.line.width,ie.scatterLineColor=n(de.line,1,Te),ie.scatterAngle=0}"textposition"in X&&(ie.textOffset=function(He){var Ye=[0,0];if(Array.isArray(He))for(var Qe=0;Qe<He.length;Qe++)Ye[Qe]=[0,0],He[Qe]&&(Ye[Qe][0]=T(He[Qe]),Ye[Qe][1]=d(He[Qe]));else Ye[0]=T(He),Ye[1]=d(He);return Ye}(X.textposition),ie.textColor=n(X.textfont,1,Te),ie.textSize=w(X.textfont.size,Te,c.identity,12),ie.textFontFamily=X.textfont.family,ie.textFontWeight=X.textfont.weight,ie.textFontStyle=X.textfont.style,ie.textFontVariant=X.textfont.variant,ie.textAngle=0);var Ce=["x","y","z"];for(ie.project=[!1,!1,!1],ie.projectScale=[1,1,1],ie.projectOpacity=[1,1,1],re=0;re<3;++re){var Ne=X.projection[Ce[re]];(ie.project[re]=Ne.show)&&(ie.projectOpacity[re]=Ne.opacity,ie.projectScale[re]=Ne.scale)}ie.errorBounds=u(X,$,J);var Re=function(He){for(var Ye=[0,0,0],Qe=[[0,0,0],[0,0,0],[0,0,0]],lt=[1,1,1],ut=0;ut<3;ut++){var xt=He[ut];xt&&xt.copy_zstyle!==!1&&He[2].visible!==!1&&(xt=He[2]),xt&&xt.visible&&(Ye[ut]=xt.width/2,Qe[ut]=s(xt.color),lt[ut]=xt.thickness)}return{capSize:Ye,color:Qe,lineWidth:lt}}([X.error_x,X.error_y,X.error_z]);return ie.errorColor=Re.color,ie.errorLineWidth=Re.lineWidth,ie.errorCapSize=Re.capSize,ie.delaunayAxis=X.surfaceaxis,ie.delaunayColor=s(X.surfacecolor),ie}(this.scene,p);"mode"in F&&(this.mode=F.mode),"lineDashes"in F&&F.lineDashes in a&&(D=a[F.lineDashes]),this.color=A(F.scatterColor)||A(F.lineColor),this.dataPoints=F.position,L={gl:this.scene.glplot.gl,position:F.position,color:F.lineColor,lineWidth:F.lineWidth||1,dashes:D[0],dashScale:D[1],opacity:p.opacity,connectGaps:p.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(L):(this.linePlot=v(L),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var q=p.opacity;if(p.marker&&p.marker.opacity!==void 0&&(q*=p.marker.opacity),M={gl:this.scene.glplot.gl,position:F.position,color:F.scatterColor,size:F.scatterSize,glyph:F.scatterMarker,opacity:q,orthographic:!0,lineWidth:F.scatterLineWidth,lineColor:F.scatterLineColor,project:F.project,projectScale:F.projectScale,projectOpacity:F.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(M):(this.scatterPlot=x(M),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),R={gl:this.scene.glplot.gl,position:F.position,glyph:F.text,color:F.textColor,size:F.textSize,angle:F.textAngle,alignment:F.textOffset,font:F.textFontFamily,fontWeight:F.textFontWeight,fontStyle:F.textFontStyle,fontVariant:F.textFontVariant,orthographic:!0,lineWidth:0,project:!1,opacity:p.opacity},this.textLabels=p.hovertext||p.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(R):(this.textMarkers=x(R),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),C={gl:this.scene.glplot.gl,position:F.position,color:F.errorColor,error:F.errorBounds,lineWidth:F.errorLineWidth,capSize:F.errorCapSize,opacity:p.opacity},this.errorBars?F.errorBounds?this.errorBars.update(C):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):F.errorBounds&&(this.errorBars=t(C),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),F.delaunayAxis>=0){var z=function(V,X,j){var H,G=(j+1)%3,ie=(j+2)%3,re=[],te=[];for(H=0;H<V.length;++H){var K=V[H];!isNaN(K[G])&&isFinite(K[G])&&!isNaN(K[ie])&&isFinite(K[ie])&&(re.push([K[G],K[ie]]),te.push(H))}var J=g(re);for(H=0;H<J.length;++H)for(var $=J[H],ae=0;ae<$.length;++ae)$[ae]=te[$[ae]];return{positions:V,cells:J,meshColor:X}}(F.position,F.delaunayColor,F.delaunayAxis);z.opacity=p.opacity,this.delaunayMesh?this.delaunayMesh.update(z):(z.gl=I,this.delaunayMesh=b(z),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},f.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())},O.exports=function(p,L){var M=new h(p,L.uid);return M.update(L),M}},83484:function(O,S,e){var v=e(24040),x=e(3400),t=e(43028),b=e(74428),g=e(66828),c=e(124),s=e(91592);O.exports=function(n,i,a,r){function o(m,w){return x.coerce(n,i,s,m,w)}var l=function(m,w,_,A){var p=0,L=_("x"),M=_("y"),C=_("z");return v.getComponentMethod("calendars","handleTraceDefaults")(m,w,["x","y","z"],A),L&&M&&C&&(p=Math.min(L.length,M.length,C.length),w._length=w._xlength=w._ylength=w._zlength=p),p}(n,i,o,r);if(l){o("text"),o("hovertext"),o("hovertemplate"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),o("mode"),t.hasMarkers(i)&&b(n,i,a,r,o,{noSelect:!0,noAngle:!0}),t.hasLines(i)&&(o("connectgaps"),g(n,i,a,r,o)),t.hasText(i)&&(o("texttemplate"),c(n,i,r,o,{noSelect:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var u=(i.line||{}).color,h=(i.marker||{}).color;o("surfaceaxis")>=0&&o("surfacecolor",u||h);for(var f=["x","y","z"],T=0;T<3;++T){var d="projection."+f[T];o(d+".show")&&(o(d+".opacity"),o(d+".scale"))}var y=v.getComponentMethod("errorbars","supplyDefaults");y(n,i,u||h||a,{axis:"z"}),y(n,i,u||h||a,{axis:"y",inherit:"z"}),y(n,i,u||h||a,{axis:"x",inherit:"z"})}else i.visible=!1}},3296:function(O,S,e){O.exports={plot:e(41064),attributes:e(91592),markerSymbols:e(87792),supplyDefaults:e(83484),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(41484),moduleType:"trace",name:"scatter3d",basePlotModule:e(12536),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},90372:function(O,S,e){var v=e(98304),x=e(52904),t=e(45464),b=e(21776).Ks,g=e(21776).Gw,c=e(49084),s=e(92880).extendFlat,n=x.marker,i=x.line,a=n.line;O.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:s({},x.mode,{dflt:"markers"}),text:s({},x.text,{}),texttemplate:g({editType:"plot"},{keys:["a","b","text"]}),hovertext:s({},x.hovertext,{}),line:{color:i.color,width:i.width,dash:i.dash,backoff:i.backoff,shape:s({},i.shape,{values:["linear","spline"]}),smoothing:i.smoothing,editType:"calc"},connectgaps:x.connectgaps,fill:s({},x.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:v(),marker:s({symbol:n.symbol,opacity:n.opacity,maxdisplayed:n.maxdisplayed,angle:n.angle,angleref:n.angleref,standoff:n.standoff,size:n.size,sizeref:n.sizeref,sizemin:n.sizemin,sizemode:n.sizemode,line:s({width:a.width,editType:"calc"},c("marker.line")),gradient:n.gradient,editType:"calc"},c("marker")),textfont:x.textfont,textposition:x.textposition,selected:x.selected,unselected:x.unselected,hoverinfo:s({},t.hoverinfo,{flags:["a","b","text","name"]}),hoveron:x.hoveron,hovertemplate:b(),zorder:x.zorder}},48228:function(O,S,e){var v=e(38248),x=e(90136),t=e(20148),b=e(4500),g=e(16356).calcMarkerSize,c=e(50948);O.exports=function(s,n){var i=n._carpetTrace=c(s,n);if(i&&i.visible&&i.visible!=="legendonly"){var a;n.xaxis=i.xaxis,n.yaxis=i.yaxis;var r,o,l=n._length,u=new Array(l),h=!1;for(a=0;a<l;a++)if(r=n.a[a],o=n.b[a],v(r)&&v(o)){var f=i.ab2xy(+r,+o,!0),T=i.isVisible(+r,+o);T||(h=!0),u[a]={x:f[0],y:f[1],a:r,b:o,vis:T}}else u[a]={x:!1,y:!1};return n._needsCull=h,u[0].carpet=i,u[0].trace=n,g(n,l),x(s,n),t(u,n),b(u,n),u}}},6176:function(O,S,e){var v=e(3400),x=e(88200),t=e(43028),b=e(74428),g=e(66828),c=e(11731),s=e(124),n=e(70840),i=e(90372);O.exports=function(a,r,o,l){function u(y,m){return v.coerce(a,r,i,y,m)}u("carpet"),r.xaxis="x",r.yaxis="y";var h=u("a"),f=u("b"),T=Math.min(h.length,f.length);if(T){r._length=T,u("text"),u("texttemplate"),u("hovertext"),u("mode",T<x.PTS_LINESONLY?"lines+markers":"lines"),t.hasMarkers(r)&&b(a,r,o,l,u,{gradient:!0}),t.hasLines(r)&&(g(a,r,o,l,u,{backoff:!0}),c(a,r,u),u("connectgaps")),t.hasText(r)&&s(a,r,l,u);var d=[];(t.hasMarkers(r)||t.hasText(r))&&(u("marker.maxdisplayed"),d.push("points")),u("fill"),r.fill!=="none"&&(n(a,r,o,u),t.hasLines(r)||c(a,r,u)),r.fill!=="tonext"&&r.fill!=="toself"||d.push("fills"),u("hoveron",d.join("+")||"points")!=="fills"&&u("hovertemplate"),u("zorder"),v.coerceSelectionMarkerOpacity(r,u)}else r.visible=!1}},89307:function(O){O.exports=function(S,e,v,x,t){var b=x[t];return S.a=b.a,S.b=b.b,S.y=b.y,S}},52364:function(O){O.exports=function(S,e){var v={},x=e._carpet,t=x.ab2ij([S.a,S.b]),b=Math.floor(t[0]),g=t[0]-b,c=Math.floor(t[1]),s=t[1]-c,n=x.evalxy([],b,c,g,s);return v.yLabel=n[1].toFixed(3),v}},58960:function(O,S,e){var v=e(98723),x=e(3400).fillText;O.exports=function(t,b,g,c){var s=v(t,b,g,c);if(s&&s[0].index!==!1){var n=s[0];if(n.index===void 0){var i=1-n.y0/t.ya._length,a=t.xa._length,r=a*i/2,o=a-r;return n.x0=Math.max(Math.min(n.x0,o),r),n.x1=Math.max(Math.min(n.x1,o),r),s}var l=n.cd[n.index];n.a=l.a,n.b=l.b,n.xLabelVal=void 0,n.yLabelVal=void 0;var u=n.trace,h=u._carpet,f=u._module.formatLabels(l,u);n.yLabel=f.yLabel,delete n.text;var T=[];if(!u.hovertemplate){var d=(l.hi||u.hoverinfo).split("+");d.indexOf("all")!==-1&&(d=["a","b","text"]),d.indexOf("a")!==-1&&y(h.aaxis,l.a),d.indexOf("b")!==-1&&y(h.baxis,l.b),T.push("y: "+n.yLabel),d.indexOf("text")!==-1&&x(l,u,T),n.extraText=T.join("<br>")}return s}function y(m,w){var _;_=m.labelprefix&&m.labelprefix.length>0?m.labelprefix.replace(/ = $/,""):m._hovertitle,T.push(_+": "+w.toFixed(3)+m.labelsuffix)}}},4184:function(O,S,e){O.exports={attributes:e(90372),supplyDefaults:e(6176),colorbar:e(5528),formatLabels:e(52364),calc:e(48228),plot:e(20036),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(58960),selectPoints:e(91560),eventData:e(89307),moduleType:"trace",name:"scattercarpet",basePlotModule:e(57952),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},20036:function(O,S,e){var v=e(96504),x=e(54460),t=e(43616);O.exports=function(b,g,c,s){var n,i,a,r=c[0][0].carpet,o=x.getFromId(b,r.xaxis||"x"),l=x.getFromId(b,r.yaxis||"y"),u={xaxis:o,yaxis:l,plot:g.plot};for(n=0;n<c.length;n++)(i=c[n][0].trace)._xA=o,i._yA=l;for(v(b,u,c,s),n=0;n<c.length;n++)i=c[n][0].trace,a=s.selectAll("g.trace"+i.uid+" .js-line"),t.setClipUrl(a,c[n][0].carpet._clipPathId,b)}},6096:function(O,S,e){var v=e(21776).Ks,x=e(21776).Gw,t=e(98304),b=e(52904),g=e(45464),c=e(49084),s=e(98192).u,n=e(92880).extendFlat,i=e(67824).overrideAll,a=b.marker,r=b.line,o=a.line;O.exports=i({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:n({},b.mode,{dflt:"markers"}),text:n({},b.text,{}),texttemplate:x({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:n({},b.hovertext,{}),textfont:b.textfont,textposition:b.textposition,line:{color:r.color,width:r.width,dash:s},connectgaps:b.connectgaps,marker:n({symbol:a.symbol,opacity:a.opacity,angle:a.angle,angleref:n({},a.angleref,{values:["previous","up","north"]}),standoff:a.standoff,size:a.size,sizeref:a.sizeref,sizemin:a.sizemin,sizemode:a.sizemode,colorbar:a.colorbar,line:n({width:o.width},c("marker.line")),gradient:a.gradient},c("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:t(),selected:b.selected,unselected:b.unselected,hoverinfo:n({},g.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:v()},"calc","nested")},25212:function(O,S,e){var v=e(38248),x=e(39032).BADNUM,t=e(90136),b=e(20148),g=e(4500),c=e(3400).isArrayOrTypedArray,s=e(3400)._;function n(i){return i&&typeof i=="string"}O.exports=function(i,a){var r,o=c(a.locations),l=o?a.locations.length:a._length,u=new Array(l);r=a.geojson?function(m){return n(m)||v(m)}:n;for(var h=0;h<l;h++){var f=u[h]={};if(o){var T=a.locations[h];f.loc=r(T)?T:null}else{var d=a.lon[h],y=a.lat[h];v(d)&&v(y)?f.lonlat=[+d,+y]:f.lonlat=[x,x]}}return b(u,a),t(i,a),g(u,a),l&&(u[0].t={labels:{lat:s(i,"lat:")+" ",lon:s(i,"lon:")+" "}}),u}},86188:function(O,S,e){var v=e(3400),x=e(43028),t=e(74428),b=e(66828),g=e(124),c=e(70840),s=e(6096);O.exports=function(n,i,a,r){function o(y,m){return v.coerce(n,i,s,y,m)}var l,u=o("locations");if(u&&u.length){var h,f=o("geojson");(typeof f=="string"&&f!==""||v.isPlainObject(f))&&(h="geojson-id"),o("locationmode",h)==="geojson-id"&&o("featureidkey"),l=u.length}else{var T=o("lon")||[],d=o("lat")||[];l=Math.min(T.length,d.length)}l?(i._length=l,o("text"),o("hovertext"),o("hovertemplate"),o("mode"),x.hasMarkers(i)&&t(n,i,a,r,o,{gradient:!0}),x.hasLines(i)&&(b(n,i,a,r,o),o("connectgaps")),x.hasText(i)&&(o("texttemplate"),g(n,i,r,o)),o("fill"),i.fill!=="none"&&c(n,i,a,o),v.coerceSelectionMarkerOpacity(i,o)):i.visible=!1}},58544:function(O){O.exports=function(S,e,v,x,t){S.lon=e.lon,S.lat=e.lat,S.location=e.loc?e.loc:null;var b=x[t];return b.fIn&&b.fIn.properties&&(S.properties=b.fIn.properties),S}},56696:function(O,S,e){var v=e(54460);O.exports=function(x,t,b){var g={},c=b[t.geo]._subplot.mockAxis,s=x.lonlat;return g.lonLabel=v.tickText(c,c.c2l(s[0]),!0).text,g.latLabel=v.tickText(c,c.c2l(s[1]),!0).text,g}},64292:function(O,S,e){var v=e(93024),x=e(39032).BADNUM,t=e(44928),b=e(3400).fillText,g=e(6096);O.exports=function(c,s,n){var i=c.cd,a=i[0].trace,r=c.xa,o=c.ya,l=c.subplot,u=l.projection.isLonLatOverEdges,h=l.project;if(v.getClosest(i,function(_){var A=_.lonlat;if(A[0]===x||u(A))return 1/0;var p=h(A),L=h([s,n]),M=Math.abs(p[0]-L[0]),C=Math.abs(p[1]-L[1]),R=Math.max(3,_.mrc||0);return Math.max(Math.sqrt(M*M+C*C)-R,1-3/R)},c),c.index!==!1){var f=i[c.index],T=f.lonlat,d=[r.c2p(T),o.c2p(T)],y=f.mrc||1;c.x0=d[0]-y,c.x1=d[0]+y,c.y0=d[1]-y,c.y1=d[1]+y,c.loc=f.loc,c.lon=T[0],c.lat=T[1];var m={};m[a.geo]={_subplot:l};var w=a._module.formatLabels(f,a,m);return c.lonLabel=w.lonLabel,c.latLabel=w.latLabel,c.color=t(a,f),c.extraText=function(_,A,p,L){if(!_.hovertemplate){var M=A.hi||_.hoverinfo,C=M==="all"?g.hoverinfo.flags:M.split("+"),R=C.indexOf("location")!==-1&&Array.isArray(_.locations),I=C.indexOf("lon")!==-1,D=C.indexOf("lat")!==-1,F=C.indexOf("text")!==-1,q=[];return R?q.push(A.loc):I&&D?q.push("("+z(p.latLabel)+", "+z(p.lonLabel)+")"):I?q.push(L.lon+z(p.lonLabel)):D&&q.push(L.lat+z(p.latLabel)),F&&b(A,_,q),q.join("<br>")}function z(V){return V+""}}(a,f,c,i[0].t.labels),c.hovertemplate=a.hovertemplate,[c]}}},36952:function(O,S,e){O.exports={attributes:e(6096),supplyDefaults:e(86188),colorbar:e(5528),formatLabels:e(56696),calc:e(25212),calcGeoJSON:e(48691).calcGeoJSON,plot:e(48691).plot,style:e(25064),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(64292),eventData:e(58544),selectPoints:e(8796),moduleType:"trace",name:"scattergeo",basePlotModule:e(10816),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},48691:function(O,S,e){var v=e(33428),x=e(3400),t=e(59972).getTopojsonFeatures,b=e(44808),g=e(27144),c=e(19280).findExtremes,s=e(39032).BADNUM,n=e(16356).calcMarkerSize,i=e(43028),a=e(25064);O.exports={calcGeoJSON:function(r,o){var l,u,h=r[0].trace,f=o[h.geo],T=f._subplot,d=h._length;if(x.isArrayOrTypedArray(h.locations)){var y=h.locationmode,m=y==="geojson-id"?g.extractTraceFeature(r):t(h,T.topojson);for(l=0;l<d;l++){u=r[l];var w=y==="geojson-id"?u.fOut:g.locationToFeature(y,u.loc,m);u.lonlat=w?w.properties.ct:[s,s]}}var _,A,p={padded:!0};if(f.fitbounds==="geojson"&&h.locationmode==="geojson-id"){var L=g.computeBbox(g.getTraceGeojson(h));_=[L[0],L[2]],A=[L[1],L[3]]}else{for(_=new Array(d),A=new Array(d),l=0;l<d;l++)u=r[l],_[l]=u.lonlat[0],A[l]=u.lonlat[1];p.ppad=n(h,d)}h._extremes.lon=c(f.lonaxis._ax,_,p),h._extremes.lat=c(f.lataxis._ax,A,p)},plot:function(r,o,l){var u=o.layers.frontplot.select(".scatterlayer"),h=x.makeTraceGroups(u,l,"trace scattergeo");function f(T,d){T.lonlat[0]===s&&v.select(d).remove()}h.selectAll("*").remove(),h.each(function(T){var d=v.select(this),y=T[0].trace;if(i.hasLines(y)||y.fill!=="none"){var m=b.calcTraceToLineCoords(T),w=y.fill!=="none"?b.makePolygon(m):b.makeLine(m);d.selectAll("path.js-line").data([{geojson:w,trace:y}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}i.hasMarkers(y)&&d.selectAll("path.point").data(x.identity).enter().append("path").classed("point",!0).each(function(_){f(_,this)}),i.hasText(y)&&d.selectAll("g").data(x.identity).enter().append("g").append("text").each(function(_){f(_,this)}),a(r,T)})}}},8796:function(O,S,e){var v=e(43028),x=e(39032).BADNUM;O.exports=function(t,b){var g,c,s,n,i,a=t.cd,r=t.xaxis,o=t.yaxis,l=[],u=a[0].trace;if(!v.hasMarkers(u)&&!v.hasText(u))return[];if(b===!1)for(i=0;i<a.length;i++)a[i].selected=0;else for(i=0;i<a.length;i++)(c=(g=a[i]).lonlat)[0]!==x&&(s=r.c2p(c),n=o.c2p(c),b.contains([s,n],null,i,t)?(l.push({pointNumber:i,lon:c[0],lat:c[1]}),g.selected=1):g.selected=0);return l}},25064:function(O,S,e){var v=e(33428),x=e(43616),t=e(76308),b=e(49224),g=b.stylePoints,c=b.styleText;O.exports=function(s,n){n&&function(i,a){var r=a[0].trace,o=a[0].node3;o.style("opacity",a[0].trace.opacity),g(o,r,i),c(o,r,i),o.selectAll("path.js-line").style("fill","none").each(function(l){var u=v.select(this),h=l.trace,f=h.line||{};u.call(t.stroke,f.color).call(x.dashLine,f.dash||"",f.width||0),h.fill!=="none"&&u.call(t.fill,h.fillcolor)})}(s,n)}},2876:function(O,S,e){var v=e(45464),x=e(25376),t=e(98304),b=e(52904),g=e(29736).axisHoverFormat,c=e(49084),s=e(95376),n=e(92880).extendFlat,i=e(67824).overrideAll,a=e(67072).DASHES,r=b.line,o=b.marker,l=o.line,u=O.exports=i({x:b.x,x0:b.x0,dx:b.dx,y:b.y,y0:b.y0,dy:b.dy,xperiod:b.xperiod,yperiod:b.yperiod,xperiod0:b.xperiod0,yperiod0:b.yperiod0,xperiodalignment:b.xperiodalignment,yperiodalignment:b.yperiodalignment,xhoverformat:g("x"),yhoverformat:g("y"),text:b.text,hovertext:b.hovertext,textposition:b.textposition,textfont:x({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,noNumericWeightValues:!0,variantValues:["normal","small-caps"]}),mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:r.color,width:r.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:s(a),dflt:"solid"}},marker:n({},c("marker"),{symbol:o.symbol,angle:o.angle,size:o.size,sizeref:o.sizeref,sizemin:o.sizemin,sizemode:o.sizemode,opacity:o.opacity,colorbar:o.colorbar,line:n({},c("marker.line"),{width:l.width})}),connectgaps:b.connectgaps,fill:n({},b.fill,{dflt:"none"}),fillcolor:t(),selected:{marker:b.selected.marker,textfont:b.selected.textfont},unselected:{marker:b.unselected.marker,textfont:b.unselected.textfont},opacity:v.opacity},"calc","nested");u.x.editType=u.y.editType=u.x0.editType=u.y0.editType="calc+clearAxisTypes",u.hovertemplate=b.hovertemplate,u.texttemplate=b.texttemplate},64628:function(O,S,e){var v=e(41272);O.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(57952),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(2876),supplyDefaults:e(80220),crossTraceDefaults:e(35036),colorbar:e(5528),formatLabels:e(99396),calc:e(24856),hoverPoints:v.hoverPoints,selectPoints:e(73224),meta:{}}},24856:function(O,S,e){var v=e(3108),x=e(3400),t=e(79811),b=e(19280).findExtremes,g=e(1220),c=e(16356),s=c.calcMarkerSize,n=c.calcAxisExpansion,i=c.setFirstScatter,a=e(90136),r=e(84236),o=e(74588),l=e(39032).BADNUM,u=e(67072).TOO_MANY_POINTS;function h(f,T,d){var y=f._extremes[T._id],m=b(T,d._bnds,{padded:!0});y.min=y.min.concat(m.min),y.max=y.max.concat(m.max)}O.exports=function(f,T){var d,y=f._fullLayout,m=T._xA=t.getFromId(f,T.xaxis,"x"),w=T._yA=t.getFromId(f,T.yaxis,"y"),_=y._plots[T.xaxis+T.yaxis],A=T._length,p=A>=u,L=2*A,M={},C=m.makeCalcdata(T,"x"),R=w.makeCalcdata(T,"y"),I=g(T,m,"x",C),D=g(T,w,"y",R),F=I.vals,q=D.vals;T._x=F,T._y=q,T.xperiodalignment&&(T._origX=C,T._xStarts=I.starts,T._xEnds=I.ends),T.yperiodalignment&&(T._origY=R,T._yStarts=D.starts,T._yEnds=D.ends);var z=new Array(L),V=new Array(A);for(d=0;d<A;d++)z[2*d]=F[d]===l?NaN:F[d],z[2*d+1]=q[d]===l?NaN:q[d],V[d]=d;if(m.type==="log")for(d=0;d<L;d+=2)z[d]=m.c2l(z[d]);if(w.type==="log")for(d=1;d<L;d+=2)z[d]=w.c2l(z[d]);p&&m.type!=="log"&&w.type!=="log"?M.tree=v(z):M.ids=V,a(f,T);var X,j=function(G,ie,re,te,K,J){var $=r.style(G,re);if($.marker&&($.marker.positions=te),$.line&&te.length>1&&x.extendFlat($.line,r.linePositions(G,re,te)),$.errorX||$.errorY){var ae=r.errorBarPositions(G,re,te,K,J);$.errorX&&x.extendFlat($.errorX,ae.x),$.errorY&&x.extendFlat($.errorY,ae.y)}return $.text&&(x.extendFlat($.text,{positions:te},r.textPosition(G,re,$.text,$.marker)),x.extendFlat($.textSel,{positions:te},r.textPosition(G,re,$.text,$.markerSel)),x.extendFlat($.textUnsel,{positions:te},r.textPosition(G,re,$.text,$.markerUnsel))),$}(f,0,T,z,F,q),H=o(f,_);return i(y,T),p?j.marker&&(X=j.marker.sizeAvg||Math.max(j.marker.size,3)):X=s(T,A),n(f,T,m,w,F,q,X),j.errorX&&h(T,m,j.errorX),j.errorY&&h(T,w,j.errorY),j.fill&&!H.fill2d&&(H.fill2d=!0),j.marker&&!H.scatter2d&&(H.scatter2d=!0),j.line&&!H.line2d&&(H.line2d=!0),!j.errorX&&!j.errorY||H.error2d||(H.error2d=!0),j.text&&!H.glText&&(H.glText=!0),j.marker&&(j.marker.snap=A),H.lineOptions.push(j.line),H.errorXOptions.push(j.errorX),H.errorYOptions.push(j.errorY),H.fillOptions.push(j.fill),H.markerOptions.push(j.marker),H.markerSelectedOptions.push(j.markerSel),H.markerUnselectedOptions.push(j.markerUnsel),H.textOptions.push(j.text),H.textSelectedOptions.push(j.textSel),H.textUnselectedOptions.push(j.textUnsel),H.selectBatch.push([]),H.unselectBatch.push([]),M._scene=H,M.index=H.count,M.x=F,M.y=q,M.positions=z,H.count++,[{x:!1,y:!1,t:M,trace:T}]}},67072:function(O){O.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:20,SYMBOL_STROKE:1,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},84236:function(O,S,e){var v=e(38248),x=e(20472),t=e(72160),b=e(24040),g=e(3400),c=g.isArrayOrTypedArray,s=e(43616),n=e(79811),i=e(33040).formatColor,a=e(43028),r=e(7152),o=e(80088),l=e(67072),u=e(13448).DESELECTDIM,h={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},f=e(10624).appendArrayPointValue;function T(I,D){var F,q=I._fullLayout,z=D._length,V=D.textfont,X=D.textposition,j=c(X)?X:[X],H=V.color,G=V.size,ie=V.family,re=V.weight,te=V.style,K=V.variant,J={},$=I._context.plotGlPixelRatio,ae=D.texttemplate;if(ae){J.text=[];var ue=q._d3locale,ce=Array.isArray(ae),de=ce?Math.min(ae.length,z):z,pe=ce?function(_e){return ae[_e]}:function(){return ae};for(F=0;F<de;F++){var me={i:F},be=D._module.formatLabels(me,D,q),we={};f(we,D,F);var Te=D._meta||{};J.text.push(g.texttemplateString(pe(F),be,ue,we,me,Te))}}else c(D.text)&&D.text.length<z?J.text=D.text.slice():J.text=D.text;if(c(J.text))for(F=J.text.length;F<z;F++)J.text[F]="";for(J.opacity=D.opacity,J.font={},J.align=[],J.baseline=[],F=0;F<j.length;F++){var Le=j[F].split(/\s+/);switch(Le[1]){case"left":J.align.push("right");break;case"right":J.align.push("left");break;default:J.align.push(Le[1])}switch(Le[0]){case"top":J.baseline.push("bottom");break;case"bottom":J.baseline.push("top");break;default:J.baseline.push(Le[0])}}if(c(H))for(J.color=new Array(z),F=0;F<z;F++)J.color[F]=H[F];else J.color=H;if(c(G)||Array.isArray(ie)||c(re)||Array.isArray(te)||Array.isArray(K))for(J.font=new Array(z),F=0;F<z;F++){var Ie=J.font[F]={};Ie.size=(g.isTypedArray(G)?G[F]:c(G)?v(G[F])?G[F]:0:G)*$,Ie.family=Array.isArray(ie)?ie[F]:ie,Ie.weight=d(c(re)?re[F]:re),Ie.style=Array.isArray(te)?te[F]:te,Ie.variant=Array.isArray(K)?K[F]:K}else J.font={size:G*$,family:ie,weight:d(re),style:te,variant:K};return J}function d(I){return I<=1e3?I>500?"bold":"normal":I}function y(I,D){var F,q,z=D._length,V=D.marker,X={},j=c(V.symbol),H=c(V.angle),G=c(V.color),ie=c(V.line.color),re=c(V.opacity),te=c(V.size),K=c(V.line.width);if(j||(q=o.isOpenSymbol(V.symbol)),j||G||ie||re||H){X.symbols=new Array(z),X.angles=new Array(z),X.colors=new Array(z),X.borderColors=new Array(z);var J=V.symbol,$=V.angle,ae=i(V,V.opacity,z),ue=i(V.line,V.opacity,z);if(!c(ue[0])){var ce=ue;for(ue=Array(z),F=0;F<z;F++)ue[F]=ce}if(!c(ae[0])){var de=ae;for(ae=Array(z),F=0;F<z;F++)ae[F]=de}if(!c(J)){var pe=J;for(J=Array(z),F=0;F<z;F++)J[F]=pe}if(!c($)){var me=$;for($=Array(z),F=0;F<z;F++)$[F]=me}for(X.symbols=J,X.angles=$,X.colors=ae,X.borderColors=ue,F=0;F<z;F++)j&&(q=o.isOpenSymbol(V.symbol[F])),q&&(ue[F]=ae[F].slice(),ae[F]=ae[F].slice(),ae[F][3]=0);for(X.opacity=D.opacity,X.markers=new Array(z),F=0;F<z;F++)X.markers[F]=R({mx:X.symbols[F],ma:X.angles[F]},D)}else q?(X.color=t(V.color,"uint8"),X.color[3]=0,X.borderColor=t(V.color,"uint8")):(X.color=t(V.color,"uint8"),X.borderColor=t(V.line.color,"uint8")),X.opacity=D.opacity*V.opacity,X.marker=R({mx:V.symbol,ma:V.angle},D);var be,we=r(D,1);if(te||K){var Te,Le=X.sizes=new Array(z),Ie=X.borderSizes=new Array(z),_e=0;if(te){for(F=0;F<z;F++)Le[F]=we(V.size[F]),_e+=Le[F];Te=_e/z}else for(be=we(V.size),F=0;F<z;F++)Le[F]=be;if(K)for(F=0;F<z;F++)Ie[F]=V.line.width[F];else for(be=V.line.width,F=0;F<z;F++)Ie[F]=be;X.sizeAvg=Te}else X.size=we(V&&V.size||10),X.borderSizes=we(V.line.width);return X}function m(I,D,F){var q=D.marker,z={};return F&&(F.marker&&F.marker.symbol?z=y(0,g.extendFlat({},q,F.marker)):F.marker&&(F.marker.size&&(z.size=F.marker.size),F.marker.color&&(z.colors=F.marker.color),F.marker.opacity!==void 0&&(z.opacity=F.marker.opacity))),z}function w(I,D,F){var q={};if(!F)return q;if(F.textfont){var z={opacity:1,text:D.text,texttemplate:D.texttemplate,textposition:D.textposition,textfont:g.extendFlat({},D.textfont)};F.textfont&&g.extendFlat(z.textfont,F.textfont),q=T(I,z)}return q}function _(I,D,F){var q={capSize:2*D.width*F,lineWidth:D.thickness*F,color:D.color};return D.copy_ystyle&&(q=I.error_y),q}var A=l.SYMBOL_SDF_SIZE,p=l.SYMBOL_SIZE,L=l.SYMBOL_STROKE,M={},C=s.symbolFuncs[0](.05*p);function R(I,D){var F,q,z=I.mx;if(z==="circle")return null;var V=s.symbolNumber(z),X=s.symbolFuncs[V%100],j=!!s.symbolNoDot[V%100],H=!!s.symbolNoFill[V%100],G=o.isDotSymbol(z);if(I.ma&&(z+="_"+I.ma),M[z])return M[z];var ie=s.getMarkerAngle(I,D);return F=G&&!j?X(1.1*p,ie)+C:X(p,ie),q=x(F,{w:A,h:A,viewBox:[-p,-p,p,p],stroke:H?L:-L}),M[z]=q,q||null}O.exports={style:function(I,D){var F,q={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},z=I._context.plotGlPixelRatio;if(D.visible!==!0)return q;if(a.hasText(D)&&(q.text=T(I,D),q.textSel=w(I,D,D.selected),q.textUnsel=w(I,D,D.unselected)),a.hasMarkers(D)&&(q.marker=y(0,D),q.markerSel=m(0,D,D.selected),q.markerUnsel=m(0,D,D.unselected),!D.unselected&&c(D.marker.opacity))){var V=D.marker.opacity;for(q.markerUnsel.opacity=new Array(V.length),F=0;F<V.length;F++)q.markerUnsel.opacity[F]=u*V[F]}if(a.hasLines(D)){q.line={overlay:!0,thickness:D.line.width*z,color:D.line.color,opacity:D.opacity};var X=(l.DASHES[D.line.dash]||[1]).slice();for(F=0;F<X.length;++F)X[F]*=D.line.width*z;q.line.dashes=X}return D.error_x&&D.error_x.visible&&(q.errorX=_(D,D.error_x,z)),D.error_y&&D.error_y.visible&&(q.errorY=_(D,D.error_y,z)),D.fill&&D.fill!=="none"&&(q.fill={closed:!0,fill:D.fillcolor,thickness:0}),q},markerStyle:y,markerSelection:m,linePositions:function(I,D,F){var q,z,V=F.length,X=V/2;if(a.hasLines(D)&&X)if(D.line.shape==="hv"){for(q=[],z=0;z<X-1;z++)isNaN(F[2*z])||isNaN(F[2*z+1])?q.push(NaN,NaN,NaN,NaN):(q.push(F[2*z],F[2*z+1]),isNaN(F[2*z+2])||isNaN(F[2*z+3])?q.push(NaN,NaN):q.push(F[2*z+2],F[2*z+1]));q.push(F[V-2],F[V-1])}else if(D.line.shape==="hvh"){for(q=[],z=0;z<X-1;z++)if(isNaN(F[2*z])||isNaN(F[2*z+1])||isNaN(F[2*z+2])||isNaN(F[2*z+3]))isNaN(F[2*z])||isNaN(F[2*z+1])?q.push(NaN,NaN):q.push(F[2*z],F[2*z+1]),q.push(NaN,NaN);else{var j=(F[2*z]+F[2*z+2])/2;q.push(F[2*z],F[2*z+1],j,F[2*z+1],j,F[2*z+3])}q.push(F[V-2],F[V-1])}else if(D.line.shape==="vhv"){for(q=[],z=0;z<X-1;z++)if(isNaN(F[2*z])||isNaN(F[2*z+1])||isNaN(F[2*z+2])||isNaN(F[2*z+3]))isNaN(F[2*z])||isNaN(F[2*z+1])?q.push(NaN,NaN):q.push(F[2*z],F[2*z+1]),q.push(NaN,NaN);else{var H=(F[2*z+1]+F[2*z+3])/2;q.push(F[2*z],F[2*z+1],F[2*z],H,F[2*z+2],H)}q.push(F[V-2],F[V-1])}else if(D.line.shape==="vh"){for(q=[],z=0;z<X-1;z++)isNaN(F[2*z])||isNaN(F[2*z+1])?q.push(NaN,NaN,NaN,NaN):(q.push(F[2*z],F[2*z+1]),isNaN(F[2*z+2])||isNaN(F[2*z+3])?q.push(NaN,NaN):q.push(F[2*z],F[2*z+3]));q.push(F[V-2],F[V-1])}else q=F;var G=!1;for(z=0;z<q.length;z++)if(isNaN(q[z])){G=!0;break}var ie=G||q.length>l.TOO_MANY_POINTS||a.hasMarkers(D)?"rect":"round";if(G&&D.connectgaps){var re=q[0],te=q[1];for(z=0;z<q.length;z+=2)isNaN(q[z])||isNaN(q[z+1])?(q[z]=re,q[z+1]=te):(re=q[z],te=q[z+1])}return{join:ie,positions:q}},errorBarPositions:function(I,D,F,q,z){var V=b.getComponentMethod("errorbars","makeComputeError"),X=n.getFromId(I,D.xaxis,"x"),j=n.getFromId(I,D.yaxis,"y"),H=F.length/2,G={};function ie(re,te){var K=te._id.charAt(0),J=D["error_"+K];if(J&&J.visible&&(te.type==="linear"||te.type==="log")){for(var $=V(J),ae={x:0,y:1}[K],ue={x:[0,1,2,3],y:[2,3,0,1]}[K],ce=new Float64Array(4*H),de=1/0,pe=-1/0,me=0,be=0;me<H;me++,be+=4){var we=re[me];if(v(we)){var Te=F[2*me+ae],Le=$(we,me),Ie=Le[0],_e=Le[1];if(v(Ie)&&v(_e)){var fe=we-Ie,le=we+_e;ce[be+ue[0]]=Te-te.c2l(fe),ce[be+ue[1]]=te.c2l(le)-Te,ce[be+ue[2]]=0,ce[be+ue[3]]=0,de=Math.min(de,we-Ie),pe=Math.max(pe,we+_e)}}}G[K]={positions:F,errors:ce,_bnds:[de,pe]}}}return ie(q,X),ie(z,j),G},textPosition:function(I,D,F,q){var z,V=D._length,X={};if(a.hasMarkers(D)){var j=F.font,H=F.align,G=F.baseline;for(X.offset=new Array(V),z=0;z<V;z++){var ie=q.sizes?q.sizes[z]:q.size,re=c(j)?j[z].size:j.size,te=c(H)?H.length>1?H[z]:H[0]:H,K=c(G)?G.length>1?G[z]:G[0]:G,J=h[te],$=h[K],ae=ie?ie/.8+1:0,ue=-$*ae-.5*$;X.offset[z]=[J*ae/re,ue/re]}}return X}}},80220:function(O,S,e){var v=e(3400),x=e(24040),t=e(80088),b=e(2876),g=e(88200),c=e(43028),s=e(43980),n=e(31147),i=e(74428),a=e(66828),r=e(70840),o=e(124);O.exports=function(l,u,h,f){function T(L,M){return v.coerce(l,u,b,L,M)}var d=!!l.marker&&t.isOpenSymbol(l.marker.symbol),y=c.isBubble(l),m=s(l,u,f,T);if(m){n(l,u,f,T),T("xhoverformat"),T("yhoverformat");var w=m<g.PTS_LINESONLY?"lines+markers":"lines";T("text"),T("hovertext"),T("hovertemplate"),T("mode",w),c.hasMarkers(u)&&(i(l,u,h,f,T,{noAngleRef:!0,noStandOff:!0}),T("marker.line.width",d||y?1:0)),c.hasLines(u)&&(T("connectgaps"),a(l,u,h,f,T),T("line.shape")),c.hasText(u)&&(T("texttemplate"),o(l,u,f,T,{noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var _=(u.line||{}).color,A=(u.marker||{}).color;T("fill"),u.fill!=="none"&&r(l,u,h,T);var p=x.getComponentMethod("errorbars","supplyDefaults");p(l,u,_||A||h,{axis:"y"}),p(l,u,_||A||h,{axis:"x",inherit:"y"}),v.coerceSelectionMarkerOpacity(u,T)}else u.visible=!1}},26768:function(O,S,e){var v=e(3400),x=e(76308),t=e(13448).DESELECTDIM;O.exports={styleTextSelection:function(b){var g,c,s=b[0],n=s.trace,i=s.t,a=i._scene,r=i.index,o=a.selectBatch[r],l=a.unselectBatch[r],u=a.textOptions[r],h=a.textSelectedOptions[r]||{},f=a.textUnselectedOptions[r]||{},T=v.extendFlat({},u);if(o.length||l.length){var d=h.color,y=f.color,m=u.color,w=v.isArrayOrTypedArray(m);for(T.color=new Array(n._length),g=0;g<o.length;g++)c=o[g],T.color[c]=d||(w?m[c]:m);for(g=0;g<l.length;g++){c=l[g];var _=w?m[c]:m;T.color[c]=y||(d?_:x.addOpacity(_,t))}}a.glText[r].update(T)}}},99396:function(O,S,e){var v=e(76688);O.exports=function(x,t,b){var g=x.i;return"x"in x||(x.x=t._x[g]),"y"in x||(x.y=t._y[g]),v(x,t,b)}},80088:function(O,S,e){var v=e(67072);S.isOpenSymbol=function(x){return typeof x=="string"?v.OPEN_RE.test(x):x%200>100},S.isDotSymbol=function(x){return typeof x=="string"?v.DOT_RE.test(x):x>200}},41272:function(O,S,e){var v=e(24040),x=e(3400),t=e(44928);function b(g,c,s,n){var i=g.xa,a=g.ya,r=g.distance,o=g.dxy,l=g.index,u={pointNumber:l,x:c[l],y:s[l]};u.tx=x.isArrayOrTypedArray(n.text)?n.text[l]:n.text,u.htx=Array.isArray(n.hovertext)?n.hovertext[l]:n.hovertext,u.data=Array.isArray(n.customdata)?n.customdata[l]:n.customdata,u.tp=Array.isArray(n.textposition)?n.textposition[l]:n.textposition;var h=n.textfont;h&&(u.ts=x.isArrayOrTypedArray(h.size)?h.size[l]:h.size,u.tc=x.isArrayOrTypedArray(h.color)?h.color[l]:h.color,u.tf=Array.isArray(h.family)?h.family[l]:h.family,u.tw=Array.isArray(h.weight)?h.weight[l]:h.weight,u.ty=Array.isArray(h.style)?h.style[l]:h.style,u.tv=Array.isArray(h.variant)?h.variant[l]:h.variant);var f=n.marker;f&&(u.ms=x.isArrayOrTypedArray(f.size)?f.size[l]:f.size,u.mo=x.isArrayOrTypedArray(f.opacity)?f.opacity[l]:f.opacity,u.mx=x.isArrayOrTypedArray(f.symbol)?f.symbol[l]:f.symbol,u.ma=x.isArrayOrTypedArray(f.angle)?f.angle[l]:f.angle,u.mc=x.isArrayOrTypedArray(f.color)?f.color[l]:f.color);var T=f&&f.line;T&&(u.mlc=Array.isArray(T.color)?T.color[l]:T.color,u.mlw=x.isArrayOrTypedArray(T.width)?T.width[l]:T.width);var d=f&&f.gradient;d&&d.type!=="none"&&(u.mgt=Array.isArray(d.type)?d.type[l]:d.type,u.mgc=Array.isArray(d.color)?d.color[l]:d.color);var y=i.c2p(u.x,!0),m=a.c2p(u.y,!0),w=u.mrc||1,_=n.hoverlabel;_&&(u.hbg=Array.isArray(_.bgcolor)?_.bgcolor[l]:_.bgcolor,u.hbc=Array.isArray(_.bordercolor)?_.bordercolor[l]:_.bordercolor,u.hts=x.isArrayOrTypedArray(_.font.size)?_.font.size[l]:_.font.size,u.htc=Array.isArray(_.font.color)?_.font.color[l]:_.font.color,u.htf=Array.isArray(_.font.family)?_.font.family[l]:_.font.family,u.hnl=x.isArrayOrTypedArray(_.namelength)?_.namelength[l]:_.namelength);var A=n.hoverinfo;A&&(u.hi=Array.isArray(A)?A[l]:A);var p=n.hovertemplate;p&&(u.ht=Array.isArray(p)?p[l]:p);var L={};L[g.index]=u;var M=n._origX,C=n._origY,R=x.extendFlat({},g,{color:t(n,u),x0:y-w,x1:y+w,xLabelVal:M?M[l]:u.x,y0:m-w,y1:m+w,yLabelVal:C?C[l]:u.y,cd:L,distance:r,spikeDistance:o,hovertemplate:u.ht});return u.htx?R.text=u.htx:u.tx?R.text=u.tx:n.text&&(R.text=n.text),x.fillText(u,n,R),v.getComponentMethod("errorbars","hoverInfo")(u,n,R),R}O.exports={hoverPoints:function(g,c,s,n){var i,a,r,o,l,u,h,f,T,d,y=g.cd,m=y[0].t,w=y[0].trace,_=g.xa,A=g.ya,p=m.x,L=m.y,M=_.c2p(c),C=A.c2p(s),R=g.distance;if(m.tree){var I=_.p2c(M-R),D=_.p2c(M+R),F=A.p2c(C-R),q=A.p2c(C+R);i=n==="x"?m.tree.range(Math.min(I,D),Math.min(A._rl[0],A._rl[1]),Math.max(I,D),Math.max(A._rl[0],A._rl[1])):m.tree.range(Math.min(I,D),Math.min(F,q),Math.max(I,D),Math.max(F,q))}else i=m.ids;var z=R;if(n==="x"){var V=!!w.xperiodalignment,X=!!w.yperiodalignment;for(u=0;u<i.length;u++){if(o=p[a=i[u]],h=Math.abs(_.c2p(o)-M),V){var j=_.c2p(w._xStarts[a]),H=_.c2p(w._xEnds[a]);h=M>=Math.min(j,H)&&M<=Math.max(j,H)?0:1/0}if(h<z){if(z=h,l=L[a],f=A.c2p(l)-C,X){var G=A.c2p(w._yStarts[a]),ie=A.c2p(w._yEnds[a]);f=C>=Math.min(G,ie)&&C<=Math.max(G,ie)?0:1/0}d=Math.sqrt(h*h+f*f),r=i[u]}}}else for(u=i.length-1;u>-1;u--)o=p[a=i[u]],l=L[a],h=_.c2p(o)-M,f=A.c2p(l)-C,(T=Math.sqrt(h*h+f*f))<z&&(z=d=T,r=a);return g.index=r,g.distance=z,g.dxy=d,r===void 0?[g]:[b(g,p,L,w)]},calcHover:b}},38983:function(O,S,e){var v=e(64628);v.plot=e(89876),O.exports=v},89876:function(O,S,e){var v=e(38540),x=e(13472),t=e(24544),b=e(23352),g=e(3400),c=e(72760).selectMode,s=e(5048),n=e(43028),i=e(14328),a=e(26768).styleTextSelection,r={};function o(l,u,h,f){var T=l._size,d=l.width*f,y=l.height*f,m=T.l*f,w=T.b*f,_=T.r*f,A=T.t*f,p=T.w*f,L=T.h*f;return[m+u.domain[0]*p,w+h.domain[0]*L,d-_-(1-u.domain[1])*p,y-A-(1-h.domain[1])*L]}(O.exports=function(l,u,h){if(h.length){var f,T,d=l._fullLayout,y=u._scene,m=u.xaxis,w=u.yaxis;if(y)if(s(l,["ANGLE_instanced_arrays","OES_element_index_uint"],r)){var _=y.count,A=d._glcanvas.data()[0].regl;if(i(l,u,h),y.dirty){if(!y.line2d&&!y.error2d||y.scatter2d||y.fill2d||y.glText||A.clear({}),y.error2d===!0&&(y.error2d=t(A)),y.line2d===!0&&(y.line2d=x(A)),y.scatter2d===!0&&(y.scatter2d=v(A)),y.fill2d===!0&&(y.fill2d=x(A)),y.glText===!0)for(y.glText=new Array(_),f=0;f<_;f++)y.glText[f]=new b(A);if(y.glText){if(_>y.glText.length){var p=_-y.glText.length;for(f=0;f<p;f++)y.glText.push(new b(A))}else if(_<y.glText.length){var L=y.glText.length-_;y.glText.splice(_,L).forEach(function(ae){ae.destroy()})}for(f=0;f<_;f++)y.glText[f].update(y.textOptions[f])}if(y.line2d&&(y.line2d.update(y.lineOptions),y.lineOptions=y.lineOptions.map(function(ae){if(ae&&ae.positions){for(var ue=ae.positions,ce=0;ce<ue.length&&(isNaN(ue[ce])||isNaN(ue[ce+1]));)ce+=2;for(var de=ue.length-2;de>ce&&(isNaN(ue[de])||isNaN(ue[de+1]));)de-=2;ae.positions=ue.slice(ce,de+2)}return ae}),y.line2d.update(y.lineOptions)),y.error2d){var M=(y.errorXOptions||[]).concat(y.errorYOptions||[]);y.error2d.update(M)}y.scatter2d&&y.scatter2d.update(y.markerOptions),y.fillOrder=g.repeat(null,_),y.fill2d&&(y.fillOptions=y.fillOptions.map(function(ae,ue){var ce=h[ue];if(ae&&ce&&ce[0]&&ce[0].trace){var de,pe,me=ce[0],be=me.trace,we=me.t,Te=y.lineOptions[ue],Le=[];be._ownfill&&Le.push(ue),be._nexttrace&&Le.push(ue+1),Le.length&&(y.fillOrder[ue]=Le);var Ie,_e,fe=[],le=Te&&Te.positions||we.positions;if(be.fill==="tozeroy"){for(Ie=0;Ie<le.length&&isNaN(le[Ie+1]);)Ie+=2;for(_e=le.length-2;_e>Ie&&isNaN(le[_e+1]);)_e-=2;le[Ie+1]!==0&&(fe=[le[Ie],0]),fe=fe.concat(le.slice(Ie,_e+2)),le[_e+1]!==0&&(fe=fe.concat([le[_e],0]))}else if(be.fill==="tozerox"){for(Ie=0;Ie<le.length&&isNaN(le[Ie]);)Ie+=2;for(_e=le.length-2;_e>Ie&&isNaN(le[_e]);)_e-=2;le[Ie]!==0&&(fe=[0,le[Ie+1]]),fe=fe.concat(le.slice(Ie,_e+2)),le[_e]!==0&&(fe=fe.concat([0,le[_e+1]]))}else if(be.fill==="toself"||be.fill==="tonext"){for(fe=[],de=0,ae.splitNull=!0,pe=0;pe<le.length;pe+=2)(isNaN(le[pe])||isNaN(le[pe+1]))&&((fe=fe.concat(le.slice(de,pe))).push(le[de],le[de+1]),fe.push(null,null),de=pe+2);fe=fe.concat(le.slice(de)),de&&fe.push(le[de],le[de+1])}else{var ye=be._nexttrace;if(ye){var Oe=y.lineOptions[ue+1];if(Oe){var Ae=Oe.positions;if(be.fill==="tonexty"){for(fe=le.slice(),ue=Math.floor(Ae.length/2);ue--;){var Se=Ae[2*ue],Pe=Ae[2*ue+1];isNaN(Se)||isNaN(Pe)||fe.push(Se,Pe)}ae.fill=ye.fillcolor}}}}if(be._prevtrace&&be._prevtrace.fill==="tonext"){var Fe=y.lineOptions[ue-1].positions,Be=fe.length/2,xe=[de=Be];for(pe=0;pe<Fe.length;pe+=2)(isNaN(Fe[pe])||isNaN(Fe[pe+1]))&&(xe.push(pe/2+Be+1),de=pe+2);fe=fe.concat(Fe),ae.hole=xe}return ae.fillmode=be.fill,ae.opacity=be.opacity,ae.positions=fe,ae}}),y.fill2d.update(y.fillOptions))}var C=d.dragmode,R=c(C),I=d.clickmode.indexOf("select")>-1;for(f=0;f<_;f++){var D=h[f][0],F=D.trace,q=D.t,z=q.index,V=F._length,X=q.x,j=q.y;if(F.selectedpoints||R||I){if(R||(R=!0),F.selectedpoints){var H=y.selectBatch[z]=g.selIndices2selPoints(F),G={};for(T=0;T<H.length;T++)G[H[T]]=1;var ie=[];for(T=0;T<V;T++)G[T]||ie.push(T);y.unselectBatch[z]=ie}var re=q.xpx=new Array(V),te=q.ypx=new Array(V);for(T=0;T<V;T++)re[T]=m.c2p(X[T]),te[T]=w.c2p(j[T])}else q.xpx=q.ypx=null}if(R){if(y.select2d||(y.select2d=v(d._glcanvas.data()[1].regl)),y.scatter2d){var K=new Array(_);for(f=0;f<_;f++)K[f]=y.selectBatch[f].length||y.unselectBatch[f].length?y.markerUnselectedOptions[f]:{};y.scatter2d.update(K)}y.select2d&&(y.select2d.update(y.markerOptions),y.select2d.update(y.markerSelectedOptions)),y.glText&&h.forEach(function(ae){var ue=((ae||[])[0]||{}).trace||{};n.hasText(ue)&&a(ae)})}else y.scatter2d&&y.scatter2d.update(y.markerOptions);var J={viewport:o(d,m,w,l._context.plotGlPixelRatio),range:[(m._rl||m.range)[0],(w._rl||w.range)[0],(m._rl||m.range)[1],(w._rl||w.range)[1]]},$=g.repeat(J,y.count);y.fill2d&&y.fill2d.update($),y.line2d&&y.line2d.update($),y.error2d&&y.error2d.update($.concat($)),y.scatter2d&&y.scatter2d.update($),y.select2d&&y.select2d.update($),y.glText&&y.glText.forEach(function(ae){ae.update(J)})}else y.init()}}).reglPrecompiled=r},74588:function(O,S,e){var v=e(3400);O.exports=function(x,t){var b=t._scene,g={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},c={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return t._scene||((b=t._scene={}).init=function(){v.extendFlat(b,c,g)},b.init(),b.update=function(s){var n=v.repeat(s,b.count);if(b.fill2d&&b.fill2d.update(n),b.scatter2d&&b.scatter2d.update(n),b.line2d&&b.line2d.update(n),b.error2d&&b.error2d.update(n.concat(n)),b.select2d&&b.select2d.update(n),b.glText)for(var i=0;i<b.count;i++)b.glText[i].update(s)},b.draw=function(){for(var s=b.count,n=b.fill2d,i=b.error2d,a=b.line2d,r=b.scatter2d,o=b.glText,l=b.select2d,u=b.selectBatch,h=b.unselectBatch,f=0;f<s;f++){if(n&&b.fillOrder[f]&&n.draw(b.fillOrder[f]),a&&b.lineOptions[f]&&a.draw(f),i&&(b.errorXOptions[f]&&i.draw(f),b.errorYOptions[f]&&i.draw(f+s)),r&&b.markerOptions[f])if(h[f].length){var T=v.repeat([],b.count);T[f]=h[f],r.draw(T)}else u[f].length||r.draw(f);o[f]&&b.textOptions[f]&&o[f].render()}l&&l.draw(u),b.dirty=!1},b.destroy=function(){b.fill2d&&b.fill2d.destroy&&b.fill2d.destroy(),b.scatter2d&&b.scatter2d.destroy&&b.scatter2d.destroy(),b.error2d&&b.error2d.destroy&&b.error2d.destroy(),b.line2d&&b.line2d.destroy&&b.line2d.destroy(),b.select2d&&b.select2d.destroy&&b.select2d.destroy(),b.glText&&b.glText.forEach(function(s){s.destroy&&s.destroy()}),b.lineOptions=null,b.fillOptions=null,b.markerOptions=null,b.markerSelectedOptions=null,b.markerUnselectedOptions=null,b.errorXOptions=null,b.errorYOptions=null,b.textOptions=null,b.textSelectedOptions=null,b.textUnselectedOptions=null,b.selectBatch=null,b.unselectBatch=null,t._scene=null}),b.dirty||v.extendFlat(b,g),b}},73224:function(O,S,e){var v=e(43028),x=e(26768).styleTextSelection;O.exports=function(t,b){var g=t.cd,c=t.xaxis,s=t.yaxis,n=[],i=g[0].trace,a=g[0].t,r=i._length,o=a.x,l=a.y,u=a._scene,h=a.index;if(!u)return n;var f=v.hasText(i),T=v.hasMarkers(i),d=!T&&!f;if(i.visible!==!0||d)return n;var y=[],m=[];if(b!==!1&&!b.degenerate)for(var w=0;w<r;w++)b.contains([a.xpx[w],a.ypx[w]],!1,w,t)?(y.push(w),n.push({pointNumber:w,x:c.c2d(o[w]),y:s.c2d(l[w])})):m.push(w);if(T){var _=u.scatter2d;if(y.length||m.length){if(!u.selectBatch[h].length&&!u.unselectBatch[h].length){var A=new Array(u.count);A[h]=u.markerUnselectedOptions[h],_.update.apply(_,A)}}else{var p=new Array(u.count);p[h]=u.markerOptions[h],_.update.apply(_,p)}}return u.selectBatch[h]=y,u.unselectBatch[h]=m,f&&x(g),n}},31512:function(O,S,e){var v=e(21776).Ks,x=e(21776).Gw,t=e(98304),b=e(6096),g=e(52904),c=e(5232),s=e(45464),n=e(49084),i=e(92880).extendFlat,a=e(67824).overrideAll,r=e(5232),o=b.line,l=b.marker;O.exports=a({lon:b.lon,lat:b.lat,cluster:{enabled:{valType:"boolean"},maxzoom:i({},r.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:i({},l.opacity,{dflt:1})},mode:i({},g.mode,{dflt:"markers"}),text:i({},g.text,{}),texttemplate:x({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:i({},g.hovertext,{}),line:{color:o.color,width:o.width},connectgaps:g.connectgaps,marker:i({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:l.opacity,size:l.size,sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode},n("marker")),fill:b.fill,fillcolor:t(),textfont:c.layers.symbol.textfont,textposition:c.layers.symbol.textposition,below:{valType:"string"},selected:{marker:g.selected.marker},unselected:{marker:g.unselected.marker},hoverinfo:i({},s.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:v()},"calc","nested")},79732:function(O){var S=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extrabold Italic","Open Sans Extrabold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];O.exports={isSupportedFont:function(e){return S.indexOf(e)!==-1}}},59392:function(O,S,e){var v=e(38248),x=e(3400),t=e(39032).BADNUM,b=e(44808),g=e(8932),c=e(43616),s=e(7152),n=e(43028),i=e(79732).isSupportedFont,a=e(89032),r=e(10624).appendArrayPointValue,o=e(72736).NEWLINES,l=e(72736).BR_TAG_ALL;function u(m){return{type:m,geojson:b.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function h(m,w){return x.isArrayOrTypedArray(m)?w?function(_){return v(m[_])?+m[_]:0}:function(_){return m[_]}:m?function(){return m}:f}function f(){return""}function T(m){return m[0]===t}function d(m,w){var _;if(x.isArrayOrTypedArray(m)&&x.isArrayOrTypedArray(w)){_=["step",["get","point_count"],m[0]];for(var A=1;A<m.length;A++)_.push(w[A-1],m[A])}else _=m;return _}function y(m){var w=m.textfont,_=w.family,A=w.style,p=w.weight,L=_.split(" "),M=L[L.length-1]==="Italic";M&&L.pop(),M=M||A==="italic";var C=L.join(" ");return p==="bold"&&L.indexOf("Bold")===-1?C+=" Bold":p<=1e3&&(L[0]==="Metropolis"?(C="Metropolis",C+=p>850?" Black":p>750?" Extra Bold":p>650?" Bold":p>550?" Semi Bold":p>450?" Medium":p>350?" Regular":p>250?" Light":p>150?" Extra Light":" Thin"):L.slice(0,2).join(" ")==="Open Sans"?(C="Open Sans",C+=p>750?" Extrabold":p>650?" Bold":p>550?" Semibold":p>350?" Regular":" Light"):L.slice(0,3).join(" ")==="Klokantech Noto Sans"&&(C="Klokantech Noto Sans",L[3]==="CJK"&&(C+=" CJK"),C+=p>500?" Bold":" Regular")),M&&(C+=" Italic"),C==="Open Sans Regular Italic"?C="Open Sans Italic":C==="Open Sans Regular Bold"?C="Open Sans Bold":C==="Open Sans Regular Bold Italic"?C="Open Sans Bold Italic":C==="Klokantech Noto Sans Regular Italic"&&(C="Klokantech Noto Sans Italic"),i(C)||(C=_),C.split(", ")}O.exports=function(m,w){var _,A=w[0].trace,p=A.visible===!0&&A._length!==0,L=A.fill!=="none",M=n.hasLines(A),C=n.hasMarkers(A),R=n.hasText(A),I=C&&A.marker.symbol==="circle",D=C&&A.marker.symbol!=="circle",F=A.cluster&&A.cluster.enabled,q=u("fill"),z=u("line"),V=u("circle"),X=u("symbol"),j={fill:q,line:z,circle:V,symbol:X};if(!p)return j;if((L||M)&&(_=b.calcTraceToLineCoords(w)),L&&(q.geojson=b.makePolygon(_),q.layout.visibility="visible",x.extendFlat(q.paint,{"fill-color":A.fillcolor})),M&&(z.geojson=b.makeLine(_),z.layout.visibility="visible",x.extendFlat(z.paint,{"line-width":A.line.width,"line-color":A.line.color,"line-opacity":A.opacity})),I){var H=function(re){var te,K,J,$,ae=re[0].trace,ue=ae.marker,ce=ae.selectedpoints,de=x.isArrayOrTypedArray(ue.color),pe=x.isArrayOrTypedArray(ue.size),me=x.isArrayOrTypedArray(ue.opacity);function be(ye){return ae.opacity*ye}de&&(K=g.hasColorscale(ae,"marker")?g.makeColorScaleFuncFromTrace(ue):x.identity),pe&&(J=s(ae)),me&&($=function(ye){return be(v(ye)?+x.constrain(ye,0,1):0)});var we,Te,Le=[];for(te=0;te<re.length;te++){var Ie=re[te],_e=Ie.lonlat;if(!T(_e)){var fe={};K&&(fe.mcc=Ie.mcc=K(Ie.mc)),J&&(fe.mrc=Ie.mrc=J(Ie.ms)),$&&(fe.mo=$(Ie.mo)),ce&&(fe.selected=Ie.selected||0),Le.push({type:"Feature",id:te+1,geometry:{type:"Point",coordinates:_e},properties:fe})}}if(ce)for(we=c.makeSelectedPointStyleFns(ae),te=0;te<Le.length;te++){var le=Le[te].properties;we.selectedOpacityFn&&(le.mo=be(we.selectedOpacityFn(le))),we.selectedColorFn&&(le.mcc=we.selectedColorFn(le)),we.selectedSizeFn&&(le.mrc=we.selectedSizeFn(le))}return{geojson:{type:"FeatureCollection",features:Le},mcc:de||we&&we.selectedColorFn?{type:"identity",property:"mcc"}:ue.color,mrc:pe||we&&we.selectedSizeFn?{type:"identity",property:"mrc"}:(Te=ue.size,Te/2),mo:me||we&&we.selectedOpacityFn?{type:"identity",property:"mo"}:be(ue.opacity)}}(w);V.geojson=H.geojson,V.layout.visibility="visible",F&&(V.filter=["!",["has","point_count"]],j.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":d(A.cluster.color,A.cluster.step),"circle-radius":d(A.cluster.size,A.cluster.step),"circle-opacity":d(A.cluster.opacity,A.cluster.step)}},j.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":y(A),"text-size":12}}),x.extendFlat(V.paint,{"circle-color":H.mcc,"circle-radius":H.mrc,"circle-opacity":H.mo})}if(I&&F&&(V.filter=["!",["has","point_count"]]),(D||R)&&(X.geojson=function(re,te){for(var K=te._fullLayout,J=re[0].trace,$=J.marker||{},ae=$.symbol,ue=$.angle,ce=ae!=="circle"?h(ae):f,de=ue!=="auto"?h(ue,!0):f,pe=n.hasText(J)?h(J.text):f,me=[],be=0;be<re.length;be++){var we=re[be];if(!T(we.lonlat)){var Te,Le=J.texttemplate;if(Le){var Ie=Array.isArray(Le)?Le[be]||"":Le,_e=J._module.formatLabels(we,J,K),fe={};r(fe,J,we.i);var le=J._meta||{};Te=x.texttemplateString(Ie,_e,K._d3locale,fe,we,le)}else Te=pe(be);Te&&(Te=Te.replace(o,"").replace(l,`
`)),me.push({type:"Feature",geometry:{type:"Point",coordinates:we.lonlat},properties:{symbol:ce(be),angle:de(be),text:Te}})}}return{type:"FeatureCollection",features:me}}(w,m),x.extendFlat(X.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),D&&(x.extendFlat(X.layout,{"icon-size":A.marker.size/10}),"angle"in A.marker&&A.marker.angle!=="auto"&&x.extendFlat(X.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),X.layout["icon-allow-overlap"]=A.marker.allowoverlap,x.extendFlat(X.paint,{"icon-opacity":A.opacity*A.marker.opacity,"icon-color":A.marker.color})),R)){var G=(A.marker||{}).size,ie=a(A.textposition,G);x.extendFlat(X.layout,{"text-size":A.textfont.size,"text-anchor":ie.anchor,"text-offset":ie.offset,"text-font":y(A)}),x.extendFlat(X.paint,{"text-color":A.textfont.color,"text-opacity":A.opacity})}return j}},15752:function(O,S,e){var v=e(3400),x=e(43028),t=e(74428),b=e(66828),g=e(124),c=e(70840),s=e(31512),n=e(79732).isSupportedFont;O.exports=function(i,a,r,o){function l(A,p){return v.coerce(i,a,s,A,p)}function u(A,p){return v.coerce2(i,a,s,A,p)}var h=function(A,p,L){var M=L("lon")||[],C=L("lat")||[],R=Math.min(M.length,C.length);return p._length=R,R}(0,a,l);if(h){if(l("text"),l("texttemplate"),l("hovertext"),l("hovertemplate"),l("mode"),l("below"),x.hasMarkers(a)){t(i,a,r,o,l,{noLine:!0,noAngle:!0}),l("marker.allowoverlap"),l("marker.angle");var f=a.marker;f.symbol!=="circle"&&(v.isArrayOrTypedArray(f.size)&&(f.size=f.size[0]),v.isArrayOrTypedArray(f.color)&&(f.color=f.color[0]))}x.hasLines(a)&&(b(i,a,r,o,l,{noDash:!0}),l("connectgaps"));var T=u("cluster.maxzoom"),d=u("cluster.step"),y=u("cluster.color",a.marker&&a.marker.color||r),m=u("cluster.size"),w=u("cluster.opacity");if(l("cluster.enabled",T!==!1||d!==!1||y!==!1||m!==!1||w!==!1)||x.hasText(a)){var _=o.font.family;g(i,a,o,l,{noSelect:!0,noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,font:{family:n(_)?_:"Open Sans Regular",weight:o.font.weight,style:o.font.style,size:o.font.size,color:o.font.color}})}l("fill"),a.fill!=="none"&&c(i,a,r,l),v.coerceSelectionMarkerOpacity(a,l)}else a.visible=!1}},37920:function(O){O.exports=function(S,e){return S.lon=e.lon,S.lat=e.lat,S}},11960:function(O,S,e){var v=e(54460);O.exports=function(x,t,b){var g={},c=b[t.subplot]._subplot.mockAxis,s=x.lonlat;return g.lonLabel=v.tickText(c,c.c2l(s[0]),!0).text,g.latLabel=v.tickText(c,c.c2l(s[1]),!0).text,g}},63312:function(O,S,e){var v=e(93024),x=e(3400),t=e(44928),b=x.fillText,g=e(39032).BADNUM,c=e(47552).traceLayerPrefix;function s(n,i,a){if(!n.hovertemplate){var r=(i.hi||n.hoverinfo).split("+"),o=r.indexOf("all")!==-1,l=r.indexOf("lon")!==-1,u=r.indexOf("lat")!==-1,h=i.lonlat,f=[];return o||l&&u?f.push("("+T(h[1])+", "+T(h[0])+")"):l?f.push(a.lon+T(h[0])):u&&f.push(a.lat+T(h[1])),(o||r.indexOf("text")!==-1)&&b(i,n,f),f.join("<br>")}function T(d){return d+""}}O.exports={hoverPoints:function(n,i,a){var r=n.cd,o=r[0].trace,l=n.xa,u=n.ya,h=n.subplot,f=[],T=c+o.uid+"-circle",d=o.cluster&&o.cluster.enabled;if(d){var y=h.map.queryRenderedFeatures(null,{layers:[T]});f=y.map(function(D){return D.id})}var m=360*(i>=0?Math.floor((i+180)/360):Math.ceil((i-180)/360)),w=i-m;if(v.getClosest(r,function(D){var F=D.lonlat;if(F[0]===g||d&&f.indexOf(D.i+1)===-1)return 1/0;var q=x.modHalf(F[0],360),z=F[1],V=h.project([q,z]),X=V.x-l.c2p([w,z]),j=V.y-u.c2p([q,a]),H=Math.max(3,D.mrc||0);return Math.max(Math.sqrt(X*X+j*j)-H,1-3/H)},n),n.index!==!1){var _=r[n.index],A=_.lonlat,p=[x.modHalf(A[0],360)+m,A[1]],L=l.c2p(p),M=u.c2p(p),C=_.mrc||1;n.x0=L-C,n.x1=L+C,n.y0=M-C,n.y1=M+C;var R={};R[o.subplot]={_subplot:h};var I=o._module.formatLabels(_,o,R);return n.lonLabel=I.lonLabel,n.latLabel=I.latLabel,n.color=t(o,_),n.extraText=s(o,_,r[0].t.labels),n.hovertemplate=o.hovertemplate,[n]}},getExtraText:s}},11572:function(O,S,e){O.exports={attributes:e(31512),supplyDefaults:e(15752),colorbar:e(5528),formatLabels:e(11960),calc:e(25212),plot:e(9660),hoverPoints:e(63312).hoverPoints,eventData:e(37920),selectPoints:e(404),styleOnSelect:function(v,x){x&&x[0].trace._glTrace.update(x)},moduleType:"trace",name:"scattermapbox",basePlotModule:e(33688),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},9660:function(O,S,e){var v=e(3400),x=e(59392),t=e(47552).traceLayerPrefix,b={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function g(s,n,i,a){this.type="scattermapbox",this.subplot=s,this.uid=n,this.clusterEnabled=i,this.isHidden=a,this.sourceIds={fill:"source-"+n+"-fill",line:"source-"+n+"-line",circle:"source-"+n+"-circle",symbol:"source-"+n+"-symbol",cluster:"source-"+n+"-circle",clusterCount:"source-"+n+"-circle"},this.layerIds={fill:t+n+"-fill",line:t+n+"-line",circle:t+n+"-circle",symbol:t+n+"-symbol",cluster:t+n+"-cluster",clusterCount:t+n+"-cluster-count"},this.below=null}var c=g.prototype;c.addSource=function(s,n,i){var a={type:"geojson",data:n.geojson};i&&i.enabled&&v.extendFlat(a,{cluster:!0,clusterMaxZoom:i.maxzoom});var r=this.subplot.map.getSource(this.sourceIds[s]);r?r.setData(n.geojson):this.subplot.map.addSource(this.sourceIds[s],a)},c.setSourceData=function(s,n){this.subplot.map.getSource(this.sourceIds[s]).setData(n.geojson)},c.addLayer=function(s,n,i){var a={type:n.type,id:this.layerIds[s],source:this.sourceIds[s],layout:n.layout,paint:n.paint};n.filter&&(a.filter=n.filter);for(var r,o=this.layerIds[s],l=this.subplot.getMapLayers(),u=0;u<l.length;u++)if(l[u].id===o){r=!0;break}r?(this.subplot.setOptions(o,"setLayoutProperty",a.layout),a.layout.visibility==="visible"&&this.subplot.setOptions(o,"setPaintProperty",a.paint)):this.subplot.addLayer(a,i)},c.update=function(s){var n=s[0].trace,i=this.subplot,a=i.map,r=x(i.gd,s),o=i.belowLookup["trace-"+this.uid],l=!(!n.cluster||!n.cluster.enabled),u=!!this.clusterEnabled,h=this;function f(w){u?function(_){for(var A=b.cluster,p=A.length-1;p>=0;p--){var L=A[p];a.removeLayer(h.layerIds[L])}_||a.removeSource(h.sourceIds.circle)}(w):function(_){for(var A=b.nonCluster,p=A.length-1;p>=0;p--){var L=A[p];a.removeLayer(h.layerIds[L]),_||a.removeSource(h.sourceIds[L])}}(w)}function T(w){l?function(_){_||h.addSource("circle",r.circle,n.cluster);for(var A=b.cluster,p=0;p<A.length;p++){var L=A[p],M=r[L];h.addLayer(L,M,o)}}(w):function(_){for(var A=b.nonCluster,p=0;p<A.length;p++){var L=A[p],M=r[L];_||h.addSource(L,M),h.addLayer(L,M,o)}}(w)}function d(){for(var w=l?b.cluster:b.nonCluster,_=0;_<w.length;_++){var A=w[_],p=r[A];p&&(i.setOptions(h.layerIds[A],"setLayoutProperty",p.layout),p.layout.visibility==="visible"&&(A!=="cluster"&&h.setSourceData(A,p),i.setOptions(h.layerIds[A],"setPaintProperty",p.paint)))}}var y=this.isHidden,m=n.visible!==!0;m?y||f():y?m||T():u!==l?(f(),T()):(this.below!==o&&(f(!0),T(!0)),d()),this.clusterEnabled=l,this.isHidden=m,this.below=o,s[0].trace._glTrace=this},c.dispose=function(){for(var s=this.subplot.map,n=this.clusterEnabled?b.cluster:b.nonCluster,i=n.length-1;i>=0;i--){var a=n[i];s.removeLayer(this.layerIds[a]),s.removeSource(this.sourceIds[a])}},O.exports=function(s,n){var i,a,r,o=n[0].trace,l=o.cluster&&o.cluster.enabled,u=o.visible!==!0,h=new g(s,o.uid,l,u),f=x(s.gd,n),T=h.below=s.belowLookup["trace-"+o.uid];if(l)for(h.addSource("circle",f.circle,o.cluster),i=0;i<b.cluster.length;i++)r=f[a=b.cluster[i]],h.addLayer(a,r,T);else for(i=0;i<b.nonCluster.length;i++)r=f[a=b.nonCluster[i]],h.addSource(a,r,o.cluster),h.addLayer(a,r,T);return n[0].trace._glTrace=h,h}},404:function(O,S,e){var v=e(3400),x=e(43028),t=e(39032).BADNUM;O.exports=function(b,g){var c,s=b.cd,n=b.xaxis,i=b.yaxis,a=[],r=s[0].trace;if(!x.hasMarkers(r))return[];if(g===!1)for(c=0;c<s.length;c++)s[c].selected=0;else for(c=0;c<s.length;c++){var o=s[c],l=o.lonlat;if(l[0]!==t){var u=[v.modHalf(l[0],360),l[1]],h=[n.c2p(u),i.c2p(u)];g.contains(h,null,c,b)?(a.push({pointNumber:c,lon:l[0],lat:l[1]}),o.selected=1):o.selected=0}}return a}},8319:function(O,S,e){var v=e(21776).Ks,x=e(21776).Gw,t=e(92880).extendFlat,b=e(98304),g=e(52904),c=e(45464),s=g.line;O.exports={mode:g.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:g.text,texttemplate:x({editType:"plot"},{keys:["r","theta","text"]}),hovertext:g.hovertext,line:{color:s.color,width:s.width,dash:s.dash,backoff:s.backoff,shape:t({},s.shape,{values:["linear","spline"]}),smoothing:s.smoothing,editType:"calc"},connectgaps:g.connectgaps,marker:g.marker,cliponaxis:t({},g.cliponaxis,{dflt:!1}),textposition:g.textposition,textfont:g.textfont,fill:t({},g.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:b(),hoverinfo:t({},c.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:g.hoveron,hovertemplate:v(),selected:g.selected,unselected:g.unselected}},58320:function(O,S,e){var v=e(38248),x=e(39032).BADNUM,t=e(54460),b=e(90136),g=e(20148),c=e(4500),s=e(16356).calcMarkerSize;O.exports=function(n,i){for(var a=n._fullLayout,r=i.subplot,o=a[r].radialaxis,l=a[r].angularaxis,u=o.makeCalcdata(i,"r"),h=l.makeCalcdata(i,"theta"),f=i._length,T=new Array(f),d=0;d<f;d++){var y=u[d],m=h[d],w=T[d]={};v(y)&&v(m)?(w.r=y,w.theta=m):w.r=x}var _=s(i,f);return i._extremes.x=t.findExtremes(o,u,{ppad:_}),b(n,i),g(T,i),c(T,i),T}},85968:function(O,S,e){var v=e(3400),x=e(43028),t=e(74428),b=e(66828),g=e(11731),c=e(124),s=e(70840),n=e(88200).PTS_LINESONLY,i=e(8319);function a(r,o,l,u){var h,f=u("r"),T=u("theta");if(v.isTypedArray(f)&&(o.r=f=Array.from(f)),v.isTypedArray(T)&&(o.theta=T=Array.from(T)),f)T?h=Math.min(f.length,T.length):(h=f.length,u("theta0"),u("dtheta"));else{if(!T)return 0;h=o.theta.length,u("r0"),u("dr")}return o._length=h,h}O.exports={handleRThetaDefaults:a,supplyDefaults:function(r,o,l,u){function h(d,y){return v.coerce(r,o,i,d,y)}var f=a(0,o,0,h);if(f){h("thetaunit"),h("mode",f<n?"lines+markers":"lines"),h("text"),h("hovertext"),o.hoveron!=="fills"&&h("hovertemplate"),x.hasMarkers(o)&&t(r,o,l,u,h,{gradient:!0}),x.hasLines(o)&&(b(r,o,l,u,h,{backoff:!0}),g(r,o,h),h("connectgaps")),x.hasText(o)&&(h("texttemplate"),c(r,o,u,h));var T=[];(x.hasMarkers(o)||x.hasText(o))&&(h("cliponaxis"),h("marker.maxdisplayed"),T.push("points")),h("fill"),o.fill!=="none"&&(s(r,o,l,h),x.hasLines(o)||g(r,o,h)),o.fill!=="tonext"&&o.fill!=="toself"||T.push("fills"),h("hoveron",T.join("+")||"points"),v.coerceSelectionMarkerOpacity(o,h)}else o.visible=!1}}},22852:function(O,S,e){var v=e(3400),x=e(54460);O.exports=function(t,b,g){var c,s,n={},i=g[b.subplot]._subplot;i?(c=i.radialAxis,s=i.angularAxis):(c=(i=g[b.subplot]).radialaxis,s=i.angularaxis);var a=c.c2l(t.r);n.rLabel=x.tickText(c,a,!0).text;var r=s.thetaunit==="degrees"?v.rad2deg(t.theta):t.theta;return n.thetaLabel=x.tickText(s,r,!0).text,n}},8504:function(O,S,e){var v=e(98723);function x(t,b,g,c){var s=g.radialAxis,n=g.angularAxis;s._hovertitle="r",n._hovertitle="";var i={};i[b.subplot]={_subplot:g};var a=b._module.formatLabels(t,b,i);c.rLabel=a.rLabel,c.thetaLabel=a.thetaLabel;var r=t.hi||b.hoverinfo,o=[];function l(h,f){o.push(h._hovertitle+": "+f)}if(!b.hovertemplate){var u=r.split("+");u.indexOf("all")!==-1&&(u=["r","theta","text"]),u.indexOf("r")!==-1&&l(s,c.rLabel),u.indexOf("theta")!==-1&&l(n,c.thetaLabel),u.indexOf("text")!==-1&&c.text&&(o.push(c.text),delete c.text),c.extraText=o.join("<br>")}}O.exports={hoverPoints:function(t,b,g,c){var s=v(t,b,g,c);if(s&&s[0].index!==!1){var n=s[0];if(n.index===void 0)return s;var i=t.subplot,a=n.cd[n.index],r=n.trace;if(i.isPtInside(a))return n.xLabelVal=void 0,n.yLabelVal=void 0,x(a,r,i,n),n.hovertemplate=r.hovertemplate,s}},makeHoverPointText:x}},76924:function(O,S,e){O.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(40872),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(8319),supplyDefaults:e(85968).supplyDefaults,colorbar:e(5528),formatLabels:e(22852),calc:e(58320),plot:e(43456),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(8504).hoverPoints,selectPoints:e(91560),meta:{}}},43456:function(O,S,e){var v=e(96504),x=e(39032).BADNUM;O.exports=function(t,b,g){for(var c=b.layers.frontplot.select("g.scatterlayer"),s=b.xaxis,n=b.yaxis,i={xaxis:s,yaxis:n,plot:b.framework,layerClipId:b._hasClipOnAxisFalse?b.clipIds.forTraces:null},a=b.radialAxis,r=b.angularAxis,o=0;o<g.length;o++)for(var l=g[o],u=0;u<l.length;u++){u===0&&(l[0].trace._xA=s,l[0].trace._yA=n);var h=l[u],f=h.r;if(f===x)h.x=h.y=x;else{var T=a.c2g(f),d=r.c2g(h.theta);h.x=T*Math.cos(d),h.y=T*Math.sin(d)}}v(t,i,g,c)}},24396:function(O,S,e){var v=e(8319),x=e(2876),t=e(21776).Gw;O.exports={mode:v.mode,r:v.r,theta:v.theta,r0:v.r0,dr:v.dr,theta0:v.theta0,dtheta:v.dtheta,thetaunit:v.thetaunit,text:v.text,texttemplate:t({editType:"plot"},{keys:["r","theta","text"]}),hovertext:v.hovertext,hovertemplate:v.hovertemplate,line:{color:x.line.color,width:x.line.width,dash:x.line.dash,editType:"calc"},connectgaps:x.connectgaps,marker:x.marker,fill:x.fill,fillcolor:x.fillcolor,textposition:x.textposition,textfont:x.textfont,hoverinfo:v.hoverinfo,selected:v.selected,unselected:v.unselected}},27160:function(O,S,e){O.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(40872),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(24396),supplyDefaults:e(98608),colorbar:e(5528),formatLabels:e(94120),calc:e(66720),hoverPoints:e(1600).hoverPoints,selectPoints:e(73224),meta:{}}},66720:function(O,S,e){var v=e(90136),x=e(16356).calcMarkerSize,t=e(84236),b=e(54460),g=e(67072).TOO_MANY_POINTS;O.exports=function(c,s){var n=c._fullLayout,i=s.subplot,a=n[i].radialaxis,r=n[i].angularaxis,o=s._r=a.makeCalcdata(s,"r"),l=s._theta=r.makeCalcdata(s,"theta"),u=s._length,h={};u<o.length&&(o=o.slice(0,u)),u<l.length&&(l=l.slice(0,u)),h.r=o,h.theta=l,v(c,s);var f,T=h.opts=t.style(c,s);return u<g?f=x(s,u):T.marker&&(f=2*(T.marker.sizeAvg||Math.max(T.marker.size,3))),s._extremes.x=b.findExtremes(a,o,{ppad:f}),[{x:!1,y:!1,t:h,trace:s}]}},98608:function(O,S,e){var v=e(3400),x=e(43028),t=e(85968).handleRThetaDefaults,b=e(74428),g=e(66828),c=e(124),s=e(70840),n=e(88200).PTS_LINESONLY,i=e(24396);O.exports=function(a,r,o,l){function u(f,T){return v.coerce(a,r,i,f,T)}var h=t(a,r,l,u);h?(u("thetaunit"),u("mode",h<n?"lines+markers":"lines"),u("text"),u("hovertext"),r.hoveron!=="fills"&&u("hovertemplate"),x.hasMarkers(r)&&b(a,r,o,l,u,{noAngleRef:!0,noStandOff:!0}),x.hasLines(r)&&(g(a,r,o,l,u),u("connectgaps")),x.hasText(r)&&(u("texttemplate"),c(a,r,l,u,{noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0})),u("fill"),r.fill!=="none"&&s(a,r,o,u),v.coerceSelectionMarkerOpacity(r,u)):r.visible=!1}},94120:function(O,S,e){var v=e(22852);O.exports=function(x,t,b){var g=x.i;return"r"in x||(x.r=t._r[g]),"theta"in x||(x.theta=t._theta[g]),v(x,t,b)}},1600:function(O,S,e){var v=e(41272),x=e(8504).makeHoverPointText;O.exports={hoverPoints:function(t,b,g,c){var s=t.cd[0].t,n=s.r,i=s.theta,a=v.hoverPoints(t,b,g,c);if(a&&a[0].index!==!1){var r=a[0];if(r.index===void 0)return a;var o=t.subplot,l=r.cd[r.index],u=r.trace;if(l.r=n[r.index],l.theta=i[r.index],o.isPtInside(l))return r.xLabelVal=void 0,r.yLabelVal=void 0,x(l,u,o,r),a}}}},62944:function(O,S,e){var v=e(27160);v.plot=e(56512),O.exports=v},56512:function(O,S,e){var v=e(3108),x=e(38248),t=e(89876),b=e(74588),g=e(84236),c=e(3400),s=e(67072).TOO_MANY_POINTS;O.exports=function(n,i,a){if(a.length){var r=i.radialAxis,o=i.angularAxis,l=b(n,i);return a.forEach(function(u){if(u&&u[0]&&u[0].trace){var h,f=u[0],T=f.trace,d=f.t,y=T._length,m=d.r,w=d.theta,_=d.opts,A=m.slice(),p=w.slice();for(h=0;h<m.length;h++)i.isPtInside({r:m[h],theta:w[h]})||(A[h]=NaN,p[h]=NaN);var L=new Array(2*y),M=Array(y),C=Array(y);for(h=0;h<y;h++){var R,I,D=A[h];if(x(D)){var F=r.c2g(D),q=o.c2g(p[h],T.thetaunit);R=F*Math.cos(q),I=F*Math.sin(q)}else R=I=NaN;M[h]=L[2*h]=R,C[h]=L[2*h+1]=I}d.tree=v(L),_.marker&&y>=s&&(_.marker.cluster=d.tree),_.marker&&(_.markerSel.positions=_.markerUnsel.positions=_.marker.positions=L),_.line&&L.length>1&&c.extendFlat(_.line,g.linePositions(n,T,L)),_.text&&(c.extendFlat(_.text,{positions:L},g.textPosition(n,T,_.text,_.marker)),c.extendFlat(_.textSel,{positions:L},g.textPosition(n,T,_.text,_.markerSel)),c.extendFlat(_.textUnsel,{positions:L},g.textPosition(n,T,_.text,_.markerUnsel))),_.fill&&!l.fill2d&&(l.fill2d=!0),_.marker&&!l.scatter2d&&(l.scatter2d=!0),_.line&&!l.line2d&&(l.line2d=!0),_.text&&!l.glText&&(l.glText=!0),l.lineOptions.push(_.line),l.fillOptions.push(_.fill),l.markerOptions.push(_.marker),l.markerSelectedOptions.push(_.markerSel),l.markerUnselectedOptions.push(_.markerUnsel),l.textOptions.push(_.text),l.textSelectedOptions.push(_.textSel),l.textUnselectedOptions.push(_.textUnsel),l.selectBatch.push([]),l.unselectBatch.push([]),d.x=M,d.y=C,d.rawx=M,d.rawy=C,d.r=m,d.theta=w,d.positions=L,d._scene=l,d.index=l.count,l.count++}}),t(n,i,a)}},O.exports.reglPrecompiled={}},69496:function(O,S,e){var v=e(21776).Ks,x=e(21776).Gw,t=e(92880).extendFlat,b=e(98304),g=e(52904),c=e(45464),s=g.line;O.exports={mode:g.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:g.text,texttemplate:x({editType:"plot"},{keys:["real","imag","text"]}),hovertext:g.hovertext,line:{color:s.color,width:s.width,dash:s.dash,backoff:s.backoff,shape:t({},s.shape,{values:["linear","spline"]}),smoothing:s.smoothing,editType:"calc"},connectgaps:g.connectgaps,marker:g.marker,cliponaxis:t({},g.cliponaxis,{dflt:!1}),textposition:g.textposition,textfont:g.textfont,fill:t({},g.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:b(),hoverinfo:t({},c.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:g.hoveron,hovertemplate:v(),selected:g.selected,unselected:g.unselected}},47507:function(O,S,e){var v=e(38248),x=e(39032).BADNUM,t=e(90136),b=e(20148),g=e(4500),c=e(16356).calcMarkerSize;O.exports=function(s,n){for(var i=s._fullLayout,a=n.subplot,r=i[a].realaxis,o=i[a].imaginaryaxis,l=r.makeCalcdata(n,"real"),u=o.makeCalcdata(n,"imag"),h=n._length,f=new Array(h),T=0;T<h;T++){var d=l[T],y=u[T],m=f[T]={};v(d)&&v(y)?(m.real=d,m.imag=y):m.real=x}return c(n,h),t(s,n),b(f,n),g(f,n),f}},76716:function(O,S,e){var v=e(3400),x=e(43028),t=e(74428),b=e(66828),g=e(11731),c=e(124),s=e(70840),n=e(88200).PTS_LINESONLY,i=e(69496);O.exports=function(a,r,o,l){function u(T,d){return v.coerce(a,r,i,T,d)}var h=function(T,d,y,m){var w,_=m("real"),A=m("imag");return _&&A&&(w=Math.min(_.length,A.length)),v.isTypedArray(_)&&(d.real=_=Array.from(_)),v.isTypedArray(A)&&(d.imag=A=Array.from(A)),d._length=w,w}(0,r,0,u);if(h){u("mode",h<n?"lines+markers":"lines"),u("text"),u("hovertext"),r.hoveron!=="fills"&&u("hovertemplate"),x.hasMarkers(r)&&t(a,r,o,l,u,{gradient:!0}),x.hasLines(r)&&(b(a,r,o,l,u,{backoff:!0}),g(a,r,u),u("connectgaps")),x.hasText(r)&&(u("texttemplate"),c(a,r,l,u));var f=[];(x.hasMarkers(r)||x.hasText(r))&&(u("cliponaxis"),u("marker.maxdisplayed"),f.push("points")),u("fill"),r.fill!=="none"&&(s(a,r,o,u),x.hasLines(r)||g(a,r,u)),r.fill!=="tonext"&&r.fill!=="toself"||f.push("fills"),u("hoveron",f.join("+")||"points"),v.coerceSelectionMarkerOpacity(r,u)}else r.visible=!1}},49504:function(O,S,e){var v=e(54460);O.exports=function(x,t,b){var g={},c=b[t.subplot]._subplot;return g.realLabel=v.tickText(c.radialAxis,x.real,!0).text,g.imagLabel=v.tickText(c.angularAxis,x.imag,!0).text,g}},25292:function(O,S,e){var v=e(98723);function x(t,b,g,c){var s=g.radialAxis,n=g.angularAxis;s._hovertitle="real",n._hovertitle="imag";var i={};i[b.subplot]={_subplot:g};var a=b._module.formatLabels(t,b,i);c.realLabel=a.realLabel,c.imagLabel=a.imagLabel;var r=t.hi||b.hoverinfo,o=[];function l(h,f){o.push(h._hovertitle+": "+f)}if(!b.hovertemplate){var u=r.split("+");u.indexOf("all")!==-1&&(u=["real","imag","text"]),u.indexOf("real")!==-1&&l(s,c.realLabel),u.indexOf("imag")!==-1&&l(n,c.imagLabel),u.indexOf("text")!==-1&&c.text&&(o.push(c.text),delete c.text),c.extraText=o.join("<br>")}}O.exports={hoverPoints:function(t,b,g,c){var s=v(t,b,g,c);if(s&&s[0].index!==!1){var n=s[0];if(n.index===void 0)return s;var i=t.subplot,a=n.cd[n.index],r=n.trace;if(i.isPtInside(a))return n.xLabelVal=void 0,n.yLabelVal=void 0,x(a,r,i,n),n.hovertemplate=r.hovertemplate,s}},makeHoverPointText:x}},95443:function(O,S,e){O.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(47788),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(69496),supplyDefaults:e(76716),colorbar:e(5528),formatLabels:e(49504),calc:e(47507),plot:e(34927),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(25292).hoverPoints,selectPoints:e(91560),meta:{}}},34927:function(O,S,e){var v=e(96504),x=e(39032).BADNUM,t=e(36416).smith;O.exports=function(b,g,c){for(var s=g.layers.frontplot.select("g.scatterlayer"),n=g.xaxis,i=g.yaxis,a={xaxis:n,yaxis:i,plot:g.framework,layerClipId:g._hasClipOnAxisFalse?g.clipIds.forTraces:null},r=0;r<c.length;r++)for(var o=c[r],l=0;l<o.length;l++){l===0&&(o[0].trace._xA=n,o[0].trace._yA=i);var u=o[l],h=u.real;if(h===x)u.x=u.y=x;else{var f=t([h,u.imag]);u.x=f[0],u.y=f[1]}}v(b,a,c,s)}},5896:function(O,S,e){var v=e(21776).Ks,x=e(21776).Gw,t=e(98304),b=e(52904),g=e(45464),c=e(49084),s=e(98192).u,n=e(92880).extendFlat,i=b.marker,a=b.line,r=i.line;O.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:n({},b.mode,{dflt:"markers"}),text:n({},b.text,{}),texttemplate:x({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:n({},b.hovertext,{}),line:{color:a.color,width:a.width,dash:s,backoff:a.backoff,shape:n({},a.shape,{values:["linear","spline"]}),smoothing:a.smoothing,editType:"calc"},connectgaps:b.connectgaps,cliponaxis:b.cliponaxis,fill:n({},b.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:t(),marker:n({symbol:i.symbol,opacity:i.opacity,angle:i.angle,angleref:i.angleref,standoff:i.standoff,maxdisplayed:i.maxdisplayed,size:i.size,sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,line:n({width:r.width,editType:"calc"},c("marker.line")),gradient:i.gradient,editType:"calc"},c("marker")),textfont:b.textfont,textposition:b.textposition,selected:b.selected,unselected:b.unselected,hoverinfo:n({},g.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:b.hoveron,hovertemplate:v()}},34335:function(O,S,e){var v=e(38248),x=e(90136),t=e(20148),b=e(4500),g=e(16356).calcMarkerSize,c=["a","b","c"],s={a:["b","c"],b:["a","c"],c:["a","b"]};O.exports=function(n,i){var a,r,o,l,u,h,f=n._fullLayout[i.subplot].sum,T=i.sum||f,d={a:i.a,b:i.b,c:i.c};for(a=0;a<c.length;a++)if(!d[o=c[a]]){for(u=d[s[o][0]],h=d[s[o][1]],l=new Array(u.length),r=0;r<u.length;r++)l[r]=T-u[r]-h[r];d[o]=l}var y,m,w,_,A,p,L=i._length,M=new Array(L);for(a=0;a<L;a++)y=d.a[a],m=d.b[a],w=d.c[a],v(y)&&v(m)&&v(w)?((_=f/((y=+y)+(m=+m)+(w=+w)))!=1&&(y*=_,m*=_,w*=_),p=y,A=w-m,M[a]={x:A,y:p,a:y,b:m,c:w}):M[a]={x:!1,y:!1};return g(i,L),x(n,i),t(M,i),b(M,i),M}},84256:function(O,S,e){var v=e(3400),x=e(88200),t=e(43028),b=e(74428),g=e(66828),c=e(11731),s=e(124),n=e(70840),i=e(5896);O.exports=function(a,r,o,l){function u(m,w){return v.coerce(a,r,i,m,w)}var h,f=u("a"),T=u("b"),d=u("c");if(f?(h=f.length,T?(h=Math.min(h,T.length),d&&(h=Math.min(h,d.length))):h=d?Math.min(h,d.length):0):T&&d&&(h=Math.min(T.length,d.length)),h){r._length=h,u("sum"),u("text"),u("hovertext"),r.hoveron!=="fills"&&u("hovertemplate"),u("mode",h<x.PTS_LINESONLY?"lines+markers":"lines"),t.hasMarkers(r)&&b(a,r,o,l,u,{gradient:!0}),t.hasLines(r)&&(g(a,r,o,l,u,{backoff:!0}),c(a,r,u),u("connectgaps")),t.hasText(r)&&(u("texttemplate"),s(a,r,l,u));var y=[];(t.hasMarkers(r)||t.hasText(r))&&(u("cliponaxis"),u("marker.maxdisplayed"),y.push("points")),u("fill"),r.fill!=="none"&&(n(a,r,o,u),t.hasLines(r)||c(a,r,u)),r.fill!=="tonext"&&r.fill!=="toself"||y.push("fills"),u("hoveron",y.join("+")||"points"),v.coerceSelectionMarkerOpacity(r,u)}else r.visible=!1}},97476:function(O){O.exports=function(S,e,v,x,t){if(e.xa&&(S.xaxis=e.xa),e.ya&&(S.yaxis=e.ya),x[t]){var b=x[t];S.a=b.a,S.b=b.b,S.c=b.c}else S.a=e.a,S.b=e.b,S.c=e.c;return S}},90404:function(O,S,e){var v=e(54460);O.exports=function(x,t,b){var g={},c=b[t.subplot]._subplot;return g.aLabel=v.tickText(c.aaxis,x.a,!0).text,g.bLabel=v.tickText(c.baxis,x.b,!0).text,g.cLabel=v.tickText(c.caxis,x.c,!0).text,g}},26596:function(O,S,e){var v=e(98723);O.exports=function(x,t,b,g){var c=v(x,t,b,g);if(c&&c[0].index!==!1){var s=c[0];if(s.index===void 0){var n=1-s.y0/x.ya._length,i=x.xa._length,a=i*n/2,r=i-a;return s.x0=Math.max(Math.min(s.x0,r),a),s.x1=Math.max(Math.min(s.x1,r),a),c}var o=s.cd[s.index],l=s.trace,u=s.subplot;s.a=o.a,s.b=o.b,s.c=o.c,s.xLabelVal=void 0,s.yLabelVal=void 0;var h={};h[l.subplot]={_subplot:u};var f=l._module.formatLabels(o,l,h);s.aLabel=f.aLabel,s.bLabel=f.bLabel,s.cLabel=f.cLabel;var T=o.hi||l.hoverinfo,d=[];if(!l.hovertemplate){var y=T.split("+");y.indexOf("all")!==-1&&(y=["a","b","c"]),y.indexOf("a")!==-1&&m(u.aaxis,s.aLabel),y.indexOf("b")!==-1&&m(u.baxis,s.bLabel),y.indexOf("c")!==-1&&m(u.caxis,s.cLabel)}return s.extraText=d.join("<br>"),s.hovertemplate=l.hovertemplate,c}function m(w,_){d.push(w._hovertitle+": "+_)}}},34864:function(O,S,e){O.exports={attributes:e(5896),supplyDefaults:e(84256),colorbar:e(5528),formatLabels:e(90404),calc:e(34335),plot:e(88776),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(26596),selectPoints:e(91560),eventData:e(97476),moduleType:"trace",name:"scatterternary",basePlotModule:e(19352),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},88776:function(O,S,e){var v=e(96504);O.exports=function(x,t,b){var g=t.plotContainer;g.select(".scatterlayer").selectAll("*").remove();for(var c=t.xaxis,s=t.yaxis,n={xaxis:c,yaxis:s,plot:g,layerClipId:t._hasClipOnAxisFalse?t.clipIdRelative:null},i=t.layers.frontplot.select("g.scatterlayer"),a=0;a<b.length;a++){var r=b[a];r.length&&(r[0].trace._xA=c,r[0].trace._yA=s)}v(x,n,b,i)}},44524:function(O,S,e){var v=e(52904),x=e(49084),t=e(29736).axisHoverFormat,b=e(21776).Ks,g=e(2876),c=e(33816).idRegex,s=e(31780).templatedArray,n=e(92880).extendFlat,i=v.marker,a=i.line,r=n(x("marker.line",{editTypeOverride:"calc"}),{width:n({},a.width,{editType:"calc"}),editType:"calc"}),o=n(x("marker"),{symbol:i.symbol,angle:i.angle,size:n({},i.size,{editType:"markerSize"}),sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,opacity:i.opacity,colorbar:i.colorbar,line:r,editType:"calc"});function l(u){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:c[u],editType:"plot"}}}o.color.editType=o.cmin.editType=o.cmax.editType="style",O.exports={dimensions:s("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:n({},g.text,{}),hovertext:n({},g.hovertext,{}),hovertemplate:b(),xhoverformat:t("x"),yhoverformat:t("y"),marker:o,xaxes:l("x"),yaxes:l("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:g.selected.marker,editType:"calc"},unselected:{marker:g.unselected.marker,editType:"calc"},opacity:g.opacity}},28888:function(O,S,e){var v=e(24040),x=e(12704);O.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(44524),supplyDefaults:e(69544),colorbar:e(5528),calc:e(66821),plot:e(54840),hoverPoints:e(72248).hoverPoints,selectPoints:e(62500),editStyle:e(83156),meta:{}},v.register(x)},99332:function(O,S,e){var v=e(13472),x=e(24040),t=e(5048),b=e(84888)._M,g=e(57952),c=e(79811).getFromId,s=e(54460).shouldShowZeroLine,n="splom",i={};function a(o,l,u){for(var h=u.matrixOptions.data.length,f=l._visibleDims,T=u.viewOpts.ranges=new Array(h),d=0;d<f.length;d++){var y=f[d],m=T[d]=new Array(4),w=c(o,l._diag[y][0]);w&&(m[0]=w.r2l(w.range[0]),m[2]=w.r2l(w.range[1]));var _=c(o,l._diag[y][1]);_&&(m[1]=_.r2l(_.range[0]),m[3]=_.r2l(_.range[1]))}u.selectBatch.length||u.unselectBatch.length?u.matrix.update({ranges:T},{ranges:T}):u.matrix.update({ranges:T})}function r(o){var l=o._fullLayout,u=l._glcanvas.data()[0].regl,h=l._splomGrid;h||(h=l._splomGrid=v(u)),h.update(function(f){var T,d=f._context.plotGlPixelRatio,y=f._fullLayout,m=y._size,w=[0,0,y.width*d,y.height*d],_={};function A(G,ie,re,te,K,J){re*=d,te*=d,K*=d,J*=d;var $=ie[G+"color"],ae=ie[G+"width"],ue=String($+ae);ue in _?_[ue].data.push(NaN,NaN,re,te,K,J):_[ue]={data:[re,te,K,J],join:"rect",thickness:ae*d,color:$,viewport:w,range:w,overlay:!1}}for(T in y._splomSubplots){var p,L,M=y._plots[T],C=M.xaxis,R=M.yaxis,I=C._gridVals,D=R._gridVals,F=C._offset,q=C._length,z=R._length,V=m.b+R.domain[0]*m.h,X=-R._m,j=-X*R.r2l(R.range[0],R.calendar);if(C.showgrid)for(T=0;T<I.length;T++)p=F+C.l2p(I[T].x),A("grid",C,p,V,p,V+z);if(R.showgrid)for(T=0;T<D.length;T++)A("grid",R,F,L=V+j+X*D[T].x,F+q,L);s(f,C,R)&&(p=F+C.l2p(0),A("zeroline",C,p,V,p,V+z)),s(f,R,C)&&A("zeroline",R,F,L=V+j+0,F+q,L)}var H=[];for(T in _)H.push(_[T]);return H}(o))}O.exports={name:n,attr:g.attr,attrRegex:g.attrRegex,layoutAttributes:g.layoutAttributes,supplyLayoutDefaults:g.supplyLayoutDefaults,drawFramework:g.drawFramework,plot:function(o){var l=o._fullLayout,u=x.getModule(n),h=b(o.calcdata,u)[0];t(o,["ANGLE_instanced_arrays","OES_element_index_uint"],i)&&(l._hasOnlyLargeSploms&&r(o),u.plot(o,{},h))},drag:function(o){var l=o.calcdata,u=o._fullLayout;u._hasOnlyLargeSploms&&r(o);for(var h=0;h<l.length;h++){var f=l[h][0].trace,T=u._splomScenes[f.uid];f.type==="splom"&&T&&T.matrix&&a(o,f,T)}},updateGrid:r,clean:function(o,l,u,h){var f,T={};if(h._splomScenes){for(f=0;f<o.length;f++){var d=o[f];d.type==="splom"&&(T[d.uid]=1)}for(f=0;f<u.length;f++){var y=u[f];if(!T[y.uid]){var m=h._splomScenes[y.uid];m&&m.destroy&&m.destroy(),h._splomScenes[y.uid]=null,delete h._splomScenes[y.uid]}}}Object.keys(h._splomScenes||{}).length===0&&delete h._splomScenes,h._splomGrid&&!l._hasOnlyLargeSploms&&h._hasOnlyLargeSploms&&(h._splomGrid.destroy(),h._splomGrid=null,delete h._splomGrid),g.clean(o,l,u,h)},updateFx:g.updateFx,toSVG:g.toSVG,reglPrecompiled:i}},66821:function(O,S,e){var v=e(3400),x=e(79811),t=e(16356).calcMarkerSize,b=e(16356).calcAxisExpansion,g=e(90136),c=e(84236).markerSelection,s=e(84236).markerStyle,n=e(72308),i=e(39032).BADNUM,a=e(67072).TOO_MANY_POINTS;O.exports=function(r,o){var l,u,h,f,T,d,y=o.dimensions,m=o._length,w={},_=w.cdata=[],A=w.data=[],p=o._visibleDims=[];function L(C,R){for(var I=C.makeCalcdata({v:R.values,vcalendar:o.calendar},"v"),D=0;D<I.length;D++)I[D]=I[D]===i?NaN:I[D];_.push(I),A.push(C.type==="log"?v.simpleMap(I,C.c2l):I)}for(l=0;l<y.length;l++)if((h=y[l]).visible){if(f=x.getFromId(r,o._diag[l][0]),T=x.getFromId(r,o._diag[l][1]),f&&T&&f.type!==T.type){v.log("Skipping splom dimension "+l+" with conflicting axis types");continue}f?(L(f,h),T&&T.type==="category"&&(T._categories=f._categories.slice())):L(T,h),p.push(l)}for(g(r,o),v.extendFlat(w,s(r,o)),d=_.length*m>a?w.sizeAvg||Math.max(w.size,3):t(o,m),u=0;u<p.length;u++)h=y[l=p[u]],f=x.getFromId(r,o._diag[l][0])||{},T=x.getFromId(r,o._diag[l][1])||{},b(r,o,f,T,_[u],_[u],d);var M=n(r,o);return M.matrix||(M.matrix=!0),M.matrixOptions=w,M.selectedOptions=c(r,o,o.selected),M.unselectedOptions=c(r,o,o.unselected),[{x:!1,y:!1,t:{},trace:o}]}},69544:function(O,S,e){var v=e(3400),x=e(51272),t=e(44524),b=e(43028),g=e(74428),c=e(26284),s=e(80088).isOpenSymbol;function n(i,a){function r(l,u){return v.coerce(i,a,t.dimensions,l,u)}r("label");var o=r("values");o&&o.length?r("visible"):a.visible=!1,r("axis.type"),r("axis.matches")}O.exports=function(i,a,r,o){function l(m,w){return v.coerce(i,a,t,m,w)}var u=x(i,a,{name:"dimensions",handleItemDefaults:n}),h=l("diagonal.visible"),f=l("showupperhalf"),T=l("showlowerhalf");if(c(a,u,"values")&&(h||f||T)){l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),g(i,a,r,o,l,{noAngleRef:!0,noStandOff:!0});var d=s(a.marker.symbol),y=b.isBubble(a);l("marker.line.width",d||y?1:0),function(m,w,_,A){var p,L,M=w.dimensions,C=M.length,R=w.showupperhalf,I=w.showlowerhalf,D=w.diagonal.visible,F=new Array(C),q=new Array(C);for(p=0;p<C;p++){var z=p?p+1:"";F[p]="x"+z,q[p]="y"+z}var V=A("xaxes",F),X=A("yaxes",q),j=w._diag=new Array(C);w._xaxes={},w._yaxes={};var H=[],G=[];function ie(de,pe,me,be){if(de){var we=de.charAt(0),Te=_._splomAxes[we];if(w["_"+we+"axes"][de]=1,be.push(de),!(de in Te)){var Le=Te[de]={};me&&(Le.label=me.label||"",me.visible&&me.axis&&(me.axis.type&&(Le.type=me.axis.type),me.axis.matches&&(Le.matches=pe)))}}}var re=!D&&!I,te=!D&&!R;for(w._axesDim={},p=0;p<C;p++){var K=M[p],J=p===0,$=p===C-1,ae=J&&re||$&&te?void 0:V[p],ue=J&&te||$&&re?void 0:X[p];ie(ae,ue,K,H),ie(ue,ae,K,G),j[p]=[ae,ue],w._axesDim[ae]=p,w._axesDim[ue]=p}for(p=0;p<H.length;p++)for(L=0;L<G.length;L++){var ce=H[p]+G[L];p>L&&R||p<L&&I?_._splomSubplots[ce]=1:p!==L||!D&&I&&R||(_._splomSubplots[ce]=1)}(!I||!D&&R&&I)&&(_._splomGridDflt.xside="bottom",_._splomGridDflt.yside="left")}(0,a,o,l),v.coerceSelectionMarkerOpacity(a,l)}else a.visible=!1}},83156:function(O,S,e){var v=e(3400),x=e(90136),t=e(84236).markerStyle;O.exports=function(b,g){var c=g.trace,s=b._fullLayout._splomScenes[c.uid];if(s){x(b,c),v.extendFlat(s.matrixOptions,t(b,c));var n=v.extendFlat({},s.matrixOptions,s.viewOpts);s.matrix.update(n,null)}}},50328:function(O,S){S.getDimIndex=function(e,v){for(var x=v._id,t={x:0,y:1}[x.charAt(0)],b=e._visibleDims,g=0;g<b.length;g++){var c=b[g];if(e._diag[c][t]===x)return g}return!1}},72248:function(O,S,e){var v=e(50328),x=e(41272).calcHover,t=e(54460).getFromId,b=e(92880).extendFlat;function g(c,s,n,i){var a=c.cd[0].trace,r=c.scene.matrixOptions.cdata,o=c.xa,l=c.ya,u=o.c2p(s),h=l.c2p(n),f=c.distance,T=v.getDimIndex(a,o),d=v.getDimIndex(a,l);if(T===!1||d===!1)return[c];for(var y,m,w=r[T],_=r[d],A=f,p=0;p<w.length;p++)if(!i||p===c.index){var L=w[p],M=_[p],C=o.c2p(L)-u,R=l.c2p(M)-h,I=Math.sqrt(C*C+R*R);(i||I<A)&&(A=m=I,y=p)}return c.index=y,c.distance=A,c.dxy=m,y===void 0?[c]:[x(c,w,_,a)]}O.exports={hoverPoints:function(c,s,n,i,a){a||(a={});var r=(i||"").charAt(0)==="x",o=(i||"").charAt(0)==="y",l=g(c,s,n);if((r||o)&&a.hoversubplots==="axis"&&l[0])for(var u=(r?c.xa:c.ya)._subplotsWith,h=a.gd,f=b({},c),T=0;T<u.length;T++){var d=u[T];if(d!==c.xa._id+c.ya._id){o?f.xa=t(h,d,"x"):f.ya=t(h,d,"y");var y=g(f,s,n,r||o);l=l.concat(y)}}return l}}},97924:function(O,S,e){var v=e(28888);v.basePlotModule=e(99332),O.exports=v},54840:function(O,S,e){var v=e(55795),x=e(3400),t=e(79811),b=e(72760).selectMode;function g(c,s){var n,i,a,r,o,l=c._fullLayout,u=l._size,h=s.trace,f=s.t,T=l._splomScenes[h.uid],d=T.matrixOptions,y=d.cdata,m=l._glcanvas.data()[0].regl,w=l.dragmode;if(y.length!==0){d.lower=h.showupperhalf,d.upper=h.showlowerhalf,d.diagonal=h.diagonal.visible;var _=h._visibleDims,A=y.length,p=T.viewOpts={};for(p.ranges=new Array(A),p.domains=new Array(A),o=0;o<_.length;o++){a=_[o];var L=p.ranges[o]=new Array(4),M=p.domains[o]=new Array(4);(n=t.getFromId(c,h._diag[a][0]))&&(L[0]=n._rl[0],L[2]=n._rl[1],M[0]=n.domain[0],M[2]=n.domain[1]),(i=t.getFromId(c,h._diag[a][1]))&&(L[1]=i._rl[0],L[3]=i._rl[1],M[1]=i.domain[0],M[3]=i.domain[1])}var C=c._context.plotGlPixelRatio,R=u.l*C,I=u.b*C,D=u.w*C,F=u.h*C;p.viewport=[R,I,D+R,F+I],T.matrix===!0&&(T.matrix=v(m));var q=l.clickmode.indexOf("select")>-1,z=!0;if(b(w)||h.selectedpoints||q){var V=h._length;if(h.selectedpoints){T.selectBatch=h.selectedpoints;var X=h.selectedpoints,j={};for(a=0;a<X.length;a++)j[X[a]]=!0;var H=[];for(a=0;a<V;a++)j[a]||H.push(a);T.unselectBatch=H}var G=f.xpx=new Array(A),ie=f.ypx=new Array(A);for(o=0;o<_.length;o++){if(a=_[o],n=t.getFromId(c,h._diag[a][0]))for(G[o]=new Array(V),r=0;r<V;r++)G[o][r]=n.c2p(y[o][r]);if(i=t.getFromId(c,h._diag[a][1]))for(ie[o]=new Array(V),r=0;r<V;r++)ie[o][r]=i.c2p(y[o][r])}if(T.selectBatch.length||T.unselectBatch.length){var re=x.extendFlat({},d,T.unselectedOptions,p),te=x.extendFlat({},d,T.selectedOptions,p);T.matrix.update(re,te),z=!1}}else f.xpx=f.ypx=null;if(z){var K=x.extendFlat({},d,p);T.matrix.update(K,null)}}}O.exports=function(c,s,n){if(n.length)for(var i=0;i<n.length;i++)g(c,n[i][0])}},72308:function(O,S,e){var v=e(3400);O.exports=function(x,t){var b=x._fullLayout,g=t.uid,c=b._splomScenes;c||(c=b._splomScenes={});var s={dirty:!0,selectBatch:[],unselectBatch:[]},n=c[t.uid];return n||((n=c[g]=v.extendFlat({},s,{matrix:!1,selectBatch:[],unselectBatch:[]})).draw=function(){n.matrix&&n.matrix.draw&&(n.selectBatch.length||n.unselectBatch.length?n.matrix.draw(n.unselectBatch,n.selectBatch):n.matrix.draw()),n.dirty=!1},n.destroy=function(){n.matrix&&n.matrix.destroy&&n.matrix.destroy(),n.matrixOptions=null,n.selectBatch=null,n.unselectBatch=null,n=null}),n.dirty||v.extendFlat(n,s),n}},62500:function(O,S,e){var v=e(3400),x=v.pushUnique,t=e(43028),b=e(50328);O.exports=function(g,c){var s=g.cd,n=s[0].trace,i=s[0].t,a=g.scene,r=a.matrixOptions.cdata,o=g.xaxis,l=g.yaxis,u=[];if(!a)return u;var h=!t.hasMarkers(n)&&!t.hasText(n);if(n.visible!==!0||h)return u;var f=b.getDimIndex(n,o),T=b.getDimIndex(n,l);if(f===!1||T===!1)return u;var d=i.xpx[f],y=i.ypx[T],m=r[f],w=r[T],_=(g.scene.selectBatch||[]).slice(),A=[];if(c!==!1&&!c.degenerate)for(var p=0;p<m.length;p++)c.contains([d[p],y[p]],null,p,g)?(u.push({pointNumber:p,x:m[p],y:w[p]}),x(_,p)):_.indexOf(p)!==-1?x(_,p):A.push(p);var L=a.matrixOptions;return _.length||A.length?a.selectBatch.length||a.unselectBatch.length||a.matrix.update(a.unselectedOptions,v.extendFlat({},L,a.selectedOptions,a.viewOpts)):a.matrix.update(L,null),a.selectBatch=_,a.unselectBatch=A,u}},90167:function(O,S,e){var v=e(49084),x=e(29736).axisHoverFormat,t=e(21776).Ks,b=e(52948),g=e(45464),c=e(92880).extendFlat,s={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:t({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:x("u",1),vhoverformat:x("v",1),whoverformat:x("w",1),xhoverformat:x("x"),yhoverformat:x("y"),zhoverformat:x("z"),showlegend:c({},g.showlegend,{dflt:!1})};c(s,v("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(n){s[n]=b[n]}),s.hoverinfo=c({},g.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),s.transforms=void 0,O.exports=s},3832:function(O,S,e){var v=e(3400),x=e(47128);function t(c){var s,n,i,a,r,o,l,u,h,f,T,d,y=c._x,m=c._y,w=c._z,_=c._len,A=-1/0,p=1/0,L=-1/0,M=1/0,C=-1/0,R=1/0,I="";for(_&&(l=y[0],h=m[0],T=w[0]),_>1&&(u=y[_-1],f=m[_-1],d=w[_-1]),s=0;s<_;s++)A=Math.max(A,y[s]),p=Math.min(p,y[s]),L=Math.max(L,m[s]),M=Math.min(M,m[s]),C=Math.max(C,w[s]),R=Math.min(R,w[s]),a||y[s]===l||(a=!0,I+="x"),r||m[s]===h||(r=!0,I+="y"),o||w[s]===T||(o=!0,I+="z");a||(I+="x"),r||(I+="y"),o||(I+="z");var D=b(c._x),F=b(c._y),q=b(c._z);I=(I=(I=I.replace("x",(l>u?"-":"+")+"x")).replace("y",(h>f?"-":"+")+"y")).replace("z",(T>d?"-":"+")+"z");var z=function(){_=0,D=[],F=[],q=[]};(!_||_<D.length*F.length*q.length)&&z();var V=function(we){return we==="x"?y:we==="y"?m:w},X=function(we){return we==="x"?D:we==="y"?F:q},j=function(we){return we[_-1]<we[0]?-1:1},H=V(I[1]),G=V(I[3]),ie=V(I[5]),re=X(I[1]).length,te=X(I[3]).length,K=X(I[5]).length,J=!1,$=function(we,Te,Le){return re*(te*we+Te)+Le},ae=j(V(I[1])),ue=j(V(I[3])),ce=j(V(I[5]));for(s=0;s<K-1;s++){for(n=0;n<te-1;n++){for(i=0;i<re-1;i++){var de=$(s,n,i),pe=$(s,n,i+1),me=$(s,n+1,i),be=$(s+1,n,i);if(H[de]*ae<H[pe]*ae&&G[de]*ue<G[me]*ue&&ie[de]*ce<ie[be]*ce||(J=!0),J)break}if(J)break}if(J)break}return J&&(v.warn("Encountered arbitrary coordinates! Unable to input data grid."),z()),{xMin:p,yMin:M,zMin:R,xMax:A,yMax:L,zMax:C,Xs:D,Ys:F,Zs:q,len:_,fill:I}}function b(c){return v.distinctVals(c).vals}function g(c,s){if(s===void 0&&(s=c.length),v.isTypedArray(c))return c.subarray(0,s);for(var n=[],i=0;i<s;i++)n[i]=+c[i];return n}O.exports={calc:function(c,s){s._len=Math.min(s.u.length,s.v.length,s.w.length,s.x.length,s.y.length,s.z.length),s._u=g(s.u,s._len),s._v=g(s.v,s._len),s._w=g(s.w,s._len),s._x=g(s.x,s._len),s._y=g(s.y,s._len),s._z=g(s.z,s._len);var n=t(s);s._gridFill=n.fill,s._Xs=n.Xs,s._Ys=n.Ys,s._Zs=n.Zs,s._len=n.len;var i,a,r,o=0;s.starts&&(i=g(s.starts.x||[]),a=g(s.starts.y||[]),r=g(s.starts.z||[]),o=Math.min(i.length,a.length,r.length)),s._startsX=i||[],s._startsY=a||[],s._startsZ=r||[];var l,u=0,h=1/0;for(l=0;l<s._len;l++){var f=s._u[l],T=s._v[l],d=s._w[l],y=Math.sqrt(f*f+T*T+d*d);u=Math.max(u,y),h=Math.min(h,y)}for(x(c,s,{vals:[h,u],containerStr:"",cLetter:"c"}),l=0;l<o;l++){var m=i[l];n.xMax=Math.max(n.xMax,m),n.xMin=Math.min(n.xMin,m);var w=a[l];n.yMax=Math.max(n.yMax,w),n.yMin=Math.min(n.yMin,w);var _=r[l];n.zMax=Math.max(n.zMax,_),n.zMin=Math.min(n.zMin,_)}s._slen=o,s._normMax=u,s._xbnds=[n.xMin,n.xMax],s._ybnds=[n.yMin,n.yMax],s._zbnds=[n.zMin,n.zMax]},filter:g,processGrid:t}},25668:function(O,S,e){var v=e(67792).gl_streamtube3d,x=v.createTubeMesh,t=e(3400),b=e(33040).parseColorScale,g=e(8932).extractOpts,c=e(52094),s={xaxis:0,yaxis:1,zaxis:2};function n(l,u){this.scene=l,this.uid=u,this.mesh=null,this.data=null}var i=n.prototype;function a(l){var u=l.length;return u>2?l.slice(1,u-1):u===2?[(l[0]+l[1])/2]:l}function r(l){var u=l.length;return u===1?[.5,.5]:[l[1]-l[0],l[u-1]-l[u-2]]}function o(l,u){var h=l.fullSceneLayout,f=l.dataScale,T=u._len,d={};function y(re,te){var K=h[te],J=f[s[te]];return t.simpleMap(re,function($){return K.d2l($)*J})}if(d.vectors=c(y(u._u,"xaxis"),y(u._v,"yaxis"),y(u._w,"zaxis"),T),!T)return{positions:[],cells:[]};var m=y(u._Xs,"xaxis"),w=y(u._Ys,"yaxis"),_=y(u._Zs,"zaxis");if(d.meshgrid=[m,w,_],d.gridFill=u._gridFill,u._slen)d.startingPositions=c(y(u._startsX,"xaxis"),y(u._startsY,"yaxis"),y(u._startsZ,"zaxis"));else{for(var A=w[0],p=a(m),L=a(_),M=new Array(p.length*L.length),C=0,R=0;R<p.length;R++)for(var I=0;I<L.length;I++)M[C++]=[p[R],A,L[I]];d.startingPositions=M}d.colormap=b(u),d.tubeSize=u.sizeref,d.maxLength=u.maxdisplayed;var D=y(u._xbnds,"xaxis"),F=y(u._ybnds,"yaxis"),q=y(u._zbnds,"zaxis"),z=r(m),V=r(w),X=r(_),j=[[D[0]-z[0],F[0]-V[0],q[0]-X[0]],[D[1]+z[1],F[1]+V[1],q[1]+X[1]]],H=v(d,j),G=g(u);H.vertexIntensityBounds=[G.min/u._normMax,G.max/u._normMax];var ie=u.lightposition;return H.lightPosition=[ie.x,ie.y,ie.z],H.ambient=u.lighting.ambient,H.diffuse=u.lighting.diffuse,H.specular=u.lighting.specular,H.roughness=u.lighting.roughness,H.fresnel=u.lighting.fresnel,H.opacity=u.opacity,u._pad=H.tubeScale*u.sizeref*2,H}i.handlePick=function(l){var u=this.scene.fullSceneLayout,h=this.scene.dataScale;function f(y,m){var w=u[m],_=h[s[m]];return w.l2c(y)/_}if(l.object===this.mesh){var T=l.data.position,d=l.data.velocity;return l.traceCoordinate=[f(T[0],"xaxis"),f(T[1],"yaxis"),f(T[2],"zaxis"),f(d[0],"xaxis"),f(d[1],"yaxis"),f(d[2],"zaxis"),l.data.intensity*this.data._normMax,l.data.divergence],l.textLabel=this.data.hovertext||this.data.text,!0}},i.update=function(l){this.data=l;var u=o(this.scene,l);this.mesh.update(u)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},O.exports=function(l,u){var h=l.glplot.gl,f=o(l,u),T=x(h,f),d=new n(l,u.uid);return d.mesh=T,d.data=u,T._trace=d,l.glplot.add(T),d}},54304:function(O,S,e){var v=e(3400),x=e(27260),t=e(90167);O.exports=function(b,g,c,s){function n(h,f){return v.coerce(b,g,t,h,f)}var i=n("u"),a=n("v"),r=n("w"),o=n("x"),l=n("y"),u=n("z");i&&i.length&&a&&a.length&&r&&r.length&&o&&o.length&&l&&l.length&&u&&u.length?(n("starts.x"),n("starts.y"),n("starts.z"),n("maxdisplayed"),n("sizeref"),n("lighting.ambient"),n("lighting.diffuse"),n("lighting.specular"),n("lighting.roughness"),n("lighting.fresnel"),n("lightposition.x"),n("lightposition.y"),n("lightposition.z"),x(b,g,s,n,{prefix:"",cLetter:"c"}),n("text"),n("hovertext"),n("hovertemplate"),n("uhoverformat"),n("vhoverformat"),n("whoverformat"),n("xhoverformat"),n("yhoverformat"),n("zhoverformat"),g._length=null):g.visible=!1}},15436:function(O,S,e){O.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(90167),supplyDefaults:e(54304),colorbar:{min:"cmin",max:"cmax"},calc:e(3832).calc,plot:e(25668),eventData:function(v,x){return v.tubex=v.x,v.tubey=v.y,v.tubez=v.z,v.tubeu=x.traceCoordinate[3],v.tubev=x.traceCoordinate[4],v.tubew=x.traceCoordinate[5],v.norm=x.traceCoordinate[6],v.divergence=x.traceCoordinate[7],delete v.x,delete v.y,delete v.z,v},meta:{}}},424:function(O,S,e){var v=e(45464),x=e(21776).Ks,t=e(21776).Gw,b=e(49084),g=e(86968).u,c=e(74996),s=e(27328),n=e(92880).extendFlat,i=e(98192).c;O.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:n({colors:{valType:"data_array",editType:"calc"},line:{color:n({},c.marker.line.color,{dflt:null}),width:n({},c.marker.line.width,{dflt:1}),editType:"calc"},pattern:i,editType:"calc"},b("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:c.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:t({editType:"plot"},{keys:s.eventDataKeys.concat(["label","value"])}),hovertext:c.hovertext,hoverinfo:n({},v.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:x({},{keys:s.eventDataKeys}),textfont:c.textfont,insidetextorientation:c.insidetextorientation,insidetextfont:c.insidetextfont,outsidetextfont:n({},c.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:c.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:g({name:"sunburst",trace:!0,editType:"calc"})}},54904:function(O,S,e){var v=e(7316);S.name="sunburst",S.plot=function(x,t,b,g){v.plotBasePlot(S.name,x,t,b,g)},S.clean=function(x,t,b,g){v.cleanBasePlot(S.name,x,t,b,g)}},3776:function(O,S,e){var v=e(74148),x=e(38248),t=e(3400),b=e(8932).makeColorScaleFuncFromTrace,g=e(45768).makePullColorFn,c=e(45768).generateExtendedColors,s=e(8932).calc,n=e(39032).ALMOST_EQUAL,i={},a={},r={};function o(l,u,h){var f=0,T=l.children;if(T){for(var d=T.length,y=0;y<d;y++)f+=o(T[y],u,h);h.branches&&f++}else h.leaves&&f++;return l.value=l.data.data.value=f,u._values||(u._values=[]),u._values[l.data.data.i]=f,f}S.calc=function(l,u){var h,f,T,d,y,m,w=l._fullLayout,_=u.ids,A=t.isArrayOrTypedArray(_),p=u.labels,L=u.parents,M=u.values,C=t.isArrayOrTypedArray(M),R=[],I={},D={},F=function(ce){return ce||typeof ce=="number"},q=function(ce){return!C||x(M[ce])&&M[ce]>=0};A?(h=Math.min(_.length,L.length),f=function(ce){return F(_[ce])&&q(ce)},T=function(ce){return String(_[ce])}):(h=Math.min(p.length,L.length),f=function(ce){return F(p[ce])&&q(ce)},T=function(ce){return String(p[ce])}),C&&(h=Math.min(h,M.length));for(var z=0;z<h;z++)if(f(z)){var V=T(z),X=F(L[z])?String(L[z]):"",j={i:z,id:V,pid:X,label:F(p[z])?String(p[z]):""};C&&(j.v=+M[z]),R.push(j),y=V,I[d=X]?I[d].push(y):I[d]=[y],D[y]=1}if(I[""]){if(I[""].length>1){for(var H=t.randstr(),G=0;G<R.length;G++)R[G].pid===""&&(R[G].pid=H);R.unshift({hasMultipleRoots:!0,id:H,pid:"",label:""})}}else{var ie,re=[];for(ie in I)D[ie]||re.push(ie);if(re.length!==1)return t.warn(["Multiple implied roots, cannot build",u.type,"hierarchy of",u.name+".","These roots include:",re.join(", ")].join(" "));ie=re[0],R.unshift({hasImpliedRoot:!0,id:ie,pid:"",label:ie})}try{m=v.stratify().id(function(ce){return ce.id}).parentId(function(ce){return ce.pid})(R)}catch(ce){return t.warn(["Failed to build",u.type,"hierarchy of",u.name+".","Error:",ce.message].join(" "))}var te=v.hierarchy(m),K=!1;if(C)switch(u.branchvalues){case"remainder":te.sum(function(ce){return ce.data.v});break;case"total":te.each(function(ce){var de=ce.data.data,pe=de.v;if(ce.children){var me=ce.children.reduce(function(be,we){return be+we.data.data.v},0);if((de.hasImpliedRoot||de.hasMultipleRoots)&&(pe=me),pe<me*n)return K=!0,t.warn(["Total value for node",ce.data.data.id,"of",u.name,"is smaller than the sum of its children.",`
parent value =`,pe,`
children sum =`,me].join(" "))}ce.value=pe})}else o(te,u,{branches:u.count.indexOf("branches")!==-1,leaves:u.count.indexOf("leaves")!==-1});if(!K){var J,$;u.sort&&te.sort(function(ce,de){return de.value-ce.value});var ae=u.marker.colors||[],ue=!!ae.length;return u._hasColorscale?(ue||(ae=C?u.values:u._values),s(l,u,{vals:ae,containerStr:"marker",cLetter:"c"}),$=b(u.marker)):J=g(w["_"+u.type+"colormap"]),te.each(function(ce){var de=ce.data.data;de.color=u._hasColorscale?$(ae[de.i]):J(ae[de.i],de.id)}),R[0].hierarchy=te,R}},S._runCrossTraceCalc=function(l,u){var h=u._fullLayout,f=u.calcdata,T=h[l+"colorway"],d=h["_"+l+"colormap"];h["extend"+l+"colors"]&&(T=c(T,l==="icicle"?r:l==="treemap"?a:i));var y,m=0;function w(p){var L=p.data.data,M=L.id;L.color===!1&&(d[M]?L.color=d[M]:p.parent?p.parent.parent?L.color=p.parent.data.data.color:(d[M]=L.color=T[m%T.length],m++):L.color=y)}for(var _=0;_<f.length;_++){var A=f[_][0];A.trace.type===l&&A.hierarchy&&(y=A.trace.root.color,A.hierarchy.each(w))}},S.crossTraceCalc=function(l){return S._runCrossTraceCalc("sunburst",l)}},27328:function(O){O.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},25244:function(O,S,e){var v=e(3400),x=e(424),t=e(86968).Q,b=e(31508).handleText,g=e(74174).handleMarkerDefaults,c=e(8932),s=c.hasColorscale,n=c.handleDefaults;O.exports=function(i,a,r,o){function l(y,m){return v.coerce(i,a,x,y,m)}var u=l("labels"),h=l("parents");if(u&&u.length&&h&&h.length){var f=l("values");f&&f.length?l("branchvalues"):l("count"),l("level"),l("maxdepth"),g(i,a,o,l);var T=a._hasColorscale=s(i,"marker","colors")||(i.marker||{}).coloraxis;T&&n(i,a,o,l,{prefix:"marker.",cLetter:"c"}),l("leaf.opacity",T?1:.7);var d=l("text");l("texttemplate"),a.texttemplate||l("textinfo",v.isArrayOrTypedArray(d)?"text+label":"label"),l("hovertext"),l("hovertemplate"),b(i,a,o,l,"auto",{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),l("insidetextorientation"),l("sort"),l("rotation"),l("root.color"),t(a,o,l),a._length=null}else a.visible=!1}},60404:function(O,S,e){var v=e(43616),x=e(76308);O.exports=function(t,b,g,c,s){var n=b.data.data,i=n.i,a=s||n.color;if(i>=0){b.i=n.i;var r=g.marker;r.pattern&&r.colors&&r.pattern.shape||(r.color=a,b.color=a),v.pointStyle(t,g,c,b)}else x.fill(t,a)}},45716:function(O,S,e){var v=e(33428),x=e(24040),t=e(10624).appendArrayPointValue,b=e(93024),g=e(3400),c=e(95924),s=e(78176),n=e(69656).formatPieValue;function i(a,r,o){for(var l=a.data.data,u={curveNumber:r.index,pointNumber:l.i,data:r._input,fullData:r},h=0;h<o.length;h++){var f=o[h];f in a&&(u[f]=a[f])}return"parentString"in a&&!s.isHierarchyRoot(a)&&(u.parent=a.parentString),t(u,r,l.i),u}O.exports=function(a,r,o,l,u){var h=l[0],f=h.trace,T=h.hierarchy,d=f.type==="sunburst",y=f.type==="treemap"||f.type==="icicle";"_hasHoverLabel"in f||(f._hasHoverLabel=!1),"_hasHoverEvent"in f||(f._hasHoverEvent=!1),a.on("mouseover",function(m){var w=o._fullLayout;if(!o._dragging&&w.hovermode!==!1){var _,A=o._fullData[f.index],p=m.data.data,L=p.i,M=s.isHierarchyRoot(m),C=s.getParent(T,m),R=s.getValue(m),I=function(ae){return g.castOption(A,L,ae)},D=I("hovertemplate"),F=b.castHoverinfo(A,w,L),q=w.separators;if(D||F&&F!=="none"&&F!=="skip"){var z,V;d&&(z=h.cx+m.pxmid[0]*(1-m.rInscribed),V=h.cy+m.pxmid[1]*(1-m.rInscribed)),y&&(z=m._hoverX,V=m._hoverY);var X,j={},H=[],G=[],ie=function(ae){return H.indexOf(ae)!==-1};F&&(H=F==="all"?A._module.attributes.hoverinfo.flags:F.split("+")),j.label=p.label,ie("label")&&j.label&&G.push(j.label),p.hasOwnProperty("v")&&(j.value=p.v,j.valueLabel=n(j.value,q),ie("value")&&G.push(j.valueLabel)),j.currentPath=m.currentPath=s.getPath(m.data),ie("current path")&&!M&&G.push(j.currentPath);var re=[],te=function(){re.indexOf(X)===-1&&(G.push(X),re.push(X))};j.percentParent=m.percentParent=R/s.getValue(C),j.parent=m.parentString=s.getPtLabel(C),ie("percent parent")&&(X=s.formatPercent(j.percentParent,q)+" of "+j.parent,te()),j.percentEntry=m.percentEntry=R/s.getValue(r),j.entry=m.entry=s.getPtLabel(r),!ie("percent entry")||M||m.onPathbar||(X=s.formatPercent(j.percentEntry,q)+" of "+j.entry,te()),j.percentRoot=m.percentRoot=R/s.getValue(T),j.root=m.root=s.getPtLabel(T),ie("percent root")&&!M&&(X=s.formatPercent(j.percentRoot,q)+" of "+j.root,te()),j.text=I("hovertext")||I("text"),ie("text")&&(X=j.text,g.isValidTextValue(X)&&G.push(X)),_=[i(m,A,u.eventDataKeys)];var K={trace:A,y:V,_x0:m._x0,_x1:m._x1,_y0:m._y0,_y1:m._y1,text:G.join("<br>"),name:D||ie("name")?A.name:void 0,color:I("hoverlabel.bgcolor")||p.color,borderColor:I("hoverlabel.bordercolor"),fontFamily:I("hoverlabel.font.family"),fontSize:I("hoverlabel.font.size"),fontColor:I("hoverlabel.font.color"),fontWeight:I("hoverlabel.font.weight"),fontStyle:I("hoverlabel.font.style"),fontVariant:I("hoverlabel.font.variant"),nameLength:I("hoverlabel.namelength"),textAlign:I("hoverlabel.align"),hovertemplate:D,hovertemplateLabels:j,eventData:_};d&&(K.x0=z-m.rInscribed*m.rpx1,K.x1=z+m.rInscribed*m.rpx1,K.idealAlign=m.pxmid[0]<0?"left":"right"),y&&(K.x=z,K.idealAlign=z<0?"left":"right");var J=[];b.loneHover(K,{container:w._hoverlayer.node(),outerContainer:w._paper.node(),gd:o,inOut_bbox:J}),_[0].bbox=J[0],f._hasHoverLabel=!0}if(y){var $=a.select("path.surface");u.styleOne($,m,A,o,{hovered:!0})}f._hasHoverEvent=!0,o.emit("plotly_hover",{points:_||[i(m,A,u.eventDataKeys)],event:v.event})}}),a.on("mouseout",function(m){var w=o._fullLayout,_=o._fullData[f.index],A=v.select(this).datum();if(f._hasHoverEvent&&(m.originalEvent=v.event,o.emit("plotly_unhover",{points:[i(A,_,u.eventDataKeys)],event:v.event}),f._hasHoverEvent=!1),f._hasHoverLabel&&(b.loneUnhover(w._hoverlayer.node()),f._hasHoverLabel=!1),y){var p=a.select("path.surface");u.styleOne(p,A,_,o,{hovered:!1})}}),a.on("click",function(m){var w=o._fullLayout,_=o._fullData[f.index],A=d&&(s.isHierarchyRoot(m)||s.isLeaf(m)),p=s.getPtId(m),L=s.isEntry(m)?s.findEntryWithChild(T,p):s.findEntryWithLevel(T,p),M=s.getPtId(L),C={points:[i(m,_,u.eventDataKeys)],event:v.event};A||(C.nextLevel=M);var R=c.triggerHandler(o,"plotly_"+f.type+"click",C);if(R!==!1&&w.hovermode&&(o._hoverdata=[i(m,_,u.eventDataKeys)],b.click(o,v.event)),!A&&R!==!1&&!o._dragging&&!o._transitioning){x.call("_storeDirectGUIEdit",_,w._tracePreGUI[_.uid],{level:_.level});var I={data:[{level:M}],traces:[f.index]},D={frame:{redraw:!1,duration:u.transitionTime},transition:{duration:u.transitionTime,easing:u.transitionEasing},mode:"immediate",fromcurrent:!0};b.loneUnhover(w._hoverlayer.node()),x.call("animate",o,I,D)}})}},78176:function(O,S,e){var v=e(3400),x=e(76308),t=e(93972),b=e(69656);function g(c){return c.data.data.pid}S.findEntryWithLevel=function(c,s){var n;return s&&c.eachAfter(function(i){if(S.getPtId(i)===s)return n=i.copy()}),n||c},S.findEntryWithChild=function(c,s){var n;return c.eachAfter(function(i){for(var a=i.children||[],r=0;r<a.length;r++){var o=a[r];if(S.getPtId(o)===s)return n=i.copy()}}),n||c},S.isEntry=function(c){return!c.parent},S.isLeaf=function(c){return!c.children},S.getPtId=function(c){return c.data.data.id},S.getPtLabel=function(c){return c.data.data.label},S.getValue=function(c){return c.value},S.isHierarchyRoot=function(c){return g(c)===""},S.setSliceCursor=function(c,s,n){var i=n.isTransitioning;if(!i){var a=c.datum();i=n.hideOnRoot&&S.isHierarchyRoot(a)||n.hideOnLeaves&&S.isLeaf(a)}t(c,i?null:"pointer")},S.getInsideTextFontKey=function(c,s,n,i,a){var r=(a||{}).onPathbar?"pathbar.textfont":"insidetextfont",o=n.data.data.i;return v.castOption(s,o,r+"."+c)||v.castOption(s,o,"textfont."+c)||i.size},S.getOutsideTextFontKey=function(c,s,n,i){var a=n.data.data.i;return v.castOption(s,a,"outsidetextfont."+c)||v.castOption(s,a,"textfont."+c)||i.size},S.isOutsideText=function(c,s){return!c._hasColorscale&&S.isHierarchyRoot(s)},S.determineTextFont=function(c,s,n,i){return S.isOutsideText(c,s)?function(a,r,o){return{color:S.getOutsideTextFontKey("color",a,r,o),family:S.getOutsideTextFontKey("family",a,r,o),size:S.getOutsideTextFontKey("size",a,r,o),weight:S.getOutsideTextFontKey("weight",a,r,o),style:S.getOutsideTextFontKey("style",a,r,o),variant:S.getOutsideTextFontKey("variant",a,r,o),textcase:S.getOutsideTextFontKey("textcase",a,r,o),lineposition:S.getOutsideTextFontKey("lineposition",a,r,o),shadow:S.getOutsideTextFontKey("shadow",a,r,o)}}(c,s,n):function(a,r,o,l){var u=(l||{}).onPathbar,h=r.data.data,f=h.i,T=v.castOption(a,f,(u?"pathbar.textfont":"insidetextfont")+".color");return!T&&a._input.textfont&&(T=v.castOption(a._input,f,"textfont.color")),{color:T||x.contrast(h.color),family:S.getInsideTextFontKey("family",a,r,o,l),size:S.getInsideTextFontKey("size",a,r,o,l),weight:S.getInsideTextFontKey("weight",a,r,o,l),style:S.getInsideTextFontKey("style",a,r,o,l),variant:S.getInsideTextFontKey("variant",a,r,o,l),textcase:S.getInsideTextFontKey("textcase",a,r,o,l),lineposition:S.getInsideTextFontKey("lineposition",a,r,o,l),shadow:S.getInsideTextFontKey("shadow",a,r,o,l)}}(c,s,n,i)},S.hasTransition=function(c){return!!(c&&c.duration>0)},S.getMaxDepth=function(c){return c.maxdepth>=0?c.maxdepth:1/0},S.isHeader=function(c,s){return!(S.isLeaf(c)||c.depth===s._maxDepth-1)},S.getParent=function(c,s){return S.findEntryWithLevel(c,g(s))},S.listPath=function(c,s){var n=c.parent;if(!n)return[];var i=s?[n.data[s]]:[n];return S.listPath(n,s).concat(i)},S.getPath=function(c){return S.listPath(c,"label").join("/")+"/"},S.formatValue=b.formatPieValue,S.formatPercent=function(c,s){var n=v.formatPercent(c,0);return n==="0%"&&(n=b.formatPiePercent(c,s)),n}},5621:function(O,S,e){O.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(54904),categories:[],animatable:!0,attributes:e(424),layoutAttributes:e(84920),supplyDefaults:e(25244),supplyLayoutDefaults:e(28732),calc:e(3776).calc,crossTraceCalc:e(3776).crossTraceCalc,plot:e(96488).plot,style:e(85676).style,colorbar:e(5528),meta:{}}},84920:function(O){O.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},28732:function(O,S,e){var v=e(3400),x=e(84920);O.exports=function(t,b){function g(c,s){return v.coerce(t,b,x,c,s)}g("sunburstcolorway",b.colorway),g("extendsunburstcolors")}},96488:function(O,S,e){var v=e(33428),x=e(74148),t=e(67756).qy,b=e(43616),g=e(3400),c=e(72736),s=e(82744),n=s.recordMinTextSize,i=s.clearMinTextSize,a=e(37820),r=e(69656).getRotationAngle,o=a.computeTransform,l=a.transformInsideText,u=e(85676).styleOne,h=e(60100).resizeText,f=e(45716),T=e(27328),d=e(78176);function y(w,_,A,p){var L=w._context.staticPlot,M=w._fullLayout,C=!M.uniformtext.mode&&d.hasTransition(p),R=v.select(A).selectAll("g.slice"),I=_[0],D=I.trace,F=I.hierarchy,q=d.findEntryWithLevel(F,D.level),z=d.getMaxDepth(D),V=M._size,X=D.domain,j=V.w*(X.x[1]-X.x[0]),H=V.h*(X.y[1]-X.y[0]),G=.5*Math.min(j,H),ie=I.cx=V.l+V.w*(X.x[1]+X.x[0])/2,re=I.cy=V.t+V.h*(1-X.y[0])-H/2;if(!q)return R.remove();var te=null,K={};C&&R.each(function(le){K[d.getPtId(le)]={rpx0:le.rpx0,rpx1:le.rpx1,x0:le.x0,x1:le.x1,transform:le.transform},!te&&d.isEntry(le)&&(te=le)});var J=function(le){return x.partition().size([2*Math.PI,le.height+1])(le)}(q).descendants(),$=q.height+1,ae=0,ue=z;I.hasMultipleRoots&&d.isHierarchyRoot(q)&&(J=J.slice(1),$-=1,ae=1,ue+=1),J=J.filter(function(le){return le.y1<=ue});var ce=r(D.rotation);ce&&J.forEach(function(le){le.x0+=ce,le.x1+=ce});var de=Math.min($,z),pe=function(le){return(le-ae)/de*G},me=function(le,ye){return[le*Math.cos(ye),-le*Math.sin(ye)]},be=function(le){return g.pathAnnulus(le.rpx0,le.rpx1,le.x0,le.x1,ie,re)},we=function(le){return ie+m(le)[0]*(le.transform.rCenter||0)+(le.transform.x||0)},Te=function(le){return re+m(le)[1]*(le.transform.rCenter||0)+(le.transform.y||0)};(R=R.data(J,d.getPtId)).enter().append("g").classed("slice",!0),C?R.exit().transition().each(function(){var le=v.select(this);le.select("path.surface").transition().attrTween("d",function(ye){var Oe=function(Ae){var Se,Pe=d.getPtId(Ae),Fe=K[Pe],Be=K[d.getPtId(q)];if(Be){var xe=(Ae.x1>Be.x1?2*Math.PI:0)+ce;Se=Ae.rpx1<Be.rpx1?{x0:Ae.x0,x1:Ae.x1,rpx0:0,rpx1:0}:{x0:xe,x1:xe,rpx0:Ae.rpx0,rpx1:Ae.rpx1}}else{var Me,Ce=d.getPtId(Ae.parent);R.each(function(Qe){if(d.getPtId(Qe)===Ce)return Me=Qe});var Ne,Re=Me.children;Re.forEach(function(Qe,lt){if(d.getPtId(Qe)===Pe)return Ne=lt});var He=Re.length,Ye=t(Me.x0,Me.x1);Se={rpx0:G,rpx1:G,x0:Ye(Ne/He),x1:Ye((Ne+1)/He)}}return t(Fe,Se)}(ye);return function(Ae){return be(Oe(Ae))}}),le.select("g.slicetext").attr("opacity",0)}).remove():R.exit().remove(),R.order();var Le=null;if(C&&te){var Ie=d.getPtId(te);R.each(function(le){Le===null&&d.getPtId(le)===Ie&&(Le=le.x1)})}var _e=R;function fe(le){var ye=le.parent,Oe=K[d.getPtId(ye)],Ae={};if(Oe){var Se=ye.children,Pe=Se.indexOf(le),Fe=Se.length,Be=t(Oe.x0,Oe.x1);Ae.x0=Be(Pe/Fe),Ae.x1=Be(Pe/Fe)}else Ae.x0=Ae.x1=0;return Ae}C&&(_e=_e.transition().each("end",function(){var le=v.select(this);d.setSliceCursor(le,w,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),_e.each(function(le){var ye=v.select(this),Oe=g.ensureSingle(ye,"path","surface",function(xe){xe.style("pointer-events",L?"none":"all")});le.rpx0=pe(le.y0),le.rpx1=pe(le.y1),le.xmid=(le.x0+le.x1)/2,le.pxmid=me(le.rpx1,le.xmid),le.midangle=-(le.xmid-Math.PI/2),le.startangle=-(le.x0-Math.PI/2),le.stopangle=-(le.x1-Math.PI/2),le.halfangle=.5*Math.min(g.angleDelta(le.x0,le.x1)||Math.PI,Math.PI),le.ring=1-le.rpx0/le.rpx1,le.rInscribed=function(xe){return xe.rpx0===0&&g.isFullCircle([xe.x0,xe.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(xe.halfangle)),xe.ring/2))}(le),C?Oe.transition().attrTween("d",function(xe){var Me=function(Ce){var Ne,Re=K[d.getPtId(Ce)],He={x0:Ce.x0,x1:Ce.x1,rpx0:Ce.rpx0,rpx1:Ce.rpx1};if(Re)Ne=Re;else if(te)if(Ce.parent)if(Le){var Ye=(Ce.x1>Le?2*Math.PI:0)+ce;Ne={x0:Ye,x1:Ye}}else Ne={rpx0:G,rpx1:G},g.extendFlat(Ne,fe(Ce));else Ne={rpx0:0,rpx1:0};else Ne={x0:ce,x1:ce};return t(Ne,He)}(xe);return function(Ce){return be(Me(Ce))}}):Oe.attr("d",be),ye.call(f,q,w,_,{eventDataKeys:T.eventDataKeys,transitionTime:T.CLICK_TRANSITION_TIME,transitionEasing:T.CLICK_TRANSITION_EASING}).call(d.setSliceCursor,w,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:w._transitioning}),Oe.call(u,le,D,w);var Ae=g.ensureSingle(ye,"g","slicetext"),Se=g.ensureSingle(Ae,"text","",function(xe){xe.attr("data-notex",1)}),Pe=g.ensureUniformFontSize(w,d.determineTextFont(D,le,M.font));Se.text(S.formatSliceLabel(le,q,D,_,M)).classed("slicetext",!0).attr("text-anchor","middle").call(b.font,Pe).call(c.convertToTspans,w);var Fe=b.bBox(Se.node());le.transform=l(Fe,le,I),le.transform.targetX=we(le),le.transform.targetY=Te(le);var Be=function(xe,Me){var Ce=xe.transform;return o(Ce,Me),Ce.fontSize=Pe.size,n(D.type,Ce,M),g.getTextTransform(Ce)};C?Se.transition().attrTween("transform",function(xe){var Me=function(Ce){var Ne,Re=K[d.getPtId(Ce)],He=Ce.transform;if(Re)Ne=Re;else if(Ne={rpx1:Ce.rpx1,transform:{textPosAngle:He.textPosAngle,scale:0,rotate:He.rotate,rCenter:He.rCenter,x:He.x,y:He.y}},te)if(Ce.parent)if(Le){var Ye=Ce.x1>Le?2*Math.PI:0;Ne.x0=Ne.x1=Ye}else g.extendFlat(Ne,fe(Ce));else Ne.x0=Ne.x1=ce;else Ne.x0=Ne.x1=ce;var Qe=t(Ne.transform.textPosAngle,Ce.transform.textPosAngle),lt=t(Ne.rpx1,Ce.rpx1),ut=t(Ne.x0,Ce.x0),xt=t(Ne.x1,Ce.x1),_t=t(Ne.transform.scale,He.scale),mt=t(Ne.transform.rotate,He.rotate),it=He.rCenter===0?3:Ne.transform.rCenter===0?1/3:1,nt=t(Ne.transform.rCenter,He.rCenter);return function(Et){var zt=lt(Et),Ft=ut(Et),Pt=xt(Et),Ze=function(qe){return nt(Math.pow(qe,it))}(Et),Je={pxmid:me(zt,(Ft+Pt)/2),rpx1:zt,transform:{textPosAngle:Qe(Et),rCenter:Ze,x:He.x,y:He.y}};return n(D.type,He,M),{transform:{targetX:we(Je),targetY:Te(Je),scale:_t(Et),rotate:mt(Et),rCenter:Ze}}}}(xe);return function(Ce){return Be(Me(Ce),Fe)}}):Se.attr("transform",Be(le,Fe))})}function m(w){return _=w.rpx1,A=w.transform.textPosAngle,[_*Math.sin(A),-_*Math.cos(A)];var _,A}S.plot=function(w,_,A,p){var L,M,C=w._fullLayout,R=C._sunburstlayer,I=!A,D=!C.uniformtext.mode&&d.hasTransition(A);i("sunburst",C),(L=R.selectAll("g.trace.sunburst").data(_,function(F){return F[0].trace.uid})).enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),L.order(),D?(p&&(M=p()),v.transition().duration(A.duration).ease(A.easing).each("end",function(){M&&M()}).each("interrupt",function(){M&&M()}).each(function(){R.selectAll("g.trace").each(function(F){y(w,F,this,A)})})):(L.each(function(F){y(w,F,this,A)}),C.uniformtext.mode&&h(w,C._sunburstlayer.selectAll(".trace"),"sunburst")),I&&L.exit().remove()},S.formatSliceLabel=function(w,_,A,p,L){var M=A.texttemplate,C=A.textinfo;if(!(M||C&&C!=="none"))return"";var R=L.separators,I=p[0],D=w.data.data,F=I.hierarchy,q=d.isHierarchyRoot(w),z=d.getParent(F,w),V=d.getValue(w);if(!M){var X,j=C.split("+"),H=function(ue){return j.indexOf(ue)!==-1},G=[];if(H("label")&&D.label&&G.push(D.label),D.hasOwnProperty("v")&&H("value")&&G.push(d.formatValue(D.v,R)),!q){H("current path")&&G.push(d.getPath(w.data));var ie=0;H("percent parent")&&ie++,H("percent entry")&&ie++,H("percent root")&&ie++;var re=ie>1;if(ie){var te,K=function(ue){X=d.formatPercent(te,R),re&&(X+=" of "+ue),G.push(X)};H("percent parent")&&!q&&(te=V/d.getValue(z),K("parent")),H("percent entry")&&(te=V/d.getValue(_),K("entry")),H("percent root")&&(te=V/d.getValue(F),K("root"))}}return H("text")&&(X=g.castOption(A,D.i,"text"),g.isValidTextValue(X)&&G.push(X)),G.join("<br>")}var J=g.castOption(A,D.i,"texttemplate");if(!J)return"";var $={};D.label&&($.label=D.label),D.hasOwnProperty("v")&&($.value=D.v,$.valueLabel=d.formatValue(D.v,R)),$.currentPath=d.getPath(w.data),q||($.percentParent=V/d.getValue(z),$.percentParentLabel=d.formatPercent($.percentParent,R),$.parent=d.getPtLabel(z)),$.percentEntry=V/d.getValue(_),$.percentEntryLabel=d.formatPercent($.percentEntry,R),$.entry=d.getPtLabel(_),$.percentRoot=V/d.getValue(F),$.percentRootLabel=d.formatPercent($.percentRoot,R),$.root=d.getPtLabel(F),D.hasOwnProperty("color")&&($.color=D.color);var ae=g.castOption(A,D.i,"text");return(g.isValidTextValue(ae)||ae==="")&&($.text=ae),$.customdata=g.castOption(A,D.i,"customdata"),g.texttemplateString(J,$,L._d3locale,$,A._meta||{})}},85676:function(O,S,e){var v=e(33428),x=e(76308),t=e(3400),b=e(82744).resizeText,g=e(60404);function c(s,n,i,a){var r=n.data.data,o=!n.children,l=r.i,u=t.castOption(i,l,"marker.line.color")||x.defaultLine,h=t.castOption(i,l,"marker.line.width")||0;s.call(g,n,i,a).style("stroke-width",h).call(x.stroke,u).style("opacity",o?i.leaf.opacity:null)}O.exports={style:function(s){var n=s._fullLayout._sunburstlayer.selectAll(".trace");b(s,n,"sunburst"),n.each(function(i){var a=v.select(this),r=i[0].trace;a.style("opacity",r.opacity),a.selectAll("path.surface").each(function(o){v.select(this).call(c,o,r,s)})})},styleOne:c}},16716:function(O,S,e){var v=e(76308),x=e(49084),t=e(29736).axisHoverFormat,b=e(21776).Ks,g=e(45464),c=e(92880).extendFlat,s=e(67824).overrideAll;function n(a){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:{valType:"boolean",dflt:!1},y:{valType:"boolean",dflt:!1},z:{valType:"boolean",dflt:!1}},color:{valType:"color",dflt:v.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:v.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var i=O.exports=s(c({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:b(),xhoverformat:t("x"),yhoverformat:t("y"),zhoverformat:t("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},x("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:n(),y:n(),z:n()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:c({},x.zauto,{}),zmin:c({},x.zmin,{}),zmax:c({},x.zmax,{})},hoverinfo:c({},g.hoverinfo),showlegend:c({},g.showlegend,{dflt:!1})}),"calc","nested");i.x.editType=i.y.editType=i.z.editType="calc+clearAxisTypes",i.transforms=void 0},56576:function(O,S,e){var v=e(47128);O.exports=function(x,t){t.surfacecolor?v(x,t,{vals:t.surfacecolor,containerStr:"",cLetter:"c"}):v(x,t,{vals:t.z,containerStr:"",cLetter:"c"})}},79164:function(O,S,e){var v=e(67792).gl_surface3d,x=e(67792).ndarray,t=e(67792).ndarray_linear_interpolate.d2,b=e(70448),g=e(11240),c=e(3400).isArrayOrTypedArray,s=e(33040).parseColorScale,n=e(43080),i=e(8932).extractOpts;function a(A,p,L){this.scene=A,this.uid=L,this.surface=p,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var r=a.prototype;r.getXat=function(A,p,L,M){var C=c(this.data.x)?c(this.data.x[0])?this.data.x[p][A]:this.data.x[A]:A;return L===void 0?C:M.d2l(C,0,L)},r.getYat=function(A,p,L,M){var C=c(this.data.y)?c(this.data.y[0])?this.data.y[p][A]:this.data.y[p]:p;return L===void 0?C:M.d2l(C,0,L)},r.getZat=function(A,p,L,M){var C=this.data.z[p][A];return C===null&&this.data.connectgaps&&this.data._interpolatedZ&&(C=this.data._interpolatedZ[p][A]),L===void 0?C:M.d2l(C,0,L)},r.handlePick=function(A){if(A.object===this.surface){var p=(A.data.index[0]-1)/this.dataScaleX-1,L=(A.data.index[1]-1)/this.dataScaleY-1,M=Math.max(Math.min(Math.round(p),this.data.z[0].length-1),0),C=Math.max(Math.min(Math.round(L),this.data._ylength-1),0);A.index=[M,C],A.traceCoordinate=[this.getXat(M,C),this.getYat(M,C),this.getZat(M,C)],A.dataCoordinate=[this.getXat(M,C,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(M,C,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(M,C,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var R=0;R<3;R++)A.dataCoordinate[R]!=null&&(A.dataCoordinate[R]*=this.scene.dataScale[R]);var I=this.data.hovertext||this.data.text;return c(I)&&I[C]&&I[C][M]!==void 0?A.textLabel=I[C][M]:A.textLabel=I||"",A.data.dataCoordinate=A.dataCoordinate.slice(),this.surface.highlight(A.data),this.scene.glplot.spikes.position=A.dataCoordinate,!0}};var o=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function l(A,p){if(A<p)return 0;for(var L=0;Math.floor(A%p)===0;)A/=p,L++;return L}function u(A){for(var p=[],L=0;L<o.length;L++){var M=o[L];p.push(l(A,M))}return p}function h(A){for(var p=u(A),L=A,M=0;M<o.length;M++)if(p[M]>0){L=o[M];break}return L}function f(A,p){if(!(A<1||p<1)){for(var L=u(A),M=u(p),C=1,R=0;R<o.length;R++)C*=Math.pow(o[R],Math.max(L[R],M[R]));return C}}r.calcXnums=function(A){var p,L=[];for(p=1;p<A;p++){var M=this.getXat(p-1,0),C=this.getXat(p,0);L[p-1]=C!==M&&M!=null&&C!=null?Math.abs(C-M):0}var R=0;for(p=1;p<A;p++)R+=L[p-1];for(p=1;p<A;p++)L[p-1]===0?L[p-1]=1:L[p-1]=Math.round(R/L[p-1]);return L},r.calcYnums=function(A){var p,L=[];for(p=1;p<A;p++){var M=this.getYat(0,p-1),C=this.getYat(0,p);L[p-1]=C!==M&&M!=null&&C!=null?Math.abs(C-M):0}var R=0;for(p=1;p<A;p++)R+=L[p-1];for(p=1;p<A;p++)L[p-1]===0?L[p-1]=1:L[p-1]=Math.round(R/L[p-1]);return L};var T=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],d=T[9],y=T[13];function m(A,p,L){var M=L[8]+L[2]*p[0]+L[5]*p[1];return A[0]=(L[6]+L[0]*p[0]+L[3]*p[1])/M,A[1]=(L[7]+L[1]*p[0]+L[4]*p[1])/M,A}function w(A,p,L){return function(M,C,R,I){for(var D=[0,0],F=M.shape[0],q=M.shape[1],z=0;z<F;z++)for(var V=0;V<q;V++)R(D,[z,V],I),M.set(z,V,t(C,D[0],D[1]))}(A,p,m,L),A}function _(A,p){for(var L=!1,M=0;M<A.length;M++)if(p===A[M]){L=!0;break}L===!1&&A.push(p)}r.estimateScale=function(A,p){for(var L=1+function(C){if(C.length!==0){for(var R=1,I=0;I<C.length;I++)R=f(R,C[I]);return R}}(p===0?this.calcXnums(A):this.calcYnums(A));L<d;)L*=2;for(;L>y;)L--,L/=h(L),++L<d&&(L=y);var M=Math.round(L/A);return M>1?M:1},r.refineCoords=function(A){for(var p=this.dataScaleX,L=this.dataScaleY,M=A[0].shape[0],C=A[0].shape[1],R=0|Math.floor(A[0].shape[0]*p+1),I=0|Math.floor(A[0].shape[1]*L+1),D=1+M+1,F=1+C+1,q=x(new Float32Array(D*F),[D,F]),z=[1/p,0,0,0,1/L,0,0,0,1],V=0;V<A.length;++V){this.surface.padField(q,A[V]);var X=x(new Float32Array(R*I),[R,I]);w(X,q,z),A[V]=X}},r.setContourLevels=function(){var A,p,L,M=[[],[],[]],C=[!1,!1,!1],R=!1;for(A=0;A<3;++A)if(this.showContour[A]&&(R=!0,this.contourSize[A]>0&&this.contourStart[A]!==null&&this.contourEnd[A]!==null&&this.contourEnd[A]>this.contourStart[A]))for(C[A]=!0,p=this.contourStart[A];p<this.contourEnd[A];p+=this.contourSize[A])L=p*this.scene.dataScale[A],_(M[A],L);if(R){var I=[[],[],[]];for(A=0;A<3;++A)this.showContour[A]&&(I[A]=C[A]?M[A]:this.scene.contourLevels[A]);this.surface.update({levels:I})}},r.update=function(A){var p,L,M,C,R=this.scene,I=R.fullSceneLayout,D=this.surface,F=s(A),q=R.dataScale,z=A.z[0].length,V=A._ylength,X=R.contourLevels;this.data=A;var j=[];for(p=0;p<3;p++)for(j[p]=[],L=0;L<z;L++)j[p][L]=[];for(L=0;L<z;L++)for(M=0;M<V;M++)j[0][L][M]=this.getXat(L,M,A.xcalendar,I.xaxis),j[1][L][M]=this.getYat(L,M,A.ycalendar,I.yaxis),j[2][L][M]=this.getZat(L,M,A.zcalendar,I.zaxis);if(A.connectgaps)for(A._emptypoints=g(j[2]),b(j[2],A._emptypoints),A._interpolatedZ=[],L=0;L<z;L++)for(A._interpolatedZ[L]=[],M=0;M<V;M++)A._interpolatedZ[L][M]=j[2][L][M];for(p=0;p<3;p++)for(L=0;L<z;L++)for(M=0;M<V;M++)(C=j[p][L][M])==null?j[p][L][M]=NaN:C=j[p][L][M]*=q[p];for(p=0;p<3;p++)for(L=0;L<z;L++)for(M=0;M<V;M++)(C=j[p][L][M])!=null&&(this.minValues[p]>C&&(this.minValues[p]=C),this.maxValues[p]<C&&(this.maxValues[p]=C));for(p=0;p<3;p++)this.objectOffset[p]=.5*(this.minValues[p]+this.maxValues[p]);for(p=0;p<3;p++)for(L=0;L<z;L++)for(M=0;M<V;M++)(C=j[p][L][M])!=null&&(j[p][L][M]-=this.objectOffset[p]);var H=[x(new Float32Array(z*V),[z,V]),x(new Float32Array(z*V),[z,V]),x(new Float32Array(z*V),[z,V])];for(p=0;p<3;p++)for(L=0;L<z;L++)for(M=0;M<V;M++)H[p].set(L,M,j[p][L][M]);j=[];var G={colormap:F,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!A.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:A.opacityscale,opacity:A.opacity},ie=i(A);if(G.intensityBounds=[ie.min,ie.max],A.surfacecolor){var re=x(new Float32Array(z*V),[z,V]);for(L=0;L<z;L++)for(M=0;M<V;M++)re.set(L,M,A.surfacecolor[M][L]);H.push(re)}else G.intensityBounds[0]*=q[2],G.intensityBounds[1]*=q[2];(y<H[0].shape[0]||y<H[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(H[0].shape[0],0),this.dataScaleY=this.estimateScale(H[0].shape[1],1),this.dataScaleX===1&&this.dataScaleY===1||this.refineCoords(H)),A.surfacecolor&&(G.intensity=H.pop());var te=[!0,!0,!0],K=["x","y","z"];for(p=0;p<3;++p){var J=A.contours[K[p]];te[p]=J.highlight,G.showContour[p]=J.show||J.highlight,G.showContour[p]&&(G.contourProject[p]=[J.project.x,J.project.y,J.project.z],J.show?(this.showContour[p]=!0,G.levels[p]=X[p],D.highlightColor[p]=G.contourColor[p]=n(J.color),J.usecolormap?D.highlightTint[p]=G.contourTint[p]=0:D.highlightTint[p]=G.contourTint[p]=1,G.contourWidth[p]=J.width,this.contourStart[p]=J.start,this.contourEnd[p]=J.end,this.contourSize[p]=J.size):(this.showContour[p]=!1,this.contourStart[p]=null,this.contourEnd[p]=null,this.contourSize[p]=0),J.highlight&&(G.dynamicColor[p]=n(J.highlightcolor),G.dynamicWidth[p]=J.highlightwidth))}(function($){var ae=$[0].rgb,ue=$[$.length-1].rgb;return ae[0]===ue[0]&&ae[1]===ue[1]&&ae[2]===ue[2]&&ae[3]===ue[3]})(F)&&(G.vertexColor=!0),G.objectOffset=this.objectOffset,G.coords=H,D.update(G),D.visible=A.visible,D.enableDynamic=te,D.enableHighlight=te,D.snapToData=!0,"lighting"in A&&(D.ambientLight=A.lighting.ambient,D.diffuseLight=A.lighting.diffuse,D.specularLight=A.lighting.specular,D.roughness=A.lighting.roughness,D.fresnel=A.lighting.fresnel),"lightposition"in A&&(D.lightPosition=[A.lightposition.x,A.lightposition.y,A.lightposition.z])},r.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()},O.exports=function(A,p){var L=A.glplot.gl,M=v({gl:L}),C=new a(A,M,p.uid);return M._trace=C,C.update(p),A.glplot.add(M),C}},60192:function(O,S,e){var v=e(24040),x=e(3400),t=e(27260),b=e(16716);function g(s,n,i,a){var r=a("opacityscale");r==="max"?n.opacityscale=[[0,.1],[1,1]]:r==="min"?n.opacityscale=[[0,1],[1,.1]]:r==="extremes"?n.opacityscale=function(o,l){for(var u=[],h=0;h<32;h++){var f=h/31,T=.1+.9*(1-Math.pow(Math.sin(1*f*Math.PI),2));u.push([f,Math.max(0,Math.min(1,T))])}return u}():function(o){var l=0;if(!Array.isArray(o)||o.length<2||!o[0]||!o[o.length-1]||+o[0][0]!=0||+o[o.length-1][0]!=1)return!1;for(var u=0;u<o.length;u++){var h=o[u];if(h.length!==2||+h[0]<l)return!1;l=+h[0]}return!0}(r)||(n.opacityscale=void 0)}function c(s,n,i){n in s&&!(i in s)&&(s[i]=s[n])}O.exports={supplyDefaults:function(s,n,i,a){var r,o;function l(_,A){return x.coerce(s,n,b,_,A)}var u=l("x"),h=l("y"),f=l("z");if(!f||!f.length||u&&u.length<1||h&&h.length<1)n.visible=!1;else{n._xlength=Array.isArray(u)&&x.isArrayOrTypedArray(u[0])?f.length:f[0].length,n._ylength=f.length,v.getComponentMethod("calendars","handleTraceDefaults")(s,n,["x","y","z"],a),l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(_){l(_)});var T=l("surfacecolor"),d=["x","y","z"];for(r=0;r<3;++r){var y="contours."+d[r],m=l(y+".show"),w=l(y+".highlight");if(m||w)for(o=0;o<3;++o)l(y+".project."+d[o]);m&&(l(y+".color"),l(y+".width"),l(y+".usecolormap")),w&&(l(y+".highlightcolor"),l(y+".highlightwidth")),l(y+".start"),l(y+".end"),l(y+".size")}T||(c(s,"zmin","cmin"),c(s,"zmax","cmax"),c(s,"zauto","cauto")),t(s,n,a,l,{prefix:"",cLetter:"c"}),g(0,n,0,l),n._length=null}},opacityscaleDefaults:g}},91304:function(O,S,e){O.exports={attributes:e(16716),supplyDefaults:e(60192).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(56576),plot:e(79164),moduleType:"trace",name:"surface",basePlotModule:e(12536),categories:["gl3d","2dMap","showLegend"],meta:{}}},60520:function(O,S,e){var v=e(13916),x=e(92880).extendFlat,t=e(67824).overrideAll,b=e(25376),g=e(86968).u,c=e(29736).descriptionOnlyNumbers;(O.exports=t({domain:g({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:c("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:x({},v.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:x({},b({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:c("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:x({},v.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:x({},b({arrayOk:!0}))}},"calc","from-root")).transforms=void 0},85852:function(O,S,e){var v=e(84888)._M,x=e(24752),t="table";S.name=t,S.plot=function(b){var g=v(b.calcdata,t)[0];g.length&&x(b,g)},S.clean=function(b,g,c,s){var n=s._has&&s._has(t),i=g._has&&g._has(t);n&&!i&&s._paperdiv.selectAll(".table").remove()}},39312:function(O,S,e){var v=e(71688).wrap;O.exports=function(){return v({})}},23536:function(O){O.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},55992:function(O,S,e){var v=e(23536),x=e(92880).extendFlat,t=e(38248),b=e(38116).isTypedArray,g=e(38116).isArrayOrTypedArray;function c(l){if(g(l)){for(var u=0,h=0;h<l.length;h++)u=Math.max(u,c(l[h]));return u}return l}function s(l,u){return l+u}function n(l){var u,h=l.slice(),f=1/0,T=0;for(u=0;u<h.length;u++)b(h[u])?h[u]=Array.from(h[u]):g(h[u])||(h[u]=[h[u]]),f=Math.min(f,h[u].length),T=Math.max(T,h[u].length);if(f!==T)for(u=0;u<h.length;u++){var d=T-h[u].length;d&&(h[u]=h[u].concat(i(d)))}return h}function i(l){for(var u=new Array(l),h=0;h<l;h++)u[h]="";return u}function a(l){return l.calcdata.columns.reduce(function(u,h){return h.xIndex<l.xIndex?u+h.columnWidth:u},0)}function r(l,u){return Object.keys(l).map(function(h){return x({},l[h],{auxiliaryBlocks:u})})}function o(l,u){for(var h,f={},T=0,d=0,y={firstRowIndex:null,lastRowIndex:null,rows:[]},m=0,w=0,_=0;_<l.length;_++)h=l[_],y.rows.push({rowIndex:_,rowHeight:h}),((d+=h)>=u||_===l.length-1)&&(f[T]=y,y.key=w++,y.firstRowIndex=m,y.lastRowIndex=_,y={firstRowIndex:null,lastRowIndex:null,rows:[]},T+=d,m=_+1,d=0);return f}O.exports=function(l,u){var h=n(u.cells.values),f=function(V){return V.slice(u.header.values.length,V.length)},T=n(u.header.values);T.length&&!T[0].length&&(T[0]=[""],T=n(T));var d=T.concat(f(h).map(function(){return i((T[0]||[""]).length)})),y=u.domain,m=Math.floor(l._fullLayout._size.w*(y.x[1]-y.x[0])),w=Math.floor(l._fullLayout._size.h*(y.y[1]-y.y[0])),_=u.header.values.length?d[0].map(function(){return u.header.height}):[v.emptyHeaderHeight],A=h.length?h[0].map(function(){return u.cells.height}):[],p=_.reduce(s,0),L=o(A,w-p+v.uplift),M=r(o(_,p),[]),C=r(L,M),R={},I=u._fullInput.columnorder;g(I)&&(I=Array.from(I)),I=I.concat(f(h.map(function(V,X){return X})));var D=d.map(function(V,X){var j=g(u.columnwidth)?u.columnwidth[Math.min(X,u.columnwidth.length-1)]:u.columnwidth;return t(j)?Number(j):1}),F=D.reduce(s,0);D=D.map(function(V){return V/F*m});var q=Math.max(c(u.header.line.width),c(u.cells.line.width)),z={key:u.uid+l._context.staticPlot,translateX:y.x[0]*l._fullLayout._size.w,translateY:l._fullLayout._size.h*(1-y.y[1]),size:l._fullLayout._size,width:m,maxLineWidth:q,height:w,columnOrder:I,groupHeight:w,rowBlocks:C,headerRowBlocks:M,scrollY:0,cells:x({},u.cells,{values:h}),headerCells:x({},u.header,{values:d}),gdColumns:d.map(function(V){return V[0]}),gdColumnsOriginalOrder:d.map(function(V){return V[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:d.map(function(V,X){var j=R[V];return R[V]=(j||0)+1,{key:V+"__"+R[V],label:V,specIndex:X,xIndex:I[X],xScale:a,x:void 0,calcdata:void 0,columnWidth:D[X]}})};return z.columns.forEach(function(V){V.calcdata=z,V.x=a(V)}),z}},53056:function(O,S,e){var v=e(92880).extendFlat;S.splitToPanels=function(x){var t=[0,0],b=v({},x,{key:"header",type:"header",page:0,prevPages:t,currentRepaint:[null,null],dragHandle:!0,values:x.calcdata.headerCells.values[x.specIndex],rowBlocks:x.calcdata.headerRowBlocks,calcdata:v({},x.calcdata,{cells:x.calcdata.headerCells})});return[v({},x,{key:"cells1",type:"cells",page:0,prevPages:t,currentRepaint:[null,null],dragHandle:!1,values:x.calcdata.cells.values[x.specIndex],rowBlocks:x.calcdata.rowBlocks}),v({},x,{key:"cells2",type:"cells",page:1,prevPages:t,currentRepaint:[null,null],dragHandle:!1,values:x.calcdata.cells.values[x.specIndex],rowBlocks:x.calcdata.rowBlocks}),b]},S.splitToCells=function(x){var t=function(b){var g=b.rowBlocks[b.page],c=g?g.rows[0].rowIndex:0;return[c,g?c+g.rows.length:0]}(x);return(x.values||[]).slice(t[0],t[1]).map(function(b,g){return{keyWithinBlock:g+(typeof b=="string"&&b.match(/[<$&> ]/)?"_keybuster_"+Math.random():""),key:t[0]+g,column:x,calcdata:x.calcdata,page:x.page,rowBlocks:x.rowBlocks,value:b}})}},53212:function(O,S,e){var v=e(3400),x=e(60520),t=e(86968).Q;O.exports=function(b,g,c,s){function n(i,a){return v.coerce(b,g,x,i,a)}t(g,s,n),n("columnwidth"),n("header.values"),n("header.format"),n("header.align"),n("header.prefix"),n("header.suffix"),n("header.height"),n("header.line.width"),n("header.line.color"),n("header.fill.color"),v.coerceFont(n,"header.font",s.font),function(i,a){for(var r=i.columnorder||[],o=i.header.values.length,l=r.slice(0,o),u=l.slice().sort(function(T,d){return T-d}),h=l.map(function(T){return u.indexOf(T)}),f=h.length;f<o;f++)h.push(f);a("columnorder",h)}(g,n),n("cells.values"),n("cells.format"),n("cells.align"),n("cells.prefix"),n("cells.suffix"),n("cells.height"),n("cells.line.width"),n("cells.line.color"),n("cells.fill.color"),v.coerceFont(n,"cells.font",s.font),g._length=null}},41724:function(O,S,e){O.exports={attributes:e(60520),supplyDefaults:e(53212),calc:e(39312),plot:e(24752),moduleType:"trace",name:"table",basePlotModule:e(85852),categories:["noOpacity"],meta:{}}},24752:function(O,S,e){var v=e(23536),x=e(33428),t=e(3400),b=t.numberFormat,g=e(71688),c=e(43616),s=e(72736),n=e(3400).raiseToTop,i=e(3400).strTranslate,a=e(3400).cancelTransition,r=e(55992),o=e(53056),l=e(76308);function u(G){return Math.ceil(G.calcdata.maxLineWidth/2)}function h(G,ie){return"clip"+G._fullLayout._uid+"_scrollAreaBottomClip_"+ie.key}function f(G,ie){return"clip"+G._fullLayout._uid+"_columnBoundaryClippath_"+ie.calcdata.key+"_"+ie.specIndex}function T(G){return[].concat.apply([],G.map(function(ie){return ie})).map(function(ie){return ie.__data__})}function d(G,ie,re){var te=G.selectAll("."+v.cn.scrollbarKit).data(g.repeat,g.keyFun);te.enter().append("g").classed(v.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),te.each(function(ue){var ce=ue.scrollbarState;ce.totalHeight=function(de){var pe=de.rowBlocks;return V(pe,pe.length-1)+(pe.length?X(pe[pe.length-1],1/0):1)}(ue),ce.scrollableAreaHeight=ue.groupHeight-M(ue),ce.currentlyVisibleHeight=Math.min(ce.totalHeight,ce.scrollableAreaHeight),ce.ratio=ce.currentlyVisibleHeight/ce.totalHeight,ce.barLength=Math.max(ce.ratio*ce.currentlyVisibleHeight,v.goldenRatio*v.scrollbarWidth),ce.barWiggleRoom=ce.currentlyVisibleHeight-ce.barLength,ce.wiggleRoom=Math.max(0,ce.totalHeight-ce.scrollableAreaHeight),ce.topY=ce.barWiggleRoom===0?0:ue.scrollY/ce.wiggleRoom*ce.barWiggleRoom,ce.bottomY=ce.topY+ce.barLength,ce.dragMultiplier=ce.wiggleRoom/ce.barWiggleRoom}).attr("transform",function(ue){var ce=ue.width+v.scrollbarWidth/2+v.scrollbarOffset;return i(ce,M(ue))});var K=te.selectAll("."+v.cn.scrollbar).data(g.repeat,g.keyFun);K.enter().append("g").classed(v.cn.scrollbar,!0);var J=K.selectAll("."+v.cn.scrollbarSlider).data(g.repeat,g.keyFun);J.enter().append("g").classed(v.cn.scrollbarSlider,!0),J.attr("transform",function(ue){return i(0,ue.scrollbarState.topY||0)});var $=J.selectAll("."+v.cn.scrollbarGlyph).data(g.repeat,g.keyFun);$.enter().append("line").classed(v.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",v.scrollbarWidth).attr("stroke-linecap","round").attr("y1",v.scrollbarWidth/2),$.attr("y2",function(ue){return ue.scrollbarState.barLength-v.scrollbarWidth/2}).attr("stroke-opacity",function(ue){return ue.columnDragInProgress||!ue.scrollbarState.barWiggleRoom||re?0:.4}),$.transition().delay(0).duration(0),$.transition().delay(v.scrollbarHideDelay).duration(v.scrollbarHideDuration).attr("stroke-opacity",0);var ae=K.selectAll("."+v.cn.scrollbarCaptureZone).data(g.repeat,g.keyFun);ae.enter().append("line").classed(v.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",v.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(ue){var ce=x.event.y,de=this.getBoundingClientRect(),pe=ue.scrollbarState,me=ce-de.top,be=x.scale.linear().domain([0,pe.scrollableAreaHeight]).range([0,pe.totalHeight]).clamp(!0);pe.topY<=me&&me<=pe.bottomY||R(ie,G,null,be(me-pe.barLength/2))(ue)}).call(x.behavior.drag().origin(function(ue){return x.event.stopPropagation(),ue.scrollbarState.scrollbarScrollInProgress=!0,ue}).on("drag",R(ie,G)).on("dragend",function(){})),ae.attr("y2",function(ue){return ue.scrollbarState.scrollableAreaHeight}),ie._context.staticPlot&&($.remove(),ae.remove())}function y(G,ie,re,te){var K=function(ce){var de=ce.selectAll("."+v.cn.columnCells).data(g.repeat,g.keyFun);return de.enter().append("g").classed(v.cn.columnCells,!0),de.exit().remove(),de}(re),J=function(ce){var de=ce.selectAll("."+v.cn.columnCell).data(o.splitToCells,function(pe){return pe.keyWithinBlock});return de.enter().append("g").classed(v.cn.columnCell,!0),de.exit().remove(),de}(K);(function(ce){ce.each(function(de,pe){var me=de.calcdata.cells.font,be=de.column.specIndex,we={size:_(me.size,be,pe),color:_(me.color,be,pe),family:_(me.family,be,pe),weight:_(me.weight,be,pe),style:_(me.style,be,pe),variant:_(me.variant,be,pe),textcase:_(me.textcase,be,pe),lineposition:_(me.lineposition,be,pe),shadow:_(me.shadow,be,pe)};de.rowNumber=de.key,de.align=_(de.calcdata.cells.align,be,pe),de.cellBorderWidth=_(de.calcdata.cells.line.width,be,pe),de.font=we})})(J);var $=function(ce){var de=ce.selectAll("."+v.cn.cellRect).data(g.repeat,function(pe){return pe.keyWithinBlock});return de.enter().append("rect").classed(v.cn.cellRect,!0),de}(J);(function(ce){ce.attr("width",function(de){return de.column.columnWidth}).attr("stroke-width",function(de){return de.cellBorderWidth}).each(function(de){var pe=x.select(this);l.stroke(pe,_(de.calcdata.cells.line.color,de.column.specIndex,de.rowNumber)),l.fill(pe,_(de.calcdata.cells.fill.color,de.column.specIndex,de.rowNumber))})})($);var ae=function(ce){var de=ce.selectAll("."+v.cn.cellTextHolder).data(g.repeat,function(pe){return pe.keyWithinBlock});return de.enter().append("g").classed(v.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),de}(J),ue=function(ce){var de=ce.selectAll("."+v.cn.cellText).data(g.repeat,function(pe){return pe.keyWithinBlock});return de.enter().append("text").classed(v.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){x.event.stopPropagation()}),de}(ae);(function(ce){ce.each(function(de){c.font(x.select(this),de.font)})})(ue),m(ue,ie,te,G),z(J)}function m(G,ie,re,te){G.text(function(K){var J=K.column.specIndex,$=K.rowNumber,ae=K.value,ue=typeof ae=="string",ce=ue&&ae.match(/<br>/i),de=!ue||ce;K.mayHaveMarkup=ue&&ae.match(/[<&>]/);var pe,me=typeof(pe=ae)=="string"&&pe.match(v.latexCheck);K.latex=me;var be,we,Te=me?"":_(K.calcdata.cells.prefix,J,$)||"",Le=me?"":_(K.calcdata.cells.suffix,J,$)||"",Ie=me?null:_(K.calcdata.cells.format,J,$)||null,_e=Te+(Ie?b(Ie)(K.value):K.value)+Le;if(K.wrappingNeeded=!K.wrapped&&!de&&!me&&(be=w(_e)),K.cellHeightMayIncrease=ce||me||K.mayHaveMarkup||(be===void 0?w(_e):be),K.needsConvertToTspans=K.mayHaveMarkup||K.wrappingNeeded||K.latex,K.wrappingNeeded){var fe=(v.wrapSplitCharacter===" "?_e.replace(/<a href=/gi,"<a_href="):_e).split(v.wrapSplitCharacter),le=v.wrapSplitCharacter===" "?fe.map(function(ye){return ye.replace(/<a_href=/gi,"<a href=")}):fe;K.fragments=le.map(function(ye){return{text:ye,width:null}}),K.fragments.push({fragment:v.wrapSpacer,width:null}),we=le.join(v.lineBreaker)+v.lineBreaker+v.wrapSpacer}else delete K.fragments,we=_e;return we}).attr("dy",function(K){return K.needsConvertToTspans?0:"0.75em"}).each(function(K){var J=this,$=x.select(J),ae=K.wrappingNeeded?D:F;K.needsConvertToTspans?s.convertToTspans($,te,ae(re,J,ie,te,K)):x.select(J.parentNode).attr("transform",function(ue){return i(q(ue),v.cellPad)}).attr("text-anchor",function(ue){return{left:"start",center:"middle",right:"end"}[ue.align]})})}function w(G){return G.indexOf(v.wrapSplitCharacter)!==-1}function _(G,ie,re){if(t.isArrayOrTypedArray(G)){var te=G[Math.min(ie,G.length-1)];return t.isArrayOrTypedArray(te)?te[Math.min(re,te.length-1)]:te}return G}function A(G,ie,re){G.transition().ease(v.releaseTransitionEase).duration(v.releaseTransitionDuration).attr("transform",i(ie.x,re))}function p(G){return G.type==="cells"}function L(G){return G.type==="header"}function M(G){return(G.rowBlocks.length?G.rowBlocks[0].auxiliaryBlocks:[]).reduce(function(ie,re){return ie+X(re,1/0)},0)}function C(G,ie,re){var te=T(ie)[0];if(te!==void 0){var K=te.rowBlocks,J=te.calcdata,$=V(K,K.length),ae=te.calcdata.groupHeight-M(te),ue=J.scrollY=Math.max(0,Math.min($-ae,J.scrollY)),ce=function(de,pe,me){for(var be=[],we=0,Te=0;Te<de.length;Te++){for(var Le=de[Te],Ie=Le.rows,_e=0,fe=0;fe<Ie.length;fe++)_e+=Ie[fe].rowHeight;Le.allRowsHeight=_e,pe<we+_e&&pe+me>we&&be.push(Te),we+=_e}return be}(K,ue,ae);ce.length===1&&(ce[0]===K.length-1?ce.unshift(ce[0]-1):ce.push(ce[0]+1)),ce[0]%2&&ce.reverse(),ie.each(function(de,pe){de.page=ce[pe],de.scrollY=ue}),ie.attr("transform",function(de){var pe=V(de.rowBlocks,de.page)-de.scrollY;return i(0,pe)}),G&&(I(G,re,ie,ce,te.prevPages,te,0),I(G,re,ie,ce,te.prevPages,te,1),d(re,G))}}function R(G,ie,re,te){return function(K){var J=K.calcdata?K.calcdata:K,$=ie.filter(function(de){return J.key===de.key}),ae=re||J.scrollbarState.dragMultiplier,ue=J.scrollY;J.scrollY=te===void 0?J.scrollY+ae*x.event.dy:te;var ce=$.selectAll("."+v.cn.yColumn).selectAll("."+v.cn.columnBlock).filter(p);return C(G,ce,$),J.scrollY===ue}}function I(G,ie,re,te,K,J,$){te[$]!==K[$]&&(clearTimeout(J.currentRepaint[$]),J.currentRepaint[$]=setTimeout(function(){var ae=re.filter(function(ue,ce){return ce===$&&te[ce]!==K[ce]});y(G,ie,ae,re),K[$]=te[$]}))}function D(G,ie,re,te){return function(){var K=x.select(ie.parentNode);K.each(function(J){var $=J.fragments;K.selectAll("tspan.line").each(function(we,Te){$[Te].width=this.getComputedTextLength()});var ae,ue,ce=$[$.length-1].width,de=$.slice(0,-1),pe=[],me=0,be=J.column.columnWidth-2*v.cellPad;for(J.value="";de.length;)me+(ue=(ae=de.shift()).width+ce)>be&&(J.value+=pe.join(v.wrapSpacer)+v.lineBreaker,pe=[],me=0),pe.push(ae.text),me+=ue;me&&(J.value+=pe.join(v.wrapSpacer)),J.wrapped=!0}),K.selectAll("tspan.line").remove(),m(K.select("."+v.cn.cellText),re,G,te),x.select(ie.parentNode.parentNode).call(z)}}function F(G,ie,re,te,K){return function(){if(!K.settledY){var J=x.select(ie.parentNode),$=H(K),ae=K.key-$.firstRowIndex,ue=$.rows[ae].rowHeight,ce=K.cellHeightMayIncrease?ie.parentNode.getBoundingClientRect().height+2*v.cellPad:ue,de=Math.max(ce,ue);de-$.rows[ae].rowHeight&&($.rows[ae].rowHeight=de,G.selectAll("."+v.cn.columnCell).call(z),C(null,G.filter(p),0),d(re,te,!0)),J.attr("transform",function(){var pe=this,me=pe.parentNode.getBoundingClientRect(),be=x.select(pe.parentNode).select("."+v.cn.cellRect).node().getBoundingClientRect(),we=pe.transform.baseVal.consolidate(),Te=be.top-me.top+(we?we.matrix.f:v.cellPad);return i(q(K,x.select(pe.parentNode).select("."+v.cn.cellTextHolder).node().getBoundingClientRect().width),Te)}),K.settledY=!0}}}function q(G,ie){switch(G.align){case"left":default:return v.cellPad;case"right":return G.column.columnWidth-(ie||0)-v.cellPad;case"center":return(G.column.columnWidth-(ie||0))/2}}function z(G){G.attr("transform",function(ie){var re=ie.rowBlocks[0].auxiliaryBlocks.reduce(function(K,J){return K+X(J,1/0)},0),te=X(H(ie),ie.key);return i(0,te+re)}).selectAll("."+v.cn.cellRect).attr("height",function(ie){return(re=H(ie),te=ie.key,re.rows[te-re.firstRowIndex]).rowHeight;var re,te})}function V(G,ie){for(var re=0,te=ie-1;te>=0;te--)re+=j(G[te]);return re}function X(G,ie){for(var re=0,te=0;te<G.rows.length&&G.rows[te].rowIndex<ie;te++)re+=G.rows[te].rowHeight;return re}function j(G){var ie=G.allRowsHeight;if(ie!==void 0)return ie;for(var re=0,te=0;te<G.rows.length;te++)re+=G.rows[te].rowHeight;return G.allRowsHeight=re,re}function H(G){return G.rowBlocks[G.page]}O.exports=function(G,ie){var re=!G._context.staticPlot,te=G._fullLayout._paper.selectAll("."+v.cn.table).data(ie.map(function(Le){var Ie=g.unwrap(Le).trace;return r(G,Ie)}),g.keyFun);te.exit().remove(),te.enter().append("g").classed(v.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),te.attr("width",function(Le){return Le.width+Le.size.l+Le.size.r}).attr("height",function(Le){return Le.height+Le.size.t+Le.size.b}).attr("transform",function(Le){return i(Le.translateX,Le.translateY)});var K=te.selectAll("."+v.cn.tableControlView).data(g.repeat,g.keyFun),J=K.enter().append("g").classed(v.cn.tableControlView,!0).style("box-sizing","content-box");if(re){var $="onwheel"in document?"wheel":"mousewheel";J.on("mousemove",function(Le){K.filter(function(Ie){return Le===Ie}).call(d,G)}).on($,function(Le){if(!Le.scrollbarState.wheeling){Le.scrollbarState.wheeling=!0;var Ie=Le.scrollY+x.event.deltaY;R(G,K,null,Ie)(Le)||(x.event.stopPropagation(),x.event.preventDefault()),Le.scrollbarState.wheeling=!1}}).call(d,G,!0)}K.attr("transform",function(Le){return i(Le.size.l,Le.size.t)});var ae=K.selectAll("."+v.cn.scrollBackground).data(g.repeat,g.keyFun);ae.enter().append("rect").classed(v.cn.scrollBackground,!0).attr("fill","none"),ae.attr("width",function(Le){return Le.width}).attr("height",function(Le){return Le.height}),K.each(function(Le){c.setClipUrl(x.select(this),h(G,Le),G)});var ue=K.selectAll("."+v.cn.yColumn).data(function(Le){return Le.columns},g.keyFun);ue.enter().append("g").classed(v.cn.yColumn,!0),ue.exit().remove(),ue.attr("transform",function(Le){return i(Le.x,0)}),re&&ue.call(x.behavior.drag().origin(function(Le){return A(x.select(this),Le,-v.uplift),n(this),Le.calcdata.columnDragInProgress=!0,d(K.filter(function(Ie){return Le.calcdata.key===Ie.key}),G),Le}).on("drag",function(Le){var Ie=x.select(this),_e=function(fe){return(Le===fe?x.event.x:fe.x)+fe.columnWidth/2};Le.x=Math.max(-v.overdrag,Math.min(Le.calcdata.width+v.overdrag-Le.columnWidth,x.event.x)),T(ue).filter(function(fe){return fe.calcdata.key===Le.calcdata.key}).sort(function(fe,le){return _e(fe)-_e(le)}).forEach(function(fe,le){fe.xIndex=le,fe.x=Le===fe?fe.x:fe.xScale(fe)}),ue.filter(function(fe){return Le!==fe}).transition().ease(v.transitionEase).duration(v.transitionDuration).attr("transform",function(fe){return i(fe.x,0)}),Ie.call(a).attr("transform",i(Le.x,-v.uplift))}).on("dragend",function(Le){var Ie=x.select(this),_e=Le.calcdata;Le.x=Le.xScale(Le),Le.calcdata.columnDragInProgress=!1,A(Ie,Le,0),function(fe,le,ye){var Oe=le.gdColumnsOriginalOrder;le.gdColumns.sort(function(Ae,Se){return ye[Oe.indexOf(Ae)]-ye[Oe.indexOf(Se)]}),le.columnorder=ye,fe.emit("plotly_restyle")}(G,_e,_e.columns.map(function(fe){return fe.xIndex}))})),ue.each(function(Le){c.setClipUrl(x.select(this),f(G,Le),G)});var ce=ue.selectAll("."+v.cn.columnBlock).data(o.splitToPanels,g.keyFun);ce.enter().append("g").classed(v.cn.columnBlock,!0).attr("id",function(Le){return Le.key}),ce.style("cursor",function(Le){return Le.dragHandle?"ew-resize":Le.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var de=ce.filter(L),pe=ce.filter(p);re&&pe.call(x.behavior.drag().origin(function(Le){return x.event.stopPropagation(),Le}).on("drag",R(G,K,-1)).on("dragend",function(){})),y(G,K,de,ce),y(G,K,pe,ce);var me=K.selectAll("."+v.cn.scrollAreaClip).data(g.repeat,g.keyFun);me.enter().append("clipPath").classed(v.cn.scrollAreaClip,!0).attr("id",function(Le){return h(G,Le)});var be=me.selectAll("."+v.cn.scrollAreaClipRect).data(g.repeat,g.keyFun);be.enter().append("rect").classed(v.cn.scrollAreaClipRect,!0).attr("x",-v.overdrag).attr("y",-v.uplift).attr("fill","none"),be.attr("width",function(Le){return Le.width+2*v.overdrag}).attr("height",function(Le){return Le.height+v.uplift}),ue.selectAll("."+v.cn.columnBoundary).data(g.repeat,g.keyFun).enter().append("g").classed(v.cn.columnBoundary,!0);var we=ue.selectAll("."+v.cn.columnBoundaryClippath).data(g.repeat,g.keyFun);we.enter().append("clipPath").classed(v.cn.columnBoundaryClippath,!0),we.attr("id",function(Le){return f(G,Le)});var Te=we.selectAll("."+v.cn.columnBoundaryRect).data(g.repeat,g.keyFun);Te.enter().append("rect").classed(v.cn.columnBoundaryRect,!0).attr("fill","none"),Te.attr("width",function(Le){return Le.columnWidth+2*u(Le)}).attr("height",function(Le){return Le.calcdata.height+2*u(Le)+v.uplift}).attr("x",function(Le){return-u(Le)}).attr("y",function(Le){return-u(Le)}),C(null,pe,K)}},40516:function(O,S,e){var v=e(21776).Ks,x=e(21776).Gw,t=e(49084),b=e(86968).u,g=e(74996),c=e(424),s=e(32984),n=e(92880).extendFlat,i=e(98192).c;O.exports={labels:c.labels,parents:c.parents,values:c.values,branchvalues:c.branchvalues,count:c.count,level:c.level,maxdepth:c.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:n({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:c.marker.colors,pattern:i,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:c.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},t("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:n({},g.textfont,{}),editType:"calc"},text:g.text,textinfo:c.textinfo,texttemplate:x({editType:"plot"},{keys:s.eventDataKeys.concat(["label","value"])}),hovertext:g.hovertext,hoverinfo:c.hoverinfo,hovertemplate:v({},{keys:s.eventDataKeys}),textfont:g.textfont,insidetextfont:g.insidetextfont,outsidetextfont:n({},g.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:g.sort,root:c.root,domain:b({name:"treemap",trace:!0,editType:"calc"})}},79516:function(O,S,e){var v=e(7316);S.name="treemap",S.plot=function(x,t,b,g){v.plotBasePlot(S.name,x,t,b,g)},S.clean=function(x,t,b,g){v.cleanBasePlot(S.name,x,t,b,g)}},97840:function(O,S,e){var v=e(3776);S.r=function(x,t){return v.calc(x,t)},S.q=function(x){return v._runCrossTraceCalc("treemap",x)}},32984:function(O){O.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},34092:function(O,S,e){var v=e(3400),x=e(40516),t=e(76308),b=e(86968).Q,g=e(31508).handleText,c=e(78048).TEXTPAD,s=e(74174).handleMarkerDefaults,n=e(8932),i=n.hasColorscale,a=n.handleDefaults;O.exports=function(r,o,l,u){function h(A,p){return v.coerce(r,o,x,A,p)}var f=h("labels"),T=h("parents");if(f&&f.length&&T&&T.length){var d=h("values");d&&d.length?h("branchvalues"):h("count"),h("level"),h("maxdepth"),h("tiling.packing")==="squarify"&&h("tiling.squarifyratio"),h("tiling.flip"),h("tiling.pad");var y=h("text");h("texttemplate"),o.texttemplate||h("textinfo",v.isArrayOrTypedArray(y)?"text+label":"label"),h("hovertext"),h("hovertemplate");var m=h("pathbar.visible");g(r,o,u,h,"auto",{hasPathbar:m,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition");var w=o.textposition.indexOf("bottom")!==-1;s(r,o,u,h),(o._hasColorscale=i(r,"marker","colors")||(r.marker||{}).coloraxis)?a(r,o,u,h,{prefix:"marker.",cLetter:"c"}):h("marker.depthfade",!(o.marker.colors||[]).length);var _=2*o.textfont.size;h("marker.pad.t",w?_/4:_),h("marker.pad.l",_/4),h("marker.pad.r",_/4),h("marker.pad.b",w?_:_/4),h("marker.cornerradius"),o._hovered={marker:{line:{width:2,color:t.contrast(u.paper_bgcolor)}}},m&&(h("pathbar.thickness",o.pathbar.textfont.size+2*c),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),b(o,u,h),o._length=null}else o.visible=!1}},95808:function(O,S,e){var v=e(33428),x=e(78176),t=e(82744).clearMinTextSize,b=e(60100).resizeText,g=e(52960);O.exports=function(c,s,n,i,a){var r,o,l=a.type,u=a.drawDescendants,h=c._fullLayout,f=h["_"+l+"layer"],T=!n;t(l,h),(r=f.selectAll("g.trace."+l).data(s,function(d){return d[0].trace.uid})).enter().append("g").classed("trace",!0).classed(l,!0),r.order(),!h.uniformtext.mode&&x.hasTransition(n)?(i&&(o=i()),v.transition().duration(n.duration).ease(n.easing).each("end",function(){o&&o()}).each("interrupt",function(){o&&o()}).each(function(){f.selectAll("g.trace").each(function(d){g(c,d,this,n,u)})})):(r.each(function(d){g(c,d,this,n,u)}),h.uniformtext.mode&&b(c,f.selectAll(".trace"),l)),T&&r.exit().remove()}},27336:function(O,S,e){var v=e(33428),x=e(3400),t=e(43616),b=e(72736),g=e(13832),c=e(66192).styleOne,s=e(32984),n=e(78176),i=e(45716),a=!0;O.exports=function(r,o,l,u,h){var f=h.barDifY,T=h.width,d=h.height,y=h.viewX,m=h.viewY,w=h.pathSlice,_=h.toMoveInsideSlice,A=h.strTransform,p=h.hasTransition,L=h.handleSlicesExit,M=h.makeUpdateSliceInterpolator,C=h.makeUpdateTextInterpolator,R={},I=r._context.staticPlot,D=r._fullLayout,F=o[0],q=F.trace,z=F.hierarchy,V=T/q._entryDepth,X=n.listPath(l.data,"id"),j=g(z.copy(),[T,d],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();(j=j.filter(function(G){var ie=X.indexOf(G.data.id);return ie!==-1&&(G.x0=V*ie,G.x1=V*(ie+1),G.y0=f,G.y1=f+d,G.onPathbar=!0,!0)})).reverse(),(u=u.data(j,n.getPtId)).enter().append("g").classed("pathbar",!0),L(u,a,R,[T,d],w),u.order();var H=u;p&&(H=H.transition().each("end",function(){var G=v.select(this);n.setSliceCursor(G,r,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),H.each(function(G){G._x0=y(G.x0),G._x1=y(G.x1),G._y0=m(G.y0),G._y1=m(G.y1),G._hoverX=y(G.x1-Math.min(T,d)/2),G._hoverY=m(G.y1-d/2);var ie=v.select(this),re=x.ensureSingle(ie,"path","surface",function($){$.style("pointer-events",I?"none":"all")});p?re.transition().attrTween("d",function($){var ae=M($,a,R,[T,d]);return function(ue){return w(ae(ue))}}):re.attr("d",w),ie.call(i,l,r,o,{styleOne:c,eventDataKeys:s.eventDataKeys,transitionTime:s.CLICK_TRANSITION_TIME,transitionEasing:s.CLICK_TRANSITION_EASING}).call(n.setSliceCursor,r,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:r._transitioning}),re.call(c,G,q,r,{hovered:!1}),G._text=(n.getPtLabel(G)||"").split("<br>").join(" ")||"";var te=x.ensureSingle(ie,"g","slicetext"),K=x.ensureSingle(te,"text","",function($){$.attr("data-notex",1)}),J=x.ensureUniformFontSize(r,n.determineTextFont(q,G,D.font,{onPathbar:!0}));K.text(G._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(t.font,J).call(b.convertToTspans,r),G.textBB=t.bBox(K.node()),G.transform=_(G,{fontSize:J.size,onPathbar:!0}),G.transform.fontSize=J.size,p?K.transition().attrTween("transform",function($){var ae=C($,a,R,[T,d]);return function(ue){return A(ae(ue))}}):K.attr("transform",A(G))})}},76477:function(O,S,e){var v=e(33428),x=e(3400),t=e(43616),b=e(72736),g=e(13832),c=e(66192).styleOne,s=e(32984),n=e(78176),i=e(45716),a=e(96488).formatSliceLabel,r=!1;O.exports=function(o,l,u,h,f){var T=f.width,d=f.height,y=f.viewX,m=f.viewY,w=f.pathSlice,_=f.toMoveInsideSlice,A=f.strTransform,p=f.hasTransition,L=f.handleSlicesExit,M=f.makeUpdateSliceInterpolator,C=f.makeUpdateTextInterpolator,R=f.prevEntry,I=o._context.staticPlot,D=o._fullLayout,F=l[0].trace,q=F.textposition.indexOf("left")!==-1,z=F.textposition.indexOf("right")!==-1,V=F.textposition.indexOf("bottom")!==-1,X=!V&&!F.marker.pad.t||V&&!F.marker.pad.b,j=g(u,[T,d],{packing:F.tiling.packing,squarifyratio:F.tiling.squarifyratio,flipX:F.tiling.flip.indexOf("x")>-1,flipY:F.tiling.flip.indexOf("y")>-1,pad:{inner:F.tiling.pad,top:F.marker.pad.t,left:F.marker.pad.l,right:F.marker.pad.r,bottom:F.marker.pad.b}}).descendants(),H=1/0,G=-1/0;j.forEach(function(J){var $=J.depth;$>=F._maxDepth?(J.x0=J.x1=(J.x0+J.x1)/2,J.y0=J.y1=(J.y0+J.y1)/2):(H=Math.min(H,$),G=Math.max(G,$))}),h=h.data(j,n.getPtId),F._maxVisibleLayers=isFinite(G)?G-H+1:0,h.enter().append("g").classed("slice",!0),L(h,r,{},[T,d],w),h.order();var ie=null;if(p&&R){var re=n.getPtId(R);h.each(function(J){ie===null&&n.getPtId(J)===re&&(ie={x0:J.x0,x1:J.x1,y0:J.y0,y1:J.y1})})}var te=function(){return ie||{x0:0,x1:T,y0:0,y1:d}},K=h;return p&&(K=K.transition().each("end",function(){var J=v.select(this);n.setSliceCursor(J,o,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),K.each(function(J){var $=n.isHeader(J,F);J._x0=y(J.x0),J._x1=y(J.x1),J._y0=m(J.y0),J._y1=m(J.y1),J._hoverX=y(J.x1-F.marker.pad.r),J._hoverY=m(V?J.y1-F.marker.pad.b/2:J.y0+F.marker.pad.t/2);var ae=v.select(this),ue=x.ensureSingle(ae,"path","surface",function(we){we.style("pointer-events",I?"none":"all")});p?ue.transition().attrTween("d",function(we){var Te=M(we,r,te(),[T,d]);return function(Le){return w(Te(Le))}}):ue.attr("d",w),ae.call(i,u,o,l,{styleOne:c,eventDataKeys:s.eventDataKeys,transitionTime:s.CLICK_TRANSITION_TIME,transitionEasing:s.CLICK_TRANSITION_EASING}).call(n.setSliceCursor,o,{isTransitioning:o._transitioning}),ue.call(c,J,F,o,{hovered:!1}),J.x0===J.x1||J.y0===J.y1?J._text="":J._text=$?X?"":n.getPtLabel(J)||"":a(J,u,F,l,D)||"";var ce=x.ensureSingle(ae,"g","slicetext"),de=x.ensureSingle(ce,"text","",function(we){we.attr("data-notex",1)}),pe=x.ensureUniformFontSize(o,n.determineTextFont(F,J,D.font)),me=J._text||" ",be=$&&me.indexOf("<br>")===-1;de.text(me).classed("slicetext",!0).attr("text-anchor",z?"end":q||be?"start":"middle").call(t.font,pe).call(b.convertToTspans,o),J.textBB=t.bBox(de.node()),J.transform=_(J,{fontSize:pe.size,isHeader:$}),J.transform.fontSize=pe.size,p?de.transition().attrTween("transform",function(we){var Te=C(we,r,te(),[T,d]);return function(Le){return A(Te(Le))}}):de.attr("transform",A(J))}),ie}},83024:function(O){O.exports=function S(e,v,x){var t;x.swapXY&&(t=e.x0,e.x0=e.y0,e.y0=t,t=e.x1,e.x1=e.y1,e.y1=t),x.flipX&&(t=e.x0,e.x0=v[0]-e.x1,e.x1=v[0]-t),x.flipY&&(t=e.y0,e.y0=v[1]-e.y1,e.y1=v[1]-t);var b=e.children;if(b)for(var g=0;g<b.length;g++)S(b[g],v,x)}},31991:function(O,S,e){O.exports={moduleType:"trace",name:"treemap",basePlotModule:e(79516),categories:[],animatable:!0,attributes:e(40516),layoutAttributes:e(45392),supplyDefaults:e(34092),supplyLayoutDefaults:e(77480),calc:e(97840).r,crossTraceCalc:e(97840).q,plot:e(53264),style:e(66192).style,colorbar:e(5528),meta:{}}},45392:function(O){O.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77480:function(O,S,e){var v=e(3400),x=e(45392);O.exports=function(t,b){function g(c,s){return v.coerce(t,b,x,c,s)}g("treemapcolorway",b.colorway),g("extendtreemapcolors")}},13832:function(O,S,e){var v=e(74148),x=e(83024);O.exports=function(t,b,g){var c,s=g.flipX,n=g.flipY,i=g.packing==="dice-slice",a=g.pad[n?"bottom":"top"],r=g.pad[s?"right":"left"],o=g.pad[s?"left":"right"],l=g.pad[n?"top":"bottom"];i&&(c=r,r=a,a=c,c=o,o=l,l=c);var u=v.treemap().tile(function(h,f){switch(h){case"squarify":return v.treemapSquarify.ratio(f);case"binary":return v.treemapBinary;case"dice":return v.treemapDice;case"slice":return v.treemapSlice;default:return v.treemapSliceDice}}(g.packing,g.squarifyratio)).paddingInner(g.pad.inner).paddingLeft(r).paddingRight(o).paddingTop(a).paddingBottom(l).size(i?[b[1],b[0]]:b)(t);return(i||s||n)&&x(u,b,{swapXY:i,flipX:s,flipY:n}),u}},53264:function(O,S,e){var v=e(95808),x=e(76477);O.exports=function(t,b,g,c){return v(t,b,g,c,{type:"treemap",drawDescendants:x})}},52960:function(O,S,e){var v=e(33428),x=e(67756).qy,t=e(78176),b=e(3400),g=e(78048).TEXTPAD,c=e(98184).toMoveInsideBar,s=e(82744).recordMinTextSize,n=e(32984),i=e(27336);function a(r){return t.isHierarchyRoot(r)?"":t.getPtId(r)}O.exports=function(r,o,l,u,h){var f=r._fullLayout,T=o[0],d=T.trace,y=d.type==="icicle",m=T.hierarchy,w=t.findEntryWithLevel(m,d.level),_=v.select(l),A=_.selectAll("g.pathbar"),p=_.selectAll("g.slice");if(!w)return A.remove(),void p.remove();var L=t.isHierarchyRoot(w),M=!f.uniformtext.mode&&t.hasTransition(u),C=t.getMaxDepth(d),R=f._size,I=d.domain,D=R.w*(I.x[1]-I.x[0]),F=R.h*(I.y[1]-I.y[0]),q=D,z=d.pathbar.thickness,V=d.marker.line.width+n.gapWithPathbar,X=d.pathbar.visible?d.pathbar.side.indexOf("bottom")>-1?F+V:-(z+V):0,j={x0:q,x1:q,y0:X,y1:X+z},H=function(Me,Ce,Ne){var Re=d.tiling.pad,He=function(ut){return ut-Re<=Ce.x0},Ye=function(ut){return ut+Re>=Ce.x1},Qe=function(ut){return ut-Re<=Ce.y0},lt=function(ut){return ut+Re>=Ce.y1};return Me.x0===Ce.x0&&Me.x1===Ce.x1&&Me.y0===Ce.y0&&Me.y1===Ce.y1?{x0:Me.x0,x1:Me.x1,y0:Me.y0,y1:Me.y1}:{x0:He(Me.x0-Re)?0:Ye(Me.x0-Re)?Ne[0]:Me.x0,x1:He(Me.x1+Re)?0:Ye(Me.x1+Re)?Ne[0]:Me.x1,y0:Qe(Me.y0-Re)?0:lt(Me.y0-Re)?Ne[1]:Me.y0,y1:Qe(Me.y1+Re)?0:lt(Me.y1+Re)?Ne[1]:Me.y1}},G=null,ie={},re={},te=null,K=function(Me,Ce){return Ce?ie[a(Me)]:re[a(Me)]};T.hasMultipleRoots&&L&&C++,d._maxDepth=C,d._backgroundColor=f.paper_bgcolor,d._entryDepth=w.data.depth,d._atRootLevel=L;var J=-D/2+R.l+R.w*(I.x[1]+I.x[0])/2,$=-F/2+R.t+R.h*(1-(I.y[1]+I.y[0])/2),ae=function(Me){return J+Me},ue=function(Me){return $+Me},ce=ue(0),de=ae(0),pe=function(Me){return de+Me},me=function(Me){return ce+Me};function be(Me,Ce){return Me+","+Ce}var we=pe(0),Te=function(Me){Me.x=Math.max(we,Me.x)},Le=d.pathbar.edgeshape,Ie=d[y?"tiling":"marker"].pad,_e=function(Me){return d.textposition.indexOf(Me)!==-1},fe=_e("top"),le=_e("left"),ye=_e("right"),Oe=_e("bottom"),Ae=function(Me,Ce){var Ne=Me.x0,Re=Me.x1,He=Me.y0,Ye=Me.y1,Qe=Me.textBB,lt=fe||Ce.isHeader&&!Oe?"start":Oe?"end":"middle",ut=_e("right"),xt=_e("left")||Ce.onPathbar?-1:ut?1:0;if(Ce.isHeader){if((Ne+=(y?Ie:Ie.l)-g)>=(Re-=(y?Ie:Ie.r)-g)){var _t=(Ne+Re)/2;Ne=_t,Re=_t}var mt;Oe?He<(mt=Ye-(y?Ie:Ie.b))&&mt<Ye&&(He=mt):He<(mt=He+(y?Ie:Ie.t))&&mt<Ye&&(Ye=mt)}var it=c(Ne,Re,He,Ye,Qe,{isHorizontal:!1,constrained:!0,angle:0,anchor:lt,leftToRight:xt});return it.fontSize=Ce.fontSize,it.targetX=ae(it.targetX),it.targetY=ue(it.targetY),isNaN(it.targetX)||isNaN(it.targetY)?{}:(Ne!==Re&&He!==Ye&&s(d.type,it,f),{scale:it.scale,rotate:it.rotate,textX:it.textX,textY:it.textY,anchorX:it.anchorX,anchorY:it.anchorY,targetX:it.targetX,targetY:it.targetY})},Se=function(Me,Ce){for(var Ne,Re=0,He=Me;!Ne&&Re<C;)Re++,(He=He.parent)?Ne=K(He,Ce):Re=C;return Ne||{}},Pe=function(Me,Ce,Ne,Re,He){var Ye,Qe=K(Me,Ce);if(Qe)Ye=Qe;else if(Ce)Ye=j;else if(G)if(Me.parent){var lt=te||Ne;lt&&!Ce?Ye=H(Me,lt,Re):(Ye={},b.extendFlat(Ye,Se(Me,Ce)))}else Ye=b.extendFlat({},Me),y&&(He.orientation==="h"?He.flipX?Ye.x0=Me.x1:Ye.x1=0:He.flipY?Ye.y0=Me.y1:Ye.y1=0);else Ye={};return x(Ye,{x0:Me.x0,x1:Me.x1,y0:Me.y0,y1:Me.y1})},Fe=function(Me,Ce,Ne,Re){var He=K(Me,Ce),Ye={},Qe=function(ut,xt,_t,mt){if(xt)return ie[a(m)]||j;var it=re[d.level]||_t;return function(nt){return nt.data.depth-w.data.depth<C}(ut)?H(ut,it,mt):{}}(Me,Ce,Ne,Re);b.extendFlat(Ye,{transform:Ae({x0:Qe.x0,x1:Qe.x1,y0:Qe.y0,y1:Qe.y1,textBB:Me.textBB,_text:Me._text},{isHeader:t.isHeader(Me,d)})}),He?Ye=He:Me.parent&&b.extendFlat(Ye,Se(Me,Ce));var lt=Me.transform;return Me.x0!==Me.x1&&Me.y0!==Me.y1&&s(d.type,lt,f),x(Ye,{transform:{scale:lt.scale,rotate:lt.rotate,textX:lt.textX,textY:lt.textY,anchorX:lt.anchorX,anchorY:lt.anchorY,targetX:lt.targetX,targetY:lt.targetY}})},Be=function(Me,Ce,Ne,Re,He){var Ye=Re[0],Qe=Re[1];M?Me.exit().transition().each(function(){var lt=v.select(this);lt.select("path.surface").transition().attrTween("d",function(ut){var xt=function(_t,mt,it,nt){var Et,zt=K(_t,mt);if(mt)Et=j;else{var Ft=K(w,mt);Et=Ft?H(_t,Ft,nt):{}}return x(zt,Et)}(ut,Ce,0,[Ye,Qe]);return function(_t){return He(xt(_t))}}),lt.select("g.slicetext").attr("opacity",0)}).remove():Me.exit().remove()},xe=function(Me){var Ce=Me.transform;return Me.x0!==Me.x1&&Me.y0!==Me.y1&&s(d.type,Ce,f),b.getTextTransform({textX:Ce.textX,textY:Ce.textY,anchorX:Ce.anchorX,anchorY:Ce.anchorY,targetX:Ce.targetX,targetY:Ce.targetY,scale:Ce.scale,rotate:Ce.rotate})};M&&(A.each(function(Me){ie[a(Me)]={x0:Me.x0,x1:Me.x1,y0:Me.y0,y1:Me.y1},Me.transform&&(ie[a(Me)].transform={textX:Me.transform.textX,textY:Me.transform.textY,anchorX:Me.transform.anchorX,anchorY:Me.transform.anchorY,targetX:Me.transform.targetX,targetY:Me.transform.targetY,scale:Me.transform.scale,rotate:Me.transform.rotate})}),p.each(function(Me){re[a(Me)]={x0:Me.x0,x1:Me.x1,y0:Me.y0,y1:Me.y1},Me.transform&&(re[a(Me)].transform={textX:Me.transform.textX,textY:Me.transform.textY,anchorX:Me.transform.anchorX,anchorY:Me.transform.anchorY,targetX:Me.transform.targetX,targetY:Me.transform.targetY,scale:Me.transform.scale,rotate:Me.transform.rotate}),!G&&t.isEntry(Me)&&(G=Me)})),te=h(r,o,w,p,{width:D,height:F,viewX:ae,viewY:ue,pathSlice:function(Me){var Ce=ae(Me.x0),Ne=ae(Me.x1),Re=ue(Me.y0),He=ue(Me.y1),Ye=Ne-Ce,Qe=He-Re;if(!Ye||!Qe)return"";var lt=d.marker.cornerradius||0,ut=Math.min(lt,Ye/2,Qe/2);ut&&Me.data&&Me.data.data&&Me.data.data.label&&(fe&&(ut=Math.min(ut,Ie.t)),le&&(ut=Math.min(ut,Ie.l)),ye&&(ut=Math.min(ut,Ie.r)),Oe&&(ut=Math.min(ut,Ie.b)));var xt=function(_t,mt){return ut?"a"+be(ut,ut)+" 0 0 1 "+be(_t,mt):""};return"M"+be(Ce,Re+ut)+xt(ut,-ut)+"L"+be(Ne-ut,Re)+xt(ut,ut)+"L"+be(Ne,He-ut)+xt(-ut,ut)+"L"+be(Ce+ut,He)+xt(-ut,-ut)+"Z"},toMoveInsideSlice:Ae,prevEntry:G,makeUpdateSliceInterpolator:Pe,makeUpdateTextInterpolator:Fe,handleSlicesExit:Be,hasTransition:M,strTransform:xe}),d.pathbar.visible?i(r,o,w,A,{barDifY:X,width:q,height:z,viewX:pe,viewY:me,pathSlice:function(Me){var Ce=pe(Math.max(Math.min(Me.x0,Me.x0),0)),Ne=pe(Math.min(Math.max(Me.x1,Me.x1),q)),Re=me(Me.y0),He=me(Me.y1),Ye=z/2,Qe={},lt={};Qe.x=Ce,lt.x=Ne,Qe.y=lt.y=(Re+He)/2;var ut={x:Ce,y:Re},xt={x:Ne,y:Re},_t={x:Ne,y:He},mt={x:Ce,y:He};return Le===">"?(ut.x-=Ye,xt.x-=Ye,_t.x-=Ye,mt.x-=Ye):Le==="/"?(_t.x-=Ye,mt.x-=Ye,Qe.x-=Ye/2,lt.x-=Ye/2):Le==="\\"?(ut.x-=Ye,xt.x-=Ye,Qe.x-=Ye/2,lt.x-=Ye/2):Le==="<"&&(Qe.x-=Ye,lt.x-=Ye),Te(ut),Te(mt),Te(Qe),Te(xt),Te(_t),Te(lt),"M"+be(ut.x,ut.y)+"L"+be(xt.x,xt.y)+"L"+be(lt.x,lt.y)+"L"+be(_t.x,_t.y)+"L"+be(mt.x,mt.y)+"L"+be(Qe.x,Qe.y)+"Z"},toMoveInsideSlice:Ae,makeUpdateSliceInterpolator:Pe,makeUpdateTextInterpolator:Fe,handleSlicesExit:Be,hasTransition:M,strTransform:xe}):A.remove()}},66192:function(O,S,e){var v=e(33428),x=e(76308),t=e(3400),b=e(78176),g=e(82744).resizeText,c=e(60404);function s(n,i,a,r,o){var l,u,h=(o||{}).hovered,f=i.data.data,T=f.i,d=f.color,y=b.isHierarchyRoot(i),m=1;if(h)l=a._hovered.marker.line.color,u=a._hovered.marker.line.width;else if(y&&d===a.root.color)m=100,l="rgba(0,0,0,0)",u=0;else if(l=t.castOption(a,T,"marker.line.color")||x.defaultLine,u=t.castOption(a,T,"marker.line.width")||0,!a._hasColorscale&&!i.onPathbar){var w=a.marker.depthfade;if(w){var _,A=x.combine(x.addOpacity(a._backgroundColor,.75),d);if(w===!0){var p=b.getMaxDepth(a);_=isFinite(p)?b.isLeaf(i)?0:a._maxVisibleLayers-(i.data.depth-a._entryDepth):i.data.height+1}else _=i.data.depth-a._entryDepth,a._atRootLevel||_++;if(_>0)for(var L=0;L<_;L++){var M=.5*L/_;d=x.combine(x.addOpacity(A,M),d)}}}n.call(c,i,a,r,d).style("stroke-width",u).call(x.stroke,l).style("opacity",m)}O.exports={style:function(n){var i=n._fullLayout._treemaplayer.selectAll(".trace");g(n,i,"treemap"),i.each(function(a){var r=v.select(this),o=a[0].trace;r.style("opacity",o.opacity),r.selectAll("path.surface").each(function(l){v.select(this).call(s,l,o,n,{hovered:!1})})})},styleOne:s}},13988:function(O,S,e){var v=e(63188),x=e(92880).extendFlat,t=e(29736).axisHoverFormat;O.exports={y:v.y,x:v.x,x0:v.x0,y0:v.y0,xhoverformat:t("x"),yhoverformat:t("y"),name:x({},v.name,{}),orientation:x({},v.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:v.fillcolor,points:x({},v.boxpoints,{}),jitter:x({},v.jitter,{}),pointpos:x({},v.pointpos,{}),width:x({},v.width,{}),marker:v.marker,text:v.text,hovertext:v.hovertext,hovertemplate:v.hovertemplate,quartilemethod:v.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:v.offsetgroup,alignmentgroup:v.alignmentgroup,selected:v.selected,unselected:v.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"},zorder:v.zorder}},67064:function(O,S,e){var v=e(3400),x=e(54460),t=e(62555),b=e(63800),g=e(39032).BADNUM;function c(n,i,a){var r=i.max-i.min;if(!r)return n.bandwidth?n.bandwidth:0;if(n.bandwidth)return Math.max(n.bandwidth,r/1e4);var o=a.length,l=v.stdev(a,o-1,i.mean);return Math.max(function(u,h,f){return 1.059*Math.min(h,f/1.349)*Math.pow(u,-.2)}(o,l,i.q3-i.q1),r/100)}function s(n,i,a,r){var o,l=n.spanmode,u=n.span||[],h=[i.min,i.max],f=[i.min-2*r,i.max+2*r];function T(y){var m=u[y],w=a.type==="multicategory"?a.r2c(m):a.d2c(m,0,n[i.valLetter+"calendar"]);return w===g?f[y]:w}var d={type:"linear",range:o=l==="soft"?f:l==="hard"?h:[T(0),T(1)]};return x.setConvert(d),d.cleanRange(),o}O.exports=function(n,i){var a=t(n,i);if(a[0].t.empty)return a;for(var r=n._fullLayout,o=x.getFromId(n,i[i.orientation==="h"?"xaxis":"yaxis"]),l=1/0,u=-1/0,h=0,f=0,T=0;T<a.length;T++){var d=a[T],y=d.pts.map(b.extractVal),m=d.bandwidth=c(i,d,y),w=d.span=s(i,d,o,m);if(d.min===d.max&&m===0)w=d.span=[d.min,d.max],d.density=[{v:1,t:w[0]}],d.bandwidth=m,h=Math.max(h,1);else{var _=w[1]-w[0],A=Math.ceil(_/(m/3)),p=_/A;if(!isFinite(p)||!isFinite(A))return v.error("Something went wrong with computing the violin span"),a[0].t.empty=!0,a;var L=b.makeKDE(d,i,y);d.density=new Array(A);for(var M=0,C=w[0];C<w[1]+p/2;M++,C+=p){var R=L(C);d.density[M]={v:R,t:C},h=Math.max(h,R)}}f=Math.max(f,y.length),l=Math.min(l,w[0]),u=Math.max(u,w[1])}var I=x.findExtremes(o,[l,u],{padded:!0});if(i._extremes[o._id]=I,i.width)a[0].t.maxKDE=h;else{var D=r._violinScaleGroupStats,F=i.scalegroup,q=D[F];q?(q.maxKDE=Math.max(q.maxKDE,h),q.maxCount=Math.max(q.maxCount,f)):D[F]={maxKDE:h,maxCount:f}}return a[0].t.labels.kde=v._(n,"kde:"),a}},14348:function(O,S,e){var v=e(96404).setPositionOffset,x=["v","h"];O.exports=function(t,b){for(var g=t.calcdata,c=b.xaxis,s=b.yaxis,n=0;n<x.length;n++){for(var i=x[n],a=i==="h"?s:c,r=[],o=0;o<g.length;o++){var l=g[o],u=l[0].t,h=l[0].trace;h.visible!==!0||h.type!=="violin"||u.empty||h.orientation!==i||h.xaxis!==c._id||h.yaxis!==s._id||r.push(o)}v("violin",t,r,a)}}},36240:function(O,S,e){var v=e(3400),x=e(76308),t=e(90624),b=e(13988);O.exports=function(g,c,s,n){function i(_,A){return v.coerce(g,c,b,_,A)}function a(_,A){return v.coerce2(g,c,b,_,A)}if(t.handleSampleDefaults(g,c,i,n),c.visible!==!1){i("bandwidth"),i("side"),i("width")||(i("scalegroup",c.name),i("scalemode"));var r,o=i("span");Array.isArray(o)&&(r="manual"),i("spanmode",r);var l=i("line.color",(g.marker||{}).color||s),u=i("line.width"),h=i("fillcolor",x.addOpacity(c.line.color,.5));t.handlePointsDefaults(g,c,i,{prefix:""});var f=a("box.width"),T=a("box.fillcolor",h),d=a("box.line.color",l),y=a("box.line.width",u);i("box.visible",!!(f||T||d||y))||(c.box={visible:!1});var m=a("meanline.color",l),w=a("meanline.width",u);i("meanline.visible",!!(m||w))||(c.meanline={visible:!1}),i("quartilemethod"),i("zorder")}}},63800:function(O,S,e){var v=e(3400),x=function(t){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*t*t)};S.makeKDE=function(t,b,g){var c=g.length,s=x,n=t.bandwidth,i=1/(c*n);return function(a){for(var r=0,o=0;o<c;o++)r+=s((a-g[o])/n);return i*r}},S.getPositionOnKdePath=function(t,b,g){var c,s;b.orientation==="h"?(c="y",s="x"):(c="x",s="y");var n=v.findPointOnPath(t.path,g,s,{pathLength:t.pathLength}),i=t.posCenterPx,a=n[c];return[a,b.side==="both"?2*i-a:i]},S.getKdeValue=function(t,b,g){var c=t.pts.map(S.extractVal);return S.makeKDE(t,b,c)(g)/t.posDensityScale},S.extractVal=function(t){return t.v}},78e3:function(O,S,e){var v=e(76308),x=e(3400),t=e(54460),b=e(27576),g=e(63800);O.exports=function(c,s,n,i,a){a||(a={});var r,o,l=a.hoverLayer,u=c.cd,h=u[0].trace,f=h.hoveron,T=f.indexOf("violins")!==-1,d=f.indexOf("kde")!==-1,y=[];if(T||d){var m=b.hoverOnBoxes(c,s,n,i);if(d&&m.length>0){var w,_,A,p,L,M=c.xa,C=c.ya;h.orientation==="h"?(L=s,w="y",A=C,_="x",p=M):(L=n,w="x",A=M,_="y",p=C);var R=u[c.index];if(L>=R.span[0]&&L<=R.span[1]){var I=x.extendFlat({},c),D=p.c2p(L,!0),F=g.getKdeValue(R,h,L),q=g.getPositionOnKdePath(R,h,D),z=A._offset,V=A._length;I[w+"0"]=q[0],I[w+"1"]=q[1],I[_+"0"]=I[_+"1"]=D,I[_+"Label"]=_+": "+t.hoverLabelText(p,L,h[_+"hoverformat"])+", "+u[0].t.labels.kde+" "+F.toFixed(3);for(var X=0,j=0;j<m.length;j++)if(m[j].attr==="med"){X=j;break}I.spikeDistance=m[X].spikeDistance;var H=w+"Spike";I[H]=m[X][H],m[X].spikeDistance=void 0,m[X][H]=void 0,I.hovertemplate=!1,y.push(I),(o={})[w+"1"]=x.constrain(z+q[0],z,z+V),o[w+"2"]=x.constrain(z+q[1],z,z+V),o[_+"1"]=o[_+"2"]=p._offset+D}}T&&(y=y.concat(m))}f.indexOf("points")!==-1&&(r=b.hoverOnPoints(c,s,n));var G=l.selectAll(".violinline-"+h.uid).data(o?[0]:[]);return G.enter().append("line").classed("violinline-"+h.uid,!0).attr("stroke-width",1.5),G.exit().remove(),G.attr(o).call(v.stroke,c.color),i==="closest"?r?[r]:y:(r&&y.push(r),y)}},22869:function(O,S,e){O.exports={attributes:e(13988),layoutAttributes:e(98228),supplyDefaults:e(36240),crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(8939),calc:e(67064),crossTraceCalc:e(14348),plot:e(5140),style:e(95908),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(78e3),selectPoints:e(8264),moduleType:"trace",name:"violin",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},98228:function(O,S,e){var v=e(16560),x=e(3400).extendFlat;O.exports={violinmode:x({},v.boxmode,{}),violingap:x({},v.boxgap,{}),violingroupgap:x({},v.boxgroupgap,{})}},8939:function(O,S,e){var v=e(3400),x=e(98228),t=e(68832);O.exports=function(b,g,c){t._supply(b,g,c,function(s,n){return v.coerce(b,g,x,s,n)},"violin")}},5140:function(O,S,e){var v=e(33428),x=e(3400),t=e(43616),b=e(18728),g=e(52340),c=e(63800);O.exports=function(s,n,i,a){var r=s._context.staticPlot,o=s._fullLayout,l=n.xaxis,u=n.yaxis;function h(f,T){var d=g(f,{xaxis:l,yaxis:u,trace:T,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return t.smoothopen(d[0],1)}x.makeTraceGroups(a,i,"trace violins").each(function(f){var T=v.select(this),d=f[0],y=d.t,m=d.trace;if(m.visible!==!0||y.empty)T.remove();else{var w=y.bPos,_=y.bdPos,A=n[y.valLetter+"axis"],p=n[y.posLetter+"axis"],L=m.side==="both",M=L||m.side==="positive",C=L||m.side==="negative",R=T.selectAll("path.violin").data(x.identity);R.enter().append("path").style("vector-effect",r?"none":"non-scaling-stroke").attr("class","violin"),R.exit().remove(),R.each(function(j){var H,G,ie,re,te,K,J,$,ae=v.select(this),ue=j.density,ce=ue.length,de=p.c2l(j.pos+w,!0),pe=p.l2p(de);if(m.width)H=y.maxKDE/_;else{var me=o._violinScaleGroupStats[m.scalegroup];H=m.scalemode==="count"?me.maxKDE/_*(me.maxCount/j.pts.length):me.maxKDE/_}if(M){for(J=new Array(ce),te=0;te<ce;te++)($=J[te]={})[y.posLetter]=de+ue[te].v/H,$[y.valLetter]=A.c2l(ue[te].t,!0);G=h(J,m)}if(C){for(J=new Array(ce),K=0,te=ce-1;K<ce;K++,te--)($=J[K]={})[y.posLetter]=de-ue[te].v/H,$[y.valLetter]=A.c2l(ue[te].t,!0);ie=h(J,m)}if(L)re=G+"L"+ie.substr(1)+"Z";else{var be=[pe,A.c2p(ue[0].t)],we=[pe,A.c2p(ue[ce-1].t)];m.orientation==="h"&&(be.reverse(),we.reverse()),re=M?"M"+be+"L"+G.substr(1)+"L"+we:"M"+we+"L"+ie.substr(1)+"L"+be}ae.attr("d",re),j.posCenterPx=pe,j.posDensityScale=H*_,j.path=ae.node(),j.pathLength=j.path.getTotalLength()/(L?2:1)});var I,D,F,q=m.box,z=q.width,V=(q.line||{}).width;L?(I=_*z,D=0):M?(I=[0,_*z/2],D=V*{x:1,y:-1}[y.posLetter]):(I=[_*z/2,0],D=V*{x:-1,y:1}[y.posLetter]),b.plotBoxAndWhiskers(T,{pos:p,val:A},m,{bPos:w,bdPos:I,bPosPxOffset:D}),b.plotBoxMean(T,{pos:p,val:A},m,{bPos:w,bdPos:I,bPosPxOffset:D}),!m.box.visible&&m.meanline.visible&&(F=x.identity);var X=T.selectAll("path.meanline").data(F||[]);X.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",r?"none":"non-scaling-stroke"),X.exit().remove(),X.each(function(j){var H=A.c2p(j.mean,!0),G=c.getPositionOnKdePath(j,m,H);v.select(this).attr("d",m.orientation==="h"?"M"+H+","+G[0]+"V"+G[1]:"M"+G[0]+","+H+"H"+G[1])}),b.plotPoints(T,{x:l,y:u},m,y)}})}},95908:function(O,S,e){var v=e(33428),x=e(76308),t=e(49224).stylePoints;O.exports=function(b){var g=v.select(b).selectAll("g.trace.violins");g.style("opacity",function(c){return c[0].trace.opacity}),g.each(function(c){var s=c[0].trace,n=v.select(this),i=s.box||{},a=i.line||{},r=s.meanline||{},o=r.width;n.selectAll("path.violin").style("stroke-width",s.line.width+"px").call(x.stroke,s.line.color).call(x.fill,s.fillcolor),n.selectAll("path.box").style("stroke-width",a.width+"px").call(x.stroke,a.color).call(x.fill,i.fillcolor);var l={"stroke-width":o+"px","stroke-dasharray":2*o+"px,"+o+"px"};n.selectAll("path.mean").style(l).call(x.stroke,r.color),n.selectAll("path.meanline").style(l).call(x.stroke,r.color),t(n,s,b)})}},58168:function(O,S,e){var v=e(49084),x=e(50048),t=e(16716),b=e(45464),g=e(92880).extendFlat,c=e(67824).overrideAll,s=O.exports=c(g({x:x.x,y:x.y,z:x.z,value:x.value,isomin:x.isomin,isomax:x.isomax,surface:x.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:x.slices,caps:x.caps,text:x.text,hovertext:x.hovertext,xhoverformat:x.xhoverformat,yhoverformat:x.yhoverformat,zhoverformat:x.zhoverformat,valuehoverformat:x.valuehoverformat,hovertemplate:x.hovertemplate},v("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:x.colorbar,opacity:x.opacity,opacityscale:t.opacityscale,lightposition:x.lightposition,lighting:x.lighting,flatshading:x.flatshading,contour:x.contour,hoverinfo:g({},b.hoverinfo),showlegend:g({},b.showlegend,{dflt:!1})}),"calc","nested");s.x.editType=s.y.editType=s.z.editType=s.value.editType="calc+clearAxisTypes",s.transforms=void 0},91976:function(O,S,e){var v=e(67792).gl_mesh3d,x=e(33040).parseColorScale,t=e(3400).isArrayOrTypedArray,b=e(43080),g=e(8932).extractOpts,c=e(52094),s=e(31460).findNearestOnAxis,n=e(31460).generateIsoMeshes;function i(r,o,l){this.scene=r,this.uid=l,this.mesh=o,this.name="",this.data=null,this.showContour=!1}var a=i.prototype;a.handlePick=function(r){if(r.object===this.mesh){var o=r.data.index,l=this.data._meshX[o],u=this.data._meshY[o],h=this.data._meshZ[o],f=this.data._Ys.length,T=this.data._Zs.length,d=s(l,this.data._Xs).id,y=s(u,this.data._Ys).id,m=s(h,this.data._Zs).id,w=r.index=m+T*y+T*f*d;r.traceCoordinate=[this.data._meshX[w],this.data._meshY[w],this.data._meshZ[w],this.data._value[w]];var _=this.data.hovertext||this.data.text;return t(_)&&_[w]!==void 0?r.textLabel=_[w]:_&&(r.textLabel=_),!0}},a.update=function(r){var o=this.scene,l=o.fullSceneLayout;function u(T,d,y,m){return d.map(function(w){return T.d2l(w,0,m)*y})}this.data=n(r);var h={positions:c(u(l.xaxis,r._meshX,o.dataScale[0],r.xcalendar),u(l.yaxis,r._meshY,o.dataScale[1],r.ycalendar),u(l.zaxis,r._meshZ,o.dataScale[2],r.zcalendar)),cells:c(r._meshI,r._meshJ,r._meshK),lightPosition:[r.lightposition.x,r.lightposition.y,r.lightposition.z],ambient:r.lighting.ambient,diffuse:r.lighting.diffuse,specular:r.lighting.specular,roughness:r.lighting.roughness,fresnel:r.lighting.fresnel,vertexNormalsEpsilon:r.lighting.vertexnormalsepsilon,faceNormalsEpsilon:r.lighting.facenormalsepsilon,opacity:r.opacity,opacityscale:r.opacityscale,contourEnable:r.contour.show,contourColor:b(r.contour.color).slice(0,3),contourWidth:r.contour.width,useFacetNormals:r.flatshading},f=g(r);h.vertexIntensity=r._meshIntensity,h.vertexIntensityBounds=[f.min,f.max],h.colormap=x(r),this.mesh.update(h)},a.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},O.exports=function(r,o){var l=r.glplot.gl,u=v({gl:l}),h=new i(r,u,o.uid);return u._trace=h,h.update(o),r.glplot.add(u),h}},12448:function(O,S,e){var v=e(3400),x=e(58168),t=e(70548).supplyIsoDefaults,b=e(60192).opacityscaleDefaults;O.exports=function(g,c,s,n){function i(a,r){return v.coerce(g,c,x,a,r)}t(g,c,s,n,i),b(g,c,n,i)}},67776:function(O,S,e){O.exports={attributes:e(58168),supplyDefaults:e(12448),calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(91976),moduleType:"trace",name:"volume",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},65776:function(O,S,e){var v=e(20832),x=e(52904).line,t=e(45464),b=e(29736).axisHoverFormat,g=e(21776).Ks,c=e(21776).Gw,s=e(10213),n=e(92880).extendFlat,i=e(76308);function a(r){return{marker:{color:n({},v.marker.color,{arrayOk:!1,editType:"style"}),line:{color:n({},v.marker.line.color,{arrayOk:!1,editType:"style"}),width:n({},v.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}O.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:v.x,x0:v.x0,dx:v.dx,y:v.y,y0:v.y0,dy:v.dy,xperiod:v.xperiod,yperiod:v.yperiod,xperiod0:v.xperiod0,yperiod0:v.yperiod0,xperiodalignment:v.xperiodalignment,yperiodalignment:v.yperiodalignment,xhoverformat:b("x"),yhoverformat:b("y"),hovertext:v.hovertext,hovertemplate:g({},{keys:s.eventDataKeys}),hoverinfo:n({},t.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:c({editType:"plot"},{keys:s.eventDataKeys.concat(["label"])}),text:v.text,textposition:v.textposition,insidetextanchor:v.insidetextanchor,textangle:v.textangle,textfont:v.textfont,insidetextfont:v.insidetextfont,outsidetextfont:v.outsidetextfont,constraintext:v.constraintext,cliponaxis:v.cliponaxis,orientation:v.orientation,offset:v.offset,width:v.width,increasing:a(),decreasing:a(),totals:a(),connector:{line:{color:n({},x.color,{dflt:i.defaultLine}),width:n({},x.width,{editType:"plot"}),dash:x.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:v.offsetgroup,alignmentgroup:v.alignmentgroup,zorder:v.zorder}},73540:function(O,S,e){var v=e(54460),x=e(1220),t=e(3400).mergeArray,b=e(4500),g=e(39032).BADNUM;function c(n){return n==="a"||n==="absolute"}function s(n){return n==="t"||n==="total"}O.exports=function(n,i){var a,r,o,l,u,h,f=v.getFromId(n,i.xaxis||"x"),T=v.getFromId(n,i.yaxis||"y");i.orientation==="h"?(a=f.makeCalcdata(i,"x"),o=T.makeCalcdata(i,"y"),l=x(i,T,"y",o),u=!!i.yperiodalignment,h="y"):(a=T.makeCalcdata(i,"y"),o=f.makeCalcdata(i,"x"),l=x(i,f,"x",o),u=!!i.xperiodalignment,h="x"),r=l.vals;for(var d,y=Math.min(r.length,a.length),m=new Array(y),w=0,_=!1,A=0;A<y;A++){var p=a[A]||0,L=!1;(a[A]!==g||s(i.measure[A])||c(i.measure[A]))&&A+1<y&&(a[A+1]!==g||s(i.measure[A+1])||c(i.measure[A+1]))&&(L=!0);var M=m[A]={i:A,p:r[A],s:p,rawS:p,cNext:L};c(i.measure[A])?(w=M.s,M.isSum=!0,M.dir="totals",M.s=w):s(i.measure[A])?(M.isSum=!0,M.dir="totals",M.s=w):(M.isSum=!1,M.dir=M.rawS<0?"decreasing":"increasing",d=M.s,M.s=w+d,w+=d),M.dir==="totals"&&(_=!0),u&&(m[A].orig_p=o[A],m[A][h+"End"]=l.ends[A],m[A][h+"Start"]=l.starts[A]),i.ids&&(M.id=String(i.ids[A])),M.v=(i.base||0)+w}return m.length&&(m[0].hasTotals=_),t(i.text,m,"tx"),t(i.hovertext,m,"htx"),b(m,i),m}},10213:function(O){O.exports={eventDataKeys:["initial","delta","final"]}},50152:function(O,S,e){var v=e(96376).setGroupPositions;O.exports=function(x,t){var b,g,c=x._fullLayout,s=x._fullData,n=x.calcdata,i=t.xaxis,a=t.yaxis,r=[],o=[],l=[];for(g=0;g<s.length;g++){var u=s[g];u.visible===!0&&u.xaxis===i._id&&u.yaxis===a._id&&u.type==="waterfall"&&(b=n[g],u.orientation==="h"?l.push(b):o.push(b),r.push(b))}var h={mode:c.waterfallmode,norm:c.waterfallnorm,gap:c.waterfallgap,groupgap:c.waterfallgroupgap};for(v(x,i,a,o,h),v(x,a,i,l,h),g=0;g<r.length;g++){b=r[g];for(var f=0;f<b.length;f++){var T=b[f];T.isSum===!1&&(T.s0+=f===0?0:b[f-1].s),f+1<b.length&&(b[f].nextP0=b[f+1].p0,b[f].nextS0=b[f+1].s0)}}}},24224:function(O,S,e){var v=e(3400),x=e(20011),t=e(31508).handleText,b=e(43980),g=e(31147),c=e(65776),s=e(76308),n=e(48164),i=n.INCREASING.COLOR,a=n.DECREASING.COLOR;function r(o,l,u){o(l+".marker.color",u),o(l+".marker.line.color",s.defaultLine),o(l+".marker.line.width")}O.exports={supplyDefaults:function(o,l,u,h){function f(d,y){return v.coerce(o,l,c,d,y)}if(b(o,l,h,f)){g(o,l,h,f),f("xhoverformat"),f("yhoverformat"),f("measure"),f("orientation",l.x&&!l.y?"h":"v"),f("base"),f("offset"),f("width"),f("text"),f("hovertext"),f("hovertemplate");var T=f("textposition");t(o,l,h,f,T,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),l.textposition!=="none"&&(f("texttemplate"),l.texttemplate||f("textinfo")),r(f,"increasing",i),r(f,"decreasing",a),r(f,"totals","#4499FF"),f("connector.visible")&&(f("connector.mode"),f("connector.line.width")&&(f("connector.line.color"),f("connector.line.dash"))),f("zorder")}else l.visible=!1},crossTraceDefaults:function(o,l){var u,h;function f(d){return v.coerce(h._input,h,c,d)}if(l.waterfallmode==="group")for(var T=0;T<o.length;T++)u=(h=o[T])._input,x(u,h,l,f)}}},53256:function(O){O.exports=function(S,e){return S.x="xVal"in e?e.xVal:e.x,S.y="yVal"in e?e.yVal:e.y,"initial"in e&&(S.initial=e.initial),"delta"in e&&(S.delta=e.delta),"final"in e&&(S.final=e.final),e.xa&&(S.xaxis=e.xa),e.ya&&(S.yaxis=e.ya),S}},94196:function(O,S,e){var v=e(54460).hoverLabelText,x=e(76308).opacity,t=e(63400).hoverOnBars,b=e(48164),g=b.INCREASING.SYMBOL,c=b.DECREASING.SYMBOL;O.exports=function(s,n,i,a,r){var o=t(s,n,i,a,r);if(o){var l=o.cd,u=l[0].trace,h=u.orientation==="h",f=h?"x":"y",T=h?s.xa:s.ya,d=l[o.index],y=d.isSum?d.b+d.s:d.rawS;o.initial=d.b+d.s-y,o.delta=y,o.final=o.initial+o.delta;var m=M(Math.abs(o.delta));o.deltaLabel=y<0?"("+m+")":m,o.finalLabel=M(o.final),o.initialLabel=M(o.initial);var w=d.hi||u.hoverinfo,_=[];if(w&&w!=="none"&&w!=="skip"){var A=w==="all",p=w.split("+"),L=function(C){return A||p.indexOf(C)!==-1};d.isSum||(!L("final")||L(h?"x":"y")||_.push(o.finalLabel),L("delta")&&(y<0?_.push(o.deltaLabel+" "+c):_.push(o.deltaLabel+" "+g)),L("initial")&&_.push("Initial: "+o.initialLabel))}return _.length&&(o.extraText=_.join("<br>")),o.color=function(C,R){var I=C[R.dir].marker,D=I.color,F=I.line.color,q=I.line.width;return x(D)?D:x(F)&&q?F:void 0}(u,d),[o]}function M(C){return v(T,C,u[f+"hoverformat"])}}},95952:function(O,S,e){O.exports={attributes:e(65776),layoutAttributes:e(91352),supplyDefaults:e(24224).supplyDefaults,crossTraceDefaults:e(24224).crossTraceDefaults,supplyLayoutDefaults:e(59464),calc:e(73540),crossTraceCalc:e(50152),plot:e(64488),style:e(12252).style,hoverPoints:e(94196),eventData:e(53256),selectPoints:e(45784),moduleType:"trace",name:"waterfall",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},91352:function(O){O.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},59464:function(O,S,e){var v=e(3400),x=e(91352);O.exports=function(t,b,g){var c=!1;function s(a,r){return v.coerce(t,b,x,a,r)}for(var n=0;n<g.length;n++){var i=g[n];if(i.visible&&i.type==="waterfall"){c=!0;break}}c&&(s("waterfallmode"),s("waterfallgap",.2),s("waterfallgroupgap"))}},64488:function(O,S,e){var v=e(33428),x=e(3400),t=e(43616),b=e(39032).BADNUM,g=e(98184),c=e(82744).clearMinTextSize;O.exports=function(s,n,i,a){var r=s._fullLayout;c("waterfall",r),g.plot(s,n,i,a,{mode:r.waterfallmode,norm:r.waterfallmode,gap:r.waterfallgap,groupgap:r.waterfallgroupgap}),function(o,l,u,h){var f=l.xaxis,T=l.yaxis;x.makeTraceGroups(h,u,"trace bars").each(function(d){var y=v.select(this),m=d[0].trace,w=x.ensureSingle(y,"g","lines");if(m.connector&&m.connector.visible){var _=m.orientation==="h",A=m.connector.mode,p=w.selectAll("g.line").data(x.identity);p.enter().append("g").classed("line",!0),p.exit().remove();var L=p.size();p.each(function(M,C){if(C===L-1||M.cNext){var R=function(q,z,V,X){var j=[],H=[],G=X?z:V,ie=X?V:z;return j[0]=G.c2p(q.s0,!0),H[0]=ie.c2p(q.p0,!0),j[1]=G.c2p(q.s1,!0),H[1]=ie.c2p(q.p1,!0),j[2]=G.c2p(q.nextS0,!0),H[2]=ie.c2p(q.nextP0,!0),X?[j,H]:[H,j]}(M,f,T,_),I=R[0],D=R[1],F="";I[0]!==b&&D[0]!==b&&I[1]!==b&&D[1]!==b&&(A==="spanning"&&!M.isSum&&C>0&&(F+=_?"M"+I[0]+","+D[1]+"V"+D[0]:"M"+I[1]+","+D[0]+"H"+I[0]),A!=="between"&&(M.isSum||C<L-1)&&(F+=_?"M"+I[1]+","+D[0]+"V"+D[1]:"M"+I[0]+","+D[1]+"H"+I[1]),I[2]!==b&&D[2]!==b&&(F+=_?"M"+I[1]+","+D[1]+"V"+D[2]:"M"+I[1]+","+D[1]+"H"+I[2])),F===""&&(F="M0,0Z"),x.ensureSingle(v.select(this),"path").attr("d",F).call(t.setClipUrl,l.layerClipId,o)}})}else w.remove()})}(s,n,i,a)}},12252:function(O,S,e){var v=e(33428),x=e(43616),t=e(76308),b=e(13448).DESELECTDIM,g=e(60100),c=e(82744).resizeText,s=g.styleTextPoints;O.exports={style:function(n,i,a){var r=a||v.select(n).selectAll('g[class^="waterfalllayer"]').selectAll("g.trace");c(n,r,"waterfall"),r.style("opacity",function(o){return o[0].trace.opacity}),r.each(function(o){var l=v.select(this),u=o[0].trace;l.selectAll(".point > path").each(function(h){if(!h.isBlank){var f=u[h.dir].marker;v.select(this).call(t.fill,f.color).call(t.stroke,f.line.color).call(x.dashLine,f.line.dash,f.line.width).style("opacity",u.selectedpoints&&!h.selected?b:1)}}),s(l,u,n),l.selectAll(".lines").each(function(){var h=u.connector.line;x.lineGroupStyle(v.select(this).selectAll("path"),h.width,h.color,h.dash)})})}}},84224:function(O,S,e){var v=e(54460),x=e(3400),t=e(73060),b=e(60468).W,g=e(39032).BADNUM;S.moduleType="transform",S.name="aggregate";var c=S.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},s=c.aggregations;function n(o,l,u,h){if(h.enabled){for(var f=h.target,T=x.nestedProperty(l,f),d=T.get(),y=function(_,A){var p=_.func,L=A.d2c,M=A.c2d;switch(p){case"count":return i;case"first":return a;case"last":return r;case"sum":return function(C,R){for(var I=0,D=0;D<R.length;D++){var F=L(C[R[D]]);F!==g&&(I+=F)}return M(I)};case"avg":return function(C,R){for(var I=0,D=0,F=0;F<R.length;F++){var q=L(C[R[F]]);q!==g&&(I+=q,D++)}return D?M(I/D):g};case"min":return function(C,R){for(var I=1/0,D=0;D<R.length;D++){var F=L(C[R[D]]);F!==g&&(I=Math.min(I,F))}return I===1/0?g:M(I)};case"max":return function(C,R){for(var I=-1/0,D=0;D<R.length;D++){var F=L(C[R[D]]);F!==g&&(I=Math.max(I,F))}return I===-1/0?g:M(I)};case"range":return function(C,R){for(var I=1/0,D=-1/0,F=0;F<R.length;F++){var q=L(C[R[F]]);q!==g&&(I=Math.min(I,q),D=Math.max(D,q))}return D===-1/0||I===1/0?g:M(D-I)};case"change":return function(C,R){var I=L(C[R[0]]),D=L(C[R[R.length-1]]);return I===g||D===g?g:M(D-I)};case"median":return function(C,R){for(var I=[],D=0;D<R.length;D++){var F=L(C[R[D]]);F!==g&&I.push(F)}if(!I.length)return g;I.sort(x.sorterAsc);var q=(I.length-1)/2;return M((I[Math.floor(q)]+I[Math.ceil(q)])/2)};case"mode":return function(C,R){for(var I={},D=0,F=g,q=0;q<R.length;q++){var z=L(C[R[q]]);if(z!==g){var V=I[z]=(I[z]||0)+1;V>D&&(D=V,F=z)}}return D?M(F):g};case"rms":return function(C,R){for(var I=0,D=0,F=0;F<R.length;F++){var q=L(C[R[F]]);q!==g&&(I+=q*q,D++)}return D?M(Math.sqrt(I/D)):g};case"stddev":return function(C,R){var I,D=0,F=0,q=1,z=g;for(I=0;I<R.length&&z===g;I++)z=L(C[R[I]]);if(z===g)return g;for(;I<R.length;I++){var V=L(C[R[I]]);if(V!==g){var X=V-z;D+=X,F+=X*X,q++}}var j=_.funcmode==="sample"?q-1:q;return j?Math.sqrt((F-D*D/q)/j):0}}}(h,v.getDataConversions(o,l,f,d)),m=new Array(u.length),w=0;w<u.length;w++)m[w]=y(d,u[w]);T.set(m),h.func==="count"&&x.pushUnique(l._arrayAttrs,f)}}function i(o,l){return l.length}function a(o,l){return o[l[0]]}function r(o,l){return o[l[l.length-1]]}S.supplyDefaults=function(o,l){var u,h={};function f(M,C){return x.coerce(o,h,c,M,C)}if(!f("enabled"))return h;var T=t.findArrayAttributes(l),d={};for(u=0;u<T.length;u++)d[T[u]]=1;var y=f("groups");if(!Array.isArray(y)){if(!d[y])return h.enabled=!1,h;d[y]=0}var m,w=o.aggregations||[],_=h.aggregations=new Array(w.length);function A(M,C){return x.coerce(w[u],m,s,M,C)}for(u=0;u<w.length;u++){m={_index:u};var p=A("target"),L=A("func");A("enabled")&&p&&(d[p]||L==="count"&&d[p]===void 0)?(L==="stddev"&&A("funcmode"),d[p]=0,_[u]=m):_[u]={enabled:!1,_index:u}}for(u=0;u<T.length;u++)d[T[u]]&&_.push({target:T[u],func:s.func.dflt,enabled:!0,_index:-1});return h},S.calcTransform=function(o,l,u){if(u.enabled){var h=u.groups,f=x.getTargetArray(l,{target:h});if(f){var T,d,y,m,w={},_={},A=[],p=b(l.transforms,u),L=f.length;for(l._length&&(L=Math.min(L,l._length)),T=0;T<L;T++)(y=w[d=f[T]])===void 0?(w[d]=A.length,m=[T],A.push(m),_[w[d]]=p(T)):(A[y].push(T),_[w[d]]=(_[w[d]]||[]).concat(p(T)));u._indexToPoints=_;var M=u.aggregations;for(T=0;T<M.length;T++)n(o,l,A,M[T]);typeof h=="string"&&n(o,l,A,{target:h,func:"first",enabled:!0}),l._length=A.length}}}},76744:function(O,S,e){var v=e(3400),x=e(24040),t=e(54460),b=e(60468).W,g=e(69104),c=g.COMPARISON_OPS,s=g.INTERVAL_OPS,n=g.SET_OPS;S.moduleType="transform",S.name="filter",S.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(c).concat(s).concat(n),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},S.supplyDefaults=function(i){var a={};function r(u,h){return v.coerce(i,a,S.attributes,u,h)}if(r("enabled")){var o=r("target");if(v.isArrayOrTypedArray(o)&&o.length===0)return a.enabled=!1,a;r("preservegaps"),r("operation"),r("value");var l=x.getComponentMethod("calendars","handleDefaults");l(i,a,"valuecalendar",null),l(i,a,"targetcalendar",null)}return a},S.calcTransform=function(i,a,r){if(r.enabled){var o=v.getTargetArray(a,r);if(o){var l=r.target,u=o.length;a._length&&(u=Math.min(u,a._length));var h=r.targetcalendar,f=a._arrayAttrs,T=r.preservegaps;if(typeof l=="string"){var d=v.nestedProperty(a,l+"calendar").get();d&&(h=d)}var y,m,w=function(R,I,D){var F=R.operation,q=R.value,z=v.isArrayOrTypedArray(q);function V(G){return G.indexOf(F)!==-1}var X,j=function(G){return I(G,0,R.valuecalendar)},H=function(G){return I(G,0,D)};switch(V(c)?X=j(z?q[0]:q):V(s)?X=z?[j(q[0]),j(q[1])]:[j(q),j(q)]:V(n)&&(X=z?q.map(j):[j(q)]),F){case"=":return function(G){return H(G)===X};case"!=":return function(G){return H(G)!==X};case"<":return function(G){return H(G)<X};case"<=":return function(G){return H(G)<=X};case">":return function(G){return H(G)>X};case">=":return function(G){return H(G)>=X};case"[]":return function(G){var ie=H(G);return ie>=X[0]&&ie<=X[1]};case"()":return function(G){var ie=H(G);return ie>X[0]&&ie<X[1]};case"[)":return function(G){var ie=H(G);return ie>=X[0]&&ie<X[1]};case"(]":return function(G){var ie=H(G);return ie>X[0]&&ie<=X[1]};case"][":return function(G){var ie=H(G);return ie<=X[0]||ie>=X[1]};case")(":return function(G){var ie=H(G);return ie<X[0]||ie>X[1]};case"](":return function(G){var ie=H(G);return ie<=X[0]||ie>X[1]};case")[":return function(G){var ie=H(G);return ie<X[0]||ie>=X[1]};case"{}":return function(G){return X.indexOf(H(G))!==-1};case"}{":return function(G){return X.indexOf(H(G))===-1}}}(r,t.getDataToCoordFunc(i,a,l,o),h),_={},A={},p=0;T?(y=function(R){_[R.astr]=v.extendDeep([],R.get()),R.set(new Array(u))},m=function(R,I){var D=_[R.astr][I];R.get()[I]=D}):(y=function(R){_[R.astr]=v.extendDeep([],R.get()),R.set([])},m=function(R,I){var D=_[R.astr][I];R.get().push(D)}),C(y);for(var L=b(a.transforms,r),M=0;M<u;M++)w(o[M])?(C(m,M),A[p++]=L(M)):T&&p++;r._indexToPoints=A,a._length=p}}function C(R,I){for(var D=0;D<f.length;D++)R(v.nestedProperty(a,f[D]),I)}}},32028:function(O,S,e){var v=e(3400),x=e(73060),t=e(7316),b=e(60468).W;function g(c,s){var n,i,a,r,o,l,u,h,f,T,d=s.transform,y=s.transformIndex,m=c.transforms[y].groups,w=b(c.transforms,d);if(!v.isArrayOrTypedArray(m)||m.length===0)return[c];var _=v.filterUnique(m),A=new Array(_.length),p=m.length,L=x.findArrayAttributes(c),M=d.styles||[],C={};for(n=0;n<M.length;n++)C[M[n].target]=M[n].value;d.styles&&(T=v.keyedContainer(d,"styles","target","value.name"));var R={},I={};for(n=0;n<_.length;n++){R[l=_[n]]=n,I[l]=0,(u=A[n]=v.extendDeepNoArrays({},c))._group=l,u.transforms[y]._indexToPoints={};var D=null;for(T&&(D=T.get(l)),u.name=D||D===""?D:v.templateString(d.nameformat,{trace:c.name,group:l}),h=u.transforms,u.transforms=[],i=0;i<h.length;i++)u.transforms[i]=v.extendDeepNoArrays({},h[i]);for(i=0;i<L.length;i++)v.nestedProperty(u,L[i]).set([])}for(a=0;a<L.length;a++){for(r=L[a],i=0,f=[];i<_.length;i++)f[i]=v.nestedProperty(A[i],r).get();for(o=v.nestedProperty(c,r).get(),i=0;i<p;i++)f[R[m[i]]].push(o[i])}for(i=0;i<p;i++)(u=A[R[m[i]]]).transforms[y]._indexToPoints[I[m[i]]]=w(i),I[m[i]]++;for(n=0;n<_.length;n++)l=_[n],u=A[n],t.clearExpandedTraceDefaultColors(u),u=v.extendDeepNoArrays(u,C[l]||{});return A}S.moduleType="transform",S.name="groupby",S.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},S.supplyDefaults=function(c,s,n){var i,a={};function r(f,T){return v.coerce(c,a,S.attributes,f,T)}if(!r("enabled"))return a;r("groups"),r("nameformat",n._dataLength>1?"%{group} (%{trace})":"%{group}");var o=c.styles,l=a.styles=[];if(o)for(i=0;i<o.length;i++){var u=l[i]={};v.coerce(o[i],l[i],S.attributes.styles,"target");var h=v.coerce(o[i],l[i],S.attributes.styles,"value");v.isPlainObject(h)?u.value=v.extendDeep({},h):h&&delete u.value}return a},S.transform=function(c,s){var n,i,a,r=[];for(i=0;i<c.length;i++)for(n=g(c[i],s),a=0;a<n.length;a++)r.push(n[a]);return r}},60468:function(O,S){S.W=function(e,v){for(var x,t,b=0;b<e.length&&(x=e[b])!==v;b++)x._indexToPoints&&x.enabled!==!1&&(t=x._indexToPoints);var g=t?function(c){return t[c]}:function(c){return[c]};return g}},76272:function(O,S,e){var v=e(3400),x=e(54460),t=e(60468).W,b=e(39032).BADNUM;S.moduleType="transform",S.name="sort",S.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},S.supplyDefaults=function(g){var c={};function s(n,i){return v.coerce(g,c,S.attributes,n,i)}return s("enabled")&&(s("target"),s("order")),c},S.calcTransform=function(g,c,s){if(s.enabled){var n=v.getTargetArray(c,s);if(n){var i=s.target,a=n.length;c._length&&(a=Math.min(a,c._length));var r,o,l=c._arrayAttrs,u=function(m,w,_,A){var p,L=new Array(A),M=new Array(A);for(p=0;p<A;p++)L[p]={v:w[p],i:p};for(L.sort(function(C,R){switch(C.order){case"ascending":return function(I,D){var F=R(I.v),q=R(D.v);return F===b?1:q===b?-1:F-q};case"descending":return function(I,D){var F=R(I.v),q=R(D.v);return F===b?1:q===b?-1:q-F}}}(m,_)),p=0;p<A;p++)M[p]=L[p].i;return M}(s,n,x.getDataToCoordFunc(g,c,i,n),a),h=t(c.transforms,s),f={};for(r=0;r<l.length;r++){var T=v.nestedProperty(c,l[r]),d=T.get(),y=new Array(a);for(o=0;o<a;o++)y[o]=d[u[o]];T.set(y)}for(o=0;o<a;o++)f[o]=h(u[o]);s._indexToPoints=f,c._length=a}}}},25788:function(O,S){S.version="2.33.0"},67792:function(O,S,e){var v=e(4168);(function(){var x={1964:function(c,s,n){c.exports={alpha_shape:n(3502),convex_hull:n(7352),delaunay_triangulate:n(7642),gl_cone3d:n(6405),gl_error3d:n(9165),gl_heatmap2d:n(2510),gl_line3d:n(5714),gl_mesh3d:n(7201),gl_plot2d:n(1850),gl_plot3d:n(4100),gl_pointcloud2d:n(4696),gl_scatter3d:n(8418),gl_select_box:n(3161),gl_spikes2d:n(4098),gl_streamtube3d:n(7815),gl_surface3d:n(9499),ndarray:n(9618),ndarray_linear_interpolate:n(4317)}},4793:function(c,s,n){function i(xe,Me){for(var Ce=0;Ce<Me.length;Ce++){var Ne=Me[Ce];Ne.enumerable=Ne.enumerable||!1,Ne.configurable=!0,"value"in Ne&&(Ne.writable=!0),Object.defineProperty(xe,a(Ne.key),Ne)}}function a(xe){var Me=function(Ce,Ne){if(u(Ce)!="object"||!Ce)return Ce;var Re=Ce[Symbol.toPrimitive];if(Re!==void 0){var He=Re.call(Ce,"string");if(u(He)!="object")return He;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ce)}(xe);return u(Me)=="symbol"?Me:Me+""}function r(){try{var xe=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r=function(){return!!xe})()}function o(xe){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Me){return Me.__proto__||Object.getPrototypeOf(Me)},o(xe)}function l(xe,Me){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ce,Ne){return Ce.__proto__=Ne,Ce},l(xe,Me)}function u(xe){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Me){return typeof Me}:function(Me){return Me&&typeof Symbol=="function"&&Me.constructor===Symbol&&Me!==Symbol.prototype?"symbol":typeof Me},u(xe)}var h=n(7507),f=n(3778),T=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;s.hp=m,s.IS=50;var d=2147483647;function y(xe){if(xe>d)throw new RangeError('The value "'+xe+'" is invalid for option "size"');var Me=new Uint8Array(xe);return Object.setPrototypeOf(Me,m.prototype),Me}function m(xe,Me,Ce){if(typeof xe=="number"){if(typeof Me=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return A(xe)}return w(xe,Me,Ce)}function w(xe,Me,Ce){if(typeof xe=="string")return function(He,Ye){if(typeof Ye=="string"&&Ye!==""||(Ye="utf8"),!m.isEncoding(Ye))throw new TypeError("Unknown encoding: "+Ye);var Qe=0|C(He,Ye),lt=y(Qe),ut=lt.write(He,Ye);return ut!==Qe&&(lt=lt.slice(0,ut)),lt}(xe,Me);if(ArrayBuffer.isView(xe))return function(He){if(Ae(He,Uint8Array)){var Ye=new Uint8Array(He);return L(Ye.buffer,Ye.byteOffset,Ye.byteLength)}return p(He)}(xe);if(xe==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(xe));if(Ae(xe,ArrayBuffer)||xe&&Ae(xe.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ae(xe,SharedArrayBuffer)||xe&&Ae(xe.buffer,SharedArrayBuffer)))return L(xe,Me,Ce);if(typeof xe=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ne=xe.valueOf&&xe.valueOf();if(Ne!=null&&Ne!==xe)return m.from(Ne,Me,Ce);var Re=function(He){if(m.isBuffer(He)){var Ye=0|M(He.length),Qe=y(Ye);return Qe.length===0||He.copy(Qe,0,0,Ye),Qe}return He.length!==void 0?typeof He.length!="number"||Se(He.length)?y(0):p(He):He.type==="Buffer"&&Array.isArray(He.data)?p(He.data):void 0}(xe);if(Re)return Re;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof xe[Symbol.toPrimitive]=="function")return m.from(xe[Symbol.toPrimitive]("string"),Me,Ce);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(xe))}function _(xe){if(typeof xe!="number")throw new TypeError('"size" argument must be of type number');if(xe<0)throw new RangeError('The value "'+xe+'" is invalid for option "size"')}function A(xe){return _(xe),y(xe<0?0:0|M(xe))}function p(xe){for(var Me=xe.length<0?0:0|M(xe.length),Ce=y(Me),Ne=0;Ne<Me;Ne+=1)Ce[Ne]=255&xe[Ne];return Ce}function L(xe,Me,Ce){if(Me<0||xe.byteLength<Me)throw new RangeError('"offset" is outside of buffer bounds');if(xe.byteLength<Me+(Ce||0))throw new RangeError('"length" is outside of buffer bounds');var Ne;return Ne=Me===void 0&&Ce===void 0?new Uint8Array(xe):Ce===void 0?new Uint8Array(xe,Me):new Uint8Array(xe,Me,Ce),Object.setPrototypeOf(Ne,m.prototype),Ne}function M(xe){if(xe>=d)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d.toString(16)+" bytes");return 0|xe}function C(xe,Me){if(m.isBuffer(xe))return xe.length;if(ArrayBuffer.isView(xe)||Ae(xe,ArrayBuffer))return xe.byteLength;if(typeof xe!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+u(xe));var Ce=xe.length,Ne=arguments.length>2&&arguments[2]===!0;if(!Ne&&Ce===0)return 0;for(var Re=!1;;)switch(Me){case"ascii":case"latin1":case"binary":return Ce;case"utf8":case"utf-8":return le(xe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Ce;case"hex":return Ce>>>1;case"base64":return ye(xe).length;default:if(Re)return Ne?-1:le(xe).length;Me=(""+Me).toLowerCase(),Re=!0}}function R(xe,Me,Ce){var Ne=!1;if((Me===void 0||Me<0)&&(Me=0),Me>this.length||((Ce===void 0||Ce>this.length)&&(Ce=this.length),Ce<=0)||(Ce>>>=0)<=(Me>>>=0))return"";for(xe||(xe="utf8");;)switch(xe){case"hex":return K(this,Me,Ce);case"utf8":case"utf-8":return G(this,Me,Ce);case"ascii":return re(this,Me,Ce);case"latin1":case"binary":return te(this,Me,Ce);case"base64":return H(this,Me,Ce);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,Me,Ce);default:if(Ne)throw new TypeError("Unknown encoding: "+xe);xe=(xe+"").toLowerCase(),Ne=!0}}function I(xe,Me,Ce){var Ne=xe[Me];xe[Me]=xe[Ce],xe[Ce]=Ne}function D(xe,Me,Ce,Ne,Re){if(xe.length===0)return-1;if(typeof Ce=="string"?(Ne=Ce,Ce=0):Ce>2147483647?Ce=2147483647:Ce<-2147483648&&(Ce=-2147483648),Se(Ce=+Ce)&&(Ce=Re?0:xe.length-1),Ce<0&&(Ce=xe.length+Ce),Ce>=xe.length){if(Re)return-1;Ce=xe.length-1}else if(Ce<0){if(!Re)return-1;Ce=0}if(typeof Me=="string"&&(Me=m.from(Me,Ne)),m.isBuffer(Me))return Me.length===0?-1:F(xe,Me,Ce,Ne,Re);if(typeof Me=="number")return Me&=255,typeof Uint8Array.prototype.indexOf=="function"?Re?Uint8Array.prototype.indexOf.call(xe,Me,Ce):Uint8Array.prototype.lastIndexOf.call(xe,Me,Ce):F(xe,[Me],Ce,Ne,Re);throw new TypeError("val must be string, number or Buffer")}function F(xe,Me,Ce,Ne,Re){var He,Ye=1,Qe=xe.length,lt=Me.length;if(Ne!==void 0&&((Ne=String(Ne).toLowerCase())==="ucs2"||Ne==="ucs-2"||Ne==="utf16le"||Ne==="utf-16le")){if(xe.length<2||Me.length<2)return-1;Ye=2,Qe/=2,lt/=2,Ce/=2}function ut(it,nt){return Ye===1?it[nt]:it.readUInt16BE(nt*Ye)}if(Re){var xt=-1;for(He=Ce;He<Qe;He++)if(ut(xe,He)===ut(Me,xt===-1?0:He-xt)){if(xt===-1&&(xt=He),He-xt+1===lt)return xt*Ye}else xt!==-1&&(He-=He-xt),xt=-1}else for(Ce+lt>Qe&&(Ce=Qe-lt),He=Ce;He>=0;He--){for(var _t=!0,mt=0;mt<lt;mt++)if(ut(xe,He+mt)!==ut(Me,mt)){_t=!1;break}if(_t)return He}return-1}function q(xe,Me,Ce,Ne){Ce=Number(Ce)||0;var Re=xe.length-Ce;Ne?(Ne=Number(Ne))>Re&&(Ne=Re):Ne=Re;var He,Ye=Me.length;for(Ne>Ye/2&&(Ne=Ye/2),He=0;He<Ne;++He){var Qe=parseInt(Me.substr(2*He,2),16);if(Se(Qe))return He;xe[Ce+He]=Qe}return He}function z(xe,Me,Ce,Ne){return Oe(le(Me,xe.length-Ce),xe,Ce,Ne)}function V(xe,Me,Ce,Ne){return Oe(function(Re){for(var He=[],Ye=0;Ye<Re.length;++Ye)He.push(255&Re.charCodeAt(Ye));return He}(Me),xe,Ce,Ne)}function X(xe,Me,Ce,Ne){return Oe(ye(Me),xe,Ce,Ne)}function j(xe,Me,Ce,Ne){return Oe(function(Re,He){for(var Ye,Qe,lt,ut=[],xt=0;xt<Re.length&&!((He-=2)<0);++xt)Qe=(Ye=Re.charCodeAt(xt))>>8,lt=Ye%256,ut.push(lt),ut.push(Qe);return ut}(Me,xe.length-Ce),xe,Ce,Ne)}function H(xe,Me,Ce){return Me===0&&Ce===xe.length?h.fromByteArray(xe):h.fromByteArray(xe.slice(Me,Ce))}function G(xe,Me,Ce){Ce=Math.min(xe.length,Ce);for(var Ne=[],Re=Me;Re<Ce;){var He=xe[Re],Ye=null,Qe=He>239?4:He>223?3:He>191?2:1;if(Re+Qe<=Ce){var lt=void 0,ut=void 0,xt=void 0,_t=void 0;switch(Qe){case 1:He<128&&(Ye=He);break;case 2:(192&(lt=xe[Re+1]))==128&&(_t=(31&He)<<6|63&lt)>127&&(Ye=_t);break;case 3:lt=xe[Re+1],ut=xe[Re+2],(192&lt)==128&&(192&ut)==128&&(_t=(15&He)<<12|(63&lt)<<6|63&ut)>2047&&(_t<55296||_t>57343)&&(Ye=_t);break;case 4:lt=xe[Re+1],ut=xe[Re+2],xt=xe[Re+3],(192&lt)==128&&(192&ut)==128&&(192&xt)==128&&(_t=(15&He)<<18|(63&lt)<<12|(63&ut)<<6|63&xt)>65535&&_t<1114112&&(Ye=_t)}}Ye===null?(Ye=65533,Qe=1):Ye>65535&&(Ye-=65536,Ne.push(Ye>>>10&1023|55296),Ye=56320|1023&Ye),Ne.push(Ye),Re+=Qe}return function(mt){var it=mt.length;if(it<=ie)return String.fromCharCode.apply(String,mt);for(var nt="",Et=0;Et<it;)nt+=String.fromCharCode.apply(String,mt.slice(Et,Et+=ie));return nt}(Ne)}m.TYPED_ARRAY_SUPPORT=function(){try{var xe=new Uint8Array(1),Me={foo:function(){return 42}};return Object.setPrototypeOf(Me,Uint8Array.prototype),Object.setPrototypeOf(xe,Me),xe.foo()===42}catch{return!1}}(),m.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.buffer}}),Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.byteOffset}}),m.poolSize=8192,m.from=function(xe,Me,Ce){return w(xe,Me,Ce)},Object.setPrototypeOf(m.prototype,Uint8Array.prototype),Object.setPrototypeOf(m,Uint8Array),m.alloc=function(xe,Me,Ce){return function(Ne,Re,He){return _(Ne),Ne<=0?y(Ne):Re!==void 0?typeof He=="string"?y(Ne).fill(Re,He):y(Ne).fill(Re):y(Ne)}(xe,Me,Ce)},m.allocUnsafe=function(xe){return A(xe)},m.allocUnsafeSlow=function(xe){return A(xe)},m.isBuffer=function(xe){return xe!=null&&xe._isBuffer===!0&&xe!==m.prototype},m.compare=function(xe,Me){if(Ae(xe,Uint8Array)&&(xe=m.from(xe,xe.offset,xe.byteLength)),Ae(Me,Uint8Array)&&(Me=m.from(Me,Me.offset,Me.byteLength)),!m.isBuffer(xe)||!m.isBuffer(Me))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(xe===Me)return 0;for(var Ce=xe.length,Ne=Me.length,Re=0,He=Math.min(Ce,Ne);Re<He;++Re)if(xe[Re]!==Me[Re]){Ce=xe[Re],Ne=Me[Re];break}return Ce<Ne?-1:Ne<Ce?1:0},m.isEncoding=function(xe){switch(String(xe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(xe,Me){if(!Array.isArray(xe))throw new TypeError('"list" argument must be an Array of Buffers');if(xe.length===0)return m.alloc(0);var Ce;if(Me===void 0)for(Me=0,Ce=0;Ce<xe.length;++Ce)Me+=xe[Ce].length;var Ne=m.allocUnsafe(Me),Re=0;for(Ce=0;Ce<xe.length;++Ce){var He=xe[Ce];if(Ae(He,Uint8Array))Re+He.length>Ne.length?(m.isBuffer(He)||(He=m.from(He)),He.copy(Ne,Re)):Uint8Array.prototype.set.call(Ne,He,Re);else{if(!m.isBuffer(He))throw new TypeError('"list" argument must be an Array of Buffers');He.copy(Ne,Re)}Re+=He.length}return Ne},m.byteLength=C,m.prototype._isBuffer=!0,m.prototype.swap16=function(){var xe=this.length;if(xe%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Me=0;Me<xe;Me+=2)I(this,Me,Me+1);return this},m.prototype.swap32=function(){var xe=this.length;if(xe%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Me=0;Me<xe;Me+=4)I(this,Me,Me+3),I(this,Me+1,Me+2);return this},m.prototype.swap64=function(){var xe=this.length;if(xe%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Me=0;Me<xe;Me+=8)I(this,Me,Me+7),I(this,Me+1,Me+6),I(this,Me+2,Me+5),I(this,Me+3,Me+4);return this},m.prototype.toString=function(){var xe=this.length;return xe===0?"":arguments.length===0?G(this,0,xe):R.apply(this,arguments)},m.prototype.toLocaleString=m.prototype.toString,m.prototype.equals=function(xe){if(!m.isBuffer(xe))throw new TypeError("Argument must be a Buffer");return this===xe||m.compare(this,xe)===0},m.prototype.inspect=function(){var xe="",Me=s.IS;return xe=this.toString("hex",0,Me).replace(/(.{2})/g,"$1 ").trim(),this.length>Me&&(xe+=" ... "),"<Buffer "+xe+">"},T&&(m.prototype[T]=m.prototype.inspect),m.prototype.compare=function(xe,Me,Ce,Ne,Re){if(Ae(xe,Uint8Array)&&(xe=m.from(xe,xe.offset,xe.byteLength)),!m.isBuffer(xe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+u(xe));if(Me===void 0&&(Me=0),Ce===void 0&&(Ce=xe?xe.length:0),Ne===void 0&&(Ne=0),Re===void 0&&(Re=this.length),Me<0||Ce>xe.length||Ne<0||Re>this.length)throw new RangeError("out of range index");if(Ne>=Re&&Me>=Ce)return 0;if(Ne>=Re)return-1;if(Me>=Ce)return 1;if(this===xe)return 0;for(var He=(Re>>>=0)-(Ne>>>=0),Ye=(Ce>>>=0)-(Me>>>=0),Qe=Math.min(He,Ye),lt=this.slice(Ne,Re),ut=xe.slice(Me,Ce),xt=0;xt<Qe;++xt)if(lt[xt]!==ut[xt]){He=lt[xt],Ye=ut[xt];break}return He<Ye?-1:Ye<He?1:0},m.prototype.includes=function(xe,Me,Ce){return this.indexOf(xe,Me,Ce)!==-1},m.prototype.indexOf=function(xe,Me,Ce){return D(this,xe,Me,Ce,!0)},m.prototype.lastIndexOf=function(xe,Me,Ce){return D(this,xe,Me,Ce,!1)},m.prototype.write=function(xe,Me,Ce,Ne){if(Me===void 0)Ne="utf8",Ce=this.length,Me=0;else if(Ce===void 0&&typeof Me=="string")Ne=Me,Ce=this.length,Me=0;else{if(!isFinite(Me))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Me>>>=0,isFinite(Ce)?(Ce>>>=0,Ne===void 0&&(Ne="utf8")):(Ne=Ce,Ce=void 0)}var Re=this.length-Me;if((Ce===void 0||Ce>Re)&&(Ce=Re),xe.length>0&&(Ce<0||Me<0)||Me>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ne||(Ne="utf8");for(var He=!1;;)switch(Ne){case"hex":return q(this,xe,Me,Ce);case"utf8":case"utf-8":return z(this,xe,Me,Ce);case"ascii":case"latin1":case"binary":return V(this,xe,Me,Ce);case"base64":return X(this,xe,Me,Ce);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,xe,Me,Ce);default:if(He)throw new TypeError("Unknown encoding: "+Ne);Ne=(""+Ne).toLowerCase(),He=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ie=4096;function re(xe,Me,Ce){var Ne="";Ce=Math.min(xe.length,Ce);for(var Re=Me;Re<Ce;++Re)Ne+=String.fromCharCode(127&xe[Re]);return Ne}function te(xe,Me,Ce){var Ne="";Ce=Math.min(xe.length,Ce);for(var Re=Me;Re<Ce;++Re)Ne+=String.fromCharCode(xe[Re]);return Ne}function K(xe,Me,Ce){var Ne=xe.length;(!Me||Me<0)&&(Me=0),(!Ce||Ce<0||Ce>Ne)&&(Ce=Ne);for(var Re="",He=Me;He<Ce;++He)Re+=Pe[xe[He]];return Re}function J(xe,Me,Ce){for(var Ne=xe.slice(Me,Ce),Re="",He=0;He<Ne.length-1;He+=2)Re+=String.fromCharCode(Ne[He]+256*Ne[He+1]);return Re}function $(xe,Me,Ce){if(xe%1!=0||xe<0)throw new RangeError("offset is not uint");if(xe+Me>Ce)throw new RangeError("Trying to access beyond buffer length")}function ae(xe,Me,Ce,Ne,Re,He){if(!m.isBuffer(xe))throw new TypeError('"buffer" argument must be a Buffer instance');if(Me>Re||Me<He)throw new RangeError('"value" argument is out of bounds');if(Ce+Ne>xe.length)throw new RangeError("Index out of range")}function ue(xe,Me,Ce,Ne,Re){Le(Me,Ne,Re,xe,Ce,7);var He=Number(Me&BigInt(4294967295));xe[Ce++]=He,He>>=8,xe[Ce++]=He,He>>=8,xe[Ce++]=He,He>>=8,xe[Ce++]=He;var Ye=Number(Me>>BigInt(32)&BigInt(4294967295));return xe[Ce++]=Ye,Ye>>=8,xe[Ce++]=Ye,Ye>>=8,xe[Ce++]=Ye,Ye>>=8,xe[Ce++]=Ye,Ce}function ce(xe,Me,Ce,Ne,Re){Le(Me,Ne,Re,xe,Ce,7);var He=Number(Me&BigInt(4294967295));xe[Ce+7]=He,He>>=8,xe[Ce+6]=He,He>>=8,xe[Ce+5]=He,He>>=8,xe[Ce+4]=He;var Ye=Number(Me>>BigInt(32)&BigInt(4294967295));return xe[Ce+3]=Ye,Ye>>=8,xe[Ce+2]=Ye,Ye>>=8,xe[Ce+1]=Ye,Ye>>=8,xe[Ce]=Ye,Ce+8}function de(xe,Me,Ce,Ne,Re,He){if(Ce+Ne>xe.length)throw new RangeError("Index out of range");if(Ce<0)throw new RangeError("Index out of range")}function pe(xe,Me,Ce,Ne,Re){return Me=+Me,Ce>>>=0,Re||de(xe,0,Ce,4),f.write(xe,Me,Ce,Ne,23,4),Ce+4}function me(xe,Me,Ce,Ne,Re){return Me=+Me,Ce>>>=0,Re||de(xe,0,Ce,8),f.write(xe,Me,Ce,Ne,52,8),Ce+8}m.prototype.slice=function(xe,Me){var Ce=this.length;(xe=~~xe)<0?(xe+=Ce)<0&&(xe=0):xe>Ce&&(xe=Ce),(Me=Me===void 0?Ce:~~Me)<0?(Me+=Ce)<0&&(Me=0):Me>Ce&&(Me=Ce),Me<xe&&(Me=xe);var Ne=this.subarray(xe,Me);return Object.setPrototypeOf(Ne,m.prototype),Ne},m.prototype.readUintLE=m.prototype.readUIntLE=function(xe,Me,Ce){xe>>>=0,Me>>>=0,Ce||$(xe,Me,this.length);for(var Ne=this[xe],Re=1,He=0;++He<Me&&(Re*=256);)Ne+=this[xe+He]*Re;return Ne},m.prototype.readUintBE=m.prototype.readUIntBE=function(xe,Me,Ce){xe>>>=0,Me>>>=0,Ce||$(xe,Me,this.length);for(var Ne=this[xe+--Me],Re=1;Me>0&&(Re*=256);)Ne+=this[xe+--Me]*Re;return Ne},m.prototype.readUint8=m.prototype.readUInt8=function(xe,Me){return xe>>>=0,Me||$(xe,1,this.length),this[xe]},m.prototype.readUint16LE=m.prototype.readUInt16LE=function(xe,Me){return xe>>>=0,Me||$(xe,2,this.length),this[xe]|this[xe+1]<<8},m.prototype.readUint16BE=m.prototype.readUInt16BE=function(xe,Me){return xe>>>=0,Me||$(xe,2,this.length),this[xe]<<8|this[xe+1]},m.prototype.readUint32LE=m.prototype.readUInt32LE=function(xe,Me){return xe>>>=0,Me||$(xe,4,this.length),(this[xe]|this[xe+1]<<8|this[xe+2]<<16)+16777216*this[xe+3]},m.prototype.readUint32BE=m.prototype.readUInt32BE=function(xe,Me){return xe>>>=0,Me||$(xe,4,this.length),16777216*this[xe]+(this[xe+1]<<16|this[xe+2]<<8|this[xe+3])},m.prototype.readBigUInt64LE=Fe(function(xe){Ie(xe>>>=0,"offset");var Me=this[xe],Ce=this[xe+7];Me!==void 0&&Ce!==void 0||_e(xe,this.length-8);var Ne=Me+this[++xe]*Math.pow(2,8)+this[++xe]*Math.pow(2,16)+this[++xe]*Math.pow(2,24),Re=this[++xe]+this[++xe]*Math.pow(2,8)+this[++xe]*Math.pow(2,16)+Ce*Math.pow(2,24);return BigInt(Ne)+(BigInt(Re)<<BigInt(32))}),m.prototype.readBigUInt64BE=Fe(function(xe){Ie(xe>>>=0,"offset");var Me=this[xe],Ce=this[xe+7];Me!==void 0&&Ce!==void 0||_e(xe,this.length-8);var Ne=Me*Math.pow(2,24)+this[++xe]*Math.pow(2,16)+this[++xe]*Math.pow(2,8)+this[++xe],Re=this[++xe]*Math.pow(2,24)+this[++xe]*Math.pow(2,16)+this[++xe]*Math.pow(2,8)+Ce;return(BigInt(Ne)<<BigInt(32))+BigInt(Re)}),m.prototype.readIntLE=function(xe,Me,Ce){xe>>>=0,Me>>>=0,Ce||$(xe,Me,this.length);for(var Ne=this[xe],Re=1,He=0;++He<Me&&(Re*=256);)Ne+=this[xe+He]*Re;return Ne>=(Re*=128)&&(Ne-=Math.pow(2,8*Me)),Ne},m.prototype.readIntBE=function(xe,Me,Ce){xe>>>=0,Me>>>=0,Ce||$(xe,Me,this.length);for(var Ne=Me,Re=1,He=this[xe+--Ne];Ne>0&&(Re*=256);)He+=this[xe+--Ne]*Re;return He>=(Re*=128)&&(He-=Math.pow(2,8*Me)),He},m.prototype.readInt8=function(xe,Me){return xe>>>=0,Me||$(xe,1,this.length),128&this[xe]?-1*(255-this[xe]+1):this[xe]},m.prototype.readInt16LE=function(xe,Me){xe>>>=0,Me||$(xe,2,this.length);var Ce=this[xe]|this[xe+1]<<8;return 32768&Ce?4294901760|Ce:Ce},m.prototype.readInt16BE=function(xe,Me){xe>>>=0,Me||$(xe,2,this.length);var Ce=this[xe+1]|this[xe]<<8;return 32768&Ce?4294901760|Ce:Ce},m.prototype.readInt32LE=function(xe,Me){return xe>>>=0,Me||$(xe,4,this.length),this[xe]|this[xe+1]<<8|this[xe+2]<<16|this[xe+3]<<24},m.prototype.readInt32BE=function(xe,Me){return xe>>>=0,Me||$(xe,4,this.length),this[xe]<<24|this[xe+1]<<16|this[xe+2]<<8|this[xe+3]},m.prototype.readBigInt64LE=Fe(function(xe){Ie(xe>>>=0,"offset");var Me=this[xe],Ce=this[xe+7];Me!==void 0&&Ce!==void 0||_e(xe,this.length-8);var Ne=this[xe+4]+this[xe+5]*Math.pow(2,8)+this[xe+6]*Math.pow(2,16)+(Ce<<24);return(BigInt(Ne)<<BigInt(32))+BigInt(Me+this[++xe]*Math.pow(2,8)+this[++xe]*Math.pow(2,16)+this[++xe]*Math.pow(2,24))}),m.prototype.readBigInt64BE=Fe(function(xe){Ie(xe>>>=0,"offset");var Me=this[xe],Ce=this[xe+7];Me!==void 0&&Ce!==void 0||_e(xe,this.length-8);var Ne=(Me<<24)+this[++xe]*Math.pow(2,16)+this[++xe]*Math.pow(2,8)+this[++xe];return(BigInt(Ne)<<BigInt(32))+BigInt(this[++xe]*Math.pow(2,24)+this[++xe]*Math.pow(2,16)+this[++xe]*Math.pow(2,8)+Ce)}),m.prototype.readFloatLE=function(xe,Me){return xe>>>=0,Me||$(xe,4,this.length),f.read(this,xe,!0,23,4)},m.prototype.readFloatBE=function(xe,Me){return xe>>>=0,Me||$(xe,4,this.length),f.read(this,xe,!1,23,4)},m.prototype.readDoubleLE=function(xe,Me){return xe>>>=0,Me||$(xe,8,this.length),f.read(this,xe,!0,52,8)},m.prototype.readDoubleBE=function(xe,Me){return xe>>>=0,Me||$(xe,8,this.length),f.read(this,xe,!1,52,8)},m.prototype.writeUintLE=m.prototype.writeUIntLE=function(xe,Me,Ce,Ne){xe=+xe,Me>>>=0,Ce>>>=0,Ne||ae(this,xe,Me,Ce,Math.pow(2,8*Ce)-1,0);var Re=1,He=0;for(this[Me]=255&xe;++He<Ce&&(Re*=256);)this[Me+He]=xe/Re&255;return Me+Ce},m.prototype.writeUintBE=m.prototype.writeUIntBE=function(xe,Me,Ce,Ne){xe=+xe,Me>>>=0,Ce>>>=0,Ne||ae(this,xe,Me,Ce,Math.pow(2,8*Ce)-1,0);var Re=Ce-1,He=1;for(this[Me+Re]=255&xe;--Re>=0&&(He*=256);)this[Me+Re]=xe/He&255;return Me+Ce},m.prototype.writeUint8=m.prototype.writeUInt8=function(xe,Me,Ce){return xe=+xe,Me>>>=0,Ce||ae(this,xe,Me,1,255,0),this[Me]=255&xe,Me+1},m.prototype.writeUint16LE=m.prototype.writeUInt16LE=function(xe,Me,Ce){return xe=+xe,Me>>>=0,Ce||ae(this,xe,Me,2,65535,0),this[Me]=255&xe,this[Me+1]=xe>>>8,Me+2},m.prototype.writeUint16BE=m.prototype.writeUInt16BE=function(xe,Me,Ce){return xe=+xe,Me>>>=0,Ce||ae(this,xe,Me,2,65535,0),this[Me]=xe>>>8,this[Me+1]=255&xe,Me+2},m.prototype.writeUint32LE=m.prototype.writeUInt32LE=function(xe,Me,Ce){return xe=+xe,Me>>>=0,Ce||ae(this,xe,Me,4,4294967295,0),this[Me+3]=xe>>>24,this[Me+2]=xe>>>16,this[Me+1]=xe>>>8,this[Me]=255&xe,Me+4},m.prototype.writeUint32BE=m.prototype.writeUInt32BE=function(xe,Me,Ce){return xe=+xe,Me>>>=0,Ce||ae(this,xe,Me,4,4294967295,0),this[Me]=xe>>>24,this[Me+1]=xe>>>16,this[Me+2]=xe>>>8,this[Me+3]=255&xe,Me+4},m.prototype.writeBigUInt64LE=Fe(function(xe){return ue(this,xe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),m.prototype.writeBigUInt64BE=Fe(function(xe){return ce(this,xe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),m.prototype.writeIntLE=function(xe,Me,Ce,Ne){if(xe=+xe,Me>>>=0,!Ne){var Re=Math.pow(2,8*Ce-1);ae(this,xe,Me,Ce,Re-1,-Re)}var He=0,Ye=1,Qe=0;for(this[Me]=255&xe;++He<Ce&&(Ye*=256);)xe<0&&Qe===0&&this[Me+He-1]!==0&&(Qe=1),this[Me+He]=(xe/Ye>>0)-Qe&255;return Me+Ce},m.prototype.writeIntBE=function(xe,Me,Ce,Ne){if(xe=+xe,Me>>>=0,!Ne){var Re=Math.pow(2,8*Ce-1);ae(this,xe,Me,Ce,Re-1,-Re)}var He=Ce-1,Ye=1,Qe=0;for(this[Me+He]=255&xe;--He>=0&&(Ye*=256);)xe<0&&Qe===0&&this[Me+He+1]!==0&&(Qe=1),this[Me+He]=(xe/Ye>>0)-Qe&255;return Me+Ce},m.prototype.writeInt8=function(xe,Me,Ce){return xe=+xe,Me>>>=0,Ce||ae(this,xe,Me,1,127,-128),xe<0&&(xe=255+xe+1),this[Me]=255&xe,Me+1},m.prototype.writeInt16LE=function(xe,Me,Ce){return xe=+xe,Me>>>=0,Ce||ae(this,xe,Me,2,32767,-32768),this[Me]=255&xe,this[Me+1]=xe>>>8,Me+2},m.prototype.writeInt16BE=function(xe,Me,Ce){return xe=+xe,Me>>>=0,Ce||ae(this,xe,Me,2,32767,-32768),this[Me]=xe>>>8,this[Me+1]=255&xe,Me+2},m.prototype.writeInt32LE=function(xe,Me,Ce){return xe=+xe,Me>>>=0,Ce||ae(this,xe,Me,4,2147483647,-2147483648),this[Me]=255&xe,this[Me+1]=xe>>>8,this[Me+2]=xe>>>16,this[Me+3]=xe>>>24,Me+4},m.prototype.writeInt32BE=function(xe,Me,Ce){return xe=+xe,Me>>>=0,Ce||ae(this,xe,Me,4,2147483647,-2147483648),xe<0&&(xe=4294967295+xe+1),this[Me]=xe>>>24,this[Me+1]=xe>>>16,this[Me+2]=xe>>>8,this[Me+3]=255&xe,Me+4},m.prototype.writeBigInt64LE=Fe(function(xe){return ue(this,xe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),m.prototype.writeBigInt64BE=Fe(function(xe){return ce(this,xe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),m.prototype.writeFloatLE=function(xe,Me,Ce){return pe(this,xe,Me,!0,Ce)},m.prototype.writeFloatBE=function(xe,Me,Ce){return pe(this,xe,Me,!1,Ce)},m.prototype.writeDoubleLE=function(xe,Me,Ce){return me(this,xe,Me,!0,Ce)},m.prototype.writeDoubleBE=function(xe,Me,Ce){return me(this,xe,Me,!1,Ce)},m.prototype.copy=function(xe,Me,Ce,Ne){if(!m.isBuffer(xe))throw new TypeError("argument should be a Buffer");if(Ce||(Ce=0),Ne||Ne===0||(Ne=this.length),Me>=xe.length&&(Me=xe.length),Me||(Me=0),Ne>0&&Ne<Ce&&(Ne=Ce),Ne===Ce||xe.length===0||this.length===0)return 0;if(Me<0)throw new RangeError("targetStart out of bounds");if(Ce<0||Ce>=this.length)throw new RangeError("Index out of range");if(Ne<0)throw new RangeError("sourceEnd out of bounds");Ne>this.length&&(Ne=this.length),xe.length-Me<Ne-Ce&&(Ne=xe.length-Me+Ce);var Re=Ne-Ce;return this===xe&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Me,Ce,Ne):Uint8Array.prototype.set.call(xe,this.subarray(Ce,Ne),Me),Re},m.prototype.fill=function(xe,Me,Ce,Ne){if(typeof xe=="string"){if(typeof Me=="string"?(Ne=Me,Me=0,Ce=this.length):typeof Ce=="string"&&(Ne=Ce,Ce=this.length),Ne!==void 0&&typeof Ne!="string")throw new TypeError("encoding must be a string");if(typeof Ne=="string"&&!m.isEncoding(Ne))throw new TypeError("Unknown encoding: "+Ne);if(xe.length===1){var Re=xe.charCodeAt(0);(Ne==="utf8"&&Re<128||Ne==="latin1")&&(xe=Re)}}else typeof xe=="number"?xe&=255:typeof xe=="boolean"&&(xe=Number(xe));if(Me<0||this.length<Me||this.length<Ce)throw new RangeError("Out of range index");if(Ce<=Me)return this;var He;if(Me>>>=0,Ce=Ce===void 0?this.length:Ce>>>0,xe||(xe=0),typeof xe=="number")for(He=Me;He<Ce;++He)this[He]=xe;else{var Ye=m.isBuffer(xe)?xe:m.from(xe,Ne),Qe=Ye.length;if(Qe===0)throw new TypeError('The value "'+xe+'" is invalid for argument "value"');for(He=0;He<Ce-Me;++He)this[He+Me]=Ye[He%Qe]}return this};var be={};function we(xe,Me,Ce){be[xe]=function(Ne){function Re(){var Qe,lt,ut,xt;return function(_t,mt){if(!(_t instanceof mt))throw new TypeError("Cannot call a class as a function")}(this,Re),lt=this,ut=o(ut=Re),Qe=function(_t,mt){if(mt&&(u(mt)==="object"||typeof mt=="function"))return mt;if(mt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(it){if(it===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return it}(_t)}(lt,r()?Reflect.construct(ut,[],o(lt).constructor):ut.apply(lt,xt)),Object.defineProperty(Qe,"message",{value:Me.apply(Qe,arguments),writable:!0,configurable:!0}),Qe.name="".concat(Qe.name," [").concat(xe,"]"),Qe.stack,delete Qe.name,Qe}return function(Qe,lt){if(typeof lt!="function"&&lt!==null)throw new TypeError("Super expression must either be null or a function");Qe.prototype=Object.create(lt&&lt.prototype,{constructor:{value:Qe,writable:!0,configurable:!0}}),Object.defineProperty(Qe,"prototype",{writable:!1}),lt&&l(Qe,lt)}(Re,Ne),He=Re,(Ye=[{key:"code",get:function(){return xe},set:function(Qe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Qe,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(xe,"]: ").concat(this.message)}}])&&i(He.prototype,Ye),Object.defineProperty(He,"prototype",{writable:!1}),He;var He,Ye}(Ce)}function Te(xe){for(var Me="",Ce=xe.length,Ne=xe[0]==="-"?1:0;Ce>=Ne+4;Ce-=3)Me="_".concat(xe.slice(Ce-3,Ce)).concat(Me);return"".concat(xe.slice(0,Ce)).concat(Me)}function Le(xe,Me,Ce,Ne,Re,He){if(xe>Ce||xe<Me){var Ye,Qe=typeof Me=="bigint"?"n":"";throw Ye=Me===0||Me===BigInt(0)?">= 0".concat(Qe," and < 2").concat(Qe," ** ").concat(8*(He+1)).concat(Qe):">= -(2".concat(Qe," ** ").concat(8*(He+1)-1).concat(Qe,") and < 2 ** ")+"".concat(8*(He+1)-1).concat(Qe),new be.ERR_OUT_OF_RANGE("value",Ye,xe)}(function(lt,ut,xt){Ie(ut,"offset"),lt[ut]!==void 0&&lt[ut+xt]!==void 0||_e(ut,lt.length-(xt+1))})(Ne,Re,He)}function Ie(xe,Me){if(typeof xe!="number")throw new be.ERR_INVALID_ARG_TYPE(Me,"number",xe)}function _e(xe,Me,Ce){throw Math.floor(xe)!==xe?(Ie(xe,Ce),new be.ERR_OUT_OF_RANGE("offset","an integer",xe)):Me<0?new be.ERR_BUFFER_OUT_OF_BOUNDS:new be.ERR_OUT_OF_RANGE("offset",">= ".concat(0," and <= ").concat(Me),xe)}we("ERR_BUFFER_OUT_OF_BOUNDS",function(xe){return xe?"".concat(xe," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),we("ERR_INVALID_ARG_TYPE",function(xe,Me){return'The "'.concat(xe,'" argument must be of type number. Received type ').concat(u(Me))},TypeError),we("ERR_OUT_OF_RANGE",function(xe,Me,Ce){var Ne='The value of "'.concat(xe,'" is out of range.'),Re=Ce;return Number.isInteger(Ce)&&Math.abs(Ce)>Math.pow(2,32)?Re=Te(String(Ce)):typeof Ce=="bigint"&&(Re=String(Ce),(Ce>Math.pow(BigInt(2),BigInt(32))||Ce<-Math.pow(BigInt(2),BigInt(32)))&&(Re=Te(Re)),Re+="n"),Ne+" It must be ".concat(Me,". Received ").concat(Re)},RangeError);var fe=/[^+/0-9A-Za-z-_]/g;function le(xe,Me){var Ce;Me=Me||1/0;for(var Ne=xe.length,Re=null,He=[],Ye=0;Ye<Ne;++Ye){if((Ce=xe.charCodeAt(Ye))>55295&&Ce<57344){if(!Re){if(Ce>56319){(Me-=3)>-1&&He.push(239,191,189);continue}if(Ye+1===Ne){(Me-=3)>-1&&He.push(239,191,189);continue}Re=Ce;continue}if(Ce<56320){(Me-=3)>-1&&He.push(239,191,189),Re=Ce;continue}Ce=65536+(Re-55296<<10|Ce-56320)}else Re&&(Me-=3)>-1&&He.push(239,191,189);if(Re=null,Ce<128){if((Me-=1)<0)break;He.push(Ce)}else if(Ce<2048){if((Me-=2)<0)break;He.push(Ce>>6|192,63&Ce|128)}else if(Ce<65536){if((Me-=3)<0)break;He.push(Ce>>12|224,Ce>>6&63|128,63&Ce|128)}else{if(!(Ce<1114112))throw new Error("Invalid code point");if((Me-=4)<0)break;He.push(Ce>>18|240,Ce>>12&63|128,Ce>>6&63|128,63&Ce|128)}}return He}function ye(xe){return h.toByteArray(function(Me){if((Me=(Me=Me.split("=")[0]).trim().replace(fe,"")).length<2)return"";for(;Me.length%4!=0;)Me+="=";return Me}(xe))}function Oe(xe,Me,Ce,Ne){var Re;for(Re=0;Re<Ne&&!(Re+Ce>=Me.length||Re>=xe.length);++Re)Me[Re+Ce]=xe[Re];return Re}function Ae(xe,Me){return xe instanceof Me||xe!=null&&xe.constructor!=null&&xe.constructor.name!=null&&xe.constructor.name===Me.name}function Se(xe){return xe!=xe}var Pe=function(){for(var xe="0123456789abcdef",Me=new Array(256),Ce=0;Ce<16;++Ce)for(var Ne=16*Ce,Re=0;Re<16;++Re)Me[Ne+Re]=xe[Ce]+xe[Re];return Me}();function Fe(xe){return typeof BigInt>"u"?Be:xe}function Be(){throw new Error("BigInt not supported")}},9216:function(c){c.exports=a,c.exports.isMobile=a,c.exports.default=a;var s=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,n=/CrOS/,i=/android|ipad|playbook|silk/i;function a(r){r||(r={});var o=r.ua;if(o||typeof navigator>"u"||(o=navigator.userAgent),o&&o.headers&&typeof o.headers["user-agent"]=="string"&&(o=o.headers["user-agent"]),typeof o!="string")return!1;var l=s.test(o)&&!n.test(o)||!!r.tablet&&i.test(o);return!l&&r.tablet&&r.featureDetect&&navigator&&navigator.maxTouchPoints>1&&o.indexOf("Macintosh")!==-1&&o.indexOf("Safari")!==-1&&(l=!0),l}},6296:function(c,s,n){c.exports=function(u){var h=(u=u||{}).eye||[0,0,1],f=u.center||[0,0,0],T=u.up||[0,1,0],d=u.distanceLimits||[0,1/0],y=u.mode||"turntable",m=i(),w=a(),_=r();return m.setDistanceLimits(d[0],d[1]),m.lookAt(0,h,f,T),w.setDistanceLimits(d[0],d[1]),w.lookAt(0,h,f,T),_.setDistanceLimits(d[0],d[1]),_.lookAt(0,h,f,T),new o({turntable:m,orbit:w,matrix:_},y)};var i=n(7261),a=n(9977),r=n(4192);function o(u,h){this._controllerNames=Object.keys(u),this._controllerList=this._controllerNames.map(function(f){return u[f]}),this._mode=h,this._active=u[h],this._active||(this._mode="turntable",this._active=u.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var l=o.prototype;l.flush=function(u){for(var h=this._controllerList,f=0;f<h.length;++f)h[f].flush(u)},l.idle=function(u){for(var h=this._controllerList,f=0;f<h.length;++f)h[f].idle(u)},l.lookAt=function(u,h,f,T){for(var d=this._controllerList,y=0;y<d.length;++y)d[y].lookAt(u,h,f,T)},l.rotate=function(u,h,f,T){for(var d=this._controllerList,y=0;y<d.length;++y)d[y].rotate(u,h,f,T)},l.pan=function(u,h,f,T){for(var d=this._controllerList,y=0;y<d.length;++y)d[y].pan(u,h,f,T)},l.translate=function(u,h,f,T){for(var d=this._controllerList,y=0;y<d.length;++y)d[y].translate(u,h,f,T)},l.setMatrix=function(u,h){for(var f=this._controllerList,T=0;T<f.length;++T)f[T].setMatrix(u,h)},l.setDistanceLimits=function(u,h){for(var f=this._controllerList,T=0;T<f.length;++T)f[T].setDistanceLimits(u,h)},l.setDistance=function(u,h){for(var f=this._controllerList,T=0;T<f.length;++T)f[T].setDistance(u,h)},l.recalcMatrix=function(u){this._active.recalcMatrix(u)},l.getDistance=function(u){return this._active.getDistance(u)},l.getDistanceLimits=function(u){return this._active.getDistanceLimits(u)},l.lastT=function(){return this._active.lastT()},l.setMode=function(u){if(u!==this._mode){var h=this._controllerNames.indexOf(u);if(!(h<0)){var f=this._active,T=this._controllerList[h],d=Math.max(f.lastT(),T.lastT());f.recalcMatrix(d),T.setMatrix(d,f.computedMatrix),this._active=T,this._mode=u,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},l.getMode=function(){return this._mode}},7169:function(c,s,n){var i=typeof WeakMap>"u"?n(1538):WeakMap,a=n(2762),r=n(8116),o=new i;c.exports=function(l){var u=o.get(l),h=u&&(u._triangleBuffer.handle||u._triangleBuffer.buffer);if(!h||!l.isBuffer(h)){var f=a(l,new Float32Array([-1,-1,-1,4,4,-1]));(u=r(l,[{buffer:f,type:l.FLOAT,size:2}]))._triangleBuffer=f,o.set(l,u)}u.bind(),l.drawArrays(l.TRIANGLES,0,3),u.unbind()}},1085:function(c,s,n){var i=n(1371);c.exports=function(a,r,o){r=typeof r=="number"?r:1,o=o||": ";var l=a.split(/\r?\n/),u=String(l.length+r-1).length;return l.map(function(h,f){var T=f+r,d=String(T).length;return i(T,u-d)+o+h}).join(`
`)}},3952:function(c,s,n){c.exports=function(r){var o=r.length;if(o===0)return[];if(o===1)return[0];for(var l=r[0].length,u=[r[0]],h=[0],f=1;f<o;++f)if(u.push(r[f]),a(u,l)){if(h.push(f),h.length===l+1)return h}else u.pop();return h};var i=n(3250);function a(r,o){for(var l=new Array(o+1),u=0;u<r.length;++u)l[u]=r[u];for(u=0;u<=r.length;++u){for(var h=r.length;h<=o;++h){for(var f=new Array(o),T=0;T<o;++T)f[T]=Math.pow(h+1-u,T);l[h]=f}if(i.apply(void 0,l))return!0}return!1}},5995:function(c,s,n){c.exports=function(r,o){return i(o).filter(function(l){for(var u=new Array(l.length),h=0;h<l.length;++h)u[h]=o[l[h]];return a(u)*r<1})};var i=n(7642),a=n(6037)},3502:function(c,s,n){c.exports=function(r,o){return a(i(r,o))};var i=n(5995),a=n(9127)},6468:function(c){c.exports=function(s){return atob(s)}},2642:function(c,s,n){c.exports=function(r,o){for(var l=o.length,u=new Array(l+1),h=0;h<l;++h){for(var f=new Array(l+1),T=0;T<=l;++T)f[T]=r[T][h];u[h]=f}for(u[l]=new Array(l+1),h=0;h<=l;++h)u[l][h]=1;var d=new Array(l+1);for(h=0;h<l;++h)d[h]=o[h];d[l]=1;var y=i(u,d),m=a(y[l+1]);m===0&&(m=1);var w=new Array(l+1);for(h=0;h<=l;++h)w[h]=a(y[h])/m;return w};var i=n(727);function a(r){for(var o=0,l=0;l<r.length;++l)o+=r[l];return o}},7507:function(c,s){s.byteLength=function(h){var f=l(h),T=f[0],d=f[1];return 3*(T+d)/4-d},s.toByteArray=function(h){var f,T,d=l(h),y=d[0],m=d[1],w=new a(function(p,L,M){return 3*(L+M)/4-M}(0,y,m)),_=0,A=m>0?y-4:y;for(T=0;T<A;T+=4)f=i[h.charCodeAt(T)]<<18|i[h.charCodeAt(T+1)]<<12|i[h.charCodeAt(T+2)]<<6|i[h.charCodeAt(T+3)],w[_++]=f>>16&255,w[_++]=f>>8&255,w[_++]=255&f;return m===2&&(f=i[h.charCodeAt(T)]<<2|i[h.charCodeAt(T+1)]>>4,w[_++]=255&f),m===1&&(f=i[h.charCodeAt(T)]<<10|i[h.charCodeAt(T+1)]<<4|i[h.charCodeAt(T+2)]>>2,w[_++]=f>>8&255,w[_++]=255&f),w},s.fromByteArray=function(h){for(var f,T=h.length,d=T%3,y=[],m=16383,w=0,_=T-d;w<_;w+=m)y.push(u(h,w,w+m>_?_:w+m));return d===1?(f=h[T-1],y.push(n[f>>2]+n[f<<4&63]+"==")):d===2&&(f=(h[T-2]<<8)+h[T-1],y.push(n[f>>10]+n[f>>4&63]+n[f<<2&63]+"=")),y.join("")};for(var n=[],i=[],a=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)n[o]=r[o],i[r.charCodeAt(o)]=o;function l(h){var f=h.length;if(f%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var T=h.indexOf("=");return T===-1&&(T=f),[T,T===f?0:4-T%4]}function u(h,f,T){for(var d,y,m=[],w=f;w<T;w+=3)d=(h[w]<<16&16711680)+(h[w+1]<<8&65280)+(255&h[w+2]),m.push(n[(y=d)>>18&63]+n[y>>12&63]+n[y>>6&63]+n[63&y]);return m.join("")}i[45]=62,i[95]=63},3865:function(c,s,n){var i=n(869);c.exports=function(a,r){return i(a[0].mul(r[1]).add(r[0].mul(a[1])),a[1].mul(r[1]))}},1318:function(c){c.exports=function(s,n){return s[0].mul(n[1]).cmp(n[0].mul(s[1]))}},8697:function(c,s,n){var i=n(869);c.exports=function(a,r){return i(a[0].mul(r[1]),a[1].mul(r[0]))}},7842:function(c,s,n){var i=n(6330),a=n(1533),r=n(2651),o=n(4387),l=n(869),u=n(8697);c.exports=function h(f,T){if(i(f))return T?u(f,h(T)):[f[0].clone(),f[1].clone()];var d,y,m=0;if(a(f))d=f.clone();else if(typeof f=="string")d=o(f);else{if(f===0)return[r(0),r(1)];if(f===Math.floor(f))d=r(f);else{for(;f!==Math.floor(f);)f*=Math.pow(2,256),m-=256;d=r(f)}}if(i(T))d.mul(T[1]),y=T[0].clone();else if(a(T))y=T.clone();else if(typeof T=="string")y=o(T);else if(T)if(T===Math.floor(T))y=r(T);else{for(;T!==Math.floor(T);)T*=Math.pow(2,256),m+=256;y=r(T)}else y=r(1);return m>0?d=d.ushln(m):m<0&&(y=y.ushln(-m)),l(d,y)}},6330:function(c,s,n){var i=n(1533);c.exports=function(a){return Array.isArray(a)&&a.length===2&&i(a[0])&&i(a[1])}},5716:function(c,s,n){var i=n(6859);c.exports=function(a){return a.cmp(new i(0))}},1369:function(c,s,n){var i=n(5716);c.exports=function(a){var r=a.length,o=a.words,l=0;if(r===1)l=o[0];else if(r===2)l=o[0]+67108864*o[1];else for(var u=0;u<r;u++)l+=o[u]*Math.pow(67108864,u);return i(a)*l}},4025:function(c,s,n){var i=n(2361),a=n(8828).countTrailingZeros;c.exports=function(r){var o=a(i.lo(r));if(o<32)return o;var l=a(i.hi(r));return l>20?52:l+32}},1533:function(c,s,n){n(6859),c.exports=function(i){return i&&typeof i=="object"&&!!i.words}},2651:function(c,s,n){var i=n(6859),a=n(2361);c.exports=function(r){var o=a.exponent(r);return o<52?new i(r):new i(r*Math.pow(2,52-o)).ushln(o-52)}},869:function(c,s,n){var i=n(2651),a=n(5716);c.exports=function(r,o){var l=a(r),u=a(o);if(l===0)return[i(0),i(1)];if(u===0)return[i(0),i(0)];u<0&&(r=r.neg(),o=o.neg());var h=r.gcd(o);return h.cmpn(1)?[r.div(h),o.div(h)]:[r,o]}},4387:function(c,s,n){var i=n(6859);c.exports=function(a){return new i(a)}},6504:function(c,s,n){var i=n(869);c.exports=function(a,r){return i(a[0].mul(r[0]),a[1].mul(r[1]))}},7721:function(c,s,n){var i=n(5716);c.exports=function(a){return i(a[0])*i(a[1])}},5572:function(c,s,n){var i=n(869);c.exports=function(a,r){return i(a[0].mul(r[1]).sub(a[1].mul(r[0])),a[1].mul(r[1]))}},946:function(c,s,n){var i=n(1369),a=n(4025);c.exports=function(r){var o=r[0],l=r[1];if(o.cmpn(0)===0)return 0;var u=o.abs().divmod(l.abs()),h=u.div,f=i(h),T=u.mod,d=o.negative!==l.negative?-1:1;if(T.cmpn(0)===0)return d*f;if(f){var y=a(f)+4;return d*(f+(w=i(T.ushln(y).divRound(l)))*Math.pow(2,-y))}var m=l.bitLength()-T.bitLength()+53,w=i(T.ushln(m).divRound(l));return m<1023?d*w*Math.pow(2,-m):d*(w*=Math.pow(2,-1023))*Math.pow(2,1023-m)}},2478:function(c){function s(l,u,h,f,T){for(var d=T+1;f<=T;){var y=f+T>>>1,m=l[y];(h!==void 0?h(m,u):m-u)>=0?(d=y,T=y-1):f=y+1}return d}function n(l,u,h,f,T){for(var d=T+1;f<=T;){var y=f+T>>>1,m=l[y];(h!==void 0?h(m,u):m-u)>0?(d=y,T=y-1):f=y+1}return d}function i(l,u,h,f,T){for(var d=f-1;f<=T;){var y=f+T>>>1,m=l[y];(h!==void 0?h(m,u):m-u)<0?(d=y,f=y+1):T=y-1}return d}function a(l,u,h,f,T){for(var d=f-1;f<=T;){var y=f+T>>>1,m=l[y];(h!==void 0?h(m,u):m-u)<=0?(d=y,f=y+1):T=y-1}return d}function r(l,u,h,f,T){for(;f<=T;){var d=f+T>>>1,y=l[d],m=h!==void 0?h(y,u):y-u;if(m===0)return d;m<=0?f=d+1:T=d-1}return-1}function o(l,u,h,f,T,d){return typeof h=="function"?d(l,u,h,f===void 0?0:0|f,T===void 0?l.length-1:0|T):d(l,u,void 0,h===void 0?0:0|h,f===void 0?l.length-1:0|f)}c.exports={ge:function(l,u,h,f,T){return o(l,u,h,f,T,s)},gt:function(l,u,h,f,T){return o(l,u,h,f,T,n)},lt:function(l,u,h,f,T){return o(l,u,h,f,T,i)},le:function(l,u,h,f,T){return o(l,u,h,f,T,a)},eq:function(l,u,h,f,T){return o(l,u,h,f,T,r)}}},8828:function(c,s){function n(a){var r=32;return(a&=-a)&&r--,65535&a&&(r-=16),16711935&a&&(r-=8),252645135&a&&(r-=4),858993459&a&&(r-=2),1431655765&a&&(r-=1),r}s.INT_BITS=32,s.INT_MAX=2147483647,s.INT_MIN=-2147483648,s.sign=function(a){return(a>0)-(a<0)},s.abs=function(a){var r=a>>31;return(a^r)-r},s.min=function(a,r){return r^(a^r)&-(a<r)},s.max=function(a,r){return a^(a^r)&-(a<r)},s.isPow2=function(a){return!(a&a-1||!a)},s.log2=function(a){var r,o;return r=(a>65535)<<4,r|=o=((a>>>=r)>255)<<3,r|=o=((a>>>=o)>15)<<2,(r|=o=((a>>>=o)>3)<<1)|(a>>>=o)>>1},s.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},s.popCount=function(a){return 16843009*((a=(858993459&(a-=a>>>1&1431655765))+(a>>>2&858993459))+(a>>>4)&252645135)>>>24},s.countTrailingZeros=n,s.nextPow2=function(a){return a+=a===0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,1+(a|=a>>>16)},s.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,(a|=a>>>16)-(a>>>1)},s.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,27030>>>(a&=15)&1};var i=new Array(256);(function(a){for(var r=0;r<256;++r){var o=r,l=r,u=7;for(o>>>=1;o;o>>>=1)l<<=1,l|=1&o,--u;a[r]=l<<u&255}})(i),s.reverse=function(a){return i[255&a]<<24|i[a>>>8&255]<<16|i[a>>>16&255]<<8|i[a>>>24&255]},s.interleave2=function(a,r){return(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a&=65535)|a<<8))|a<<4))|a<<2))|a<<1))|(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r&=65535)|r<<8))|r<<4))|r<<2))|r<<1))<<1},s.deinterleave2=function(a,r){return(a=65535&((a=16711935&((a=252645135&((a=858993459&((a=a>>>r&1431655765)|a>>>1))|a>>>2))|a>>>4))|a>>>16))<<16>>16},s.interleave3=function(a,r,o){return a=1227133513&((a=3272356035&((a=251719695&((a=4278190335&((a&=1023)|a<<16))|a<<8))|a<<4))|a<<2),(a|=(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<1)|(o=1227133513&((o=3272356035&((o=251719695&((o=4278190335&((o&=1023)|o<<16))|o<<8))|o<<4))|o<<2))<<2},s.deinterleave3=function(a,r){return(a=1023&((a=4278190335&((a=251719695&((a=3272356035&((a=a>>>r&1227133513)|a>>>2))|a>>>4))|a>>>8))|a>>>16))<<22>>22},s.nextCombination=function(a){var r=a|a-1;return r+1|(~r&-~r)-1>>>n(a)+1}},6859:function(c,s,n){(function(i,a){function r(z,V){if(!z)throw new Error(V||"Assertion failed")}function o(z,V){z.super_=V;var X=function(){};X.prototype=V.prototype,z.prototype=new X,z.prototype.constructor=z}function l(z,V,X){if(l.isBN(z))return z;this.negative=0,this.words=null,this.length=0,this.red=null,z!==null&&(V!=="le"&&V!=="be"||(X=V,V=10),this._init(z||0,V||10,X||"be"))}var u;typeof i=="object"?i.exports=l:a.BN=l,l.BN=l,l.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:n(7790).Buffer}catch{}function h(z,V){var X=z.charCodeAt(V);return X>=65&&X<=70?X-55:X>=97&&X<=102?X-87:X-48&15}function f(z,V,X){var j=h(z,X);return X-1>=V&&(j|=h(z,X-1)<<4),j}function T(z,V,X,j){for(var H=0,G=Math.min(z.length,X),ie=V;ie<G;ie++){var re=z.charCodeAt(ie)-48;H*=j,H+=re>=49?re-49+10:re>=17?re-17+10:re}return H}l.isBN=function(z){return z instanceof l||z!==null&&typeof z=="object"&&z.constructor.wordSize===l.wordSize&&Array.isArray(z.words)},l.max=function(z,V){return z.cmp(V)>0?z:V},l.min=function(z,V){return z.cmp(V)<0?z:V},l.prototype._init=function(z,V,X){if(typeof z=="number")return this._initNumber(z,V,X);if(typeof z=="object")return this._initArray(z,V,X);V==="hex"&&(V=16),r(V===(0|V)&&V>=2&&V<=36);var j=0;(z=z.toString().replace(/\s+/g,""))[0]==="-"&&(j++,this.negative=1),j<z.length&&(V===16?this._parseHex(z,j,X):(this._parseBase(z,V,j),X==="le"&&this._initArray(this.toArray(),V,X)))},l.prototype._initNumber=function(z,V,X){z<0&&(this.negative=1,z=-z),z<67108864?(this.words=[67108863&z],this.length=1):z<4503599627370496?(this.words=[67108863&z,z/67108864&67108863],this.length=2):(r(z<9007199254740992),this.words=[67108863&z,z/67108864&67108863,1],this.length=3),X==="le"&&this._initArray(this.toArray(),V,X)},l.prototype._initArray=function(z,V,X){if(r(typeof z.length=="number"),z.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(z.length/3),this.words=new Array(this.length);for(var j=0;j<this.length;j++)this.words[j]=0;var H,G,ie=0;if(X==="be")for(j=z.length-1,H=0;j>=0;j-=3)G=z[j]|z[j-1]<<8|z[j-2]<<16,this.words[H]|=G<<ie&67108863,this.words[H+1]=G>>>26-ie&67108863,(ie+=24)>=26&&(ie-=26,H++);else if(X==="le")for(j=0,H=0;j<z.length;j+=3)G=z[j]|z[j+1]<<8|z[j+2]<<16,this.words[H]|=G<<ie&67108863,this.words[H+1]=G>>>26-ie&67108863,(ie+=24)>=26&&(ie-=26,H++);return this.strip()},l.prototype._parseHex=function(z,V,X){this.length=Math.ceil((z.length-V)/6),this.words=new Array(this.length);for(var j=0;j<this.length;j++)this.words[j]=0;var H,G=0,ie=0;if(X==="be")for(j=z.length-1;j>=V;j-=2)H=f(z,V,j)<<G,this.words[ie]|=67108863&H,G>=18?(G-=18,ie+=1,this.words[ie]|=H>>>26):G+=8;else for(j=(z.length-V)%2==0?V+1:V;j<z.length;j+=2)H=f(z,V,j)<<G,this.words[ie]|=67108863&H,G>=18?(G-=18,ie+=1,this.words[ie]|=H>>>26):G+=8;this.strip()},l.prototype._parseBase=function(z,V,X){this.words=[0],this.length=1;for(var j=0,H=1;H<=67108863;H*=V)j++;j--,H=H/V|0;for(var G=z.length-X,ie=G%j,re=Math.min(G,G-ie)+X,te=0,K=X;K<re;K+=j)te=T(z,K,K+j,V),this.imuln(H),this.words[0]+te<67108864?this.words[0]+=te:this._iaddn(te);if(ie!==0){var J=1;for(te=T(z,K,z.length,V),K=0;K<ie;K++)J*=V;this.imuln(J),this.words[0]+te<67108864?this.words[0]+=te:this._iaddn(te)}this.strip()},l.prototype.copy=function(z){z.words=new Array(this.length);for(var V=0;V<this.length;V++)z.words[V]=this.words[V];z.length=this.length,z.negative=this.negative,z.red=this.red},l.prototype.clone=function(){var z=new l(null);return this.copy(z),z},l.prototype._expand=function(z){for(;this.length<z;)this.words[this.length++]=0;return this},l.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},l.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function w(z,V,X){X.negative=V.negative^z.negative;var j=z.length+V.length|0;X.length=j,j=j-1|0;var H=0|z.words[0],G=0|V.words[0],ie=H*G,re=67108863&ie,te=ie/67108864|0;X.words[0]=re;for(var K=1;K<j;K++){for(var J=te>>>26,$=67108863&te,ae=Math.min(K,V.length-1),ue=Math.max(0,K-z.length+1);ue<=ae;ue++){var ce=K-ue|0;J+=(ie=(H=0|z.words[ce])*(G=0|V.words[ue])+$)/67108864|0,$=67108863&ie}X.words[K]=0|$,te=0|J}return te!==0?X.words[K]=0|te:X.length--,X.strip()}l.prototype.toString=function(z,V){var X;if(V=0|V||1,(z=z||10)===16||z==="hex"){X="";for(var j=0,H=0,G=0;G<this.length;G++){var ie=this.words[G],re=(16777215&(ie<<j|H)).toString(16);X=(H=ie>>>24-j&16777215)!=0||G!==this.length-1?d[6-re.length]+re+X:re+X,(j+=2)>=26&&(j-=26,G--)}for(H!==0&&(X=H.toString(16)+X);X.length%V!=0;)X="0"+X;return this.negative!==0&&(X="-"+X),X}if(z===(0|z)&&z>=2&&z<=36){var te=y[z],K=m[z];X="";var J=this.clone();for(J.negative=0;!J.isZero();){var $=J.modn(K).toString(z);X=(J=J.idivn(K)).isZero()?$+X:d[te-$.length]+$+X}for(this.isZero()&&(X="0"+X);X.length%V!=0;)X="0"+X;return this.negative!==0&&(X="-"+X),X}r(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var z=this.words[0];return this.length===2?z+=67108864*this.words[1]:this.length===3&&this.words[2]===1?z+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-z:z},l.prototype.toJSON=function(){return this.toString(16)},l.prototype.toBuffer=function(z,V){return r(u!==void 0),this.toArrayLike(u,z,V)},l.prototype.toArray=function(z,V){return this.toArrayLike(Array,z,V)},l.prototype.toArrayLike=function(z,V,X){var j=this.byteLength(),H=X||Math.max(1,j);r(j<=H,"byte array longer than desired length"),r(H>0,"Requested array length <= 0"),this.strip();var G,ie,re=V==="le",te=new z(H),K=this.clone();if(re){for(ie=0;!K.isZero();ie++)G=K.andln(255),K.iushrn(8),te[ie]=G;for(;ie<H;ie++)te[ie]=0}else{for(ie=0;ie<H-j;ie++)te[ie]=0;for(ie=0;!K.isZero();ie++)G=K.andln(255),K.iushrn(8),te[H-ie-1]=G}return te},Math.clz32?l.prototype._countBits=function(z){return 32-Math.clz32(z)}:l.prototype._countBits=function(z){var V=z,X=0;return V>=4096&&(X+=13,V>>>=13),V>=64&&(X+=7,V>>>=7),V>=8&&(X+=4,V>>>=4),V>=2&&(X+=2,V>>>=2),X+V},l.prototype._zeroBits=function(z){if(z===0)return 26;var V=z,X=0;return!(8191&V)&&(X+=13,V>>>=13),!(127&V)&&(X+=7,V>>>=7),!(15&V)&&(X+=4,V>>>=4),!(3&V)&&(X+=2,V>>>=2),!(1&V)&&X++,X},l.prototype.bitLength=function(){var z=this.words[this.length-1],V=this._countBits(z);return 26*(this.length-1)+V},l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var z=0,V=0;V<this.length;V++){var X=this._zeroBits(this.words[V]);if(z+=X,X!==26)break}return z},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(z){return this.negative!==0?this.abs().inotn(z).iaddn(1):this.clone()},l.prototype.fromTwos=function(z){return this.testn(z-1)?this.notn(z).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(z){for(;this.length<z.length;)this.words[this.length++]=0;for(var V=0;V<z.length;V++)this.words[V]=this.words[V]|z.words[V];return this.strip()},l.prototype.ior=function(z){return r((this.negative|z.negative)==0),this.iuor(z)},l.prototype.or=function(z){return this.length>z.length?this.clone().ior(z):z.clone().ior(this)},l.prototype.uor=function(z){return this.length>z.length?this.clone().iuor(z):z.clone().iuor(this)},l.prototype.iuand=function(z){var V;V=this.length>z.length?z:this;for(var X=0;X<V.length;X++)this.words[X]=this.words[X]&z.words[X];return this.length=V.length,this.strip()},l.prototype.iand=function(z){return r((this.negative|z.negative)==0),this.iuand(z)},l.prototype.and=function(z){return this.length>z.length?this.clone().iand(z):z.clone().iand(this)},l.prototype.uand=function(z){return this.length>z.length?this.clone().iuand(z):z.clone().iuand(this)},l.prototype.iuxor=function(z){var V,X;this.length>z.length?(V=this,X=z):(V=z,X=this);for(var j=0;j<X.length;j++)this.words[j]=V.words[j]^X.words[j];if(this!==V)for(;j<V.length;j++)this.words[j]=V.words[j];return this.length=V.length,this.strip()},l.prototype.ixor=function(z){return r((this.negative|z.negative)==0),this.iuxor(z)},l.prototype.xor=function(z){return this.length>z.length?this.clone().ixor(z):z.clone().ixor(this)},l.prototype.uxor=function(z){return this.length>z.length?this.clone().iuxor(z):z.clone().iuxor(this)},l.prototype.inotn=function(z){r(typeof z=="number"&&z>=0);var V=0|Math.ceil(z/26),X=z%26;this._expand(V),X>0&&V--;for(var j=0;j<V;j++)this.words[j]=67108863&~this.words[j];return X>0&&(this.words[j]=~this.words[j]&67108863>>26-X),this.strip()},l.prototype.notn=function(z){return this.clone().inotn(z)},l.prototype.setn=function(z,V){r(typeof z=="number"&&z>=0);var X=z/26|0,j=z%26;return this._expand(X+1),this.words[X]=V?this.words[X]|1<<j:this.words[X]&~(1<<j),this.strip()},l.prototype.iadd=function(z){var V,X,j;if(this.negative!==0&&z.negative===0)return this.negative=0,V=this.isub(z),this.negative^=1,this._normSign();if(this.negative===0&&z.negative!==0)return z.negative=0,V=this.isub(z),z.negative=1,V._normSign();this.length>z.length?(X=this,j=z):(X=z,j=this);for(var H=0,G=0;G<j.length;G++)V=(0|X.words[G])+(0|j.words[G])+H,this.words[G]=67108863&V,H=V>>>26;for(;H!==0&&G<X.length;G++)V=(0|X.words[G])+H,this.words[G]=67108863&V,H=V>>>26;if(this.length=X.length,H!==0)this.words[this.length]=H,this.length++;else if(X!==this)for(;G<X.length;G++)this.words[G]=X.words[G];return this},l.prototype.add=function(z){var V;return z.negative!==0&&this.negative===0?(z.negative=0,V=this.sub(z),z.negative^=1,V):z.negative===0&&this.negative!==0?(this.negative=0,V=z.sub(this),this.negative=1,V):this.length>z.length?this.clone().iadd(z):z.clone().iadd(this)},l.prototype.isub=function(z){if(z.negative!==0){z.negative=0;var V=this.iadd(z);return z.negative=1,V._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(z),this.negative=1,this._normSign();var X,j,H=this.cmp(z);if(H===0)return this.negative=0,this.length=1,this.words[0]=0,this;H>0?(X=this,j=z):(X=z,j=this);for(var G=0,ie=0;ie<j.length;ie++)G=(V=(0|X.words[ie])-(0|j.words[ie])+G)>>26,this.words[ie]=67108863&V;for(;G!==0&&ie<X.length;ie++)G=(V=(0|X.words[ie])+G)>>26,this.words[ie]=67108863&V;if(G===0&&ie<X.length&&X!==this)for(;ie<X.length;ie++)this.words[ie]=X.words[ie];return this.length=Math.max(this.length,ie),X!==this&&(this.negative=1),this.strip()},l.prototype.sub=function(z){return this.clone().isub(z)};var _=function(z,V,X){var j,H,G,ie=z.words,re=V.words,te=X.words,K=0,J=0|ie[0],$=8191&J,ae=J>>>13,ue=0|ie[1],ce=8191&ue,de=ue>>>13,pe=0|ie[2],me=8191&pe,be=pe>>>13,we=0|ie[3],Te=8191&we,Le=we>>>13,Ie=0|ie[4],_e=8191&Ie,fe=Ie>>>13,le=0|ie[5],ye=8191&le,Oe=le>>>13,Ae=0|ie[6],Se=8191&Ae,Pe=Ae>>>13,Fe=0|ie[7],Be=8191&Fe,xe=Fe>>>13,Me=0|ie[8],Ce=8191&Me,Ne=Me>>>13,Re=0|ie[9],He=8191&Re,Ye=Re>>>13,Qe=0|re[0],lt=8191&Qe,ut=Qe>>>13,xt=0|re[1],_t=8191&xt,mt=xt>>>13,it=0|re[2],nt=8191&it,Et=it>>>13,zt=0|re[3],Ft=8191&zt,Pt=zt>>>13,Ze=0|re[4],Je=8191&Ze,qe=Ze>>>13,Ke=0|re[5],ft=8191&Ke,ot=Ke>>>13,Ue=0|re[6],Ve=8191&Ue,st=Ue>>>13,Xe=0|re[7],gt=8191&Xe,yt=Xe>>>13,bt=0|re[8],dt=8191&bt,Lt=bt>>>13,wt=0|re[9],Ct=8191&wt,Rt=wt>>>13;X.negative=z.negative^V.negative,X.length=19;var Dt=(K+(j=Math.imul($,lt))|0)+((8191&(H=(H=Math.imul($,ut))+Math.imul(ae,lt)|0))<<13)|0;K=((G=Math.imul(ae,ut))+(H>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,j=Math.imul(ce,lt),H=(H=Math.imul(ce,ut))+Math.imul(de,lt)|0,G=Math.imul(de,ut);var Nt=(K+(j=j+Math.imul($,_t)|0)|0)+((8191&(H=(H=H+Math.imul($,mt)|0)+Math.imul(ae,_t)|0))<<13)|0;K=((G=G+Math.imul(ae,mt)|0)+(H>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,j=Math.imul(me,lt),H=(H=Math.imul(me,ut))+Math.imul(be,lt)|0,G=Math.imul(be,ut),j=j+Math.imul(ce,_t)|0,H=(H=H+Math.imul(ce,mt)|0)+Math.imul(de,_t)|0,G=G+Math.imul(de,mt)|0;var Xt=(K+(j=j+Math.imul($,nt)|0)|0)+((8191&(H=(H=H+Math.imul($,Et)|0)+Math.imul(ae,nt)|0))<<13)|0;K=((G=G+Math.imul(ae,Et)|0)+(H>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,j=Math.imul(Te,lt),H=(H=Math.imul(Te,ut))+Math.imul(Le,lt)|0,G=Math.imul(Le,ut),j=j+Math.imul(me,_t)|0,H=(H=H+Math.imul(me,mt)|0)+Math.imul(be,_t)|0,G=G+Math.imul(be,mt)|0,j=j+Math.imul(ce,nt)|0,H=(H=H+Math.imul(ce,Et)|0)+Math.imul(de,nt)|0,G=G+Math.imul(de,Et)|0;var un=(K+(j=j+Math.imul($,Ft)|0)|0)+((8191&(H=(H=H+Math.imul($,Pt)|0)+Math.imul(ae,Ft)|0))<<13)|0;K=((G=G+Math.imul(ae,Pt)|0)+(H>>>13)|0)+(un>>>26)|0,un&=67108863,j=Math.imul(_e,lt),H=(H=Math.imul(_e,ut))+Math.imul(fe,lt)|0,G=Math.imul(fe,ut),j=j+Math.imul(Te,_t)|0,H=(H=H+Math.imul(Te,mt)|0)+Math.imul(Le,_t)|0,G=G+Math.imul(Le,mt)|0,j=j+Math.imul(me,nt)|0,H=(H=H+Math.imul(me,Et)|0)+Math.imul(be,nt)|0,G=G+Math.imul(be,Et)|0,j=j+Math.imul(ce,Ft)|0,H=(H=H+Math.imul(ce,Pt)|0)+Math.imul(de,Ft)|0,G=G+Math.imul(de,Pt)|0;var qt=(K+(j=j+Math.imul($,Je)|0)|0)+((8191&(H=(H=H+Math.imul($,qe)|0)+Math.imul(ae,Je)|0))<<13)|0;K=((G=G+Math.imul(ae,qe)|0)+(H>>>13)|0)+(qt>>>26)|0,qt&=67108863,j=Math.imul(ye,lt),H=(H=Math.imul(ye,ut))+Math.imul(Oe,lt)|0,G=Math.imul(Oe,ut),j=j+Math.imul(_e,_t)|0,H=(H=H+Math.imul(_e,mt)|0)+Math.imul(fe,_t)|0,G=G+Math.imul(fe,mt)|0,j=j+Math.imul(Te,nt)|0,H=(H=H+Math.imul(Te,Et)|0)+Math.imul(Le,nt)|0,G=G+Math.imul(Le,Et)|0,j=j+Math.imul(me,Ft)|0,H=(H=H+Math.imul(me,Pt)|0)+Math.imul(be,Ft)|0,G=G+Math.imul(be,Pt)|0,j=j+Math.imul(ce,Je)|0,H=(H=H+Math.imul(ce,qe)|0)+Math.imul(de,Je)|0,G=G+Math.imul(de,qe)|0;var Kt=(K+(j=j+Math.imul($,ft)|0)|0)+((8191&(H=(H=H+Math.imul($,ot)|0)+Math.imul(ae,ft)|0))<<13)|0;K=((G=G+Math.imul(ae,ot)|0)+(H>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,j=Math.imul(Se,lt),H=(H=Math.imul(Se,ut))+Math.imul(Pe,lt)|0,G=Math.imul(Pe,ut),j=j+Math.imul(ye,_t)|0,H=(H=H+Math.imul(ye,mt)|0)+Math.imul(Oe,_t)|0,G=G+Math.imul(Oe,mt)|0,j=j+Math.imul(_e,nt)|0,H=(H=H+Math.imul(_e,Et)|0)+Math.imul(fe,nt)|0,G=G+Math.imul(fe,Et)|0,j=j+Math.imul(Te,Ft)|0,H=(H=H+Math.imul(Te,Pt)|0)+Math.imul(Le,Ft)|0,G=G+Math.imul(Le,Pt)|0,j=j+Math.imul(me,Je)|0,H=(H=H+Math.imul(me,qe)|0)+Math.imul(be,Je)|0,G=G+Math.imul(be,qe)|0,j=j+Math.imul(ce,ft)|0,H=(H=H+Math.imul(ce,ot)|0)+Math.imul(de,ft)|0,G=G+Math.imul(de,ot)|0;var Ut=(K+(j=j+Math.imul($,Ve)|0)|0)+((8191&(H=(H=H+Math.imul($,st)|0)+Math.imul(ae,Ve)|0))<<13)|0;K=((G=G+Math.imul(ae,st)|0)+(H>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,j=Math.imul(Be,lt),H=(H=Math.imul(Be,ut))+Math.imul(xe,lt)|0,G=Math.imul(xe,ut),j=j+Math.imul(Se,_t)|0,H=(H=H+Math.imul(Se,mt)|0)+Math.imul(Pe,_t)|0,G=G+Math.imul(Pe,mt)|0,j=j+Math.imul(ye,nt)|0,H=(H=H+Math.imul(ye,Et)|0)+Math.imul(Oe,nt)|0,G=G+Math.imul(Oe,Et)|0,j=j+Math.imul(_e,Ft)|0,H=(H=H+Math.imul(_e,Pt)|0)+Math.imul(fe,Ft)|0,G=G+Math.imul(fe,Pt)|0,j=j+Math.imul(Te,Je)|0,H=(H=H+Math.imul(Te,qe)|0)+Math.imul(Le,Je)|0,G=G+Math.imul(Le,qe)|0,j=j+Math.imul(me,ft)|0,H=(H=H+Math.imul(me,ot)|0)+Math.imul(be,ft)|0,G=G+Math.imul(be,ot)|0,j=j+Math.imul(ce,Ve)|0,H=(H=H+Math.imul(ce,st)|0)+Math.imul(de,Ve)|0,G=G+Math.imul(de,st)|0;var Rn=(K+(j=j+Math.imul($,gt)|0)|0)+((8191&(H=(H=H+Math.imul($,yt)|0)+Math.imul(ae,gt)|0))<<13)|0;K=((G=G+Math.imul(ae,yt)|0)+(H>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,j=Math.imul(Ce,lt),H=(H=Math.imul(Ce,ut))+Math.imul(Ne,lt)|0,G=Math.imul(Ne,ut),j=j+Math.imul(Be,_t)|0,H=(H=H+Math.imul(Be,mt)|0)+Math.imul(xe,_t)|0,G=G+Math.imul(xe,mt)|0,j=j+Math.imul(Se,nt)|0,H=(H=H+Math.imul(Se,Et)|0)+Math.imul(Pe,nt)|0,G=G+Math.imul(Pe,Et)|0,j=j+Math.imul(ye,Ft)|0,H=(H=H+Math.imul(ye,Pt)|0)+Math.imul(Oe,Ft)|0,G=G+Math.imul(Oe,Pt)|0,j=j+Math.imul(_e,Je)|0,H=(H=H+Math.imul(_e,qe)|0)+Math.imul(fe,Je)|0,G=G+Math.imul(fe,qe)|0,j=j+Math.imul(Te,ft)|0,H=(H=H+Math.imul(Te,ot)|0)+Math.imul(Le,ft)|0,G=G+Math.imul(Le,ot)|0,j=j+Math.imul(me,Ve)|0,H=(H=H+Math.imul(me,st)|0)+Math.imul(be,Ve)|0,G=G+Math.imul(be,st)|0,j=j+Math.imul(ce,gt)|0,H=(H=H+Math.imul(ce,yt)|0)+Math.imul(de,gt)|0,G=G+Math.imul(de,yt)|0;var An=(K+(j=j+Math.imul($,dt)|0)|0)+((8191&(H=(H=H+Math.imul($,Lt)|0)+Math.imul(ae,dt)|0))<<13)|0;K=((G=G+Math.imul(ae,Lt)|0)+(H>>>13)|0)+(An>>>26)|0,An&=67108863,j=Math.imul(He,lt),H=(H=Math.imul(He,ut))+Math.imul(Ye,lt)|0,G=Math.imul(Ye,ut),j=j+Math.imul(Ce,_t)|0,H=(H=H+Math.imul(Ce,mt)|0)+Math.imul(Ne,_t)|0,G=G+Math.imul(Ne,mt)|0,j=j+Math.imul(Be,nt)|0,H=(H=H+Math.imul(Be,Et)|0)+Math.imul(xe,nt)|0,G=G+Math.imul(xe,Et)|0,j=j+Math.imul(Se,Ft)|0,H=(H=H+Math.imul(Se,Pt)|0)+Math.imul(Pe,Ft)|0,G=G+Math.imul(Pe,Pt)|0,j=j+Math.imul(ye,Je)|0,H=(H=H+Math.imul(ye,qe)|0)+Math.imul(Oe,Je)|0,G=G+Math.imul(Oe,qe)|0,j=j+Math.imul(_e,ft)|0,H=(H=H+Math.imul(_e,ot)|0)+Math.imul(fe,ft)|0,G=G+Math.imul(fe,ot)|0,j=j+Math.imul(Te,Ve)|0,H=(H=H+Math.imul(Te,st)|0)+Math.imul(Le,Ve)|0,G=G+Math.imul(Le,st)|0,j=j+Math.imul(me,gt)|0,H=(H=H+Math.imul(me,yt)|0)+Math.imul(be,gt)|0,G=G+Math.imul(be,yt)|0,j=j+Math.imul(ce,dt)|0,H=(H=H+Math.imul(ce,Lt)|0)+Math.imul(de,dt)|0,G=G+Math.imul(de,Lt)|0;var mn=(K+(j=j+Math.imul($,Ct)|0)|0)+((8191&(H=(H=H+Math.imul($,Rt)|0)+Math.imul(ae,Ct)|0))<<13)|0;K=((G=G+Math.imul(ae,Rt)|0)+(H>>>13)|0)+(mn>>>26)|0,mn&=67108863,j=Math.imul(He,_t),H=(H=Math.imul(He,mt))+Math.imul(Ye,_t)|0,G=Math.imul(Ye,mt),j=j+Math.imul(Ce,nt)|0,H=(H=H+Math.imul(Ce,Et)|0)+Math.imul(Ne,nt)|0,G=G+Math.imul(Ne,Et)|0,j=j+Math.imul(Be,Ft)|0,H=(H=H+Math.imul(Be,Pt)|0)+Math.imul(xe,Ft)|0,G=G+Math.imul(xe,Pt)|0,j=j+Math.imul(Se,Je)|0,H=(H=H+Math.imul(Se,qe)|0)+Math.imul(Pe,Je)|0,G=G+Math.imul(Pe,qe)|0,j=j+Math.imul(ye,ft)|0,H=(H=H+Math.imul(ye,ot)|0)+Math.imul(Oe,ft)|0,G=G+Math.imul(Oe,ot)|0,j=j+Math.imul(_e,Ve)|0,H=(H=H+Math.imul(_e,st)|0)+Math.imul(fe,Ve)|0,G=G+Math.imul(fe,st)|0,j=j+Math.imul(Te,gt)|0,H=(H=H+Math.imul(Te,yt)|0)+Math.imul(Le,gt)|0,G=G+Math.imul(Le,yt)|0,j=j+Math.imul(me,dt)|0,H=(H=H+Math.imul(me,Lt)|0)+Math.imul(be,dt)|0,G=G+Math.imul(be,Lt)|0;var tn=(K+(j=j+Math.imul(ce,Ct)|0)|0)+((8191&(H=(H=H+Math.imul(ce,Rt)|0)+Math.imul(de,Ct)|0))<<13)|0;K=((G=G+Math.imul(de,Rt)|0)+(H>>>13)|0)+(tn>>>26)|0,tn&=67108863,j=Math.imul(He,nt),H=(H=Math.imul(He,Et))+Math.imul(Ye,nt)|0,G=Math.imul(Ye,Et),j=j+Math.imul(Ce,Ft)|0,H=(H=H+Math.imul(Ce,Pt)|0)+Math.imul(Ne,Ft)|0,G=G+Math.imul(Ne,Pt)|0,j=j+Math.imul(Be,Je)|0,H=(H=H+Math.imul(Be,qe)|0)+Math.imul(xe,Je)|0,G=G+Math.imul(xe,qe)|0,j=j+Math.imul(Se,ft)|0,H=(H=H+Math.imul(Se,ot)|0)+Math.imul(Pe,ft)|0,G=G+Math.imul(Pe,ot)|0,j=j+Math.imul(ye,Ve)|0,H=(H=H+Math.imul(ye,st)|0)+Math.imul(Oe,Ve)|0,G=G+Math.imul(Oe,st)|0,j=j+Math.imul(_e,gt)|0,H=(H=H+Math.imul(_e,yt)|0)+Math.imul(fe,gt)|0,G=G+Math.imul(fe,yt)|0,j=j+Math.imul(Te,dt)|0,H=(H=H+Math.imul(Te,Lt)|0)+Math.imul(Le,dt)|0,G=G+Math.imul(Le,Lt)|0;var fn=(K+(j=j+Math.imul(me,Ct)|0)|0)+((8191&(H=(H=H+Math.imul(me,Rt)|0)+Math.imul(be,Ct)|0))<<13)|0;K=((G=G+Math.imul(be,Rt)|0)+(H>>>13)|0)+(fn>>>26)|0,fn&=67108863,j=Math.imul(He,Ft),H=(H=Math.imul(He,Pt))+Math.imul(Ye,Ft)|0,G=Math.imul(Ye,Pt),j=j+Math.imul(Ce,Je)|0,H=(H=H+Math.imul(Ce,qe)|0)+Math.imul(Ne,Je)|0,G=G+Math.imul(Ne,qe)|0,j=j+Math.imul(Be,ft)|0,H=(H=H+Math.imul(Be,ot)|0)+Math.imul(xe,ft)|0,G=G+Math.imul(xe,ot)|0,j=j+Math.imul(Se,Ve)|0,H=(H=H+Math.imul(Se,st)|0)+Math.imul(Pe,Ve)|0,G=G+Math.imul(Pe,st)|0,j=j+Math.imul(ye,gt)|0,H=(H=H+Math.imul(ye,yt)|0)+Math.imul(Oe,gt)|0,G=G+Math.imul(Oe,yt)|0,j=j+Math.imul(_e,dt)|0,H=(H=H+Math.imul(_e,Lt)|0)+Math.imul(fe,dt)|0,G=G+Math.imul(fe,Lt)|0;var rn=(K+(j=j+Math.imul(Te,Ct)|0)|0)+((8191&(H=(H=H+Math.imul(Te,Rt)|0)+Math.imul(Le,Ct)|0))<<13)|0;K=((G=G+Math.imul(Le,Rt)|0)+(H>>>13)|0)+(rn>>>26)|0,rn&=67108863,j=Math.imul(He,Je),H=(H=Math.imul(He,qe))+Math.imul(Ye,Je)|0,G=Math.imul(Ye,qe),j=j+Math.imul(Ce,ft)|0,H=(H=H+Math.imul(Ce,ot)|0)+Math.imul(Ne,ft)|0,G=G+Math.imul(Ne,ot)|0,j=j+Math.imul(Be,Ve)|0,H=(H=H+Math.imul(Be,st)|0)+Math.imul(xe,Ve)|0,G=G+Math.imul(xe,st)|0,j=j+Math.imul(Se,gt)|0,H=(H=H+Math.imul(Se,yt)|0)+Math.imul(Pe,gt)|0,G=G+Math.imul(Pe,yt)|0,j=j+Math.imul(ye,dt)|0,H=(H=H+Math.imul(ye,Lt)|0)+Math.imul(Oe,dt)|0,G=G+Math.imul(Oe,Lt)|0;var pn=(K+(j=j+Math.imul(_e,Ct)|0)|0)+((8191&(H=(H=H+Math.imul(_e,Rt)|0)+Math.imul(fe,Ct)|0))<<13)|0;K=((G=G+Math.imul(fe,Rt)|0)+(H>>>13)|0)+(pn>>>26)|0,pn&=67108863,j=Math.imul(He,ft),H=(H=Math.imul(He,ot))+Math.imul(Ye,ft)|0,G=Math.imul(Ye,ot),j=j+Math.imul(Ce,Ve)|0,H=(H=H+Math.imul(Ce,st)|0)+Math.imul(Ne,Ve)|0,G=G+Math.imul(Ne,st)|0,j=j+Math.imul(Be,gt)|0,H=(H=H+Math.imul(Be,yt)|0)+Math.imul(xe,gt)|0,G=G+Math.imul(xe,yt)|0,j=j+Math.imul(Se,dt)|0,H=(H=H+Math.imul(Se,Lt)|0)+Math.imul(Pe,dt)|0,G=G+Math.imul(Pe,Lt)|0;var wn=(K+(j=j+Math.imul(ye,Ct)|0)|0)+((8191&(H=(H=H+Math.imul(ye,Rt)|0)+Math.imul(Oe,Ct)|0))<<13)|0;K=((G=G+Math.imul(Oe,Rt)|0)+(H>>>13)|0)+(wn>>>26)|0,wn&=67108863,j=Math.imul(He,Ve),H=(H=Math.imul(He,st))+Math.imul(Ye,Ve)|0,G=Math.imul(Ye,st),j=j+Math.imul(Ce,gt)|0,H=(H=H+Math.imul(Ce,yt)|0)+Math.imul(Ne,gt)|0,G=G+Math.imul(Ne,yt)|0,j=j+Math.imul(Be,dt)|0,H=(H=H+Math.imul(Be,Lt)|0)+Math.imul(xe,dt)|0,G=G+Math.imul(xe,Lt)|0;var kn=(K+(j=j+Math.imul(Se,Ct)|0)|0)+((8191&(H=(H=H+Math.imul(Se,Rt)|0)+Math.imul(Pe,Ct)|0))<<13)|0;K=((G=G+Math.imul(Pe,Rt)|0)+(H>>>13)|0)+(kn>>>26)|0,kn&=67108863,j=Math.imul(He,gt),H=(H=Math.imul(He,yt))+Math.imul(Ye,gt)|0,G=Math.imul(Ye,yt),j=j+Math.imul(Ce,dt)|0,H=(H=H+Math.imul(Ce,Lt)|0)+Math.imul(Ne,dt)|0,G=G+Math.imul(Ne,Lt)|0;var Pn=(K+(j=j+Math.imul(Be,Ct)|0)|0)+((8191&(H=(H=H+Math.imul(Be,Rt)|0)+Math.imul(xe,Ct)|0))<<13)|0;K=((G=G+Math.imul(xe,Rt)|0)+(H>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,j=Math.imul(He,dt),H=(H=Math.imul(He,Lt))+Math.imul(Ye,dt)|0,G=Math.imul(Ye,Lt);var On=(K+(j=j+Math.imul(Ce,Ct)|0)|0)+((8191&(H=(H=H+Math.imul(Ce,Rt)|0)+Math.imul(Ne,Ct)|0))<<13)|0;K=((G=G+Math.imul(Ne,Rt)|0)+(H>>>13)|0)+(On>>>26)|0,On&=67108863;var En=(K+(j=Math.imul(He,Ct))|0)+((8191&(H=(H=Math.imul(He,Rt))+Math.imul(Ye,Ct)|0))<<13)|0;return K=((G=Math.imul(Ye,Rt))+(H>>>13)|0)+(En>>>26)|0,En&=67108863,te[0]=Dt,te[1]=Nt,te[2]=Xt,te[3]=un,te[4]=qt,te[5]=Kt,te[6]=Ut,te[7]=Rn,te[8]=An,te[9]=mn,te[10]=tn,te[11]=fn,te[12]=rn,te[13]=pn,te[14]=wn,te[15]=kn,te[16]=Pn,te[17]=On,te[18]=En,K!==0&&(te[19]=K,X.length++),X};function A(z,V,X){return new p().mulp(z,V,X)}function p(z,V){this.x=z,this.y=V}Math.imul||(_=w),l.prototype.mulTo=function(z,V){var X,j=this.length+z.length;return X=this.length===10&&z.length===10?_(this,z,V):j<63?w(this,z,V):j<1024?function(H,G,ie){ie.negative=G.negative^H.negative,ie.length=H.length+G.length;for(var re=0,te=0,K=0;K<ie.length-1;K++){var J=te;te=0;for(var $=67108863&re,ae=Math.min(K,G.length-1),ue=Math.max(0,K-H.length+1);ue<=ae;ue++){var ce=K-ue,de=(0|H.words[ce])*(0|G.words[ue]),pe=67108863&de;$=67108863&(pe=pe+$|0),te+=(J=(J=J+(de/67108864|0)|0)+(pe>>>26)|0)>>>26,J&=67108863}ie.words[K]=$,re=J,J=te}return re!==0?ie.words[K]=re:ie.length--,ie.strip()}(this,z,V):A(this,z,V),X},p.prototype.makeRBT=function(z){for(var V=new Array(z),X=l.prototype._countBits(z)-1,j=0;j<z;j++)V[j]=this.revBin(j,X,z);return V},p.prototype.revBin=function(z,V,X){if(z===0||z===X-1)return z;for(var j=0,H=0;H<V;H++)j|=(1&z)<<V-H-1,z>>=1;return j},p.prototype.permute=function(z,V,X,j,H,G){for(var ie=0;ie<G;ie++)j[ie]=V[z[ie]],H[ie]=X[z[ie]]},p.prototype.transform=function(z,V,X,j,H,G){this.permute(G,z,V,X,j,H);for(var ie=1;ie<H;ie<<=1)for(var re=ie<<1,te=Math.cos(2*Math.PI/re),K=Math.sin(2*Math.PI/re),J=0;J<H;J+=re)for(var $=te,ae=K,ue=0;ue<ie;ue++){var ce=X[J+ue],de=j[J+ue],pe=X[J+ue+ie],me=j[J+ue+ie],be=$*pe-ae*me;me=$*me+ae*pe,pe=be,X[J+ue]=ce+pe,j[J+ue]=de+me,X[J+ue+ie]=ce-pe,j[J+ue+ie]=de-me,ue!==re&&(be=te*$-K*ae,ae=te*ae+K*$,$=be)}},p.prototype.guessLen13b=function(z,V){var X=1|Math.max(V,z),j=1&X,H=0;for(X=X/2|0;X;X>>>=1)H++;return 1<<H+1+j},p.prototype.conjugate=function(z,V,X){if(!(X<=1))for(var j=0;j<X/2;j++){var H=z[j];z[j]=z[X-j-1],z[X-j-1]=H,H=V[j],V[j]=-V[X-j-1],V[X-j-1]=-H}},p.prototype.normalize13b=function(z,V){for(var X=0,j=0;j<V/2;j++){var H=8192*Math.round(z[2*j+1]/V)+Math.round(z[2*j]/V)+X;z[j]=67108863&H,X=H<67108864?0:H/67108864|0}return z},p.prototype.convert13b=function(z,V,X,j){for(var H=0,G=0;G<V;G++)H+=0|z[G],X[2*G]=8191&H,H>>>=13,X[2*G+1]=8191&H,H>>>=13;for(G=2*V;G<j;++G)X[G]=0;r(H===0),r((-8192&H)==0)},p.prototype.stub=function(z){for(var V=new Array(z),X=0;X<z;X++)V[X]=0;return V},p.prototype.mulp=function(z,V,X){var j=2*this.guessLen13b(z.length,V.length),H=this.makeRBT(j),G=this.stub(j),ie=new Array(j),re=new Array(j),te=new Array(j),K=new Array(j),J=new Array(j),$=new Array(j),ae=X.words;ae.length=j,this.convert13b(z.words,z.length,ie,j),this.convert13b(V.words,V.length,K,j),this.transform(ie,G,re,te,j,H),this.transform(K,G,J,$,j,H);for(var ue=0;ue<j;ue++){var ce=re[ue]*J[ue]-te[ue]*$[ue];te[ue]=re[ue]*$[ue]+te[ue]*J[ue],re[ue]=ce}return this.conjugate(re,te,j),this.transform(re,te,ae,G,j,H),this.conjugate(ae,G,j),this.normalize13b(ae,j),X.negative=z.negative^V.negative,X.length=z.length+V.length,X.strip()},l.prototype.mul=function(z){var V=new l(null);return V.words=new Array(this.length+z.length),this.mulTo(z,V)},l.prototype.mulf=function(z){var V=new l(null);return V.words=new Array(this.length+z.length),A(this,z,V)},l.prototype.imul=function(z){return this.clone().mulTo(z,this)},l.prototype.imuln=function(z){r(typeof z=="number"),r(z<67108864);for(var V=0,X=0;X<this.length;X++){var j=(0|this.words[X])*z,H=(67108863&j)+(67108863&V);V>>=26,V+=j/67108864|0,V+=H>>>26,this.words[X]=67108863&H}return V!==0&&(this.words[X]=V,this.length++),this},l.prototype.muln=function(z){return this.clone().imuln(z)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(z){var V=function(G){for(var ie=new Array(G.bitLength()),re=0;re<ie.length;re++){var te=re/26|0,K=re%26;ie[re]=(G.words[te]&1<<K)>>>K}return ie}(z);if(V.length===0)return new l(1);for(var X=this,j=0;j<V.length&&V[j]===0;j++,X=X.sqr());if(++j<V.length)for(var H=X.sqr();j<V.length;j++,H=H.sqr())V[j]!==0&&(X=X.mul(H));return X},l.prototype.iushln=function(z){r(typeof z=="number"&&z>=0);var V,X=z%26,j=(z-X)/26,H=67108863>>>26-X<<26-X;if(X!==0){var G=0;for(V=0;V<this.length;V++){var ie=this.words[V]&H,re=(0|this.words[V])-ie<<X;this.words[V]=re|G,G=ie>>>26-X}G&&(this.words[V]=G,this.length++)}if(j!==0){for(V=this.length-1;V>=0;V--)this.words[V+j]=this.words[V];for(V=0;V<j;V++)this.words[V]=0;this.length+=j}return this.strip()},l.prototype.ishln=function(z){return r(this.negative===0),this.iushln(z)},l.prototype.iushrn=function(z,V,X){var j;r(typeof z=="number"&&z>=0),j=V?(V-V%26)/26:0;var H=z%26,G=Math.min((z-H)/26,this.length),ie=67108863^67108863>>>H<<H,re=X;if(j-=G,j=Math.max(0,j),re){for(var te=0;te<G;te++)re.words[te]=this.words[te];re.length=G}if(G!==0)if(this.length>G)for(this.length-=G,te=0;te<this.length;te++)this.words[te]=this.words[te+G];else this.words[0]=0,this.length=1;var K=0;for(te=this.length-1;te>=0&&(K!==0||te>=j);te--){var J=0|this.words[te];this.words[te]=K<<26-H|J>>>H,K=J&ie}return re&&K!==0&&(re.words[re.length++]=K),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},l.prototype.ishrn=function(z,V,X){return r(this.negative===0),this.iushrn(z,V,X)},l.prototype.shln=function(z){return this.clone().ishln(z)},l.prototype.ushln=function(z){return this.clone().iushln(z)},l.prototype.shrn=function(z){return this.clone().ishrn(z)},l.prototype.ushrn=function(z){return this.clone().iushrn(z)},l.prototype.testn=function(z){r(typeof z=="number"&&z>=0);var V=z%26,X=(z-V)/26,j=1<<V;return!(this.length<=X||!(this.words[X]&j))},l.prototype.imaskn=function(z){r(typeof z=="number"&&z>=0);var V=z%26,X=(z-V)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=X)return this;if(V!==0&&X++,this.length=Math.min(X,this.length),V!==0){var j=67108863^67108863>>>V<<V;this.words[this.length-1]&=j}return this.strip()},l.prototype.maskn=function(z){return this.clone().imaskn(z)},l.prototype.iaddn=function(z){return r(typeof z=="number"),r(z<67108864),z<0?this.isubn(-z):this.negative!==0?this.length===1&&(0|this.words[0])<z?(this.words[0]=z-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(z),this.negative=1,this):this._iaddn(z)},l.prototype._iaddn=function(z){this.words[0]+=z;for(var V=0;V<this.length&&this.words[V]>=67108864;V++)this.words[V]-=67108864,V===this.length-1?this.words[V+1]=1:this.words[V+1]++;return this.length=Math.max(this.length,V+1),this},l.prototype.isubn=function(z){if(r(typeof z=="number"),r(z<67108864),z<0)return this.iaddn(-z);if(this.negative!==0)return this.negative=0,this.iaddn(z),this.negative=1,this;if(this.words[0]-=z,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var V=0;V<this.length&&this.words[V]<0;V++)this.words[V]+=67108864,this.words[V+1]-=1;return this.strip()},l.prototype.addn=function(z){return this.clone().iaddn(z)},l.prototype.subn=function(z){return this.clone().isubn(z)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(z,V,X){var j,H,G=z.length+X;this._expand(G);var ie=0;for(j=0;j<z.length;j++){H=(0|this.words[j+X])+ie;var re=(0|z.words[j])*V;ie=((H-=67108863&re)>>26)-(re/67108864|0),this.words[j+X]=67108863&H}for(;j<this.length-X;j++)ie=(H=(0|this.words[j+X])+ie)>>26,this.words[j+X]=67108863&H;if(ie===0)return this.strip();for(r(ie===-1),ie=0,j=0;j<this.length;j++)ie=(H=-(0|this.words[j])+ie)>>26,this.words[j]=67108863&H;return this.negative=1,this.strip()},l.prototype._wordDiv=function(z,V){var X=(this.length,z.length),j=this.clone(),H=z,G=0|H.words[H.length-1];(X=26-this._countBits(G))!=0&&(H=H.ushln(X),j.iushln(X),G=0|H.words[H.length-1]);var ie,re=j.length-H.length;if(V!=="mod"){(ie=new l(null)).length=re+1,ie.words=new Array(ie.length);for(var te=0;te<ie.length;te++)ie.words[te]=0}var K=j.clone()._ishlnsubmul(H,1,re);K.negative===0&&(j=K,ie&&(ie.words[re]=1));for(var J=re-1;J>=0;J--){var $=67108864*(0|j.words[H.length+J])+(0|j.words[H.length+J-1]);for($=Math.min($/G|0,67108863),j._ishlnsubmul(H,$,J);j.negative!==0;)$--,j.negative=0,j._ishlnsubmul(H,1,J),j.isZero()||(j.negative^=1);ie&&(ie.words[J]=$)}return ie&&ie.strip(),j.strip(),V!=="div"&&X!==0&&j.iushrn(X),{div:ie||null,mod:j}},l.prototype.divmod=function(z,V,X){return r(!z.isZero()),this.isZero()?{div:new l(0),mod:new l(0)}:this.negative!==0&&z.negative===0?(G=this.neg().divmod(z,V),V!=="mod"&&(j=G.div.neg()),V!=="div"&&(H=G.mod.neg(),X&&H.negative!==0&&H.iadd(z)),{div:j,mod:H}):this.negative===0&&z.negative!==0?(G=this.divmod(z.neg(),V),V!=="mod"&&(j=G.div.neg()),{div:j,mod:G.mod}):this.negative&z.negative?(G=this.neg().divmod(z.neg(),V),V!=="div"&&(H=G.mod.neg(),X&&H.negative!==0&&H.isub(z)),{div:G.div,mod:H}):z.length>this.length||this.cmp(z)<0?{div:new l(0),mod:this}:z.length===1?V==="div"?{div:this.divn(z.words[0]),mod:null}:V==="mod"?{div:null,mod:new l(this.modn(z.words[0]))}:{div:this.divn(z.words[0]),mod:new l(this.modn(z.words[0]))}:this._wordDiv(z,V);var j,H,G},l.prototype.div=function(z){return this.divmod(z,"div",!1).div},l.prototype.mod=function(z){return this.divmod(z,"mod",!1).mod},l.prototype.umod=function(z){return this.divmod(z,"mod",!0).mod},l.prototype.divRound=function(z){var V=this.divmod(z);if(V.mod.isZero())return V.div;var X=V.div.negative!==0?V.mod.isub(z):V.mod,j=z.ushrn(1),H=z.andln(1),G=X.cmp(j);return G<0||H===1&&G===0?V.div:V.div.negative!==0?V.div.isubn(1):V.div.iaddn(1)},l.prototype.modn=function(z){r(z<=67108863);for(var V=67108864%z,X=0,j=this.length-1;j>=0;j--)X=(V*X+(0|this.words[j]))%z;return X},l.prototype.idivn=function(z){r(z<=67108863);for(var V=0,X=this.length-1;X>=0;X--){var j=(0|this.words[X])+67108864*V;this.words[X]=j/z|0,V=j%z}return this.strip()},l.prototype.divn=function(z){return this.clone().idivn(z)},l.prototype.egcd=function(z){r(z.negative===0),r(!z.isZero());var V=this,X=z.clone();V=V.negative!==0?V.umod(z):V.clone();for(var j=new l(1),H=new l(0),G=new l(0),ie=new l(1),re=0;V.isEven()&&X.isEven();)V.iushrn(1),X.iushrn(1),++re;for(var te=X.clone(),K=V.clone();!V.isZero();){for(var J=0,$=1;!(V.words[0]&$)&&J<26;++J,$<<=1);if(J>0)for(V.iushrn(J);J-- >0;)(j.isOdd()||H.isOdd())&&(j.iadd(te),H.isub(K)),j.iushrn(1),H.iushrn(1);for(var ae=0,ue=1;!(X.words[0]&ue)&&ae<26;++ae,ue<<=1);if(ae>0)for(X.iushrn(ae);ae-- >0;)(G.isOdd()||ie.isOdd())&&(G.iadd(te),ie.isub(K)),G.iushrn(1),ie.iushrn(1);V.cmp(X)>=0?(V.isub(X),j.isub(G),H.isub(ie)):(X.isub(V),G.isub(j),ie.isub(H))}return{a:G,b:ie,gcd:X.iushln(re)}},l.prototype._invmp=function(z){r(z.negative===0),r(!z.isZero());var V=this,X=z.clone();V=V.negative!==0?V.umod(z):V.clone();for(var j,H=new l(1),G=new l(0),ie=X.clone();V.cmpn(1)>0&&X.cmpn(1)>0;){for(var re=0,te=1;!(V.words[0]&te)&&re<26;++re,te<<=1);if(re>0)for(V.iushrn(re);re-- >0;)H.isOdd()&&H.iadd(ie),H.iushrn(1);for(var K=0,J=1;!(X.words[0]&J)&&K<26;++K,J<<=1);if(K>0)for(X.iushrn(K);K-- >0;)G.isOdd()&&G.iadd(ie),G.iushrn(1);V.cmp(X)>=0?(V.isub(X),H.isub(G)):(X.isub(V),G.isub(H))}return(j=V.cmpn(1)===0?H:G).cmpn(0)<0&&j.iadd(z),j},l.prototype.gcd=function(z){if(this.isZero())return z.abs();if(z.isZero())return this.abs();var V=this.clone(),X=z.clone();V.negative=0,X.negative=0;for(var j=0;V.isEven()&&X.isEven();j++)V.iushrn(1),X.iushrn(1);for(;;){for(;V.isEven();)V.iushrn(1);for(;X.isEven();)X.iushrn(1);var H=V.cmp(X);if(H<0){var G=V;V=X,X=G}else if(H===0||X.cmpn(1)===0)break;V.isub(X)}return X.iushln(j)},l.prototype.invm=function(z){return this.egcd(z).a.umod(z)},l.prototype.isEven=function(){return(1&this.words[0])==0},l.prototype.isOdd=function(){return(1&this.words[0])==1},l.prototype.andln=function(z){return this.words[0]&z},l.prototype.bincn=function(z){r(typeof z=="number");var V=z%26,X=(z-V)/26,j=1<<V;if(this.length<=X)return this._expand(X+1),this.words[X]|=j,this;for(var H=j,G=X;H!==0&&G<this.length;G++){var ie=0|this.words[G];H=(ie+=H)>>>26,ie&=67108863,this.words[G]=ie}return H!==0&&(this.words[G]=H,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(z){var V,X=z<0;if(this.negative!==0&&!X)return-1;if(this.negative===0&&X)return 1;if(this.strip(),this.length>1)V=1;else{X&&(z=-z),r(z<=67108863,"Number is too big");var j=0|this.words[0];V=j===z?0:j<z?-1:1}return this.negative!==0?0|-V:V},l.prototype.cmp=function(z){if(this.negative!==0&&z.negative===0)return-1;if(this.negative===0&&z.negative!==0)return 1;var V=this.ucmp(z);return this.negative!==0?0|-V:V},l.prototype.ucmp=function(z){if(this.length>z.length)return 1;if(this.length<z.length)return-1;for(var V=0,X=this.length-1;X>=0;X--){var j=0|this.words[X],H=0|z.words[X];if(j!==H){j<H?V=-1:j>H&&(V=1);break}}return V},l.prototype.gtn=function(z){return this.cmpn(z)===1},l.prototype.gt=function(z){return this.cmp(z)===1},l.prototype.gten=function(z){return this.cmpn(z)>=0},l.prototype.gte=function(z){return this.cmp(z)>=0},l.prototype.ltn=function(z){return this.cmpn(z)===-1},l.prototype.lt=function(z){return this.cmp(z)===-1},l.prototype.lten=function(z){return this.cmpn(z)<=0},l.prototype.lte=function(z){return this.cmp(z)<=0},l.prototype.eqn=function(z){return this.cmpn(z)===0},l.prototype.eq=function(z){return this.cmp(z)===0},l.red=function(z){return new F(z)},l.prototype.toRed=function(z){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),z.convertTo(this)._forceRed(z)},l.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(z){return this.red=z,this},l.prototype.forceRed=function(z){return r(!this.red,"Already a number in reduction context"),this._forceRed(z)},l.prototype.redAdd=function(z){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,z)},l.prototype.redIAdd=function(z){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,z)},l.prototype.redSub=function(z){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,z)},l.prototype.redISub=function(z){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,z)},l.prototype.redShl=function(z){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,z)},l.prototype.redMul=function(z){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.mul(this,z)},l.prototype.redIMul=function(z){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.imul(this,z)},l.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(z){return r(this.red&&!z.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,z)};var L={k256:null,p224:null,p192:null,p25519:null};function M(z,V){this.name=z,this.p=new l(V,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function C(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function R(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function I(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function D(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function F(z){if(typeof z=="string"){var V=l._prime(z);this.m=V.p,this.prime=V}else r(z.gtn(1),"modulus must be greater than 1"),this.m=z,this.prime=null}function q(z){F.call(this,z),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}M.prototype._tmp=function(){var z=new l(null);return z.words=new Array(Math.ceil(this.n/13)),z},M.prototype.ireduce=function(z){var V,X=z;do this.split(X,this.tmp),V=(X=(X=this.imulK(X)).iadd(this.tmp)).bitLength();while(V>this.n);var j=V<this.n?-1:X.ucmp(this.p);return j===0?(X.words[0]=0,X.length=1):j>0?X.isub(this.p):X.strip!==void 0?X.strip():X._strip(),X},M.prototype.split=function(z,V){z.iushrn(this.n,0,V)},M.prototype.imulK=function(z){return z.imul(this.k)},o(C,M),C.prototype.split=function(z,V){for(var X=4194303,j=Math.min(z.length,9),H=0;H<j;H++)V.words[H]=z.words[H];if(V.length=j,z.length<=9)return z.words[0]=0,void(z.length=1);var G=z.words[9];for(V.words[V.length++]=G&X,H=10;H<z.length;H++){var ie=0|z.words[H];z.words[H-10]=(ie&X)<<4|G>>>22,G=ie}G>>>=22,z.words[H-10]=G,G===0&&z.length>10?z.length-=10:z.length-=9},C.prototype.imulK=function(z){z.words[z.length]=0,z.words[z.length+1]=0,z.length+=2;for(var V=0,X=0;X<z.length;X++){var j=0|z.words[X];V+=977*j,z.words[X]=67108863&V,V=64*j+(V/67108864|0)}return z.words[z.length-1]===0&&(z.length--,z.words[z.length-1]===0&&z.length--),z},o(R,M),o(I,M),o(D,M),D.prototype.imulK=function(z){for(var V=0,X=0;X<z.length;X++){var j=19*(0|z.words[X])+V,H=67108863&j;j>>>=26,z.words[X]=H,V=j}return V!==0&&(z.words[z.length++]=V),z},l._prime=function(z){if(L[z])return L[z];var V;if(z==="k256")V=new C;else if(z==="p224")V=new R;else if(z==="p192")V=new I;else{if(z!=="p25519")throw new Error("Unknown prime "+z);V=new D}return L[z]=V,V},F.prototype._verify1=function(z){r(z.negative===0,"red works only with positives"),r(z.red,"red works only with red numbers")},F.prototype._verify2=function(z,V){r((z.negative|V.negative)==0,"red works only with positives"),r(z.red&&z.red===V.red,"red works only with red numbers")},F.prototype.imod=function(z){return this.prime?this.prime.ireduce(z)._forceRed(this):z.umod(this.m)._forceRed(this)},F.prototype.neg=function(z){return z.isZero()?z.clone():this.m.sub(z)._forceRed(this)},F.prototype.add=function(z,V){this._verify2(z,V);var X=z.add(V);return X.cmp(this.m)>=0&&X.isub(this.m),X._forceRed(this)},F.prototype.iadd=function(z,V){this._verify2(z,V);var X=z.iadd(V);return X.cmp(this.m)>=0&&X.isub(this.m),X},F.prototype.sub=function(z,V){this._verify2(z,V);var X=z.sub(V);return X.cmpn(0)<0&&X.iadd(this.m),X._forceRed(this)},F.prototype.isub=function(z,V){this._verify2(z,V);var X=z.isub(V);return X.cmpn(0)<0&&X.iadd(this.m),X},F.prototype.shl=function(z,V){return this._verify1(z),this.imod(z.ushln(V))},F.prototype.imul=function(z,V){return this._verify2(z,V),this.imod(z.imul(V))},F.prototype.mul=function(z,V){return this._verify2(z,V),this.imod(z.mul(V))},F.prototype.isqr=function(z){return this.imul(z,z.clone())},F.prototype.sqr=function(z){return this.mul(z,z)},F.prototype.sqrt=function(z){if(z.isZero())return z.clone();var V=this.m.andln(3);if(r(V%2==1),V===3){var X=this.m.add(new l(1)).iushrn(2);return this.pow(z,X)}for(var j=this.m.subn(1),H=0;!j.isZero()&&j.andln(1)===0;)H++,j.iushrn(1);r(!j.isZero());var G=new l(1).toRed(this),ie=G.redNeg(),re=this.m.subn(1).iushrn(1),te=this.m.bitLength();for(te=new l(2*te*te).toRed(this);this.pow(te,re).cmp(ie)!==0;)te.redIAdd(ie);for(var K=this.pow(te,j),J=this.pow(z,j.addn(1).iushrn(1)),$=this.pow(z,j),ae=H;$.cmp(G)!==0;){for(var ue=$,ce=0;ue.cmp(G)!==0;ce++)ue=ue.redSqr();r(ce<ae);var de=this.pow(K,new l(1).iushln(ae-ce-1));J=J.redMul(de),K=de.redSqr(),$=$.redMul(K),ae=ce}return J},F.prototype.invm=function(z){var V=z._invmp(this.m);return V.negative!==0?(V.negative=0,this.imod(V).redNeg()):this.imod(V)},F.prototype.pow=function(z,V){if(V.isZero())return new l(1).toRed(this);if(V.cmpn(1)===0)return z.clone();var X=new Array(16);X[0]=new l(1).toRed(this),X[1]=z;for(var j=2;j<X.length;j++)X[j]=this.mul(X[j-1],z);var H=X[0],G=0,ie=0,re=V.bitLength()%26;for(re===0&&(re=26),j=V.length-1;j>=0;j--){for(var te=V.words[j],K=re-1;K>=0;K--){var J=te>>K&1;H!==X[0]&&(H=this.sqr(H)),J!==0||G!==0?(G<<=1,G|=J,(++ie==4||j===0&&K===0)&&(H=this.mul(H,X[G]),ie=0,G=0)):ie=0}re=26}return H},F.prototype.convertTo=function(z){var V=z.umod(this.m);return V===z?V.clone():V},F.prototype.convertFrom=function(z){var V=z.clone();return V.red=null,V},l.mont=function(z){return new q(z)},o(q,F),q.prototype.convertTo=function(z){return this.imod(z.ushln(this.shift))},q.prototype.convertFrom=function(z){var V=this.imod(z.mul(this.rinv));return V.red=null,V},q.prototype.imul=function(z,V){if(z.isZero()||V.isZero())return z.words[0]=0,z.length=1,z;var X=z.imul(V),j=X.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),H=X.isub(j).iushrn(this.shift),G=H;return H.cmp(this.m)>=0?G=H.isub(this.m):H.cmpn(0)<0&&(G=H.iadd(this.m)),G._forceRed(this)},q.prototype.mul=function(z,V){if(z.isZero()||V.isZero())return new l(0)._forceRed(this);var X=z.mul(V),j=X.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),H=X.isub(j).iushrn(this.shift),G=H;return H.cmp(this.m)>=0?G=H.isub(this.m):H.cmpn(0)<0&&(G=H.iadd(this.m)),G._forceRed(this)},q.prototype.invm=function(z){return this.imod(z._invmp(this.m).mul(this.r2))._forceRed(this)}})(c=n.nmd(c),this)},6204:function(c){c.exports=function(s){var n,i,a,r=s.length,o=0;for(n=0;n<r;++n)o+=s[n].length;var l=new Array(o),u=0;for(n=0;n<r;++n){var h=s[n],f=h.length;for(i=0;i<f;++i){var T=l[u++]=new Array(f-1),d=0;for(a=0;a<f;++a)a!==i&&(T[d++]=h[a]);if(1&i){var y=T[1];T[1]=T[0],T[0]=y}}}return l}},6867:function(c,s,n){c.exports=function(T,d,y){switch(arguments.length){case 1:return i=[],h(m=T,m,f,!0),i;case 2:return typeof d=="function"?h(T,T,d,!0):function(w,_){return i=[],h(w,_,f,!1),i}(T,d);case 3:return h(T,d,y,!1);default:throw new Error("box-intersect: Invalid arguments")}var m};var i,a=n(1888),r=n(855),o=n(7150);function l(T,d){for(var y=0;y<T;++y)if(!(d[y]<=d[y+T]))return!0;return!1}function u(T,d,y,m){for(var w=0,_=0,A=0,p=T.length;A<p;++A){var L=T[A];if(!l(d,L)){for(var M=0;M<2*d;++M)y[w++]=L[M];m[_++]=A}}return _}function h(T,d,y,m){var w=T.length,_=d.length;if(!(w<=0||_<=0)){var A=T[0].length>>>1;if(!(A<=0)){var p,L=a.mallocDouble(2*A*w),M=a.mallocInt32(w);if((w=u(T,A,L,M))>0){if(A===1&&m)r.init(w),p=r.sweepComplete(A,y,0,w,L,M,0,w,L,M);else{var C=a.mallocDouble(2*A*_),R=a.mallocInt32(_);(_=u(d,A,C,R))>0&&(r.init(w+_),p=A===1?r.sweepBipartite(A,y,0,w,L,M,0,_,C,R):o(A,y,m,w,L,M,_,C,R),a.free(C),a.free(R))}a.free(L),a.free(M)}return p}}}function f(T,d){i.push([T,d])}},2455:function(c,s){function n(i){return i?function(a,r,o,l,u,h,f,T,d,y,m){return u-l>d-T?function(w,_,A,p,L,M,C,R,I,D,F){for(var q=2*w,z=p,V=q*p;z<L;++z,V+=q){var X=M[_+V],j=M[_+V+w],H=C[z];e:for(var G=R,ie=q*R;G<I;++G,ie+=q){var re=D[_+ie],te=D[_+ie+w],K=F[G];if(!(te<X||j<re)){for(var J=_+1;J<w;++J){var $=M[J+V],ae=M[J+w+V],ue=D[J+ie],ce=D[J+w+ie];if(ae<ue||ce<$)continue e}var de=A(H,K);if(de!==void 0)return de}}}}(a,r,o,l,u,h,f,T,d,y,m):function(w,_,A,p,L,M,C,R,I,D,F){for(var q=2*w,z=R,V=q*R;z<I;++z,V+=q){var X=D[_+V],j=D[_+V+w],H=F[z];e:for(var G=p,ie=q*p;G<L;++G,ie+=q){var re=M[_+ie],te=M[_+ie+w],K=C[G];if(!(j<re||te<X)){for(var J=_+1;J<w;++J){var $=M[J+ie],ae=M[J+w+ie],ue=D[J+V],ce=D[J+w+V];if(ae<ue||ce<$)continue e}var de=A(K,H);if(de!==void 0)return de}}}}(a,r,o,l,u,h,f,T,d,y,m)}:function(a,r,o,l,u,h,f,T,d,y,m,w){return h-u>y-d?l?function(_,A,p,L,M,C,R,I,D,F,q){for(var z=2*_,V=L,X=z*L;V<M;++V,X+=z){var j=C[A+X],H=C[A+X+_],G=R[V];e:for(var ie=I,re=z*I;ie<D;++ie,re+=z){var te=F[A+re],K=q[ie];if(!(te<=j||H<te)){for(var J=A+1;J<_;++J){var $=C[J+X],ae=C[J+_+X],ue=F[J+re],ce=F[J+_+re];if(ae<ue||ce<$)continue e}var de=p(K,G);if(de!==void 0)return de}}}}(a,r,o,u,h,f,T,d,y,m,w):function(_,A,p,L,M,C,R,I,D,F,q){for(var z=2*_,V=L,X=z*L;V<M;++V,X+=z){var j=C[A+X],H=C[A+X+_],G=R[V];e:for(var ie=I,re=z*I;ie<D;++ie,re+=z){var te=F[A+re],K=q[ie];if(!(te<j||H<te)){for(var J=A+1;J<_;++J){var $=C[J+X],ae=C[J+_+X],ue=F[J+re],ce=F[J+_+re];if(ae<ue||ce<$)continue e}var de=p(G,K);if(de!==void 0)return de}}}}(a,r,o,u,h,f,T,d,y,m,w):l?function(_,A,p,L,M,C,R,I,D,F,q){for(var z=2*_,V=I,X=z*I;V<D;++V,X+=z){var j=F[A+X],H=q[V];e:for(var G=L,ie=z*L;G<M;++G,ie+=z){var re=C[A+ie],te=C[A+ie+_],K=R[G];if(!(j<=re||te<j)){for(var J=A+1;J<_;++J){var $=C[J+ie],ae=C[J+_+ie],ue=F[J+X],ce=F[J+_+X];if(ae<ue||ce<$)continue e}var de=p(H,K);if(de!==void 0)return de}}}}(a,r,o,u,h,f,T,d,y,m,w):function(_,A,p,L,M,C,R,I,D,F,q){for(var z=2*_,V=I,X=z*I;V<D;++V,X+=z){var j=F[A+X],H=q[V];e:for(var G=L,ie=z*L;G<M;++G,ie+=z){var re=C[A+ie],te=C[A+ie+_],K=R[G];if(!(j<re||te<j)){for(var J=A+1;J<_;++J){var $=C[J+ie],ae=C[J+_+ie],ue=F[J+X],ce=F[J+_+X];if(ae<ue||ce<$)continue e}var de=p(K,H);if(de!==void 0)return de}}}}(a,r,o,u,h,f,T,d,y,m,w)}}s.partial=n(!1),s.full=n(!0)},7150:function(c,s,n){c.exports=function(z,V,X,j,H,G,ie,re,te){(function(Ne,Re){var He=8*a.log2(Re+1)*(Ne+1)|0,Ye=a.nextPow2(M*He);R.length<Ye&&(i.free(R),R=i.mallocInt32(Ye));var Qe=a.nextPow2(C*He);I.length<Qe&&(i.free(I),I=i.mallocDouble(Qe))})(z,j+ie);var K,J=0,$=2*z;for(D(J++,0,0,j,0,ie,X?16:0,-1/0,1/0),X||D(J++,0,0,ie,0,j,1,-1/0,1/0);J>0;){var ae=(J-=1)*M,ue=R[ae],ce=R[ae+1],de=R[ae+2],pe=R[ae+3],me=R[ae+4],be=R[ae+5],we=J*C,Te=I[we],Le=I[we+1],Ie=1&be,_e=!!(16&be),fe=H,le=G,ye=re,Oe=te;if(Ie&&(fe=re,le=te,ye=H,Oe=G),!(2&be&&ce>=(de=_(z,ue,ce,de,fe,le,Le))||4&be&&(ce=A(z,ue,ce,de,fe,le,Te))>=de)){var Ae=de-ce,Se=me-pe;if(_e){if(z*Ae*(Ae+Se)<y){if((K=u.scanComplete(z,ue,V,ce,de,fe,le,pe,me,ye,Oe))!==void 0)return K;continue}}else{if(z*Math.min(Ae,Se)<T){if((K=o(z,ue,V,Ie,ce,de,fe,le,pe,me,ye,Oe))!==void 0)return K;continue}if(z*Ae*Se<d){if((K=u.scanBipartite(z,ue,V,Ie,ce,de,fe,le,pe,me,ye,Oe))!==void 0)return K;continue}}var Pe=m(z,ue,ce,de,fe,le,Te,Le);if(ce<Pe)if(z*(Pe-ce)<T){if((K=l(z,ue+1,V,ce,Pe,fe,le,pe,me,ye,Oe))!==void 0)return K}else if(ue===z-2){if((K=Ie?u.sweepBipartite(z,V,pe,me,ye,Oe,ce,Pe,fe,le):u.sweepBipartite(z,V,ce,Pe,fe,le,pe,me,ye,Oe))!==void 0)return K}else D(J++,ue+1,ce,Pe,pe,me,Ie,-1/0,1/0),D(J++,ue+1,pe,me,ce,Pe,1^Ie,-1/0,1/0);if(Pe<de){var Fe=h(z,ue,pe,me,ye,Oe),Be=ye[$*Fe+ue],xe=w(z,ue,Fe,me,ye,Oe,Be);if(xe<me&&D(J++,ue,Pe,de,xe,me,(4|Ie)+(_e?16:0),Be,Le),pe<Fe&&D(J++,ue,Pe,de,pe,Fe,(2|Ie)+(_e?16:0),Te,Be),Fe+1===xe){if((K=_e?q(z,ue,V,Pe,de,fe,le,Fe,ye,Oe[Fe]):F(z,ue,V,Ie,Pe,de,fe,le,Fe,ye,Oe[Fe]))!==void 0)return K}else if(Fe<xe){var Me;if(_e){if(Pe<(Me=p(z,ue,Pe,de,fe,le,Be))){var Ce=w(z,ue,Pe,Me,fe,le,Be);if(ue===z-2){if(Pe<Ce&&(K=u.sweepComplete(z,V,Pe,Ce,fe,le,Fe,xe,ye,Oe))!==void 0||Ce<Me&&(K=u.sweepBipartite(z,V,Ce,Me,fe,le,Fe,xe,ye,Oe))!==void 0)return K}else Pe<Ce&&D(J++,ue+1,Pe,Ce,Fe,xe,16,-1/0,1/0),Ce<Me&&(D(J++,ue+1,Ce,Me,Fe,xe,0,-1/0,1/0),D(J++,ue+1,Fe,xe,Ce,Me,1,-1/0,1/0))}}else Pe<(Me=Ie?L(z,ue,Pe,de,fe,le,Be):p(z,ue,Pe,de,fe,le,Be))&&(ue===z-2?K=Ie?u.sweepBipartite(z,V,Fe,xe,ye,Oe,Pe,Me,fe,le):u.sweepBipartite(z,V,Pe,Me,fe,le,Fe,xe,ye,Oe):(D(J++,ue+1,Pe,Me,Fe,xe,Ie,-1/0,1/0),D(J++,ue+1,Fe,xe,Pe,Me,1^Ie,-1/0,1/0)))}}}}};var i=n(1888),a=n(8828),r=n(2455),o=r.partial,l=r.full,u=n(855),h=n(3545),f=n(8105),T=128,d=1<<22,y=1<<22,m=f("!(lo>=p0)&&!(p1>=hi)"),w=f("lo===p0"),_=f("lo<p0"),A=f("hi<=p0"),p=f("lo<=p0&&p0<=hi"),L=f("lo<p0&&p0<=hi"),M=6,C=2,R=i.mallocInt32(1024),I=i.mallocDouble(1024);function D(z,V,X,j,H,G,ie,re,te){var K=M*z;R[K]=V,R[K+1]=X,R[K+2]=j,R[K+3]=H,R[K+4]=G,R[K+5]=ie;var J=C*z;I[J]=re,I[J+1]=te}function F(z,V,X,j,H,G,ie,re,te,K,J){var $=2*z,ae=te*$,ue=K[ae+V];e:for(var ce=H,de=H*$;ce<G;++ce,de+=$){var pe=ie[de+V],me=ie[de+V+z];if(!(ue<pe||me<ue||j&&ue===pe)){for(var be,we=re[ce],Te=V+1;Te<z;++Te){pe=ie[de+Te],me=ie[de+Te+z];var Le=K[ae+Te],Ie=K[ae+Te+z];if(me<Le||Ie<pe)continue e}if((be=j?X(J,we):X(we,J))!==void 0)return be}}}function q(z,V,X,j,H,G,ie,re,te,K){var J=2*z,$=re*J,ae=te[$+V];e:for(var ue=j,ce=j*J;ue<H;++ue,ce+=J){var de=ie[ue];if(de!==K){var pe=G[ce+V],me=G[ce+V+z];if(!(ae<pe||me<ae)){for(var be=V+1;be<z;++be){pe=G[ce+be],me=G[ce+be+z];var we=te[$+be],Te=te[$+be+z];if(me<we||Te<pe)continue e}var Le=X(de,K);if(Le!==void 0)return Le}}}}},3545:function(c,s,n){c.exports=function(o,l,u,h,f,T){if(h<=u+1)return u;for(var d=u,y=h,m=h+u>>>1,w=2*o,_=m,A=f[w*m+l];d<y;){if(y-d<a){r(o,l,d,y,f,T),A=f[w*m+l];break}var p=y-d,L=Math.random()*p+d|0,M=f[w*L+l],C=Math.random()*p+d|0,R=f[w*C+l],I=Math.random()*p+d|0,D=f[w*I+l];M<=R?D>=R?(_=C,A=R):M>=D?(_=L,A=M):(_=I,A=D):R>=D?(_=C,A=R):D>=M?(_=L,A=M):(_=I,A=D);for(var F=w*(y-1),q=w*_,z=0;z<w;++z,++F,++q){var V=f[F];f[F]=f[q],f[q]=V}var X=T[y-1];for(T[y-1]=T[_],T[_]=X,F=w*(y-1),q=w*(_=i(o,l,d,y-1,f,T,A)),z=0;z<w;++z,++F,++q)V=f[F],f[F]=f[q],f[q]=V;if(X=T[y-1],T[y-1]=T[_],T[_]=X,m<_){for(y=_-1;d<y&&f[w*(y-1)+l]===A;)y-=1;y+=1}else{if(!(_<m))break;for(d=_+1;d<y&&f[w*d+l]===A;)d+=1}}return i(o,l,u,m,f,T,f[w*m+l])};var i=n(8105)("lo<p0"),a=8;function r(o,l,u,h,f,T){for(var d=2*o,y=d*(u+1)+l,m=u+1;m<h;++m,y+=d)for(var w=f[y],_=m,A=d*(m-1);_>u&&f[A+l]>w;--_,A-=d){for(var p=A,L=A+d,M=0;M<d;++M,++p,++L){var C=f[p];f[p]=f[L],f[L]=C}var R=T[_];T[_]=T[_-1],T[_-1]=R}}},8105:function(c){c.exports=function(n){return s[n]};var s={"lo===p0":function(n,i,a,r,o,l,u){for(var h=2*n,f=h*a,T=f,d=a,y=i,m=a;r>m;++m,f+=h)if(o[f+y]===u)if(d===m)d+=1,T+=h;else{for(var w=0;h>w;++w){var _=o[f+w];o[f+w]=o[T],o[T++]=_}var A=l[m];l[m]=l[d],l[d++]=A}return d},"lo<p0":function(n,i,a,r,o,l,u){for(var h=2*n,f=h*a,T=f,d=a,y=i,m=a;r>m;++m,f+=h)if(o[f+y]<u)if(d===m)d+=1,T+=h;else{for(var w=0;h>w;++w){var _=o[f+w];o[f+w]=o[T],o[T++]=_}var A=l[m];l[m]=l[d],l[d++]=A}return d},"lo<=p0":function(n,i,a,r,o,l,u){for(var h=2*n,f=h*a,T=f,d=a,y=n+i,m=a;r>m;++m,f+=h)if(o[f+y]<=u)if(d===m)d+=1,T+=h;else{for(var w=0;h>w;++w){var _=o[f+w];o[f+w]=o[T],o[T++]=_}var A=l[m];l[m]=l[d],l[d++]=A}return d},"hi<=p0":function(n,i,a,r,o,l,u){for(var h=2*n,f=h*a,T=f,d=a,y=n+i,m=a;r>m;++m,f+=h)if(o[f+y]<=u)if(d===m)d+=1,T+=h;else{for(var w=0;h>w;++w){var _=o[f+w];o[f+w]=o[T],o[T++]=_}var A=l[m];l[m]=l[d],l[d++]=A}return d},"lo<p0&&p0<=hi":function(n,i,a,r,o,l,u){for(var h=2*n,f=h*a,T=f,d=a,y=i,m=n+i,w=a;r>w;++w,f+=h){var _=o[f+y],A=o[f+m];if(_<u&&u<=A)if(d===w)d+=1,T+=h;else{for(var p=0;h>p;++p){var L=o[f+p];o[f+p]=o[T],o[T++]=L}var M=l[w];l[w]=l[d],l[d++]=M}}return d},"lo<=p0&&p0<=hi":function(n,i,a,r,o,l,u){for(var h=2*n,f=h*a,T=f,d=a,y=i,m=n+i,w=a;r>w;++w,f+=h){var _=o[f+y],A=o[f+m];if(_<=u&&u<=A)if(d===w)d+=1,T+=h;else{for(var p=0;h>p;++p){var L=o[f+p];o[f+p]=o[T],o[T++]=L}var M=l[w];l[w]=l[d],l[d++]=M}}return d},"!(lo>=p0)&&!(p1>=hi)":function(n,i,a,r,o,l,u,h){for(var f=2*n,T=f*a,d=T,y=a,m=i,w=n+i,_=a;r>_;++_,T+=f){var A=o[T+m],p=o[T+w];if(!(A>=u||h>=p))if(y===_)y+=1,d+=f;else{for(var L=0;f>L;++L){var M=o[T+L];o[T+L]=o[d],o[d++]=M}var C=l[_];l[_]=l[y],l[y++]=C}}return y}}},1811:function(c){c.exports=function(f,T){T<=4*s?n(0,T-1,f):h(0,T-1,f)};var s=32;function n(f,T,d){for(var y=2*(f+1),m=f+1;m<=T;++m){for(var w=d[y++],_=d[y++],A=m,p=y-2;A-- >f;){var L=d[p-2],M=d[p-1];if(L<w||L===w&&M<_)break;d[p]=L,d[p+1]=M,p-=2}d[p]=w,d[p+1]=_}}function i(f,T,d){T*=2;var y=d[f*=2],m=d[f+1];d[f]=d[T],d[f+1]=d[T+1],d[T]=y,d[T+1]=m}function a(f,T,d){T*=2,d[f*=2]=d[T],d[f+1]=d[T+1]}function r(f,T,d,y){T*=2,d*=2;var m=y[f*=2],w=y[f+1];y[f]=y[T],y[f+1]=y[T+1],y[T]=y[d],y[T+1]=y[d+1],y[d]=m,y[d+1]=w}function o(f,T,d,y,m){T*=2,m[f*=2]=m[T],m[T]=d,m[f+1]=m[T+1],m[T+1]=y}function l(f,T,d){T*=2;var y=d[f*=2],m=d[T];return!(y<m)&&(y!==m||d[f+1]>d[T+1])}function u(f,T,d,y){var m=y[f*=2];return m<T||m===T&&y[f+1]<d}function h(f,T,d){var y=(T-f+1)/6|0,m=f+y,w=T-y,_=f+T>>1,A=_-y,p=_+y,L=m,M=A,C=_,R=p,I=w,D=f+1,F=T-1,q=0;l(L,M,d)&&(q=L,L=M,M=q),l(R,I,d)&&(q=R,R=I,I=q),l(L,C,d)&&(q=L,L=C,C=q),l(M,C,d)&&(q=M,M=C,C=q),l(L,R,d)&&(q=L,L=R,R=q),l(C,R,d)&&(q=C,C=R,R=q),l(M,I,d)&&(q=M,M=I,I=q),l(M,C,d)&&(q=M,M=C,C=q),l(R,I,d)&&(q=R,R=I,I=q);for(var z=d[2*M],V=d[2*M+1],X=d[2*R],j=d[2*R+1],H=2*L,G=2*C,ie=2*I,re=2*m,te=2*_,K=2*w,J=0;J<2;++J){var $=d[H+J],ae=d[G+J],ue=d[ie+J];d[re+J]=$,d[te+J]=ae,d[K+J]=ue}a(A,f,d),a(p,T,d);for(var ce=D;ce<=F;++ce)if(u(ce,z,V,d))ce!==D&&i(ce,D,d),++D;else if(!u(ce,X,j,d))for(;;){if(u(F,X,j,d)){u(F,z,V,d)?(r(ce,D,F,d),++D,--F):(i(ce,F,d),--F);break}if(--F<ce)break}o(f,D-1,z,V,d),o(T,F+1,X,j,d),D-2-f<=s?n(f,D-2,d):h(f,D-2,d),T-(F+2)<=s?n(F+2,T,d):h(F+2,T,d),F-D<=s?n(D,F,d):h(D,F,d)}},855:function(c,s,n){c.exports={init:function(A){var p=a.nextPow2(A);u.length<p&&(i.free(u),u=i.mallocInt32(p)),h.length<p&&(i.free(h),h=i.mallocInt32(p)),f.length<p&&(i.free(f),f=i.mallocInt32(p)),T.length<p&&(i.free(T),T=i.mallocInt32(p)),d.length<p&&(i.free(d),d=i.mallocInt32(p)),y.length<p&&(i.free(y),y=i.mallocInt32(p));var L=8*p;m.length<L&&(i.free(m),m=i.mallocDouble(L))},sweepBipartite:function(A,p,L,M,C,R,I,D,F,q){for(var z=0,V=2*A,X=A-1,j=V-1,H=L;H<M;++H){var G=R[H],ie=V*H;m[z++]=C[ie+X],m[z++]=-(G+1),m[z++]=C[ie+j],m[z++]=G}for(H=I;H<D;++H){G=q[H]+o;var re=V*H;m[z++]=F[re+X],m[z++]=-G,m[z++]=F[re+j],m[z++]=G}var te=z>>>1;r(m,te);var K=0,J=0;for(H=0;H<te;++H){var $=0|m[2*H+1];if($>=o)w(f,T,J--,$=$-o|0);else if($>=0)w(u,h,K--,$);else if($<=-o){$=-$-o|0;for(var ae=0;ae<K;++ae)if((ue=p(u[ae],$))!==void 0)return ue;_(f,T,J++,$)}else{for($=-$-1|0,ae=0;ae<J;++ae){var ue;if((ue=p($,f[ae]))!==void 0)return ue}_(u,h,K++,$)}}},sweepComplete:function(A,p,L,M,C,R,I,D,F,q){for(var z=0,V=2*A,X=A-1,j=V-1,H=L;H<M;++H){var G=R[H]+1<<1,ie=V*H;m[z++]=C[ie+X],m[z++]=-G,m[z++]=C[ie+j],m[z++]=G}for(H=I;H<D;++H){G=q[H]+1<<1;var re=V*H;m[z++]=F[re+X],m[z++]=1|-G,m[z++]=F[re+j],m[z++]=1|G}var te=z>>>1;r(m,te);var K=0,J=0,$=0;for(H=0;H<te;++H){var ae=0|m[2*H+1],ue=1&ae;if(H<te-1&&ae>>1==m[2*H+3]>>1&&(ue=2,H+=1),ae<0){for(var ce=-(ae>>1)-1,de=0;de<$;++de)if((pe=p(d[de],ce))!==void 0)return pe;if(ue!==0){for(de=0;de<K;++de)if((pe=p(u[de],ce))!==void 0)return pe}if(ue!==1)for(de=0;de<J;++de){var pe;if((pe=p(f[de],ce))!==void 0)return pe}ue===0?_(u,h,K++,ce):ue===1?_(f,T,J++,ce):ue===2&&_(d,y,$++,ce)}else ce=(ae>>1)-1,ue===0?w(u,h,K--,ce):ue===1?w(f,T,J--,ce):ue===2&&w(d,y,$--,ce)}},scanBipartite:function(A,p,L,M,C,R,I,D,F,q,z,V){var X=0,j=2*A,H=p,G=p+A,ie=1,re=1;M?re=o:ie=o;for(var te=C;te<R;++te){var K=te+ie,J=j*te;m[X++]=I[J+H],m[X++]=-K,m[X++]=I[J+G],m[X++]=K}for(te=F;te<q;++te){K=te+re;var $=j*te;m[X++]=z[$+H],m[X++]=-K}var ae=X>>>1;r(m,ae);var ue=0;for(te=0;te<ae;++te){var ce=0|m[2*te+1];if(ce<0){var de=!1;if((K=-ce)>=o?(de=!M,K-=o):(de=!!M,K-=1),de)_(u,h,ue++,K);else{var pe=V[K],me=j*K,be=z[me+p+1],we=z[me+p+1+A];e:for(var Te=0;Te<ue;++Te){var Le=u[Te],Ie=j*Le;if(!(we<I[Ie+p+1]||I[Ie+p+1+A]<be)){for(var _e=p+2;_e<A;++_e)if(z[me+_e+A]<I[Ie+_e]||I[Ie+_e+A]<z[me+_e])continue e;var fe,le=D[Le];if((fe=M?L(pe,le):L(le,pe))!==void 0)return fe}}}}else w(u,h,ue--,ce-ie)}},scanComplete:function(A,p,L,M,C,R,I,D,F,q,z){for(var V=0,X=2*A,j=p,H=p+A,G=M;G<C;++G){var ie=G+o,re=X*G;m[V++]=R[re+j],m[V++]=-ie,m[V++]=R[re+H],m[V++]=ie}for(G=D;G<F;++G){ie=G+1;var te=X*G;m[V++]=q[te+j],m[V++]=-ie}var K=V>>>1;r(m,K);var J=0;for(G=0;G<K;++G){var $=0|m[2*G+1];if($<0)if((ie=-$)>=o)u[J++]=ie-o;else{var ae=z[ie-=1],ue=X*ie,ce=q[ue+p+1],de=q[ue+p+1+A];e:for(var pe=0;pe<J;++pe){var me=u[pe],be=I[me];if(be===ae)break;var we=X*me;if(!(de<R[we+p+1]||R[we+p+1+A]<ce)){for(var Te=p+2;Te<A;++Te)if(q[ue+Te+A]<R[we+Te]||R[we+Te+A]<q[ue+Te])continue e;var Le=L(be,ae);if(Le!==void 0)return Le}}}else{for(ie=$-o,pe=J-1;pe>=0;--pe)if(u[pe]===ie){for(Te=pe+1;Te<J;++Te)u[Te-1]=u[Te];break}--J}}}};var i=n(1888),a=n(8828),r=n(1811),o=1<<28,l=1024,u=i.mallocInt32(l),h=i.mallocInt32(l),f=i.mallocInt32(l),T=i.mallocInt32(l),d=i.mallocInt32(l),y=i.mallocInt32(l),m=i.mallocDouble(8192);function w(A,p,L,M){var C=p[M],R=A[L-1];A[C]=R,p[R]=C}function _(A,p,L,M){A[L]=M,p[M]=L}},2538:function(c,s,n){var i=n(8902),a=n(5542),r=n(2272),o=n(5023);function l(f){return[Math.min(f[0],f[1]),Math.max(f[0],f[1])]}function u(f,T){return f[0]-T[0]||f[1]-T[1]}function h(f,T,d){return T in f?f[T]:d}c.exports=function(f,T,d){Array.isArray(T)?(d=d||{},T=T||[]):(d=T||{},T=[]);var y=!!h(d,"delaunay",!0),m=!!h(d,"interior",!0),w=!!h(d,"exterior",!0),_=!!h(d,"infinity",!1);if(!m&&!w||f.length===0)return[];var A=i(f,T);if(y||m!==w||_){for(var p=a(f.length,function(C){return C.map(l).sort(u)}(T)),L=0;L<A.length;++L){var M=A[L];p.addTriangle(M[0],M[1],M[2])}return y&&r(f,p),w?m?_?o(p,0,_):p.cells():o(p,1,_):o(p,-1)}return A}},2272:function(c,s,n){var i=n(2646)[4];function a(r,o,l,u,h,f){var T=o.opposite(u,h);if(!(T<0)){if(h<u){var d=u;u=h,h=d,d=f,f=T,T=d}o.isConstraint(u,h)||i(r[u],r[h],r[f],r[T])<0&&l.push(u,h)}}n(2478),c.exports=function(r,o){for(var l=[],u=r.length,h=o.stars,f=0;f<u;++f)for(var T=h[f],d=1;d<T.length;d+=2)if(!((_=T[d])<f||o.isConstraint(f,_))){for(var y=T[d-1],m=-1,w=1;w<T.length;w+=2)if(T[w-1]===_){m=T[w];break}m<0||i(r[f],r[_],r[y],r[m])<0&&l.push(f,_)}for(;l.length>0;){for(var _=l.pop(),A=(y=-1,m=-1,T=h[f=l.pop()],1);A<T.length;A+=2){var p=T[A-1],L=T[A];p===_?m=L:L===_&&(y=p)}y<0||m<0||i(r[f],r[_],r[y],r[m])>=0||(o.flip(f,_),a(r,o,l,y,f,m),a(r,o,l,f,m,y),a(r,o,l,m,_,y),a(r,o,l,_,y,m))}}},5023:function(c,s,n){var i,a=n(2478);function r(l,u,h,f,T,d,y){this.cells=l,this.neighbor=u,this.flags=f,this.constraint=h,this.active=T,this.next=d,this.boundary=y}function o(l,u){return l[0]-u[0]||l[1]-u[1]||l[2]-u[2]}c.exports=function(l,u,h){var f=function(I,D){for(var F=I.cells(),q=F.length,z=0;z<q;++z){var V=($=F[z])[0],X=$[1],j=$[2];X<j?X<V&&($[0]=X,$[1]=j,$[2]=V):j<V&&($[0]=j,$[1]=V,$[2]=X)}F.sort(o);var H=new Array(q);for(z=0;z<H.length;++z)H[z]=0;var G=[],ie=[],re=new Array(3*q),te=new Array(3*q),K=null;D&&(K=[]);var J=new r(F,re,te,H,G,ie,K);for(z=0;z<q;++z)for(var $=F[z],ae=0;ae<3;++ae){V=$[ae],X=$[(ae+1)%3];var ue=re[3*z+ae]=J.locate(X,V,I.opposite(X,V)),ce=te[3*z+ae]=I.isConstraint(V,X);ue<0&&(ce?ie.push(z):(G.push(z),H[z]=1),D&&K.push([X,V,-1]))}return J}(l,h);if(u===0)return h?f.cells.concat(f.boundary):f.cells;for(var T=1,d=f.active,y=f.next,m=f.flags,w=f.cells,_=f.constraint,A=f.neighbor;d.length>0||y.length>0;){for(;d.length>0;){var p=d.pop();if(m[p]!==-T){m[p]=T,w[p];for(var L=0;L<3;++L){var M=A[3*p+L];M>=0&&m[M]===0&&(_[3*p+L]?y.push(M):(d.push(M),m[M]=T))}}}var C=y;y=d,d=C,y.length=0,T=-T}var R=function(I,D,F){for(var q=0,z=0;z<I.length;++z)D[z]===F&&(I[q++]=I[z]);return I.length=q,I}(w,m,u);return h?R.concat(f.boundary):R},r.prototype.locate=(i=[0,0,0],function(l,u,h){var f=l,T=u,d=h;return u<h?u<l&&(f=u,T=h,d=l):h<l&&(f=h,T=l,d=u),f<0?-1:(i[0]=f,i[1]=T,i[2]=d,a.eq(this.cells,i,o))})},8902:function(c,s,n){var i=n(2478),a=n(3250)[3];function r(y,m,w,_,A){this.a=y,this.b=m,this.idx=w,this.lowerIds=_,this.upperIds=A}function o(y,m,w,_){this.a=y,this.b=m,this.type=w,this.idx=_}function l(y,m){var w=y.a[0]-m.a[0]||y.a[1]-m.a[1]||y.type-m.type;return w||(y.type!==0&&(w=a(y.a,y.b,m.b))?w:y.idx-m.idx)}function u(y,m){return a(y.a,y.b,m)}function h(y,m,w,_,A){for(var p=i.lt(m,_,u),L=i.gt(m,_,u),M=p;M<L;++M){for(var C=m[M],R=C.lowerIds,I=R.length;I>1&&a(w[R[I-2]],w[R[I-1]],_)>0;)y.push([R[I-1],R[I-2],A]),I-=1;R.length=I,R.push(A);var D=C.upperIds;for(I=D.length;I>1&&a(w[D[I-2]],w[D[I-1]],_)<0;)y.push([D[I-2],D[I-1],A]),I-=1;D.length=I,D.push(A)}}function f(y,m){var w;return(w=y.a[0]<m.a[0]?a(y.a,y.b,m.a):a(m.b,m.a,y.a))?w:(w=m.b[0]<y.b[0]?a(y.a,y.b,m.b):a(m.b,m.a,y.b))||y.idx-m.idx}function T(y,m,w){var _=i.le(y,w,f),A=y[_],p=A.upperIds,L=p[p.length-1];A.upperIds=[L],y.splice(_+1,0,new r(w.a,w.b,w.idx,[L],p))}function d(y,m,w){var _=w.a;w.a=w.b,w.b=_;var A=i.eq(y,w,f),p=y[A];y[A-1].upperIds=p.upperIds,y.splice(A,1)}c.exports=function(y,m){for(var w=y.length,_=m.length,A=[],p=0;p<w;++p)A.push(new o(y[p],null,0,p));for(p=0;p<_;++p){var L=m[p],M=y[L[0]],C=y[L[1]];M[0]<C[0]?A.push(new o(M,C,2,p),new o(C,M,1,p)):M[0]>C[0]&&A.push(new o(C,M,2,p),new o(M,C,1,p))}A.sort(l);for(var R=A[0].a[0]-(1+Math.abs(A[0].a[0]))*Math.pow(2,-52),I=[new r([R,1],[R,0],-1,[],[])],D=[],F=(p=0,A.length);p<F;++p){var q=A[p],z=q.type;z===0?h(D,I,y,q.a,q.idx):z===2?T(I,0,q):d(I,0,q)}return D}},5542:function(c,s,n){var i=n(2478);function a(l,u){this.stars=l,this.edges=u}c.exports=function(l,u){for(var h=new Array(l),f=0;f<l;++f)h[f]=[];return new a(h,u)};var r=a.prototype;function o(l,u,h){for(var f=1,T=l.length;f<T;f+=2)if(l[f-1]===u&&l[f]===h)return l[f-1]=l[T-2],l[f]=l[T-1],void(l.length=T-2)}r.isConstraint=function(){var l=[0,0];function u(h,f){return h[0]-f[0]||h[1]-f[1]}return function(h,f){return l[0]=Math.min(h,f),l[1]=Math.max(h,f),i.eq(this.edges,l,u)>=0}}(),r.removeTriangle=function(l,u,h){var f=this.stars;o(f[l],u,h),o(f[u],h,l),o(f[h],l,u)},r.addTriangle=function(l,u,h){var f=this.stars;f[l].push(u,h),f[u].push(h,l),f[h].push(l,u)},r.opposite=function(l,u){for(var h=this.stars[u],f=1,T=h.length;f<T;f+=2)if(h[f]===l)return h[f-1];return-1},r.flip=function(l,u){var h=this.opposite(l,u),f=this.opposite(u,l);this.removeTriangle(l,u,h),this.removeTriangle(u,l,f),this.addTriangle(l,f,h),this.addTriangle(u,h,f)},r.edges=function(){for(var l=this.stars,u=[],h=0,f=l.length;h<f;++h)for(var T=l[h],d=0,y=T.length;d<y;d+=2)u.push([T[d],T[d+1]]);return u},r.cells=function(){for(var l=this.stars,u=[],h=0,f=l.length;h<f;++h)for(var T=l[h],d=0,y=T.length;d<y;d+=2){var m=T[d],w=T[d+1];h<Math.min(m,w)&&u.push([h,m,w])}return u}},2419:function(c){c.exports=function(s){for(var n=1,i=1;i<s.length;++i)for(var a=0;a<i;++a)if(s[i]<s[a])n=-n;else if(s[a]===s[i])return 0;return n}},3628:function(c,s,n){var i=n(1338),a=n(727);function r(u,h){for(var f=0,T=u.length,d=0;d<T;++d)f+=u[d]*h[d];return f}function o(u){var h=u.length;if(h===0)return[];u[0].length;var f=i([u.length+1,u.length+1],1),T=i([u.length+1],1);f[h][h]=0;for(var d=0;d<h;++d){for(var y=0;y<=d;++y)f[y][d]=f[d][y]=2*r(u[d],u[y]);T[d]=r(u[d],u[d])}var m=a(f,T),w=0,_=m[h+1];for(d=0;d<_.length;++d)w+=_[d];var A=new Array(h);for(d=0;d<h;++d){_=m[d];var p=0;for(y=0;y<_.length;++y)p+=_[y];A[d]=p/w}return A}function l(u){if(u.length===0)return[];for(var h=u[0].length,f=i([h]),T=o(u),d=0;d<u.length;++d)for(var y=0;y<h;++y)f[y]+=u[d][y]*T[d];return f}l.barycenetric=o,c.exports=l},6037:function(c,s,n){c.exports=function(a){for(var r=i(a),o=0,l=0;l<a.length;++l)for(var u=a[l],h=0;h<r.length;++h)o+=Math.pow(u[h]-r[h],2);return Math.sqrt(o/a.length)};var i=n(3628)},332:function(c,s,n){c.exports=function(L,M,C){var R;if(C){R=M;for(var I=new Array(M.length),D=0;D<M.length;++D){var F=M[D];I[D]=[F[0],F[1],C[D]]}M=I}for(var q=function(z,V,X){var j=m(z,[],y(z));return A(V,j,X),!!j}(L,M,!!C);p(L,M,!!C);)q=!0;if(C&&q)for(R.length=0,C.length=0,D=0;D<M.length;++D)F=M[D],R.push([F[0],F[1]]),C.push(F[2]);return q};var i=n(1755),a=n(6867),r=n(1125),o=n(7842),l=n(1318),u=n(946),h=n(5838),f=n(1278),T=n(3637);function d(L){var M=u(L);return[f(M,-1/0),f(M,1/0)]}function y(L){for(var M=new Array(L.length),C=0;C<L.length;++C){var R=L[C];M[C]=[f(R[0],-1/0),f(R[1],-1/0),f(R[0],1/0),f(R[1],1/0)]}return M}function m(L,M,C){for(var R=M.length,I=new i(R),D=[],F=0;F<M.length;++F){var q=M[F],z=d(q[0]),V=d(q[1]);D.push([f(z[0],-1/0),f(V[0],-1/0),f(z[1],1/0),f(V[1],1/0)])}a(D,function(ie,re){I.link(ie,re)});var X=!0,j=new Array(R);for(F=0;F<R;++F)(G=I.find(F))!==F&&(X=!1,L[G]=[Math.min(L[F][0],L[G][0]),Math.min(L[F][1],L[G][1])]);if(X)return null;var H=0;for(F=0;F<R;++F){var G;(G=I.find(F))===F?(j[F]=H,L[H++]=L[F]):j[F]=-1}for(L.length=H,F=0;F<R;++F)j[F]<0&&(j[F]=j[I.find(F)]);return j}function w(L,M){return L[0]-M[0]||L[1]-M[1]}function _(L,M){return L[0]-M[0]||L[1]-M[1]||(L[2]<M[2]?-1:L[2]>M[2]?1:0)}function A(L,M,C){if(L.length!==0){if(M)for(var R=0;R<L.length;++R){var I=M[(F=L[R])[0]],D=M[F[1]];F[0]=Math.min(I,D),F[1]=Math.max(I,D)}else for(R=0;R<L.length;++R){var F;I=(F=L[R])[0],D=F[1],F[0]=Math.min(I,D),F[1]=Math.max(I,D)}C?L.sort(_):L.sort(w);var q=1;for(R=1;R<L.length;++R){var z=L[R-1],V=L[R];(V[0]!==z[0]||V[1]!==z[1]||C&&V[2]!==z[2])&&(L[q++]=V)}L.length=q}}function p(L,M,C){var R=function(z,V){for(var X=new Array(V.length),j=0;j<V.length;++j){var H=V[j],G=z[H[0]],ie=z[H[1]];X[j]=[f(Math.min(G[0],ie[0]),-1/0),f(Math.min(G[1],ie[1]),-1/0),f(Math.max(G[0],ie[0]),1/0),f(Math.max(G[1],ie[1]),1/0)]}return X}(L,M),I=function(z,V,X){var j=[];return a(X,function(H,G){var ie=V[H],re=V[G];if(ie[0]!==re[0]&&ie[0]!==re[1]&&ie[1]!==re[0]&&ie[1]!==re[1]){var te=z[ie[0]],K=z[ie[1]],J=z[re[0]],$=z[re[1]];r(te,K,J,$)&&j.push([H,G])}}),j}(L,M,R),D=function(z,V,X,j){var H=[];return a(X,j,function(G,ie){var re=V[G];if(re[0]!==ie&&re[1]!==ie){var te=z[ie],K=z[re[0]],J=z[re[1]];r(K,J,te,te)&&H.push([G,ie])}}),H}(L,M,R,y(L)),F=function(z,V,X,j,H){var G,ie,re=z.map(function(fe){return[o(fe[0]),o(fe[1])]});for(G=0;G<X.length;++G){var te=X[G];ie=te[0];var K=te[1],J=V[ie],$=V[K],ae=T(h(z[J[0]]),h(z[J[1]]),h(z[$[0]]),h(z[$[1]]));if(ae){var ue=z.length;z.push([u(ae[0]),u(ae[1])]),re.push(ae),j.push([ie,ue],[K,ue])}}for(j.sort(function(fe,le){if(fe[0]!==le[0])return fe[0]-le[0];var ye=re[fe[1]],Oe=re[le[1]];return l(ye[0],Oe[0])||l(ye[1],Oe[1])}),G=j.length-1;G>=0;--G){var ce=V[ie=(Ie=j[G])[0]],de=ce[0],pe=ce[1],me=z[de],be=z[pe];if((me[0]-be[0]||me[1]-be[1])<0){var we=de;de=pe,pe=we}ce[0]=de;var Te,Le=ce[1]=Ie[1];for(H&&(Te=ce[2]);G>0&&j[G-1][0]===ie;){var Ie,_e=(Ie=j[--G])[1];H?V.push([Le,_e,Te]):V.push([Le,_e]),Le=_e}H?V.push([Le,pe,Te]):V.push([Le,pe])}return re}(L,M,I,D,C),q=m(L,F);return A(M,q,C),!!q||I.length>0||D.length>0}},3637:function(c,s,n){c.exports=function(T,d,y,m){var w=l(d,T),_=l(m,y),A=f(w,_);if(o(A)===0)return null;var p=f(_,l(T,y)),L=a(p,A),M=h(w,L);return u(T,M)};var i=n(6504),a=n(8697),r=n(5572),o=n(7721),l=n(544),u=n(2653),h=n(8987);function f(T,d){return r(i(T[0],d[1]),i(T[1],d[0]))}},3642:function(c){c.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},6729:function(c,s,n){var i=n(3642),a=n(395);function r(u){return[u[0]/255,u[1]/255,u[2]/255,u[3]]}function o(u){for(var h,f="#",T=0;T<3;++T)f+=("00"+(h=(h=u[T]).toString(16))).substr(h.length);return f}function l(u){return"rgba("+u.join(",")+")"}c.exports=function(u){var h,f,T,d,y,m,w,_,A,p;if(u||(u={}),_=(u.nshades||72)-1,w=u.format||"hex",(m=u.colormap)||(m="jet"),typeof m=="string"){if(m=m.toLowerCase(),!i[m])throw Error(m+" not a supported colorscale");y=i[m]}else{if(!Array.isArray(m))throw Error("unsupported colormap option",m);y=m.slice()}if(y.length>_+1)throw new Error(m+" map requires nshades to be at least size "+y.length);A=Array.isArray(u.alpha)?u.alpha.length!==2?[1,1]:u.alpha.slice():typeof u.alpha=="number"?[u.alpha,u.alpha]:[1,1],h=y.map(function(I){return Math.round(I.index*_)}),A[0]=Math.min(Math.max(A[0],0),1),A[1]=Math.min(Math.max(A[1],0),1);var L=y.map(function(I,D){var F=y[D].index,q=y[D].rgb.slice();return q.length===4&&q[3]>=0&&q[3]<=1||(q[3]=A[0]+(A[1]-A[0])*F),q}),M=[];for(p=0;p<h.length-1;++p){d=h[p+1]-h[p],f=L[p],T=L[p+1];for(var C=0;C<d;C++){var R=C/d;M.push([Math.round(a(f[0],T[0],R)),Math.round(a(f[1],T[1],R)),Math.round(a(f[2],T[2],R)),a(f[3],T[3],R)])}}return M.push(y[y.length-1].rgb.concat(A[1])),w==="hex"?M=M.map(o):w==="rgbaString"?M=M.map(l):w==="float"&&(M=M.map(r)),M}},3140:function(c,s,n){c.exports=function(h,f,T,d){var y=i(f,T,d);if(y===0){var m=a(i(h,f,T)),w=a(i(h,f,d));if(m===w){if(m===0){var _=u(h,f,T);return _===u(h,f,d)?0:_?1:-1}return 0}return w===0?m>0||u(h,f,d)?-1:1:m===0?w>0||u(h,f,T)?1:-1:a(w-m)}var A=i(h,f,T);return A>0?y>0&&i(h,f,d)>0?1:-1:A<0?y>0||i(h,f,d)>0?1:-1:i(h,f,d)>0||u(h,f,T)?1:-1};var i=n(3250),a=n(8572),r=n(9362),o=n(5382),l=n(8210);function u(h,f,T){var d=r(h[0],-f[0]),y=r(h[1],-f[1]),m=r(T[0],-f[0]),w=r(T[1],-f[1]),_=l(o(d,m),o(y,w));return _[_.length-1]>=0}},8572:function(c){c.exports=function(s){return s<0?-1:s>0?1:0}},8507:function(c){c.exports=function(i,a){var r=i.length,o=i.length-a.length;if(o)return o;switch(r){case 0:return 0;case 1:return i[0]-a[0];case 2:return i[0]+i[1]-a[0]-a[1]||s(i[0],i[1])-s(a[0],a[1]);case 3:var l=i[0]+i[1],u=a[0]+a[1];if(o=l+i[2]-(u+a[2]))return o;var h=s(i[0],i[1]),f=s(a[0],a[1]);return s(h,i[2])-s(f,a[2])||s(h+i[2],l)-s(f+a[2],u);case 4:var T=i[0],d=i[1],y=i[2],m=i[3],w=a[0],_=a[1],A=a[2],p=a[3];return T+d+y+m-(w+_+A+p)||s(T,d,y,m)-s(w,_,A,p,w)||s(T+d,T+y,T+m,d+y,d+m,y+m)-s(w+_,w+A,w+p,_+A,_+p,A+p)||s(T+d+y,T+d+m,T+y+m,d+y+m)-s(w+_+A,w+_+p,w+A+p,_+A+p);default:for(var L=i.slice().sort(n),M=a.slice().sort(n),C=0;C<r;++C)if(o=L[C]-M[C])return o;return 0}};var s=Math.min;function n(i,a){return i-a}},3788:function(c,s,n){var i=n(8507),a=n(2419);c.exports=function(r,o){return i(r,o)||a(r)-a(o)}},7352:function(c,s,n){var i=n(5721),a=n(4750),r=n(2690);c.exports=function(o){var l=o.length;if(l===0)return[];if(l===1)return[[0]];var u=o[0].length;return u===0?[]:u===1?i(o):u===2?a(o):r(o,u)}},5721:function(c){c.exports=function(s){for(var n=0,i=0,a=1;a<s.length;++a)s[a][0]<s[n][0]&&(n=a),s[a][0]>s[i][0]&&(i=a);return n<i?[[n],[i]]:n>i?[[i],[n]]:[[n]]}},4750:function(c,s,n){c.exports=function(a){var r=i(a),o=r.length;if(o<=2)return[];for(var l=new Array(o),u=r[o-1],h=0;h<o;++h){var f=r[h];l[h]=[u,f],u=f}return l};var i=n(3090)},2690:function(c,s,n){c.exports=function(r,o){try{return i(r,!0)}catch{var l=a(r);if(l.length<=o)return[];var u=function(f,T){for(var d=f.length,y=new Array(d),m=0;m<T.length;++m)y[m]=f[T[m]];var w=T.length;for(m=0;m<d;++m)T.indexOf(m)<0&&(y[w++]=f[m]);return y}(r,l);return function(f,T){for(var d=f.length,y=T.length,m=0;m<d;++m)for(var w=f[m],_=0;_<w.length;++_){var A=w[_];if(A<y)w[_]=T[A];else{A-=y;for(var p=0;p<y;++p)A>=T[p]&&(A+=1);w[_]=A}}return f}(i(u,!0),l)}};var i=n(8954),a=n(3952)},4769:function(c){c.exports=function(s,n,i,a,r,o){var l=r-1,u=r*r,h=l*l,f=(1+2*r)*h,T=r*h,d=u*(3-2*r),y=u*l;if(s.length){o||(o=new Array(s.length));for(var m=s.length-1;m>=0;--m)o[m]=f*s[m]+T*n[m]+d*i[m]+y*a[m];return o}return f*s+T*n+d*i+y*a},c.exports.derivative=function(s,n,i,a,r,o){var l=6*r*r-6*r,u=3*r*r-4*r+1,h=-6*r*r+6*r,f=3*r*r-2*r;if(s.length){o||(o=new Array(s.length));for(var T=s.length-1;T>=0;--T)o[T]=l*s[T]+u*n[T]+h*i[T]+f*a[T];return o}return l*s+u*n+h*i[T]+f*a}},7642:function(c,s,n){var i=n(8954),a=n(1682);function r(l,u){this.point=l,this.index=u}function o(l,u){for(var h=l.point,f=u.point,T=h.length,d=0;d<T;++d){var y=f[d]-h[d];if(y)return y}return 0}c.exports=function(l,u){var h=l.length;if(h===0)return[];var f=l[0].length;if(f<1)return[];if(f===1)return function(F,q,z){if(F===1)return z?[[-1,0]]:[];var V=q.map(function(ie,re){return[ie[0],re]});V.sort(function(ie,re){return ie[0]-re[0]});for(var X=new Array(F-1),j=1;j<F;++j){var H=V[j-1],G=V[j];X[j-1]=[H[1],G[1]]}return z&&X.push([-1,X[0][1]],[X[F-1][1],-1]),X}(h,l,u);for(var T=new Array(h),d=1,y=0;y<h;++y){for(var m=l[y],w=new Array(f+1),_=0,A=0;A<f;++A){var p=m[A];w[A]=p,_+=p*p}w[f]=_,T[y]=new r(w,y),d=Math.max(_,d)}a(T,o),h=T.length;var L=new Array(h+f+1),M=new Array(h+f+1),C=(f+1)*(f+1)*d,R=new Array(f+1);for(y=0;y<=f;++y)R[y]=0;for(R[f]=C,L[0]=R.slice(),M[0]=-1,y=0;y<=f;++y)(w=R.slice())[y]=1,L[y+1]=w,M[y+1]=-1;for(y=0;y<h;++y){var I=T[y];L[y+f+1]=I.point,M[y+f+1]=I.index}var D=i(L,!1);if(D=u?D.filter(function(F){for(var q=0,z=0;z<=f;++z){var V=M[F[z]];if(V<0&&++q>=2)return!1;F[z]=V}return!0}):D.filter(function(F){for(var q=0;q<=f;++q){var z=M[F[q]];if(z<0)return!1;F[q]=z}return!0}),1&f)for(y=0;y<D.length;++y)w=(I=D[y])[0],I[0]=I[1],I[1]=w;return D}},2361:function(c){var s=!1;if(typeof Float64Array<"u"){var n=new Float64Array(1),i=new Uint32Array(n.buffer);n[0]=1,s=!0,i[1]===1072693248?(c.exports=function(r){return n[0]=r,[i[0],i[1]]},c.exports.pack=function(r,o){return i[0]=r,i[1]=o,n[0]},c.exports.lo=function(r){return n[0]=r,i[0]},c.exports.hi=function(r){return n[0]=r,i[1]}):i[0]===1072693248?(c.exports=function(r){return n[0]=r,[i[1],i[0]]},c.exports.pack=function(r,o){return i[1]=r,i[0]=o,n[0]},c.exports.lo=function(r){return n[0]=r,i[1]},c.exports.hi=function(r){return n[0]=r,i[0]}):s=!1}if(!s){var a=new Buffer(8);c.exports=function(r){return a.writeDoubleLE(r,0,!0),[a.readUInt32LE(0,!0),a.readUInt32LE(4,!0)]},c.exports.pack=function(r,o){return a.writeUInt32LE(r,0,!0),a.writeUInt32LE(o,4,!0),a.readDoubleLE(0,!0)},c.exports.lo=function(r){return a.writeDoubleLE(r,0,!0),a.readUInt32LE(0,!0)},c.exports.hi=function(r){return a.writeDoubleLE(r,0,!0),a.readUInt32LE(4,!0)}}c.exports.sign=function(r){return c.exports.hi(r)>>>31},c.exports.exponent=function(r){return(c.exports.hi(r)<<1>>>21)-1023},c.exports.fraction=function(r){var o=c.exports.lo(r),l=c.exports.hi(r),u=1048575&l;return 2146435072&l&&(u+=1048576),[o,u]},c.exports.denormalized=function(r){return!(2146435072&c.exports.hi(r))}},1338:function(c){function s(n,i,a){var r=0|n[a];if(r<=0)return[];var o,l=new Array(r);if(a===n.length-1)for(o=0;o<r;++o)l[o]=i;else for(o=0;o<r;++o)l[o]=s(n,i,a+1);return l}c.exports=function(n,i){switch(i===void 0&&(i=0),typeof n){case"number":if(n>0)return function(a,r){var o,l;for(o=new Array(a),l=0;l<a;++l)o[l]=r;return o}(0|n,i);break;case"object":if(typeof n.length=="number")return s(n,i,0)}return[]}},3134:function(c,s,n){c.exports=function(a,r){var o=a.length;if(typeof r!="number"){r=0;for(var l=0;l<o;++l){var u=a[l];r=Math.max(r,u[0],u[1])}r=1+(0|r)}r|=0;var h=new Array(r);for(l=0;l<r;++l)h[l]=[];for(l=0;l<o;++l)h[(u=a[l])[0]].push(u[1]),h[u[1]].push(u[0]);for(var f=0;f<r;++f)i(h[f],function(T,d){return T-d});return h};var i=n(1682)},5033:function(c){c.exports=function(s,n,i){var a=n||0,r=i||1;return[[s[12]+s[0],s[13]+s[1],s[14]+s[2],s[15]+s[3]],[s[12]-s[0],s[13]-s[1],s[14]-s[2],s[15]-s[3]],[s[12]+s[4],s[13]+s[5],s[14]+s[6],s[15]+s[7]],[s[12]-s[4],s[13]-s[5],s[14]-s[6],s[15]-s[7]],[a*s[12]+s[8],a*s[13]+s[9],a*s[14]+s[10],a*s[15]+s[11]],[r*s[12]-s[8],r*s[13]-s[9],r*s[14]-s[10],r*s[15]-s[11]]]}},9215:function(c,s,n){c.exports=function(h,f,T){switch(arguments.length){case 0:return new o([0],[0],0);case 1:return typeof h=="number"?new o(d=u(h),d,0):new o(h,u(h.length),0);case 2:var d;if(typeof f=="number")return new o(h,d=u(h.length),+f);T=0;case 3:if(h.length!==f.length)throw new Error("state and velocity lengths must match");return new o(h,f,T)}};var i=n(4769),a=n(2478);function r(h,f,T){return Math.min(f,Math.max(h,T))}function o(h,f,T){this.dimension=h.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var d=0;d<this.dimension;++d)this.bounds[0][d]=-1/0,this.bounds[1][d]=1/0;this._state=h.slice().reverse(),this._velocity=f.slice().reverse(),this._time=[T],this._scratch=[h.slice(),h.slice(),h.slice(),h.slice(),h.slice()]}var l=o.prototype;function u(h){for(var f=new Array(h),T=0;T<h;++T)f[T]=0;return f}l.flush=function(h){var f=a.gt(this._time,h)-1;f<=0||(this._time.splice(0,f),this._state.splice(0,f*this.dimension),this._velocity.splice(0,f*this.dimension))},l.curve=function(h){var f=this._time,T=f.length,d=a.le(f,h),y=this._scratch[0],m=this._state,w=this._velocity,_=this.dimension,A=this.bounds;if(d<0)for(var p=_-1,L=0;L<_;++L,--p)y[L]=m[p];else if(d>=T-1){p=m.length-1;var M=h-f[T-1];for(L=0;L<_;++L,--p)y[L]=m[p]+M*w[p]}else{p=_*(d+1)-1;var C=f[d],R=f[d+1]-C||1,I=this._scratch[1],D=this._scratch[2],F=this._scratch[3],q=this._scratch[4],z=!0;for(L=0;L<_;++L,--p)I[L]=m[p],F[L]=w[p]*R,D[L]=m[p+_],q[L]=w[p+_]*R,z=z&&I[L]===D[L]&&F[L]===q[L]&&F[L]===0;if(z)for(L=0;L<_;++L)y[L]=I[L];else i(I,F,D,q,(h-C)/R,y)}var V=A[0],X=A[1];for(L=0;L<_;++L)y[L]=r(V[L],X[L],y[L]);return y},l.dcurve=function(h){var f=this._time,T=f.length,d=a.le(f,h),y=this._scratch[0],m=this._state,w=this._velocity,_=this.dimension;if(d>=T-1)for(var A=m.length-1,p=(f[T-1],0);p<_;++p,--A)y[p]=w[A];else{A=_*(d+1)-1;var L=f[d],M=f[d+1]-L||1,C=this._scratch[1],R=this._scratch[2],I=this._scratch[3],D=this._scratch[4],F=!0;for(p=0;p<_;++p,--A)C[p]=m[A],I[p]=w[A]*M,R[p]=m[A+_],D[p]=w[A+_]*M,F=F&&C[p]===R[p]&&I[p]===D[p]&&I[p]===0;if(F)for(p=0;p<_;++p)y[p]=0;else for(i.derivative(C,I,R,D,(h-L)/M,y),p=0;p<_;++p)y[p]/=M}return y},l.lastT=function(){var h=this._time;return h[h.length-1]},l.stable=function(){for(var h=this._velocity,f=h.length,T=this.dimension-1;T>=0;--T)if(h[--f])return!1;return!0},l.jump=function(h){var f=this.lastT(),T=this.dimension;if(!(h<f||arguments.length!==T+1)){var d=this._state,y=this._velocity,m=d.length-this.dimension,w=this.bounds,_=w[0],A=w[1];this._time.push(f,h);for(var p=0;p<2;++p)for(var L=0;L<T;++L)d.push(d[m++]),y.push(0);for(this._time.push(h),L=T;L>0;--L)d.push(r(_[L-1],A[L-1],arguments[L])),y.push(0)}},l.push=function(h){var f=this.lastT(),T=this.dimension;if(!(h<f||arguments.length!==T+1)){var d=this._state,y=this._velocity,m=d.length-this.dimension,w=h-f,_=this.bounds,A=_[0],p=_[1],L=w>1e-6?1/w:0;this._time.push(h);for(var M=T;M>0;--M){var C=r(A[M-1],p[M-1],arguments[M]);d.push(C),y.push((C-d[m++])*L)}}},l.set=function(h){var f=this.dimension;if(!(h<this.lastT()||arguments.length!==f+1)){var T=this._state,d=this._velocity,y=this.bounds,m=y[0],w=y[1];this._time.push(h);for(var _=f;_>0;--_)T.push(r(m[_-1],w[_-1],arguments[_])),d.push(0)}},l.move=function(h){var f=this.lastT(),T=this.dimension;if(!(h<=f||arguments.length!==T+1)){var d=this._state,y=this._velocity,m=d.length-this.dimension,w=this.bounds,_=w[0],A=w[1],p=h-f,L=p>1e-6?1/p:0;this._time.push(h);for(var M=T;M>0;--M){var C=arguments[M];d.push(r(_[M-1],A[M-1],d[m++]+C)),y.push(C*L)}}},l.idle=function(h){var f=this.lastT();if(!(h<f)){var T=this.dimension,d=this._state,y=this._velocity,m=d.length-T,w=this.bounds,_=w[0],A=w[1],p=h-f;this._time.push(h);for(var L=T-1;L>=0;--L)d.push(r(_[L],A[L],d[m]+p*y[m])),y.push(0),m+=1}}},3840:function(c){function s(m,w,_,A,p,L){this._color=m,this.key=w,this.value=_,this.left=A,this.right=p,this._count=L}function n(m){return new s(m._color,m.key,m.value,m.left,m.right,m._count)}function i(m,w){return new s(m,w.key,w.value,w.left,w.right,w._count)}function a(m){m._count=1+(m.left?m.left._count:0)+(m.right?m.right._count:0)}function r(m,w){this._compare=m,this.root=w}c.exports=function(m){return new r(m||y,null)};var o=r.prototype;function l(m,w){var _;return w.left&&(_=l(m,w.left))?_:(_=m(w.key,w.value))||(w.right?l(m,w.right):void 0)}function u(m,w,_,A){if(w(m,A.key)<=0){var p;if(A.left&&(p=u(m,w,_,A.left))||(p=_(A.key,A.value)))return p}if(A.right)return u(m,w,_,A.right)}function h(m,w,_,A,p){var L,M=_(m,p.key),C=_(w,p.key);if(M<=0&&(p.left&&(L=h(m,w,_,A,p.left))||C>0&&(L=A(p.key,p.value))))return L;if(C>0&&p.right)return h(m,w,_,A,p.right)}function f(m,w){this.tree=m,this._stack=w}Object.defineProperty(o,"keys",{get:function(){var m=[];return this.forEach(function(w,_){m.push(w)}),m}}),Object.defineProperty(o,"values",{get:function(){var m=[];return this.forEach(function(w,_){m.push(_)}),m}}),Object.defineProperty(o,"length",{get:function(){return this.root?this.root._count:0}}),o.insert=function(m,w){for(var _=this._compare,A=this.root,p=[],L=[];A;){var M=_(m,A.key);p.push(A),L.push(M),A=M<=0?A.left:A.right}p.push(new s(0,m,w,null,null,1));for(var C=p.length-2;C>=0;--C)A=p[C],L[C]<=0?p[C]=new s(A._color,A.key,A.value,p[C+1],A.right,A._count+1):p[C]=new s(A._color,A.key,A.value,A.left,p[C+1],A._count+1);for(C=p.length-1;C>1;--C){var R=p[C-1];if(A=p[C],R._color===1||A._color===1)break;var I=p[C-2];if(I.left===R)if(R.left===A){if(!(D=I.right)||D._color!==0){I._color=0,I.left=R.right,R._color=1,R.right=I,p[C-2]=R,p[C-1]=A,a(I),a(R),C>=3&&((F=p[C-3]).left===I?F.left=R:F.right=R);break}R._color=1,I.right=i(1,D),I._color=0,C-=1}else{if(!(D=I.right)||D._color!==0){R.right=A.left,I._color=0,I.left=A.right,A._color=1,A.left=R,A.right=I,p[C-2]=A,p[C-1]=R,a(I),a(R),a(A),C>=3&&((F=p[C-3]).left===I?F.left=A:F.right=A);break}R._color=1,I.right=i(1,D),I._color=0,C-=1}else if(R.right===A){if(!(D=I.left)||D._color!==0){I._color=0,I.right=R.left,R._color=1,R.left=I,p[C-2]=R,p[C-1]=A,a(I),a(R),C>=3&&((F=p[C-3]).right===I?F.right=R:F.left=R);break}R._color=1,I.left=i(1,D),I._color=0,C-=1}else{var D;if(!(D=I.left)||D._color!==0){var F;R.left=A.right,I._color=0,I.right=A.left,A._color=1,A.right=R,A.left=I,p[C-2]=A,p[C-1]=R,a(I),a(R),a(A),C>=3&&((F=p[C-3]).right===I?F.right=A:F.left=A);break}R._color=1,I.left=i(1,D),I._color=0,C-=1}}return p[0]._color=1,new r(_,p[0])},o.forEach=function(m,w,_){if(this.root)switch(arguments.length){case 1:return l(m,this.root);case 2:return u(w,this._compare,m,this.root);case 3:return this._compare(w,_)>=0?void 0:h(w,_,this._compare,m,this.root)}},Object.defineProperty(o,"begin",{get:function(){for(var m=[],w=this.root;w;)m.push(w),w=w.left;return new f(this,m)}}),Object.defineProperty(o,"end",{get:function(){for(var m=[],w=this.root;w;)m.push(w),w=w.right;return new f(this,m)}}),o.at=function(m){if(m<0)return new f(this,[]);for(var w=this.root,_=[];;){if(_.push(w),w.left){if(m<w.left._count){w=w.left;continue}m-=w.left._count}if(!m)return new f(this,_);if(m-=1,!w.right||m>=w.right._count)break;w=w.right}return new f(this,[])},o.ge=function(m){for(var w=this._compare,_=this.root,A=[],p=0;_;){var L=w(m,_.key);A.push(_),L<=0&&(p=A.length),_=L<=0?_.left:_.right}return A.length=p,new f(this,A)},o.gt=function(m){for(var w=this._compare,_=this.root,A=[],p=0;_;){var L=w(m,_.key);A.push(_),L<0&&(p=A.length),_=L<0?_.left:_.right}return A.length=p,new f(this,A)},o.lt=function(m){for(var w=this._compare,_=this.root,A=[],p=0;_;){var L=w(m,_.key);A.push(_),L>0&&(p=A.length),_=L<=0?_.left:_.right}return A.length=p,new f(this,A)},o.le=function(m){for(var w=this._compare,_=this.root,A=[],p=0;_;){var L=w(m,_.key);A.push(_),L>=0&&(p=A.length),_=L<0?_.left:_.right}return A.length=p,new f(this,A)},o.find=function(m){for(var w=this._compare,_=this.root,A=[];_;){var p=w(m,_.key);if(A.push(_),p===0)return new f(this,A);_=p<=0?_.left:_.right}return new f(this,[])},o.remove=function(m){var w=this.find(m);return w?w.remove():this},o.get=function(m){for(var w=this._compare,_=this.root;_;){var A=w(m,_.key);if(A===0)return _.value;_=A<=0?_.left:_.right}};var T=f.prototype;function d(m,w){m.key=w.key,m.value=w.value,m.left=w.left,m.right=w.right,m._color=w._color,m._count=w._count}function y(m,w){return m<w?-1:m>w?1:0}Object.defineProperty(T,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(T,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),T.clone=function(){return new f(this.tree,this._stack.slice())},T.remove=function(){var m=this._stack;if(m.length===0)return this.tree;var w=new Array(m.length),_=m[m.length-1];w[w.length-1]=new s(_._color,_.key,_.value,_.left,_.right,_._count);for(var A=m.length-2;A>=0;--A)(_=m[A]).left===m[A+1]?w[A]=new s(_._color,_.key,_.value,w[A+1],_.right,_._count):w[A]=new s(_._color,_.key,_.value,_.left,w[A+1],_._count);if((_=w[w.length-1]).left&&_.right){var p=w.length;for(_=_.left;_.right;)w.push(_),_=_.right;var L=w[p-1];for(w.push(new s(_._color,L.key,L.value,_.left,_.right,_._count)),w[p-1].key=_.key,w[p-1].value=_.value,A=w.length-2;A>=p;--A)_=w[A],w[A]=new s(_._color,_.key,_.value,_.left,w[A+1],_._count);w[p-1].left=w[p]}if((_=w[w.length-1])._color===0){var M=w[w.length-2];for(M.left===_?M.left=null:M.right===_&&(M.right=null),w.pop(),A=0;A<w.length;++A)w[A]._count--;return new r(this.tree._compare,w[0])}if(_.left||_.right){for(_.left?d(_,_.left):_.right&&d(_,_.right),_._color=1,A=0;A<w.length-1;++A)w[A]._count--;return new r(this.tree._compare,w[0])}if(w.length===1)return new r(this.tree._compare,null);for(A=0;A<w.length;++A)w[A]._count--;var C=w[w.length-2];return function(R){for(var I,D,F,q,z=R.length-1;z>=0;--z){if(I=R[z],z===0)return void(I._color=1);if((D=R[z-1]).left===I){if((F=D.right).right&&F.right._color===0)return q=(F=D.right=n(F)).right=n(F.right),D.right=F.left,F.left=D,F.right=q,F._color=D._color,I._color=1,D._color=1,q._color=1,a(D),a(F),z>1&&((V=R[z-2]).left===D?V.left=F:V.right=F),void(R[z-1]=F);if(F.left&&F.left._color===0)return q=(F=D.right=n(F)).left=n(F.left),D.right=q.left,F.left=q.right,q.left=D,q.right=F,q._color=D._color,D._color=1,F._color=1,I._color=1,a(D),a(F),a(q),z>1&&((V=R[z-2]).left===D?V.left=q:V.right=q),void(R[z-1]=q);if(F._color===1){if(D._color===0)return D._color=1,void(D.right=i(0,F));D.right=i(0,F);continue}F=n(F),D.right=F.left,F.left=D,F._color=D._color,D._color=0,a(D),a(F),z>1&&((V=R[z-2]).left===D?V.left=F:V.right=F),R[z-1]=F,R[z]=D,z+1<R.length?R[z+1]=I:R.push(I),z+=2}else{if((F=D.left).left&&F.left._color===0)return q=(F=D.left=n(F)).left=n(F.left),D.left=F.right,F.right=D,F.left=q,F._color=D._color,I._color=1,D._color=1,q._color=1,a(D),a(F),z>1&&((V=R[z-2]).right===D?V.right=F:V.left=F),void(R[z-1]=F);if(F.right&&F.right._color===0)return q=(F=D.left=n(F)).right=n(F.right),D.left=q.right,F.right=q.left,q.right=D,q.left=F,q._color=D._color,D._color=1,F._color=1,I._color=1,a(D),a(F),a(q),z>1&&((V=R[z-2]).right===D?V.right=q:V.left=q),void(R[z-1]=q);if(F._color===1){if(D._color===0)return D._color=1,void(D.left=i(0,F));D.left=i(0,F);continue}var V;F=n(F),D.left=F.right,F.right=D,F._color=D._color,D._color=0,a(D),a(F),z>1&&((V=R[z-2]).right===D?V.right=F:V.left=F),R[z-1]=F,R[z]=D,z+1<R.length?R[z+1]=I:R.push(I),z+=2}}}(w),C.left===_?C.left=null:C.right=null,new r(this.tree._compare,w[0])},Object.defineProperty(T,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(T,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(T,"index",{get:function(){var m=0,w=this._stack;if(w.length===0){var _=this.tree.root;return _?_._count:0}w[w.length-1].left&&(m=w[w.length-1].left._count);for(var A=w.length-2;A>=0;--A)w[A+1]===w[A].right&&(++m,w[A].left&&(m+=w[A].left._count));return m},enumerable:!0}),T.next=function(){var m=this._stack;if(m.length!==0){var w=m[m.length-1];if(w.right)for(w=w.right;w;)m.push(w),w=w.left;else for(m.pop();m.length>0&&m[m.length-1].right===w;)w=m[m.length-1],m.pop()}},Object.defineProperty(T,"hasNext",{get:function(){var m=this._stack;if(m.length===0)return!1;if(m[m.length-1].right)return!0;for(var w=m.length-1;w>0;--w)if(m[w-1].left===m[w])return!0;return!1}}),T.update=function(m){var w=this._stack;if(w.length===0)throw new Error("Can't update empty node!");var _=new Array(w.length),A=w[w.length-1];_[_.length-1]=new s(A._color,A.key,m,A.left,A.right,A._count);for(var p=w.length-2;p>=0;--p)(A=w[p]).left===w[p+1]?_[p]=new s(A._color,A.key,A.value,_[p+1],A.right,A._count):_[p]=new s(A._color,A.key,A.value,A.left,_[p+1],A._count);return new r(this.tree._compare,_[0])},T.prev=function(){var m=this._stack;if(m.length!==0){var w=m[m.length-1];if(w.left)for(w=w.left;w;)m.push(w),w=w.right;else for(m.pop();m.length>0&&m[m.length-1].left===w;)w=m[m.length-1],m.pop()}},Object.defineProperty(T,"hasPrev",{get:function(){var m=this._stack;if(m.length===0)return!1;if(m[m.length-1].left)return!0;for(var w=m.length-1;w>0;--w)if(m[w-1].right===m[w])return!0;return!1}})},3837:function(c,s,n){c.exports=function(I,D){var F=new y(I);return F.update(D),F};var i=n(4935),a=n(501),r=n(5304),o=n(6429),l=n(6444),u=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),h=ArrayBuffer,f=DataView;function T(I){return Array.isArray(I)||function(D){return h.isView(D)&&!(D instanceof f)}(I)}function d(I,D){return I[0]=D[0],I[1]=D[1],I[2]=D[2],I}function y(I){this.gl=I,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickFontStyle=["normal","normal","normal"],this.tickFontWeight=["normal","normal","normal"],this.tickFontVariant=["normal","normal","normal"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["sans-serif","sans-serif","sans-serif"],this.labelFontStyle=["normal","normal","normal"],this.labelFontWeight=["normal","normal","normal"],this.labelFontVariant=["normal","normal","normal"],this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=r(I)}var m=y.prototype;function w(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}m.update=function(I){function D($,ae,ue){if(ue in I){var ce,de=I[ue],pe=this[ue];($?T(de)&&T(de[0]):T(de))?this[ue]=ce=[ae(de[0]),ae(de[1]),ae(de[2])]:this[ue]=ce=[ae(de),ae(de),ae(de)];for(var me=0;me<3;++me)if(ce[me]!==pe[me])return!0}return!1}I=I||{};var F,q=D.bind(this,!1,Number),z=D.bind(this,!1,Boolean),V=D.bind(this,!1,String),X=D.bind(this,!0,function($){if(T($)){if($.length===3)return[+$[0],+$[1],+$[2],1];if($.length===4)return[+$[0],+$[1],+$[2],+$[3]]}return[0,0,0,1]}),j=!1,H=!1;if("bounds"in I)for(var G=I.bounds,ie=0;ie<2;++ie)for(var re=0;re<3;++re)G[ie][re]!==this.bounds[ie][re]&&(H=!0),this.bounds[ie][re]=G[ie][re];if("ticks"in I)for(F=I.ticks,j=!0,this.autoTicks=!1,ie=0;ie<3;++ie)this.tickSpacing[ie]=0;else q("tickSpacing")&&(this.autoTicks=!0,H=!0);if(this._firstInit&&("ticks"in I||"tickSpacing"in I||(this.autoTicks=!0),H=!0,j=!0,this._firstInit=!1),H&&this.autoTicks&&(F=l.create(this.bounds,this.tickSpacing),j=!0),j){for(ie=0;ie<3;++ie)F[ie].sort(function($,ae){return $.x-ae.x});l.equal(F,this.ticks)?j=!1:this.ticks=F}z("tickEnable"),V("tickFont")&&(j=!0),V("tickFontStyle")&&(j=!0),V("tickFontWeight")&&(j=!0),V("tickFontVariant")&&(j=!0),q("tickSize"),q("tickAngle"),q("tickPad"),X("tickColor");var te=V("labels");V("labelFont")&&(te=!0),V("labelFontStyle")&&(te=!0),V("labelFontWeight")&&(te=!0),V("labelFontVariant")&&(te=!0),z("labelEnable"),q("labelSize"),q("labelPad"),X("labelColor"),z("lineEnable"),z("lineMirror"),q("lineWidth"),X("lineColor"),z("lineTickEnable"),z("lineTickMirror"),q("lineTickLength"),q("lineTickWidth"),X("lineTickColor"),z("gridEnable"),q("gridWidth"),X("gridColor"),z("zeroEnable"),X("zeroLineColor"),q("zeroLineWidth"),z("backgroundEnable"),X("backgroundColor");var K=[{family:this.labelFont[0],style:this.labelFontStyle[0],weight:this.labelFontWeight[0],variant:this.labelFontVariant[0]},{family:this.labelFont[1],style:this.labelFontStyle[1],weight:this.labelFontWeight[1],variant:this.labelFontVariant[1]},{family:this.labelFont[2],style:this.labelFontStyle[2],weight:this.labelFontWeight[2],variant:this.labelFontVariant[2]}],J=[{family:this.tickFont[0],style:this.tickFontStyle[0],weight:this.tickFontWeight[0],variant:this.tickFontVariant[0]},{family:this.tickFont[1],style:this.tickFontStyle[1],weight:this.tickFontWeight[1],variant:this.tickFontVariant[1]},{family:this.tickFont[2],style:this.tickFontStyle[2],weight:this.tickFontWeight[2],variant:this.tickFontVariant[2]}];this._text?this._text&&(te||j)&&this._text.update(this.bounds,this.labels,K,this.ticks,J):this._text=i(this.gl,this.bounds,this.labels,K,this.ticks,J),this._lines&&j&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=a(this.gl,this.bounds,this.ticks))};var _=[new w,new w,new w];function A(I,D,F,q,z){for(var V=I.primalOffset,X=I.primalMinor,j=I.mirrorOffset,H=I.mirrorMinor,G=q[D],ie=0;ie<3;++ie)if(D!==ie){var re=V,te=j,K=X,J=H;G&1<<ie&&(re=j,te=V,K=H,J=X),re[ie]=F[0][ie],te[ie]=F[1][ie],z[ie]>0?(K[ie]=-1,J[ie]=0):(K[ie]=0,J[ie]=1)}}var p=[0,0,0],L={model:u,view:u,projection:u,_ortho:!1};m.isOpaque=function(){return!0},m.isTransparent=function(){return!1},m.drawTransparent=function(I){};var M=[0,0,0],C=[0,0,0],R=[0,0,0];m.draw=function(I){I=I||L;for(var D=this.gl,F=I.model||u,q=I.view||u,z=I.projection||u,V=this.bounds,X=I._ortho||!1,j=o(F,q,z,V,X),H=j.cubeEdges,G=j.axis,ie=q[12],re=q[13],te=q[14],K=q[15],J=(X?2:1)*this.pixelRatio*(z[3]*ie+z[7]*re+z[11]*te+z[15]*K)/D.drawingBufferHeight,$=0;$<3;++$)this.lastCubeProps.cubeEdges[$]=H[$],this.lastCubeProps.axis[$]=G[$];var ae=_;for($=0;$<3;++$)A(_[$],$,this.bounds,H,G);D=this.gl;var ue,ce,de,pe=p;for($=0;$<3;++$)this.backgroundEnable[$]?pe[$]=G[$]:pe[$]=0;for(this._background.draw(F,q,z,V,pe,this.backgroundColor),this._lines.bind(F,q,z,this),$=0;$<3;++$){var me=[0,0,0];G[$]>0?me[$]=V[1][$]:me[$]=V[0][$];for(var be=0;be<2;++be){var we=($+1+be)%3,Te=($+1+(1^be))%3;this.gridEnable[we]&&this._lines.drawGrid(we,Te,this.bounds,me,this.gridColor[we],this.gridWidth[we]*this.pixelRatio)}for(be=0;be<2;++be)we=($+1+be)%3,Te=($+1+(1^be))%3,this.zeroEnable[Te]&&Math.min(V[0][Te],V[1][Te])<=0&&Math.max(V[0][Te],V[1][Te])>=0&&this._lines.drawZero(we,Te,this.bounds,me,this.zeroLineColor[Te],this.zeroLineWidth[Te]*this.pixelRatio)}for($=0;$<3;++$){this.lineEnable[$]&&this._lines.drawAxisLine($,this.bounds,ae[$].primalOffset,this.lineColor[$],this.lineWidth[$]*this.pixelRatio),this.lineMirror[$]&&this._lines.drawAxisLine($,this.bounds,ae[$].mirrorOffset,this.lineColor[$],this.lineWidth[$]*this.pixelRatio);var Le=d(M,ae[$].primalMinor),Ie=d(C,ae[$].mirrorMinor),_e=this.lineTickLength;for(be=0;be<3;++be){var fe=J/F[5*be];Le[be]*=_e[be]*fe,Ie[be]*=_e[be]*fe}this.lineTickEnable[$]&&this._lines.drawAxisTicks($,ae[$].primalOffset,Le,this.lineTickColor[$],this.lineTickWidth[$]*this.pixelRatio),this.lineTickMirror[$]&&this._lines.drawAxisTicks($,ae[$].mirrorOffset,Ie,this.lineTickColor[$],this.lineTickWidth[$]*this.pixelRatio)}function le(Fe){(de=[0,0,0])[Fe]=1}function ye(Fe,Be,xe){var Me=(Fe+1)%3,Ce=(Fe+2)%3,Ne=Be[Me],Re=Be[Ce],He=xe[Me],Ye=xe[Ce];Ne>0&&Ye>0||Ne>0&&Ye<0||Ne<0&&Ye>0||Ne<0&&Ye<0?le(Me):(Re>0&&He>0||Re>0&&He<0||Re<0&&He>0||Re<0&&He<0)&&le(Ce)}for(this._lines.unbind(),this._text.bind(F,q,z,this.pixelRatio),$=0;$<3;++$){var Oe=ae[$].primalMinor,Ae=ae[$].mirrorMinor,Se=d(R,ae[$].primalOffset);for(be=0;be<3;++be)this.lineTickEnable[$]&&(Se[be]+=J*Oe[be]*Math.max(this.lineTickLength[be],0)/F[5*be]);var Pe=[0,0,0];if(Pe[$]=1,this.tickEnable[$]){for(this.tickAngle[$]===-3600?(this.tickAngle[$]=0,this.tickAlign[$]="auto"):this.tickAlign[$]=-1,ce=1,(ue=[this.tickAlign[$],.5,ce])[0]==="auto"?ue[0]=0:ue[0]=parseInt(""+ue[0]),de=[0,0,0],ye($,Oe,Ae),be=0;be<3;++be)Se[be]+=J*Oe[be]*this.tickPad[be]/F[5*be];this._text.drawTicks($,this.tickSize[$],this.tickAngle[$],Se,this.tickColor[$],Pe,de,ue)}if(this.labelEnable[$]){for(ce=0,de=[0,0,0],this.labels[$].length>4&&(le($),ce=1),(ue=[this.labelAlign[$],.5,ce])[0]==="auto"?ue[0]=0:ue[0]=parseInt(""+ue[0]),be=0;be<3;++be)Se[be]+=J*Oe[be]*this.labelPad[be]/F[5*be];Se[$]+=.5*(V[0][$]+V[1][$]),this._text.drawLabel($,this.labelSize[$],this.labelAngle[$],Se,this.labelColor[$],[0,0,0],de,ue)}}this._text.unbind()},m.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},5304:function(c,s,n){c.exports=function(u){for(var h=[],f=[],T=0,d=0;d<3;++d)for(var y=(d+1)%3,m=(d+2)%3,w=[0,0,0],_=[0,0,0],A=-1;A<=1;A+=2){f.push(T,T+2,T+1,T+1,T+2,T+3),w[d]=A,_[d]=A;for(var p=-1;p<=1;p+=2){w[y]=p;for(var L=-1;L<=1;L+=2)w[m]=L,h.push(w[0],w[1],w[2],_[0],_[1],_[2]),T+=1}var M=y;y=m,m=M}var C=i(u,new Float32Array(h)),R=i(u,new Uint16Array(f),u.ELEMENT_ARRAY_BUFFER),I=a(u,[{buffer:C,type:u.FLOAT,size:3,offset:0,stride:24},{buffer:C,type:u.FLOAT,size:3,offset:12,stride:24}],R),D=r(u);return D.attributes.position.location=0,D.attributes.normal.location=1,new o(u,C,I,D)};var i=n(2762),a=n(8116),r=n(1879).bg;function o(u,h,f,T){this.gl=u,this.buffer=h,this.vao=f,this.shader=T}var l=o.prototype;l.draw=function(u,h,f,T,d,y){for(var m=!1,w=0;w<3;++w)m=m||d[w];if(m){var _=this.gl;_.enable(_.POLYGON_OFFSET_FILL),_.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:u,view:h,projection:f,bounds:T,enable:d,colors:y},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),_.disable(_.POLYGON_OFFSET_FILL)}},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},6429:function(c,s,n){c.exports=function(p,L,M,C,R){a(l,L,p),a(l,M,l);for(var I=0,D=0;D<2;++D){f[2]=C[D][2];for(var F=0;F<2;++F){f[1]=C[F][1];for(var q=0;q<2;++q)f[0]=C[q][0],d(u[I],f,l),I+=1}}var z=-1;for(D=0;D<8;++D){for(var V=u[D][3],X=0;X<3;++X)h[D][X]=u[D][X]/V;R&&(h[D][2]*=-1),V<0&&(z<0||h[D][2]<h[z][2])&&(z=D)}if(z<0){z=0;for(var j=0;j<3;++j){for(var H=(j+2)%3,G=(j+1)%3,ie=-1,re=-1,te=0;te<2;++te){var K=($=te<<j)+(te<<H)+(1-te<<G),J=$+(1-te<<H)+(te<<G);o(h[$],h[K],h[J],T)<0||(te?ie=1:re=1)}if(ie<0||re<0)re>ie&&(z|=1<<j);else{for(te=0;te<2;++te){K=($=te<<j)+(te<<H)+(1-te<<G),J=$+(1-te<<H)+(te<<G);var $,ae=m([u[$],u[K],u[J],u[$+(1<<H)+(1<<G)]]);te?ie=ae:re=ae}re>ie&&(z|=1<<j)}}}var ue=7^z,ce=-1;for(D=0;D<8;++D)D!==z&&D!==ue&&(ce<0||h[ce][1]>h[D][1])&&(ce=D);var de=-1;for(D=0;D<3;++D)(me=ce^1<<D)!==z&&me!==ue&&(de<0&&(de=me),(G=h[me])[0]<h[de][0]&&(de=me));var pe=-1;for(D=0;D<3;++D){var me;(me=ce^1<<D)!==z&&me!==ue&&me!==de&&(pe<0&&(pe=me),(G=h[me])[0]>h[pe][0]&&(pe=me))}var be=w;be[0]=be[1]=be[2]=0,be[i.log2(de^ce)]=ce&de,be[i.log2(ce^pe)]=ce&pe;var we=7^pe;we===z||we===ue?(we=7^de,be[i.log2(pe^we)]=we&pe):be[i.log2(de^we)]=we&de;var Te=_,Le=z;for(j=0;j<3;++j)Te[j]=Le&1<<j?-1:1;return A};var i=n(8828),a=n(6760),r=n(5202),o=n(3250),l=new Array(16),u=new Array(8),h=new Array(8),f=new Array(3),T=[0,0,0];function d(p,L,M){for(var C=0;C<4;++C){p[C]=M[12+C];for(var R=0;R<3;++R)p[C]+=L[R]*M[4*R+C]}}(function(){for(var p=0;p<8;++p)u[p]=[1,1,1,1],h[p]=[1,1,1]})();var y=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function m(p){for(var L=0;L<y.length;++L)if((p=r.positive(p,y[L])).length<3)return 0;var M=p[0],C=M[0]/M[3],R=M[1]/M[3],I=0;for(L=1;L+1<p.length;++L){var D=p[L],F=p[L+1],q=D[0]/D[3]-C,z=D[1]/D[3]-R,V=F[0]/F[3]-C,X=F[1]/F[3]-R;I+=Math.abs(q*X-z*V)}return I}var w=[1,1,1],_=[0,0,0],A={cubeEdges:w,axis:_}},501:function(c,s,n){c.exports=function(w,_,A){var p=[],L=[0,0,0],M=[0,0,0],C=[0,0,0],R=[0,0,0];p.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var I=0;I<3;++I){for(var D=p.length/3|0,F=0;F<A[I].length;++F){var q=+A[I][F].x;p.push(q,0,1,q,1,1,q,0,-1,q,0,-1,q,1,1,q,1,-1)}var z=p.length/3|0;L[I]=D,M[I]=z-D,D=p.length/3|0;for(var V=0;V<A[I].length;++V)q=+A[I][V].x,p.push(q,0,1,q,1,1,q,0,-1,q,0,-1,q,1,1,q,1,-1);z=p.length/3|0,C[I]=D,R[I]=z-D}var X=i(w,new Float32Array(p)),j=a(w,[{buffer:X,type:w.FLOAT,size:3,stride:0,offset:0}]),H=r(w);return H.attributes.position.location=0,new y(w,X,j,H,M,L,R,C)};var i=n(2762),a=n(8116),r=n(1879).n,o=[0,0,0],l=[0,0,0],u=[0,0,0],h=[0,0,0],f=[1,1];function T(w){return w[0]=w[1]=w[2]=0,w}function d(w,_){return w[0]=_[0],w[1]=_[1],w[2]=_[2],w}function y(w,_,A,p,L,M,C,R){this.gl=w,this.vertBuffer=_,this.vao=A,this.shader=p,this.tickCount=L,this.tickOffset=M,this.gridCount=C,this.gridOffset=R}var m=y.prototype;m.bind=function(w,_,A){this.shader.bind(),this.shader.uniforms.model=w,this.shader.uniforms.view=_,this.shader.uniforms.projection=A,f[0]=this.gl.drawingBufferWidth,f[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=f,this.vao.bind()},m.unbind=function(){this.vao.unbind()},m.drawAxisLine=function(w,_,A,p,L){var M=T(l);this.shader.uniforms.majorAxis=l,M[w]=_[1][w]-_[0][w],this.shader.uniforms.minorAxis=M;var C,R=d(h,A);R[w]+=_[0][w],this.shader.uniforms.offset=R,this.shader.uniforms.lineWidth=L,this.shader.uniforms.color=p,(C=T(u))[(w+2)%3]=1,this.shader.uniforms.screenAxis=C,this.vao.draw(this.gl.TRIANGLES,6),(C=T(u))[(w+1)%3]=1,this.shader.uniforms.screenAxis=C,this.vao.draw(this.gl.TRIANGLES,6)},m.drawAxisTicks=function(w,_,A,p,L){if(this.tickCount[w]){var M=T(o);M[w]=1,this.shader.uniforms.majorAxis=M,this.shader.uniforms.offset=_,this.shader.uniforms.minorAxis=A,this.shader.uniforms.color=p,this.shader.uniforms.lineWidth=L;var C=T(u);C[w]=1,this.shader.uniforms.screenAxis=C,this.vao.draw(this.gl.TRIANGLES,this.tickCount[w],this.tickOffset[w])}},m.drawGrid=function(w,_,A,p,L,M){if(this.gridCount[w]){var C=T(l);C[_]=A[1][_]-A[0][_],this.shader.uniforms.minorAxis=C;var R=d(h,p);R[_]+=A[0][_],this.shader.uniforms.offset=R;var I=T(o);I[w]=1,this.shader.uniforms.majorAxis=I;var D=T(u);D[w]=1,this.shader.uniforms.screenAxis=D,this.shader.uniforms.lineWidth=M,this.shader.uniforms.color=L,this.vao.draw(this.gl.TRIANGLES,this.gridCount[w],this.gridOffset[w])}},m.drawZero=function(w,_,A,p,L,M){var C=T(l);this.shader.uniforms.majorAxis=C,C[w]=A[1][w]-A[0][w],this.shader.uniforms.minorAxis=C;var R=d(h,p);R[w]+=A[0][w],this.shader.uniforms.offset=R;var I=T(u);I[_]=1,this.shader.uniforms.screenAxis=I,this.shader.uniforms.lineWidth=M,this.shader.uniforms.color=L,this.vao.draw(this.gl.TRIANGLES,6)},m.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},1879:function(c,s,n){var i=n(3236),a=n(9405),r=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),o=i([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);s.n=function(T){return a(T,r,o,null,[{name:"position",type:"vec3"}])};var l=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}
`]),u=i([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);s.Q=function(T){return a(T,l,u,null,[{name:"position",type:"vec3"}])};var h=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * (view * (model * vec4(nPosition, 1.0)));
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}
`]),f=i([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);s.bg=function(T){return a(T,h,f,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},4935:function(c,s,n){c.exports=function(d,y,m,w,_,A){var p=i(d),L=a(d,[{buffer:p,size:3}]),M=o(d);M.attributes.position.location=0;var C=new h(d,M,p,L);return C.update(y,m,w,_,A),C};var i=n(2762),a=n(8116),r=n(4359),o=n(1879).Q,l=window||v.global||{},u=l.__TEXT_CACHE||{};function h(d,y,m,w){this.gl=d,this.shader=y,this.buffer=m,this.vao=w,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}l.__TEXT_CACHE={};var f=h.prototype,T=[0,0];f.bind=function(d,y,m,w){this.vao.bind(),this.shader.bind();var _=this.shader.uniforms;_.model=d,_.view=y,_.projection=m,_.pixelScale=w,T[0]=this.gl.drawingBufferWidth,T[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=T},f.unbind=function(){this.vao.unbind()},f.update=function(d,y,m,w,_){var A=[];function p(z,V,X,j,H,G){var ie=[X.style,X.weight,X.variant,X.family].join("_"),re=u[ie];re||(re=u[ie]={});var te=re[V];te||(te=re[V]=function(me,be){try{return r(me,be)}catch(we){return console.warn('error vectorizing text:"'+me+'" error:',we),{cells:[],positions:[]}}}(V,{triangles:!0,font:X.family,fontStyle:X.style,fontWeight:X.weight,fontVariant:X.variant,textAlign:"center",textBaseline:"middle",lineSpacing:H,styletags:G}));for(var K=(j||12)/12,J=te.positions,$=te.cells,ae=0,ue=$.length;ae<ue;++ae)for(var ce=$[ae],de=2;de>=0;--de){var pe=J[ce[de]];A.push(K*pe[0],-K*pe[1],z)}}for(var L=[0,0,0],M=[0,0,0],C=[0,0,0],R=[0,0,0],I={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},D=0;D<3;++D){C[D]=A.length/3|0,p(.5*(d[0][D]+d[1][D]),y[D],m[D],12,1.25,I),R[D]=(A.length/3|0)-C[D],L[D]=A.length/3|0;for(var F=0;F<w[D].length;++F)if(w[D][F].text){var q={family:w[D][F].font||_[D].family,style:_[D].fontStyle||_[D].style,weight:_[D].fontWeight||_[D].weight,variant:_[D].fontVariant||_[D].variant};p(w[D][F].x,w[D][F].text,q,w[D][F].fontSize||12,1.25,I)}M[D]=(A.length/3|0)-L[D]}this.buffer.update(A),this.tickOffset=L,this.tickCount=M,this.labelOffset=C,this.labelCount=R},f.drawTicks=function(d,y,m,w,_,A,p,L){this.tickCount[d]&&(this.shader.uniforms.axis=A,this.shader.uniforms.color=_,this.shader.uniforms.angle=m,this.shader.uniforms.scale=y,this.shader.uniforms.offset=w,this.shader.uniforms.alignDir=p,this.shader.uniforms.alignOpt=L,this.vao.draw(this.gl.TRIANGLES,this.tickCount[d],this.tickOffset[d]))},f.drawLabel=function(d,y,m,w,_,A,p,L){this.labelCount[d]&&(this.shader.uniforms.axis=A,this.shader.uniforms.color=_,this.shader.uniforms.angle=m,this.shader.uniforms.scale=y,this.shader.uniforms.offset=w,this.shader.uniforms.alignDir=p,this.shader.uniforms.alignOpt=L,this.vao.draw(this.gl.TRIANGLES,this.labelCount[d],this.labelOffset[d]))},f.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}},6444:function(c,s){function n(i,a){var r=i+"",o=r.indexOf("."),l=0;o>=0&&(l=r.length-o-1);var u=Math.pow(10,l),h=Math.round(i*a*u),f=h+"";if(f.indexOf("e")>=0)return f;var T=h/u,d=h%u;h<0?(T=0|-Math.ceil(T),d=0|-d):(T=0|Math.floor(T),d|=0);var y=""+T;if(h<0&&(y="-"+y),l){for(var m=""+d;m.length<l;)m="0"+m;return y+"."+m}return y}s.create=function(i,a){for(var r=[],o=0;o<3;++o){for(var l=[],u=(i[0][o],i[1][o],0);u*a[o]<=i[1][o];++u)l.push({x:u*a[o],text:n(a[o],u)});for(u=-1;u*a[o]>=i[0][o];--u)l.push({x:u*a[o],text:n(a[o],u)});r.push(l)}return r},s.equal=function(i,a){for(var r=0;r<3;++r){if(i[r].length!==a[r].length)return!1;for(var o=0;o<i[r].length;++o){var l=i[r][o],u=a[r][o];if(l.x!==u.x||l.text!==u.text||l.font!==u.font||l.fontColor!==u.fontColor||l.fontSize!==u.fontSize||l.dx!==u.dx||l.dy!==u.dy)return!1}}return!0}},5445:function(c,s,n){c.exports=function(A,p,L,M,C){var R=p.model||h,I=p.view||h,D=p.projection||h,F=p._ortho||!1,q=A.bounds,z=(C=C||r(R,I,D,q,F)).axis;o(f,I,R),o(f,D,f);for(var V=w,X=0;X<3;++X)V[X].lo=1/0,V[X].hi=-1/0,V[X].pixelsPerDataUnit=1/0;var j=i(l(f,f));l(f,f);for(var H=0;H<3;++H){var G=(H+1)%3,ie=(H+2)%3,re=_;e:for(X=0;X<2;++X){var te=[];if(z[H]<0!=!!X){re[H]=q[X][H];for(var K=0;K<2;++K){re[G]=q[K^X][G];for(var J=0;J<2;++J)re[ie]=q[J^K^X][ie],te.push(re.slice())}var $=F?5:4;for(K=$;K===$;++K){if(te.length===0)continue e;te=a.positive(te,j[K])}for(K=0;K<te.length;++K){ie=te[K];var ae=m(_,f,ie,L,M);for(J=0;J<3;++J)V[J].lo=Math.min(V[J].lo,ie[J]),V[J].hi=Math.max(V[J].hi,ie[J]),J!==H&&(V[J].pixelsPerDataUnit=Math.min(V[J].pixelsPerDataUnit,Math.abs(ae[J])))}}}}return V};var i=n(5033),a=n(5202),r=n(6429),o=n(6760),l=n(5665),u=n(5352),h=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),f=new Float32Array(16);function T(A,p,L){this.lo=A,this.hi=p,this.pixelsPerDataUnit=L}var d=[0,0,0,1],y=[0,0,0,1];function m(A,p,L,M,C){for(var R=0;R<3;++R){for(var I=d,D=y,F=0;F<3;++F)D[F]=I[F]=L[F];D[3]=I[3]=1,D[R]+=1,u(D,D,p),D[3]<0&&(A[R]=1/0),I[R]-=1,u(I,I,p),I[3]<0&&(A[R]=1/0);var q=(I[0]/I[3]-D[0]/D[3])*M,z=(I[1]/I[3]-D[1]/D[3])*C;A[R]=.25*Math.sqrt(q*q+z*z)}return A}var w=[new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0)],_=[0,0,0]},2762:function(c,s,n){var i=n(1888),a=n(5298),r=n(9618),o=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function l(T,d,y,m,w){this.gl=T,this.type=d,this.handle=y,this.length=m,this.usage=w}var u=l.prototype;function h(T,d,y,m,w,_){var A=w.length*w.BYTES_PER_ELEMENT;if(_<0)return T.bufferData(d,w,m),A;if(A+_>y)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return T.bufferSubData(d,_,w),y}function f(T,d){for(var y=i.malloc(T.length,d),m=T.length,w=0;w<m;++w)y[w]=T[w];return y}u.bind=function(){this.gl.bindBuffer(this.type,this.handle)},u.unbind=function(){this.gl.bindBuffer(this.type,null)},u.dispose=function(){this.gl.deleteBuffer(this.handle)},u.update=function(T,d){if(typeof d!="number"&&(d=-1),this.bind(),typeof T=="object"&&T.shape!==void 0){var y=T.dtype;if(o.indexOf(y)<0&&(y="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(y=gl.getExtension("OES_element_index_uint")&&y!=="uint16"?"uint32":"uint16"),y===T.dtype&&function(A,p){for(var L=1,M=p.length-1;M>=0;--M){if(p[M]!==L)return!1;L*=A[M]}return!0}(T.shape,T.stride))T.offset===0&&T.data.length===T.shape[0]?this.length=h(this.gl,this.type,this.length,this.usage,T.data,d):this.length=h(this.gl,this.type,this.length,this.usage,T.data.subarray(T.offset,T.shape[0]),d);else{var m=i.malloc(T.size,y),w=r(m,T.shape);a.assign(w,T),this.length=h(this.gl,this.type,this.length,this.usage,d<0?m:m.subarray(0,T.size),d),i.free(m)}}else if(Array.isArray(T)){var _;_=this.type===this.gl.ELEMENT_ARRAY_BUFFER?f(T,"uint16"):f(T,"float32"),this.length=h(this.gl,this.type,this.length,this.usage,d<0?_:_.subarray(0,T.length),d),i.free(_)}else if(typeof T=="object"&&typeof T.length=="number")this.length=h(this.gl,this.type,this.length,this.usage,T,d);else{if(typeof T!="number"&&T!==void 0)throw new Error("gl-buffer: Invalid data type");if(d>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(T|=0)<=0&&(T=1),this.gl.bufferData(this.type,0|T,this.usage),this.length=T}},c.exports=function(T,d,y,m){if(y=y||T.ARRAY_BUFFER,m=m||T.DYNAMIC_DRAW,y!==T.ARRAY_BUFFER&&y!==T.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(m!==T.DYNAMIC_DRAW&&m!==T.STATIC_DRAW&&m!==T.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var w=T.createBuffer(),_=new l(T,y,w,0,m);return _.update(d),_}},6405:function(c,s,n){var i=n(2931);c.exports=function(r,o){var l=r.positions,u=r.vectors,h={positions:[],vertexIntensity:[],vertexIntensityBounds:r.vertexIntensityBounds,vectors:[],cells:[],coneOffset:r.coneOffset,colormap:r.colormap};if(r.positions.length===0)return o&&(o[0]=[0,0,0],o[1]=[0,0,0]),h;for(var f=0,T=1/0,d=-1/0,y=1/0,m=-1/0,w=1/0,_=-1/0,A=null,p=null,L=[],M=1/0,C=!1,R=r.coneSizemode==="raw",I=0;I<l.length;I++){var D=l[I];T=Math.min(D[0],T),d=Math.max(D[0],d),y=Math.min(D[1],y),m=Math.max(D[1],m),w=Math.min(D[2],w),_=Math.max(D[2],_);var F=u[I];if(i.length(F)>f&&(f=i.length(F)),I&&!R){var q=2*i.distance(A,D)/(i.length(p)+i.length(F));q?(M=Math.min(M,q),C=!1):C=!0}C||(A=D,p=F),L.push(F)}var z=[T,y,w],V=[d,m,_];o&&(o[0]=z,o[1]=V),f===0&&(f=1);var X=1/f;isFinite(M)||(M=1),h.vectorScale=M;var j=r.coneSize||(R?1:.5);r.absoluteConeSize&&(j=r.absoluteConeSize*X),h.coneScale=j,I=0;for(var H=0;I<l.length;I++)for(var G=(D=l[I])[0],ie=D[1],re=D[2],te=L[I],K=i.length(te)*X,J=0;J<8;J++){h.positions.push([G,ie,re,H++]),h.positions.push([G,ie,re,H++]),h.positions.push([G,ie,re,H++]),h.positions.push([G,ie,re,H++]),h.positions.push([G,ie,re,H++]),h.positions.push([G,ie,re,H++]),h.vectors.push(te),h.vectors.push(te),h.vectors.push(te),h.vectors.push(te),h.vectors.push(te),h.vectors.push(te),h.vertexIntensity.push(K,K,K),h.vertexIntensity.push(K,K,K);var $=h.positions.length;h.cells.push([$-6,$-5,$-4],[$-3,$-2,$-1])}return h};var a=n(614);c.exports.createMesh=n(9060),c.exports.createConeMesh=function(r,o){return c.exports.createMesh(r,o,{shaders:a,traceType:"cone"})}},9060:function(c,s,n){var i=n(9405),a=n(2762),r=n(8116),o=n(7766),l=n(6760),u=n(7608),h=n(9618),f=n(6729),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function d(m,w,_,A,p,L,M,C,R,I,D){this.gl=m,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=w,this.dirty=!0,this.triShader=_,this.pickShader=A,this.trianglePositions=p,this.triangleVectors=L,this.triangleColors=C,this.triangleUVs=R,this.triangleIds=M,this.triangleVAO=I,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=D,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=T,this._view=T,this._projection=T,this._resolution=[1,1]}var y=d.prototype;y.isOpaque=function(){return this.opacity>=1},y.isTransparent=function(){return this.opacity<1},y.pickSlots=1,y.setPickBase=function(m){this.pickId=m},y.update=function(m){m=m||{};var w=this.gl;this.dirty=!0,"lightPosition"in m&&(this.lightPosition=m.lightPosition),"opacity"in m&&(this.opacity=m.opacity),"ambient"in m&&(this.ambientLight=m.ambient),"diffuse"in m&&(this.diffuseLight=m.diffuse),"specular"in m&&(this.specularLight=m.specular),"roughness"in m&&(this.roughness=m.roughness),"fresnel"in m&&(this.fresnel=m.fresnel),m.tubeScale!==void 0&&(this.tubeScale=m.tubeScale),m.vectorScale!==void 0&&(this.vectorScale=m.vectorScale),m.coneScale!==void 0&&(this.coneScale=m.coneScale),m.coneOffset!==void 0&&(this.coneOffset=m.coneOffset),m.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=w.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=w.LINEAR,this.texture.setPixels(function(ae){for(var ue=f({colormap:ae,nshades:256,format:"rgba"}),ce=new Uint8Array(1024),de=0;de<256;++de){for(var pe=ue[de],me=0;me<3;++me)ce[4*de+me]=pe[me];ce[4*de+3]=255*pe[3]}return h(ce,[256,256,4],[4,0,1])}(m.colormap)),this.texture.generateMipmap());var _=m.cells,A=m.positions,p=m.vectors;if(A&&_&&p){var L=[],M=[],C=[],R=[],I=[];this.cells=_,this.positions=A,this.vectors=p;var D=m.meshColor||[1,1,1,1],F=m.vertexIntensity,q=1/0,z=-1/0;if(F)if(m.vertexIntensityBounds)q=+m.vertexIntensityBounds[0],z=+m.vertexIntensityBounds[1];else for(var V=0;V<F.length;++V){var X=F[V];q=Math.min(q,X),z=Math.max(z,X)}else for(V=0;V<A.length;++V)X=A[V][2],q=Math.min(q,X),z=Math.max(z,X);for(this.intensity=F||function(ae){for(var ue=ae.length,ce=new Array(ue),de=0;de<ue;++de)ce[de]=ae[de][2];return ce}(A),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],V=0;V<A.length;++V)for(var j=A[V],H=0;H<3;++H)!isNaN(j[H])&&isFinite(j[H])&&(this.bounds[0][H]=Math.min(this.bounds[0][H],j[H]),this.bounds[1][H]=Math.max(this.bounds[1][H],j[H]));var G=0;e:for(V=0;V<_.length;++V){var ie=_[V];if(ie.length===3){for(H=0;H<3;++H){j=A[te=ie[H]];for(var re=0;re<3;++re)if(isNaN(j[re])||!isFinite(j[re]))continue e}for(H=0;H<3;++H){var te;j=A[te=ie[2-H]],L.push(j[0],j[1],j[2],j[3]);var K=p[te];M.push(K[0],K[1],K[2],K[3]||0);var J,$=D;$.length===3?C.push($[0],$[1],$[2],1):C.push($[0],$[1],$[2],$[3]),J=F?[(F[te]-q)/(z-q),0]:[(j[2]-q)/(z-q),0],R.push(J[0],J[1]),I.push(V)}G+=1}}this.triangleCount=G,this.trianglePositions.update(L),this.triangleVectors.update(M),this.triangleColors.update(C),this.triangleUVs.update(R),this.triangleIds.update(new Uint32Array(I))}},y.drawTransparent=y.draw=function(m){m=m||{};for(var w=this.gl,_=m.model||T,A=m.view||T,p=m.projection||T,L=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],M=0;M<3;++M)L[0][M]=Math.max(L[0][M],this.clipBounds[0][M]),L[1][M]=Math.min(L[1][M],this.clipBounds[1][M]);var C={model:_,view:A,projection:p,inverseModel:T.slice(),clipBounds:L,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};C.inverseModel=u(C.inverseModel,C.model),w.disable(w.CULL_FACE),this.texture.bind(0);var R=new Array(16);for(l(R,C.view,C.model),l(R,C.projection,R),u(R,R),M=0;M<3;++M)C.eyePosition[M]=R[12+M]/R[15];var I=R[15];for(M=0;M<3;++M)I+=this.lightPosition[M]*R[4*M+3];for(M=0;M<3;++M){for(var D=R[12+M],F=0;F<3;++F)D+=R[4*F+M]*this.lightPosition[F];C.lightPosition[M]=D/I}if(this.triangleCount>0){var q=this.triShader;q.bind(),q.uniforms=C,this.triangleVAO.bind(),w.drawArrays(w.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},y.drawPick=function(m){m=m||{};for(var w=this.gl,_=m.model||T,A=m.view||T,p=m.projection||T,L=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],M=0;M<3;++M)L[0][M]=Math.max(L[0][M],this.clipBounds[0][M]),L[1][M]=Math.min(L[1][M],this.clipBounds[1][M]);this._model=[].slice.call(_),this._view=[].slice.call(A),this._projection=[].slice.call(p),this._resolution=[w.drawingBufferWidth,w.drawingBufferHeight];var C={model:_,view:A,projection:p,clipBounds:L,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},R=this.pickShader;R.bind(),R.uniforms=C,this.triangleCount>0&&(this.triangleVAO.bind(),w.drawArrays(w.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind())},y.pick=function(m){if(!m||m.id!==this.pickId)return null;var w=m.value[0]+256*m.value[1]+65536*m.value[2],_=this.cells[w],A=this.positions[_[1]].slice(0,3),p={position:A,dataCoordinate:A,index:Math.floor(_[1]/48)};return this.traceType==="cone"?p.index=Math.floor(_[1]/48):this.traceType==="streamtube"&&(p.intensity=this.intensity[_[1]],p.velocity=this.vectors[_[1]].slice(0,3),p.divergence=this.vectors[_[1]][3],p.index=w),p},y.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()},c.exports=function(m,w,_){var A=_.shaders;arguments.length===1&&(m=(w=m).gl);var p=function(z,V){var X=i(z,V.meshShader.vertex,V.meshShader.fragment,null,V.meshShader.attributes);return X.attributes.position.location=0,X.attributes.color.location=2,X.attributes.uv.location=3,X.attributes.vector.location=4,X}(m,A),L=function(z,V){var X=i(z,V.pickShader.vertex,V.pickShader.fragment,null,V.pickShader.attributes);return X.attributes.position.location=0,X.attributes.id.location=1,X.attributes.vector.location=4,X}(m,A),M=o(m,h(new Uint8Array([255,255,255,255]),[1,1,4]));M.generateMipmap(),M.minFilter=m.LINEAR_MIPMAP_LINEAR,M.magFilter=m.LINEAR;var C=a(m),R=a(m),I=a(m),D=a(m),F=a(m),q=new d(m,M,p,L,C,R,F,I,D,r(m,[{buffer:C,type:m.FLOAT,size:4},{buffer:F,type:m.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:I,type:m.FLOAT,size:4},{buffer:D,type:m.FLOAT,size:2},{buffer:R,type:m.FLOAT,size:4}]),_.traceType||"cone");return q.update(w),q}},614:function(c,s,n){var i=n(3236),a=i([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),r=i([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),o=i([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * (view * conePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);s.meshShader={vertex:a,fragment:r,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},s.pickShader={vertex:o,fragment:l,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},737:function(c){c.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},5171:function(c,s,n){var i=n(737);c.exports=function(a){return i[a]}},9165:function(c,s,n){c.exports=function(d){var y=d.gl,m=i(y),w=a(y,[{buffer:m,type:y.FLOAT,size:3,offset:0,stride:40},{buffer:m,type:y.FLOAT,size:4,offset:12,stride:40},{buffer:m,type:y.FLOAT,size:3,offset:28,stride:40}]),_=r(y);_.attributes.position.location=0,_.attributes.color.location=1,_.attributes.offset.location=2;var A=new l(y,m,w,_);return A.update(d),A};var i=n(2762),a=n(8116),r=n(3436),o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function l(d,y,m,w){this.gl=d,this.shader=w,this.buffer=y,this.vao=m,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var u=l.prototype;function h(d,y){for(var m=0;m<3;++m)d[0][m]=Math.min(d[0][m],y[m]),d[1][m]=Math.max(d[1][m],y[m])}u.isOpaque=function(){return!this.hasAlpha},u.isTransparent=function(){return this.hasAlpha},u.drawTransparent=u.draw=function(d){var y=this.gl,m=this.shader.uniforms;this.shader.bind();var w=m.view=d.view||o,_=m.projection=d.projection||o;m.model=d.model||o,m.clipBounds=this.clipBounds,m.opacity=this.opacity;var A=w[12],p=w[13],L=w[14],M=w[15],C=(d._ortho?2:1)*this.pixelRatio*(_[3]*A+_[7]*p+_[11]*L+_[15]*M)/y.drawingBufferHeight;this.vao.bind();for(var R=0;R<3;++R)y.lineWidth(this.lineWidth[R]*this.pixelRatio),m.capSize=this.capSize[R]*C,this.lineCount[R]&&y.drawArrays(y.LINES,this.lineOffset[R],this.lineCount[R]);this.vao.unbind()};var f=function(){for(var d=new Array(3),y=0;y<3;++y){for(var m=[],w=1;w<=2;++w)for(var _=-1;_<=1;_+=2){var A=[0,0,0];A[(w+y)%3]=_,m.push(A)}d[y]=m}return d}();function T(d,y,m,w){for(var _=f[w],A=0;A<_.length;++A){var p=_[A];d.push(y[0],y[1],y[2],m[0],m[1],m[2],m[3],p[0],p[1],p[2])}return _.length}u.update=function(d){"lineWidth"in(d=d||{})&&(this.lineWidth=d.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in d&&(this.capSize=d.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in d&&(this.opacity=+d.opacity,this.opacity<1&&(this.hasAlpha=!0));var y=d.color||[[0,0,0],[0,0,0],[0,0,0]],m=d.position,w=d.error;if(Array.isArray(y[0])||(y=[y,y,y]),m&&w){var _=[],A=m.length,p=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var L=0;L<3;++L){this.lineOffset[L]=p;e:for(var M=0;M<A;++M){for(var C=m[M],R=0;R<3;++R)if(isNaN(C[R])||!isFinite(C[R]))continue e;var I,D=w[M],F=y[L];Array.isArray(F[0])&&(F=y[M]),F.length===3?F=[F[0],F[1],F[2],1]:F.length===4&&(F=[F[0],F[1],F[2],F[3]],!this.hasAlpha&&F[3]<1&&(this.hasAlpha=!0)),!isNaN(D[0][L])&&!isNaN(D[1][L])&&(D[0][L]<0&&((I=C.slice())[L]+=D[0][L],_.push(C[0],C[1],C[2],F[0],F[1],F[2],F[3],0,0,0,I[0],I[1],I[2],F[0],F[1],F[2],F[3],0,0,0),h(this.bounds,I),p+=2+T(_,I,F,L)),D[1][L]>0&&((I=C.slice())[L]+=D[1][L],_.push(C[0],C[1],C[2],F[0],F[1],F[2],F[3],0,0,0,I[0],I[1],I[2],F[0],F[1],F[2],F[3],0,0,0),h(this.bounds,I),p+=2+T(_,I,F,L)))}this.lineCount[L]=p-this.lineOffset[L]}this.buffer.update(_)}},u.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},3436:function(c,s,n){var i=n(3236),a=n(9405),r=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * (view * worldPosition);
  fragColor           = color;
  fragPosition        = position;
}`]),o=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);c.exports=function(l){return a(l,r,o,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},2260:function(c,s,n){var i=n(7766);c.exports=function(A,p,L,M){a||(a=A.FRAMEBUFFER_UNSUPPORTED,r=A.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,o=A.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,l=A.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var C=A.getExtension("WEBGL_draw_buffers");if(!u&&C&&function(V,X){var j=V.getParameter(X.MAX_COLOR_ATTACHMENTS_WEBGL);u=new Array(j+1);for(var H=0;H<=j;++H){for(var G=new Array(j),ie=0;ie<H;++ie)G[ie]=V.COLOR_ATTACHMENT0+ie;for(ie=H;ie<j;++ie)G[ie]=V.NONE;u[H]=G}}(A,C),Array.isArray(p)&&(M=L,L=0|p[1],p=0|p[0]),typeof p!="number")throw new Error("gl-fbo: Missing shape parameter");var R=A.getParameter(A.MAX_RENDERBUFFER_SIZE);if(p<0||p>R||L<0||L>R)throw new Error("gl-fbo: Parameters are too large for FBO");var I=1;if("color"in(M=M||{})){if((I=Math.max(0|M.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(I>1){if(!C)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(I>A.getParameter(C.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+I+" draw buffers")}}var D=A.UNSIGNED_BYTE,F=A.getExtension("OES_texture_float");if(M.float&&I>0){if(!F)throw new Error("gl-fbo: Context does not support floating point textures");D=A.FLOAT}else M.preferFloat&&I>0&&F&&(D=A.FLOAT);var q=!0;"depth"in M&&(q=!!M.depth);var z=!1;return"stencil"in M&&(z=!!M.stencil),new m(A,p,L,D,I,q,z,C)};var a,r,o,l,u=null;function h(A){return[A.getParameter(A.FRAMEBUFFER_BINDING),A.getParameter(A.RENDERBUFFER_BINDING),A.getParameter(A.TEXTURE_BINDING_2D)]}function f(A,p){A.bindFramebuffer(A.FRAMEBUFFER,p[0]),A.bindRenderbuffer(A.RENDERBUFFER,p[1]),A.bindTexture(A.TEXTURE_2D,p[2])}function T(A){switch(A){case a:throw new Error("gl-fbo: Framebuffer unsupported");case r:throw new Error("gl-fbo: Framebuffer incomplete attachment");case o:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case l:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function d(A,p,L,M,C,R){if(!M)return null;var I=i(A,p,L,C,M);return I.magFilter=A.NEAREST,I.minFilter=A.NEAREST,I.mipSamples=1,I.bind(),A.framebufferTexture2D(A.FRAMEBUFFER,R,A.TEXTURE_2D,I.handle,0),I}function y(A,p,L,M,C){var R=A.createRenderbuffer();return A.bindRenderbuffer(A.RENDERBUFFER,R),A.renderbufferStorage(A.RENDERBUFFER,M,p,L),A.framebufferRenderbuffer(A.FRAMEBUFFER,C,A.RENDERBUFFER,R),R}function m(A,p,L,M,C,R,I,D){this.gl=A,this._shape=[0|p,0|L],this._destroyed=!1,this._ext=D,this.color=new Array(C);for(var F=0;F<C;++F)this.color[F]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=M,this._useDepth=R,this._useStencil=I;var q=this,z=[0|p,0|L];Object.defineProperties(z,{0:{get:function(){return q._shape[0]},set:function(V){return q.width=V}},1:{get:function(){return q._shape[1]},set:function(V){return q.height=V}}}),this._shapeVector=z,function(V){var X=h(V.gl),j=V.gl,H=V.handle=j.createFramebuffer(),G=V._shape[0],ie=V._shape[1],re=V.color.length,te=V._ext,K=V._useStencil,J=V._useDepth,$=V._colorType;j.bindFramebuffer(j.FRAMEBUFFER,H);for(var ae=0;ae<re;++ae)V.color[ae]=d(j,G,ie,$,j.RGBA,j.COLOR_ATTACHMENT0+ae);re===0?(V._color_rb=y(j,G,ie,j.RGBA4,j.COLOR_ATTACHMENT0),te&&te.drawBuffersWEBGL(u[0])):re>1&&te.drawBuffersWEBGL(u[re]);var ue=j.getExtension("WEBGL_depth_texture");ue?K?V.depth=d(j,G,ie,ue.UNSIGNED_INT_24_8_WEBGL,j.DEPTH_STENCIL,j.DEPTH_STENCIL_ATTACHMENT):J&&(V.depth=d(j,G,ie,j.UNSIGNED_SHORT,j.DEPTH_COMPONENT,j.DEPTH_ATTACHMENT)):J&&K?V._depth_rb=y(j,G,ie,j.DEPTH_STENCIL,j.DEPTH_STENCIL_ATTACHMENT):J?V._depth_rb=y(j,G,ie,j.DEPTH_COMPONENT16,j.DEPTH_ATTACHMENT):K&&(V._depth_rb=y(j,G,ie,j.STENCIL_INDEX,j.STENCIL_ATTACHMENT));var ce=j.checkFramebufferStatus(j.FRAMEBUFFER);if(ce!==j.FRAMEBUFFER_COMPLETE){for(V._destroyed=!0,j.bindFramebuffer(j.FRAMEBUFFER,null),j.deleteFramebuffer(V.handle),V.handle=null,V.depth&&(V.depth.dispose(),V.depth=null),V._depth_rb&&(j.deleteRenderbuffer(V._depth_rb),V._depth_rb=null),ae=0;ae<V.color.length;++ae)V.color[ae].dispose(),V.color[ae]=null;V._color_rb&&(j.deleteRenderbuffer(V._color_rb),V._color_rb=null),f(j,X),T(ce)}f(j,X)}(this)}var w=m.prototype;function _(A,p,L){if(A._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(A._shape[0]!==p||A._shape[1]!==L){var M=A.gl,C=M.getParameter(M.MAX_RENDERBUFFER_SIZE);if(p<0||p>C||L<0||L>C)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");A._shape[0]=p,A._shape[1]=L;for(var R=h(M),I=0;I<A.color.length;++I)A.color[I].shape=A._shape;A._color_rb&&(M.bindRenderbuffer(M.RENDERBUFFER,A._color_rb),M.renderbufferStorage(M.RENDERBUFFER,M.RGBA4,A._shape[0],A._shape[1])),A.depth&&(A.depth.shape=A._shape),A._depth_rb&&(M.bindRenderbuffer(M.RENDERBUFFER,A._depth_rb),A._useDepth&&A._useStencil?M.renderbufferStorage(M.RENDERBUFFER,M.DEPTH_STENCIL,A._shape[0],A._shape[1]):A._useDepth?M.renderbufferStorage(M.RENDERBUFFER,M.DEPTH_COMPONENT16,A._shape[0],A._shape[1]):A._useStencil&&M.renderbufferStorage(M.RENDERBUFFER,M.STENCIL_INDEX,A._shape[0],A._shape[1])),M.bindFramebuffer(M.FRAMEBUFFER,A.handle);var D=M.checkFramebufferStatus(M.FRAMEBUFFER);D!==M.FRAMEBUFFER_COMPLETE&&(A.dispose(),f(M,R),T(D)),f(M,R)}}Object.defineProperties(w,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(A){if(Array.isArray(A)||(A=[0|A,0|A]),A.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var p=0|A[0],L=0|A[1];return _(this,p,L),[p,L]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(A){return _(this,A|=0,this._shape[1]),A},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(A){return A|=0,_(this,this._shape[0],A),A},enumerable:!1}}),w.bind=function(){if(!this._destroyed){var A=this.gl;A.bindFramebuffer(A.FRAMEBUFFER,this.handle),A.viewport(0,0,this._shape[0],this._shape[1])}},w.dispose=function(){if(!this._destroyed){this._destroyed=!0;var A=this.gl;A.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(A.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var p=0;p<this.color.length;++p)this.color[p].dispose(),this.color[p]=null;this._color_rb&&(A.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},2992:function(c,s,n){var i=n(3387).sprintf,a=n(5171),r=n(1848),o=n(1085);c.exports=function(l,u,h){var f=r(u)||"of unknown name (see npm glsl-shader-name)",T="unknown type";h!==void 0&&(T=h===a.FRAGMENT_SHADER?"fragment":"vertex");for(var d=i(`Error compiling %s shader %s:
`,T,f),y=i("%s%s",d,l),m=l.split(`
`),w={},_=0;_<m.length;_++){var A=m[_];if(A!==""&&A!=="\0"){var p=parseInt(A.split(":")[2]);if(isNaN(p))throw new Error(i("Could not parse error: %s",A));w[p]=A}}var L=o(u).split(`
`);for(_=0;_<L.length;_++)if((w[_+3]||w[_+2]||w[_+1])&&(d+=L[_]+`
`,w[_+1])){var M=w[_+1];M=M.substr(M.split(":",3).join(":").length+1).trim(),d+=i(`^^^ %s

`,M)}return{long:d.trim(),short:y.trim()}}},2510:function(c,s,n){c.exports=function(y,m){var w=y.gl,_=new h(y,o(w,u.vertex,u.fragment),o(w,u.pickVertex,u.pickFragment),l(w),l(w),l(w),l(w));return _.update(m),y.addObject(_),_};var i=n(2478),a=n(7762),r=n(1888),o=n(9405),l=n(2762),u=n(6768);function h(y,m,w,_,A,p,L){this.plot=y,this.shader=m,this.pickShader=w,this.positionBuffer=_,this.weightBuffer=A,this.colorBuffer=p,this.idBuffer=L,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var f,T=h.prototype,d=[0,0,1,0,0,1,1,0,1,1,0,1];T.draw=(f=[1,0,0,0,1,0,0,0,1],function(){var y=this.plot,m=this.shader,w=this.bounds,_=this.numVertices;if(!(_<=0)){var A=y.gl,p=y.dataBox,L=w[2]-w[0],M=w[3]-w[1],C=p[2]-p[0],R=p[3]-p[1];f[0]=2*L/C,f[4]=2*M/R,f[6]=2*(w[0]-p[0])/C-1,f[7]=2*(w[1]-p[1])/R-1,m.bind();var I=m.uniforms;I.viewTransform=f,I.shape=this.shape;var D=m.attributes;this.positionBuffer.bind(),D.position.pointer(),this.weightBuffer.bind(),D.weight.pointer(A.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),D.color.pointer(A.UNSIGNED_BYTE,!0),A.drawArrays(A.TRIANGLES,0,_)}}),T.drawPick=function(){var y=[1,0,0,0,1,0,0,0,1],m=[0,0,0,0];return function(w){var _=this.plot,A=this.pickShader,p=this.bounds,L=this.numVertices;if(!(L<=0)){var M=_.gl,C=_.dataBox,R=p[2]-p[0],I=p[3]-p[1],D=C[2]-C[0],F=C[3]-C[1];y[0]=2*R/D,y[4]=2*I/F,y[6]=2*(p[0]-C[0])/D-1,y[7]=2*(p[1]-C[1])/F-1;for(var q=0;q<4;++q)m[q]=w>>8*q&255;this.pickOffset=w,A.bind();var z=A.uniforms;z.viewTransform=y,z.pickOffset=m,z.shape=this.shape;var V=A.attributes;return this.positionBuffer.bind(),V.position.pointer(),this.weightBuffer.bind(),V.weight.pointer(M.UNSIGNED_BYTE,!1),this.idBuffer.bind(),V.pickId.pointer(M.UNSIGNED_BYTE,!1),M.drawArrays(M.TRIANGLES,0,L),w+this.shape[0]*this.shape[1]}}}(),T.pick=function(y,m,w){var _=this.pickOffset,A=this.shape[0]*this.shape[1];if(w<_||w>=_+A)return null;var p=w-_,L=this.xData,M=this.yData;return{object:this,pointId:p,dataCoord:[L[p%this.shape[0]],M[p/this.shape[0]|0]]}},T.update=function(y){var m=(y=y||{}).shape||[0,0],w=y.x||a(m[0]),_=y.y||a(m[1]),A=y.z||new Float32Array(m[0]*m[1]),p=y.zsmooth!==!1;this.xData=w,this.yData=_;var L,M,C,R,I=y.colorLevels||[0],D=y.colorValues||[0,0,0,1],F=I.length,q=this.bounds;p?(L=q[0]=w[0],M=q[1]=_[0],C=q[2]=w[w.length-1],R=q[3]=_[_.length-1]):(L=q[0]=w[0]+(w[1]-w[0])/2,M=q[1]=_[0]+(_[1]-_[0])/2,C=q[2]=w[w.length-1]+(w[w.length-1]-w[w.length-2])/2,R=q[3]=_[_.length-1]+(_[_.length-1]-_[_.length-2])/2);var z=1/(C-L),V=1/(R-M),X=m[0],j=m[1];this.shape=[X,j];var H=(p?(X-1)*(j-1):X*j)*(d.length>>>1);this.numVertices=H;for(var G=r.mallocUint8(4*H),ie=r.mallocFloat32(2*H),re=r.mallocUint8(2*H),te=r.mallocUint32(H),K=0,J=p?X-1:X,$=p?j-1:j,ae=0;ae<$;++ae){var ue,ce;p?(ue=V*(_[ae]-M),ce=V*(_[ae+1]-M)):(ue=ae<j-1?V*(_[ae]-(_[ae+1]-_[ae])/2-M):V*(_[ae]-(_[ae]-_[ae-1])/2-M),ce=ae<j-1?V*(_[ae]+(_[ae+1]-_[ae])/2-M):V*(_[ae]+(_[ae]-_[ae-1])/2-M));for(var de=0;de<J;++de){var pe,me;p?(pe=z*(w[de]-L),me=z*(w[de+1]-L)):(pe=de<X-1?z*(w[de]-(w[de+1]-w[de])/2-L):z*(w[de]-(w[de]-w[de-1])/2-L),me=de<X-1?z*(w[de]+(w[de+1]-w[de])/2-L):z*(w[de]+(w[de]-w[de-1])/2-L));for(var be=0;be<d.length;be+=2){var we,Te,Le,Ie,_e=d[be],fe=d[be+1],le=A[p?(ae+fe)*X+(de+_e):ae*X+de],ye=i.le(I,le);if(ye<0)we=D[0],Te=D[1],Le=D[2],Ie=D[3];else if(ye===F-1)we=D[4*F-4],Te=D[4*F-3],Le=D[4*F-2],Ie=D[4*F-1];else{var Oe=(le-I[ye])/(I[ye+1]-I[ye]),Ae=1-Oe,Se=4*ye,Pe=4*(ye+1);we=Ae*D[Se]+Oe*D[Pe],Te=Ae*D[Se+1]+Oe*D[Pe+1],Le=Ae*D[Se+2]+Oe*D[Pe+2],Ie=Ae*D[Se+3]+Oe*D[Pe+3]}G[4*K]=255*we,G[4*K+1]=255*Te,G[4*K+2]=255*Le,G[4*K+3]=255*Ie,ie[2*K]=.5*pe+.5*me,ie[2*K+1]=.5*ue+.5*ce,re[2*K]=_e,re[2*K+1]=fe,te[K]=ae*X+de,K+=1}}}this.positionBuffer.update(ie),this.weightBuffer.update(re),this.colorBuffer.update(G),this.idBuffer.update(te),r.free(ie),r.free(G),r.free(re),r.free(te)},T.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},6768:function(c,s,n){var i=n(3236);c.exports={fragment:i([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:i([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},7319:function(c,s,n){var i=n(3236),a=n(9405),r=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),o=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),u=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];s.createShader=function(h){return a(h,r,o,null,u)},s.createPickShader=function(h){return a(h,r,l,null,u)}},5714:function(c,s,n){c.exports=function(L){var M=L.gl||L.scene&&L.scene.gl,C=T(M);C.attributes.position.location=0,C.attributes.nextPosition.location=1,C.attributes.arcLength.location=2,C.attributes.lineWidth.location=3,C.attributes.color.location=4;var R=d(M);R.attributes.position.location=0,R.attributes.nextPosition.location=1,R.attributes.arcLength.location=2,R.attributes.lineWidth.location=3,R.attributes.color.location=4;for(var I=i(M),D=a(M,[{buffer:I,size:3,offset:0,stride:48},{buffer:I,size:3,offset:12,stride:48},{buffer:I,size:1,offset:24,stride:48},{buffer:I,size:1,offset:28,stride:48},{buffer:I,size:4,offset:32,stride:48}]),F=h(new Array(1024),[256,1,4]),q=0;q<1024;++q)F.data[q]=255;var z=r(M,F);z.wrap=M.REPEAT;var V=new A(M,C,R,I,D,z);return V.update(L),V};var i=n(2762),a=n(8116),r=n(7766),o=new Uint8Array(4),l=new Float32Array(o.buffer),u=n(2478),h=n(9618),f=n(7319),T=f.createShader,d=f.createPickShader,y=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function m(L,M){for(var C=0,R=0;R<3;++R){var I=L[R]-M[R];C+=I*I}return Math.sqrt(C)}function w(L){for(var M=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],C=0;C<3;++C)M[0][C]=Math.max(L[0][C],M[0][C]),M[1][C]=Math.min(L[1][C],M[1][C]);return M}function _(L,M,C,R){this.arcLength=L,this.position=M,this.index=C,this.dataCoordinate=R}function A(L,M,C,R,I,D){this.gl=L,this.shader=M,this.pickShader=C,this.buffer=R,this.vao=I,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=D,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var p=A.prototype;p.isTransparent=function(){return this.hasAlpha},p.isOpaque=function(){return!this.hasAlpha},p.pickSlots=1,p.setPickBase=function(L){this.pickId=L},p.drawTransparent=p.draw=function(L){if(this.vertexCount){var M=this.gl,C=this.shader,R=this.vao;C.bind(),C.uniforms={model:L.model||y,view:L.view||y,projection:L.projection||y,clipBounds:w(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[M.drawingBufferWidth,M.drawingBufferHeight],pixelRatio:this.pixelRatio},R.bind(),R.draw(M.TRIANGLE_STRIP,this.vertexCount),R.unbind()}},p.drawPick=function(L){if(this.vertexCount){var M=this.gl,C=this.pickShader,R=this.vao;C.bind(),C.uniforms={model:L.model||y,view:L.view||y,projection:L.projection||y,pickId:this.pickId,clipBounds:w(this.clipBounds),screenShape:[M.drawingBufferWidth,M.drawingBufferHeight],pixelRatio:this.pixelRatio},R.bind(),R.draw(M.TRIANGLE_STRIP,this.vertexCount),R.unbind()}},p.update=function(L){var M,C;this.dirty=!0;var R=!!L.connectGaps;"dashScale"in L&&(this.dashScale=L.dashScale),this.hasAlpha=!1,"opacity"in L&&(this.opacity=+L.opacity,this.opacity<1&&(this.hasAlpha=!0));var I=[],D=[],F=[],q=0,z=0,V=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],X=L.position||L.positions;if(X){var j=L.color||L.colors||[0,0,0,1],H=L.lineWidth||1,G=!1;e:for(M=1;M<X.length;++M){var ie,re,te,K=X[M-1],J=X[M];for(D.push(q),F.push(K.slice()),C=0;C<3;++C){if(isNaN(K[C])||isNaN(J[C])||!isFinite(K[C])||!isFinite(J[C])){if(!R&&I.length>0){for(var $=0;$<24;++$)I.push(I[I.length-12]);z+=2,G=!0}continue e}V[0][C]=Math.min(V[0][C],K[C],J[C]),V[1][C]=Math.max(V[1][C],K[C],J[C])}Array.isArray(j[0])?(ie=j.length>M-1?j[M-1]:j.length>0?j[j.length-1]:[0,0,0,1],re=j.length>M?j[M]:j.length>0?j[j.length-1]:[0,0,0,1]):ie=re=j,ie.length===3&&(ie=[ie[0],ie[1],ie[2],1]),re.length===3&&(re=[re[0],re[1],re[2],1]),!this.hasAlpha&&ie[3]<1&&(this.hasAlpha=!0),te=Array.isArray(H)?H.length>M-1?H[M-1]:H.length>0?H[H.length-1]:[0,0,0,1]:H;var ae=q;if(q+=m(K,J),G){for(C=0;C<2;++C)I.push(K[0],K[1],K[2],J[0],J[1],J[2],ae,te,ie[0],ie[1],ie[2],ie[3]);z+=2,G=!1}I.push(K[0],K[1],K[2],J[0],J[1],J[2],ae,te,ie[0],ie[1],ie[2],ie[3],K[0],K[1],K[2],J[0],J[1],J[2],ae,-te,ie[0],ie[1],ie[2],ie[3],J[0],J[1],J[2],K[0],K[1],K[2],q,-te,re[0],re[1],re[2],re[3],J[0],J[1],J[2],K[0],K[1],K[2],q,te,re[0],re[1],re[2],re[3]),z+=4}}if(this.buffer.update(I),D.push(q),F.push(X[X.length-1].slice()),this.bounds=V,this.vertexCount=z,this.points=F,this.arcLength=D,"dashes"in L){var ue=L.dashes.slice();for(ue.unshift(0),M=1;M<ue.length;++M)ue[M]=ue[M-1]+ue[M];var ce=h(new Array(1024),[256,1,4]);for(M=0;M<256;++M){for(C=0;C<4;++C)ce.set(M,0,C,0);1&u.le(ue,ue[ue.length-1]*M/255)?ce.set(M,0,0,0):ce.set(M,0,0,255)}this.texture.setPixels(ce)}},p.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},p.pick=function(L){if(!L||L.id!==this.pickId)return null;var M=function(X,j,H,G){return o[0]=0,o[1]=H,o[2]=j,o[3]=X,l[0]}(L.value[0],L.value[1],L.value[2]),C=u.le(this.arcLength,M);if(C<0)return null;if(C===this.arcLength.length-1)return new _(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),C);for(var R=this.points[C],I=this.points[Math.min(C+1,this.points.length-1)],D=(M-this.arcLength[C])/(this.arcLength[C+1]-this.arcLength[C]),F=1-D,q=[0,0,0],z=0;z<3;++z)q[z]=F*R[z]+D*I[z];var V=Math.min(D<.5?C:C+1,this.points.length-1);return new _(M,q,V,this.points[V])}},1903:function(c){c.exports=function(s){var n=new Float32Array(16);return n[0]=s[0],n[1]=s[1],n[2]=s[2],n[3]=s[3],n[4]=s[4],n[5]=s[5],n[6]=s[6],n[7]=s[7],n[8]=s[8],n[9]=s[9],n[10]=s[10],n[11]=s[11],n[12]=s[12],n[13]=s[13],n[14]=s[14],n[15]=s[15],n}},6864:function(c){c.exports=function(){var s=new Float32Array(16);return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},9921:function(c){c.exports=function(s){var n=s[0],i=s[1],a=s[2],r=s[3],o=s[4],l=s[5],u=s[6],h=s[7],f=s[8],T=s[9],d=s[10],y=s[11],m=s[12],w=s[13],_=s[14],A=s[15];return(n*l-i*o)*(d*A-y*_)-(n*u-a*o)*(T*A-y*w)+(n*h-r*o)*(T*_-d*w)+(i*u-a*l)*(f*A-y*m)-(i*h-r*l)*(f*_-d*m)+(a*h-r*u)*(f*w-T*m)}},7399:function(c){c.exports=function(s,n){var i=n[0],a=n[1],r=n[2],o=n[3],l=i+i,u=a+a,h=r+r,f=i*l,T=a*l,d=a*u,y=r*l,m=r*u,w=r*h,_=o*l,A=o*u,p=o*h;return s[0]=1-d-w,s[1]=T+p,s[2]=y-A,s[3]=0,s[4]=T-p,s[5]=1-f-w,s[6]=m+_,s[7]=0,s[8]=y+A,s[9]=m-_,s[10]=1-f-d,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},6743:function(c){c.exports=function(s,n,i){var a=n[0],r=n[1],o=n[2],l=n[3],u=a+a,h=r+r,f=o+o,T=a*u,d=a*h,y=a*f,m=r*h,w=r*f,_=o*f,A=l*u,p=l*h,L=l*f;return s[0]=1-(m+_),s[1]=d+L,s[2]=y-p,s[3]=0,s[4]=d-L,s[5]=1-(T+_),s[6]=w+A,s[7]=0,s[8]=y+p,s[9]=w-A,s[10]=1-(T+m),s[11]=0,s[12]=i[0],s[13]=i[1],s[14]=i[2],s[15]=1,s}},7894:function(c){c.exports=function(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},7608:function(c){c.exports=function(s,n){var i=n[0],a=n[1],r=n[2],o=n[3],l=n[4],u=n[5],h=n[6],f=n[7],T=n[8],d=n[9],y=n[10],m=n[11],w=n[12],_=n[13],A=n[14],p=n[15],L=i*u-a*l,M=i*h-r*l,C=i*f-o*l,R=a*h-r*u,I=a*f-o*u,D=r*f-o*h,F=T*_-d*w,q=T*A-y*w,z=T*p-m*w,V=d*A-y*_,X=d*p-m*_,j=y*p-m*A,H=L*j-M*X+C*V+R*z-I*q+D*F;return H?(H=1/H,s[0]=(u*j-h*X+f*V)*H,s[1]=(r*X-a*j-o*V)*H,s[2]=(_*D-A*I+p*R)*H,s[3]=(y*I-d*D-m*R)*H,s[4]=(h*z-l*j-f*q)*H,s[5]=(i*j-r*z+o*q)*H,s[6]=(A*C-w*D-p*M)*H,s[7]=(T*D-y*C+m*M)*H,s[8]=(l*X-u*z+f*F)*H,s[9]=(a*z-i*X-o*F)*H,s[10]=(w*I-_*C+p*L)*H,s[11]=(d*C-T*I-m*L)*H,s[12]=(u*q-l*V-h*F)*H,s[13]=(i*V-a*q+r*F)*H,s[14]=(_*M-w*R-A*L)*H,s[15]=(T*R-d*M+y*L)*H,s):null}},6582:function(c,s,n){var i=n(7894);c.exports=function(a,r,o,l){var u,h,f,T,d,y,m,w,_,A,p=r[0],L=r[1],M=r[2],C=l[0],R=l[1],I=l[2],D=o[0],F=o[1],q=o[2];return Math.abs(p-D)<1e-6&&Math.abs(L-F)<1e-6&&Math.abs(M-q)<1e-6?i(a):(m=p-D,w=L-F,_=M-q,u=R*(_*=A=1/Math.sqrt(m*m+w*w+_*_))-I*(w*=A),h=I*(m*=A)-C*_,f=C*w-R*m,(A=Math.sqrt(u*u+h*h+f*f))?(u*=A=1/A,h*=A,f*=A):(u=0,h=0,f=0),T=w*f-_*h,d=_*u-m*f,y=m*h-w*u,(A=Math.sqrt(T*T+d*d+y*y))?(T*=A=1/A,d*=A,y*=A):(T=0,d=0,y=0),a[0]=u,a[1]=T,a[2]=m,a[3]=0,a[4]=h,a[5]=d,a[6]=w,a[7]=0,a[8]=f,a[9]=y,a[10]=_,a[11]=0,a[12]=-(u*p+h*L+f*M),a[13]=-(T*p+d*L+y*M),a[14]=-(m*p+w*L+_*M),a[15]=1,a)}},6760:function(c){c.exports=function(s,n,i){var a=n[0],r=n[1],o=n[2],l=n[3],u=n[4],h=n[5],f=n[6],T=n[7],d=n[8],y=n[9],m=n[10],w=n[11],_=n[12],A=n[13],p=n[14],L=n[15],M=i[0],C=i[1],R=i[2],I=i[3];return s[0]=M*a+C*u+R*d+I*_,s[1]=M*r+C*h+R*y+I*A,s[2]=M*o+C*f+R*m+I*p,s[3]=M*l+C*T+R*w+I*L,M=i[4],C=i[5],R=i[6],I=i[7],s[4]=M*a+C*u+R*d+I*_,s[5]=M*r+C*h+R*y+I*A,s[6]=M*o+C*f+R*m+I*p,s[7]=M*l+C*T+R*w+I*L,M=i[8],C=i[9],R=i[10],I=i[11],s[8]=M*a+C*u+R*d+I*_,s[9]=M*r+C*h+R*y+I*A,s[10]=M*o+C*f+R*m+I*p,s[11]=M*l+C*T+R*w+I*L,M=i[12],C=i[13],R=i[14],I=i[15],s[12]=M*a+C*u+R*d+I*_,s[13]=M*r+C*h+R*y+I*A,s[14]=M*o+C*f+R*m+I*p,s[15]=M*l+C*T+R*w+I*L,s}},4040:function(c){c.exports=function(s,n,i,a,r,o,l){var u=1/(n-i),h=1/(a-r),f=1/(o-l);return s[0]=-2*u,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=-2*h,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=2*f,s[11]=0,s[12]=(n+i)*u,s[13]=(r+a)*h,s[14]=(l+o)*f,s[15]=1,s}},4772:function(c){c.exports=function(s,n,i,a,r){var o=1/Math.tan(n/2),l=1/(a-r);return s[0]=o/i,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=o,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=(r+a)*l,s[11]=-1,s[12]=0,s[13]=0,s[14]=2*r*a*l,s[15]=0,s}},6079:function(c){c.exports=function(s,n,i,a){var r,o,l,u,h,f,T,d,y,m,w,_,A,p,L,M,C,R,I,D,F,q,z,V,X=a[0],j=a[1],H=a[2],G=Math.sqrt(X*X+j*j+H*H);return Math.abs(G)<1e-6?null:(X*=G=1/G,j*=G,H*=G,r=Math.sin(i),l=1-(o=Math.cos(i)),u=n[0],h=n[1],f=n[2],T=n[3],d=n[4],y=n[5],m=n[6],w=n[7],_=n[8],A=n[9],p=n[10],L=n[11],M=X*X*l+o,C=j*X*l+H*r,R=H*X*l-j*r,I=X*j*l-H*r,D=j*j*l+o,F=H*j*l+X*r,q=X*H*l+j*r,z=j*H*l-X*r,V=H*H*l+o,s[0]=u*M+d*C+_*R,s[1]=h*M+y*C+A*R,s[2]=f*M+m*C+p*R,s[3]=T*M+w*C+L*R,s[4]=u*I+d*D+_*F,s[5]=h*I+y*D+A*F,s[6]=f*I+m*D+p*F,s[7]=T*I+w*D+L*F,s[8]=u*q+d*z+_*V,s[9]=h*q+y*z+A*V,s[10]=f*q+m*z+p*V,s[11]=T*q+w*z+L*V,n!==s&&(s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15]),s)}},5567:function(c){c.exports=function(s,n,i){var a=Math.sin(i),r=Math.cos(i),o=n[4],l=n[5],u=n[6],h=n[7],f=n[8],T=n[9],d=n[10],y=n[11];return n!==s&&(s[0]=n[0],s[1]=n[1],s[2]=n[2],s[3]=n[3],s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15]),s[4]=o*r+f*a,s[5]=l*r+T*a,s[6]=u*r+d*a,s[7]=h*r+y*a,s[8]=f*r-o*a,s[9]=T*r-l*a,s[10]=d*r-u*a,s[11]=y*r-h*a,s}},2408:function(c){c.exports=function(s,n,i){var a=Math.sin(i),r=Math.cos(i),o=n[0],l=n[1],u=n[2],h=n[3],f=n[8],T=n[9],d=n[10],y=n[11];return n!==s&&(s[4]=n[4],s[5]=n[5],s[6]=n[6],s[7]=n[7],s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15]),s[0]=o*r-f*a,s[1]=l*r-T*a,s[2]=u*r-d*a,s[3]=h*r-y*a,s[8]=o*a+f*r,s[9]=l*a+T*r,s[10]=u*a+d*r,s[11]=h*a+y*r,s}},7089:function(c){c.exports=function(s,n,i){var a=Math.sin(i),r=Math.cos(i),o=n[0],l=n[1],u=n[2],h=n[3],f=n[4],T=n[5],d=n[6],y=n[7];return n!==s&&(s[8]=n[8],s[9]=n[9],s[10]=n[10],s[11]=n[11],s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15]),s[0]=o*r+f*a,s[1]=l*r+T*a,s[2]=u*r+d*a,s[3]=h*r+y*a,s[4]=f*r-o*a,s[5]=T*r-l*a,s[6]=d*r-u*a,s[7]=y*r-h*a,s}},2504:function(c){c.exports=function(s,n,i){var a=i[0],r=i[1],o=i[2];return s[0]=n[0]*a,s[1]=n[1]*a,s[2]=n[2]*a,s[3]=n[3]*a,s[4]=n[4]*r,s[5]=n[5]*r,s[6]=n[6]*r,s[7]=n[7]*r,s[8]=n[8]*o,s[9]=n[9]*o,s[10]=n[10]*o,s[11]=n[11]*o,s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15],s}},7656:function(c){c.exports=function(s,n,i){var a,r,o,l,u,h,f,T,d,y,m,w,_=i[0],A=i[1],p=i[2];return n===s?(s[12]=n[0]*_+n[4]*A+n[8]*p+n[12],s[13]=n[1]*_+n[5]*A+n[9]*p+n[13],s[14]=n[2]*_+n[6]*A+n[10]*p+n[14],s[15]=n[3]*_+n[7]*A+n[11]*p+n[15]):(a=n[0],r=n[1],o=n[2],l=n[3],u=n[4],h=n[5],f=n[6],T=n[7],d=n[8],y=n[9],m=n[10],w=n[11],s[0]=a,s[1]=r,s[2]=o,s[3]=l,s[4]=u,s[5]=h,s[6]=f,s[7]=T,s[8]=d,s[9]=y,s[10]=m,s[11]=w,s[12]=a*_+u*A+d*p+n[12],s[13]=r*_+h*A+y*p+n[13],s[14]=o*_+f*A+m*p+n[14],s[15]=l*_+T*A+w*p+n[15]),s}},5665:function(c){c.exports=function(s,n){if(s===n){var i=n[1],a=n[2],r=n[3],o=n[6],l=n[7],u=n[11];s[1]=n[4],s[2]=n[8],s[3]=n[12],s[4]=i,s[6]=n[9],s[7]=n[13],s[8]=a,s[9]=o,s[11]=n[14],s[12]=r,s[13]=l,s[14]=u}else s[0]=n[0],s[1]=n[4],s[2]=n[8],s[3]=n[12],s[4]=n[1],s[5]=n[5],s[6]=n[9],s[7]=n[13],s[8]=n[2],s[9]=n[6],s[10]=n[10],s[11]=n[14],s[12]=n[3],s[13]=n[7],s[14]=n[11],s[15]=n[15];return s}},7626:function(c,s,n){var i=n(2642),a=n(9346);function r(u,h){for(var f=[0,0,0,0],T=0;T<4;++T)for(var d=0;d<4;++d)f[d]+=u[4*T+d]*h[T];return f}function o(u,h,f,T,d){for(var y=r(T,r(f,r(h,[u[0],u[1],u[2],1]))),m=0;m<3;++m)y[m]/=y[3];return[.5*d[0]*(1+y[0]),.5*d[1]*(1-y[1])]}function l(u,h){for(var f=[0,0,0],T=0;T<u.length;++T)for(var d=u[T],y=h[T],m=0;m<3;++m)f[m]+=y*d[m];return f}c.exports=function(u,h,f,T,d,y){if(u.length===1)return[0,u[0].slice()];for(var m=new Array(u.length),w=0;w<u.length;++w)m[w]=o(u[w],f,T,d,y);var _=0,A=1/0;for(w=0;w<m.length;++w){for(var p=0,L=0;L<2;++L)p+=Math.pow(m[w][L]-h[L],2);p<A&&(A=p,_=w)}var M=function(R,I){if(R.length===2){for(var D=0,F=0,q=0;q<2;++q)D+=Math.pow(I[q]-R[0][q],2),F+=Math.pow(I[q]-R[1][q],2);return(D=Math.sqrt(D))+(F=Math.sqrt(F))<1e-6?[1,0]:[F/(D+F),D/(F+D)]}if(R.length===3){var z=[0,0];return a(R[0],R[1],R[2],I,z),i(R,z)}return[]}(m,h),C=0;for(w=0;w<3;++w){if(M[w]<-.001||M[w]>1.0001)return null;C+=M[w]}return Math.abs(C-1)>.001?null:[_,l(u,M),M]}},840:function(c,s,n){var i=n(3236),a=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),r=i([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),o=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),l=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),u=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * (view * (model * vec4(position, 1.0)));
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),h=i([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),f=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_id        = id;
  f_position  = position;
}`]),T=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),d=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * (view * (model * vec4(position, 1.0)));
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),y=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
}`]),m=i([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);s.meshShader={vertex:a,fragment:r,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},s.wireShader={vertex:o,fragment:l,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},s.pointShader={vertex:u,fragment:h,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},s.pickShader={vertex:f,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},s.pointPickShader={vertex:d,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},s.contourShader={vertex:y,fragment:m,attributes:[{name:"position",type:"vec3"}]}},7201:function(c,s,n){var i=n(9405),a=n(2762),r=n(8116),o=n(7766),l=n(8406),u=n(6760),h=n(7608),f=n(9618),T=n(6729),d=n(7765),y=n(1888),m=n(840),w=n(7626),_=m.meshShader,A=m.wireShader,p=m.pointShader,L=m.pickShader,M=m.pointPickShader,C=m.contourShader,R=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function I(j,H,G,ie,re,te,K,J,$,ae,ue,ce,de,pe,me,be,we,Te,Le,Ie,_e,fe,le,ye,Oe,Ae,Se){this.gl=j,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=H,this.dirty=!0,this.triShader=G,this.lineShader=ie,this.pointShader=re,this.pickShader=te,this.pointPickShader=K,this.contourShader=J,this.trianglePositions=$,this.triangleColors=ue,this.triangleNormals=de,this.triangleUVs=ce,this.triangleIds=ae,this.triangleVAO=pe,this.triangleCount=0,this.lineWidth=1,this.edgePositions=me,this.edgeColors=we,this.edgeUVs=Te,this.edgeIds=be,this.edgeVAO=Le,this.edgeCount=0,this.pointPositions=Ie,this.pointColors=fe,this.pointUVs=le,this.pointSizes=ye,this.pointIds=_e,this.pointVAO=Oe,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=Ae,this.contourVAO=Se,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=R,this._view=R,this._projection=R,this._resolution=[1,1]}var D=I.prototype;function F(j,H){if(!H||!H.length)return 1;for(var G=0;G<H.length;++G){if(H.length<2)return 1;if(H[G][0]===j)return H[G][1];if(H[G][0]>j&&G>0){var ie=(H[G][0]-j)/(H[G][0]-H[G-1][0]);return H[G][1]*(1-ie)+ie*H[G-1][1]}}return 1}function q(j){var H=i(j,p.vertex,p.fragment);return H.attributes.position.location=0,H.attributes.color.location=2,H.attributes.uv.location=3,H.attributes.pointSize.location=4,H}function z(j){var H=i(j,L.vertex,L.fragment);return H.attributes.position.location=0,H.attributes.id.location=1,H}function V(j){var H=i(j,M.vertex,M.fragment);return H.attributes.position.location=0,H.attributes.id.location=1,H.attributes.pointSize.location=4,H}function X(j){var H=i(j,C.vertex,C.fragment);return H.attributes.position.location=0,H}D.isOpaque=function(){return!this.hasAlpha},D.isTransparent=function(){return this.hasAlpha},D.pickSlots=1,D.setPickBase=function(j){this.pickId=j},D.highlight=function(j){if(j&&this.contourEnable){for(var H=d(this.cells,this.intensity,j.intensity),G=H.cells,ie=H.vertexIds,re=H.vertexWeights,te=G.length,K=y.mallocFloat32(6*te),J=0,$=0;$<te;++$)for(var ae=G[$],ue=0;ue<2;++ue){var ce=ae[0];ae.length===2&&(ce=ae[ue]);for(var de=ie[ce][0],pe=ie[ce][1],me=re[ce],be=1-me,we=this.positions[de],Te=this.positions[pe],Le=0;Le<3;++Le)K[J++]=me*we[Le]+be*Te[Le]}this.contourCount=J/3|0,this.contourPositions.update(K.subarray(0,J)),y.free(K)}else this.contourCount=0},D.update=function(j){j=j||{};var H=this.gl;this.dirty=!0,"contourEnable"in j&&(this.contourEnable=j.contourEnable),"contourColor"in j&&(this.contourColor=j.contourColor),"lineWidth"in j&&(this.lineWidth=j.lineWidth),"lightPosition"in j&&(this.lightPosition=j.lightPosition),this.hasAlpha=!1,"opacity"in j&&(this.opacity=j.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in j&&(this.opacityscale=j.opacityscale,this.hasAlpha=!0),"ambient"in j&&(this.ambientLight=j.ambient),"diffuse"in j&&(this.diffuseLight=j.diffuse),"specular"in j&&(this.specularLight=j.specular),"roughness"in j&&(this.roughness=j.roughness),"fresnel"in j&&(this.fresnel=j.fresnel),j.texture?(this.texture.dispose(),this.texture=o(H,j.texture)):j.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=H.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=H.LINEAR,this.texture.setPixels(function(zt,Ft){for(var Pt=T({colormap:zt,nshades:256,format:"rgba"}),Ze=new Uint8Array(1024),Je=0;Je<256;++Je){for(var qe=Pt[Je],Ke=0;Ke<3;++Ke)Ze[4*Je+Ke]=qe[Ke];Ze[4*Je+3]=Ft?255*F(Je/255,Ft):255*qe[3]}return f(Ze,[256,256,4],[4,0,1])}(j.colormap,this.opacityscale)),this.texture.generateMipmap());var G=j.cells,ie=j.positions;if(ie&&G){var re=[],te=[],K=[],J=[],$=[],ae=[],ue=[],ce=[],de=[],pe=[],me=[],be=[],we=[],Te=[];this.cells=G,this.positions=ie;var Le=j.vertexNormals,Ie=j.cellNormals,_e=j.vertexNormalsEpsilon===void 0?1e-6:j.vertexNormalsEpsilon,fe=j.faceNormalsEpsilon===void 0?1e-6:j.faceNormalsEpsilon;j.useFacetNormals&&!Ie&&(Ie=l.faceNormals(G,ie,fe)),Ie||Le||(Le=l.vertexNormals(G,ie,_e));var le=j.vertexColors,ye=j.cellColors,Oe=j.meshColor||[1,1,1,1],Ae=j.vertexUVs,Se=j.vertexIntensity,Pe=j.cellUVs,Fe=j.cellIntensity,Be=1/0,xe=-1/0;if(!Ae&&!Pe)if(Se)if(j.vertexIntensityBounds)Be=+j.vertexIntensityBounds[0],xe=+j.vertexIntensityBounds[1];else for(var Me=0;Me<Se.length;++Me){var Ce=Se[Me];Be=Math.min(Be,Ce),xe=Math.max(xe,Ce)}else if(Fe)if(j.cellIntensityBounds)Be=+j.cellIntensityBounds[0],xe=+j.cellIntensityBounds[1];else for(Me=0;Me<Fe.length;++Me)Ce=Fe[Me],Be=Math.min(Be,Ce),xe=Math.max(xe,Ce);else for(Me=0;Me<ie.length;++Me)Ce=ie[Me][2],Be=Math.min(Be,Ce),xe=Math.max(xe,Ce);this.intensity=Se||Fe||function(zt){for(var Ft=zt.length,Pt=new Array(Ft),Ze=0;Ze<Ft;++Ze)Pt[Ze]=zt[Ze][2];return Pt}(ie),this.pickVertex=!(Fe||ye);var Ne=j.pointSizes,Re=j.pointSize||1;for(this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Me=0;Me<ie.length;++Me)for(var He=ie[Me],Ye=0;Ye<3;++Ye)!isNaN(He[Ye])&&isFinite(He[Ye])&&(this.bounds[0][Ye]=Math.min(this.bounds[0][Ye],He[Ye]),this.bounds[1][Ye]=Math.max(this.bounds[1][Ye],He[Ye]));var Qe=0,lt=0,ut=0;e:for(Me=0;Me<G.length;++Me){var xt=G[Me];switch(xt.length){case 1:for(He=ie[mt=xt[0]],Ye=0;Ye<3;++Ye)if(isNaN(He[Ye])||!isFinite(He[Ye]))continue e;pe.push(He[0],He[1],He[2]),it=le?le[mt]:ye?ye[Me]:Oe,this.opacityscale&&Se?te.push(it[0],it[1],it[2],this.opacity*F((Se[mt]-Be)/(xe-Be),this.opacityscale)):it.length===3?me.push(it[0],it[1],it[2],this.opacity):(me.push(it[0],it[1],it[2],it[3]*this.opacity),it[3]<1&&(this.hasAlpha=!0)),nt=Ae?Ae[mt]:Se?[(Se[mt]-Be)/(xe-Be),0]:Pe?Pe[Me]:Fe?[(Fe[Me]-Be)/(xe-Be),0]:[(He[2]-Be)/(xe-Be),0],be.push(nt[0],nt[1]),Ne?we.push(Ne[mt]):we.push(Re),Te.push(Me),ut+=1;break;case 2:for(Ye=0;Ye<2;++Ye){He=ie[mt=xt[Ye]];for(var _t=0;_t<3;++_t)if(isNaN(He[_t])||!isFinite(He[_t]))continue e}for(Ye=0;Ye<2;++Ye)He=ie[mt=xt[Ye]],ae.push(He[0],He[1],He[2]),it=le?le[mt]:ye?ye[Me]:Oe,this.opacityscale&&Se?te.push(it[0],it[1],it[2],this.opacity*F((Se[mt]-Be)/(xe-Be),this.opacityscale)):it.length===3?ue.push(it[0],it[1],it[2],this.opacity):(ue.push(it[0],it[1],it[2],it[3]*this.opacity),it[3]<1&&(this.hasAlpha=!0)),nt=Ae?Ae[mt]:Se?[(Se[mt]-Be)/(xe-Be),0]:Pe?Pe[Me]:Fe?[(Fe[Me]-Be)/(xe-Be),0]:[(He[2]-Be)/(xe-Be),0],ce.push(nt[0],nt[1]),de.push(Me);lt+=1;break;case 3:for(Ye=0;Ye<3;++Ye)for(He=ie[mt=xt[Ye]],_t=0;_t<3;++_t)if(isNaN(He[_t])||!isFinite(He[_t]))continue e;for(Ye=0;Ye<3;++Ye){var mt,it,nt,Et;He=ie[mt=xt[2-Ye]],re.push(He[0],He[1],He[2]),(it=le?le[mt]:ye?ye[Me]:Oe)?this.opacityscale&&Se?te.push(it[0],it[1],it[2],this.opacity*F((Se[mt]-Be)/(xe-Be),this.opacityscale)):it.length===3?te.push(it[0],it[1],it[2],this.opacity):(te.push(it[0],it[1],it[2],it[3]*this.opacity),it[3]<1&&(this.hasAlpha=!0)):te.push(.5,.5,.5,1),nt=Ae?Ae[mt]:Se?[(Se[mt]-Be)/(xe-Be),0]:Pe?Pe[Me]:Fe?[(Fe[Me]-Be)/(xe-Be),0]:[(He[2]-Be)/(xe-Be),0],J.push(nt[0],nt[1]),Et=Le?Le[mt]:Ie[Me],K.push(Et[0],Et[1],Et[2]),$.push(Me)}Qe+=1}}this.pointCount=ut,this.edgeCount=lt,this.triangleCount=Qe,this.pointPositions.update(pe),this.pointColors.update(me),this.pointUVs.update(be),this.pointSizes.update(we),this.pointIds.update(new Uint32Array(Te)),this.edgePositions.update(ae),this.edgeColors.update(ue),this.edgeUVs.update(ce),this.edgeIds.update(new Uint32Array(de)),this.trianglePositions.update(re),this.triangleColors.update(te),this.triangleUVs.update(J),this.triangleNormals.update(K),this.triangleIds.update(new Uint32Array($))}},D.drawTransparent=D.draw=function(j){j=j||{};for(var H=this.gl,G=j.model||R,ie=j.view||R,re=j.projection||R,te=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],K=0;K<3;++K)te[0][K]=Math.max(te[0][K],this.clipBounds[0][K]),te[1][K]=Math.min(te[1][K],this.clipBounds[1][K]);var J={model:G,view:ie,projection:re,inverseModel:R.slice(),clipBounds:te,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};J.inverseModel=h(J.inverseModel,J.model),H.disable(H.CULL_FACE),this.texture.bind(0);var $=new Array(16);for(u($,J.view,J.model),u($,J.projection,$),h($,$),K=0;K<3;++K)J.eyePosition[K]=$[12+K]/$[15];var ae,ue=$[15];for(K=0;K<3;++K)ue+=this.lightPosition[K]*$[4*K+3];for(K=0;K<3;++K){for(var ce=$[12+K],de=0;de<3;++de)ce+=$[4*de+K]*this.lightPosition[de];J.lightPosition[K]=ce/ue}this.triangleCount>0&&((ae=this.triShader).bind(),ae.uniforms=J,this.triangleVAO.bind(),H.drawArrays(H.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&this.lineWidth>0&&((ae=this.lineShader).bind(),ae.uniforms=J,this.edgeVAO.bind(),H.lineWidth(this.lineWidth*this.pixelRatio),H.drawArrays(H.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((ae=this.pointShader).bind(),ae.uniforms=J,this.pointVAO.bind(),H.drawArrays(H.POINTS,0,this.pointCount),this.pointVAO.unbind()),this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0&&((ae=this.contourShader).bind(),ae.uniforms=J,this.contourVAO.bind(),H.drawArrays(H.LINES,0,this.contourCount),this.contourVAO.unbind())},D.drawPick=function(j){j=j||{};for(var H=this.gl,G=j.model||R,ie=j.view||R,re=j.projection||R,te=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],K=0;K<3;++K)te[0][K]=Math.max(te[0][K],this.clipBounds[0][K]),te[1][K]=Math.min(te[1][K],this.clipBounds[1][K]);this._model=[].slice.call(G),this._view=[].slice.call(ie),this._projection=[].slice.call(re),this._resolution=[H.drawingBufferWidth,H.drawingBufferHeight];var J,$={model:G,view:ie,projection:re,clipBounds:te,pickId:this.pickId/255};(J=this.pickShader).bind(),J.uniforms=$,this.triangleCount>0&&(this.triangleVAO.bind(),H.drawArrays(H.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),H.lineWidth(this.lineWidth*this.pixelRatio),H.drawArrays(H.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((J=this.pointPickShader).bind(),J.uniforms=$,this.pointVAO.bind(),H.drawArrays(H.POINTS,0,this.pointCount),this.pointVAO.unbind())},D.pick=function(j){if(!j||j.id!==this.pickId)return null;for(var H=j.value[0]+256*j.value[1]+65536*j.value[2],G=this.cells[H],ie=this.positions,re=new Array(G.length),te=0;te<G.length;++te)re[te]=ie[G[te]];var K=j.coord[0],J=j.coord[1];if(!this.pickVertex){var $=this.positions[G[0]],ae=this.positions[G[1]],ue=this.positions[G[2]],ce=[($[0]+ae[0]+ue[0])/3,($[1]+ae[1]+ue[1])/3,($[2]+ae[2]+ue[2])/3];return{_cellCenter:!0,position:[K,J],index:H,cell:G,cellId:H,intensity:this.intensity[H],dataCoordinate:ce}}var de=w(re,[K*this.pixelRatio,this._resolution[1]-J*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!de)return null;var pe=de[2],me=0;for(te=0;te<G.length;++te)me+=pe[te]*this.intensity[G[te]];return{position:de[1],index:G[de[0]],cell:G,cellId:H,intensity:me,dataCoordinate:this.positions[G[de[0]]]}},D.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},c.exports=function(j,H){if(arguments.length===1&&(j=(H=j).gl),!(j.getExtension("OES_standard_derivatives")||j.getExtension("MOZ_OES_standard_derivatives")||j.getExtension("WEBKIT_OES_standard_derivatives")))throw new Error("derivatives not supported");var G=function(Fe){var Be=i(Fe,_.vertex,_.fragment);return Be.attributes.position.location=0,Be.attributes.color.location=2,Be.attributes.uv.location=3,Be.attributes.normal.location=4,Be}(j),ie=function(Fe){var Be=i(Fe,A.vertex,A.fragment);return Be.attributes.position.location=0,Be.attributes.color.location=2,Be.attributes.uv.location=3,Be}(j),re=q(j),te=z(j),K=V(j),J=X(j),$=o(j,f(new Uint8Array([255,255,255,255]),[1,1,4]));$.generateMipmap(),$.minFilter=j.LINEAR_MIPMAP_LINEAR,$.magFilter=j.LINEAR;var ae=a(j),ue=a(j),ce=a(j),de=a(j),pe=a(j),me=r(j,[{buffer:ae,type:j.FLOAT,size:3},{buffer:pe,type:j.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ue,type:j.FLOAT,size:4},{buffer:ce,type:j.FLOAT,size:2},{buffer:de,type:j.FLOAT,size:3}]),be=a(j),we=a(j),Te=a(j),Le=a(j),Ie=r(j,[{buffer:be,type:j.FLOAT,size:3},{buffer:Le,type:j.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:we,type:j.FLOAT,size:4},{buffer:Te,type:j.FLOAT,size:2}]),_e=a(j),fe=a(j),le=a(j),ye=a(j),Oe=a(j),Ae=r(j,[{buffer:_e,type:j.FLOAT,size:3},{buffer:Oe,type:j.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:fe,type:j.FLOAT,size:4},{buffer:le,type:j.FLOAT,size:2},{buffer:ye,type:j.FLOAT,size:1}]),Se=a(j),Pe=new I(j,$,G,ie,re,te,K,J,ae,pe,ue,ce,de,me,be,Le,we,Te,Ie,_e,Oe,fe,le,ye,Ae,Se,r(j,[{buffer:Se,type:j.FLOAT,size:3}]));return Pe.update(H),Pe}},8120:function(c,s,n){c.exports=function(f){var T=f.gl;return new o(f,i(T,[0,0,0,1,1,0,1,1]),a(T,r.boxVert,r.lineFrag))};var i=n(2762),a=n(9405),r=n(3603);function o(f,T,d){this.plot=f,this.vbo=T,this.shader=d}var l,u,h=o.prototype;h.bind=function(){var f=this.shader;this.vbo.bind(),this.shader.bind(),f.attributes.coord.pointer(),f.uniforms.screenBox=this.plot.screenBox},h.drawBox=(l=[0,0],u=[0,0],function(f,T,d,y,m){var w=this.plot,_=this.shader,A=w.gl;l[0]=f,l[1]=T,u[0]=d,u[1]=y,_.uniforms.lo=l,_.uniforms.hi=u,_.uniforms.color=m,A.drawArrays(A.TRIANGLE_STRIP,0,4)}),h.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},1913:function(c,s,n){c.exports=function(w){var _=w.gl;return new l(w,i(_),a(_,o.gridVert,o.gridFrag),a(_,o.tickVert,o.gridFrag))};var i=n(2762),a=n(9405),r=n(2478),o=n(3603);function l(w,_,A,p){this.plot=w,this.vbo=_,this.shader=A,this.tickShader=p,this.ticks=[[],[]]}function u(w,_){return w-_}var h,f,T,d,y,m=l.prototype;m.draw=(h=[0,0],f=[0,0],T=[0,0],function(){for(var w=this.plot,_=this.vbo,A=this.shader,p=this.ticks,L=w.gl,M=w._tickBounds,C=w.dataBox,R=w.viewBox,I=w.gridLineWidth,D=w.gridLineColor,F=w.gridLineEnable,q=w.pixelRatio,z=0;z<2;++z){var V=M[z],X=M[z+2]-V,j=.5*(C[z+2]+C[z]),H=C[z+2]-C[z];f[z]=2*X/H,h[z]=2*(V-j)/H}A.bind(),_.bind(),A.attributes.dataCoord.pointer(),A.uniforms.dataShift=h,A.uniforms.dataScale=f;var G=0;for(z=0;z<2;++z){T[0]=T[1]=0,T[z]=1,A.uniforms.dataAxis=T,A.uniforms.lineWidth=I[z]/(R[z+2]-R[z])*q,A.uniforms.color=D[z];var ie=6*p[z].length;F[z]&&ie&&L.drawArrays(L.TRIANGLES,G,ie),G+=ie}}),m.drawTickMarks=function(){var w=[0,0],_=[0,0],A=[1,0],p=[0,1],L=[0,0],M=[0,0];return function(){for(var C=this.plot,R=this.vbo,I=this.tickShader,D=this.ticks,F=C.gl,q=C._tickBounds,z=C.dataBox,V=C.viewBox,X=C.pixelRatio,j=C.screenBox,H=j[2]-j[0],G=j[3]-j[1],ie=V[2]-V[0],re=V[3]-V[1],te=0;te<2;++te){var K=q[te],J=q[te+2]-K,$=.5*(z[te+2]+z[te]),ae=z[te+2]-z[te];_[te]=2*J/ae,w[te]=2*(K-$)/ae}_[0]*=ie/H,w[0]*=ie/H,_[1]*=re/G,w[1]*=re/G,I.bind(),R.bind(),I.attributes.dataCoord.pointer();var ue=I.uniforms;ue.dataShift=w,ue.dataScale=_;var ce=C.tickMarkLength,de=C.tickMarkWidth,pe=C.tickMarkColor,me=6*D[0].length,be=Math.min(r.ge(D[0],(z[0]-q[0])/(q[2]-q[0]),u),D[0].length),we=Math.min(r.gt(D[0],(z[2]-q[0])/(q[2]-q[0]),u),D[0].length),Te=0+6*be,Le=6*Math.max(0,we-be),Ie=Math.min(r.ge(D[1],(z[1]-q[1])/(q[3]-q[1]),u),D[1].length),_e=Math.min(r.gt(D[1],(z[3]-q[1])/(q[3]-q[1]),u),D[1].length),fe=me+6*Ie,le=6*Math.max(0,_e-Ie);L[0]=2*(V[0]-ce[1])/H-1,L[1]=(V[3]+V[1])/G-1,M[0]=ce[1]*X/H,M[1]=de[1]*X/G,le&&(ue.color=pe[1],ue.tickScale=M,ue.dataAxis=p,ue.screenOffset=L,F.drawArrays(F.TRIANGLES,fe,le)),L[0]=(V[2]+V[0])/H-1,L[1]=2*(V[1]-ce[0])/G-1,M[0]=de[0]*X/H,M[1]=ce[0]*X/G,Le&&(ue.color=pe[0],ue.tickScale=M,ue.dataAxis=A,ue.screenOffset=L,F.drawArrays(F.TRIANGLES,Te,Le)),L[0]=2*(V[2]+ce[3])/H-1,L[1]=(V[3]+V[1])/G-1,M[0]=ce[3]*X/H,M[1]=de[3]*X/G,le&&(ue.color=pe[3],ue.tickScale=M,ue.dataAxis=p,ue.screenOffset=L,F.drawArrays(F.TRIANGLES,fe,le)),L[0]=(V[2]+V[0])/H-1,L[1]=2*(V[3]+ce[2])/G-1,M[0]=de[2]*X/H,M[1]=ce[2]*X/G,Le&&(ue.color=pe[2],ue.tickScale=M,ue.dataAxis=A,ue.screenOffset=L,F.drawArrays(F.TRIANGLES,Te,Le))}}(),m.update=(d=[1,1,-1,-1,1,-1],y=[1,-1,1,1,-1,-1],function(w){for(var _=w.ticks,A=w.bounds,p=new Float32Array(18*(_[0].length+_[1].length)),L=(this.plot.zeroLineEnable,0),M=[[],[]],C=0;C<2;++C)for(var R=M[C],I=_[C],D=A[C],F=A[C+2],q=0;q<I.length;++q){var z=(I[q].x-D)/(F-D);R.push(z);for(var V=0;V<6;++V)p[L++]=z,p[L++]=d[V],p[L++]=y[V]}this.ticks=M,this.vbo.update(p)}),m.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},4747:function(c,s,n){c.exports=function(f){var T=f.gl;return new o(f,i(T,[-1,-1,-1,1,1,-1,1,1]),a(T,r.lineVert,r.lineFrag))};var i=n(2762),a=n(9405),r=n(3603);function o(f,T,d){this.plot=f,this.vbo=T,this.shader=d}var l,u,h=o.prototype;h.bind=function(){var f=this.shader;this.vbo.bind(),this.shader.bind(),f.attributes.coord.pointer(),f.uniforms.screenBox=this.plot.screenBox},h.drawLine=(l=[0,0],u=[0,0],function(f,T,d,y,m,w){var _=this.plot,A=this.shader,p=_.gl;l[0]=f,l[1]=T,u[0]=d,u[1]=y,A.uniforms.start=l,A.uniforms.end=u,A.uniforms.width=m*_.pixelRatio,A.uniforms.color=w,p.drawArrays(p.TRIANGLE_STRIP,0,4)}),h.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},3603:function(c,s,n){var i=n(3236),a=i([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);c.exports={lineVert:i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:a,textVert:i([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:a,gridVert:i([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:a,boxVert:i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:i([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},2142:function(c,s,n){c.exports=function(_){var A=_.gl;return new u(_,i(A),a(A,l.textVert,l.textFrag))};var i=n(2762),a=n(9405),r=n(529),o=n(2478),l=n(3603);function u(_,A,p){this.plot=_,this.vbo=A,this.shader=p,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var h,f,T,d,y,m,w=u.prototype;w.drawTicks=(h=[0,0],f=[0,0],T=[0,0],function(_){var A=this.plot,p=this.shader,L=this.tickX[_],M=this.tickOffset[_],C=A.gl,R=A.viewBox,I=A.dataBox,D=A.screenBox,F=A.pixelRatio,q=A.tickEnable,z=A.tickPad,V=A.tickColor,X=A.tickAngle,j=A.labelEnable,H=A.labelPad,G=A.labelColor,ie=A.labelAngle,re=this.labelOffset[_],te=this.labelCount[_],K=o.lt(L,I[_]),J=o.le(L,I[_+2]);h[0]=h[1]=0,h[_]=1,f[_]=(R[2+_]+R[_])/(D[2+_]-D[_])-1;var $=2/D[2+(1^_)]-D[1^_];f[1^_]=$*R[1^_]-1,q[_]&&(f[1^_]-=$*F*z[_],K<J&&M[J]>M[K]&&(p.uniforms.dataAxis=h,p.uniforms.screenOffset=f,p.uniforms.color=V[_],p.uniforms.angle=X[_],C.drawArrays(C.TRIANGLES,M[K],M[J]-M[K]))),j[_]&&te&&(f[1^_]-=$*F*H[_],p.uniforms.dataAxis=T,p.uniforms.screenOffset=f,p.uniforms.color=G[_],p.uniforms.angle=ie[_],C.drawArrays(C.TRIANGLES,re,te)),f[1^_]=$*R[2+(1^_)]-1,q[_+2]&&(f[1^_]+=$*F*z[_+2],K<J&&M[J]>M[K]&&(p.uniforms.dataAxis=h,p.uniforms.screenOffset=f,p.uniforms.color=V[_+2],p.uniforms.angle=X[_+2],C.drawArrays(C.TRIANGLES,M[K],M[J]-M[K]))),j[_+2]&&te&&(f[1^_]+=$*F*H[_+2],p.uniforms.dataAxis=T,p.uniforms.screenOffset=f,p.uniforms.color=G[_+2],p.uniforms.angle=ie[_+2],C.drawArrays(C.TRIANGLES,re,te))}),w.drawTitle=function(){var _=[0,0],A=[0,0];return function(){var p=this.plot,L=this.shader,M=p.gl,C=p.screenBox,R=p.titleCenter,I=p.titleAngle,D=p.titleColor,F=p.pixelRatio;if(this.titleCount){for(var q=0;q<2;++q)A[q]=2*(R[q]*F-C[q])/(C[2+q]-C[q])-1;L.bind(),L.uniforms.dataAxis=_,L.uniforms.screenOffset=A,L.uniforms.angle=I,L.uniforms.color=D,M.drawArrays(M.TRIANGLES,this.titleOffset,this.titleCount)}}}(),w.bind=(d=[0,0],y=[0,0],m=[0,0],function(){var _=this.plot,A=this.shader,p=_._tickBounds,L=_.dataBox,M=_.screenBox,C=_.viewBox;A.bind();for(var R=0;R<2;++R){var I=p[R],D=p[R+2]-I,F=.5*(L[R+2]+L[R]),q=L[R+2]-L[R],z=C[R],V=C[R+2]-z,X=M[R],j=M[R+2]-X;y[R]=2*D/q*V/j,d[R]=2*(I-F)/q*V/j}m[1]=2*_.pixelRatio/(M[3]-M[1]),m[0]=m[1]*(M[3]-M[1])/(M[2]-M[0]),A.uniforms.dataScale=y,A.uniforms.dataShift=d,A.uniforms.textScale=m,this.vbo.bind(),A.attributes.textCoordinate.pointer()}),w.update=function(_){var A,p,L,M,C,R=[],I=_.ticks,D=_.bounds;for(C=0;C<2;++C){var F=[Math.floor(R.length/3)],q=[-1/0],z=I[C];for(A=0;A<z.length;++A){var V=z[A],X=V.x,j=V.text,H=V.font||"sans-serif",G=V.fontStyle||"normal",ie=V.fontWeight||"normal",re=V.fontVariant||"normal";M=V.fontSize||12;for(var te=1/(D[C+2]-D[C]),K=D[C],J=j.split(`
`),$=0;$<J.length;$++)for(L=r(H,J[$],{fontStyle:G,fontWeight:ie,fontVariant:re}).data,p=0;p<L.length;p+=2)R.push(L[p]*M,-L[p+1]*M-$*M*1.2,(X-K)*te);F.push(Math.floor(R.length/3)),q.push(X)}this.tickOffset[C]=F,this.tickX[C]=q}for(C=0;C<2;++C){for(this.labelOffset[C]=Math.floor(R.length/3),L=r(_.labelFont[C],_.labels[C],{fontStyle:_.labelFontStyle[C],fontWeight:_.labelFontWeight[C],fontVariant:_.labelFontVariant[C],textAlign:"center"}).data,M=_.labelSize[C],A=0;A<L.length;A+=2)R.push(L[A]*M,-L[A+1]*M,0);this.labelCount[C]=Math.floor(R.length/3)-this.labelOffset[C]}for(this.titleOffset=Math.floor(R.length/3),L=r(_.titleFont,_.title,{fontStyle:_.titleFontStyle,fontWeight:_.titleFontWeight,fontVariant:_.titleFontVariant}).data,M=_.titleSize,A=0;A<L.length;A+=2)R.push(L[A]*M,-L[A+1]*M,0);this.titleCount=Math.floor(R.length/3)-this.titleOffset,this.vbo.update(R)},w.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},1850:function(c,s,n){c.exports=function(d){var y=d.gl,m=new u(y,i(y,[y.drawingBufferWidth,y.drawingBufferHeight]));return m.grid=a(m),m.text=r(m),m.line=o(m),m.box=l(m),m.update(d),m};var i=n(3589),a=n(1913),r=n(2142),o=n(4747),l=n(8120);function u(d,y){this.gl=d,this.pickBuffer=y,this.screenBox=[0,0,d.drawingBufferWidth,d.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var h=u.prototype;function f(d){for(var y=d.slice(),m=0;m<y.length;++m)y[m]=y[m].slice();return y}function T(d,y){return d.x-y.x}h.setDirty=function(){this.dirty=this.pickDirty=!0},h.setOverlayDirty=function(){this.dirty=!0},h.nextDepthValue=function(){return this._depthCounter++/65536},h.draw=function(){var d=this.gl,y=this.screenBox,m=this.viewBox,w=this.dataBox,_=this.pixelRatio,A=this.grid,p=this.line,L=this.text,M=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){if(this.dirty=!1,d.bindFramebuffer(d.FRAMEBUFFER,null),d.enable(d.SCISSOR_TEST),d.disable(d.DEPTH_TEST),d.depthFunc(d.LESS),d.depthMask(!1),d.enable(d.BLEND),d.blendEquation(d.FUNC_ADD,d.FUNC_ADD),d.blendFunc(d.ONE,d.ONE_MINUS_SRC_ALPHA),this.borderColor){d.scissor(y[0],y[1],y[2]-y[0],y[3]-y[1]);var C=this.borderColor;d.clearColor(C[0]*C[3],C[1]*C[3],C[2]*C[3],C[3]),d.clear(d.COLOR_BUFFER_BIT|d.DEPTH_BUFFER_BIT)}d.scissor(m[0],m[1],m[2]-m[0],m[3]-m[1]),d.viewport(m[0],m[1],m[2]-m[0],m[3]-m[1]);var R=this.backgroundColor;d.clearColor(R[0]*R[3],R[1]*R[3],R[2]*R[3],R[3]),d.clear(d.COLOR_BUFFER_BIT),A.draw();var I=this.zeroLineEnable,D=this.zeroLineColor,F=this.zeroLineWidth;if(I[0]||I[1]){p.bind();for(var q=0;q<2;++q)if(I[q]&&w[q]<=0&&w[q+2]>=0){var z=y[q]-w[q]*(y[q+2]-y[q])/(w[q+2]-w[q]);q===0?p.drawLine(z,y[1],z,y[3],F[q],D[q]):p.drawLine(y[0],z,y[2],z,F[q],D[q])}}for(q=0;q<M.length;++q)M[q].draw();d.viewport(y[0],y[1],y[2]-y[0],y[3]-y[1]),d.scissor(y[0],y[1],y[2]-y[0],y[3]-y[1]),this.grid.drawTickMarks(),p.bind();var V=this.borderLineEnable,X=this.borderLineWidth,j=this.borderLineColor;for(V[1]&&p.drawLine(m[0],m[1]-.5*X[1]*_,m[0],m[3]+.5*X[3]*_,X[1],j[1]),V[0]&&p.drawLine(m[0]-.5*X[0]*_,m[1],m[2]+.5*X[2]*_,m[1],X[0],j[0]),V[3]&&p.drawLine(m[2],m[1]-.5*X[1]*_,m[2],m[3]+.5*X[3]*_,X[3],j[3]),V[2]&&p.drawLine(m[0]-.5*X[0]*_,m[3],m[2]+.5*X[2]*_,m[3],X[2],j[2]),L.bind(),q=0;q<2;++q)L.drawTicks(q);this.titleEnable&&L.drawTitle();var H=this.overlays;for(q=0;q<H.length;++q)H[q].draw();d.disable(d.SCISSOR_TEST),d.disable(d.BLEND),d.depthMask(!0)}},h.drawPick=function(){if(!this.static){var d=this.pickBuffer;this.gl,this._pickTimeout=null,d.begin();for(var y=1,m=this.objects,w=0;w<m.length;++w)y=m[w].drawPick(y);d.end()}},h.pick=function(d,y){if(!this.static){var m=this.pixelRatio,w=this.pickPixelRatio,_=this.viewBox,A=0|Math.round((d-_[0]/m)*w),p=0|Math.round((y-_[1]/m)*w),L=this.pickBuffer.query(A,p,this.pickRadius);if(!L)return null;for(var M=L.id+(L.value[0]<<8)+(L.value[1]<<16)+(L.value[2]<<24),C=this.objects,R=0;R<C.length;++R){var I=C[R].pick(A,p,M);if(I)return I}return null}},h.setScreenBox=function(d){var y=this.screenBox,m=this.pixelRatio;y[0]=0|Math.round(d[0]*m),y[1]=0|Math.round(d[1]*m),y[2]=0|Math.round(d[2]*m),y[3]=0|Math.round(d[3]*m),this.setDirty()},h.setDataBox=function(d){var y=this.dataBox;(y[0]!==d[0]||y[1]!==d[1]||y[2]!==d[2]||y[3]!==d[3])&&(y[0]=d[0],y[1]=d[1],y[2]=d[2],y[3]=d[3],this.setDirty())},h.setViewBox=function(d){var y=this.pixelRatio,m=this.viewBox;m[0]=0|Math.round(d[0]*y),m[1]=0|Math.round(d[1]*y),m[2]=0|Math.round(d[2]*y),m[3]=0|Math.round(d[3]*y);var w=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((d[2]-d[0])*w),0|Math.round((d[3]-d[1])*w)],this.setDirty()},h.update=function(d){d=d||{};var y=this.gl;this.pixelRatio=d.pixelRatio||1;var m=this.pixelRatio;this.pickPixelRatio=Math.max(m,1),this.setScreenBox(d.screenBox||[0,0,y.drawingBufferWidth/m,y.drawingBufferHeight/m]),this.screenBox,this.setViewBox(d.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/m,.125*(this.screenBox[3]-this.screenBox[1])/m,.875*(this.screenBox[2]-this.screenBox[0])/m,.875*(this.screenBox[3]-this.screenBox[1])/m]);var w=this.viewBox,_=(w[2]-w[0])/(w[3]-w[1]);this.setDataBox(d.dataBox||[-10,-10/_,10,10/_]),this.borderColor=d.borderColor!==!1&&(d.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(d.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(d.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(d.gridLineWidth||[1,1]).slice(),this.gridLineColor=f(d.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(d.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(d.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=f(d.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(d.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(d.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=f(d.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(d.titleCenter||[.5*(w[0]+w[2])/m,(w[3]+120)/m]).slice(),this.titleEnable=!("titleEnable"in d)||!!d.titleEnable,this.titleAngle=d.titleAngle||0,this.titleColor=(d.titleColor||[0,0,0,1]).slice(),this.labelPad=(d.labelPad||[15,15,15,15]).slice(),this.labelAngle=(d.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(d.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=f(d.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(d.tickPad||[15,15,15,15]).slice(),this.tickAngle=(d.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(d.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=f(d.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(d.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(d.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=f(d.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var A=d.ticks||[[],[]],p=this._tickBounds;p[0]=p[1]=1/0,p[2]=p[3]=-1/0;for(var L=0;L<2;++L){var M=A[L].slice(0);M.length!==0&&(M.sort(T),p[L]=Math.min(p[L],M[0].x),p[L+2]=Math.max(p[L+2],M[M.length-1].x))}this.grid.update({bounds:p,ticks:A}),this.text.update({bounds:p,ticks:A,labels:d.labels||["x","y"],labelSize:d.labelSize||[12,12],labelFont:d.labelFont||["sans-serif","sans-serif"],labelFontStyle:d.labelFontStyle||["normal","normal"],labelFontWeight:d.labelFontWeight||["normal","normal"],labelFontVariant:d.labelFontVariant||["normal","normal"],title:d.title||"",titleSize:d.titleSize||18,titleFont:d.titleFont||"sans-serif",titleFontStyle:d.titleFontStyle||"normal",titleFontWeight:d.titleFontWeight||"normal",titleFontVariant:d.titleFontVariant||"normal"}),this.static=!!d.static,this.setDirty()},h.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var d=this.objects.length-1;d>=0;--d)this.objects[d].dispose();for(this.objects.length=0,d=this.overlays.length-1;d>=0;--d)this.overlays[d].dispose();this.overlays.length=0,this.gl=null},h.addObject=function(d){this.objects.indexOf(d)<0&&(this.objects.push(d),this.setDirty())},h.removeObject=function(d){for(var y=this.objects,m=0;m<y.length;++m)if(y[m]===d){y.splice(m,1),this.setDirty();break}},h.addOverlay=function(d){this.overlays.indexOf(d)<0&&(this.overlays.push(d),this.setOverlayDirty())},h.removeOverlay=function(d){for(var y=this.overlays,m=0;m<y.length;++m)if(y[m]===d){y.splice(m,1),this.setOverlayDirty();break}}},4437:function(c,s,n){c.exports=function(h,f){h=h||document.body;var T=[.01,1/0];"distanceLimits"in(f=f||{})&&(T[0]=f.distanceLimits[0],T[1]=f.distanceLimits[1]),"zoomMin"in f&&(T[0]=f.zoomMin),"zoomMax"in f&&(T[1]=f.zoomMax);var d=a({center:f.center||[0,0,0],up:f.up||[0,1,0],eye:f.eye||[0,0,10],mode:f.mode||"orbit",distanceLimits:T}),y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],m=0,w=h.clientWidth,_=h.clientHeight,A={keyBindingMode:"rotate",enableWheel:!0,view:d,element:h,delay:f.delay||16,rotateSpeed:f.rotateSpeed||1,zoomSpeed:f.zoomSpeed||1,translateSpeed:f.translateSpeed||1,flipX:!!f.flipX,flipY:!!f.flipY,modes:d.modes,_ortho:f._ortho||f.projection&&f.projection.type==="orthographic"||!1,tick:function(){var p=i(),L=this.delay,M=p-2*L;d.idle(p-L),d.recalcMatrix(M),d.flush(p-(100+2*L));for(var C=!0,R=d.computedMatrix,I=0;I<16;++I)C=C&&y[I]===R[I],y[I]=R[I];var D=h.clientWidth===w&&h.clientHeight===_;return w=h.clientWidth,_=h.clientHeight,C?!D:(m=Math.exp(d.computedRadius[0]),!0)},lookAt:function(p,L,M){d.lookAt(d.lastT(),p,L,M)},rotate:function(p,L,M){d.rotate(d.lastT(),p,L,M)},pan:function(p,L,M){d.pan(d.lastT(),p,L,M)},translate:function(p,L,M){d.translate(d.lastT(),p,L,M)}};return Object.defineProperties(A,{matrix:{get:function(){return d.computedMatrix},set:function(p){return d.setMatrix(d.lastT(),p),d.computedMatrix},enumerable:!0},mode:{get:function(){return d.getMode()},set:function(p){var L=d.computedUp.slice(),M=d.computedEye.slice(),C=d.computedCenter.slice();if(d.setMode(p),p==="turntable"){var R=i();d._active.lookAt(R,M,C,L),d._active.lookAt(R+500,M,C,[0,0,1]),d._active.flush(R)}return d.getMode()},enumerable:!0},center:{get:function(){return d.computedCenter},set:function(p){return d.lookAt(d.lastT(),null,p),d.computedCenter},enumerable:!0},eye:{get:function(){return d.computedEye},set:function(p){return d.lookAt(d.lastT(),p),d.computedEye},enumerable:!0},up:{get:function(){return d.computedUp},set:function(p){return d.lookAt(d.lastT(),null,null,p),d.computedUp},enumerable:!0},distance:{get:function(){return m},set:function(p){return d.setDistance(d.lastT(),p),p},enumerable:!0},distanceLimits:{get:function(){return d.getDistanceLimits(T)},set:function(p){return d.setDistanceLimits(p),p},enumerable:!0}}),h.addEventListener("contextmenu",function(p){return p.preventDefault(),!1}),A._lastX=-1,A._lastY=-1,A._lastMods={shift:!1,control:!1,alt:!1,meta:!1},A.enableMouseListeners=function(){function p(L,M,C,R){var I=A.keyBindingMode;if(I!==!1){var D=I==="rotate",F=I==="pan",q=I==="zoom",z=!!R.control,V=!!R.alt,X=!!R.shift,j=!!(1&L),H=!!(2&L),G=!!(4&L),ie=1/h.clientHeight,re=ie*(M-A._lastX),te=ie*(C-A._lastY),K=A.flipX?1:-1,J=A.flipY?1:-1,$=Math.PI*A.rotateSpeed,ae=i();if(A._lastX!==-1&&A._lastY!==-1&&((D&&j&&!z&&!V&&!X||j&&!z&&!V&&X)&&d.rotate(ae,K*$*re,-J*$*te,0),(F&&j&&!z&&!V&&!X||H||j&&z&&!V&&!X)&&d.pan(ae,-A.translateSpeed*re*m,A.translateSpeed*te*m,0),q&&j&&!z&&!V&&!X||G||j&&!z&&V&&!X)){var ue=-A.zoomSpeed*te/window.innerHeight*(ae-d.lastT())*100;d.pan(ae,0,0,m*(Math.exp(ue)-1))}return A._lastX=M,A._lastY=C,A._lastMods=R,!0}}A.mouseListener=r(h,p),h.addEventListener("touchstart",function(L){var M=l(L.changedTouches[0],h);p(0,M[0],M[1],A._lastMods),p(1,M[0],M[1],A._lastMods)},!!u&&{passive:!0}),h.addEventListener("touchmove",function(L){var M=l(L.changedTouches[0],h);p(1,M[0],M[1],A._lastMods),L.preventDefault()},!!u&&{passive:!1}),h.addEventListener("touchend",function(L){p(0,A._lastX,A._lastY,A._lastMods)},!!u&&{passive:!0}),A.wheelListener=o(h,function(L,M){if(A.keyBindingMode!==!1&&A.enableWheel){var C=A.flipX?1:-1,R=A.flipY?1:-1,I=i();if(Math.abs(L)>Math.abs(M))d.rotate(I,0,0,-L*C*Math.PI*A.rotateSpeed/window.innerWidth);else if(!A._ortho){var D=-A.zoomSpeed*R*M/window.innerHeight*(I-d.lastT())/20;d.pan(I,0,0,m*(Math.exp(D)-1))}}},!0)},A.enableMouseListeners(),A};var i=n(3025),a=n(6296),r=n(351),o=n(8512),l=n(24),u=n(7520)},799:function(c,s,n){var i=n(3236),a=n(9405),r=i([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),o=i([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);c.exports=function(l){return a(l,r,o,null,[{name:"position",type:"vec2"}])}},4100:function(c,s,n){var i=n(4437),a=n(3837),r=n(5445),o=n(4449),l=n(3589),u=n(2260),h=n(7169),f=n(351),T=n(4772),d=n(4040),y=n(799),m=n(9216)({tablet:!0,featureDetect:!0});function w(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function _(p){var L=Math.round(Math.log(Math.abs(p))/Math.log(10));if(L<0){var M=Math.round(Math.pow(10,-L));return Math.ceil(p*M)/M}return L>0?(M=Math.round(Math.pow(10,L)),Math.ceil(p/M)*M):Math.ceil(p)}function A(p){return typeof p!="boolean"||p}c.exports={createScene:function(p){(p=p||{}).camera=p.camera||{};var L=p.canvas;L||(L=document.createElement("canvas"),p.container?p.container.appendChild(L):document.body.appendChild(L));var M=p.gl;if(M||(p.glOptions&&(m=!!p.glOptions.preserveDrawingBuffer),M=function(Le,Ie){var _e=null;try{(_e=Le.getContext("webgl",Ie))||(_e=Le.getContext("experimental-webgl",Ie))}catch{return null}return _e}(L,p.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:m})),!M)throw new Error("webgl not supported");var C=p.bounds||[[-10,-10,-10],[10,10,10]],R=new w,I=u(M,M.drawingBufferWidth,M.drawingBufferHeight,{preferFloat:!m}),D=y(M),F=p.cameraObject&&p.cameraObject._ortho===!0||p.camera.projection&&p.camera.projection.type==="orthographic"||!1,q={eye:p.camera.eye||[2,0,0],center:p.camera.center||[0,0,0],up:p.camera.up||[0,1,0],zoomMin:p.camera.zoomMax||.1,zoomMax:p.camera.zoomMin||100,mode:p.camera.mode||"turntable",_ortho:F},z=p.axes||{},V=a(M,z);V.enable=!z.disable;var X=p.spikes||{},j=o(M,X),H=[],G=[],ie=[],re=[],te=!0,K=!0,J={view:null,projection:new Array(16),model:new Array(16),_ortho:!1},$=(K=!0,[M.drawingBufferWidth,M.drawingBufferHeight]),ae=p.cameraObject||i(L,q),ue={gl:M,contextLost:!1,pixelRatio:p.pixelRatio||1,canvas:L,selection:R,camera:ae,axes:V,axesPixels:null,spikes:j,bounds:C,objects:H,shape:$,aspect:p.aspectRatio||[1,1,1],pickRadius:p.pickRadius||10,zNear:p.zNear||.01,zFar:p.zFar||1e3,fovy:p.fovy||Math.PI/4,clearColor:p.clearColor||[0,0,0,0],autoResize:A(p.autoResize),autoBounds:A(p.autoBounds),autoScale:!!p.autoScale,autoCenter:A(p.autoCenter),clipToBounds:A(p.clipToBounds),snapToData:!!p.snapToData,onselect:p.onselect||null,onrender:p.onrender||null,onclick:p.onclick||null,cameraParams:J,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Le){this.aspect[0]=Le.x,this.aspect[1]=Le.y,this.aspect[2]=Le.z,K=!0},setBounds:function(Le,Ie){this.bounds[0][Le]=Ie.min,this.bounds[1][Le]=Ie.max},setClearColor:function(Le){this.clearColor=Le},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},ce=[M.drawingBufferWidth/ue.pixelRatio|0,M.drawingBufferHeight/ue.pixelRatio|0];function de(){if(!ue._stopped&&ue.autoResize){var Le=L.parentNode,Ie=1,_e=1;Le&&Le!==document.body?(Ie=Le.clientWidth,_e=Le.clientHeight):(Ie=window.innerWidth,_e=window.innerHeight);var fe=0|Math.ceil(Ie*ue.pixelRatio),le=0|Math.ceil(_e*ue.pixelRatio);if(fe!==L.width||le!==L.height){L.width=fe,L.height=le;var ye=L.style;ye.position=ye.position||"absolute",ye.left="0px",ye.top="0px",ye.width=Ie+"px",ye.height=_e+"px",te=!0}}}function pe(){for(var Le=H.length,Ie=re.length,_e=0;_e<Ie;++_e)ie[_e]=0;e:for(_e=0;_e<Le;++_e){var fe=H[_e],le=fe.pickSlots;if(le){for(var ye=0;ye<Ie;++ye)if(ie[ye]+le<255){G[_e]=ye,fe.setPickBase(ie[ye]+1),ie[ye]+=le;continue e}var Oe=l(M,$);G[_e]=Ie,re.push(Oe),ie.push(le),fe.setPickBase(1),Ie+=1}else G[_e]=-1}for(;Ie>0&&ie[Ie-1]===0;)ie.pop(),re.pop().dispose()}function me(){if(ue.contextLost)return!0;M.isContextLost()&&(ue.contextLost=!0,ue.mouseListener.enabled=!1,ue.selection.object=null,ue.oncontextloss&&ue.oncontextloss())}ue.autoResize&&de(),window.addEventListener("resize",de),ue.update=function(Le){ue._stopped||(te=!0,K=!0)},ue.add=function(Le){ue._stopped||(Le.axes=V,H.push(Le),G.push(-1),te=!0,K=!0,pe())},ue.remove=function(Le){if(!ue._stopped){var Ie=H.indexOf(Le);Ie<0||(H.splice(Ie,1),G.pop(),te=!0,K=!0,pe())}},ue.dispose=function(){if(!ue._stopped&&(ue._stopped=!0,window.removeEventListener("resize",de),L.removeEventListener("webglcontextlost",me),ue.mouseListener.enabled=!1,!ue.contextLost)){V.dispose(),j.dispose();for(var Le=0;Le<H.length;++Le)H[Le].dispose();for(I.dispose(),Le=0;Le<re.length;++Le)re[Le].dispose();D.dispose(),M=null,V=null,j=null,H=[]}},ue._mouseRotating=!1,ue._prevButtons=0,ue.enableMouseListeners=function(){ue.mouseListener=f(L,function(Le,Ie,_e){if(!ue._stopped){var fe=re.length,le=H.length,ye=R.object;R.distance=1/0,R.mouse[0]=Ie,R.mouse[1]=_e,R.object=null,R.screen=null,R.dataCoordinate=R.dataPosition=null;var Oe=!1;if(Le&&ue._prevButtons)ue._mouseRotating=!0;else{ue._mouseRotating&&(K=!0),ue._mouseRotating=!1;for(var Ae=0;Ae<fe;++Ae){var Se=re[Ae].query(Ie,ce[1]-_e-1,ue.pickRadius);if(Se){if(Se.distance>R.distance)continue;for(var Pe=0;Pe<le;++Pe){var Fe=H[Pe];if(G[Pe]===Ae){var Be=Fe.pick(Se);Be&&(R.buttons=Le,R.screen=Se.coord,R.distance=Se.distance,R.object=Fe,R.index=Be.distance,R.dataPosition=Be.position,R.dataCoordinate=Be.dataCoordinate,R.data=Be,Oe=!0)}}}}}ye&&ye!==R.object&&(ye.highlight&&ye.highlight(null),te=!0),R.object&&(R.object.highlight&&R.object.highlight(R.data),te=!0),(Oe=Oe||R.object!==ye)&&ue.onselect&&ue.onselect(R),1&Le&&!(1&ue._prevButtons)&&ue.onclick&&ue.onclick(R),ue._prevButtons=Le}})},L.addEventListener("webglcontextlost",me);var be=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],we=[be[0].slice(),be[1].slice()];function Te(){if(!me()){de();var Le=ue.camera.tick();J.view=ue.camera.matrix,te=te||Le,K=K||Le,V.pixelRatio=ue.pixelRatio,j.pixelRatio=ue.pixelRatio;var Ie=H.length,_e=be[0],fe=be[1];_e[0]=_e[1]=_e[2]=1/0,fe[0]=fe[1]=fe[2]=-1/0;for(var le=0;le<Ie;++le){(Re=H[le]).pixelRatio=ue.pixelRatio,Re.axes=ue.axes,te=te||!!Re.dirty,K=K||!!Re.dirty;var ye=Re.bounds;if(ye)for(var Oe=ye[0],Ae=ye[1],Se=0;Se<3;++Se)_e[Se]=Math.min(_e[Se],Oe[Se]),fe[Se]=Math.max(fe[Se],Ae[Se])}var Pe=ue.bounds;if(ue.autoBounds)for(Se=0;Se<3;++Se){if(fe[Se]<_e[Se])_e[Se]=-1,fe[Se]=1;else{_e[Se]===fe[Se]&&(_e[Se]-=1,fe[Se]+=1);var Fe=.05*(fe[Se]-_e[Se]);_e[Se]=_e[Se]-Fe,fe[Se]=fe[Se]+Fe}Pe[0][Se]=_e[Se],Pe[1][Se]=fe[Se]}var Be=!1;for(Se=0;Se<3;++Se)Be=Be||we[0][Se]!==Pe[0][Se]||we[1][Se]!==Pe[1][Se],we[0][Se]=Pe[0][Se],we[1][Se]=Pe[1][Se];if(K=K||Be,te=te||Be){if(Be){var xe=[0,0,0];for(le=0;le<3;++le)xe[le]=_((Pe[1][le]-Pe[0][le])/10);V.autoTicks?V.update({bounds:Pe,tickSpacing:xe}):V.update({bounds:Pe})}var Me=M.drawingBufferWidth,Ce=M.drawingBufferHeight;for($[0]=Me,$[1]=Ce,ce[0]=0|Math.max(Me/ue.pixelRatio,1),ce[1]=0|Math.max(Ce/ue.pixelRatio,1),function(He,Ye){var Qe=He.bounds,lt=He.cameraParams,ut=lt.projection,xt=lt.model,_t=He.gl.drawingBufferWidth,mt=He.gl.drawingBufferHeight,it=He.zNear,nt=He.zFar,Et=He.fovy,zt=_t/mt;Ye?(d(ut,-zt,zt,-1,1,it,nt),lt._ortho=!0):(T(ut,Et,zt,it,nt),lt._ortho=!1);for(var Ft=0;Ft<16;++Ft)xt[Ft]=0;xt[15]=1;var Pt=0;for(Ft=0;Ft<3;++Ft)Pt=Math.max(Pt,Qe[1][Ft]-Qe[0][Ft]);for(Ft=0;Ft<3;++Ft)He.autoScale?xt[5*Ft]=He.aspect[Ft]/(Qe[1][Ft]-Qe[0][Ft]):xt[5*Ft]=1/Pt,He.autoCenter&&(xt[12+Ft]=.5*-xt[5*Ft]*(Qe[0][Ft]+Qe[1][Ft]))}(ue,F),le=0;le<Ie;++le)(Re=H[le]).axesBounds=Pe,ue.clipToBounds&&(Re.clipBounds=Pe);R.object&&(ue.snapToData?j.position=R.dataCoordinate:j.position=R.dataPosition,j.bounds=Pe),K&&(K=!1,function(){if(!me()){M.colorMask(!0,!0,!0,!0),M.depthMask(!0),M.disable(M.BLEND),M.enable(M.DEPTH_TEST),M.depthFunc(M.LEQUAL);for(var He=H.length,Ye=re.length,Qe=0;Qe<Ye;++Qe){var lt=re[Qe];lt.shape=ce,lt.begin();for(var ut=0;ut<He;++ut)if(G[ut]===Qe){var xt=H[ut];xt.drawPick&&(xt.pixelRatio=1,xt.drawPick(J))}lt.end()}}}()),ue.axesPixels=r(ue.axes,J,Me,Ce),ue.onrender&&ue.onrender(),M.bindFramebuffer(M.FRAMEBUFFER,null),M.viewport(0,0,Me,Ce),ue.clearRGBA(),M.depthMask(!0),M.colorMask(!0,!0,!0,!0),M.enable(M.DEPTH_TEST),M.depthFunc(M.LEQUAL),M.disable(M.BLEND),M.disable(M.CULL_FACE);var Ne=!1;for(V.enable&&(Ne=Ne||V.isTransparent(),V.draw(J)),j.axes=V,R.object&&j.draw(J),M.disable(M.CULL_FACE),le=0;le<Ie;++le)(Re=H[le]).axes=V,Re.pixelRatio=ue.pixelRatio,Re.isOpaque&&Re.isOpaque()&&Re.draw(J),Re.isTransparent&&Re.isTransparent()&&(Ne=!0);if(Ne){for(I.shape=$,I.bind(),M.clear(M.DEPTH_BUFFER_BIT),M.colorMask(!1,!1,!1,!1),M.depthMask(!0),M.depthFunc(M.LESS),V.enable&&V.isTransparent()&&V.drawTransparent(J),le=0;le<Ie;++le)(Re=H[le]).isOpaque&&Re.isOpaque()&&Re.draw(J);for(M.enable(M.BLEND),M.blendEquation(M.FUNC_ADD),M.blendFunc(M.ONE,M.ONE_MINUS_SRC_ALPHA),M.colorMask(!0,!0,!0,!0),M.depthMask(!1),M.clearColor(0,0,0,0),M.clear(M.COLOR_BUFFER_BIT),V.isTransparent()&&V.drawTransparent(J),le=0;le<Ie;++le){var Re;(Re=H[le]).isTransparent&&Re.isTransparent()&&Re.drawTransparent(J)}M.bindFramebuffer(M.FRAMEBUFFER,null),M.blendFunc(M.ONE,M.ONE_MINUS_SRC_ALPHA),M.disable(M.DEPTH_TEST),D.bind(),I.color[0].bind(0),D.uniforms.accumBuffer=0,h(M),M.disable(M.BLEND)}for(te=!1,le=0;le<Ie;++le)H[le].dirty=!1}}}return ue.enableMouseListeners(),function Le(){ue._stopped||ue.contextLost||(Te(),requestAnimationFrame(Le))}(),ue.redraw=function(){ue._stopped||(te=!0,Te())},ue},createCamera:i}},6640:function(c,s,n){var i=n(3236);s.pointVertex=i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),s.pointFragment=i([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),s.pickVertex=i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),s.pickFragment=i([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},4696:function(c,s,n){var i=n(9405),a=n(2762),r=n(1888),o=n(6640);function l(T,d,y,m,w){this.plot=T,this.offsetBuffer=d,this.pickBuffer=y,this.shader=m,this.pickShader=w,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}c.exports=function(T,d){var y=T.gl,m=new l(T,a(y),a(y),i(y,o.pointVertex,o.pointFragment),i(y,o.pickVertex,o.pickFragment));return m.update(d),T.addObject(m),m};var u,h,f=l.prototype;f.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},f.update=function(T){var d;function y(M,C){return M in T?T[M]:C}T=T||{},this.sizeMin=y("sizeMin",.5),this.sizeMax=y("sizeMax",20),this.color=y("color",[1,0,0,1]).slice(),this.areaRatio=y("areaRatio",1),this.borderColor=y("borderColor",[0,0,0,1]).slice(),this.blend=y("blend",!1);var m=T.positions.length>>>1,w=T.positions instanceof Float32Array,_=T.idToIndex instanceof Int32Array&&T.idToIndex.length>=m,A=T.positions,p=w?A:r.mallocFloat32(A.length),L=_?T.idToIndex:r.mallocInt32(m);if(w||p.set(A),!_)for(p.set(A),d=0;d<m;d++)L[d]=d;this.points=A,this.offsetBuffer.update(p),this.pickBuffer.update(L),w||r.free(p),_||r.free(L),this.pointCount=m,this.pickOffset=0},f.unifiedDraw=(u=[1,0,0,0,1,0,0,0,1],h=[0,0,0,0],function(T){var d=T!==void 0,y=d?this.pickShader:this.shader,m=this.plot.gl,w=this.plot.dataBox;if(this.pointCount===0)return T;var _=w[2]-w[0],A=w[3]-w[1],p=function(R,I){var D,F=0,q=R.length>>>1;for(D=0;D<q;D++){var z=R[2*D],V=R[2*D+1];z>=I[0]&&z<=I[2]&&V>=I[1]&&V<=I[3]&&F++}return F}(this.points,w),L=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(p,.33333)));u[0]=2/_,u[4]=2/A,u[6]=-2*w[0]/_-1,u[7]=-2*w[1]/A-1,this.offsetBuffer.bind(),y.bind(),y.attributes.position.pointer(),y.uniforms.matrix=u,y.uniforms.color=this.color,y.uniforms.borderColor=this.borderColor,y.uniforms.pointCloud=L<5,y.uniforms.pointSize=L,y.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),d&&(h[0]=255&T,h[1]=T>>8&255,h[2]=T>>16&255,h[3]=T>>24&255,this.pickBuffer.bind(),y.attributes.pickId.pointer(m.UNSIGNED_BYTE),y.uniforms.pickOffset=h,this.pickOffset=T);var M=m.getParameter(m.BLEND),C=m.getParameter(m.DITHER);return M&&!this.blend&&m.disable(m.BLEND),C&&m.disable(m.DITHER),m.drawArrays(m.POINTS,0,this.pointCount),M&&!this.blend&&m.enable(m.BLEND),C&&m.enable(m.DITHER),T+this.pointCount}),f.draw=f.unifiedDraw,f.drawPick=f.unifiedDraw,f.pick=function(T,d,y){var m=this.pickOffset,w=this.pointCount;if(y<m||y>=m+w)return null;var _=y-m,A=this.points;return{object:this,pointId:_,dataCoord:[A[2*_],A[2*_+1]]}}},783:function(c){c.exports=function(s,n,i,a){var r,o,l,u,h,f=n[0],T=n[1],d=n[2],y=n[3],m=i[0],w=i[1],_=i[2],A=i[3];return(o=f*m+T*w+d*_+y*A)<0&&(o=-o,m=-m,w=-w,_=-_,A=-A),1-o>1e-6?(r=Math.acos(o),l=Math.sin(r),u=Math.sin((1-a)*r)/l,h=Math.sin(a*r)/l):(u=1-a,h=a),s[0]=u*f+h*m,s[1]=u*T+h*w,s[2]=u*d+h*_,s[3]=u*y+h*A,s}},5964:function(c){c.exports=function(s){return s||s===0?s.toString():""}},9366:function(c,s,n){var i=n(4359);c.exports=function(r,o,l){var u=[o.style,o.weight,o.variant,o.family].join("_"),h=a[u];if(h||(h=a[u]={}),r in h)return h[r];var f={textAlign:"center",textBaseline:"middle",lineHeight:1,font:o.family,fontStyle:o.style,fontWeight:o.weight,fontVariant:o.variant,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},T=i(r,f);f.triangles=!1;var d,y,m=i(r,f);if(l&&l!==1){for(d=0;d<T.positions.length;++d)for(y=0;y<T.positions[d].length;++y)T.positions[d][y]/=l;for(d=0;d<m.positions.length;++d)for(y=0;y<m.positions[d].length;++y)m.positions[d][y]/=l}var w=[[1/0,1/0],[-1/0,-1/0]],_=m.positions.length;for(d=0;d<_;++d){var A=m.positions[d];for(y=0;y<2;++y)w[0][y]=Math.min(w[0][y],A[y]),w[1][y]=Math.max(w[1][y],A[y])}return h[r]=[T,m,w]};var a={}},1283:function(c,s,n){var i=n(9405),a=n(3236),r=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),o=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),l=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * (view * (model * vec4(position, 1)));
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * (view * (model * vec4(dataPosition, 1)));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),u=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),h=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),f=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],T={vertex:r,fragment:u,attributes:f},d={vertex:o,fragment:u,attributes:f},y={vertex:l,fragment:u,attributes:f},m={vertex:r,fragment:h,attributes:f},w={vertex:o,fragment:h,attributes:f},_={vertex:l,fragment:h,attributes:f};function A(p,L){var M=i(p,L),C=M.attributes;return C.position.location=0,C.color.location=1,C.glyph.location=2,C.id.location=3,M}s.createPerspective=function(p){return A(p,T)},s.createOrtho=function(p){return A(p,d)},s.createProject=function(p){return A(p,y)},s.createPickPerspective=function(p){return A(p,m)},s.createPickOrtho=function(p){return A(p,w)},s.createPickProject=function(p){return A(p,_)}},8418:function(c,s,n){var i=n(5219),a=n(2762),r=n(8116),o=n(1888),l=n(6760),u=n(1283),h=n(9366),f=n(5964),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],d=ArrayBuffer,y=DataView;function m(te){return Array.isArray(te)||function(K){return d.isView(K)&&!(K instanceof y)}(te)}function w(te,K){var J=te[0],$=te[1],ae=te[2],ue=te[3];return te[0]=K[0]*J+K[4]*$+K[8]*ae+K[12]*ue,te[1]=K[1]*J+K[5]*$+K[9]*ae+K[13]*ue,te[2]=K[2]*J+K[6]*$+K[10]*ae+K[14]*ue,te[3]=K[3]*J+K[7]*$+K[11]*ae+K[15]*ue,te}function _(te,K,J,$){return w($,$),w($,$),w($,$)}function A(te,K){this.index=te,this.dataCoordinate=this.position=K}function p(te){return te===!0||te>1?1:te}function L(te,K,J,$,ae,ue,ce,de,pe,me,be,we){this.gl=te,this.pixelRatio=1,this.shader=K,this.orthoShader=J,this.projectShader=$,this.pointBuffer=ae,this.colorBuffer=ue,this.glyphBuffer=ce,this.idBuffer=de,this.vao=pe,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=me,this.pickOrthoShader=be,this.pickProjectShader=we,this.points=[],this._selectResult=new A(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}c.exports=function(te){var K=te.gl,J=u.createPerspective(K),$=u.createOrtho(K),ae=u.createProject(K),ue=u.createPickPerspective(K),ce=u.createPickOrtho(K),de=u.createPickProject(K),pe=a(K),me=a(K),be=a(K),we=a(K),Te=new L(K,J,$,ae,pe,me,be,we,r(K,[{buffer:pe,size:3,type:K.FLOAT},{buffer:me,size:4,type:K.FLOAT},{buffer:be,size:2,type:K.FLOAT},{buffer:we,size:4,type:K.UNSIGNED_BYTE,normalized:!0}]),ue,ce,de);return Te.update(te),Te};var M=L.prototype;M.pickSlots=1,M.setPickBase=function(te){this.pickId=te},M.isTransparent=function(){if(this.hasAlpha)return!0;for(var te=0;te<3;++te)if(this.axesProject[te]&&this.projectHasAlpha)return!0;return!1},M.isOpaque=function(){if(!this.hasAlpha)return!0;for(var te=0;te<3;++te)if(this.axesProject[te]&&!this.projectHasAlpha)return!0;return!1};var C=[0,0],R=[0,0,0],I=[0,0,0],D=[0,0,0,1],F=[0,0,0,1],q=T.slice(),z=[0,0,0],V=[[0,0,0],[0,0,0]];function X(te){return te[0]=te[1]=te[2]=0,te}function j(te,K){return te[0]=K[0],te[1]=K[1],te[2]=K[2],te[3]=1,te}function H(te,K,J,$){return te[0]=K[0],te[1]=K[1],te[2]=K[2],te[J]=$,te}var G=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function ie(te,K,J,$,ae,ue,ce){var de=J.gl;if((ue===J.projectHasAlpha||ce)&&function(me,be,we,Te){var Le,Ie=be.axesProject,_e=be.gl,fe=me.uniforms,le=we.model||T,ye=we.view||T,Oe=we.projection||T,Ae=be.axesBounds,Se=function(xt){for(var _t=V,mt=0;mt<2;++mt)for(var it=0;it<3;++it)_t[mt][it]=Math.max(Math.min(xt[mt][it],1e8),-1e8);return _t}(be.clipBounds);Le=be.axes&&be.axes.lastCubeProps?be.axes.lastCubeProps.axis:[1,1,1],C[0]=2/_e.drawingBufferWidth,C[1]=2/_e.drawingBufferHeight,me.bind(),fe.view=ye,fe.projection=Oe,fe.screenSize=C,fe.highlightId=be.highlightId,fe.highlightScale=be.highlightScale,fe.clipBounds=Se,fe.pickGroup=be.pickId/255,fe.pixelRatio=Te;for(var Pe=0;Pe<3;++Pe)if(Ie[Pe]){fe.scale=be.projectScale[Pe],fe.opacity=be.projectOpacity[Pe];for(var Fe=q,Be=0;Be<16;++Be)Fe[Be]=0;for(Be=0;Be<4;++Be)Fe[5*Be]=1;Fe[5*Pe]=0,Le[Pe]<0?Fe[12+Pe]=Ae[0][Pe]:Fe[12+Pe]=Ae[1][Pe],l(Fe,le,Fe),fe.model=Fe;var xe=(Pe+1)%3,Me=(Pe+2)%3,Ce=X(R),Ne=X(I);Ce[xe]=1,Ne[Me]=1;var Re=_(0,0,0,j(D,Ce)),He=_(0,0,0,j(F,Ne));if(Math.abs(Re[1])>Math.abs(He[1])){var Ye=Re;Re=He,He=Ye,Ye=Ce,Ce=Ne,Ne=Ye;var Qe=xe;xe=Me,Me=Qe}Re[0]<0&&(Ce[xe]=-1),He[1]>0&&(Ne[Me]=-1);var lt=0,ut=0;for(Be=0;Be<4;++Be)lt+=Math.pow(le[4*xe+Be],2),ut+=Math.pow(le[4*Me+Be],2);Ce[xe]/=Math.sqrt(lt),Ne[Me]/=Math.sqrt(ut),fe.axes[0]=Ce,fe.axes[1]=Ne,fe.fragClipBounds[0]=H(z,Se[0],Pe,-1e8),fe.fragClipBounds[1]=H(z,Se[1],Pe,1e8),be.vao.bind(),be.vao.draw(_e.TRIANGLES,be.vertexCount),be.lineWidth>0&&(_e.lineWidth(be.lineWidth*Te),be.vao.draw(_e.LINES,be.lineVertexCount,be.vertexCount)),be.vao.unbind()}}(K,J,$,ae),ue===J.hasAlpha||ce){te.bind();var pe=te.uniforms;pe.model=$.model||T,pe.view=$.view||T,pe.projection=$.projection||T,C[0]=2/de.drawingBufferWidth,C[1]=2/de.drawingBufferHeight,pe.screenSize=C,pe.highlightId=J.highlightId,pe.highlightScale=J.highlightScale,pe.fragClipBounds=G,pe.clipBounds=J.axes.bounds,pe.opacity=J.opacity,pe.pickGroup=J.pickId/255,pe.pixelRatio=ae,J.vao.bind(),J.vao.draw(de.TRIANGLES,J.vertexCount),J.lineWidth>0&&(de.lineWidth(J.lineWidth*ae),J.vao.draw(de.LINES,J.lineVertexCount,J.vertexCount)),J.vao.unbind()}}function re(te,K,J,$){var ae;ae=m(te)?K<te.length?te[K]:void 0:te,ae=f(ae);var ue=!0;i(ae)&&(ae="",ue=!1),J||(J={});var ce=J.family;m(ce)&&(ce=ce[K]),ce||(ce="normal");var de=J.weight;m(de)&&(de=de[K]),de||(de="normal");var pe=J.style;m(pe)&&(pe=pe[K]),pe||(pe="normal");var me=J.variant;m(me)&&(me=me[K]),me||(me="normal");var be=h(ae,{family:ce,weight:de,style:pe,variant:me},$);return{mesh:(be=h(ae,J,$))[0],lines:be[1],bounds:be[2],visible:ue}}M.draw=function(te){ie(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,te,this.pixelRatio,!1,!1)},M.drawTransparent=function(te){ie(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,te,this.pixelRatio,!0,!1)},M.drawPick=function(te){ie(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,te,1,!0,!0)},M.pick=function(te){if(!te||te.id!==this.pickId)return null;var K=te.value[2]+(te.value[1]<<8)+(te.value[0]<<16);if(K>=this.pointCount||K<0)return null;var J=this.points[K],$=this._selectResult;$.index=K;for(var ae=0;ae<3;++ae)$.position[ae]=$.dataCoordinate[ae]=J[ae];return $},M.highlight=function(te){if(te){var K=te.index,J=255&K,$=K>>8&255,ae=K>>16&255;this.highlightId=[J/255,$/255,ae/255,0]}else this.highlightId=[1,1,1,1]},M.update=function(te){if("perspective"in(te=te||{})&&(this.useOrtho=!te.perspective),"orthographic"in te&&(this.useOrtho=!!te.orthographic),"lineWidth"in te&&(this.lineWidth=te.lineWidth),"project"in te)if(m(te.project))this.axesProject=te.project;else{var K=!!te.project;this.axesProject=[K,K,K]}if("projectScale"in te)if(m(te.projectScale))this.projectScale=te.projectScale.slice();else{var J=+te.projectScale;this.projectScale=[J,J,J]}if(this.projectHasAlpha=!1,"projectOpacity"in te){m(te.projectOpacity)?this.projectOpacity=te.projectOpacity.slice():(J=+te.projectOpacity,this.projectOpacity=[J,J,J]);for(var $=0;$<3;++$)this.projectOpacity[$]=p(this.projectOpacity[$]),this.projectOpacity[$]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in te&&(this.opacity=p(te.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var ae,ue,ce=te.position,de={family:te.font||"normal",style:te.fontStyle||"normal",weight:te.fontWeight||"normal",variant:te.fontVariant||"normal"},pe=te.alignment||[0,0];if(pe.length===2)ae=pe[0],ue=pe[1];else for(ae=[],ue=[],$=0;$<pe.length;++$)ae[$]=pe[$][0],ue[$]=pe[$][1];var me=[1/0,1/0,1/0],be=[-1/0,-1/0,-1/0],we=te.glyph,Te=te.color,Le=te.size,Ie=te.angle,_e=te.lineColor,fe=-1,le=0,ye=0,Oe=0;if(ce.length){Oe=ce.length;e:for($=0;$<Oe;++$){for(var Ae=ce[$],Se=0;Se<3;++Se)if(isNaN(Ae[Se])||!isFinite(Ae[Se]))continue e;var Pe=(_t=re(we,$,de,this.pixelRatio)).mesh,Fe=_t.lines,Be=_t.bounds;le+=3*Pe.cells.length,ye+=2*Fe.edges.length}}var xe=le+ye,Me=o.mallocFloat(3*xe),Ce=o.mallocFloat(4*xe),Ne=o.mallocFloat(2*xe),Re=o.mallocUint32(xe);if(xe>0){var He=0,Ye=le,Qe=[0,0,0,1],lt=[0,0,0,1],ut=m(Te)&&m(Te[0]),xt=m(_e)&&m(_e[0]);e:for($=0;$<Oe;++$){for(fe+=1,Ae=ce[$],Se=0;Se<3;++Se){if(isNaN(Ae[Se])||!isFinite(Ae[Se]))continue e;be[Se]=Math.max(be[Se],Ae[Se]),me[Se]=Math.min(me[Se],Ae[Se])}Pe=(_t=re(we,$,de,this.pixelRatio)).mesh,Fe=_t.lines,Be=_t.bounds;var _t,mt=_t.visible;if(mt)if(m(Te)){if((it=ut?$<Te.length?Te[$]:[0,0,0,0]:Te).length===3){for(Se=0;Se<3;++Se)Qe[Se]=it[Se];Qe[3]=1}else if(it.length===4){for(Se=0;Se<4;++Se)Qe[Se]=it[Se];!this.hasAlpha&&it[3]<1&&(this.hasAlpha=!0)}}else Qe[0]=Qe[1]=Qe[2]=0,Qe[3]=1;else Qe=[1,1,1,0];if(mt)if(m(_e)){var it;if((it=xt?$<_e.length?_e[$]:[0,0,0,0]:_e).length===3){for(Se=0;Se<3;++Se)lt[Se]=it[Se];lt[Se]=1}else if(it.length===4){for(Se=0;Se<4;++Se)lt[Se]=it[Se];!this.hasAlpha&&it[3]<1&&(this.hasAlpha=!0)}}else lt[0]=lt[1]=lt[2]=0,lt[3]=1;else lt=[1,1,1,0];var nt=.5;mt?m(Le)?nt=$<Le.length?+Le[$]:12:Le?nt=+Le:this.useOrtho&&(nt=12):nt=0;var Et=0;m(Ie)?Et=$<Ie.length?+Ie[$]:0:Ie&&(Et=+Ie);var zt=Math.cos(Et),Ft=Math.sin(Et);for(Ae=ce[$],Se=0;Se<3;++Se)be[Se]=Math.max(be[Se],Ae[Se]),me[Se]=Math.min(me[Se],Ae[Se]);var Pt=ae,Ze=ue;Pt=0,m(ae)?Pt=$<ae.length?ae[$]:0:ae&&(Pt=ae),Ze=0,m(ue)?Ze=$<ue.length?ue[$]:0:ue&&(Ze=ue);var Je=[Pt*=Pt>0?1-Be[0][0]:Pt<0?1+Be[1][0]:1,Ze*=Ze>0?1-Be[0][1]:Ze<0?1+Be[1][1]:1],qe=Pe.cells||[],Ke=Pe.positions||[];for(Se=0;Se<qe.length;++Se)for(var ft=qe[Se],ot=0;ot<3;++ot){for(var Ue=0;Ue<3;++Ue)Me[3*He+Ue]=Ae[Ue];for(Ue=0;Ue<4;++Ue)Ce[4*He+Ue]=Qe[Ue];Re[He]=fe;var Ve=Ke[ft[ot]];Ne[2*He]=nt*(zt*Ve[0]-Ft*Ve[1]+Je[0]),Ne[2*He+1]=nt*(Ft*Ve[0]+zt*Ve[1]+Je[1]),He+=1}for(qe=Fe.edges,Ke=Fe.positions,Se=0;Se<qe.length;++Se)for(ft=qe[Se],ot=0;ot<2;++ot){for(Ue=0;Ue<3;++Ue)Me[3*Ye+Ue]=Ae[Ue];for(Ue=0;Ue<4;++Ue)Ce[4*Ye+Ue]=lt[Ue];Re[Ye]=fe,Ve=Ke[ft[ot]],Ne[2*Ye]=nt*(zt*Ve[0]-Ft*Ve[1]+Je[0]),Ne[2*Ye+1]=nt*(Ft*Ve[0]+zt*Ve[1]+Je[1]),Ye+=1}}}this.bounds=[me,be],this.points=ce,this.pointCount=ce.length,this.vertexCount=le,this.lineVertexCount=ye,this.pointBuffer.update(Me),this.colorBuffer.update(Ce),this.glyphBuffer.update(Ne),this.idBuffer.update(Re),o.free(Me),o.free(Ce),o.free(Ne),o.free(Re)},M.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},4298:function(c,s,n){var i=n(3236);s.boxVertex=i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),s.boxFragment=i([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},3161:function(c,s,n){var i=n(9405),a=n(2762),r=n(4298);function o(u,h,f){this.plot=u,this.boxBuffer=h,this.boxShader=f,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}c.exports=function(u,h){var f=u.gl,T=new o(u,a(f,[0,0,0,1,1,0,1,1]),i(f,r.boxVertex,r.boxFragment));return T.update(h),u.addOverlay(T),T};var l=o.prototype;l.draw=function(){if(this.enabled){var u=this.plot,h=this.selectBox,f=this.borderWidth,T=(this.innerFill,this.innerColor),d=(this.outerFill,this.outerColor),y=this.borderColor,m=u.box,w=u.screenBox,_=u.dataBox,A=u.viewBox,p=u.pixelRatio,L=(h[0]-_[0])*(A[2]-A[0])/(_[2]-_[0])+A[0],M=(h[1]-_[1])*(A[3]-A[1])/(_[3]-_[1])+A[1],C=(h[2]-_[0])*(A[2]-A[0])/(_[2]-_[0])+A[0],R=(h[3]-_[1])*(A[3]-A[1])/(_[3]-_[1])+A[1];if(L=Math.max(L,A[0]),M=Math.max(M,A[1]),C=Math.min(C,A[2]),R=Math.min(R,A[3]),!(C<L||R<M)){m.bind();var I=w[2]-w[0],D=w[3]-w[1];if(this.outerFill&&(m.drawBox(0,0,I,M,d),m.drawBox(0,M,L,R,d),m.drawBox(0,R,I,D,d),m.drawBox(C,M,I,R,d)),this.innerFill&&m.drawBox(L,M,C,R,T),f>0){var F=f*p;m.drawBox(L-F,M-F,C+F,M+F,y),m.drawBox(L-F,R-F,C+F,R+F,y),m.drawBox(L-F,M-F,L+F,R+F,y),m.drawBox(C-F,M-F,C+F,R+F,y)}}}},l.update=function(u){u=u||{},this.innerFill=!!u.innerFill,this.outerFill=!!u.outerFill,this.innerColor=(u.innerColor||[0,0,0,.5]).slice(),this.outerColor=(u.outerColor||[0,0,0,.5]).slice(),this.borderColor=(u.borderColor||[0,0,0,1]).slice(),this.borderWidth=u.borderWidth||0,this.selectBox=(u.selectBox||this.selectBox).slice()},l.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},3589:function(c,s,n){c.exports=function(f,T){var d=T[0],y=T[1];return new u(f,i(f,d,y,{}),a.mallocUint8(d*y*4))};var i=n(2260),a=n(1888),r=n(9618),o=n(8828).nextPow2;function l(f,T,d,y,m){this.coord=[f,T],this.id=d,this.value=y,this.distance=m}function u(f,T,d){this.gl=f,this.fbo=T,this.buffer=d,this._readTimeout=null;var y=this;this._readCallback=function(){y.gl&&(T.bind(),f.readPixels(0,0,T.shape[0],T.shape[1],f.RGBA,f.UNSIGNED_BYTE,y.buffer),y._readTimeout=null)}}var h=u.prototype;Object.defineProperty(h,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(f){if(this.gl){this.fbo.shape=f;var T=this.fbo.shape[0],d=this.fbo.shape[1];if(d*T*4>this.buffer.length){a.free(this.buffer);for(var y=this.buffer=a.mallocUint8(o(d*T*4)),m=0;m<d*T*4;++m)y[m]=255}return f}}}),h.begin=function(){var f=this.gl;this.shape,f&&(this.fbo.bind(),f.clearColor(1,1,1,1),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT))},h.end=function(){var f=this.gl;f&&(f.bindFramebuffer(f.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},h.query=function(f,T,d){if(!this.gl)return null;var y=this.fbo.shape.slice();f|=0,T|=0,typeof d!="number"&&(d=1);var m=0|Math.min(Math.max(f-d,0),y[0]),w=0|Math.min(Math.max(f+d,0),y[0]),_=0|Math.min(Math.max(T-d,0),y[1]),A=0|Math.min(Math.max(T+d,0),y[1]);if(w<=m||A<=_)return null;var p=[w-m,A-_],L=r(this.buffer,[p[0],p[1],4],[4,4*y[0],1],4*(m+y[0]*_)),M=function(I,D,F){for(var q=1e8,z=-1,V=-1,X=I.shape[0],j=I.shape[1],H=0;H<X;H++)for(var G=0;G<j;G++){var ie=I.get(H,G,0),re=I.get(H,G,1),te=I.get(H,G,2),K=I.get(H,G,3);if(ie<255||re<255||te<255||K<255){var J=D-H,$=F-G,ae=J*J+$*$;ae<q&&(q=ae,z=H,V=G)}}return[z,V,q]}(L.hi(p[0],p[1],1),d,d),C=M[0],R=M[1];return C<0||Math.pow(this.radius,2)<M[2]?null:new l(C+m|0,R+_|0,L.get(C,R,0),[L.get(C,R,1),L.get(C,R,2),L.get(C,R,3)],Math.sqrt(M[2]))},h.dispose=function(){this.gl&&(this.fbo.dispose(),a.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},9405:function(c,s,n){var i=n(3327),a=n(8731),r=n(216),o=n(5091),l=n(2145),u=n(8866);function h(d){this.gl=d,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var f=h.prototype;function T(d,y){return d.name<y.name?-1:1}f.bind=function(){var d;this.program||this._relink();var y=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),m=this.gl.lastAttribCount;if(y>m)for(d=m;d<y;d++)this.gl.enableVertexAttribArray(d);else if(m>y)for(d=y;d<m;d++)this.gl.disableVertexAttribArray(d);this.gl.lastAttribCount=y,this.gl.useProgram(this.program)},f.dispose=function(){for(var d=this.gl.lastAttribCount,y=0;y<d;y++)this.gl.disableVertexAttribArray(y);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},f.update=function(d,y,m,w){if(!y||arguments.length===1){var _=d;d=_.vertex,y=_.fragment,m=_.uniforms,w=_.attributes}var A=this,p=A.gl,L=A._vref;A._vref=o.shader(p,p.VERTEX_SHADER,d),L&&L.dispose(),A.vertShader=A._vref.shader;var M=this._fref;if(A._fref=o.shader(p,p.FRAGMENT_SHADER,y),M&&M.dispose(),A.fragShader=A._fref.shader,!m||!w){var C=p.createProgram();if(p.attachShader(C,A.fragShader),p.attachShader(C,A.vertShader),p.linkProgram(C),!p.getProgramParameter(C,p.LINK_STATUS)){var R=p.getProgramInfoLog(C);throw new u(R,"Error linking program:"+R)}m=m||l.uniforms(p,C),w=w||l.attributes(p,C),p.deleteProgram(C)}(w=w.slice()).sort(T);var I,D=[],F=[],q=[];for(I=0;I<w.length;++I){var z=w[I];if(z.type.indexOf("mat")>=0){for(var V=0|z.type.charAt(z.type.length-1),X=new Array(V),j=0;j<V;++j)X[j]=q.length,F.push(z.name+"["+j+"]"),typeof z.location=="number"?q.push(z.location+j):Array.isArray(z.location)&&z.location.length===V&&typeof z.location[j]=="number"?q.push(0|z.location[j]):q.push(-1);D.push({name:z.name,type:z.type,locations:X})}else D.push({name:z.name,type:z.type,locations:[q.length]}),F.push(z.name),typeof z.location=="number"?q.push(0|z.location):q.push(-1)}var H=0;for(I=0;I<q.length;++I)if(q[I]<0){for(;q.indexOf(H)>=0;)H+=1;q[I]=H}var G=new Array(m.length);function ie(){A.program=o.program(p,A._vref,A._fref,F,q);for(var re=0;re<m.length;++re)G[re]=p.getUniformLocation(A.program,m[re].name)}ie(),A._relink=ie,A.types={uniforms:r(m),attributes:r(w)},A.attributes=a(p,A,D,q),Object.defineProperty(A,"uniforms",i(p,A,m,G))},c.exports=function(d,y,m,w,_){var A=new h(d);return A.update(y,m,w,_),A}},8866:function(c){function s(n,i,a){this.shortMessage=i||"",this.longMessage=a||"",this.rawError=n||"",this.message="gl-shader: "+(i||n||"")+(a?`
`+a:""),this.stack=new Error().stack}s.prototype=new Error,s.prototype.name="GLError",s.prototype.constructor=s,c.exports=s},8731:function(c,s,n){c.exports=function(h,f,T,d){for(var y={},m=0,w=T.length;m<w;++m){var _=T[m],A=_.name,p=_.type,L=_.locations;switch(p){case"bool":case"int":case"float":l(h,f,L[0],d,1,y,A);break;default:if(p.indexOf("vec")>=0){if((M=p.charCodeAt(p.length-1)-48)<2||M>4)throw new i("","Invalid data type for attribute "+A+": "+p);l(h,f,L[0],d,M,y,A)}else{if(!(p.indexOf("mat")>=0))throw new i("","Unknown data type for attribute "+A+": "+p);var M;if((M=p.charCodeAt(p.length-1)-48)<2||M>4)throw new i("","Invalid data type for attribute "+A+": "+p);u(h,f,L,d,M,y,A)}}}return y};var i=n(8866);function a(h,f,T,d,y,m){this._gl=h,this._wrapper=f,this._index=T,this._locations=d,this._dimension=y,this._constFunc=m}var r=a.prototype;r.pointer=function(h,f,T,d){var y=this,m=y._gl,w=y._locations[y._index];m.vertexAttribPointer(w,y._dimension,h||m.FLOAT,!!f,T||0,d||0),m.enableVertexAttribArray(w)},r.set=function(h,f,T,d){return this._constFunc(this._locations[this._index],h,f,T,d)},Object.defineProperty(r,"location",{get:function(){return this._locations[this._index]},set:function(h){return h!==this._locations[this._index]&&(this._locations[this._index]=0|h,this._wrapper.program=null),0|h}});var o=[function(h,f,T){return T.length===void 0?h.vertexAttrib1f(f,T):h.vertexAttrib1fv(f,T)},function(h,f,T,d){return T.length===void 0?h.vertexAttrib2f(f,T,d):h.vertexAttrib2fv(f,T)},function(h,f,T,d,y){return T.length===void 0?h.vertexAttrib3f(f,T,d,y):h.vertexAttrib3fv(f,T)},function(h,f,T,d,y,m){return T.length===void 0?h.vertexAttrib4f(f,T,d,y,m):h.vertexAttrib4fv(f,T)}];function l(h,f,T,d,y,m,w){var _=o[y],A=new a(h,f,T,d,y,_);Object.defineProperty(m,w,{set:function(p){return h.disableVertexAttribArray(d[T]),_(h,d[T],p),p},get:function(){return A},enumerable:!0})}function u(h,f,T,d,y,m,w){for(var _=new Array(y),A=new Array(y),p=0;p<y;++p)l(h,f,T[p],d,y,_,p),A[p]=_[p];Object.defineProperty(_,"location",{set:function(C){if(Array.isArray(C))for(var R=0;R<y;++R)A[R].location=C[R];else for(R=0;R<y;++R)A[R].location=C+R;return C},get:function(){for(var C=new Array(y),R=0;R<y;++R)C[R]=d[T[R]];return C},enumerable:!0}),_.pointer=function(C,R,I,D){C=C||h.FLOAT,R=!!R,I=I||y*y,D=D||0;for(var F=0;F<y;++F){var q=d[T[F]];h.vertexAttribPointer(q,y,C,R,I,D+F*y),h.enableVertexAttribArray(q)}};var L=new Array(y),M=h["vertexAttrib"+y+"fv"];Object.defineProperty(m,w,{set:function(C){for(var R=0;R<y;++R){var I=d[T[R]];if(h.disableVertexAttribArray(I),Array.isArray(C[0]))M.call(h,I,C[R]);else{for(var D=0;D<y;++D)L[D]=C[y*R+D];M.call(h,I,L)}}return C},get:function(){return _},enumerable:!0})}},3327:function(c,s,n){var i=n(216),a=n(8866);function r(l){return function(){return l}}function o(l,u){for(var h=new Array(l),f=0;f<l;++f)h[f]=u;return h}c.exports=function(l,u,h,f){function T(_){return function(A){for(var p=d("",_),L=0;L<p.length;++L){var M=p[L],C=M[0],R=M[1];if(f[R]){var I=A;if(typeof C=="string"&&(C.indexOf(".")===0||C.indexOf("[")===0)){var D=C;if(C.indexOf(".")===0&&(D=C.slice(1)),D.indexOf("]")===D.length-1){var F=D.indexOf("["),q=D.slice(0,F),z=D.slice(F+1,D.length-1);I=q?A[q][z]:A[z]}else I=A[D]}var V,X=h[R].type;switch(X){case"bool":case"int":case"sampler2D":case"samplerCube":l.uniform1i(f[R],I);break;case"float":l.uniform1f(f[R],I);break;default:var j=X.indexOf("vec");if(!(0<=j&&j<=1&&X.length===4+j)){if(X.indexOf("mat")===0&&X.length===4){if((V=X.charCodeAt(X.length-1)-48)<2||V>4)throw new a("","Invalid uniform dimension type for matrix "+name+": "+X);l["uniformMatrix"+V+"fv"](f[R],!1,I);break}throw new a("","Unknown uniform data type for "+name+": "+X)}if((V=X.charCodeAt(X.length-1)-48)<2||V>4)throw new a("","Invalid data type");switch(X.charAt(0)){case"b":case"i":l["uniform"+V+"iv"](f[R],I);break;case"v":l["uniform"+V+"fv"](f[R],I);break;default:throw new a("","Unrecognized data type for vector "+name+": "+X)}}}}}}function d(_,A){if(typeof A!="object")return[[_,A]];var p=[];for(var L in A){var M=A[L],C=_;parseInt(L)+""===L?C+="["+L+"]":C+="."+L,typeof M=="object"?p.push.apply(p,d(C,M)):p.push([C,M])}return p}function y(_,A,p){if(typeof p=="object"){var L=m(p);Object.defineProperty(_,A,{get:r(L),set:T(p),enumerable:!0,configurable:!1})}else f[p]?Object.defineProperty(_,A,{get:(M=p,function(C,R,I){return C.getUniform(R.program,I[M])}),set:T(p),enumerable:!0,configurable:!1}):_[A]=function(C){switch(C){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var R=C.indexOf("vec");if(0<=R&&R<=1&&C.length===4+R){if((I=C.charCodeAt(C.length-1)-48)<2||I>4)throw new a("","Invalid data type");return C.charAt(0)==="b"?o(I,!1):o(I,0)}if(C.indexOf("mat")===0&&C.length===4){var I;if((I=C.charCodeAt(C.length-1)-48)<2||I>4)throw new a("","Invalid uniform dimension type for matrix "+name+": "+C);return o(I*I,0)}throw new a("","Unknown uniform data type for "+name+": "+C)}}(h[p].type);var M}function m(_){var A;if(Array.isArray(_)){A=new Array(_.length);for(var p=0;p<_.length;++p)y(A,p,_[p])}else for(var L in A={},_)y(A,L,_[L]);return A}var w=i(h,!0);return{get:r(m(w)),set:T(w),enumerable:!0,configurable:!0}}},216:function(c){c.exports=function(s,n){for(var i={},a=0;a<s.length;++a)for(var r=s[a].name.split("."),o=i,l=0;l<r.length;++l){var u=r[l].split("[");if(u.length>1){u[0]in o||(o[u[0]]=[]),o=o[u[0]];for(var h=1;h<u.length;++h){var f=parseInt(u[h]);h<u.length-1||l<r.length-1?(f in o||(h<u.length-1?o[f]=[]:o[f]={}),o=o[f]):o[f]=n?a:s[a].type}}else l<r.length-1?(u[0]in o||(o[u[0]]={}),o=o[u[0]]):o[u[0]]=n?a:s[a].type}return i}},2145:function(c,s){s.uniforms=function(r,o){for(var l=r.getProgramParameter(o,r.ACTIVE_UNIFORMS),u=[],h=0;h<l;++h){var f=r.getActiveUniform(o,h);if(f){var T=a(r,f.type);if(f.size>1)for(var d=0;d<f.size;++d)u.push({name:f.name.replace("[0]","["+d+"]"),type:T});else u.push({name:f.name,type:T})}}return u},s.attributes=function(r,o){for(var l=r.getProgramParameter(o,r.ACTIVE_ATTRIBUTES),u=[],h=0;h<l;++h){var f=r.getActiveAttrib(o,h);f&&u.push({name:f.name,type:a(r,f.type)})}return u};var n={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},i=null;function a(r,o){if(!i){var l=Object.keys(n);i={};for(var u=0;u<l.length;++u){var h=l[u];i[r[h]]=n[h]}}return i[o]}},5091:function(c,s,n){s.shader=function(T,d,y){return f(T).getShaderReference(d,y)},s.program=function(T,d,y,m,w){return f(T).getProgram(d,y,m,w)};var i=n(8866),a=n(2992),r=new(typeof WeakMap>"u"?n(606):WeakMap),o=0;function l(T,d,y,m,w,_,A){this.id=T,this.src=d,this.type=y,this.shader=m,this.count=_,this.programs=[],this.cache=A}function u(T){this.gl=T,this.shaders=[{},{}],this.programs={}}l.prototype.dispose=function(){if(--this.count==0){for(var T=this.cache,d=T.gl,y=this.programs,m=0,w=y.length;m<w;++m){var _=T.programs[y[m]];_&&(delete T.programs[m],d.deleteProgram(_))}d.deleteShader(this.shader),delete T.shaders[this.type===d.FRAGMENT_SHADER|0][this.src]}};var h=u.prototype;function f(T){var d=r.get(T);return d||(d=new u(T),r.set(T,d)),d}h.getShaderReference=function(T,d){var y=this.gl,m=this.shaders[T===y.FRAGMENT_SHADER|0],w=m[d];if(w&&y.isShader(w.shader))w.count+=1;else{var _=function(A,p,L){var M=A.createShader(p);if(A.shaderSource(M,L),A.compileShader(M),!A.getShaderParameter(M,A.COMPILE_STATUS)){var C=A.getShaderInfoLog(M);try{var R=a(C,L,p)}catch(I){throw console.warn("Failed to format compiler error: "+I),new i(C,`Error compiling shader:
`+C)}throw new i(C,R.short,R.long)}return M}(y,T,d);w=m[d]=new l(o++,d,T,_,[],1,this)}return w},h.getProgram=function(T,d,y,m){var w=[T.id,d.id,y.join(":"),m.join(":")].join("@"),_=this.programs[w];return _&&this.gl.isProgram(_)||(this.programs[w]=_=function(A,p,L,M,C){var R=A.createProgram();A.attachShader(R,p),A.attachShader(R,L);for(var I=0;I<M.length;++I)A.bindAttribLocation(R,C[I],M[I]);if(A.linkProgram(R),!A.getProgramParameter(R,A.LINK_STATUS)){var D=A.getProgramInfoLog(R);throw new i(D,"Error linking program: "+D)}return R}(this.gl,T.shader,d.shader,y,m),T.programs.push(w),d.programs.push(w)),_}},4098:function(c){function s(i){this.plot=i,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}c.exports=function(i,a){var r=new s(i);return r.update(a),i.addOverlay(r),r};var n=s.prototype;n.update=function(i){i=i||{},this.enable=(i.enable||[!0,!0,!1,!1]).slice(),this.width=(i.width||[1,1,1,1]).slice(),this.color=(i.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(a){return a.slice()}),this.center=(i.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},n.draw=function(){var i=this.enable,a=this.width,r=this.color,o=this.center,l=this.plot,u=l.line,h=l.dataBox,f=l.viewBox;if(u.bind(),h[0]<=o[0]&&o[0]<=h[2]&&h[1]<=o[1]&&o[1]<=h[3]){var T=f[0]+(o[0]-h[0])/(h[2]-h[0])*(f[2]-f[0]),d=f[1]+(o[1]-h[1])/(h[3]-h[1])*(f[3]-f[1]);i[0]&&u.drawLine(T,d,f[0],d,a[0],r[0]),i[1]&&u.drawLine(T,d,T,f[1],a[1],r[1]),i[2]&&u.drawLine(T,d,f[2],d,a[2],r[2]),i[3]&&u.drawLine(T,d,T,f[3],a[3],r[3])}},n.dispose=function(){this.plot.removeOverlay(this)}},1493:function(c,s,n){var i=n(3236),a=n(9405),r=i([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * (view * (model * vec4(vertexPosition, 1.0)));
  vec2 clipOffset = (projection * (view * (model * vec4(color, 0.0)))).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),o=i([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);c.exports=function(l){return a(l,r,o,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},4449:function(c,s,n){var i=n(2762),a=n(8116),r=n(1493);c.exports=function(d,y){var m=[];function w(M,C,R,I,D,F){var q=[M,C,R,0,0,0,1];q[I+3]=1,q[I]=D,m.push.apply(m,q),q[6]=-1,m.push.apply(m,q),q[I]=F,m.push.apply(m,q),m.push.apply(m,q),q[6]=1,m.push.apply(m,q),q[I]=D,m.push.apply(m,q)}w(0,0,0,0,0,1),w(0,0,0,1,0,1),w(0,0,0,2,0,1),w(1,0,0,1,-1,1),w(1,0,0,2,-1,1),w(0,1,0,0,-1,1),w(0,1,0,2,-1,1),w(0,0,1,0,-1,1),w(0,0,1,1,-1,1);var _=i(d,m),A=a(d,[{type:d.FLOAT,buffer:_,size:3,offset:0,stride:28},{type:d.FLOAT,buffer:_,size:3,offset:12,stride:28},{type:d.FLOAT,buffer:_,size:1,offset:24,stride:28}]),p=r(d);p.attributes.position.location=0,p.attributes.color.location=1,p.attributes.weight.location=2;var L=new l(d,_,A,p);return L.update(y),L};var o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function l(d,y,m,w){this.gl=d,this.buffer=y,this.vao=m,this.shader=w,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var u=l.prototype,h=[0,0,0],f=[0,0,0],T=[0,0];u.isTransparent=function(){return!1},u.drawTransparent=function(d){},u.draw=function(d){var y=this.gl,m=this.vao,w=this.shader;m.bind(),w.bind();var _,A=d.model||o,p=d.view||o,L=d.projection||o;this.axes&&(_=this.axes.lastCubeProps.axis);for(var M=h,C=f,R=0;R<3;++R)_&&_[R]<0?(M[R]=this.bounds[0][R],C[R]=this.bounds[1][R]):(M[R]=this.bounds[1][R],C[R]=this.bounds[0][R]);for(T[0]=y.drawingBufferWidth,T[1]=y.drawingBufferHeight,w.uniforms.model=A,w.uniforms.view=p,w.uniforms.projection=L,w.uniforms.coordinates=[this.position,M,C],w.uniforms.colors=this.colors,w.uniforms.screenShape=T,R=0;R<3;++R)w.uniforms.lineWidth=this.lineWidth[R]*this.pixelRatio,this.enabled[R]&&(m.draw(y.TRIANGLES,6,6*R),this.drawSides[R]&&m.draw(y.TRIANGLES,12,18+12*R));m.unbind()},u.update=function(d){d&&("bounds"in d&&(this.bounds=d.bounds),"position"in d&&(this.position=d.position),"lineWidth"in d&&(this.lineWidth=d.lineWidth),"colors"in d&&(this.colors=d.colors),"enabled"in d&&(this.enabled=d.enabled),"drawSides"in d&&(this.drawSides=d.drawSides))},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},6740:function(c,s,n){var i=n(3236),a=i([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),r=i([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),o=i([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * (view * tubePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);s.meshShader={vertex:a,fragment:r,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},s.pickShader={vertex:o,fragment:l,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7815:function(c,s,n){var i=n(2931),a=n(9970),r=["xyz","xzy","yxz","yzx","zxy","zyx"],o=function(T,d){var y,m=T.length;for(y=0;y<m;y++){var w=T[y];if(w===d)return y;if(w>d)return y-1}return y},l=function(T,d,y){return T<d?d:T>y?y:T},u=function(T){var d=1/0;T.sort(function(_,A){return _-A});for(var y=T.length,m=1;m<y;m++){var w=Math.abs(T[m]-T[m-1]);w<d&&(d=w)}return d};c.exports=function(T,d){var y=T.startingPositions,m=T.maxLength||1e3,w=T.tubeSize||1,_=T.absoluteTubeSize,A=T.gridFill||"+x+y+z",p={};A.indexOf("-x")!==-1&&(p.reversedX=!0),A.indexOf("-y")!==-1&&(p.reversedY=!0),A.indexOf("-z")!==-1&&(p.reversedZ=!0),p.filled=r.indexOf(A.replace(/-/g,"").replace(/\+/g,""));var L=T.getVelocity||function(Te){return function(Le,Ie,_e){var fe=Ie.vectors,le=Ie.meshgrid,ye=Le[0],Oe=Le[1],Ae=Le[2],Se=le[0].length,Pe=le[1].length,Fe=le[2].length,Be=o(le[0],ye),xe=o(le[1],Oe),Me=o(le[2],Ae),Ce=Be+1,Ne=xe+1,Re=Me+1;if(Be=l(Be,0,Se-1),Ce=l(Ce,0,Se-1),xe=l(xe,0,Pe-1),Ne=l(Ne,0,Pe-1),Me=l(Me,0,Fe-1),Re=l(Re,0,Fe-1),Be<0||xe<0||Me<0||Ce>Se-1||Ne>Pe-1||Re>Fe-1)return i.create();var He,Ye,Qe,lt,ut,xt,_t=le[0][Be],mt=le[0][Ce],it=le[1][xe],nt=le[1][Ne],Et=le[2][Me],zt=(ye-_t)/(mt-_t),Ft=(Oe-it)/(nt-it),Pt=(Ae-Et)/(le[2][Re]-Et);switch(isFinite(zt)||(zt=.5),isFinite(Ft)||(Ft=.5),isFinite(Pt)||(Pt=.5),_e.reversedX&&(Be=Se-1-Be,Ce=Se-1-Ce),_e.reversedY&&(xe=Pe-1-xe,Ne=Pe-1-Ne),_e.reversedZ&&(Me=Fe-1-Me,Re=Fe-1-Re),_e.filled){case 5:ut=Me,xt=Re,Qe=xe*Fe,lt=Ne*Fe,He=Be*Fe*Pe,Ye=Ce*Fe*Pe;break;case 4:ut=Me,xt=Re,He=Be*Fe,Ye=Ce*Fe,Qe=xe*Fe*Se,lt=Ne*Fe*Se;break;case 3:Qe=xe,lt=Ne,ut=Me*Pe,xt=Re*Pe,He=Be*Pe*Fe,Ye=Ce*Pe*Fe;break;case 2:Qe=xe,lt=Ne,He=Be*Pe,Ye=Ce*Pe,ut=Me*Pe*Se,xt=Re*Pe*Se;break;case 1:He=Be,Ye=Ce,ut=Me*Se,xt=Re*Se,Qe=xe*Se*Fe,lt=Ne*Se*Fe;break;default:He=Be,Ye=Ce,Qe=xe*Se,lt=Ne*Se,ut=Me*Se*Pe,xt=Re*Se*Pe}var Ze=fe[He+Qe+ut],Je=fe[He+Qe+xt],qe=fe[He+lt+ut],Ke=fe[He+lt+xt],ft=fe[Ye+Qe+ut],ot=fe[Ye+Qe+xt],Ue=fe[Ye+lt+ut],Ve=fe[Ye+lt+xt],st=i.create(),Xe=i.create(),gt=i.create(),yt=i.create();i.lerp(st,Ze,ft,zt),i.lerp(Xe,Je,ot,zt),i.lerp(gt,qe,Ue,zt),i.lerp(yt,Ke,Ve,zt);var bt=i.create(),dt=i.create();i.lerp(bt,st,gt,Ft),i.lerp(dt,Xe,yt,Ft);var Lt=i.create();return i.lerp(Lt,bt,dt,Pt),Lt}(Te,T,p)},M=T.getDivergence||function(Te,Le){var Ie=i.create(),_e=1e-4;i.add(Ie,Te,[_e,0,0]);var fe=L(Ie);i.subtract(fe,fe,Le),i.scale(fe,fe,1/_e),i.add(Ie,Te,[0,_e,0]);var le=L(Ie);i.subtract(le,le,Le),i.scale(le,le,1/_e),i.add(Ie,Te,[0,0,_e]);var ye=L(Ie);return i.subtract(ye,ye,Le),i.scale(ye,ye,1/_e),i.add(Ie,fe,le),i.add(Ie,Ie,ye),Ie},C=[],R=d[0][0],I=d[0][1],D=d[0][2],F=d[1][0],q=d[1][1],z=d[1][2],V=function(Te){var Le=Te[0],Ie=Te[1],_e=Te[2];return!(Le<R||Le>F||Ie<I||Ie>q||_e<D||_e>z)},X=10*i.distance(d[0],d[1])/m,j=X*X,H=1,G=0,ie=y.length;ie>1&&(H=function(Te){for(var Le=[],Ie=[],_e=[],fe={},le={},ye={},Oe=Te.length,Ae=0;Ae<Oe;Ae++){var Se=Te[Ae],Pe=Se[0],Fe=Se[1],Be=Se[2];fe[Pe]||(Le.push(Pe),fe[Pe]=!0),le[Fe]||(Ie.push(Fe),le[Fe]=!0),ye[Be]||(_e.push(Be),ye[Be]=!0)}var xe=u(Le),Me=u(Ie),Ce=u(_e),Ne=Math.min(xe,Me,Ce);return isFinite(Ne)?Ne:1}(y));for(var re=0;re<ie;re++){var te=i.create();i.copy(te,y[re]);var K=[te],J=[],$=L(te),ae=te;J.push($);var ue=[],ce=M(te,$),de=i.length(ce);isFinite(de)&&de>G&&(G=de),ue.push(de),C.push({points:K,velocities:J,divergences:ue});for(var pe=0;pe<100*m&&K.length<m&&V(te);){pe++;var me=i.clone($),be=i.squaredLength(me);if(be===0)break;be>j&&i.scale(me,me,X/Math.sqrt(be)),i.add(me,me,te),$=L(me),i.squaredDistance(ae,me)-j>-1e-4*j&&(K.push(me),ae=me,J.push($),ce=M(me,$),de=i.length(ce),isFinite(de)&&de>G&&(G=de),ue.push(de)),te=me}}var we=function(Te,Le,Ie,_e){for(var fe=0,le=0;le<Te.length;le++)for(var ye=Te[le].velocities,Oe=0;Oe<ye.length;Oe++)fe=Math.max(fe,i.length(ye[Oe]));var Ae=Te.map(function(He){return function(Ye,Qe,lt,ut){for(var xt=Ye.points,_t=Ye.velocities,mt=Ye.divergences,it=[],nt=[],Et=[],zt=[],Ft=[],Pt=[],Ze=0,Je=0,qe=a.create(),Ke=a.create(),ft=0;ft<xt.length;ft++){var ot=xt[ft],Ue=_t[ft],Ve=mt[ft];Qe===0&&(Ve=.05*lt),Je=i.length(Ue)/ut,qe=a.create(),i.copy(qe,Ue),qe[3]=Ve;for(var st=0;st<8;st++)Ft[st]=[ot[0],ot[1],ot[2],st];if(zt.length>0)for(st=0;st<8;st++){var Xe=(st+1)%8;it.push(zt[st],Ft[st],Ft[Xe],Ft[Xe],zt[Xe],zt[st]),Et.push(Ke,qe,qe,qe,Ke,Ke),Pt.push(Ze,Je,Je,Je,Ze,Ze);var gt=it.length;nt.push([gt-6,gt-5,gt-4],[gt-3,gt-2,gt-1])}var yt=zt;zt=Ft,Ft=yt;var bt=Ke;Ke=qe,qe=bt;var dt=Ze;Ze=Je,Je=dt}return{positions:it,cells:nt,vectors:Et,vertexIntensity:Pt}}(He,Ie,_e,fe)}),Se=[],Pe=[],Fe=[],Be=[];for(le=0;le<Ae.length;le++){var xe=Ae[le],Me=Se.length;for(Se=Se.concat(xe.positions),Fe=Fe.concat(xe.vectors),Be=Be.concat(xe.vertexIntensity),Oe=0;Oe<xe.cells.length;Oe++){var Ce=xe.cells[Oe],Ne=[];Pe.push(Ne);for(var Re=0;Re<Ce.length;Re++)Ne.push(Ce[Re]+Me)}}return{positions:Se,cells:Pe,vectors:Fe,vertexIntensity:Be,colormap:Le}}(C,T.colormap,G,H);return _?we.tubeScale=_:(G===0&&(G=1),we.tubeScale=.5*w*H/G),we};var h=n(6740),f=n(6405).createMesh;c.exports.createTubeMesh=function(T,d){return f(T,d,{shaders:h,traceType:"streamtube"})}},990:function(c,s,n){var i=n(9405),a=n(3236),r=a([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(localCoordinate, 1.0);
  vec4 clipPosition = projection * (view * worldPosition);
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),o=a([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color  in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),l=a([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(dataCoordinate, 1.0);

  vec4 clipPosition = projection * (view * worldPosition);
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),u=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);s.createShader=function(h){var f=i(h,r,o,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return f.attributes.uv.location=0,f.attributes.f.location=1,f.attributes.normal.location=2,f},s.createPickShader=function(h){var f=i(h,r,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return f.attributes.uv.location=0,f.attributes.f.location=1,f.attributes.normal.location=2,f},s.createContourShader=function(h){var f=i(h,l,o,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return f.attributes.uv.location=0,f.attributes.f.location=1,f},s.createPickContourShader=function(h){var f=i(h,l,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return f.attributes.uv.location=0,f.attributes.f.location=1,f}},9499:function(c,s,n){c.exports=function(ce){var de=ce.gl,pe=p(de),me=M(de),be=L(de),we=C(de),Te=a(de),Le=r(de,[{buffer:Te,size:4,stride:R,offset:0},{buffer:Te,size:3,stride:R,offset:16},{buffer:Te,size:3,stride:R,offset:28}]),Ie=a(de),_e=r(de,[{buffer:Ie,size:4,stride:20,offset:0},{buffer:Ie,size:1,stride:20,offset:16}]),fe=a(de),le=r(de,[{buffer:fe,size:2,type:de.FLOAT}]),ye=o(de,1,z,de.RGBA,de.UNSIGNED_BYTE);ye.minFilter=de.LINEAR,ye.magFilter=de.LINEAR;var Oe=new V(de,[0,0],[[0,0,0],[0,0,0]],pe,me,Te,Le,ye,be,we,Ie,_e,fe,le,[0,0,0]),Ae={levels:[[],[],[]]};for(var Se in ce)Ae[Se]=ce[Se];return Ae.colormap=Ae.colormap||"jet",Oe.update(Ae),Oe};var i=n(8828),a=n(2762),r=n(8116),o=n(7766),l=n(1888),u=n(6729),h=n(5298),f=n(9994),T=n(9618),d=n(3711),y=n(6760),m=n(7608),w=n(2478),_=n(6199),A=n(990),p=A.createShader,L=A.createContourShader,M=A.createPickShader,C=A.createPickContourShader,R=40,I=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],D=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],F=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function q(ce,de,pe,me,be){this.position=ce,this.index=de,this.uv=pe,this.level=me,this.dataCoordinate=be}(function(){for(var ce=0;ce<3;++ce){var de=F[ce],pe=(ce+2)%3;de[(ce+1)%3+0]=1,de[pe+3]=1,de[ce+6]=1}})();var z=256;function V(ce,de,pe,me,be,we,Te,Le,Ie,_e,fe,le,ye,Oe,Ae){this.gl=ce,this.shape=de,this.bounds=pe,this.objectOffset=Ae,this.intensityBounds=[],this._shader=me,this._pickShader=be,this._coordinateBuffer=we,this._vao=Te,this._colorMap=Le,this._contourShader=Ie,this._contourPickShader=_e,this._contourBuffer=fe,this._contourVAO=le,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new q([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=ye,this._dynamicVAO=Oe,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[T(l.mallocFloat(1024),[0,0]),T(l.mallocFloat(1024),[0,0]),T(l.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var X=V.prototype;X.genColormap=function(ce,de){var pe=!1,me=f([u({colormap:ce,nshades:z,format:"rgba"}).map(function(be,we){var Te=de?function(Le,Ie){if(!Ie||!Ie.length)return 1;for(var _e=0;_e<Ie.length;++_e){if(Ie.length<2)return 1;if(Ie[_e][0]===Le)return Ie[_e][1];if(Ie[_e][0]>Le&&_e>0){var fe=(Ie[_e][0]-Le)/(Ie[_e][0]-Ie[_e-1][0]);return Ie[_e][1]*(1-fe)+fe*Ie[_e-1][1]}}return 1}(we/255,de):be[3];return Te<1&&(pe=!0),[be[0],be[1],be[2],255*Te]})]);return h.divseq(me,255),this.hasAlphaScale=pe,me},X.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},X.isOpaque=function(){return!this.isTransparent()},X.pickSlots=1,X.setPickBase=function(ce){this.pickId=ce};var j=[0,0,0],H={showSurface:!1,showContour:!1,projections:[I.slice(),I.slice(),I.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function G(ce,de){var pe,me,be,we=de.axes&&de.axes.lastCubeProps.axis||j,Te=de.showSurface,Le=de.showContour;for(pe=0;pe<3;++pe)for(Te=Te||de.surfaceProject[pe],me=0;me<3;++me)Le=Le||de.contourProject[pe][me];for(pe=0;pe<3;++pe){var Ie=H.projections[pe];for(me=0;me<16;++me)Ie[me]=0;for(me=0;me<4;++me)Ie[5*me]=1;Ie[5*pe]=0,Ie[12+pe]=de.axesBounds[+(we[pe]>0)][pe],y(Ie,ce.model,Ie);var _e=H.clipBounds[pe];for(be=0;be<2;++be)for(me=0;me<3;++me)_e[be][me]=ce.clipBounds[be][me];_e[0][pe]=-1e8,_e[1][pe]=1e8}return H.showSurface=Te,H.showContour=Le,H}var ie={model:I,view:I,projection:I,inverseModel:I.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},re=I.slice(),te=[1,0,0,0,1,0,0,0,1];function K(ce,de){ce=ce||{};var pe=this.gl;pe.disable(pe.CULL_FACE),this._colorMap.bind(0);var me=ie;me.model=ce.model||I,me.view=ce.view||I,me.projection=ce.projection||I,me.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],me.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],me.objectOffset=this.objectOffset,me.contourColor=this.contourColor[0],me.inverseModel=m(me.inverseModel,me.model);for(var be=0;be<2;++be)for(var we=me.clipBounds[be],Te=0;Te<3;++Te)we[Te]=Math.min(Math.max(this.clipBounds[be][Te],-1e8),1e8);me.kambient=this.ambientLight,me.kdiffuse=this.diffuseLight,me.kspecular=this.specularLight,me.roughness=this.roughness,me.fresnel=this.fresnel,me.opacity=this.opacity,me.height=0,me.permutation=te,me.vertexColor=this.vertexColor;var Le=re;for(y(Le,me.view,me.model),y(Le,me.projection,Le),m(Le,Le),be=0;be<3;++be)me.eyePosition[be]=Le[12+be]/Le[15];var Ie=Le[15];for(be=0;be<3;++be)Ie+=this.lightPosition[be]*Le[4*be+3];for(be=0;be<3;++be){var _e=Le[12+be];for(Te=0;Te<3;++Te)_e+=Le[4*Te+be]*this.lightPosition[Te];me.lightPosition[be]=_e/Ie}var fe=G(me,this);if(fe.showSurface){for(this._shader.bind(),this._shader.uniforms=me,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(pe.TRIANGLES,this._vertexCount),be=0;be<3;++be)this.surfaceProject[be]&&this.vertexCount&&(this._shader.uniforms.model=fe.projections[be],this._shader.uniforms.clipBounds=fe.clipBounds[be],this._vao.draw(pe.TRIANGLES,this._vertexCount));this._vao.unbind()}if(fe.showContour){var le=this._contourShader;me.kambient=1,me.kdiffuse=0,me.kspecular=0,me.opacity=1,le.bind(),le.uniforms=me;var ye=this._contourVAO;for(ye.bind(),be=0;be<3;++be)for(le.uniforms.permutation=F[be],pe.lineWidth(this.contourWidth[be]*this.pixelRatio),Te=0;Te<this.contourLevels[be].length;++Te)Te===this.highlightLevel[be]?(le.uniforms.contourColor=this.highlightColor[be],le.uniforms.contourTint=this.highlightTint[be]):Te!==0&&Te-1!==this.highlightLevel[be]||(le.uniforms.contourColor=this.contourColor[be],le.uniforms.contourTint=this.contourTint[be]),this._contourCounts[be][Te]&&(le.uniforms.height=this.contourLevels[be][Te],ye.draw(pe.LINES,this._contourCounts[be][Te],this._contourOffsets[be][Te]));for(be=0;be<3;++be)for(le.uniforms.model=fe.projections[be],le.uniforms.clipBounds=fe.clipBounds[be],Te=0;Te<3;++Te)if(this.contourProject[be][Te]){le.uniforms.permutation=F[Te],pe.lineWidth(this.contourWidth[Te]*this.pixelRatio);for(var Oe=0;Oe<this.contourLevels[Te].length;++Oe)Oe===this.highlightLevel[Te]?(le.uniforms.contourColor=this.highlightColor[Te],le.uniforms.contourTint=this.highlightTint[Te]):Oe!==0&&Oe-1!==this.highlightLevel[Te]||(le.uniforms.contourColor=this.contourColor[Te],le.uniforms.contourTint=this.contourTint[Te]),this._contourCounts[Te][Oe]&&(le.uniforms.height=this.contourLevels[Te][Oe],ye.draw(pe.LINES,this._contourCounts[Te][Oe],this._contourOffsets[Te][Oe]))}for(ye.unbind(),(ye=this._dynamicVAO).bind(),be=0;be<3;++be)if(this._dynamicCounts[be]!==0)for(le.uniforms.model=me.model,le.uniforms.clipBounds=me.clipBounds,le.uniforms.permutation=F[be],pe.lineWidth(this.dynamicWidth[be]*this.pixelRatio),le.uniforms.contourColor=this.dynamicColor[be],le.uniforms.contourTint=this.dynamicTint[be],le.uniforms.height=this.dynamicLevel[be],ye.draw(pe.LINES,this._dynamicCounts[be],this._dynamicOffsets[be]),Te=0;Te<3;++Te)this.contourProject[Te][be]&&(le.uniforms.model=fe.projections[Te],le.uniforms.clipBounds=fe.clipBounds[Te],ye.draw(pe.LINES,this._dynamicCounts[be],this._dynamicOffsets[be]));ye.unbind()}}X.draw=function(ce){return K.call(this,ce,!1)},X.drawTransparent=function(ce){return K.call(this,ce,!0)};var J={model:I,view:I,projection:I,inverseModel:I,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function $(ce,de){return Array.isArray(ce)?[de(ce[0]),de(ce[1]),de(ce[2])]:[de(ce),de(ce),de(ce)]}function ae(ce){return Array.isArray(ce)?ce.length===3?[ce[0],ce[1],ce[2],1]:[ce[0],ce[1],ce[2],ce[3]]:[0,0,0,1]}function ue(ce){if(Array.isArray(ce)){if(Array.isArray(ce))return[ae(ce[0]),ae(ce[1]),ae(ce[2])];var de=ae(ce);return[de.slice(),de.slice(),de.slice()]}}X.drawPick=function(ce){ce=ce||{};var de=this.gl;de.disable(de.CULL_FACE);var pe=J;pe.model=ce.model||I,pe.view=ce.view||I,pe.projection=ce.projection||I,pe.shape=this._field[2].shape,pe.pickId=this.pickId/255,pe.lowerBound=this.bounds[0],pe.upperBound=this.bounds[1],pe.objectOffset=this.objectOffset,pe.permutation=te;for(var me=0;me<2;++me)for(var be=pe.clipBounds[me],we=0;we<3;++we)be[we]=Math.min(Math.max(this.clipBounds[me][we],-1e8),1e8);var Te=G(pe,this);if(Te.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=pe,this._vao.bind(),this._vao.draw(de.TRIANGLES,this._vertexCount),me=0;me<3;++me)this.surfaceProject[me]&&(this._pickShader.uniforms.model=Te.projections[me],this._pickShader.uniforms.clipBounds=Te.clipBounds[me],this._vao.draw(de.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Te.showContour){var Le=this._contourPickShader;Le.bind(),Le.uniforms=pe;var Ie=this._contourVAO;for(Ie.bind(),we=0;we<3;++we)for(de.lineWidth(this.contourWidth[we]*this.pixelRatio),Le.uniforms.permutation=F[we],me=0;me<this.contourLevels[we].length;++me)this._contourCounts[we][me]&&(Le.uniforms.height=this.contourLevels[we][me],Ie.draw(de.LINES,this._contourCounts[we][me],this._contourOffsets[we][me]));for(me=0;me<3;++me)for(Le.uniforms.model=Te.projections[me],Le.uniforms.clipBounds=Te.clipBounds[me],we=0;we<3;++we)if(this.contourProject[me][we]){Le.uniforms.permutation=F[we],de.lineWidth(this.contourWidth[we]*this.pixelRatio);for(var _e=0;_e<this.contourLevels[we].length;++_e)this._contourCounts[we][_e]&&(Le.uniforms.height=this.contourLevels[we][_e],Ie.draw(de.LINES,this._contourCounts[we][_e],this._contourOffsets[we][_e]))}Ie.unbind()}},X.pick=function(ce){if(!ce||ce.id!==this.pickId)return null;var de=this._field[2].shape,pe=this._pickResult,me=de[0]*(ce.value[0]+(ce.value[2]>>4)/16)/255,be=Math.floor(me),we=me-be,Te=de[1]*(ce.value[1]+(15&ce.value[2])/16)/255,Le=Math.floor(Te),Ie=Te-Le;be+=1,Le+=1;var _e=pe.position;_e[0]=_e[1]=_e[2]=0;for(var fe=0;fe<2;++fe)for(var le=fe?we:1-we,ye=0;ye<2;++ye)for(var Oe=be+fe,Ae=Le+ye,Se=le*(ye?Ie:1-Ie),Pe=0;Pe<3;++Pe)_e[Pe]+=this._field[Pe].get(Oe,Ae)*Se;for(var Fe=this._pickResult.level,Be=0;Be<3;++Be)if(Fe[Be]=w.le(this.contourLevels[Be],_e[Be]),Fe[Be]<0)this.contourLevels[Be].length>0&&(Fe[Be]=0);else if(Fe[Be]<this.contourLevels[Be].length-1){var xe=this.contourLevels[Be][Fe[Be]],Me=this.contourLevels[Be][Fe[Be]+1];Math.abs(xe-_e[Be])>Math.abs(Me-_e[Be])&&(Fe[Be]+=1)}for(pe.index[0]=we<.5?be:be+1,pe.index[1]=Ie<.5?Le:Le+1,pe.uv[0]=me/de[0],pe.uv[1]=Te/de[1],Pe=0;Pe<3;++Pe)pe.dataCoordinate[Pe]=this._field[Pe].get(pe.index[0],pe.index[1]);return pe},X.padField=function(ce,de){var pe=de.shape.slice(),me=ce.shape.slice();h.assign(ce.lo(1,1).hi(pe[0],pe[1]),de),h.assign(ce.lo(1).hi(pe[0],1),de.hi(pe[0],1)),h.assign(ce.lo(1,me[1]-1).hi(pe[0],1),de.lo(0,pe[1]-1).hi(pe[0],1)),h.assign(ce.lo(0,1).hi(1,pe[1]),de.hi(1)),h.assign(ce.lo(me[0]-1,1).hi(1,pe[1]),de.lo(pe[0]-1)),ce.set(0,0,de.get(0,0)),ce.set(0,me[1]-1,de.get(0,pe[1]-1)),ce.set(me[0]-1,0,de.get(pe[0]-1,0)),ce.set(me[0]-1,me[1]-1,de.get(pe[0]-1,pe[1]-1))},X.update=function(ce){ce=ce||{},this.objectOffset=ce.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in ce&&(this.contourWidth=$(ce.contourWidth,Number)),"showContour"in ce&&(this.showContour=$(ce.showContour,Boolean)),"showSurface"in ce&&(this.showSurface=!!ce.showSurface),"contourTint"in ce&&(this.contourTint=$(ce.contourTint,Boolean)),"contourColor"in ce&&(this.contourColor=ue(ce.contourColor)),"contourProject"in ce&&(this.contourProject=$(ce.contourProject,function(fn){return $(fn,Boolean)})),"surfaceProject"in ce&&(this.surfaceProject=ce.surfaceProject),"dynamicColor"in ce&&(this.dynamicColor=ue(ce.dynamicColor)),"dynamicTint"in ce&&(this.dynamicTint=$(ce.dynamicTint,Number)),"dynamicWidth"in ce&&(this.dynamicWidth=$(ce.dynamicWidth,Number)),"opacity"in ce&&(this.opacity=ce.opacity),"opacityscale"in ce&&(this.opacityscale=ce.opacityscale),"colorBounds"in ce&&(this.colorBounds=ce.colorBounds),"vertexColor"in ce&&(this.vertexColor=ce.vertexColor?1:0),"colormap"in ce&&this._colorMap.setPixels(this.genColormap(ce.colormap,this.opacityscale));var de=ce.field||ce.coords&&ce.coords[2]||null,pe=!1;if(de||(de=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in ce||"coords"in ce){var me=(de.shape[0]+2)*(de.shape[1]+2);me>this._field[2].data.length&&(l.freeFloat(this._field[2].data),this._field[2].data=l.mallocFloat(i.nextPow2(me))),this._field[2]=T(this._field[2].data,[de.shape[0]+2,de.shape[1]+2]),this.padField(this._field[2],de),this.shape=de.shape.slice();for(var be=this.shape,we=0;we<2;++we)this._field[2].size>this._field[we].data.length&&(l.freeFloat(this._field[we].data),this._field[we].data=l.mallocFloat(this._field[2].size)),this._field[we]=T(this._field[we].data,[be[0]+2,be[1]+2]);if(ce.coords){var Te=ce.coords;if(!Array.isArray(Te)||Te.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(we=0;we<2;++we){var Le=Te[we];for(ye=0;ye<2;++ye)if(Le.shape[ye]!==be[ye])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[we],Le)}}else if(ce.ticks){var Ie=ce.ticks;if(!Array.isArray(Ie)||Ie.length!==2)throw new Error("gl-surface: invalid ticks");for(we=0;we<2;++we){var _e=Ie[we];if((Array.isArray(_e)||_e.length)&&(_e=T(_e)),_e.shape[0]!==be[we])throw new Error("gl-surface: invalid tick length");var fe=T(_e.data,be);fe.stride[we]=_e.stride[0],fe.stride[1^we]=0,this.padField(this._field[we],fe)}}else{for(we=0;we<2;++we){var le=[0,0];le[we]=1,this._field[we]=T(this._field[we].data,[be[0]+2,be[1]+2],le,0)}this._field[0].set(0,0,0);for(var ye=0;ye<be[0];++ye)this._field[0].set(ye+1,0,ye);for(this._field[0].set(be[0]+1,0,be[0]-1),this._field[1].set(0,0,0),ye=0;ye<be[1];++ye)this._field[1].set(0,ye+1,ye);this._field[1].set(0,be[1]+1,be[1]-1)}var Oe=this._field,Ae=T(l.mallocFloat(3*Oe[2].size*2),[3,be[0]+2,be[1]+2,2]);for(we=0;we<3;++we)_(Ae.pick(we),Oe[we],"mirror");var Se=T(l.mallocFloat(3*Oe[2].size),[be[0]+2,be[1]+2,3]);for(we=0;we<be[0]+2;++we)for(ye=0;ye<be[1]+2;++ye){var Pe=Ae.get(0,we,ye,0),Fe=Ae.get(0,we,ye,1),Be=Ae.get(1,we,ye,0),xe=Ae.get(1,we,ye,1),Me=Ae.get(2,we,ye,0),Ce=Ae.get(2,we,ye,1),Ne=Be*Ce-xe*Me,Re=Me*Fe-Ce*Pe,He=Pe*xe-Fe*Be,Ye=Math.sqrt(Ne*Ne+Re*Re+He*He);Ye<1e-8?(Ye=Math.max(Math.abs(Ne),Math.abs(Re),Math.abs(He)))<1e-8?(He=1,Re=Ne=0,Ye=1):Ye=1/Ye:Ye=1/Math.sqrt(Ye),Se.set(we,ye,0,Ne*Ye),Se.set(we,ye,1,Re*Ye),Se.set(we,ye,2,He*Ye)}l.free(Ae.data);var Qe=[1/0,1/0,1/0],lt=[-1/0,-1/0,-1/0],ut=1/0,xt=-1/0,_t=(be[0]-1)*(be[1]-1)*6,mt=l.mallocFloat(i.nextPow2(10*_t)),it=0,nt=0;for(we=0;we<be[0]-1;++we)e:for(ye=0;ye<be[1]-1;++ye){for(var Et=0;Et<2;++Et)for(var zt=0;zt<2;++zt)for(var Ft=0;Ft<3;++Ft){var Pt=this._field[Ft].get(1+we+Et,1+ye+zt);if(isNaN(Pt)||!isFinite(Pt))continue e}for(Ft=0;Ft<6;++Ft){var Ze=we+D[Ft][0],Je=ye+D[Ft][1],qe=this._field[0].get(Ze+1,Je+1),Ke=this._field[1].get(Ze+1,Je+1);Pt=this._field[2].get(Ze+1,Je+1),Ne=Se.get(Ze+1,Je+1,0),Re=Se.get(Ze+1,Je+1,1),He=Se.get(Ze+1,Je+1,2),ce.intensity&&(ft=ce.intensity.get(Ze,Je));var ft=ce.intensity?ce.intensity.get(Ze,Je):Pt+this.objectOffset[2];mt[it++]=Ze,mt[it++]=Je,mt[it++]=qe,mt[it++]=Ke,mt[it++]=Pt,mt[it++]=0,mt[it++]=ft,mt[it++]=Ne,mt[it++]=Re,mt[it++]=He,Qe[0]=Math.min(Qe[0],qe+this.objectOffset[0]),Qe[1]=Math.min(Qe[1],Ke+this.objectOffset[1]),Qe[2]=Math.min(Qe[2],Pt+this.objectOffset[2]),ut=Math.min(ut,ft),lt[0]=Math.max(lt[0],qe+this.objectOffset[0]),lt[1]=Math.max(lt[1],Ke+this.objectOffset[1]),lt[2]=Math.max(lt[2],Pt+this.objectOffset[2]),xt=Math.max(xt,ft),nt+=1}}for(ce.intensityBounds&&(ut=+ce.intensityBounds[0],xt=+ce.intensityBounds[1]),we=6;we<it;we+=10)mt[we]=(mt[we]-ut)/(xt-ut);this._vertexCount=nt,this._coordinateBuffer.update(mt.subarray(0,it)),l.freeFloat(mt),l.free(Se.data),this.bounds=[Qe,lt],this.intensity=ce.intensity||this._field[2],this.intensityBounds[0]===ut&&this.intensityBounds[1]===xt||(pe=!0),this.intensityBounds=[ut,xt]}if("levels"in ce){var ot=ce.levels;for(ot=Array.isArray(ot[0])?ot.slice():[[],[],ot],we=0;we<3;++we)ot[we]=ot[we].slice(),ot[we].sort(function(fn,rn){return fn-rn});for(we=0;we<3;++we)for(ye=0;ye<ot[we].length;++ye)ot[we][ye]-=this.objectOffset[we];e:for(we=0;we<3;++we){if(ot[we].length!==this.contourLevels[we].length){pe=!0;break}for(ye=0;ye<ot[we].length;++ye)if(ot[we][ye]!==this.contourLevels[we][ye]){pe=!0;break e}}this.contourLevels=ot}if(pe){Oe=this._field,be=this.shape;for(var Ue=[],Ve=0;Ve<3;++Ve){var st=this.contourLevels[Ve],Xe=[],gt=[],yt=[0,0,0];for(we=0;we<st.length;++we){var bt=d(this._field[Ve],st[we]);Xe.push(Ue.length/5|0),nt=0;e:for(ye=0;ye<bt.cells.length;++ye){var dt=bt.cells[ye];for(Ft=0;Ft<2;++Ft){var Lt=bt.positions[dt[Ft]],wt=Lt[0],Ct=0|Math.floor(wt),Rt=wt-Ct,Dt=Lt[1],Nt=0|Math.floor(Dt),Xt=Dt-Nt,un=!1;t:for(var qt=0;qt<3;++qt){yt[qt]=0;var Kt=(Ve+qt+1)%3;for(Et=0;Et<2;++Et){var Ut=Et?Rt:1-Rt;for(Ze=0|Math.min(Math.max(Ct+Et,0),be[0]),zt=0;zt<2;++zt){var Rn=zt?Xt:1-Xt;if(Je=0|Math.min(Math.max(Nt+zt,0),be[1]),Pt=qt<2?this._field[Kt].get(Ze,Je):(this.intensity.get(Ze,Je)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Pt)||isNaN(Pt)){un=!0;break t}var An=Ut*Rn;yt[qt]+=An*Pt}}}if(un){if(Ft>0){for(var mn=0;mn<5;++mn)Ue.pop();nt-=1}continue e}Ue.push(yt[0],yt[1],Lt[0],Lt[1],yt[2]),nt+=1}}gt.push(nt)}this._contourOffsets[Ve]=Xe,this._contourCounts[Ve]=gt}var tn=l.mallocFloat(Ue.length);for(we=0;we<Ue.length;++we)tn[we]=Ue[we];this._contourBuffer.update(tn),l.freeFloat(tn)}},X.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var ce=0;ce<3;++ce)l.freeFloat(this._field[ce].data)},X.highlight=function(ce){var de,pe;if(!ce)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(de=0;de<3;++de)this.enableHighlight[de]?this.highlightLevel[de]=ce.level[de]:this.highlightLevel[de]=-1;for(pe=this.snapToData?ce.dataCoordinate:ce.position,de=0;de<3;++de)pe[de]-=this.objectOffset[de];if(this.enableDynamic[0]&&pe[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&pe[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&pe[2]!==this.dynamicLevel[2]){for(var me=0,be=this.shape,we=l.mallocFloat(12*be[0]*be[1]),Te=0;Te<3;++Te)if(this.enableDynamic[Te]){this.dynamicLevel[Te]=pe[Te];var Le=(Te+1)%3,Ie=(Te+2)%3,_e=this._field[Te],fe=this._field[Le],le=this._field[Ie],ye=d(_e,pe[Te]),Oe=ye.cells,Ae=ye.positions;for(this._dynamicOffsets[Te]=me,de=0;de<Oe.length;++de)for(var Se=Oe[de],Pe=0;Pe<2;++Pe){var Fe=Ae[Se[Pe]],Be=+Fe[0],xe=0|Be,Me=0|Math.min(xe+1,be[0]),Ce=Be-xe,Ne=1-Ce,Re=+Fe[1],He=0|Re,Ye=0|Math.min(He+1,be[1]),Qe=Re-He,lt=1-Qe,ut=Ne*lt,xt=Ne*Qe,_t=Ce*lt,mt=Ce*Qe,it=ut*fe.get(xe,He)+xt*fe.get(xe,Ye)+_t*fe.get(Me,He)+mt*fe.get(Me,Ye),nt=ut*le.get(xe,He)+xt*le.get(xe,Ye)+_t*le.get(Me,He)+mt*le.get(Me,Ye);if(isNaN(it)||isNaN(nt)){Pe&&(me-=1);break}we[2*me+0]=it,we[2*me+1]=nt,me+=1}this._dynamicCounts[Te]=me-this._dynamicOffsets[Te]}else this.dynamicLevel[Te]=NaN,this._dynamicCounts[Te]=0;this._dynamicBuffer.update(we.subarray(0,2*me)),l.freeFloat(we)}}},7766:function(c,s,n){var i=n(9618),a=n(5298),r=n(1888);c.exports=function(A){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(o||function(M){o=[M.LINEAR,M.NEAREST_MIPMAP_LINEAR,M.LINEAR_MIPMAP_NEAREST,M.LINEAR_MIPMAP_NEAREST],l=[M.NEAREST,M.LINEAR,M.NEAREST_MIPMAP_NEAREST,M.NEAREST_MIPMAP_LINEAR,M.LINEAR_MIPMAP_NEAREST,M.LINEAR_MIPMAP_LINEAR],u=[M.REPEAT,M.CLAMP_TO_EDGE,M.MIRRORED_REPEAT]}(A),typeof arguments[1]=="number")return _(A,arguments[1],arguments[2],arguments[3]||A.RGBA,arguments[4]||A.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return _(A,0|arguments[1][0],0|arguments[1][1],arguments[2]||A.RGBA,arguments[3]||A.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var p=arguments[1],L=h(p)?p:p.raw;if(L)return function(M,C,R,I,D,F){var q=w(M);return M.texImage2D(M.TEXTURE_2D,0,D,D,F,C),new d(M,q,R,I,D,F)}(A,L,0|p.width,0|p.height,arguments[2]||A.RGBA,arguments[3]||A.UNSIGNED_BYTE);if(p.shape&&p.data&&p.stride)return function(M,C){var R=C.dtype,I=C.shape.slice(),D=M.getParameter(M.MAX_TEXTURE_SIZE);if(I[0]<0||I[0]>D||I[1]<0||I[1]>D)throw new Error("gl-texture2d: Invalid texture size");var F=m(I,C.stride.slice()),q=0;R==="float32"?q=M.FLOAT:R==="float64"?(q=M.FLOAT,F=!1,R="float32"):R==="uint8"?q=M.UNSIGNED_BYTE:(q=M.UNSIGNED_BYTE,F=!1,R="uint8");var z,V,X=0;if(I.length===2)X=M.LUMINANCE,I=[I[0],I[1],1],C=i(C.data,I,[C.stride[0],C.stride[1],1],C.offset);else{if(I.length!==3)throw new Error("gl-texture2d: Invalid shape for texture");if(I[2]===1)X=M.ALPHA;else if(I[2]===2)X=M.LUMINANCE_ALPHA;else if(I[2]===3)X=M.RGB;else{if(I[2]!==4)throw new Error("gl-texture2d: Invalid shape for pixel coords");X=M.RGBA}}q!==M.FLOAT||M.getExtension("OES_texture_float")||(q=M.UNSIGNED_BYTE,F=!1);var j=C.size;if(F)z=C.offset===0&&C.data.length===j?C.data:C.data.subarray(C.offset,C.offset+j);else{var H=[I[2],I[2]*I[0],1];V=r.malloc(j,R);var G=i(V,I,H,0);R!=="float32"&&R!=="float64"||q!==M.UNSIGNED_BYTE?a.assign(G,C):f(G,C),z=V.subarray(0,j)}var ie=w(M);return M.texImage2D(M.TEXTURE_2D,0,X,I[0],I[1],0,X,q,z),F||r.free(V),new d(M,ie,I[0],I[1],X,q)}(A,p)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var o=null,l=null,u=null;function h(A){return typeof HTMLCanvasElement<"u"&&A instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&A instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&A instanceof HTMLVideoElement||typeof ImageData<"u"&&A instanceof ImageData}var f=function(A,p){a.muls(A,p,255)};function T(A,p,L){var M=A.gl,C=M.getParameter(M.MAX_TEXTURE_SIZE);if(p<0||p>C||L<0||L>C)throw new Error("gl-texture2d: Invalid texture size");return A._shape=[p,L],A.bind(),M.texImage2D(M.TEXTURE_2D,0,A.format,p,L,0,A.format,A.type,null),A._mipLevels=[0],A}function d(A,p,L,M,C,R){this.gl=A,this.handle=p,this.format=C,this.type=R,this._shape=[L,M],this._mipLevels=[0],this._magFilter=A.NEAREST,this._minFilter=A.NEAREST,this._wrapS=A.CLAMP_TO_EDGE,this._wrapT=A.CLAMP_TO_EDGE,this._anisoSamples=1;var I=this,D=[this._wrapS,this._wrapT];Object.defineProperties(D,[{get:function(){return I._wrapS},set:function(q){return I.wrapS=q}},{get:function(){return I._wrapT},set:function(q){return I.wrapT=q}}]),this._wrapVector=D;var F=[this._shape[0],this._shape[1]];Object.defineProperties(F,[{get:function(){return I._shape[0]},set:function(q){return I.width=q}},{get:function(){return I._shape[1]},set:function(q){return I.height=q}}]),this._shapeVector=F}var y=d.prototype;function m(A,p){return A.length===3?p[2]===1&&p[1]===A[0]*A[2]&&p[0]===A[2]:p[0]===1&&p[1]===A[0]}function w(A){var p=A.createTexture();return A.bindTexture(A.TEXTURE_2D,p),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),p}function _(A,p,L,M,C){var R=A.getParameter(A.MAX_TEXTURE_SIZE);if(p<0||p>R||L<0||L>R)throw new Error("gl-texture2d: Invalid texture shape");if(C===A.FLOAT&&!A.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var I=w(A);return A.texImage2D(A.TEXTURE_2D,0,M,p,L,0,M,C,null),new d(A,I,p,L,M,C)}Object.defineProperties(y,{minFilter:{get:function(){return this._minFilter},set:function(A){this.bind();var p=this.gl;if(this.type===p.FLOAT&&o.indexOf(A)>=0&&(p.getExtension("OES_texture_float_linear")||(A=p.NEAREST)),l.indexOf(A)<0)throw new Error("gl-texture2d: Unknown filter mode "+A);return p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,A),this._minFilter=A}},magFilter:{get:function(){return this._magFilter},set:function(A){this.bind();var p=this.gl;if(this.type===p.FLOAT&&o.indexOf(A)>=0&&(p.getExtension("OES_texture_float_linear")||(A=p.NEAREST)),l.indexOf(A)<0)throw new Error("gl-texture2d: Unknown filter mode "+A);return p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,A),this._magFilter=A}},mipSamples:{get:function(){return this._anisoSamples},set:function(A){var p=this._anisoSamples;if(this._anisoSamples=0|Math.max(A,1),p!==this._anisoSamples){var L=this.gl.getExtension("EXT_texture_filter_anisotropic");L&&this.gl.texParameterf(this.gl.TEXTURE_2D,L.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(A){if(this.bind(),u.indexOf(A)<0)throw new Error("gl-texture2d: Unknown wrap mode "+A);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,A),this._wrapS=A}},wrapT:{get:function(){return this._wrapT},set:function(A){if(this.bind(),u.indexOf(A)<0)throw new Error("gl-texture2d: Unknown wrap mode "+A);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,A),this._wrapT=A}},wrap:{get:function(){return this._wrapVector},set:function(A){if(Array.isArray(A)||(A=[A,A]),A.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var p=0;p<2;++p)if(u.indexOf(A[p])<0)throw new Error("gl-texture2d: Unknown wrap mode "+A);this._wrapS=A[0],this._wrapT=A[1];var L=this.gl;return this.bind(),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_S,this._wrapS),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_T,this._wrapT),A}},shape:{get:function(){return this._shapeVector},set:function(A){if(Array.isArray(A)){if(A.length!==2)throw new Error("gl-texture2d: Invalid texture shape")}else A=[0|A,0|A];return T(this,0|A[0],0|A[1]),[0|A[0],0|A[1]]}},width:{get:function(){return this._shape[0]},set:function(A){return T(this,A|=0,this._shape[1]),A}},height:{get:function(){return this._shape[1]},set:function(A){return A|=0,T(this,this._shape[0],A),A}}}),y.bind=function(A){var p=this.gl;return A!==void 0&&p.activeTexture(p.TEXTURE0+(0|A)),p.bindTexture(p.TEXTURE_2D,this.handle),A!==void 0?0|A:p.getParameter(p.ACTIVE_TEXTURE)-p.TEXTURE0},y.dispose=function(){this.gl.deleteTexture(this.handle)},y.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var A=Math.min(this._shape[0],this._shape[1]),p=0;A>0;++p,A>>>=1)this._mipLevels.indexOf(p)<0&&this._mipLevels.push(p)},y.setPixels=function(A,p,L,M){var C=this.gl;this.bind(),Array.isArray(p)?(M=L,L=0|p[1],p=0|p[0]):(p=p||0,L=L||0),M=M||0;var R=h(A)?A:A.raw;if(R)this._mipLevels.indexOf(M)<0?(C.texImage2D(C.TEXTURE_2D,0,this.format,this.format,this.type,R),this._mipLevels.push(M)):C.texSubImage2D(C.TEXTURE_2D,M,p,L,this.format,this.type,R);else{if(!(A.shape&&A.stride&&A.data))throw new Error("gl-texture2d: Unsupported data type");if(A.shape.length<2||p+A.shape[1]>this._shape[1]>>>M||L+A.shape[0]>this._shape[0]>>>M||p<0||L<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");(function(I,D,F,q,z,V,X,j){var H=j.dtype,G=j.shape.slice();if(G.length<2||G.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var ie=0,re=0,te=m(G,j.stride.slice());if(H==="float32"?ie=I.FLOAT:H==="float64"?(ie=I.FLOAT,te=!1,H="float32"):H==="uint8"?ie=I.UNSIGNED_BYTE:(ie=I.UNSIGNED_BYTE,te=!1,H="uint8"),G.length===2)re=I.LUMINANCE,G=[G[0],G[1],1],j=i(j.data,G,[j.stride[0],j.stride[1],1],j.offset);else{if(G.length!==3)throw new Error("gl-texture2d: Invalid shape for texture");if(G[2]===1)re=I.ALPHA;else if(G[2]===2)re=I.LUMINANCE_ALPHA;else if(G[2]===3)re=I.RGB;else{if(G[2]!==4)throw new Error("gl-texture2d: Invalid shape for pixel coords");re=I.RGBA}G[2]}if(re!==I.LUMINANCE&&re!==I.ALPHA||z!==I.LUMINANCE&&z!==I.ALPHA||(re=z),re!==z)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var K=j.size,J=X.indexOf(q)<0;if(J&&X.push(q),ie===V&&te)j.offset===0&&j.data.length===K?J?I.texImage2D(I.TEXTURE_2D,q,z,G[0],G[1],0,z,V,j.data):I.texSubImage2D(I.TEXTURE_2D,q,D,F,G[0],G[1],z,V,j.data):J?I.texImage2D(I.TEXTURE_2D,q,z,G[0],G[1],0,z,V,j.data.subarray(j.offset,j.offset+K)):I.texSubImage2D(I.TEXTURE_2D,q,D,F,G[0],G[1],z,V,j.data.subarray(j.offset,j.offset+K));else{var $;$=V===I.FLOAT?r.mallocFloat32(K):r.mallocUint8(K);var ae=i($,G,[G[2],G[2]*G[0],1]);ie===I.FLOAT&&V===I.UNSIGNED_BYTE?f(ae,j):a.assign(ae,j),J?I.texImage2D(I.TEXTURE_2D,q,z,G[0],G[1],0,z,V,$.subarray(0,K)):I.texSubImage2D(I.TEXTURE_2D,q,D,F,G[0],G[1],z,V,$.subarray(0,K)),V===I.FLOAT?r.freeFloat32($):r.freeUint8($)}})(C,p,L,M,this.format,this.type,this._mipLevels,A)}}},1433:function(c){c.exports=function(s,n,i){n?n.bind():s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,null);var a=0|s.getParameter(s.MAX_VERTEX_ATTRIBS);if(i){if(i.length>a)throw new Error("gl-vao: Too many vertex attributes");for(var r=0;r<i.length;++r){var o=i[r];if(o.buffer){var l=o.buffer,u=o.size||4,h=o.type||s.FLOAT,f=!!o.normalized,T=o.stride||0,d=o.offset||0;l.bind(),s.enableVertexAttribArray(r),s.vertexAttribPointer(r,u,h,f,T,d)}else{if(typeof o=="number")s.vertexAttrib1f(r,o);else if(o.length===1)s.vertexAttrib1f(r,o[0]);else if(o.length===2)s.vertexAttrib2f(r,o[0],o[1]);else if(o.length===3)s.vertexAttrib3f(r,o[0],o[1],o[2]);else{if(o.length!==4)throw new Error("gl-vao: Invalid vertex attribute");s.vertexAttrib4f(r,o[0],o[1],o[2],o[3])}s.disableVertexAttribArray(r)}}for(;r<a;++r)s.disableVertexAttribArray(r)}else for(s.bindBuffer(s.ARRAY_BUFFER,null),r=0;r<a;++r)s.disableVertexAttribArray(r)}},870:function(c,s,n){var i=n(1433);function a(r){this.gl=r,this._elements=null,this._attributes=null,this._elementsType=r.UNSIGNED_SHORT}a.prototype.bind=function(){i(this.gl,this._elements,this._attributes)},a.prototype.update=function(r,o,l){this._elements=o,this._attributes=r,this._elementsType=l||this.gl.UNSIGNED_SHORT},a.prototype.dispose=function(){},a.prototype.unbind=function(){},a.prototype.draw=function(r,o,l){l=l||0;var u=this.gl;this._elements?u.drawElements(r,o,this._elementsType,l):u.drawArrays(r,l,o)},c.exports=function(r){return new a(r)}},7518:function(c,s,n){var i=n(1433);function a(o,l,u,h,f,T){this.location=o,this.dimension=l,this.a=u,this.b=h,this.c=f,this.d=T}function r(o,l,u){this.gl=o,this._ext=l,this.handle=u,this._attribs=[],this._useElements=!1,this._elementsType=o.UNSIGNED_SHORT}a.prototype.bind=function(o){switch(this.dimension){case 1:o.vertexAttrib1f(this.location,this.a);break;case 2:o.vertexAttrib2f(this.location,this.a,this.b);break;case 3:o.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:o.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},r.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var o=0;o<this._attribs.length;++o)this._attribs[o].bind(this.gl)},r.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},r.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},r.prototype.update=function(o,l,u){if(this.bind(),i(this.gl,l,o),this.unbind(),this._attribs.length=0,o)for(var h=0;h<o.length;++h){var f=o[h];typeof f=="number"?this._attribs.push(new a(h,1,f)):Array.isArray(f)&&this._attribs.push(new a(h,f.length,f[0],f[1],f[2],f[3]))}this._useElements=!!l,this._elementsType=u||this.gl.UNSIGNED_SHORT},r.prototype.draw=function(o,l,u){u=u||0;var h=this.gl;this._useElements?h.drawElements(o,l,this._elementsType,u):h.drawArrays(o,u,l)},c.exports=function(o,l){return new r(o,l,l.createVertexArrayOES())}},8116:function(c,s,n){var i=n(7518),a=n(870);function r(o){this.bindVertexArrayOES=o.bindVertexArray.bind(o),this.createVertexArrayOES=o.createVertexArray.bind(o),this.deleteVertexArrayOES=o.deleteVertexArray.bind(o)}c.exports=function(o,l,u,h){var f,T=o.createVertexArray?new r(o):o.getExtension("OES_vertex_array_object");return(f=T?i(o,T):a(o)).update(l,u,h),f}},5632:function(c){c.exports=function(s,n,i){return s[0]=n[0]+i[0],s[1]=n[1]+i[1],s[2]=n[2]+i[2],s}},8192:function(c,s,n){c.exports=function(o,l){var u=i(o[0],o[1],o[2]),h=i(l[0],l[1],l[2]);a(u,u),a(h,h);var f=r(u,h);return f>1?0:Math.acos(f)};var i=n(2825),a=n(3536),r=n(244)},9226:function(c){c.exports=function(s,n){return s[0]=Math.ceil(n[0]),s[1]=Math.ceil(n[1]),s[2]=Math.ceil(n[2]),s}},3126:function(c){c.exports=function(s){var n=new Float32Array(3);return n[0]=s[0],n[1]=s[1],n[2]=s[2],n}},3990:function(c){c.exports=function(s,n){return s[0]=n[0],s[1]=n[1],s[2]=n[2],s}},1091:function(c){c.exports=function(){var s=new Float32Array(3);return s[0]=0,s[1]=0,s[2]=0,s}},5911:function(c){c.exports=function(s,n,i){var a=n[0],r=n[1],o=n[2],l=i[0],u=i[1],h=i[2];return s[0]=r*h-o*u,s[1]=o*l-a*h,s[2]=a*u-r*l,s}},5455:function(c,s,n){c.exports=n(7056)},7056:function(c){c.exports=function(s,n){var i=n[0]-s[0],a=n[1]-s[1],r=n[2]-s[2];return Math.sqrt(i*i+a*a+r*r)}},4008:function(c,s,n){c.exports=n(6690)},6690:function(c){c.exports=function(s,n,i){return s[0]=n[0]/i[0],s[1]=n[1]/i[1],s[2]=n[2]/i[2],s}},244:function(c){c.exports=function(s,n){return s[0]*n[0]+s[1]*n[1]+s[2]*n[2]}},2613:function(c){c.exports=1e-6},9922:function(c,s,n){c.exports=function(a,r){var o=a[0],l=a[1],u=a[2],h=r[0],f=r[1],T=r[2];return Math.abs(o-h)<=i*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(l-f)<=i*Math.max(1,Math.abs(l),Math.abs(f))&&Math.abs(u-T)<=i*Math.max(1,Math.abs(u),Math.abs(T))};var i=n(2613)},9265:function(c){c.exports=function(s,n){return s[0]===n[0]&&s[1]===n[1]&&s[2]===n[2]}},2681:function(c){c.exports=function(s,n){return s[0]=Math.floor(n[0]),s[1]=Math.floor(n[1]),s[2]=Math.floor(n[2]),s}},5137:function(c,s,n){c.exports=function(a,r,o,l,u,h){var f,T;for(r||(r=3),o||(o=0),T=l?Math.min(l*r+o,a.length):a.length,f=o;f<T;f+=r)i[0]=a[f],i[1]=a[f+1],i[2]=a[f+2],u(i,i,h),a[f]=i[0],a[f+1]=i[1],a[f+2]=i[2];return a};var i=n(1091)()},2825:function(c){c.exports=function(s,n,i){var a=new Float32Array(3);return a[0]=s,a[1]=n,a[2]=i,a}},2931:function(c,s,n){c.exports={EPSILON:n(2613),create:n(1091),clone:n(3126),angle:n(8192),fromValues:n(2825),copy:n(3990),set:n(1463),equals:n(9922),exactEquals:n(9265),add:n(5632),subtract:n(6843),sub:n(2229),multiply:n(5847),mul:n(4505),divide:n(6690),div:n(4008),min:n(8107),max:n(7417),floor:n(2681),ceil:n(9226),round:n(2447),scale:n(6621),scaleAndAdd:n(8489),distance:n(7056),dist:n(5455),squaredDistance:n(2953),sqrDist:n(6141),length:n(1387),len:n(868),squaredLength:n(3066),sqrLen:n(5486),negate:n(5093),inverse:n(811),normalize:n(3536),dot:n(244),cross:n(5911),lerp:n(6658),random:n(7636),transformMat4:n(5673),transformMat3:n(492),transformQuat:n(264),rotateX:n(6894),rotateY:n(109),rotateZ:n(8692),forEach:n(5137)}},811:function(c){c.exports=function(s,n){return s[0]=1/n[0],s[1]=1/n[1],s[2]=1/n[2],s}},868:function(c,s,n){c.exports=n(1387)},1387:function(c){c.exports=function(s){var n=s[0],i=s[1],a=s[2];return Math.sqrt(n*n+i*i+a*a)}},6658:function(c){c.exports=function(s,n,i,a){var r=n[0],o=n[1],l=n[2];return s[0]=r+a*(i[0]-r),s[1]=o+a*(i[1]-o),s[2]=l+a*(i[2]-l),s}},7417:function(c){c.exports=function(s,n,i){return s[0]=Math.max(n[0],i[0]),s[1]=Math.max(n[1],i[1]),s[2]=Math.max(n[2],i[2]),s}},8107:function(c){c.exports=function(s,n,i){return s[0]=Math.min(n[0],i[0]),s[1]=Math.min(n[1],i[1]),s[2]=Math.min(n[2],i[2]),s}},4505:function(c,s,n){c.exports=n(5847)},5847:function(c){c.exports=function(s,n,i){return s[0]=n[0]*i[0],s[1]=n[1]*i[1],s[2]=n[2]*i[2],s}},5093:function(c){c.exports=function(s,n){return s[0]=-n[0],s[1]=-n[1],s[2]=-n[2],s}},3536:function(c){c.exports=function(s,n){var i=n[0],a=n[1],r=n[2],o=i*i+a*a+r*r;return o>0&&(o=1/Math.sqrt(o),s[0]=n[0]*o,s[1]=n[1]*o,s[2]=n[2]*o),s}},7636:function(c){c.exports=function(s,n){n=n||1;var i=2*Math.random()*Math.PI,a=2*Math.random()-1,r=Math.sqrt(1-a*a)*n;return s[0]=Math.cos(i)*r,s[1]=Math.sin(i)*r,s[2]=a*n,s}},6894:function(c){c.exports=function(s,n,i,a){var r=i[1],o=i[2],l=n[1]-r,u=n[2]-o,h=Math.sin(a),f=Math.cos(a);return s[0]=n[0],s[1]=r+l*f-u*h,s[2]=o+l*h+u*f,s}},109:function(c){c.exports=function(s,n,i,a){var r=i[0],o=i[2],l=n[0]-r,u=n[2]-o,h=Math.sin(a),f=Math.cos(a);return s[0]=r+u*h+l*f,s[1]=n[1],s[2]=o+u*f-l*h,s}},8692:function(c){c.exports=function(s,n,i,a){var r=i[0],o=i[1],l=n[0]-r,u=n[1]-o,h=Math.sin(a),f=Math.cos(a);return s[0]=r+l*f-u*h,s[1]=o+l*h+u*f,s[2]=n[2],s}},2447:function(c){c.exports=function(s,n){return s[0]=Math.round(n[0]),s[1]=Math.round(n[1]),s[2]=Math.round(n[2]),s}},6621:function(c){c.exports=function(s,n,i){return s[0]=n[0]*i,s[1]=n[1]*i,s[2]=n[2]*i,s}},8489:function(c){c.exports=function(s,n,i,a){return s[0]=n[0]+i[0]*a,s[1]=n[1]+i[1]*a,s[2]=n[2]+i[2]*a,s}},1463:function(c){c.exports=function(s,n,i,a){return s[0]=n,s[1]=i,s[2]=a,s}},6141:function(c,s,n){c.exports=n(2953)},5486:function(c,s,n){c.exports=n(3066)},2953:function(c){c.exports=function(s,n){var i=n[0]-s[0],a=n[1]-s[1],r=n[2]-s[2];return i*i+a*a+r*r}},3066:function(c){c.exports=function(s){var n=s[0],i=s[1],a=s[2];return n*n+i*i+a*a}},2229:function(c,s,n){c.exports=n(6843)},6843:function(c){c.exports=function(s,n,i){return s[0]=n[0]-i[0],s[1]=n[1]-i[1],s[2]=n[2]-i[2],s}},492:function(c){c.exports=function(s,n,i){var a=n[0],r=n[1],o=n[2];return s[0]=a*i[0]+r*i[3]+o*i[6],s[1]=a*i[1]+r*i[4]+o*i[7],s[2]=a*i[2]+r*i[5]+o*i[8],s}},5673:function(c){c.exports=function(s,n,i){var a=n[0],r=n[1],o=n[2],l=i[3]*a+i[7]*r+i[11]*o+i[15];return l=l||1,s[0]=(i[0]*a+i[4]*r+i[8]*o+i[12])/l,s[1]=(i[1]*a+i[5]*r+i[9]*o+i[13])/l,s[2]=(i[2]*a+i[6]*r+i[10]*o+i[14])/l,s}},264:function(c){c.exports=function(s,n,i){var a=n[0],r=n[1],o=n[2],l=i[0],u=i[1],h=i[2],f=i[3],T=f*a+u*o-h*r,d=f*r+h*a-l*o,y=f*o+l*r-u*a,m=-l*a-u*r-h*o;return s[0]=T*f+m*-l+d*-h-y*-u,s[1]=d*f+m*-u+y*-l-T*-h,s[2]=y*f+m*-h+T*-u-d*-l,s}},4361:function(c){c.exports=function(s,n,i){return s[0]=n[0]+i[0],s[1]=n[1]+i[1],s[2]=n[2]+i[2],s[3]=n[3]+i[3],s}},2335:function(c){c.exports=function(s){var n=new Float32Array(4);return n[0]=s[0],n[1]=s[1],n[2]=s[2],n[3]=s[3],n}},2933:function(c){c.exports=function(s,n){return s[0]=n[0],s[1]=n[1],s[2]=n[2],s[3]=n[3],s}},7536:function(c){c.exports=function(){var s=new Float32Array(4);return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s}},4691:function(c){c.exports=function(s,n){var i=n[0]-s[0],a=n[1]-s[1],r=n[2]-s[2],o=n[3]-s[3];return Math.sqrt(i*i+a*a+r*r+o*o)}},1373:function(c){c.exports=function(s,n,i){return s[0]=n[0]/i[0],s[1]=n[1]/i[1],s[2]=n[2]/i[2],s[3]=n[3]/i[3],s}},3750:function(c){c.exports=function(s,n){return s[0]*n[0]+s[1]*n[1]+s[2]*n[2]+s[3]*n[3]}},3390:function(c){c.exports=function(s,n,i,a){var r=new Float32Array(4);return r[0]=s,r[1]=n,r[2]=i,r[3]=a,r}},9970:function(c,s,n){c.exports={create:n(7536),clone:n(2335),fromValues:n(3390),copy:n(2933),set:n(4578),add:n(4361),subtract:n(6860),multiply:n(3576),divide:n(1373),min:n(2334),max:n(160),scale:n(9288),scaleAndAdd:n(4844),distance:n(4691),squaredDistance:n(7960),length:n(6808),squaredLength:n(483),negate:n(1498),inverse:n(4494),normalize:n(5177),dot:n(3750),lerp:n(2573),random:n(9131),transformMat4:n(5352),transformQuat:n(4041)}},4494:function(c){c.exports=function(s,n){return s[0]=1/n[0],s[1]=1/n[1],s[2]=1/n[2],s[3]=1/n[3],s}},6808:function(c){c.exports=function(s){var n=s[0],i=s[1],a=s[2],r=s[3];return Math.sqrt(n*n+i*i+a*a+r*r)}},2573:function(c){c.exports=function(s,n,i,a){var r=n[0],o=n[1],l=n[2],u=n[3];return s[0]=r+a*(i[0]-r),s[1]=o+a*(i[1]-o),s[2]=l+a*(i[2]-l),s[3]=u+a*(i[3]-u),s}},160:function(c){c.exports=function(s,n,i){return s[0]=Math.max(n[0],i[0]),s[1]=Math.max(n[1],i[1]),s[2]=Math.max(n[2],i[2]),s[3]=Math.max(n[3],i[3]),s}},2334:function(c){c.exports=function(s,n,i){return s[0]=Math.min(n[0],i[0]),s[1]=Math.min(n[1],i[1]),s[2]=Math.min(n[2],i[2]),s[3]=Math.min(n[3],i[3]),s}},3576:function(c){c.exports=function(s,n,i){return s[0]=n[0]*i[0],s[1]=n[1]*i[1],s[2]=n[2]*i[2],s[3]=n[3]*i[3],s}},1498:function(c){c.exports=function(s,n){return s[0]=-n[0],s[1]=-n[1],s[2]=-n[2],s[3]=-n[3],s}},5177:function(c){c.exports=function(s,n){var i=n[0],a=n[1],r=n[2],o=n[3],l=i*i+a*a+r*r+o*o;return l>0&&(l=1/Math.sqrt(l),s[0]=i*l,s[1]=a*l,s[2]=r*l,s[3]=o*l),s}},9131:function(c,s,n){var i=n(5177),a=n(9288);c.exports=function(r,o){return o=o||1,r[0]=Math.random(),r[1]=Math.random(),r[2]=Math.random(),r[3]=Math.random(),i(r,r),a(r,r,o),r}},9288:function(c){c.exports=function(s,n,i){return s[0]=n[0]*i,s[1]=n[1]*i,s[2]=n[2]*i,s[3]=n[3]*i,s}},4844:function(c){c.exports=function(s,n,i,a){return s[0]=n[0]+i[0]*a,s[1]=n[1]+i[1]*a,s[2]=n[2]+i[2]*a,s[3]=n[3]+i[3]*a,s}},4578:function(c){c.exports=function(s,n,i,a,r){return s[0]=n,s[1]=i,s[2]=a,s[3]=r,s}},7960:function(c){c.exports=function(s,n){var i=n[0]-s[0],a=n[1]-s[1],r=n[2]-s[2],o=n[3]-s[3];return i*i+a*a+r*r+o*o}},483:function(c){c.exports=function(s){var n=s[0],i=s[1],a=s[2],r=s[3];return n*n+i*i+a*a+r*r}},6860:function(c){c.exports=function(s,n,i){return s[0]=n[0]-i[0],s[1]=n[1]-i[1],s[2]=n[2]-i[2],s[3]=n[3]-i[3],s}},5352:function(c){c.exports=function(s,n,i){var a=n[0],r=n[1],o=n[2],l=n[3];return s[0]=i[0]*a+i[4]*r+i[8]*o+i[12]*l,s[1]=i[1]*a+i[5]*r+i[9]*o+i[13]*l,s[2]=i[2]*a+i[6]*r+i[10]*o+i[14]*l,s[3]=i[3]*a+i[7]*r+i[11]*o+i[15]*l,s}},4041:function(c){c.exports=function(s,n,i){var a=n[0],r=n[1],o=n[2],l=i[0],u=i[1],h=i[2],f=i[3],T=f*a+u*o-h*r,d=f*r+h*a-l*o,y=f*o+l*r-u*a,m=-l*a-u*r-h*o;return s[0]=T*f+m*-l+d*-h-y*-u,s[1]=d*f+m*-u+y*-l-T*-h,s[2]=y*f+m*-h+T*-u-d*-l,s[3]=n[3],s}},1848:function(c,s,n){var i=n(4905),a=n(6468);c.exports=function(r){for(var o=Array.isArray(r)?r:i(r),l=0;l<o.length;l++){var u=o[l];if(u.type==="preprocessor"){var h=u.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(h&&h[2]){var f=h[1],T=h[2];return(f?a(T):T).trim()}}}}},5874:function(c,s,n){c.exports=function(I){var D,F,q,z=0,V=0,X=u,j=[],H=[],G=1,ie=0,re=0,te=!1,K=!1,J="",$=r,ae=i;(I=I||{}).version==="300 es"&&($=l,ae=o);var ue={},ce={};for(z=0;z<$.length;z++)ue[$[z]]=!0;for(z=0;z<ae.length;z++)ce[ae[z]]=!0;return function(ye){return H=[],ye!==null?function(Oe){var Ae;for(z=0,Oe.toString&&(Oe=Oe.toString()),J+=Oe.replace(/\r\n/g,`
`),q=J.length;D=J[z],z<q;){switch(Ae=z,X){case f:z=we();break;case T:case d:z=be();break;case y:z=Te();break;case m:z=_e();break;case C:z=Ie();break;case w:z=fe();break;case h:z=le();break;case L:z=me();break;case u:z=pe()}Ae!==z&&(J[Ae]===`
`?(ie=0,++G):++ie)}return V+=z,J=J.slice(z),H}(ye):(j.length&&de(j.join("")),X=M,de("(eof)"),H)};function de(ye){ye.length&&H.push({type:R[X],data:ye,position:re,line:G,column:ie})}function pe(){return j=j.length?[]:j,F==="/"&&D==="*"?(re=V+z-1,X=f,F=D,z+1):F==="/"&&D==="/"?(re=V+z-1,X=T,F=D,z+1):D==="#"?(X=d,re=V+z,z):/\s/.test(D)?(X=L,re=V+z,z):(te=/\d/.test(D),K=/[^\w_]/.test(D),re=V+z,X=te?m:K?y:h,z)}function me(){return/[^\s]/g.test(D)?(de(j.join("")),X=u,z):(j.push(D),F=D,z+1)}function be(){return D!=="\r"&&D!==`
`||F==="\\"?(j.push(D),F=D,z+1):(de(j.join("")),X=u,z)}function we(){return D==="/"&&F==="*"?(j.push(D),de(j.join("")),X=u,z+1):(j.push(D),F=D,z+1)}function Te(){if(F==="."&&/\d/.test(D))return X=w,z;if(F==="/"&&D==="*")return X=f,z;if(F==="/"&&D==="/")return X=T,z;if(D==="."&&j.length){for(;Le(j););return X=w,z}if(D===";"||D===")"||D==="("){if(j.length)for(;Le(j););return de(D),X=u,z+1}var ye=j.length===2&&D!=="=";if(/[\w_\d\s]/.test(D)||ye){for(;Le(j););return X=u,z}return j.push(D),F=D,z+1}function Le(ye){for(var Oe,Ae,Se=0;;){if(Oe=a.indexOf(ye.slice(0,ye.length+Se).join("")),Ae=a[Oe],Oe===-1){if(Se--+ye.length>0)continue;Ae=ye.slice(0,1).join("")}return de(Ae),re+=Ae.length,(j=j.slice(Ae.length)).length}}function Ie(){return/[^a-fA-F0-9]/.test(D)?(de(j.join("")),X=u,z):(j.push(D),F=D,z+1)}function _e(){return D==="."||/[eE]/.test(D)?(j.push(D),X=w,F=D,z+1):D==="x"&&j.length===1&&j[0]==="0"?(X=C,j.push(D),F=D,z+1):/[^\d]/.test(D)?(de(j.join("")),X=u,z):(j.push(D),F=D,z+1)}function fe(){return D==="f"&&(j.push(D),F=D,z+=1),/[eE]/.test(D)?(j.push(D),F=D,z+1):(D!=="-"&&D!=="+"||!/[eE]/.test(F))&&/[^\d]/.test(D)?(de(j.join("")),X=u,z):(j.push(D),F=D,z+1)}function le(){if(/[^\d\w_]/.test(D)){var ye=j.join("");return X=ce[ye]?p:ue[ye]?A:_,de(j.join("")),X=u,z}return j.push(D),F=D,z+1}};var i=n(620),a=n(7827),r=n(6852),o=n(7932),l=n(3508),u=999,h=9999,f=0,T=1,d=2,y=3,m=4,w=5,_=6,A=7,p=8,L=9,M=10,C=11,R=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},3508:function(c,s,n){var i=n(6852);i=i.slice().filter(function(a){return!/^(gl\_|texture)/.test(a)}),c.exports=i.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},6852:function(c){c.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},7932:function(c,s,n){var i=n(620);c.exports=i.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},620:function(c){c.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},7827:function(c){c.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},4905:function(c,s,n){var i=n(5874);c.exports=function(a,r){var o=i(r),l=[];return(l=l.concat(o(a))).concat(o(null))}},3236:function(c){c.exports=function(s){typeof s=="string"&&(s=[s]);for(var n=[].slice.call(arguments,1),i=[],a=0;a<s.length-1;a++)i.push(s[a],n[a]||"");return i.push(s[a]),i.join("")}},7520:function(c,s,n){var i=n(9507);c.exports=i&&function(){var a=!1;try{var r=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,r),window.removeEventListener("test",null,r)}catch{a=!1}return a}()},3778:function(c,s){s.read=function(n,i,a,r,o){var l,u,h=8*o-r-1,f=(1<<h)-1,T=f>>1,d=-7,y=a?o-1:0,m=a?-1:1,w=n[i+y];for(y+=m,l=w&(1<<-d)-1,w>>=-d,d+=h;d>0;l=256*l+n[i+y],y+=m,d-=8);for(u=l&(1<<-d)-1,l>>=-d,d+=r;d>0;u=256*u+n[i+y],y+=m,d-=8);if(l===0)l=1-T;else{if(l===f)return u?NaN:1/0*(w?-1:1);u+=Math.pow(2,r),l-=T}return(w?-1:1)*u*Math.pow(2,l-r)},s.write=function(n,i,a,r,o,l){var u,h,f,T=8*l-o-1,d=(1<<T)-1,y=d>>1,m=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=r?0:l-1,_=r?1:-1,A=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(h=isNaN(i)?1:0,u=d):(u=Math.floor(Math.log(i)/Math.LN2),i*(f=Math.pow(2,-u))<1&&(u--,f*=2),(i+=u+y>=1?m/f:m*Math.pow(2,1-y))*f>=2&&(u++,f/=2),u+y>=d?(h=0,u=d):u+y>=1?(h=(i*f-1)*Math.pow(2,o),u+=y):(h=i*Math.pow(2,y-1)*Math.pow(2,o),u=0));o>=8;n[a+w]=255&h,w+=_,h/=256,o-=8);for(u=u<<o|h,T+=o;T>0;n[a+w]=255&u,w+=_,u/=256,T-=8);n[a+w-_]|=128*A}},8954:function(c,s,n){c.exports=function(T,d){var y=T.length;if(y===0)throw new Error("Must have at least d+1 points");var m=T[0].length;if(y<=m)throw new Error("Must input at least d+1 points");var w=T.slice(0,m+1),_=i.apply(void 0,w);if(_===0)throw new Error("Input not in general position");for(var A=new Array(m+1),p=0;p<=m;++p)A[p]=p;_<0&&(A[0]=1,A[1]=0);var L=new r(A,new Array(m+1),!1),M=L.adjacent,C=new Array(m+2);for(p=0;p<=m;++p){for(var R=A.slice(),I=0;I<=m;++I)I===p&&(R[I]=-1);var D=R[0];R[0]=R[1],R[1]=D;var F=new r(R,new Array(m+1),!0);M[p]=F,C[p]=F}for(C[m+1]=L,p=0;p<=m;++p){R=M[p].vertices;var q=M[p].adjacent;for(I=0;I<=m;++I){var z=R[I];if(z<0)q[I]=L;else for(var V=0;V<=m;++V)M[V].vertices.indexOf(z)<0&&(q[I]=M[V])}}var X=new h(m,w,C),j=!!d;for(p=m+1;p<y;++p)X.insert(T[p],j);return X.boundary()};var i=n(3250),a=n(6803).Fw;function r(T,d,y){this.vertices=T,this.adjacent=d,this.boundary=y,this.lastVisited=-1}function o(T,d,y){this.vertices=T,this.cell=d,this.index=y}function l(T,d){return a(T.vertices,d.vertices)}r.prototype.flip=function(){var T=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=T;var d=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=d};var u=[];function h(T,d,y){this.dimension=T,this.vertices=d,this.simplices=y,this.interior=y.filter(function(A){return!A.boundary}),this.tuple=new Array(T+1);for(var m=0;m<=T;++m)this.tuple[m]=this.vertices[m];var w,_=u[T];_||(_=u[T]=((w=i[T+1])||(w=i),function(A){return function(){var p=this.tuple;return A.apply(this,p)}}(w))),this.orient=_}var f=h.prototype;f.handleBoundaryDegeneracy=function(T,d){var y=this.dimension,m=this.vertices.length-1,w=this.tuple,_=this.vertices,A=[T];for(T.lastVisited=-m;A.length>0;)for(var p=(T=A.pop()).adjacent,L=0;L<=y;++L){var M=p[L];if(M.boundary&&!(M.lastVisited<=-m)){for(var C=M.vertices,R=0;R<=y;++R){var I=C[R];w[R]=I<0?d:_[I]}var D=this.orient();if(D>0)return M;M.lastVisited=-m,D===0&&A.push(M)}}return null},f.walk=function(T,d){var y=this.vertices.length-1,m=this.dimension,w=this.vertices,_=this.tuple,A=d?this.interior.length*Math.random()|0:this.interior.length-1,p=this.interior[A];e:for(;!p.boundary;){for(var L=p.vertices,M=p.adjacent,C=0;C<=m;++C)_[C]=w[L[C]];for(p.lastVisited=y,C=0;C<=m;++C){var R=M[C];if(!(R.lastVisited>=y)){var I=_[C];_[C]=T;var D=this.orient();if(_[C]=I,D<0){p=R;continue e}R.boundary?R.lastVisited=-y:R.lastVisited=y}}return}return p},f.addPeaks=function(T,d){var y=this.vertices.length-1,m=this.dimension,w=this.vertices,_=this.tuple,A=this.interior,p=this.simplices,L=[d];d.lastVisited=y,d.vertices[d.vertices.indexOf(-1)]=y,d.boundary=!1,A.push(d);for(var M=[];L.length>0;){var C=(d=L.pop()).vertices,R=d.adjacent,I=C.indexOf(y);if(!(I<0)){for(var D=0;D<=m;++D)if(D!==I){var F=R[D];if(F.boundary&&!(F.lastVisited>=y)){var q=F.vertices;if(F.lastVisited!==-y){for(var z=0,V=0;V<=m;++V)q[V]<0?(z=V,_[V]=T):_[V]=w[q[V]];if(this.orient()>0){q[z]=y,F.boundary=!1,A.push(F),L.push(F),F.lastVisited=y;continue}F.lastVisited=-y}var X=F.adjacent,j=C.slice(),H=R.slice(),G=new r(j,H,!0);p.push(G);var ie=X.indexOf(d);if(!(ie<0))for(X[ie]=G,H[I]=F,j[D]=-1,H[D]=d,R[D]=G,G.flip(),V=0;V<=m;++V){var re=j[V];if(!(re<0||re===y)){for(var te=new Array(m-1),K=0,J=0;J<=m;++J){var $=j[J];$<0||J===V||(te[K++]=$)}M.push(new o(te,G,V))}}}}}}for(M.sort(l),D=0;D+1<M.length;D+=2){var ae=M[D],ue=M[D+1],ce=ae.index,de=ue.index;ce<0||de<0||(ae.cell.adjacent[ae.index]=ue.cell,ue.cell.adjacent[ue.index]=ae.cell)}},f.insert=function(T,d){var y=this.vertices;y.push(T);var m=this.walk(T,d);if(m){for(var w=this.dimension,_=this.tuple,A=0;A<=w;++A){var p=m.vertices[A];_[A]=p<0?T:y[p]}var L=this.orient(_);L<0||(L!==0||(m=this.handleBoundaryDegeneracy(m,T)))&&this.addPeaks(T,m)}},f.boundary=function(){for(var T=this.dimension,d=[],y=this.simplices,m=y.length,w=0;w<m;++w){var _=y[w];if(_.boundary){for(var A=new Array(T),p=_.vertices,L=0,M=0,C=0;C<=T;++C)p[C]>=0?A[L++]=p[C]:M=1&C;if(M===(1&T)){var R=A[0];A[0]=A[1],A[1]=R}d.push(A)}}return d}},3352:function(c,s,n){var i=n(2478);function a(L,M,C,R,I){this.mid=L,this.left=M,this.right=C,this.leftPoints=R,this.rightPoints=I,this.count=(M?M.count:0)+(C?C.count:0)+R.length}c.exports=function(L){return L&&L.length!==0?new A(_(L)):new A(null)};var r=a.prototype;function o(L,M){L.mid=M.mid,L.left=M.left,L.right=M.right,L.leftPoints=M.leftPoints,L.rightPoints=M.rightPoints,L.count=M.count}function l(L,M){var C=_(M);L.mid=C.mid,L.left=C.left,L.right=C.right,L.leftPoints=C.leftPoints,L.rightPoints=C.rightPoints,L.count=C.count}function u(L,M){var C=L.intervals([]);C.push(M),l(L,C)}function h(L,M){var C=L.intervals([]),R=C.indexOf(M);return R<0?0:(C.splice(R,1),l(L,C),1)}function f(L,M,C){for(var R=0;R<L.length&&L[R][0]<=M;++R){var I=C(L[R]);if(I)return I}}function T(L,M,C){for(var R=L.length-1;R>=0&&L[R][1]>=M;--R){var I=C(L[R]);if(I)return I}}function d(L,M){for(var C=0;C<L.length;++C){var R=M(L[C]);if(R)return R}}function y(L,M){return L-M}function m(L,M){return L[0]-M[0]||L[1]-M[1]}function w(L,M){return L[1]-M[1]||L[0]-M[0]}function _(L){if(L.length===0)return null;for(var M=[],C=0;C<L.length;++C)M.push(L[C][0],L[C][1]);M.sort(y);var R=M[M.length>>1],I=[],D=[],F=[];for(C=0;C<L.length;++C){var q=L[C];q[1]<R?I.push(q):R<q[0]?D.push(q):F.push(q)}var z=F,V=F.slice();return z.sort(m),V.sort(w),new a(R,_(I),_(D),z,V)}function A(L){this.root=L}r.intervals=function(L){return L.push.apply(L,this.leftPoints),this.left&&this.left.intervals(L),this.right&&this.right.intervals(L),L},r.insert=function(L){var M=this.count-this.leftPoints.length;if(this.count+=1,L[1]<this.mid)this.left?4*(this.left.count+1)>3*(M+1)?u(this,L):this.left.insert(L):this.left=_([L]);else if(L[0]>this.mid)this.right?4*(this.right.count+1)>3*(M+1)?u(this,L):this.right.insert(L):this.right=_([L]);else{var C=i.ge(this.leftPoints,L,m),R=i.ge(this.rightPoints,L,w);this.leftPoints.splice(C,0,L),this.rightPoints.splice(R,0,L)}},r.remove=function(L){var M=this.count-this.leftPoints;if(L[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(M-1)?h(this,L):(D=this.left.remove(L))===2?(this.left=null,this.count-=1,1):(D===1&&(this.count-=1),D):0;if(L[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(M-1)?h(this,L):(D=this.right.remove(L))===2?(this.right=null,this.count-=1,1):(D===1&&(this.count-=1),D):0;if(this.count===1)return this.leftPoints[0]===L?2:0;if(this.leftPoints.length===1&&this.leftPoints[0]===L){if(this.left&&this.right){for(var C=this,R=this.left;R.right;)C=R,R=R.right;if(C===this)R.right=this.right;else{var I=this.left,D=this.right;C.count-=R.count,C.right=R.left,R.left=I,R.right=D}o(this,R),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?o(this,this.left):o(this,this.right);return 1}for(I=i.ge(this.leftPoints,L,m);I<this.leftPoints.length&&this.leftPoints[I][0]===L[0];++I)if(this.leftPoints[I]===L){for(this.count-=1,this.leftPoints.splice(I,1),D=i.ge(this.rightPoints,L,w);D<this.rightPoints.length&&this.rightPoints[D][1]===L[1];++D)if(this.rightPoints[D]===L)return this.rightPoints.splice(D,1),1}return 0},r.queryPoint=function(L,M){return L<this.mid?this.left&&(C=this.left.queryPoint(L,M))?C:f(this.leftPoints,L,M):L>this.mid?this.right&&(C=this.right.queryPoint(L,M))?C:T(this.rightPoints,L,M):d(this.leftPoints,M);var C},r.queryInterval=function(L,M,C){var R;return L<this.mid&&this.left&&(R=this.left.queryInterval(L,M,C))||M>this.mid&&this.right&&(R=this.right.queryInterval(L,M,C))?R:M<this.mid?f(this.leftPoints,M,C):L>this.mid?T(this.rightPoints,L,C):d(this.leftPoints,C)};var p=A.prototype;p.insert=function(L){this.root?this.root.insert(L):this.root=new a(L[0],null,null,[L],[L])},p.remove=function(L){if(this.root){var M=this.root.remove(L);return M===2&&(this.root=null),M!==0}return!1},p.queryPoint=function(L,M){if(this.root)return this.root.queryPoint(L,M)},p.queryInterval=function(L,M,C){if(L<=M&&this.root)return this.root.queryInterval(L,M,C)},Object.defineProperty(p,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(p,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},7762:function(c){c.exports=function(s){for(var n=new Array(s),i=0;i<s;++i)n[i]=i;return n}},9507:function(c){c.exports=!0},7163:function(c){function s(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}c.exports=function(n){return n!=null&&(s(n)||function(i){return typeof i.readFloatLE=="function"&&typeof i.slice=="function"&&s(i.slice(0,0))}(n)||!!n._isBuffer)}},5219:function(c){c.exports=function(s){for(var n,i=s.length,a=0;a<i;a++)if(((n=s.charCodeAt(a))<9||n>13)&&n!==32&&n!==133&&n!==160&&n!==5760&&n!==6158&&(n<8192||n>8205)&&n!==8232&&n!==8233&&n!==8239&&n!==8287&&n!==8288&&n!==12288&&n!==65279)return!1;return!0}},395:function(c){c.exports=function(s,n,i){return s*(1-i)+n*i}},2652:function(c,s,n){var i=n(4335),a=n(6864),r=n(1903),o=n(9921),l=n(7608),u=n(5665),h={length:n(1387),normalize:n(3536),dot:n(244),cross:n(5911)},f=a(),T=a(),d=[0,0,0,0],y=[[0,0,0],[0,0,0],[0,0,0]],m=[0,0,0];function w(_,A,p,L,M){_[0]=A[0]*L+p[0]*M,_[1]=A[1]*L+p[1]*M,_[2]=A[2]*L+p[2]*M}c.exports=function(_,A,p,L,M,C){if(A||(A=[0,0,0]),p||(p=[0,0,0]),L||(L=[0,0,0]),M||(M=[0,0,0,1]),C||(C=[0,0,0,1]),!i(f,_)||(r(T,f),T[3]=0,T[7]=0,T[11]=0,T[15]=1,Math.abs(o(T)<1e-8)))return!1;var R,I,D,F,q,z,V,X=f[3],j=f[7],H=f[11],G=f[12],ie=f[13],re=f[14],te=f[15];if(X!==0||j!==0||H!==0){if(d[0]=X,d[1]=j,d[2]=H,d[3]=te,!l(T,T))return!1;u(T,T),R=M,D=T,F=(I=d)[0],q=I[1],z=I[2],V=I[3],R[0]=D[0]*F+D[4]*q+D[8]*z+D[12]*V,R[1]=D[1]*F+D[5]*q+D[9]*z+D[13]*V,R[2]=D[2]*F+D[6]*q+D[10]*z+D[14]*V,R[3]=D[3]*F+D[7]*q+D[11]*z+D[15]*V}else M[0]=M[1]=M[2]=0,M[3]=1;if(A[0]=G,A[1]=ie,A[2]=re,function(J,$){J[0][0]=$[0],J[0][1]=$[1],J[0][2]=$[2],J[1][0]=$[4],J[1][1]=$[5],J[1][2]=$[6],J[2][0]=$[8],J[2][1]=$[9],J[2][2]=$[10]}(y,f),p[0]=h.length(y[0]),h.normalize(y[0],y[0]),L[0]=h.dot(y[0],y[1]),w(y[1],y[1],y[0],1,-L[0]),p[1]=h.length(y[1]),h.normalize(y[1],y[1]),L[0]/=p[1],L[1]=h.dot(y[0],y[2]),w(y[2],y[2],y[0],1,-L[1]),L[2]=h.dot(y[1],y[2]),w(y[2],y[2],y[1],1,-L[2]),p[2]=h.length(y[2]),h.normalize(y[2],y[2]),L[1]/=p[2],L[2]/=p[2],h.cross(m,y[1],y[2]),h.dot(y[0],m)<0)for(var K=0;K<3;K++)p[K]*=-1,y[K][0]*=-1,y[K][1]*=-1,y[K][2]*=-1;return C[0]=.5*Math.sqrt(Math.max(1+y[0][0]-y[1][1]-y[2][2],0)),C[1]=.5*Math.sqrt(Math.max(1-y[0][0]+y[1][1]-y[2][2],0)),C[2]=.5*Math.sqrt(Math.max(1-y[0][0]-y[1][1]+y[2][2],0)),C[3]=.5*Math.sqrt(Math.max(1+y[0][0]+y[1][1]+y[2][2],0)),y[2][1]>y[1][2]&&(C[0]=-C[0]),y[0][2]>y[2][0]&&(C[1]=-C[1]),y[1][0]>y[0][1]&&(C[2]=-C[2]),!0}},4335:function(c){c.exports=function(s,n){var i=n[15];if(i===0)return!1;for(var a=1/i,r=0;r<16;r++)s[r]=n[r]*a;return!0}},7442:function(c,s,n){var i=n(6658),a=n(7182),r=n(2652),o=n(9921),l=n(8648),u=T(),h=T(),f=T();function T(){return{translate:d(),scale:d(1),skew:d(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function d(y){return[y||0,y||0,y||0]}c.exports=function(y,m,w,_){if(o(m)===0||o(w)===0)return!1;var A=r(m,u.translate,u.scale,u.skew,u.perspective,u.quaternion),p=r(w,h.translate,h.scale,h.skew,h.perspective,h.quaternion);return!(!A||!p||(i(f.translate,u.translate,h.translate,_),i(f.skew,u.skew,h.skew,_),i(f.scale,u.scale,h.scale,_),i(f.perspective,u.perspective,h.perspective,_),l(f.quaternion,u.quaternion,h.quaternion,_),a(y,f.translate,f.scale,f.skew,f.perspective,f.quaternion),0))}},7182:function(c,s,n){var i={identity:n(7894),translate:n(7656),multiply:n(6760),create:n(6864),scale:n(2504),fromRotationTranslation:n(6743)},a=(i.create(),i.create());c.exports=function(r,o,l,u,h,f){return i.identity(r),i.fromRotationTranslation(r,f,o),r[3]=h[0],r[7]=h[1],r[11]=h[2],r[15]=h[3],i.identity(a),u[2]!==0&&(a[9]=u[2],i.multiply(r,r,a)),u[1]!==0&&(a[9]=0,a[8]=u[1],i.multiply(r,r,a)),u[0]!==0&&(a[8]=0,a[4]=u[0],i.multiply(r,r,a)),i.scale(r,r,l),r}},4192:function(c,s,n){var i=n(2478),a=n(7442),r=n(7608),o=n(5567),l=n(2408),u=n(7089),h=n(6582),f=n(7656),T=(n(2504),n(3536)),d=[0,0,0];function y(_){this._components=_.slice(),this._time=[0],this.prevMatrix=_.slice(),this.nextMatrix=_.slice(),this.computedMatrix=_.slice(),this.computedInverse=_.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}c.exports=function(_){return new y((_=_||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var m=y.prototype;m.recalcMatrix=function(_){var A=this._time,p=i.le(A,_),L=this.computedMatrix;if(!(p<0)){var M=this._components;if(p===A.length-1)for(var C=16*p,R=0;R<16;++R)L[R]=M[C++];else{var I=A[p+1]-A[p],D=(C=16*p,this.prevMatrix),F=!0;for(R=0;R<16;++R)D[R]=M[C++];var q=this.nextMatrix;for(R=0;R<16;++R)q[R]=M[C++],F=F&&D[R]===q[R];if(I<1e-6||F)for(R=0;R<16;++R)L[R]=D[R];else a(L,D,q,(_-A[p])/I)}var z=this.computedUp;z[0]=L[1],z[1]=L[5],z[2]=L[9],T(z,z);var V=this.computedInverse;r(V,L);var X=this.computedEye,j=V[15];X[0]=V[12]/j,X[1]=V[13]/j,X[2]=V[14]/j;var H=this.computedCenter,G=Math.exp(this.computedRadius[0]);for(R=0;R<3;++R)H[R]=X[R]-L[2+4*R]*G}},m.idle=function(_){if(!(_<this.lastT())){for(var A=this._components,p=A.length-16,L=0;L<16;++L)A.push(A[p++]);this._time.push(_)}},m.flush=function(_){var A=i.gt(this._time,_)-2;A<0||(this._time.splice(0,A),this._components.splice(0,16*A))},m.lastT=function(){return this._time[this._time.length-1]},m.lookAt=function(_,A,p,L){this.recalcMatrix(_),A=A||this.computedEye,p=p||d,L=L||this.computedUp,this.setMatrix(_,h(this.computedMatrix,A,p,L));for(var M=0,C=0;C<3;++C)M+=Math.pow(p[C]-A[C],2);M=Math.log(Math.sqrt(M)),this.computedRadius[0]=M},m.rotate=function(_,A,p,L){this.recalcMatrix(_);var M=this.computedInverse;A&&l(M,M,A),p&&o(M,M,p),L&&u(M,M,L),this.setMatrix(_,r(this.computedMatrix,M))};var w=[0,0,0];m.pan=function(_,A,p,L){w[0]=-(A||0),w[1]=-(p||0),w[2]=-(L||0),this.recalcMatrix(_);var M=this.computedInverse;f(M,M,w),this.setMatrix(_,r(M,M))},m.translate=function(_,A,p,L){w[0]=A||0,w[1]=p||0,w[2]=L||0,this.recalcMatrix(_);var M=this.computedMatrix;f(M,M,w),this.setMatrix(_,M)},m.setMatrix=function(_,A){if(!(_<this.lastT())){this._time.push(_);for(var p=0;p<16;++p)this._components.push(A[p])}},m.setDistance=function(_,A){this.computedRadius[0]=A},m.setDistanceLimits=function(_,A){var p=this._limits;p[0]=_,p[1]=A},m.getDistanceLimits=function(_){var A=this._limits;return _?(_[0]=A[0],_[1]=A[1],_):A}},3090:function(c,s,n){c.exports=function(a){var r=a.length;if(r<3){for(var o=new Array(r),l=0;l<r;++l)o[l]=l;return r===2&&a[0][0]===a[1][0]&&a[0][1]===a[1][1]?[0]:o}var u=new Array(r);for(l=0;l<r;++l)u[l]=l;u.sort(function(A,p){return a[A][0]-a[p][0]||a[A][1]-a[p][1]});var h=[u[0],u[1]],f=[u[0],u[1]];for(l=2;l<r;++l){for(var T=u[l],d=a[T],y=h.length;y>1&&i(a[h[y-2]],a[h[y-1]],d)<=0;)y-=1,h.pop();for(h.push(T),y=f.length;y>1&&i(a[f[y-2]],a[f[y-1]],d)>=0;)y-=1,f.pop();f.push(T)}o=new Array(f.length+h.length-2);for(var m=0,w=(l=0,h.length);l<w;++l)o[m++]=h[l];for(var _=f.length-2;_>0;--_)o[m++]=f[_];return o};var i=n(3250)[3]},351:function(c,s,n){c.exports=function(a,r){r||(r=a,a=window);var o=0,l=0,u=0,h={shift:!1,alt:!1,control:!1,meta:!1},f=!1;function T(C){var R=!1;return"altKey"in C&&(R=R||C.altKey!==h.alt,h.alt=!!C.altKey),"shiftKey"in C&&(R=R||C.shiftKey!==h.shift,h.shift=!!C.shiftKey),"ctrlKey"in C&&(R=R||C.ctrlKey!==h.control,h.control=!!C.ctrlKey),"metaKey"in C&&(R=R||C.metaKey!==h.meta,h.meta=!!C.metaKey),R}function d(C,R){var I=i.x(R),D=i.y(R);"buttons"in R&&(C=0|R.buttons),(C!==o||I!==l||D!==u||T(R))&&(o=0|C,l=I||0,u=D||0,r&&r(o,l,u,h))}function y(C){d(0,C)}function m(){(o||l||u||h.shift||h.alt||h.meta||h.control)&&(l=u=0,o=0,h.shift=h.alt=h.control=h.meta=!1,r&&r(0,0,0,h))}function w(C){T(C)&&r&&r(o,l,u,h)}function _(C){i.buttons(C)===0?d(0,C):d(o,C)}function A(C){d(o|i.buttons(C),C)}function p(C){d(o&~i.buttons(C),C)}function L(){f||(f=!0,a.addEventListener("mousemove",_),a.addEventListener("mousedown",A),a.addEventListener("mouseup",p),a.addEventListener("mouseleave",y),a.addEventListener("mouseenter",y),a.addEventListener("mouseout",y),a.addEventListener("mouseover",y),a.addEventListener("blur",m),a.addEventListener("keyup",w),a.addEventListener("keydown",w),a.addEventListener("keypress",w),a!==window&&(window.addEventListener("blur",m),window.addEventListener("keyup",w),window.addEventListener("keydown",w),window.addEventListener("keypress",w)))}L();var M={element:a};return Object.defineProperties(M,{enabled:{get:function(){return f},set:function(C){C?L():f&&(f=!1,a.removeEventListener("mousemove",_),a.removeEventListener("mousedown",A),a.removeEventListener("mouseup",p),a.removeEventListener("mouseleave",y),a.removeEventListener("mouseenter",y),a.removeEventListener("mouseout",y),a.removeEventListener("mouseover",y),a.removeEventListener("blur",m),a.removeEventListener("keyup",w),a.removeEventListener("keydown",w),a.removeEventListener("keypress",w),a!==window&&(window.removeEventListener("blur",m),window.removeEventListener("keyup",w),window.removeEventListener("keydown",w),window.removeEventListener("keypress",w)))},enumerable:!0},buttons:{get:function(){return o},enumerable:!0},x:{get:function(){return l},enumerable:!0},y:{get:function(){return u},enumerable:!0},mods:{get:function(){return h},enumerable:!0}}),M};var i=n(4687)},24:function(c){var s={left:0,top:0};c.exports=function(n,i,a){i=i||n.currentTarget||n.srcElement,Array.isArray(a)||(a=[0,0]);var r,o=n.clientX||0,l=n.clientY||0,u=(r=i)===window||r===document||r===document.body?s:r.getBoundingClientRect();return a[0]=o-u.left,a[1]=l-u.top,a}},4687:function(c,s){function n(i){return i.target||i.srcElement||window}s.buttons=function(i){if(typeof i=="object"){if("buttons"in i)return i.buttons;if("which"in i){if((a=i.which)===2)return 4;if(a===3)return 2;if(a>0)return 1<<a-1}else if("button"in i){var a;if((a=i.button)===1)return 4;if(a===2)return 2;if(a>=0)return 1<<a}}return 0},s.element=n,s.x=function(i){if(typeof i=="object"){if("offsetX"in i)return i.offsetX;var a=n(i).getBoundingClientRect();return i.clientX-a.left}return 0},s.y=function(i){if(typeof i=="object"){if("offsetY"in i)return i.offsetY;var a=n(i).getBoundingClientRect();return i.clientY-a.top}return 0}},8512:function(c,s,n){var i=n(665);c.exports=function(a,r,o){typeof a=="function"&&(o=!!r,r=a,a=window);var l=i("ex",a),u=function(h){o&&h.preventDefault();var f=h.deltaX||0,T=h.deltaY||0,d=h.deltaZ||0,y=1;switch(h.deltaMode){case 1:y=l;break;case 2:y=window.innerHeight}if(T*=y,d*=y,(f*=y)||T||d)return r(f,T,d,h)};return a.addEventListener("wheel",u),u}},2640:function(c,s,n){var i=n(1888);c.exports=function(r){function o(d){throw new Error("ndarray-extract-contour: "+d)}typeof r!="object"&&o("Must specify arguments");var l=r.order;Array.isArray(l)||o("Must specify order");var u=r.arrayArguments||1;u<1&&o("Must have at least one array argument"),(r.scalarArguments||0)<0&&o("Scalar arg count must be > 0"),typeof r.vertex!="function"&&o("Must specify vertex creation function"),typeof r.cell!="function"&&o("Must specify cell creation function"),typeof r.phase!="function"&&o("Must specify phase function");for(var h=r.getters||[],f=new Array(u),T=0;T<u;++T)h.indexOf(T)>=0?f[T]=!0:f[T]=!1;return function(d,y,m,w,_,A){var p=[A,_].join(",");return(0,a[p])(d,y,m,i.mallocUint32,i.freeUint32)}(r.vertex,r.cell,r.phase,0,l,f)};var a={"false,0,1":function(r,o,l,u,h){return function(f,T,d,y){var m,w=0|f.shape[0],_=0|f.shape[1],A=f.data,p=0|f.offset,L=0|f.stride[0],M=0|f.stride[1],C=p,R=0|-L,I=0,D=0|-M,F=0,q=-L-M|0,z=0,V=0|L,X=M-L*w|0,j=0,H=0,G=0,ie=2*w|0,re=u(ie),te=u(ie),K=0,J=0,$=-1,ae=-1,ue=0,ce=0|-w,de=0|w,pe=0,me=-w-1|0,be=w-1|0,we=0,Te=0,Le=0;for(j=0;j<w;++j)re[K++]=l(A[C],T,d,y),C+=V;if(C+=X,_>0){if(H=1,re[K++]=l(A[C],T,d,y),C+=V,w>0)for(j=1,m=A[C],J=re[K]=l(m,T,d,y),ue=re[K+$],pe=re[K+ce],we=re[K+me],J===ue&&J===pe&&J===we||(I=A[C+R],F=A[C+D],z=A[C+q],r(j,H,m,I,F,z,J,ue,pe,we,T,d,y),Te=te[K]=G++),K+=1,C+=V,j=2;j<w;++j)m=A[C],J=re[K]=l(m,T,d,y),ue=re[K+$],pe=re[K+ce],we=re[K+me],J===ue&&J===pe&&J===we||(I=A[C+R],F=A[C+D],z=A[C+q],r(j,H,m,I,F,z,J,ue,pe,we,T,d,y),Te=te[K]=G++,we!==ue&&o(te[K+$],Te,z,I,we,ue,T,d,y)),K+=1,C+=V;for(C+=X,K=0,Le=$,$=ae,ae=Le,Le=ce,ce=de,de=Le,Le=me,me=be,be=Le,H=2;H<_;++H){if(re[K++]=l(A[C],T,d,y),C+=V,w>0)for(j=1,m=A[C],J=re[K]=l(m,T,d,y),ue=re[K+$],pe=re[K+ce],we=re[K+me],J===ue&&J===pe&&J===we||(I=A[C+R],F=A[C+D],z=A[C+q],r(j,H,m,I,F,z,J,ue,pe,we,T,d,y),Te=te[K]=G++,we!==pe&&o(te[K+ce],Te,F,z,pe,we,T,d,y)),K+=1,C+=V,j=2;j<w;++j)m=A[C],J=re[K]=l(m,T,d,y),ue=re[K+$],pe=re[K+ce],we=re[K+me],J===ue&&J===pe&&J===we||(I=A[C+R],F=A[C+D],z=A[C+q],r(j,H,m,I,F,z,J,ue,pe,we,T,d,y),Te=te[K]=G++,we!==pe&&o(te[K+ce],Te,F,z,pe,we,T,d,y),we!==ue&&o(te[K+$],Te,z,I,we,ue,T,d,y)),K+=1,C+=V;1&H&&(K=0),Le=$,$=ae,ae=Le,Le=ce,ce=de,de=Le,Le=me,me=be,be=Le,C+=X}}h(te),h(re)}},"false,1,0":function(r,o,l,u,h){return function(f,T,d,y){var m,w=0|f.shape[0],_=0|f.shape[1],A=f.data,p=0|f.offset,L=0|f.stride[0],M=0|f.stride[1],C=p,R=0|-L,I=0,D=0|-M,F=0,q=-L-M|0,z=0,V=0|M,X=L-M*_|0,j=0,H=0,G=0,ie=2*_|0,re=u(ie),te=u(ie),K=0,J=0,$=-1,ae=-1,ue=0,ce=0|-_,de=0|_,pe=0,me=-_-1|0,be=_-1|0,we=0,Te=0,Le=0;for(H=0;H<_;++H)re[K++]=l(A[C],T,d,y),C+=V;if(C+=X,w>0){if(j=1,re[K++]=l(A[C],T,d,y),C+=V,_>0)for(H=1,m=A[C],J=re[K]=l(m,T,d,y),pe=re[K+ce],ue=re[K+$],we=re[K+me],J===pe&&J===ue&&J===we||(I=A[C+R],F=A[C+D],z=A[C+q],r(j,H,m,I,F,z,J,pe,ue,we,T,d,y),Te=te[K]=G++),K+=1,C+=V,H=2;H<_;++H)m=A[C],J=re[K]=l(m,T,d,y),pe=re[K+ce],ue=re[K+$],we=re[K+me],J===pe&&J===ue&&J===we||(I=A[C+R],F=A[C+D],z=A[C+q],r(j,H,m,I,F,z,J,pe,ue,we,T,d,y),Te=te[K]=G++,we!==ue&&o(te[K+$],Te,F,z,ue,we,T,d,y)),K+=1,C+=V;for(C+=X,K=0,Le=ce,ce=de,de=Le,Le=$,$=ae,ae=Le,Le=me,me=be,be=Le,j=2;j<w;++j){if(re[K++]=l(A[C],T,d,y),C+=V,_>0)for(H=1,m=A[C],J=re[K]=l(m,T,d,y),pe=re[K+ce],ue=re[K+$],we=re[K+me],J===pe&&J===ue&&J===we||(I=A[C+R],F=A[C+D],z=A[C+q],r(j,H,m,I,F,z,J,pe,ue,we,T,d,y),Te=te[K]=G++,we!==pe&&o(te[K+ce],Te,z,I,we,pe,T,d,y)),K+=1,C+=V,H=2;H<_;++H)m=A[C],J=re[K]=l(m,T,d,y),pe=re[K+ce],ue=re[K+$],we=re[K+me],J===pe&&J===ue&&J===we||(I=A[C+R],F=A[C+D],z=A[C+q],r(j,H,m,I,F,z,J,pe,ue,we,T,d,y),Te=te[K]=G++,we!==ue&&o(te[K+$],Te,F,z,ue,we,T,d,y),we!==pe&&o(te[K+ce],Te,z,I,we,pe,T,d,y)),K+=1,C+=V;1&j&&(K=0),Le=ce,ce=de,de=Le,Le=$,$=ae,ae=Le,Le=me,me=be,be=Le,C+=X}}h(te),h(re)}}}},6199:function(c,s,n){var i=n(1338),a={zero:function(w,_,A,p){var L=w[0];p|=0;var M=0,C=A[0];for(M=0;M<L;++M)_[p]=0,p+=C},fdTemplate1:function(w,_,A,p,L,M,C){var R=w[0],I=A[0],D=-1*I,F=I;p|=0,C|=0;var q=0,z=I,V=M[0];for(q=0;q<R;++q)L[C]=.5*(_[p+D]-_[p+F]),p+=z,C+=V},fdTemplate2:function(w,_,A,p,L,M,C,R,I,D){var F=w[0],q=w[1],z=A[0],V=A[1],X=M[0],j=M[1],H=I[0],G=I[1],ie=-1*z,re=z,te=-1*V,K=V;p|=0,C|=0,D|=0;var J=0,$=0,ae=V,ue=z-q*V,ce=j,de=X-q*j,pe=G,me=H-q*G;for($=0;$<F;++$){for(J=0;J<q;++J)L[C]=.5*(_[p+ie]-_[p+re]),R[D]=.5*(_[p+te]-_[p+K]),p+=ae,C+=ce,D+=pe;p+=ue,C+=de,D+=me}}},r={cdiff:function(w){var _={};return function(A,p,L){var M=A.dtype,C=A.order,R=p.dtype,I=p.order,D=L.dtype,F=L.order,q=[M,C.join(),R,I.join(),D,F.join()].join(),z=_[q];return z||(_[q]=z=w([M,C,R,I,D,F])),z(A.shape.slice(0),A.data,A.stride,0|A.offset,p.data,p.stride,0|p.offset,L.data,L.stride,0|L.offset)}},zero:function(w){var _={};return function(A){var p=A.dtype,L=A.order,M=[p,L.join()].join(),C=_[M];return C||(_[M]=C=w([p,L])),C(A.shape.slice(0),A.data,A.stride,0|A.offset)}},fdTemplate1:function(w){var _={};return function(A,p){var L=A.dtype,M=A.order,C=p.dtype,R=p.order,I=[L,M.join(),C,R.join()].join(),D=_[I];return D||(_[I]=D=w([L,M,C,R])),D(A.shape.slice(0),A.data,A.stride,0|A.offset,p.data,p.stride,0|p.offset)}},fdTemplate2:function(w){var _={};return function(A,p,L){var M=A.dtype,C=A.order,R=p.dtype,I=p.order,D=L.dtype,F=L.order,q=[M,C.join(),R,I.join(),D,F.join()].join(),z=_[q];return z||(_[q]=z=w([M,C,R,I,D,F])),z(A.shape.slice(0),A.data,A.stride,0|A.offset,p.data,p.stride,0|p.offset,L.data,L.stride,0|L.offset)}}};function o(w){return(0,r[w.funcName])(l.bind(void 0,w))}function l(w){return a[w.funcName]}function u(w){return o({funcName:w.funcName})}var h={},f={},T=u({funcName:"cdiff"}),d=u({funcName:"zero"});function y(w){return w in h?h[w]:h[w]=u({funcName:"fdTemplate"+w})}function m(w,_,A,p){return function(L,M){var C=M.shape.slice();return C[0]>2&&C[1]>2&&p(M.pick(-1,-1).lo(1,1).hi(C[0]-2,C[1]-2),L.pick(-1,-1,0).lo(1,1).hi(C[0]-2,C[1]-2),L.pick(-1,-1,1).lo(1,1).hi(C[0]-2,C[1]-2)),C[1]>2&&(A(M.pick(0,-1).lo(1).hi(C[1]-2),L.pick(0,-1,1).lo(1).hi(C[1]-2)),_(L.pick(0,-1,0).lo(1).hi(C[1]-2))),C[1]>2&&(A(M.pick(C[0]-1,-1).lo(1).hi(C[1]-2),L.pick(C[0]-1,-1,1).lo(1).hi(C[1]-2)),_(L.pick(C[0]-1,-1,0).lo(1).hi(C[1]-2))),C[0]>2&&(A(M.pick(-1,0).lo(1).hi(C[0]-2),L.pick(-1,0,0).lo(1).hi(C[0]-2)),_(L.pick(-1,0,1).lo(1).hi(C[0]-2))),C[0]>2&&(A(M.pick(-1,C[1]-1).lo(1).hi(C[0]-2),L.pick(-1,C[1]-1,0).lo(1).hi(C[0]-2)),_(L.pick(-1,C[1]-1,1).lo(1).hi(C[0]-2))),L.set(0,0,0,0),L.set(0,0,1,0),L.set(C[0]-1,0,0,0),L.set(C[0]-1,0,1,0),L.set(0,C[1]-1,0,0),L.set(0,C[1]-1,1,0),L.set(C[0]-1,C[1]-1,0,0),L.set(C[0]-1,C[1]-1,1,0),L}}c.exports=function(w,_,A){return Array.isArray(A)||(A=i(_.dimension,typeof A=="string"?A:"clamp")),_.size===0?w:_.dimension===0?(w.set(0),w):function(p){var L=p.join();if(I=f[L])return I;for(var M=p.length,C=[T,d],R=1;R<=M;++R)C.push(y(R));var I=m.apply(void 0,C);return f[L]=I,I}(A)(w,_)}},4317:function(c){function s(r,o){var l=Math.floor(o),u=o-l,h=0<=l&&l<r.shape[0],f=0<=l+1&&l+1<r.shape[0];return(1-u)*(h?+r.get(l):0)+u*(f?+r.get(l+1):0)}function n(r,o,l){var u=Math.floor(o),h=o-u,f=0<=u&&u<r.shape[0],T=0<=u+1&&u+1<r.shape[0],d=Math.floor(l),y=l-d,m=0<=d&&d<r.shape[1],w=0<=d+1&&d+1<r.shape[1],_=f&&m?r.get(u,d):0,A=f&&w?r.get(u,d+1):0;return(1-y)*((1-h)*_+h*(T&&m?r.get(u+1,d):0))+y*((1-h)*A+h*(T&&w?r.get(u+1,d+1):0))}function i(r,o,l,u){var h=Math.floor(o),f=o-h,T=0<=h&&h<r.shape[0],d=0<=h+1&&h+1<r.shape[0],y=Math.floor(l),m=l-y,w=0<=y&&y<r.shape[1],_=0<=y+1&&y+1<r.shape[1],A=Math.floor(u),p=u-A,L=0<=A&&A<r.shape[2],M=0<=A+1&&A+1<r.shape[2],C=T&&w&&L?r.get(h,y,A):0,R=T&&_&&L?r.get(h,y+1,A):0,I=d&&w&&L?r.get(h+1,y,A):0,D=d&&_&&L?r.get(h+1,y+1,A):0,F=T&&w&&M?r.get(h,y,A+1):0,q=T&&_&&M?r.get(h,y+1,A+1):0;return(1-p)*((1-m)*((1-f)*C+f*I)+m*((1-f)*R+f*D))+p*((1-m)*((1-f)*F+f*(d&&w&&M?r.get(h+1,y,A+1):0))+m*((1-f)*q+f*(d&&_&&M?r.get(h+1,y+1,A+1):0)))}function a(r){var o,l,u=0|r.shape.length,h=new Array(u),f=new Array(u),T=new Array(u),d=new Array(u);for(o=0;o<u;++o)l=+arguments[o+1],h[o]=Math.floor(l),f[o]=l-h[o],T[o]=0<=h[o]&&h[o]<r.shape[o],d[o]=0<=h[o]+1&&h[o]+1<r.shape[o];var y,m,w,_=0;e:for(o=0;o<1<<u;++o){for(m=1,w=r.offset,y=0;y<u;++y)if(o&1<<y){if(!d[y])continue e;m*=f[y],w+=r.stride[y]*(h[y]+1)}else{if(!T[y])continue e;m*=1-f[y],w+=r.stride[y]*h[y]}_+=m*r.data[w]}return _}c.exports=function(r,o,l,u){switch(r.shape.length){case 0:return 0;case 1:return s(r,o);case 2:return n(r,o,l);case 3:return i(r,o,l,u);default:return a.apply(void 0,arguments)}},c.exports.d1=s,c.exports.d2=n,c.exports.d3=i},5298:function(c,s){var n={"float64,2,1,0":function(){return function(l,u,h,f,T){var d=l[0],y=l[1],m=l[2],w=h[0],_=h[1],A=h[2];f|=0;var p=0,L=0,M=0,C=A,R=_-m*A,I=w-y*_;for(M=0;M<d;++M){for(L=0;L<y;++L){for(p=0;p<m;++p)u[f]/=T,f+=C;f+=R}f+=I}}},"uint8,2,0,1,float64,2,1,0":function(){return function(l,u,h,f,T,d,y,m){for(var w=l[0],_=l[1],A=l[2],p=h[0],L=h[1],M=h[2],C=d[0],R=d[1],I=d[2],D=f|=0,F=y|=0,q=0|l[0];q>0;){q<64?(w=q,q=0):(w=64,q-=64);for(var z=0|l[1];z>0;){z<64?(_=z,z=0):(_=64,z-=64),f=D+q*p+z*L,y=F+q*C+z*R;var V=0,X=0,j=0,H=M,G=p-A*M,ie=L-w*p,re=I,te=C-A*I,K=R-w*C;for(j=0;j<_;++j){for(X=0;X<w;++X){for(V=0;V<A;++V)u[f]=T[y]*m,f+=H,y+=re;f+=G,y+=te}f+=ie,y+=K}}}}},"float32,1,0,float32,1,0":function(){return function(l,u,h,f,T,d,y){var m=l[0],w=l[1],_=h[0],A=h[1],p=d[0],L=d[1];f|=0,y|=0;var M=0,C=0,R=A,I=_-w*A,D=L,F=p-w*L;for(C=0;C<m;++C){for(M=0;M<w;++M)u[f]=T[y],f+=R,y+=D;f+=I,y+=F}}},"float32,1,0,float32,0,1":function(){return function(l,u,h,f,T,d,y){for(var m=l[0],w=l[1],_=h[0],A=h[1],p=d[0],L=d[1],M=f|=0,C=y|=0,R=0|l[1];R>0;){R<64?(w=R,R=0):(w=64,R-=64);for(var I=0|l[0];I>0;){I<64?(m=I,I=0):(m=64,I-=64),f=M+R*A+I*_,y=C+R*L+I*p;var D=0,F=0,q=A,z=_-w*A,V=L,X=p-w*L;for(F=0;F<m;++F){for(D=0;D<w;++D)u[f]=T[y],f+=q,y+=V;f+=z,y+=X}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(l,u,h,f,T,d,y){for(var m=l[0],w=l[1],_=l[2],A=h[0],p=h[1],L=h[2],M=d[0],C=d[1],R=d[2],I=f|=0,D=y|=0,F=0|l[2];F>0;){F<64?(_=F,F=0):(_=64,F-=64);for(var q=0|l[0];q>0;){q<64?(m=q,q=0):(m=64,q-=64);for(var z=0|l[1];z>0;){z<64?(w=z,z=0):(w=64,z-=64),f=I+F*L+q*A+z*p,y=D+F*R+q*M+z*C;var V=0,X=0,j=0,H=L,G=A-_*L,ie=p-m*A,re=R,te=M-_*R,K=C-m*M;for(j=0;j<w;++j){for(X=0;X<m;++X){for(V=0;V<_;++V)u[f]=T[y],f+=H,y+=re;f+=G,y+=te}f+=ie,y+=K}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(l,u,h,f,T,d,y){var m=l[0],w=l[1],_=l[2],A=h[0],p=h[1],L=h[2],M=d[0],C=d[1],R=d[2];f|=0,y|=0;var I=0,D=0,F=0,q=L,z=A-_*L,V=p-m*A,X=R,j=M-_*R,H=C-m*M;for(F=0;F<w;++F){for(D=0;D<m;++D){for(I=0;I<_;++I)u[f]=T[y],f+=q,y+=X;f+=z,y+=j}f+=V,y+=H}}}},i=function(l,u){var h=u.join(",");return(0,n[h])()},a={mul:function(l){var u={};return function(h,f,T){var d=h.dtype,y=h.order,m=f.dtype,w=f.order,_=T.dtype,A=T.order,p=[d,y.join(),m,w.join(),_,A.join()].join(),L=u[p];return L||(u[p]=L=l([d,y,m,w,_,A])),L(h.shape.slice(0),h.data,h.stride,0|h.offset,f.data,f.stride,0|f.offset,T.data,T.stride,0|T.offset)}},muls:function(l){var u={};return function(h,f,T){var d=h.dtype,y=h.order,m=f.dtype,w=f.order,_=[d,y.join(),m,w.join()].join(),A=u[_];return A||(u[_]=A=l([d,y,m,w])),A(h.shape.slice(0),h.data,h.stride,0|h.offset,f.data,f.stride,0|f.offset,T)}},mulseq:function(l){var u={};return function(h,f){var T=h.dtype,d=h.order,y=[T,d.join()].join(),m=u[y];return m||(u[y]=m=l([T,d])),m(h.shape.slice(0),h.data,h.stride,0|h.offset,f)}},div:function(l){var u={};return function(h,f,T){var d=h.dtype,y=h.order,m=f.dtype,w=f.order,_=T.dtype,A=T.order,p=[d,y.join(),m,w.join(),_,A.join()].join(),L=u[p];return L||(u[p]=L=l([d,y,m,w,_,A])),L(h.shape.slice(0),h.data,h.stride,0|h.offset,f.data,f.stride,0|f.offset,T.data,T.stride,0|T.offset)}},divs:function(l){var u={};return function(h,f,T){var d=h.dtype,y=h.order,m=f.dtype,w=f.order,_=[d,y.join(),m,w.join()].join(),A=u[_];return A||(u[_]=A=l([d,y,m,w])),A(h.shape.slice(0),h.data,h.stride,0|h.offset,f.data,f.stride,0|f.offset,T)}},divseq:function(l){var u={};return function(h,f){var T=h.dtype,d=h.order,y=[T,d.join()].join(),m=u[y];return m||(u[y]=m=l([T,d])),m(h.shape.slice(0),h.data,h.stride,0|h.offset,f)}},assign:function(l){var u={};return function(h,f){var T=h.dtype,d=h.order,y=f.dtype,m=f.order,w=[T,d.join(),y,m.join()].join(),_=u[w];return _||(u[w]=_=l([T,d,y,m])),_(h.shape.slice(0),h.data,h.stride,0|h.offset,f.data,f.stride,0|f.offset)}}};function r(l){return u={funcName:l.funcName},(0,a[u.funcName])(i.bind(void 0,u));var u}var o={mul:"*",div:"/"};(function(){for(var l in o)s[l]=r({funcName:l}),s[l+"s"]=r({funcName:l+"s"}),s[l+"seq"]=r({funcName:l+"seq"})})(),s.assign=r({funcName:"assign"})},9994:function(c,s,n){var i=n(9618),a=n(8277);c.exports=function(r,o){for(var l=[],u=r,h=1;Array.isArray(u);)l.push(u.length),h*=u.length,u=u[0];return l.length===0?i():(o||(o=i(new Float64Array(h),l)),a(o,r),o)}},8277:function(c){c.exports=function(s){var n={};return function(i,a){var r=i.dtype,o=i.order,l=[r,o.join()].join(),u=n[l];return u||(n[l]=u=s([r,o])),u(i.shape.slice(0),i.data,i.stride,0|i.offset,a)}}((function(){return function(s,n,i,a,r){var o=s[0],l=s[1],u=s[2],h=i[0],f=i[1],T=i[2],d=[0,0,0];a|=0;var y=0,m=0,w=0,_=T,A=f-u*T,p=h-l*f;for(w=0;w<o;++w){for(m=0;m<l;++m){for(y=0;y<u;++y){var L,M=r;for(L=0;L<d.length-1;++L)M=M[d[L]];n[a]=M[d[d.length-1]],a+=_,++d[2]}a+=A,d[2]-=u,++d[1]}a+=p,d[1]-=l,++d[0]}}}).bind(void 0,{funcName:"convert"}))},7640:function(c,s,n){var i=n(1888);function a(u){return u==="uint32"?[i.mallocUint32,i.freeUint32]:null}var r={"uint32,1,0":function(u,h){return function(f,T,d,y,m,w,_,A,p,L,M){var C,R,I,D,F,q,z,V,X=f*m+y,j=u(A);for(C=f+1;C<=T;++C){for(R=C,I=X+=m,F=0,q=X,D=0;D<A;++D)j[F++]=d[q],q+=p;e:for(;R-- >f;){F=0,q=I-m;t:for(D=0;D<A;++D){if((z=d[q])<(V=j[F]))break e;if(z>V)break t;q+=L,F+=M}for(F=I,q=I-m,D=0;D<A;++D)d[F]=d[q],F+=p,q+=p;I-=m}for(F=I,q=0,D=0;D<A;++D)d[F]=j[q++],F+=p}h(j)}}},o={"uint32,1,0":function(u,h,f){return function T(d,y,m,w,_,A,p,L,M,C,R){var I,D,F,q,z,V,X,j,H,G,ie,re,te,K,J,$,ae,ue,ce,de,pe,me,be,we,Te,Le=(y-d+1)/6|0,Ie=d+Le,_e=y-Le,fe=d+y>>1,le=fe-Le,ye=fe+Le,Oe=Ie,Ae=le,Se=fe,Pe=ye,Fe=_e,Be=d+1,xe=y-1,Me=!0,Ce=0,Ne=0,Re=0,He=L,Ye=h(He),Qe=h(He);ie=_*Oe,re=_*Ae,Te=w;e:for(G=0;G<L;++G){if(j=re+Te,(Re=m[X=ie+Te]-m[j])>0){D=Oe,Oe=Ae,Ae=D;break e}if(Re<0)break e;Te+=C}ie=_*Pe,re=_*Fe,Te=w;e:for(G=0;G<L;++G){if(j=re+Te,(Re=m[X=ie+Te]-m[j])>0){D=Pe,Pe=Fe,Fe=D;break e}if(Re<0)break e;Te+=C}ie=_*Oe,re=_*Se,Te=w;e:for(G=0;G<L;++G){if(j=re+Te,(Re=m[X=ie+Te]-m[j])>0){D=Oe,Oe=Se,Se=D;break e}if(Re<0)break e;Te+=C}ie=_*Ae,re=_*Se,Te=w;e:for(G=0;G<L;++G){if(j=re+Te,(Re=m[X=ie+Te]-m[j])>0){D=Ae,Ae=Se,Se=D;break e}if(Re<0)break e;Te+=C}ie=_*Oe,re=_*Pe,Te=w;e:for(G=0;G<L;++G){if(j=re+Te,(Re=m[X=ie+Te]-m[j])>0){D=Oe,Oe=Pe,Pe=D;break e}if(Re<0)break e;Te+=C}ie=_*Se,re=_*Pe,Te=w;e:for(G=0;G<L;++G){if(j=re+Te,(Re=m[X=ie+Te]-m[j])>0){D=Se,Se=Pe,Pe=D;break e}if(Re<0)break e;Te+=C}ie=_*Ae,re=_*Fe,Te=w;e:for(G=0;G<L;++G){if(j=re+Te,(Re=m[X=ie+Te]-m[j])>0){D=Ae,Ae=Fe,Fe=D;break e}if(Re<0)break e;Te+=C}ie=_*Ae,re=_*Se,Te=w;e:for(G=0;G<L;++G){if(j=re+Te,(Re=m[X=ie+Te]-m[j])>0){D=Ae,Ae=Se,Se=D;break e}if(Re<0)break e;Te+=C}ie=_*Pe,re=_*Fe,Te=w;e:for(G=0;G<L;++G){if(j=re+Te,(Re=m[X=ie+Te]-m[j])>0){D=Pe,Pe=Fe,Fe=D;break e}if(Re<0)break e;Te+=C}for(ie=_*Oe,re=_*Ae,te=_*Se,K=_*Pe,J=_*Fe,$=_*Ie,ae=_*fe,ue=_*_e,we=0,Te=w,G=0;G<L;++G)X=ie+Te,j=re+Te,H=te+Te,ce=K+Te,de=J+Te,pe=$+Te,me=ae+Te,be=ue+Te,Ye[we]=m[j],Qe[we]=m[ce],Me=Me&&Ye[we]===Qe[we],F=m[X],q=m[H],z=m[de],m[pe]=F,m[me]=q,m[be]=z,++we,Te+=M;for(ie=_*le,re=_*d,Te=w,G=0;G<L;++G)j=re+Te,m[X=ie+Te]=m[j],Te+=M;for(ie=_*ye,re=_*y,Te=w,G=0;G<L;++G)j=re+Te,m[X=ie+Te]=m[j],Te+=M;if(Me)for(V=Be;V<=xe;++V){for(X=w+V*_,we=0,G=0;G<L&&(Re=m[X]-Ye[we])==0;++G)we+=R,X+=C;if(Re!==0)if(Re<0){if(V!==Be)for(ie=_*V,re=_*Be,Te=w,G=0;G<L;++G)j=re+Te,I=m[X=ie+Te],m[X]=m[j],m[j]=I,Te+=M;++Be}else for(;;){for(X=w+xe*_,we=0,G=0;G<L&&(Re=m[X]-Ye[we])==0;++G)we+=R,X+=C;if(!(Re>0)){if(Re<0){for(ie=_*V,re=_*Be,te=_*xe,Te=w,G=0;G<L;++G)j=re+Te,H=te+Te,I=m[X=ie+Te],m[X]=m[j],m[j]=m[H],m[H]=I,Te+=M;++Be,--xe;break}for(ie=_*V,re=_*xe,Te=w,G=0;G<L;++G)j=re+Te,I=m[X=ie+Te],m[X]=m[j],m[j]=I,Te+=M;--xe;break}xe--}}else for(V=Be;V<=xe;++V){for(X=w+V*_,we=0,G=0;G<L&&(Ce=m[X]-Ye[we])==0;++G)we+=R,X+=C;if(Ce<0){if(V!==Be)for(ie=_*V,re=_*Be,Te=w,G=0;G<L;++G)j=re+Te,I=m[X=ie+Te],m[X]=m[j],m[j]=I,Te+=M;++Be}else{for(X=w+V*_,we=0,G=0;G<L&&(Ne=m[X]-Qe[we])==0;++G)we+=R,X+=C;if(Ne>0)for(;;){for(X=w+xe*_,we=0,G=0;G<L&&(Re=m[X]-Qe[we])==0;++G)we+=R,X+=C;if(!(Re>0)){for(X=w+xe*_,we=0,G=0;G<L&&(Re=m[X]-Ye[we])==0;++G)we+=R,X+=C;if(Re<0){for(ie=_*V,re=_*Be,te=_*xe,Te=w,G=0;G<L;++G)j=re+Te,H=te+Te,I=m[X=ie+Te],m[X]=m[j],m[j]=m[H],m[H]=I,Te+=M;++Be,--xe}else{for(ie=_*V,re=_*xe,Te=w,G=0;G<L;++G)j=re+Te,I=m[X=ie+Te],m[X]=m[j],m[j]=I,Te+=M;--xe}break}if(--xe<V)break}}}for(ie=_*d,re=_*(Be-1),we=0,Te=w,G=0;G<L;++G)j=re+Te,m[X=ie+Te]=m[j],m[j]=Ye[we],++we,Te+=M;for(ie=_*y,re=_*(xe+1),we=0,Te=w,G=0;G<L;++G)j=re+Te,m[X=ie+Te]=m[j],m[j]=Qe[we],++we,Te+=M;if(Be-2-d<=32?u(d,Be-2,m,w,_,A,p,L,M,C,R):T(d,Be-2,m,w,_,A,p,L,M,C,R),y-(xe+2)<=32?u(xe+2,y,m,w,_,A,p,L,M,C,R):T(xe+2,y,m,w,_,A,p,L,M,C,R),Me)return f(Ye),void f(Qe);if(Be<Ie&&xe>_e){e:for(;;){for(X=w+Be*_,we=0,Te=w,G=0;G<L;++G){if(m[X]!==Ye[we])break e;++we,X+=M}++Be}e:for(;;){for(X=w+xe*_,we=0,Te=w,G=0;G<L;++G){if(m[X]!==Qe[we])break e;++we,X+=M}--xe}for(V=Be;V<=xe;++V){for(X=w+V*_,we=0,G=0;G<L&&(Ce=m[X]-Ye[we])==0;++G)we+=R,X+=C;if(Ce===0){if(V!==Be)for(ie=_*V,re=_*Be,Te=w,G=0;G<L;++G)j=re+Te,I=m[X=ie+Te],m[X]=m[j],m[j]=I,Te+=M;++Be}else{for(X=w+V*_,we=0,G=0;G<L&&(Ne=m[X]-Qe[we])==0;++G)we+=R,X+=C;if(Ne===0)for(;;){for(X=w+xe*_,we=0,G=0;G<L&&(Re=m[X]-Qe[we])==0;++G)we+=R,X+=C;if(Re!==0){for(X=w+xe*_,we=0,G=0;G<L&&(Re=m[X]-Ye[we])==0;++G)we+=R,X+=C;if(Re<0){for(ie=_*V,re=_*Be,te=_*xe,Te=w,G=0;G<L;++G)j=re+Te,H=te+Te,I=m[X=ie+Te],m[X]=m[j],m[j]=m[H],m[H]=I,Te+=M;++Be,--xe}else{for(ie=_*V,re=_*xe,Te=w,G=0;G<L;++G)j=re+Te,I=m[X=ie+Te],m[X]=m[j],m[j]=I,Te+=M;--xe}break}if(--xe<V)break}}}}f(Ye),f(Qe),xe-Be<=32?u(Be,xe,m,w,_,A,p,L,M,C,R):T(Be,xe,m,w,_,A,p,L,M,C,R)}}},l={"uint32,1,0":function(u,h){return function(f){var T=f.data,d=0|f.offset,y=f.shape,m=f.stride,w=0|m[0],_=0|y[0],A=0|m[1],p=0|y[1],L=A,M=A;_<=32?u(0,_-1,T,d,w,A,_,p,L,M,1):h(0,_-1,T,d,w,A,_,p,L,M,1)}}};c.exports=function(u,h){var f=[h,u].join(","),T=l[f],d=function(m,w){var _=a(w),A=[w,m].join(","),p=r[A];return _?p(_[0],_[1]):p()}(u,h),y=function(m,w,_){var A=a(w),p=[w,m].join(","),L=o[p];return m.length>1&&A?L(_,A[0],A[1]):L(_)}(u,h,d);return T(d,y)}},446:function(c,s,n){var i=n(7640),a={};c.exports=function(r){var o=r.order,l=r.dtype,u=[o,l].join(":"),h=a[u];return h||(a[u]=h=i(o,l)),h(r),r}},9618:function(c,s,n){var i=n(7163),a=typeof Float64Array<"u";function r(f,T){return f[0]-T[0]}function o(){var f,T=this.stride,d=new Array(T.length);for(f=0;f<d.length;++f)d[f]=[Math.abs(T[f]),f];d.sort(r);var y=new Array(d.length);for(f=0;f<y.length;++f)y[f]=d[f][1];return y}var l={T:function(f){function T(y){this.data=y}var d=T.prototype;return d.dtype=f,d.index=function(){return-1},d.size=0,d.dimension=-1,d.shape=d.stride=d.order=[],d.lo=d.hi=d.transpose=d.step=function(){return new T(this.data)},d.get=d.set=function(){},d.pick=function(){return null},function(y){return new T(y)}},0:function(f,T){function d(m,w){this.data=m,this.offset=w}var y=d.prototype;return y.dtype=f,y.index=function(){return this.offset},y.dimension=0,y.size=1,y.shape=y.stride=y.order=[],y.lo=y.hi=y.transpose=y.step=function(){return new d(this.data,this.offset)},y.pick=function(){return T(this.data)},y.valueOf=y.get=function(){return f==="generic"?this.data.get(this.offset):this.data[this.offset]},y.set=function(m){return f==="generic"?this.data.set(this.offset,m):this.data[this.offset]=m},function(m,w,_,A){return new d(m,A)}},1:function(f,T,d){function y(w,_,A,p){this.data=w,this.shape=[_],this.stride=[A],this.offset=0|p}var m=y.prototype;return m.dtype=f,m.dimension=1,Object.defineProperty(m,"size",{get:function(){return this.shape[0]}}),m.order=[0],m.set=function(w,_){return f==="generic"?this.data.set(this.offset+this.stride[0]*w,_):this.data[this.offset+this.stride[0]*w]=_},m.get=function(w){return f==="generic"?this.data.get(this.offset+this.stride[0]*w):this.data[this.offset+this.stride[0]*w]},m.index=function(w){return this.offset+this.stride[0]*w},m.hi=function(w){return new y(this.data,typeof w!="number"||w<0?this.shape[0]:0|w,this.stride[0],this.offset)},m.lo=function(w){var _=this.offset,A=0,p=this.shape[0],L=this.stride[0];return typeof w=="number"&&w>=0&&(_+=L*(A=0|w),p-=A),new y(this.data,p,L,_)},m.step=function(w){var _=this.shape[0],A=this.stride[0],p=this.offset,L=0,M=Math.ceil;return typeof w=="number"&&((L=0|w)<0?(p+=A*(_-1),_=M(-_/L)):_=M(_/L),A*=L),new y(this.data,_,A,p)},m.transpose=function(w){w=w===void 0?0:0|w;var _=this.shape,A=this.stride;return new y(this.data,_[w],A[w],this.offset)},m.pick=function(w){var _=[],A=[],p=this.offset;return typeof w=="number"&&w>=0?p=p+this.stride[0]*w|0:(_.push(this.shape[0]),A.push(this.stride[0])),(0,T[_.length+1])(this.data,_,A,p)},function(w,_,A,p){return new y(w,_[0],A[0],p)}},2:function(f,T,d){function y(w,_,A,p,L,M){this.data=w,this.shape=[_,A],this.stride=[p,L],this.offset=0|M}var m=y.prototype;return m.dtype=f,m.dimension=2,Object.defineProperty(m,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(m,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),m.set=function(w,_,A){return f==="generic"?this.data.set(this.offset+this.stride[0]*w+this.stride[1]*_,A):this.data[this.offset+this.stride[0]*w+this.stride[1]*_]=A},m.get=function(w,_){return f==="generic"?this.data.get(this.offset+this.stride[0]*w+this.stride[1]*_):this.data[this.offset+this.stride[0]*w+this.stride[1]*_]},m.index=function(w,_){return this.offset+this.stride[0]*w+this.stride[1]*_},m.hi=function(w,_){return new y(this.data,typeof w!="number"||w<0?this.shape[0]:0|w,typeof _!="number"||_<0?this.shape[1]:0|_,this.stride[0],this.stride[1],this.offset)},m.lo=function(w,_){var A=this.offset,p=0,L=this.shape[0],M=this.shape[1],C=this.stride[0],R=this.stride[1];return typeof w=="number"&&w>=0&&(A+=C*(p=0|w),L-=p),typeof _=="number"&&_>=0&&(A+=R*(p=0|_),M-=p),new y(this.data,L,M,C,R,A)},m.step=function(w,_){var A=this.shape[0],p=this.shape[1],L=this.stride[0],M=this.stride[1],C=this.offset,R=0,I=Math.ceil;return typeof w=="number"&&((R=0|w)<0?(C+=L*(A-1),A=I(-A/R)):A=I(A/R),L*=R),typeof _=="number"&&((R=0|_)<0?(C+=M*(p-1),p=I(-p/R)):p=I(p/R),M*=R),new y(this.data,A,p,L,M,C)},m.transpose=function(w,_){w=w===void 0?0:0|w,_=_===void 0?1:0|_;var A=this.shape,p=this.stride;return new y(this.data,A[w],A[_],p[w],p[_],this.offset)},m.pick=function(w,_){var A=[],p=[],L=this.offset;return typeof w=="number"&&w>=0?L=L+this.stride[0]*w|0:(A.push(this.shape[0]),p.push(this.stride[0])),typeof _=="number"&&_>=0?L=L+this.stride[1]*_|0:(A.push(this.shape[1]),p.push(this.stride[1])),(0,T[A.length+1])(this.data,A,p,L)},function(w,_,A,p){return new y(w,_[0],_[1],A[0],A[1],p)}},3:function(f,T,d){function y(w,_,A,p,L,M,C,R){this.data=w,this.shape=[_,A,p],this.stride=[L,M,C],this.offset=0|R}var m=y.prototype;return m.dtype=f,m.dimension=3,Object.defineProperty(m,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(m,"order",{get:function(){var w=Math.abs(this.stride[0]),_=Math.abs(this.stride[1]),A=Math.abs(this.stride[2]);return w>_?_>A?[2,1,0]:w>A?[1,2,0]:[1,0,2]:w>A?[2,0,1]:A>_?[0,1,2]:[0,2,1]}}),m.set=function(w,_,A,p){return f==="generic"?this.data.set(this.offset+this.stride[0]*w+this.stride[1]*_+this.stride[2]*A,p):this.data[this.offset+this.stride[0]*w+this.stride[1]*_+this.stride[2]*A]=p},m.get=function(w,_,A){return f==="generic"?this.data.get(this.offset+this.stride[0]*w+this.stride[1]*_+this.stride[2]*A):this.data[this.offset+this.stride[0]*w+this.stride[1]*_+this.stride[2]*A]},m.index=function(w,_,A){return this.offset+this.stride[0]*w+this.stride[1]*_+this.stride[2]*A},m.hi=function(w,_,A){return new y(this.data,typeof w!="number"||w<0?this.shape[0]:0|w,typeof _!="number"||_<0?this.shape[1]:0|_,typeof A!="number"||A<0?this.shape[2]:0|A,this.stride[0],this.stride[1],this.stride[2],this.offset)},m.lo=function(w,_,A){var p=this.offset,L=0,M=this.shape[0],C=this.shape[1],R=this.shape[2],I=this.stride[0],D=this.stride[1],F=this.stride[2];return typeof w=="number"&&w>=0&&(p+=I*(L=0|w),M-=L),typeof _=="number"&&_>=0&&(p+=D*(L=0|_),C-=L),typeof A=="number"&&A>=0&&(p+=F*(L=0|A),R-=L),new y(this.data,M,C,R,I,D,F,p)},m.step=function(w,_,A){var p=this.shape[0],L=this.shape[1],M=this.shape[2],C=this.stride[0],R=this.stride[1],I=this.stride[2],D=this.offset,F=0,q=Math.ceil;return typeof w=="number"&&((F=0|w)<0?(D+=C*(p-1),p=q(-p/F)):p=q(p/F),C*=F),typeof _=="number"&&((F=0|_)<0?(D+=R*(L-1),L=q(-L/F)):L=q(L/F),R*=F),typeof A=="number"&&((F=0|A)<0?(D+=I*(M-1),M=q(-M/F)):M=q(M/F),I*=F),new y(this.data,p,L,M,C,R,I,D)},m.transpose=function(w,_,A){w=w===void 0?0:0|w,_=_===void 0?1:0|_,A=A===void 0?2:0|A;var p=this.shape,L=this.stride;return new y(this.data,p[w],p[_],p[A],L[w],L[_],L[A],this.offset)},m.pick=function(w,_,A){var p=[],L=[],M=this.offset;return typeof w=="number"&&w>=0?M=M+this.stride[0]*w|0:(p.push(this.shape[0]),L.push(this.stride[0])),typeof _=="number"&&_>=0?M=M+this.stride[1]*_|0:(p.push(this.shape[1]),L.push(this.stride[1])),typeof A=="number"&&A>=0?M=M+this.stride[2]*A|0:(p.push(this.shape[2]),L.push(this.stride[2])),(0,T[p.length+1])(this.data,p,L,M)},function(w,_,A,p){return new y(w,_[0],_[1],_[2],A[0],A[1],A[2],p)}},4:function(f,T,d){function y(w,_,A,p,L,M,C,R,I,D){this.data=w,this.shape=[_,A,p,L],this.stride=[M,C,R,I],this.offset=0|D}var m=y.prototype;return m.dtype=f,m.dimension=4,Object.defineProperty(m,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(m,"order",{get:d}),m.set=function(w,_,A,p,L){return f==="generic"?this.data.set(this.offset+this.stride[0]*w+this.stride[1]*_+this.stride[2]*A+this.stride[3]*p,L):this.data[this.offset+this.stride[0]*w+this.stride[1]*_+this.stride[2]*A+this.stride[3]*p]=L},m.get=function(w,_,A,p){return f==="generic"?this.data.get(this.offset+this.stride[0]*w+this.stride[1]*_+this.stride[2]*A+this.stride[3]*p):this.data[this.offset+this.stride[0]*w+this.stride[1]*_+this.stride[2]*A+this.stride[3]*p]},m.index=function(w,_,A,p){return this.offset+this.stride[0]*w+this.stride[1]*_+this.stride[2]*A+this.stride[3]*p},m.hi=function(w,_,A,p){return new y(this.data,typeof w!="number"||w<0?this.shape[0]:0|w,typeof _!="number"||_<0?this.shape[1]:0|_,typeof A!="number"||A<0?this.shape[2]:0|A,typeof p!="number"||p<0?this.shape[3]:0|p,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},m.lo=function(w,_,A,p){var L=this.offset,M=0,C=this.shape[0],R=this.shape[1],I=this.shape[2],D=this.shape[3],F=this.stride[0],q=this.stride[1],z=this.stride[2],V=this.stride[3];return typeof w=="number"&&w>=0&&(L+=F*(M=0|w),C-=M),typeof _=="number"&&_>=0&&(L+=q*(M=0|_),R-=M),typeof A=="number"&&A>=0&&(L+=z*(M=0|A),I-=M),typeof p=="number"&&p>=0&&(L+=V*(M=0|p),D-=M),new y(this.data,C,R,I,D,F,q,z,V,L)},m.step=function(w,_,A,p){var L=this.shape[0],M=this.shape[1],C=this.shape[2],R=this.shape[3],I=this.stride[0],D=this.stride[1],F=this.stride[2],q=this.stride[3],z=this.offset,V=0,X=Math.ceil;return typeof w=="number"&&((V=0|w)<0?(z+=I*(L-1),L=X(-L/V)):L=X(L/V),I*=V),typeof _=="number"&&((V=0|_)<0?(z+=D*(M-1),M=X(-M/V)):M=X(M/V),D*=V),typeof A=="number"&&((V=0|A)<0?(z+=F*(C-1),C=X(-C/V)):C=X(C/V),F*=V),typeof p=="number"&&((V=0|p)<0?(z+=q*(R-1),R=X(-R/V)):R=X(R/V),q*=V),new y(this.data,L,M,C,R,I,D,F,q,z)},m.transpose=function(w,_,A,p){w=w===void 0?0:0|w,_=_===void 0?1:0|_,A=A===void 0?2:0|A,p=p===void 0?3:0|p;var L=this.shape,M=this.stride;return new y(this.data,L[w],L[_],L[A],L[p],M[w],M[_],M[A],M[p],this.offset)},m.pick=function(w,_,A,p){var L=[],M=[],C=this.offset;return typeof w=="number"&&w>=0?C=C+this.stride[0]*w|0:(L.push(this.shape[0]),M.push(this.stride[0])),typeof _=="number"&&_>=0?C=C+this.stride[1]*_|0:(L.push(this.shape[1]),M.push(this.stride[1])),typeof A=="number"&&A>=0?C=C+this.stride[2]*A|0:(L.push(this.shape[2]),M.push(this.stride[2])),typeof p=="number"&&p>=0?C=C+this.stride[3]*p|0:(L.push(this.shape[3]),M.push(this.stride[3])),(0,T[L.length+1])(this.data,L,M,C)},function(w,_,A,p){return new y(w,_[0],_[1],_[2],_[3],A[0],A[1],A[2],A[3],p)}},5:function(f,T,d){function y(w,_,A,p,L,M,C,R,I,D,F,q){this.data=w,this.shape=[_,A,p,L,M],this.stride=[C,R,I,D,F],this.offset=0|q}var m=y.prototype;return m.dtype=f,m.dimension=5,Object.defineProperty(m,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(m,"order",{get:d}),m.set=function(w,_,A,p,L,M){return f==="generic"?this.data.set(this.offset+this.stride[0]*w+this.stride[1]*_+this.stride[2]*A+this.stride[3]*p+this.stride[4]*L,M):this.data[this.offset+this.stride[0]*w+this.stride[1]*_+this.stride[2]*A+this.stride[3]*p+this.stride[4]*L]=M},m.get=function(w,_,A,p,L){return f==="generic"?this.data.get(this.offset+this.stride[0]*w+this.stride[1]*_+this.stride[2]*A+this.stride[3]*p+this.stride[4]*L):this.data[this.offset+this.stride[0]*w+this.stride[1]*_+this.stride[2]*A+this.stride[3]*p+this.stride[4]*L]},m.index=function(w,_,A,p,L){return this.offset+this.stride[0]*w+this.stride[1]*_+this.stride[2]*A+this.stride[3]*p+this.stride[4]*L},m.hi=function(w,_,A,p,L){return new y(this.data,typeof w!="number"||w<0?this.shape[0]:0|w,typeof _!="number"||_<0?this.shape[1]:0|_,typeof A!="number"||A<0?this.shape[2]:0|A,typeof p!="number"||p<0?this.shape[3]:0|p,typeof L!="number"||L<0?this.shape[4]:0|L,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},m.lo=function(w,_,A,p,L){var M=this.offset,C=0,R=this.shape[0],I=this.shape[1],D=this.shape[2],F=this.shape[3],q=this.shape[4],z=this.stride[0],V=this.stride[1],X=this.stride[2],j=this.stride[3],H=this.stride[4];return typeof w=="number"&&w>=0&&(M+=z*(C=0|w),R-=C),typeof _=="number"&&_>=0&&(M+=V*(C=0|_),I-=C),typeof A=="number"&&A>=0&&(M+=X*(C=0|A),D-=C),typeof p=="number"&&p>=0&&(M+=j*(C=0|p),F-=C),typeof L=="number"&&L>=0&&(M+=H*(C=0|L),q-=C),new y(this.data,R,I,D,F,q,z,V,X,j,H,M)},m.step=function(w,_,A,p,L){var M=this.shape[0],C=this.shape[1],R=this.shape[2],I=this.shape[3],D=this.shape[4],F=this.stride[0],q=this.stride[1],z=this.stride[2],V=this.stride[3],X=this.stride[4],j=this.offset,H=0,G=Math.ceil;return typeof w=="number"&&((H=0|w)<0?(j+=F*(M-1),M=G(-M/H)):M=G(M/H),F*=H),typeof _=="number"&&((H=0|_)<0?(j+=q*(C-1),C=G(-C/H)):C=G(C/H),q*=H),typeof A=="number"&&((H=0|A)<0?(j+=z*(R-1),R=G(-R/H)):R=G(R/H),z*=H),typeof p=="number"&&((H=0|p)<0?(j+=V*(I-1),I=G(-I/H)):I=G(I/H),V*=H),typeof L=="number"&&((H=0|L)<0?(j+=X*(D-1),D=G(-D/H)):D=G(D/H),X*=H),new y(this.data,M,C,R,I,D,F,q,z,V,X,j)},m.transpose=function(w,_,A,p,L){w=w===void 0?0:0|w,_=_===void 0?1:0|_,A=A===void 0?2:0|A,p=p===void 0?3:0|p,L=L===void 0?4:0|L;var M=this.shape,C=this.stride;return new y(this.data,M[w],M[_],M[A],M[p],M[L],C[w],C[_],C[A],C[p],C[L],this.offset)},m.pick=function(w,_,A,p,L){var M=[],C=[],R=this.offset;return typeof w=="number"&&w>=0?R=R+this.stride[0]*w|0:(M.push(this.shape[0]),C.push(this.stride[0])),typeof _=="number"&&_>=0?R=R+this.stride[1]*_|0:(M.push(this.shape[1]),C.push(this.stride[1])),typeof A=="number"&&A>=0?R=R+this.stride[2]*A|0:(M.push(this.shape[2]),C.push(this.stride[2])),typeof p=="number"&&p>=0?R=R+this.stride[3]*p|0:(M.push(this.shape[3]),C.push(this.stride[3])),typeof L=="number"&&L>=0?R=R+this.stride[4]*L|0:(M.push(this.shape[4]),C.push(this.stride[4])),(0,T[M.length+1])(this.data,M,C,R)},function(w,_,A,p){return new y(w,_[0],_[1],_[2],_[3],_[4],A[0],A[1],A[2],A[3],A[4],p)}}};function u(f,T){var d=T===-1?"T":String(T),y=l[d];return T===-1?y(f):T===0?y(f,h[f][0]):y(f,h[f],o)}var h={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};c.exports=function(f,T,d,y){if(f===void 0)return(0,h.array[0])([]);typeof f=="number"&&(f=[f]),T===void 0&&(T=[f.length]);var m=T.length;if(d===void 0){d=new Array(m);for(var w=m-1,_=1;w>=0;--w)d[w]=_,_*=T[w]}if(y===void 0)for(y=0,w=0;w<m;++w)d[w]<0&&(y-=(T[w]-1)*d[w]);for(var A=function(L){if(i(L))return"buffer";if(a)switch(Object.prototype.toString.call(L)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(L)?"array":"generic"}(f),p=h[A];p.length<=m+1;)p.push(u(A,p.length-1));return(0,p[m+1])(f,T,d,y)}},1278:function(c,s,n){var i=n(2361),a=Math.pow(2,-1074),r=-1>>>0;c.exports=function(o,l){if(isNaN(o)||isNaN(l))return NaN;if(o===l)return o;if(o===0)return l<0?-a:a;var u=i.hi(o),h=i.lo(o);return l>o==o>0?h===r?(u+=1,h=0):h+=1:h===0?(h=r,u-=1):h-=1,i.pack(h,u)}},8406:function(c,s){s.vertexNormals=function(n,i,a){for(var r=i.length,o=new Array(r),l=a===void 0?1e-6:a,u=0;u<r;++u)o[u]=[0,0,0];for(u=0;u<n.length;++u)for(var h=n[u],f=0,T=h[h.length-1],d=h[0],y=0;y<h.length;++y){f=T,T=d,d=h[(y+1)%h.length];for(var m=i[f],w=i[T],_=i[d],A=new Array(3),p=0,L=new Array(3),M=0,C=0;C<3;++C)A[C]=m[C]-w[C],p+=A[C]*A[C],L[C]=_[C]-w[C],M+=L[C]*L[C];if(p*M>l){var R=o[T],I=1/Math.sqrt(p*M);for(C=0;C<3;++C){var D=(C+1)%3,F=(C+2)%3;R[C]+=I*(L[D]*A[F]-L[F]*A[D])}}}for(u=0;u<r;++u){R=o[u];var q=0;for(C=0;C<3;++C)q+=R[C]*R[C];if(q>l)for(I=1/Math.sqrt(q),C=0;C<3;++C)R[C]*=I;else for(C=0;C<3;++C)R[C]=0}return o},s.faceNormals=function(n,i,a){for(var r=n.length,o=new Array(r),l=a===void 0?1e-6:a,u=0;u<r;++u){for(var h=n[u],f=new Array(3),T=0;T<3;++T)f[T]=i[h[T]];var d=new Array(3),y=new Array(3);for(T=0;T<3;++T)d[T]=f[1][T]-f[0][T],y[T]=f[2][T]-f[0][T];var m=new Array(3),w=0;for(T=0;T<3;++T){var _=(T+1)%3,A=(T+2)%3;m[T]=d[_]*y[A]-d[A]*y[_],w+=m[T]*m[T]}for(w=w>l?1/Math.sqrt(w):0,T=0;T<3;++T)m[T]*=w;o[u]=m}return o}},4081:function(c){c.exports=function(s,n,i,a,r,o,l,u,h,f){var T=n+o+f;if(d>0){var d=Math.sqrt(T+1);s[0]=.5*(l-h)/d,s[1]=.5*(u-a)/d,s[2]=.5*(i-o)/d,s[3]=.5*d}else{var y=Math.max(n,o,f);d=Math.sqrt(2*y-T+1),n>=y?(s[0]=.5*d,s[1]=.5*(r+i)/d,s[2]=.5*(u+a)/d,s[3]=.5*(l-h)/d):o>=y?(s[0]=.5*(i+r)/d,s[1]=.5*d,s[2]=.5*(h+l)/d,s[3]=.5*(u-a)/d):(s[0]=.5*(a+u)/d,s[1]=.5*(l+h)/d,s[2]=.5*d,s[3]=.5*(i-r)/d)}return s}},9977:function(c,s,n){c.exports=function(y){var m=(y=y||{}).center||[0,0,0],w=y.rotation||[0,0,0,1],_=y.radius||1;m=[].slice.call(m,0,3),f(w=[].slice.call(w,0,4),w);var A=new T(w,m,Math.log(_));return A.setDistanceLimits(y.zoomMin,y.zoomMax),("eye"in y||"up"in y)&&A.lookAt(0,y.eye,y.center,y.up),A};var i=n(9215),a=n(6582),r=n(7399),o=n(7608),l=n(4081);function u(y,m,w){return Math.sqrt(Math.pow(y,2)+Math.pow(m,2)+Math.pow(w,2))}function h(y,m,w,_){return Math.sqrt(Math.pow(y,2)+Math.pow(m,2)+Math.pow(w,2)+Math.pow(_,2))}function f(y,m){var w=m[0],_=m[1],A=m[2],p=m[3],L=h(w,_,A,p);L>1e-6?(y[0]=w/L,y[1]=_/L,y[2]=A/L,y[3]=p/L):(y[0]=y[1]=y[2]=0,y[3]=1)}function T(y,m,w){this.radius=i([w]),this.center=i(m),this.rotation=i(y),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var d=T.prototype;d.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},d.recalcMatrix=function(y){this.radius.curve(y),this.center.curve(y),this.rotation.curve(y);var m=this.computedRotation;f(m,m);var w=this.computedMatrix;r(w,m);var _=this.computedCenter,A=this.computedEye,p=this.computedUp,L=Math.exp(this.computedRadius[0]);A[0]=_[0]+L*w[2],A[1]=_[1]+L*w[6],A[2]=_[2]+L*w[10],p[0]=w[1],p[1]=w[5],p[2]=w[9];for(var M=0;M<3;++M){for(var C=0,R=0;R<3;++R)C+=w[M+4*R]*A[R];w[12+M]=-C}},d.getMatrix=function(y,m){this.recalcMatrix(y);var w=this.computedMatrix;if(m){for(var _=0;_<16;++_)m[_]=w[_];return m}return w},d.idle=function(y){this.center.idle(y),this.radius.idle(y),this.rotation.idle(y)},d.flush=function(y){this.center.flush(y),this.radius.flush(y),this.rotation.flush(y)},d.pan=function(y,m,w,_){m=m||0,w=w||0,_=_||0,this.recalcMatrix(y);var A=this.computedMatrix,p=A[1],L=A[5],M=A[9],C=u(p,L,M);p/=C,L/=C,M/=C;var R=A[0],I=A[4],D=A[8],F=R*p+I*L+D*M,q=u(R-=p*F,I-=L*F,D-=M*F);R/=q,I/=q,D/=q,A[2],A[6],A[10];var z=R*m+p*w,V=I*m+L*w,X=D*m+M*w;this.center.move(y,z,V,X);var j=Math.exp(this.computedRadius[0]);j=Math.max(1e-4,j+_),this.radius.set(y,Math.log(j))},d.rotate=function(y,m,w,_){this.recalcMatrix(y),m=m||0,w=w||0;var A=this.computedMatrix,p=A[0],L=A[4],M=A[8],C=A[1],R=A[5],I=A[9],D=A[2],F=A[6],q=A[10],z=m*p+w*C,V=m*L+w*R,X=m*M+w*I,j=-(F*X-q*V),H=-(q*z-D*X),G=-(D*V-F*z),ie=Math.sqrt(Math.max(0,1-Math.pow(j,2)-Math.pow(H,2)-Math.pow(G,2))),re=h(j,H,G,ie);re>1e-6?(j/=re,H/=re,G/=re,ie/=re):(j=H=G=0,ie=1);var te=this.computedRotation,K=te[0],J=te[1],$=te[2],ae=te[3],ue=K*ie+ae*j+J*G-$*H,ce=J*ie+ae*H+$*j-K*G,de=$*ie+ae*G+K*H-J*j,pe=ae*ie-K*j-J*H-$*G;if(_){j=D,H=F,G=q;var me=Math.sin(_)/u(j,H,G);j*=me,H*=me,G*=me,pe=pe*(ie=Math.cos(m))-(ue=ue*ie+pe*j+ce*G-de*H)*j-(ce=ce*ie+pe*H+de*j-ue*G)*H-(de=de*ie+pe*G+ue*H-ce*j)*G}var be=h(ue,ce,de,pe);be>1e-6?(ue/=be,ce/=be,de/=be,pe/=be):(ue=ce=de=0,pe=1),this.rotation.set(y,ue,ce,de,pe)},d.lookAt=function(y,m,w,_){this.recalcMatrix(y),w=w||this.computedCenter,m=m||this.computedEye,_=_||this.computedUp;var A=this.computedMatrix;a(A,m,w,_);var p=this.computedRotation;l(p,A[0],A[1],A[2],A[4],A[5],A[6],A[8],A[9],A[10]),f(p,p),this.rotation.set(y,p[0],p[1],p[2],p[3]);for(var L=0,M=0;M<3;++M)L+=Math.pow(w[M]-m[M],2);this.radius.set(y,.5*Math.log(Math.max(L,1e-6))),this.center.set(y,w[0],w[1],w[2])},d.translate=function(y,m,w,_){this.center.move(y,m||0,w||0,_||0)},d.setMatrix=function(y,m){var w=this.computedRotation;l(w,m[0],m[1],m[2],m[4],m[5],m[6],m[8],m[9],m[10]),f(w,w),this.rotation.set(y,w[0],w[1],w[2],w[3]);var _=this.computedMatrix;o(_,m);var A=_[15];if(Math.abs(A)>1e-6){var p=_[12]/A,L=_[13]/A,M=_[14]/A;this.recalcMatrix(y);var C=Math.exp(this.computedRadius[0]);this.center.set(y,p-_[2]*C,L-_[6]*C,M-_[10]*C),this.radius.idle(y)}else this.center.idle(y),this.radius.idle(y)},d.setDistance=function(y,m){m>0&&this.radius.set(y,Math.log(m))},d.setDistanceLimits=function(y,m){y=y>0?Math.log(y):-1/0,m=m>0?Math.log(m):1/0,m=Math.max(m,y),this.radius.bounds[0][0]=y,this.radius.bounds[1][0]=m},d.getDistanceLimits=function(y){var m=this.radius.bounds;return y?(y[0]=Math.exp(m[0][0]),y[1]=Math.exp(m[1][0]),y):[Math.exp(m[0][0]),Math.exp(m[1][0])]},d.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},d.fromJSON=function(y){var m=this.lastT(),w=y.center;w&&this.center.set(m,w[0],w[1],w[2]);var _=y.rotation;_&&this.rotation.set(m,_[0],_[1],_[2],_[3]);var A=y.distance;A&&A>0&&this.radius.set(m,Math.log(A)),this.setDistanceLimits(y.zoomMin,y.zoomMax)}},1371:function(c,s,n){var i=n(3233);c.exports=function(a,r,o){return i(o=o!==void 0?o+"":" ",r)+a}},3202:function(c){c.exports=function(s,n){n||(n=[0,""]),s=String(s);var i=parseFloat(s,10);return n[0]=i,n[1]=s.match(/[\d.\-\+]*\s*(.*)/)[1]||"",n}},3088:function(c,s,n){c.exports=function(a,r){for(var o=0|r.length,l=a.length,u=[new Array(o),new Array(o)],h=0;h<o;++h)u[0][h]=[],u[1][h]=[];for(h=0;h<l;++h){var f=a[h];u[0][f[0]].push(f),u[1][f[1]].push(f)}var T=[];for(h=0;h<o;++h)u[0][h].length+u[1][h].length===0&&T.push([h]);function d(L,M){var C=u[M][L[M]];C.splice(C.indexOf(L),1)}function y(L,M,C){for(var R,I,D,F=0;F<2;++F)if(u[F][M].length>0){R=u[F][M][0],D=F;break}I=R[1^D];for(var q=0;q<2;++q)for(var z=u[q][M],V=0;V<z.length;++V){var X=z[V],j=X[1^q];i(r[L],r[M],r[I],r[j])>0&&(R=X,I=j,D=q)}return C||R&&d(R,D),I}function m(L,M){var C=u[M][L][0],R=[L];d(C,M);for(var I=C[1^M];;){for(;I!==L;)R.push(I),I=y(R[R.length-2],I,!1);if(u[0][L].length+u[1][L].length===0)break;var D=R[R.length-1],F=L,q=R[1],z=y(D,F,!0);if(i(r[D],r[F],r[q],r[z])<0)break;R.push(L),I=y(D,F)}return R}function w(L,M){return M[1]===M[M.length-1]}for(h=0;h<o;++h)for(var _=0;_<2;++_){for(var A=[];u[_][h].length>0;){u[0][h].length;var p=m(h,_);w(0,p)?A.push.apply(A,p):(A.length>0&&T.push(A),A=p)}A.length>0&&T.push(A)}return T};var i=n(3140)},5609:function(c,s,n){c.exports=function(a,r){for(var o=i(a,r.length),l=new Array(r.length),u=new Array(r.length),h=[],f=0;f<r.length;++f){var T=o[f].length;u[f]=T,l[f]=!0,T<=1&&h.push(f)}for(;h.length>0;){l[_=h.pop()]=!1;var d=o[_];for(f=0;f<d.length;++f){var y=d[f];--u[y]==0&&h.push(y)}}var m=new Array(r.length),w=[];for(f=0;f<r.length;++f)if(l[f]){var _=w.length;m[f]=_,w.push(r[f])}else m[f]=-1;var A=[];for(f=0;f<a.length;++f){var p=a[f];l[p[0]]&&l[p[1]]&&A.push([m[p[0]],m[p[1]]])}return[A,w]};var i=n(3134)},2095:function(c,s,n){c.exports=function(T,d){var y=h(T,d);T=y[0];for(var m=(d=y[1]).length,w=(T.length,i(T,d.length)),_=0;_<m;++_)if(w[_].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");var A=a(T,d),p=(A=A.filter(function(Le){for(var Ie=Le.length,_e=[0],fe=0;fe<Ie;++fe){var le=d[Le[fe]],ye=d[Le[(fe+1)%Ie]],Oe=o(-le[0],le[1]),Ae=o(-le[0],ye[1]),Se=o(ye[0],le[1]),Pe=o(ye[0],ye[1]);_e=l(_e,l(l(Oe,Ae),l(Se,Pe)))}return _e[_e.length-1]>0})).length,L=new Array(p),M=new Array(p);for(_=0;_<p;++_){L[_]=_;var C=new Array(p),R=A[_].map(function(Le){return d[Le]}),I=r([R]),D=0;e:for(var F=0;F<p;++F)if(C[F]=0,_!==F){for(var q=(we=A[F]).length,z=0;z<q;++z){var V=I(d[we[z]]);if(V!==0){V<0&&(C[F]=1,D+=1);continue e}}C[F]=1,D+=1}M[_]=[D,_,C]}for(M.sort(function(Le,Ie){return Ie[0]-Le[0]}),_=0;_<p;++_){var X=(C=M[_])[1],j=C[2];for(F=0;F<p;++F)j[F]&&(L[F]=X)}var H=function(Le){for(var Ie=new Array(Le),_e=0;_e<Le;++_e)Ie[_e]=[];return Ie}(p);for(_=0;_<p;++_)H[_].push(L[_]),H[L[_]].push(_);var G={},ie=f(m,!1);for(_=0;_<p;++_)for(q=(we=A[_]).length,F=0;F<q;++F){var re=we[F],te=we[(F+1)%q],K=Math.min(re,te)+":"+Math.max(re,te);if(K in G){var J=G[K];H[J].push(_),H[_].push(J),ie[re]=ie[te]=!0}else G[K]=_}function $(Le){for(var Ie=Le.length,_e=0;_e<Ie;++_e)if(!ie[Le[_e]])return!1;return!0}var ae=[],ue=f(p,-1);for(_=0;_<p;++_)L[_]!==_||$(A[_])?ue[_]=-1:(ae.push(_),ue[_]=0);for(y=[];ae.length>0;){var ce=ae.pop(),de=H[ce];u(de,function(Le,Ie){return Le-Ie});var pe,me=de.length,be=ue[ce];for(be===0&&(pe=[we=A[ce]]),_=0;_<me;++_){var we,Te=de[_];ue[Te]>=0||(ue[Te]=1^be,ae.push(Te),be===0&&($(we=A[Te])||(we.reverse(),pe.push(we))))}be===0&&y.push(pe)}return y};var i=n(3134),a=n(3088),r=n(5085),o=n(5250),l=n(8210),u=n(1682),h=n(5609);function f(T,d){for(var y=new Array(T),m=0;m<T;++m)y[m]=d;return y}},5085:function(c,s,n){c.exports=function(f){for(var T=f.length,d=[],y=[],m=0;m<T;++m)for(var w=f[m],_=w.length,A=_-1,p=0;p<_;A=p++){var L=w[A],M=w[p];L[0]===M[0]?y.push([L,M]):d.push([L,M])}if(d.length===0)return y.length===0?h:(C=u(y),function(D){return C(D[0],D[1])?0:1});var C,R=a(d),I=function(D,F){return function(q){var z=o.le(F,q[0]);if(z<0)return 1;var V=D[z];if(!V){if(!(z>0&&F[z]===q[0]))return 1;V=D[z-1]}for(var X=1;V;){var j=V.key,H=i(q,j[0],j[1]);if(j[0][0]<j[1][0])if(H<0)V=V.left;else{if(!(H>0))return 0;X=-1,V=V.right}else if(H>0)V=V.left;else{if(!(H<0))return 0;X=1,V=V.right}}return X}}(R.slabs,R.coordinates);return y.length===0?I:function(D,F){return function(q){return D(q[0],q[1])?0:F(q)}}(u(y),I)};var i=n(3250)[3],a=n(4209),r=n(3352),o=n(2478);function l(){return!0}function u(f){for(var T={},d=0;d<f.length;++d){var y=f[d],m=y[0][0],w=y[0][1],_=y[1][1],A=[Math.min(w,_),Math.max(w,_)];m in T?T[m].push(A):T[m]=[A]}var p={},L=Object.keys(T);for(d=0;d<L.length;++d){var M=T[L[d]];p[L[d]]=r(M)}return function(C){return function(R,I){var D=C[R];return!!D&&!!D.queryPoint(I,l)}}(p)}function h(f){return 1}},9346:function(c){var s=new Float64Array(4),n=new Float64Array(4),i=new Float64Array(4);c.exports=function(a,r,o,l,u){s.length<l.length&&(s=new Float64Array(l.length),n=new Float64Array(l.length),i=new Float64Array(l.length));for(var h=0;h<l.length;++h)s[h]=a[h]-l[h],n[h]=r[h]-a[h],i[h]=o[h]-a[h];var f=0,T=0,d=0,y=0,m=0,w=0;for(h=0;h<l.length;++h){var _=n[h],A=i[h],p=s[h];f+=_*_,T+=_*A,d+=A*A,y+=p*_,m+=p*A,w+=p*p}var L,M,C,R,I,D=Math.abs(f*d-T*T),F=T*m-d*y,q=T*y-f*m;if(F+q<=D)if(F<0)q<0&&y<0?(q=0,-y>=f?(F=1,L=f+2*y+w):L=y*(F=-y/f)+w):(F=0,m>=0?(q=0,L=w):-m>=d?(q=1,L=d+2*m+w):L=m*(q=-m/d)+w);else if(q<0)q=0,y>=0?(F=0,L=w):-y>=f?(F=1,L=f+2*y+w):L=y*(F=-y/f)+w;else{var z=1/D;L=(F*=z)*(f*F+T*(q*=z)+2*y)+q*(T*F+d*q+2*m)+w}else F<0?(C=d+m)>(M=T+y)?(R=C-M)>=(I=f-2*T+d)?(F=1,q=0,L=f+2*y+w):L=(F=R/I)*(f*F+T*(q=1-F)+2*y)+q*(T*F+d*q+2*m)+w:(F=0,C<=0?(q=1,L=d+2*m+w):m>=0?(q=0,L=w):L=m*(q=-m/d)+w):q<0?(C=f+y)>(M=T+m)?(R=C-M)>=(I=f-2*T+d)?(q=1,F=0,L=d+2*m+w):L=(F=1-(q=R/I))*(f*F+T*q+2*y)+q*(T*F+d*q+2*m)+w:(q=0,C<=0?(F=1,L=f+2*y+w):y>=0?(F=0,L=w):L=y*(F=-y/f)+w):(R=d+m-T-y)<=0?(F=0,q=1,L=d+2*m+w):R>=(I=f-2*T+d)?(F=1,q=0,L=f+2*y+w):L=(F=R/I)*(f*F+T*(q=1-F)+2*y)+q*(T*F+d*q+2*m)+w;var V=1-F-q;for(h=0;h<l.length;++h)u[h]=V*a[h]+F*r[h]+q*o[h];return L<0?0:L}},8648:function(c,s,n){c.exports=n(783)},2653:function(c,s,n){var i=n(3865);c.exports=function(a,r){for(var o=a.length,l=new Array(o),u=0;u<o;++u)l[u]=i(a[u],r[u]);return l}},5838:function(c,s,n){c.exports=function(a){for(var r=new Array(a.length),o=0;o<a.length;++o)r[o]=i(a[o]);return r};var i=n(7842)},8987:function(c,s,n){var i=n(7842),a=n(6504);c.exports=function(r,o){for(var l=i(o),u=r.length,h=new Array(u),f=0;f<u;++f)h[f]=a(r[f],l);return h}},544:function(c,s,n){var i=n(5572);c.exports=function(a,r){for(var o=a.length,l=new Array(o),u=0;u<o;++u)l[u]=i(a[u],r[u]);return l}},5771:function(c,s,n){var i=n(8507),a=n(3788),r=n(2419);c.exports=function(o){o.sort(a);for(var l=o.length,u=0,h=0;h<l;++h){var f=o[h],T=r(f);if(T!==0){if(u>0){var d=o[u-1];if(i(f,d)===0&&r(d)!==T){u-=1;continue}}o[u++]=f}}return o.length=u,o}},3233:function(c){var s,n="";c.exports=function(i,a){if(typeof i!="string")throw new TypeError("expected a string");if(a===1)return i;if(a===2)return i+i;var r=i.length*a;if(s!==i||s===void 0)s=i,n="";else if(n.length>=r)return n.substr(0,r);for(;r>n.length&&a>1;)1&a&&(n+=i),a>>=1,i+=i;return n=(n+=i).substr(0,r)}},3025:function(c,s,n){c.exports=n.g.performance&&n.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},7004:function(c){c.exports=function(s){for(var n=s.length,i=s[s.length-1],a=n,r=n-2;r>=0;--r){var o=i;(h=(u=s[r])-((i=o+u)-o))&&(s[--a]=i,i=h)}var l=0;for(r=a;r<n;++r){var u,h;(h=(u=i)-((i=(o=s[r])+u)-o))&&(s[l++]=h)}return s[l++]=i,s.length=l,s}},2962:function(c,s,n){var i=n(5250),a=n(8210),r=n(3012),o=n(7004);function l(m,w,_,A){return function(p){return A(m(_(p[0][0],p[1][1]),_(-p[0][1],p[1][0])))}}function u(m,w,_,A){return function(p){return A(m(w(m(_(p[1][1],p[2][2]),_(-p[1][2],p[2][1])),p[0][0]),m(w(m(_(p[1][0],p[2][2]),_(-p[1][2],p[2][0])),-p[0][1]),w(m(_(p[1][0],p[2][1]),_(-p[1][1],p[2][0])),p[0][2]))))}}function h(m,w,_,A){return function(p){return A(m(m(w(m(w(m(_(p[2][2],p[3][3]),_(-p[2][3],p[3][2])),p[1][1]),m(w(m(_(p[2][1],p[3][3]),_(-p[2][3],p[3][1])),-p[1][2]),w(m(_(p[2][1],p[3][2]),_(-p[2][2],p[3][1])),p[1][3]))),p[0][0]),w(m(w(m(_(p[2][2],p[3][3]),_(-p[2][3],p[3][2])),p[1][0]),m(w(m(_(p[2][0],p[3][3]),_(-p[2][3],p[3][0])),-p[1][2]),w(m(_(p[2][0],p[3][2]),_(-p[2][2],p[3][0])),p[1][3]))),-p[0][1])),m(w(m(w(m(_(p[2][1],p[3][3]),_(-p[2][3],p[3][1])),p[1][0]),m(w(m(_(p[2][0],p[3][3]),_(-p[2][3],p[3][0])),-p[1][1]),w(m(_(p[2][0],p[3][1]),_(-p[2][1],p[3][0])),p[1][3]))),p[0][2]),w(m(w(m(_(p[2][1],p[3][2]),_(-p[2][2],p[3][1])),p[1][0]),m(w(m(_(p[2][0],p[3][2]),_(-p[2][2],p[3][0])),-p[1][1]),w(m(_(p[2][0],p[3][1]),_(-p[2][1],p[3][0])),p[1][2]))),-p[0][3]))))}}function f(m,w,_,A){return function(p){return A(m(m(w(m(m(w(m(w(m(_(p[3][3],p[4][4]),_(-p[3][4],p[4][3])),p[2][2]),m(w(m(_(p[3][2],p[4][4]),_(-p[3][4],p[4][2])),-p[2][3]),w(m(_(p[3][2],p[4][3]),_(-p[3][3],p[4][2])),p[2][4]))),p[1][1]),w(m(w(m(_(p[3][3],p[4][4]),_(-p[3][4],p[4][3])),p[2][1]),m(w(m(_(p[3][1],p[4][4]),_(-p[3][4],p[4][1])),-p[2][3]),w(m(_(p[3][1],p[4][3]),_(-p[3][3],p[4][1])),p[2][4]))),-p[1][2])),m(w(m(w(m(_(p[3][2],p[4][4]),_(-p[3][4],p[4][2])),p[2][1]),m(w(m(_(p[3][1],p[4][4]),_(-p[3][4],p[4][1])),-p[2][2]),w(m(_(p[3][1],p[4][2]),_(-p[3][2],p[4][1])),p[2][4]))),p[1][3]),w(m(w(m(_(p[3][2],p[4][3]),_(-p[3][3],p[4][2])),p[2][1]),m(w(m(_(p[3][1],p[4][3]),_(-p[3][3],p[4][1])),-p[2][2]),w(m(_(p[3][1],p[4][2]),_(-p[3][2],p[4][1])),p[2][3]))),-p[1][4]))),p[0][0]),w(m(m(w(m(w(m(_(p[3][3],p[4][4]),_(-p[3][4],p[4][3])),p[2][2]),m(w(m(_(p[3][2],p[4][4]),_(-p[3][4],p[4][2])),-p[2][3]),w(m(_(p[3][2],p[4][3]),_(-p[3][3],p[4][2])),p[2][4]))),p[1][0]),w(m(w(m(_(p[3][3],p[4][4]),_(-p[3][4],p[4][3])),p[2][0]),m(w(m(_(p[3][0],p[4][4]),_(-p[3][4],p[4][0])),-p[2][3]),w(m(_(p[3][0],p[4][3]),_(-p[3][3],p[4][0])),p[2][4]))),-p[1][2])),m(w(m(w(m(_(p[3][2],p[4][4]),_(-p[3][4],p[4][2])),p[2][0]),m(w(m(_(p[3][0],p[4][4]),_(-p[3][4],p[4][0])),-p[2][2]),w(m(_(p[3][0],p[4][2]),_(-p[3][2],p[4][0])),p[2][4]))),p[1][3]),w(m(w(m(_(p[3][2],p[4][3]),_(-p[3][3],p[4][2])),p[2][0]),m(w(m(_(p[3][0],p[4][3]),_(-p[3][3],p[4][0])),-p[2][2]),w(m(_(p[3][0],p[4][2]),_(-p[3][2],p[4][0])),p[2][3]))),-p[1][4]))),-p[0][1])),m(w(m(m(w(m(w(m(_(p[3][3],p[4][4]),_(-p[3][4],p[4][3])),p[2][1]),m(w(m(_(p[3][1],p[4][4]),_(-p[3][4],p[4][1])),-p[2][3]),w(m(_(p[3][1],p[4][3]),_(-p[3][3],p[4][1])),p[2][4]))),p[1][0]),w(m(w(m(_(p[3][3],p[4][4]),_(-p[3][4],p[4][3])),p[2][0]),m(w(m(_(p[3][0],p[4][4]),_(-p[3][4],p[4][0])),-p[2][3]),w(m(_(p[3][0],p[4][3]),_(-p[3][3],p[4][0])),p[2][4]))),-p[1][1])),m(w(m(w(m(_(p[3][1],p[4][4]),_(-p[3][4],p[4][1])),p[2][0]),m(w(m(_(p[3][0],p[4][4]),_(-p[3][4],p[4][0])),-p[2][1]),w(m(_(p[3][0],p[4][1]),_(-p[3][1],p[4][0])),p[2][4]))),p[1][3]),w(m(w(m(_(p[3][1],p[4][3]),_(-p[3][3],p[4][1])),p[2][0]),m(w(m(_(p[3][0],p[4][3]),_(-p[3][3],p[4][0])),-p[2][1]),w(m(_(p[3][0],p[4][1]),_(-p[3][1],p[4][0])),p[2][3]))),-p[1][4]))),p[0][2]),m(w(m(m(w(m(w(m(_(p[3][2],p[4][4]),_(-p[3][4],p[4][2])),p[2][1]),m(w(m(_(p[3][1],p[4][4]),_(-p[3][4],p[4][1])),-p[2][2]),w(m(_(p[3][1],p[4][2]),_(-p[3][2],p[4][1])),p[2][4]))),p[1][0]),w(m(w(m(_(p[3][2],p[4][4]),_(-p[3][4],p[4][2])),p[2][0]),m(w(m(_(p[3][0],p[4][4]),_(-p[3][4],p[4][0])),-p[2][2]),w(m(_(p[3][0],p[4][2]),_(-p[3][2],p[4][0])),p[2][4]))),-p[1][1])),m(w(m(w(m(_(p[3][1],p[4][4]),_(-p[3][4],p[4][1])),p[2][0]),m(w(m(_(p[3][0],p[4][4]),_(-p[3][4],p[4][0])),-p[2][1]),w(m(_(p[3][0],p[4][1]),_(-p[3][1],p[4][0])),p[2][4]))),p[1][2]),w(m(w(m(_(p[3][1],p[4][2]),_(-p[3][2],p[4][1])),p[2][0]),m(w(m(_(p[3][0],p[4][2]),_(-p[3][2],p[4][0])),-p[2][1]),w(m(_(p[3][0],p[4][1]),_(-p[3][1],p[4][0])),p[2][2]))),-p[1][4]))),-p[0][3]),w(m(m(w(m(w(m(_(p[3][2],p[4][3]),_(-p[3][3],p[4][2])),p[2][1]),m(w(m(_(p[3][1],p[4][3]),_(-p[3][3],p[4][1])),-p[2][2]),w(m(_(p[3][1],p[4][2]),_(-p[3][2],p[4][1])),p[2][3]))),p[1][0]),w(m(w(m(_(p[3][2],p[4][3]),_(-p[3][3],p[4][2])),p[2][0]),m(w(m(_(p[3][0],p[4][3]),_(-p[3][3],p[4][0])),-p[2][2]),w(m(_(p[3][0],p[4][2]),_(-p[3][2],p[4][0])),p[2][3]))),-p[1][1])),m(w(m(w(m(_(p[3][1],p[4][3]),_(-p[3][3],p[4][1])),p[2][0]),m(w(m(_(p[3][0],p[4][3]),_(-p[3][3],p[4][0])),-p[2][1]),w(m(_(p[3][0],p[4][1]),_(-p[3][1],p[4][0])),p[2][3]))),p[1][2]),w(m(w(m(_(p[3][1],p[4][2]),_(-p[3][2],p[4][1])),p[2][0]),m(w(m(_(p[3][0],p[4][2]),_(-p[3][2],p[4][0])),-p[2][1]),w(m(_(p[3][0],p[4][1]),_(-p[3][1],p[4][0])),p[2][2]))),-p[1][3]))),p[0][4])))))}}function T(m){return(m===2?l:m===3?u:m===4?h:m===5?f:void 0)(a,r,i,o)}var d=[function(){return[0]},function(m){return[m[0][0]]}];function y(m,w,_,A,p,L,M,C){return function(R){switch(R.length){case 0:return m(R);case 1:return w(R);case 2:return _(R);case 3:return A(R);case 4:return p(R);case 5:return L(R)}var I=M[R.length];return I||(I=M[R.length]=C(R.length)),I(R)}}(function(){for(;d.length<6;)d.push(T(d.length));c.exports=y.apply(void 0,d.concat([d,T]));for(var m=0;m<d.length;++m)c.exports[m]=d[m]})()},1944:function(c,s,n){var i=n(5250),a=n(8210);c.exports=function(r,o){for(var l=i(r[0],o[0]),u=1;u<r.length;++u)l=a(l,i(r[u],o[u]));return l}},2646:function(c,s,n){var i=n(5250),a=n(8210),r=n(8545),o=n(3012);function l(w){return(w===3?u:w===4?h:w===5?f:T)(a,r,i,o)}function u(w,_,A,p){return function(L,M,C){var R=A(L[0],L[0]),I=p(R,M[0]),D=p(R,C[0]),F=A(M[0],M[0]),q=p(F,L[0]),z=p(F,C[0]),V=A(C[0],C[0]),X=p(V,L[0]),j=p(V,M[0]),H=w(_(j,z),_(q,I)),G=_(X,D),ie=_(H,G);return ie[ie.length-1]}}function h(w,_,A,p){return function(L,M,C,R){var I=w(A(L[0],L[0]),A(L[1],L[1])),D=p(I,M[0]),F=p(I,C[0]),q=p(I,R[0]),z=w(A(M[0],M[0]),A(M[1],M[1])),V=p(z,L[0]),X=p(z,C[0]),j=p(z,R[0]),H=w(A(C[0],C[0]),A(C[1],C[1])),G=p(H,L[0]),ie=p(H,M[0]),re=p(H,R[0]),te=w(A(R[0],R[0]),A(R[1],R[1])),K=p(te,L[0]),J=p(te,M[0]),$=p(te,C[0]),ae=w(w(p(_($,re),M[1]),w(p(_(J,j),-C[1]),p(_(ie,X),R[1]))),w(p(_(J,j),L[1]),w(p(_(K,q),-M[1]),p(_(V,D),R[1])))),ue=w(w(p(_($,re),L[1]),w(p(_(K,q),-C[1]),p(_(G,F),R[1]))),w(p(_(ie,X),L[1]),w(p(_(G,F),-M[1]),p(_(V,D),C[1])))),ce=_(ae,ue);return ce[ce.length-1]}}function f(w,_,A,p){return function(L,M,C,R,I){var D=w(A(L[0],L[0]),w(A(L[1],L[1]),A(L[2],L[2]))),F=p(D,M[0]),q=p(D,C[0]),z=p(D,R[0]),V=p(D,I[0]),X=w(A(M[0],M[0]),w(A(M[1],M[1]),A(M[2],M[2]))),j=p(X,L[0]),H=p(X,C[0]),G=p(X,R[0]),ie=p(X,I[0]),re=w(A(C[0],C[0]),w(A(C[1],C[1]),A(C[2],C[2]))),te=p(re,L[0]),K=p(re,M[0]),J=p(re,R[0]),$=p(re,I[0]),ae=w(A(R[0],R[0]),w(A(R[1],R[1]),A(R[2],R[2]))),ue=p(ae,L[0]),ce=p(ae,M[0]),de=p(ae,C[0]),pe=p(ae,I[0]),me=w(A(I[0],I[0]),w(A(I[1],I[1]),A(I[2],I[2]))),be=p(me,L[0]),we=p(me,M[0]),Te=p(me,C[0]),Le=p(me,R[0]),Ie=w(w(w(p(w(p(_(Le,pe),C[1]),w(p(_(Te,$),-R[1]),p(_(de,J),I[1]))),M[2]),w(p(w(p(_(Le,pe),M[1]),w(p(_(we,ie),-R[1]),p(_(ce,G),I[1]))),-C[2]),p(w(p(_(Te,$),M[1]),w(p(_(we,ie),-C[1]),p(_(K,H),I[1]))),R[2]))),w(p(w(p(_(de,J),M[1]),w(p(_(ce,G),-C[1]),p(_(K,H),R[1]))),-I[2]),w(p(w(p(_(Le,pe),M[1]),w(p(_(we,ie),-R[1]),p(_(ce,G),I[1]))),L[2]),p(w(p(_(Le,pe),L[1]),w(p(_(be,V),-R[1]),p(_(ue,z),I[1]))),-M[2])))),w(w(p(w(p(_(we,ie),L[1]),w(p(_(be,V),-M[1]),p(_(j,F),I[1]))),R[2]),w(p(w(p(_(ce,G),L[1]),w(p(_(ue,z),-M[1]),p(_(j,F),R[1]))),-I[2]),p(w(p(_(de,J),M[1]),w(p(_(ce,G),-C[1]),p(_(K,H),R[1]))),L[2]))),w(p(w(p(_(de,J),L[1]),w(p(_(ue,z),-C[1]),p(_(te,q),R[1]))),-M[2]),w(p(w(p(_(ce,G),L[1]),w(p(_(ue,z),-M[1]),p(_(j,F),R[1]))),C[2]),p(w(p(_(K,H),L[1]),w(p(_(te,q),-M[1]),p(_(j,F),C[1]))),-R[2]))))),_e=w(w(w(p(w(p(_(Le,pe),C[1]),w(p(_(Te,$),-R[1]),p(_(de,J),I[1]))),L[2]),p(w(p(_(Le,pe),L[1]),w(p(_(be,V),-R[1]),p(_(ue,z),I[1]))),-C[2])),w(p(w(p(_(Te,$),L[1]),w(p(_(be,V),-C[1]),p(_(te,q),I[1]))),R[2]),p(w(p(_(de,J),L[1]),w(p(_(ue,z),-C[1]),p(_(te,q),R[1]))),-I[2]))),w(w(p(w(p(_(Te,$),M[1]),w(p(_(we,ie),-C[1]),p(_(K,H),I[1]))),L[2]),p(w(p(_(Te,$),L[1]),w(p(_(be,V),-C[1]),p(_(te,q),I[1]))),-M[2])),w(p(w(p(_(we,ie),L[1]),w(p(_(be,V),-M[1]),p(_(j,F),I[1]))),C[2]),p(w(p(_(K,H),L[1]),w(p(_(te,q),-M[1]),p(_(j,F),C[1]))),-I[2])))),fe=_(Ie,_e);return fe[fe.length-1]}}function T(w,_,A,p){return function(L,M,C,R,I,D){var F=w(w(A(L[0],L[0]),A(L[1],L[1])),w(A(L[2],L[2]),A(L[3],L[3]))),q=p(F,M[0]),z=p(F,C[0]),V=p(F,R[0]),X=p(F,I[0]),j=p(F,D[0]),H=w(w(A(M[0],M[0]),A(M[1],M[1])),w(A(M[2],M[2]),A(M[3],M[3]))),G=p(H,L[0]),ie=p(H,C[0]),re=p(H,R[0]),te=p(H,I[0]),K=p(H,D[0]),J=w(w(A(C[0],C[0]),A(C[1],C[1])),w(A(C[2],C[2]),A(C[3],C[3]))),$=p(J,L[0]),ae=p(J,M[0]),ue=p(J,R[0]),ce=p(J,I[0]),de=p(J,D[0]),pe=w(w(A(R[0],R[0]),A(R[1],R[1])),w(A(R[2],R[2]),A(R[3],R[3]))),me=p(pe,L[0]),be=p(pe,M[0]),we=p(pe,C[0]),Te=p(pe,I[0]),Le=p(pe,D[0]),Ie=w(w(A(I[0],I[0]),A(I[1],I[1])),w(A(I[2],I[2]),A(I[3],I[3]))),_e=p(Ie,L[0]),fe=p(Ie,M[0]),le=p(Ie,C[0]),ye=p(Ie,R[0]),Oe=p(Ie,D[0]),Ae=w(w(A(D[0],D[0]),A(D[1],D[1])),w(A(D[2],D[2]),A(D[3],D[3]))),Se=p(Ae,L[0]),Pe=p(Ae,M[0]),Fe=p(Ae,C[0]),Be=p(Ae,R[0]),xe=p(Ae,I[0]),Me=w(w(w(p(w(w(p(w(p(_(xe,Oe),R[1]),w(p(_(Be,Le),-I[1]),p(_(ye,Te),D[1]))),C[2]),p(w(p(_(xe,Oe),C[1]),w(p(_(Fe,de),-I[1]),p(_(le,ce),D[1]))),-R[2])),w(p(w(p(_(Be,Le),C[1]),w(p(_(Fe,de),-R[1]),p(_(we,ue),D[1]))),I[2]),p(w(p(_(ye,Te),C[1]),w(p(_(le,ce),-R[1]),p(_(we,ue),I[1]))),-D[2]))),M[3]),w(p(w(w(p(w(p(_(xe,Oe),R[1]),w(p(_(Be,Le),-I[1]),p(_(ye,Te),D[1]))),M[2]),p(w(p(_(xe,Oe),M[1]),w(p(_(Pe,K),-I[1]),p(_(fe,te),D[1]))),-R[2])),w(p(w(p(_(Be,Le),M[1]),w(p(_(Pe,K),-R[1]),p(_(be,re),D[1]))),I[2]),p(w(p(_(ye,Te),M[1]),w(p(_(fe,te),-R[1]),p(_(be,re),I[1]))),-D[2]))),-C[3]),p(w(w(p(w(p(_(xe,Oe),C[1]),w(p(_(Fe,de),-I[1]),p(_(le,ce),D[1]))),M[2]),p(w(p(_(xe,Oe),M[1]),w(p(_(Pe,K),-I[1]),p(_(fe,te),D[1]))),-C[2])),w(p(w(p(_(Fe,de),M[1]),w(p(_(Pe,K),-C[1]),p(_(ae,ie),D[1]))),I[2]),p(w(p(_(le,ce),M[1]),w(p(_(fe,te),-C[1]),p(_(ae,ie),I[1]))),-D[2]))),R[3]))),w(w(p(w(w(p(w(p(_(Be,Le),C[1]),w(p(_(Fe,de),-R[1]),p(_(we,ue),D[1]))),M[2]),p(w(p(_(Be,Le),M[1]),w(p(_(Pe,K),-R[1]),p(_(be,re),D[1]))),-C[2])),w(p(w(p(_(Fe,de),M[1]),w(p(_(Pe,K),-C[1]),p(_(ae,ie),D[1]))),R[2]),p(w(p(_(we,ue),M[1]),w(p(_(be,re),-C[1]),p(_(ae,ie),R[1]))),-D[2]))),-I[3]),p(w(w(p(w(p(_(ye,Te),C[1]),w(p(_(le,ce),-R[1]),p(_(we,ue),I[1]))),M[2]),p(w(p(_(ye,Te),M[1]),w(p(_(fe,te),-R[1]),p(_(be,re),I[1]))),-C[2])),w(p(w(p(_(le,ce),M[1]),w(p(_(fe,te),-C[1]),p(_(ae,ie),I[1]))),R[2]),p(w(p(_(we,ue),M[1]),w(p(_(be,re),-C[1]),p(_(ae,ie),R[1]))),-I[2]))),D[3])),w(p(w(w(p(w(p(_(xe,Oe),R[1]),w(p(_(Be,Le),-I[1]),p(_(ye,Te),D[1]))),M[2]),p(w(p(_(xe,Oe),M[1]),w(p(_(Pe,K),-I[1]),p(_(fe,te),D[1]))),-R[2])),w(p(w(p(_(Be,Le),M[1]),w(p(_(Pe,K),-R[1]),p(_(be,re),D[1]))),I[2]),p(w(p(_(ye,Te),M[1]),w(p(_(fe,te),-R[1]),p(_(be,re),I[1]))),-D[2]))),L[3]),p(w(w(p(w(p(_(xe,Oe),R[1]),w(p(_(Be,Le),-I[1]),p(_(ye,Te),D[1]))),L[2]),p(w(p(_(xe,Oe),L[1]),w(p(_(Se,j),-I[1]),p(_(_e,X),D[1]))),-R[2])),w(p(w(p(_(Be,Le),L[1]),w(p(_(Se,j),-R[1]),p(_(me,V),D[1]))),I[2]),p(w(p(_(ye,Te),L[1]),w(p(_(_e,X),-R[1]),p(_(me,V),I[1]))),-D[2]))),-M[3])))),w(w(w(p(w(w(p(w(p(_(xe,Oe),M[1]),w(p(_(Pe,K),-I[1]),p(_(fe,te),D[1]))),L[2]),p(w(p(_(xe,Oe),L[1]),w(p(_(Se,j),-I[1]),p(_(_e,X),D[1]))),-M[2])),w(p(w(p(_(Pe,K),L[1]),w(p(_(Se,j),-M[1]),p(_(G,q),D[1]))),I[2]),p(w(p(_(fe,te),L[1]),w(p(_(_e,X),-M[1]),p(_(G,q),I[1]))),-D[2]))),R[3]),p(w(w(p(w(p(_(Be,Le),M[1]),w(p(_(Pe,K),-R[1]),p(_(be,re),D[1]))),L[2]),p(w(p(_(Be,Le),L[1]),w(p(_(Se,j),-R[1]),p(_(me,V),D[1]))),-M[2])),w(p(w(p(_(Pe,K),L[1]),w(p(_(Se,j),-M[1]),p(_(G,q),D[1]))),R[2]),p(w(p(_(be,re),L[1]),w(p(_(me,V),-M[1]),p(_(G,q),R[1]))),-D[2]))),-I[3])),w(p(w(w(p(w(p(_(ye,Te),M[1]),w(p(_(fe,te),-R[1]),p(_(be,re),I[1]))),L[2]),p(w(p(_(ye,Te),L[1]),w(p(_(_e,X),-R[1]),p(_(me,V),I[1]))),-M[2])),w(p(w(p(_(fe,te),L[1]),w(p(_(_e,X),-M[1]),p(_(G,q),I[1]))),R[2]),p(w(p(_(be,re),L[1]),w(p(_(me,V),-M[1]),p(_(G,q),R[1]))),-I[2]))),D[3]),p(w(w(p(w(p(_(Be,Le),C[1]),w(p(_(Fe,de),-R[1]),p(_(we,ue),D[1]))),M[2]),p(w(p(_(Be,Le),M[1]),w(p(_(Pe,K),-R[1]),p(_(be,re),D[1]))),-C[2])),w(p(w(p(_(Fe,de),M[1]),w(p(_(Pe,K),-C[1]),p(_(ae,ie),D[1]))),R[2]),p(w(p(_(we,ue),M[1]),w(p(_(be,re),-C[1]),p(_(ae,ie),R[1]))),-D[2]))),L[3]))),w(w(p(w(w(p(w(p(_(Be,Le),C[1]),w(p(_(Fe,de),-R[1]),p(_(we,ue),D[1]))),L[2]),p(w(p(_(Be,Le),L[1]),w(p(_(Se,j),-R[1]),p(_(me,V),D[1]))),-C[2])),w(p(w(p(_(Fe,de),L[1]),w(p(_(Se,j),-C[1]),p(_($,z),D[1]))),R[2]),p(w(p(_(we,ue),L[1]),w(p(_(me,V),-C[1]),p(_($,z),R[1]))),-D[2]))),-M[3]),p(w(w(p(w(p(_(Be,Le),M[1]),w(p(_(Pe,K),-R[1]),p(_(be,re),D[1]))),L[2]),p(w(p(_(Be,Le),L[1]),w(p(_(Se,j),-R[1]),p(_(me,V),D[1]))),-M[2])),w(p(w(p(_(Pe,K),L[1]),w(p(_(Se,j),-M[1]),p(_(G,q),D[1]))),R[2]),p(w(p(_(be,re),L[1]),w(p(_(me,V),-M[1]),p(_(G,q),R[1]))),-D[2]))),C[3])),w(p(w(w(p(w(p(_(Fe,de),M[1]),w(p(_(Pe,K),-C[1]),p(_(ae,ie),D[1]))),L[2]),p(w(p(_(Fe,de),L[1]),w(p(_(Se,j),-C[1]),p(_($,z),D[1]))),-M[2])),w(p(w(p(_(Pe,K),L[1]),w(p(_(Se,j),-M[1]),p(_(G,q),D[1]))),C[2]),p(w(p(_(ae,ie),L[1]),w(p(_($,z),-M[1]),p(_(G,q),C[1]))),-D[2]))),-R[3]),p(w(w(p(w(p(_(we,ue),M[1]),w(p(_(be,re),-C[1]),p(_(ae,ie),R[1]))),L[2]),p(w(p(_(we,ue),L[1]),w(p(_(me,V),-C[1]),p(_($,z),R[1]))),-M[2])),w(p(w(p(_(be,re),L[1]),w(p(_(me,V),-M[1]),p(_(G,q),R[1]))),C[2]),p(w(p(_(ae,ie),L[1]),w(p(_($,z),-M[1]),p(_(G,q),C[1]))),-R[2]))),D[3]))))),Ce=w(w(w(p(w(w(p(w(p(_(xe,Oe),R[1]),w(p(_(Be,Le),-I[1]),p(_(ye,Te),D[1]))),C[2]),p(w(p(_(xe,Oe),C[1]),w(p(_(Fe,de),-I[1]),p(_(le,ce),D[1]))),-R[2])),w(p(w(p(_(Be,Le),C[1]),w(p(_(Fe,de),-R[1]),p(_(we,ue),D[1]))),I[2]),p(w(p(_(ye,Te),C[1]),w(p(_(le,ce),-R[1]),p(_(we,ue),I[1]))),-D[2]))),L[3]),w(p(w(w(p(w(p(_(xe,Oe),R[1]),w(p(_(Be,Le),-I[1]),p(_(ye,Te),D[1]))),L[2]),p(w(p(_(xe,Oe),L[1]),w(p(_(Se,j),-I[1]),p(_(_e,X),D[1]))),-R[2])),w(p(w(p(_(Be,Le),L[1]),w(p(_(Se,j),-R[1]),p(_(me,V),D[1]))),I[2]),p(w(p(_(ye,Te),L[1]),w(p(_(_e,X),-R[1]),p(_(me,V),I[1]))),-D[2]))),-C[3]),p(w(w(p(w(p(_(xe,Oe),C[1]),w(p(_(Fe,de),-I[1]),p(_(le,ce),D[1]))),L[2]),p(w(p(_(xe,Oe),L[1]),w(p(_(Se,j),-I[1]),p(_(_e,X),D[1]))),-C[2])),w(p(w(p(_(Fe,de),L[1]),w(p(_(Se,j),-C[1]),p(_($,z),D[1]))),I[2]),p(w(p(_(le,ce),L[1]),w(p(_(_e,X),-C[1]),p(_($,z),I[1]))),-D[2]))),R[3]))),w(w(p(w(w(p(w(p(_(Be,Le),C[1]),w(p(_(Fe,de),-R[1]),p(_(we,ue),D[1]))),L[2]),p(w(p(_(Be,Le),L[1]),w(p(_(Se,j),-R[1]),p(_(me,V),D[1]))),-C[2])),w(p(w(p(_(Fe,de),L[1]),w(p(_(Se,j),-C[1]),p(_($,z),D[1]))),R[2]),p(w(p(_(we,ue),L[1]),w(p(_(me,V),-C[1]),p(_($,z),R[1]))),-D[2]))),-I[3]),p(w(w(p(w(p(_(ye,Te),C[1]),w(p(_(le,ce),-R[1]),p(_(we,ue),I[1]))),L[2]),p(w(p(_(ye,Te),L[1]),w(p(_(_e,X),-R[1]),p(_(me,V),I[1]))),-C[2])),w(p(w(p(_(le,ce),L[1]),w(p(_(_e,X),-C[1]),p(_($,z),I[1]))),R[2]),p(w(p(_(we,ue),L[1]),w(p(_(me,V),-C[1]),p(_($,z),R[1]))),-I[2]))),D[3])),w(p(w(w(p(w(p(_(xe,Oe),C[1]),w(p(_(Fe,de),-I[1]),p(_(le,ce),D[1]))),M[2]),p(w(p(_(xe,Oe),M[1]),w(p(_(Pe,K),-I[1]),p(_(fe,te),D[1]))),-C[2])),w(p(w(p(_(Fe,de),M[1]),w(p(_(Pe,K),-C[1]),p(_(ae,ie),D[1]))),I[2]),p(w(p(_(le,ce),M[1]),w(p(_(fe,te),-C[1]),p(_(ae,ie),I[1]))),-D[2]))),L[3]),p(w(w(p(w(p(_(xe,Oe),C[1]),w(p(_(Fe,de),-I[1]),p(_(le,ce),D[1]))),L[2]),p(w(p(_(xe,Oe),L[1]),w(p(_(Se,j),-I[1]),p(_(_e,X),D[1]))),-C[2])),w(p(w(p(_(Fe,de),L[1]),w(p(_(Se,j),-C[1]),p(_($,z),D[1]))),I[2]),p(w(p(_(le,ce),L[1]),w(p(_(_e,X),-C[1]),p(_($,z),I[1]))),-D[2]))),-M[3])))),w(w(w(p(w(w(p(w(p(_(xe,Oe),M[1]),w(p(_(Pe,K),-I[1]),p(_(fe,te),D[1]))),L[2]),p(w(p(_(xe,Oe),L[1]),w(p(_(Se,j),-I[1]),p(_(_e,X),D[1]))),-M[2])),w(p(w(p(_(Pe,K),L[1]),w(p(_(Se,j),-M[1]),p(_(G,q),D[1]))),I[2]),p(w(p(_(fe,te),L[1]),w(p(_(_e,X),-M[1]),p(_(G,q),I[1]))),-D[2]))),C[3]),p(w(w(p(w(p(_(Fe,de),M[1]),w(p(_(Pe,K),-C[1]),p(_(ae,ie),D[1]))),L[2]),p(w(p(_(Fe,de),L[1]),w(p(_(Se,j),-C[1]),p(_($,z),D[1]))),-M[2])),w(p(w(p(_(Pe,K),L[1]),w(p(_(Se,j),-M[1]),p(_(G,q),D[1]))),C[2]),p(w(p(_(ae,ie),L[1]),w(p(_($,z),-M[1]),p(_(G,q),C[1]))),-D[2]))),-I[3])),w(p(w(w(p(w(p(_(le,ce),M[1]),w(p(_(fe,te),-C[1]),p(_(ae,ie),I[1]))),L[2]),p(w(p(_(le,ce),L[1]),w(p(_(_e,X),-C[1]),p(_($,z),I[1]))),-M[2])),w(p(w(p(_(fe,te),L[1]),w(p(_(_e,X),-M[1]),p(_(G,q),I[1]))),C[2]),p(w(p(_(ae,ie),L[1]),w(p(_($,z),-M[1]),p(_(G,q),C[1]))),-I[2]))),D[3]),p(w(w(p(w(p(_(ye,Te),C[1]),w(p(_(le,ce),-R[1]),p(_(we,ue),I[1]))),M[2]),p(w(p(_(ye,Te),M[1]),w(p(_(fe,te),-R[1]),p(_(be,re),I[1]))),-C[2])),w(p(w(p(_(le,ce),M[1]),w(p(_(fe,te),-C[1]),p(_(ae,ie),I[1]))),R[2]),p(w(p(_(we,ue),M[1]),w(p(_(be,re),-C[1]),p(_(ae,ie),R[1]))),-I[2]))),L[3]))),w(w(p(w(w(p(w(p(_(ye,Te),C[1]),w(p(_(le,ce),-R[1]),p(_(we,ue),I[1]))),L[2]),p(w(p(_(ye,Te),L[1]),w(p(_(_e,X),-R[1]),p(_(me,V),I[1]))),-C[2])),w(p(w(p(_(le,ce),L[1]),w(p(_(_e,X),-C[1]),p(_($,z),I[1]))),R[2]),p(w(p(_(we,ue),L[1]),w(p(_(me,V),-C[1]),p(_($,z),R[1]))),-I[2]))),-M[3]),p(w(w(p(w(p(_(ye,Te),M[1]),w(p(_(fe,te),-R[1]),p(_(be,re),I[1]))),L[2]),p(w(p(_(ye,Te),L[1]),w(p(_(_e,X),-R[1]),p(_(me,V),I[1]))),-M[2])),w(p(w(p(_(fe,te),L[1]),w(p(_(_e,X),-M[1]),p(_(G,q),I[1]))),R[2]),p(w(p(_(be,re),L[1]),w(p(_(me,V),-M[1]),p(_(G,q),R[1]))),-I[2]))),C[3])),w(p(w(w(p(w(p(_(le,ce),M[1]),w(p(_(fe,te),-C[1]),p(_(ae,ie),I[1]))),L[2]),p(w(p(_(le,ce),L[1]),w(p(_(_e,X),-C[1]),p(_($,z),I[1]))),-M[2])),w(p(w(p(_(fe,te),L[1]),w(p(_(_e,X),-M[1]),p(_(G,q),I[1]))),C[2]),p(w(p(_(ae,ie),L[1]),w(p(_($,z),-M[1]),p(_(G,q),C[1]))),-I[2]))),-R[3]),p(w(w(p(w(p(_(we,ue),M[1]),w(p(_(be,re),-C[1]),p(_(ae,ie),R[1]))),L[2]),p(w(p(_(we,ue),L[1]),w(p(_(me,V),-C[1]),p(_($,z),R[1]))),-M[2])),w(p(w(p(_(be,re),L[1]),w(p(_(me,V),-M[1]),p(_(G,q),R[1]))),C[2]),p(w(p(_(ae,ie),L[1]),w(p(_($,z),-M[1]),p(_(G,q),C[1]))),-R[2]))),I[3]))))),Ne=_(Me,Ce);return Ne[Ne.length-1]}}var d=[function(){return 0},function(){return 0},function(){return 0}];function y(w){var _=d[w.length];return _||(_=d[w.length]=l(w.length)),_.apply(void 0,w)}function m(w,_,A,p,L,M,C,R){return function(I,D,F,q,z,V){switch(arguments.length){case 0:case 1:return 0;case 2:return p(I,D);case 3:return L(I,D,F);case 4:return M(I,D,F,q);case 5:return C(I,D,F,q,z);case 6:return R(I,D,F,q,z,V)}for(var X=new Array(arguments.length),j=0;j<arguments.length;++j)X[j]=arguments[j];return w(X)}}(function(){for(;d.length<=6;)d.push(l(d.length));c.exports=m.apply(void 0,[y].concat(d));for(var w=0;w<=6;++w)c.exports[w]=d[w]})()},727:function(c,s,n){var i=n(2962);function a(d){return(d===2?r:d===3?o:d===4?l:d===5?u:h)(d<6?i[d]:i)}function r(d){return function(y,m){return[d([[+m[0],+y[0][1]],[+m[1],+y[1][1]]]),d([[+y[0][0],+m[0]],[+y[1][0],+m[1]]]),d(y)]}}function o(d){return function(y,m){return[d([[+m[0],+y[0][1],+y[0][2]],[+m[1],+y[1][1],+y[1][2]],[+m[2],+y[2][1],+y[2][2]]]),d([[+y[0][0],+m[0],+y[0][2]],[+y[1][0],+m[1],+y[1][2]],[+y[2][0],+m[2],+y[2][2]]]),d([[+y[0][0],+y[0][1],+m[0]],[+y[1][0],+y[1][1],+m[1]],[+y[2][0],+y[2][1],+m[2]]]),d(y)]}}function l(d){return function(y,m){return[d([[+m[0],+y[0][1],+y[0][2],+y[0][3]],[+m[1],+y[1][1],+y[1][2],+y[1][3]],[+m[2],+y[2][1],+y[2][2],+y[2][3]],[+m[3],+y[3][1],+y[3][2],+y[3][3]]]),d([[+y[0][0],+m[0],+y[0][2],+y[0][3]],[+y[1][0],+m[1],+y[1][2],+y[1][3]],[+y[2][0],+m[2],+y[2][2],+y[2][3]],[+y[3][0],+m[3],+y[3][2],+y[3][3]]]),d([[+y[0][0],+y[0][1],+m[0],+y[0][3]],[+y[1][0],+y[1][1],+m[1],+y[1][3]],[+y[2][0],+y[2][1],+m[2],+y[2][3]],[+y[3][0],+y[3][1],+m[3],+y[3][3]]]),d([[+y[0][0],+y[0][1],+y[0][2],+m[0]],[+y[1][0],+y[1][1],+y[1][2],+m[1]],[+y[2][0],+y[2][1],+y[2][2],+m[2]],[+y[3][0],+y[3][1],+y[3][2],+m[3]]]),d(y)]}}function u(d){return function(y,m){return[d([[+m[0],+y[0][1],+y[0][2],+y[0][3],+y[0][4]],[+m[1],+y[1][1],+y[1][2],+y[1][3],+y[1][4]],[+m[2],+y[2][1],+y[2][2],+y[2][3],+y[2][4]],[+m[3],+y[3][1],+y[3][2],+y[3][3],+y[3][4]],[+m[4],+y[4][1],+y[4][2],+y[4][3],+y[4][4]]]),d([[+y[0][0],+m[0],+y[0][2],+y[0][3],+y[0][4]],[+y[1][0],+m[1],+y[1][2],+y[1][3],+y[1][4]],[+y[2][0],+m[2],+y[2][2],+y[2][3],+y[2][4]],[+y[3][0],+m[3],+y[3][2],+y[3][3],+y[3][4]],[+y[4][0],+m[4],+y[4][2],+y[4][3],+y[4][4]]]),d([[+y[0][0],+y[0][1],+m[0],+y[0][3],+y[0][4]],[+y[1][0],+y[1][1],+m[1],+y[1][3],+y[1][4]],[+y[2][0],+y[2][1],+m[2],+y[2][3],+y[2][4]],[+y[3][0],+y[3][1],+m[3],+y[3][3],+y[3][4]],[+y[4][0],+y[4][1],+m[4],+y[4][3],+y[4][4]]]),d([[+y[0][0],+y[0][1],+y[0][2],+m[0],+y[0][4]],[+y[1][0],+y[1][1],+y[1][2],+m[1],+y[1][4]],[+y[2][0],+y[2][1],+y[2][2],+m[2],+y[2][4]],[+y[3][0],+y[3][1],+y[3][2],+m[3],+y[3][4]],[+y[4][0],+y[4][1],+y[4][2],+m[4],+y[4][4]]]),d([[+y[0][0],+y[0][1],+y[0][2],+y[0][3],+m[0]],[+y[1][0],+y[1][1],+y[1][2],+y[1][3],+m[1]],[+y[2][0],+y[2][1],+y[2][2],+y[2][3],+m[2]],[+y[3][0],+y[3][1],+y[3][2],+y[3][3],+m[3]],[+y[4][0],+y[4][1],+y[4][2],+y[4][3],+m[4]]]),d(y)]}}function h(d){return function(y,m){return[d([[+m[0],+y[0][1],+y[0][2],+y[0][3],+y[0][4],+y[0][5]],[+m[1],+y[1][1],+y[1][2],+y[1][3],+y[1][4],+y[1][5]],[+m[2],+y[2][1],+y[2][2],+y[2][3],+y[2][4],+y[2][5]],[+m[3],+y[3][1],+y[3][2],+y[3][3],+y[3][4],+y[3][5]],[+m[4],+y[4][1],+y[4][2],+y[4][3],+y[4][4],+y[4][5]],[+m[5],+y[5][1],+y[5][2],+y[5][3],+y[5][4],+y[5][5]]]),d([[+y[0][0],+m[0],+y[0][2],+y[0][3],+y[0][4],+y[0][5]],[+y[1][0],+m[1],+y[1][2],+y[1][3],+y[1][4],+y[1][5]],[+y[2][0],+m[2],+y[2][2],+y[2][3],+y[2][4],+y[2][5]],[+y[3][0],+m[3],+y[3][2],+y[3][3],+y[3][4],+y[3][5]],[+y[4][0],+m[4],+y[4][2],+y[4][3],+y[4][4],+y[4][5]],[+y[5][0],+m[5],+y[5][2],+y[5][3],+y[5][4],+y[5][5]]]),d([[+y[0][0],+y[0][1],+m[0],+y[0][3],+y[0][4],+y[0][5]],[+y[1][0],+y[1][1],+m[1],+y[1][3],+y[1][4],+y[1][5]],[+y[2][0],+y[2][1],+m[2],+y[2][3],+y[2][4],+y[2][5]],[+y[3][0],+y[3][1],+m[3],+y[3][3],+y[3][4],+y[3][5]],[+y[4][0],+y[4][1],+m[4],+y[4][3],+y[4][4],+y[4][5]],[+y[5][0],+y[5][1],+m[5],+y[5][3],+y[5][4],+y[5][5]]]),d([[+y[0][0],+y[0][1],+y[0][2],+m[0],+y[0][4],+y[0][5]],[+y[1][0],+y[1][1],+y[1][2],+m[1],+y[1][4],+y[1][5]],[+y[2][0],+y[2][1],+y[2][2],+m[2],+y[2][4],+y[2][5]],[+y[3][0],+y[3][1],+y[3][2],+m[3],+y[3][4],+y[3][5]],[+y[4][0],+y[4][1],+y[4][2],+m[4],+y[4][4],+y[4][5]],[+y[5][0],+y[5][1],+y[5][2],+m[5],+y[5][4],+y[5][5]]]),d([[+y[0][0],+y[0][1],+y[0][2],+y[0][3],+m[0],+y[0][5]],[+y[1][0],+y[1][1],+y[1][2],+y[1][3],+m[1],+y[1][5]],[+y[2][0],+y[2][1],+y[2][2],+y[2][3],+m[2],+y[2][5]],[+y[3][0],+y[3][1],+y[3][2],+y[3][3],+m[3],+y[3][5]],[+y[4][0],+y[4][1],+y[4][2],+y[4][3],+m[4],+y[4][5]],[+y[5][0],+y[5][1],+y[5][2],+y[5][3],+m[5],+y[5][5]]]),d([[+y[0][0],+y[0][1],+y[0][2],+y[0][3],+y[0][4],+m[0]],[+y[1][0],+y[1][1],+y[1][2],+y[1][3],+y[1][4],+m[1]],[+y[2][0],+y[2][1],+y[2][2],+y[2][3],+y[2][4],+m[2]],[+y[3][0],+y[3][1],+y[3][2],+y[3][3],+y[3][4],+m[3]],[+y[4][0],+y[4][1],+y[4][2],+y[4][3],+y[4][4],+m[4]],[+y[5][0],+y[5][1],+y[5][2],+y[5][3],+y[5][4],+m[5]]]),d(y)]}}var f=[function(){return[[0]]},function(d,y){return[[y[0]],[d[0][0]]]}];function T(d,y,m,w,_,A,p,L){return function(M,C){switch(M.length){case 0:return d(M,C);case 1:return y(M,C);case 2:return m(M,C);case 3:return w(M,C);case 4:return _(M,C);case 5:return A(M,C)}var R=p[M.length];return R||(R=p[M.length]=L(M.length)),R(M,C)}}(function(){for(;f.length<6;)f.push(a(f.length));c.exports=T.apply(void 0,f.concat([f,a]));for(var d=0;d<6;++d)c.exports[d]=f[d]})()},3250:function(c,s,n){var i=n(5250),a=n(8210),r=n(3012),o=n(8545);function l(_,A,p,L){return function(M,C,R){var I=_(_(A(C[1],R[0]),A(-R[1],C[0])),_(A(M[1],C[0]),A(-C[1],M[0]))),D=_(A(M[1],R[0]),A(-R[1],M[0])),F=L(I,D);return F[F.length-1]}}function u(_,A,p,L){return function(M,C,R,I){var D=_(_(p(_(A(R[1],I[0]),A(-I[1],R[0])),C[2]),_(p(_(A(C[1],I[0]),A(-I[1],C[0])),-R[2]),p(_(A(C[1],R[0]),A(-R[1],C[0])),I[2]))),_(p(_(A(C[1],I[0]),A(-I[1],C[0])),M[2]),_(p(_(A(M[1],I[0]),A(-I[1],M[0])),-C[2]),p(_(A(M[1],C[0]),A(-C[1],M[0])),I[2])))),F=_(_(p(_(A(R[1],I[0]),A(-I[1],R[0])),M[2]),_(p(_(A(M[1],I[0]),A(-I[1],M[0])),-R[2]),p(_(A(M[1],R[0]),A(-R[1],M[0])),I[2]))),_(p(_(A(C[1],R[0]),A(-R[1],C[0])),M[2]),_(p(_(A(M[1],R[0]),A(-R[1],M[0])),-C[2]),p(_(A(M[1],C[0]),A(-C[1],M[0])),R[2])))),q=L(D,F);return q[q.length-1]}}function h(_,A,p,L){return function(M,C,R,I,D){var F=_(_(_(p(_(p(_(A(I[1],D[0]),A(-D[1],I[0])),R[2]),_(p(_(A(R[1],D[0]),A(-D[1],R[0])),-I[2]),p(_(A(R[1],I[0]),A(-I[1],R[0])),D[2]))),C[3]),_(p(_(p(_(A(I[1],D[0]),A(-D[1],I[0])),C[2]),_(p(_(A(C[1],D[0]),A(-D[1],C[0])),-I[2]),p(_(A(C[1],I[0]),A(-I[1],C[0])),D[2]))),-R[3]),p(_(p(_(A(R[1],D[0]),A(-D[1],R[0])),C[2]),_(p(_(A(C[1],D[0]),A(-D[1],C[0])),-R[2]),p(_(A(C[1],R[0]),A(-R[1],C[0])),D[2]))),I[3]))),_(p(_(p(_(A(R[1],I[0]),A(-I[1],R[0])),C[2]),_(p(_(A(C[1],I[0]),A(-I[1],C[0])),-R[2]),p(_(A(C[1],R[0]),A(-R[1],C[0])),I[2]))),-D[3]),_(p(_(p(_(A(I[1],D[0]),A(-D[1],I[0])),C[2]),_(p(_(A(C[1],D[0]),A(-D[1],C[0])),-I[2]),p(_(A(C[1],I[0]),A(-I[1],C[0])),D[2]))),M[3]),p(_(p(_(A(I[1],D[0]),A(-D[1],I[0])),M[2]),_(p(_(A(M[1],D[0]),A(-D[1],M[0])),-I[2]),p(_(A(M[1],I[0]),A(-I[1],M[0])),D[2]))),-C[3])))),_(_(p(_(p(_(A(C[1],D[0]),A(-D[1],C[0])),M[2]),_(p(_(A(M[1],D[0]),A(-D[1],M[0])),-C[2]),p(_(A(M[1],C[0]),A(-C[1],M[0])),D[2]))),I[3]),_(p(_(p(_(A(C[1],I[0]),A(-I[1],C[0])),M[2]),_(p(_(A(M[1],I[0]),A(-I[1],M[0])),-C[2]),p(_(A(M[1],C[0]),A(-C[1],M[0])),I[2]))),-D[3]),p(_(p(_(A(R[1],I[0]),A(-I[1],R[0])),C[2]),_(p(_(A(C[1],I[0]),A(-I[1],C[0])),-R[2]),p(_(A(C[1],R[0]),A(-R[1],C[0])),I[2]))),M[3]))),_(p(_(p(_(A(R[1],I[0]),A(-I[1],R[0])),M[2]),_(p(_(A(M[1],I[0]),A(-I[1],M[0])),-R[2]),p(_(A(M[1],R[0]),A(-R[1],M[0])),I[2]))),-C[3]),_(p(_(p(_(A(C[1],I[0]),A(-I[1],C[0])),M[2]),_(p(_(A(M[1],I[0]),A(-I[1],M[0])),-C[2]),p(_(A(M[1],C[0]),A(-C[1],M[0])),I[2]))),R[3]),p(_(p(_(A(C[1],R[0]),A(-R[1],C[0])),M[2]),_(p(_(A(M[1],R[0]),A(-R[1],M[0])),-C[2]),p(_(A(M[1],C[0]),A(-C[1],M[0])),R[2]))),-I[3]))))),q=_(_(_(p(_(p(_(A(I[1],D[0]),A(-D[1],I[0])),R[2]),_(p(_(A(R[1],D[0]),A(-D[1],R[0])),-I[2]),p(_(A(R[1],I[0]),A(-I[1],R[0])),D[2]))),M[3]),p(_(p(_(A(I[1],D[0]),A(-D[1],I[0])),M[2]),_(p(_(A(M[1],D[0]),A(-D[1],M[0])),-I[2]),p(_(A(M[1],I[0]),A(-I[1],M[0])),D[2]))),-R[3])),_(p(_(p(_(A(R[1],D[0]),A(-D[1],R[0])),M[2]),_(p(_(A(M[1],D[0]),A(-D[1],M[0])),-R[2]),p(_(A(M[1],R[0]),A(-R[1],M[0])),D[2]))),I[3]),p(_(p(_(A(R[1],I[0]),A(-I[1],R[0])),M[2]),_(p(_(A(M[1],I[0]),A(-I[1],M[0])),-R[2]),p(_(A(M[1],R[0]),A(-R[1],M[0])),I[2]))),-D[3]))),_(_(p(_(p(_(A(R[1],D[0]),A(-D[1],R[0])),C[2]),_(p(_(A(C[1],D[0]),A(-D[1],C[0])),-R[2]),p(_(A(C[1],R[0]),A(-R[1],C[0])),D[2]))),M[3]),p(_(p(_(A(R[1],D[0]),A(-D[1],R[0])),M[2]),_(p(_(A(M[1],D[0]),A(-D[1],M[0])),-R[2]),p(_(A(M[1],R[0]),A(-R[1],M[0])),D[2]))),-C[3])),_(p(_(p(_(A(C[1],D[0]),A(-D[1],C[0])),M[2]),_(p(_(A(M[1],D[0]),A(-D[1],M[0])),-C[2]),p(_(A(M[1],C[0]),A(-C[1],M[0])),D[2]))),R[3]),p(_(p(_(A(C[1],R[0]),A(-R[1],C[0])),M[2]),_(p(_(A(M[1],R[0]),A(-R[1],M[0])),-C[2]),p(_(A(M[1],C[0]),A(-C[1],M[0])),R[2]))),-D[3])))),z=L(F,q);return z[z.length-1]}}function f(_){return(_===3?l:_===4?u:h)(a,i,r,o)}var T=f(3),d=f(4),y=[function(){return 0},function(){return 0},function(_,A){return A[0]-_[0]},function(_,A,p){var L,M=(_[1]-p[1])*(A[0]-p[0]),C=(_[0]-p[0])*(A[1]-p[1]),R=M-C;if(M>0){if(C<=0)return R;L=M+C}else{if(!(M<0)||C>=0)return R;L=-(M+C)}var I=33306690738754716e-32*L;return R>=I||R<=-I?R:T(_,A,p)},function(_,A,p,L){var M=_[0]-L[0],C=A[0]-L[0],R=p[0]-L[0],I=_[1]-L[1],D=A[1]-L[1],F=p[1]-L[1],q=_[2]-L[2],z=A[2]-L[2],V=p[2]-L[2],X=C*F,j=R*D,H=R*I,G=M*F,ie=M*D,re=C*I,te=q*(X-j)+z*(H-G)+V*(ie-re),K=7771561172376103e-31*((Math.abs(X)+Math.abs(j))*Math.abs(q)+(Math.abs(H)+Math.abs(G))*Math.abs(z)+(Math.abs(ie)+Math.abs(re))*Math.abs(V));return te>K||-te>K?te:d(_,A,p,L)}];function m(_){var A=y[_.length];return A||(A=y[_.length]=f(_.length)),A.apply(void 0,_)}function w(_,A,p,L,M,C,R){return function(I,D,F,q,z){switch(arguments.length){case 0:case 1:return 0;case 2:return L(I,D);case 3:return M(I,D,F);case 4:return C(I,D,F,q);case 5:return R(I,D,F,q,z)}for(var V=new Array(arguments.length),X=0;X<arguments.length;++X)V[X]=arguments[X];return _(V)}}(function(){for(;y.length<=5;)y.push(f(y.length));c.exports=w.apply(void 0,[m].concat(y));for(var _=0;_<=5;++_)c.exports[_]=y[_]})()},5382:function(c,s,n){var i=n(8210),a=n(3012);c.exports=function(r,o){if(r.length===1)return a(o,r[0]);if(o.length===1)return a(r,o[0]);if(r.length===0||o.length===0)return[0];var l=[0];if(r.length<o.length)for(var u=0;u<r.length;++u)l=i(l,a(o,r[u]));else for(u=0;u<o.length;++u)l=i(l,a(r,o[u]));return l}},3012:function(c,s,n){var i=n(5250),a=n(9362);c.exports=function(r,o){var l=r.length;if(l===1){var u=i(r[0],o);return u[0]?u:[u[1]]}var h=new Array(2*l),f=[.1,.1],T=[.1,.1],d=0;i(r[0],o,f),f[0]&&(h[d++]=f[0]);for(var y=1;y<l;++y){i(r[y],o,T);var m=f[1];a(m,T[0],f),f[0]&&(h[d++]=f[0]);var w=T[1],_=f[1],A=w+_,p=_-(A-w);f[1]=A,p&&(h[d++]=p)}return f[1]&&(h[d++]=f[1]),d===0&&(h[d++]=0),h.length=d,h}},1125:function(c,s,n){c.exports=function(a,r,o,l){var u=i(a,o,l),h=i(r,o,l);if(u>0&&h>0||u<0&&h<0)return!1;var f=i(o,a,r),T=i(l,a,r);return!(f>0&&T>0||f<0&&T<0)&&(u!==0||h!==0||f!==0||T!==0||function(d,y,m,w){for(var _=0;_<2;++_){var A=d[_],p=y[_],L=Math.min(A,p),M=Math.max(A,p),C=m[_],R=w[_],I=Math.min(C,R);if(Math.max(C,R)<L||M<I)return!1}return!0}(a,r,o,l))};var i=n(3250)[3]},8545:function(c){c.exports=function(s,n){var i=0|s.length,a=0|n.length;if(i===1&&a===1)return function(I,D){var F=I+D,q=F-I,z=I-(F-q)+(D-q);return z?[z,F]:[F]}(s[0],-n[0]);var r,o,l=new Array(i+a),u=0,h=0,f=0,T=Math.abs,d=s[h],y=T(d),m=-n[f],w=T(m);y<w?(o=d,(h+=1)<i&&(y=T(d=s[h]))):(o=m,(f+=1)<a&&(w=T(m=-n[f]))),h<i&&y<w||f>=a?(r=d,(h+=1)<i&&(y=T(d=s[h]))):(r=m,(f+=1)<a&&(w=T(m=-n[f])));for(var _,A,p=r+o,L=p-r,M=o-L,C=M,R=p;h<i&&f<a;)y<w?(r=d,(h+=1)<i&&(y=T(d=s[h]))):(r=m,(f+=1)<a&&(w=T(m=-n[f]))),(M=(o=C)-(L=(p=r+o)-r))&&(l[u++]=M),C=R-((_=R+p)-(A=_-R))+(p-A),R=_;for(;h<i;)(M=(o=C)-(L=(p=(r=d)+o)-r))&&(l[u++]=M),C=R-((_=R+p)-(A=_-R))+(p-A),R=_,(h+=1)<i&&(d=s[h]);for(;f<a;)(M=(o=C)-(L=(p=(r=m)+o)-r))&&(l[u++]=M),C=R-((_=R+p)-(A=_-R))+(p-A),R=_,(f+=1)<a&&(m=-n[f]);return C&&(l[u++]=C),R&&(l[u++]=R),u||(l[u++]=0),l.length=u,l}},8210:function(c){c.exports=function(s,n){var i=0|s.length,a=0|n.length;if(i===1&&a===1)return function(I,D){var F=I+D,q=F-I,z=I-(F-q)+(D-q);return z?[z,F]:[F]}(s[0],n[0]);var r,o,l=new Array(i+a),u=0,h=0,f=0,T=Math.abs,d=s[h],y=T(d),m=n[f],w=T(m);y<w?(o=d,(h+=1)<i&&(y=T(d=s[h]))):(o=m,(f+=1)<a&&(w=T(m=n[f]))),h<i&&y<w||f>=a?(r=d,(h+=1)<i&&(y=T(d=s[h]))):(r=m,(f+=1)<a&&(w=T(m=n[f])));for(var _,A,p=r+o,L=p-r,M=o-L,C=M,R=p;h<i&&f<a;)y<w?(r=d,(h+=1)<i&&(y=T(d=s[h]))):(r=m,(f+=1)<a&&(w=T(m=n[f]))),(M=(o=C)-(L=(p=r+o)-r))&&(l[u++]=M),C=R-((_=R+p)-(A=_-R))+(p-A),R=_;for(;h<i;)(M=(o=C)-(L=(p=(r=d)+o)-r))&&(l[u++]=M),C=R-((_=R+p)-(A=_-R))+(p-A),R=_,(h+=1)<i&&(d=s[h]);for(;f<a;)(M=(o=C)-(L=(p=(r=m)+o)-r))&&(l[u++]=M),C=R-((_=R+p)-(A=_-R))+(p-A),R=_,(f+=1)<a&&(m=n[f]);return C&&(l[u++]=C),R&&(l[u++]=R),u||(l[u++]=0),l.length=u,l}},9127:function(c,s,n){c.exports=function(r){return a(i(r))};var i=n(6204),a=n(5771)},7765:function(c,s,n){c.exports=function(l,u,h,f){if(h=h||0,f===void 0&&(f=function(p){for(var L=p.length,M=0,C=0;C<L;++C)M=0|Math.max(M,p[C].length);return M-1}(l)),l.length===0||f<1)return{cells:[],vertexIds:[],vertexWeights:[]};var T=function(p,L){for(var M=p.length,C=a.mallocUint8(M),R=0;R<M;++R)C[R]=p[R]<L|0;return C}(u,+h),d=function(p,L){for(var M=p.length,C=L*(L+1)/2*M|0,R=a.mallocUint32(2*C),I=0,D=0;D<M;++D)for(var F=p[D],q=(L=F.length,0);q<L;++q)for(var z=0;z<q;++z){var V=F[z],X=F[q];R[I++]=0|Math.min(V,X),R[I++]=0|Math.max(V,X)}r(i(R,[I/2|0,2]));var j=2;for(D=2;D<I;D+=2)R[D-2]===R[D]&&R[D-1]===R[D+1]||(R[j++]=R[D],R[j++]=R[D+1]);return i(R,[j/2|0,2])}(l,f),y=function(p,L,M,C){for(var R=p.data,I=p.shape[0],D=a.mallocDouble(I),F=0,q=0;q<I;++q){var z=R[2*q],V=R[2*q+1];if(M[z]!==M[V]){var X=L[z],j=L[V];R[2*F]=z,R[2*F+1]=V,D[F++]=(j-C)/(j-X)}}return p.shape[0]=F,i(D,[F])}(d,u,T,+h),m=function(p,L){var M=a.mallocInt32(2*L),C=p.shape[0],R=p.data;M[0]=0;for(var I=0,D=0;D<C;++D){var F=R[2*D];if(F!==I){for(M[2*I+1]=D;++I<F;)M[2*I]=D,M[2*I+1]=D;M[2*I]=D}}for(M[2*I+1]=C;++I<L;)M[2*I]=M[2*I+1]=C;return M}(d,0|u.length),w=o(f)(l,d.data,m,T),_=function(p){for(var L=0|p.shape[0],M=p.data,C=new Array(L),R=0;R<L;++R)C[R]=[M[2*R],M[2*R+1]];return C}(d),A=[].slice.call(y.data,0,y.shape[0]);return a.free(T),a.free(d.data),a.free(y.data),a.free(m),{cells:w,vertexIds:_,vertexWeights:A}};var i=n(9618),a=n(1888),r=n(446),o=n(1570)},1570:function(c){c.exports=function(n){return s[n]()};var s=[function(){return function(n,i,a,r){for(var o=n.length,l=0;l<o;++l)n[l].length;return[]}},function(){function n(i,a,r,o){for(var l=0|Math.min(r,o),u=0|Math.max(r,o),h=i[2*l],f=i[2*l+1];h<f;){var T=h+f>>1,d=a[2*T+1];if(d===u)return T;u<d?f=T:h=T+1}return h}return function(i,a,r,o){for(var l=i.length,u=[],h=0;h<l;++h){var f=i[h];if(f.length===2){var T=(o[f[0]]<<0)+(o[f[1]]<<1);if(T===0||T===3)continue;switch(T){case 0:case 3:break;case 1:u.push([n(r,a,f[0],f[1])]);break;case 2:u.push([n(r,a,f[1],f[0])])}}}return u}},function(){function n(i,a,r,o){for(var l=0|Math.min(r,o),u=0|Math.max(r,o),h=i[2*l],f=i[2*l+1];h<f;){var T=h+f>>1,d=a[2*T+1];if(d===u)return T;u<d?f=T:h=T+1}return h}return function(i,a,r,o){for(var l=i.length,u=[],h=0;h<l;++h){var f=i[h],T=f.length;if(T===3){if((d=(o[f[0]]<<0)+(o[f[1]]<<1)+(o[f[2]]<<2))==0||d===7)continue;switch(d){case 0:case 7:break;case 1:u.push([n(r,a,f[0],f[2]),n(r,a,f[0],f[1])]);break;case 2:u.push([n(r,a,f[1],f[0]),n(r,a,f[1],f[2])]);break;case 3:u.push([n(r,a,f[0],f[2]),n(r,a,f[1],f[2])]);break;case 4:u.push([n(r,a,f[2],f[1]),n(r,a,f[2],f[0])]);break;case 5:u.push([n(r,a,f[2],f[1]),n(r,a,f[0],f[1])]);break;case 6:u.push([n(r,a,f[1],f[0]),n(r,a,f[2],f[0])])}}else if(T===2){var d;if((d=(o[f[0]]<<0)+(o[f[1]]<<1))==0||d===3)continue;switch(d){case 0:case 3:break;case 1:u.push([n(r,a,f[0],f[1])]);break;case 2:u.push([n(r,a,f[1],f[0])])}}}return u}},function(){function n(i,a,r,o){for(var l=0|Math.min(r,o),u=0|Math.max(r,o),h=i[2*l],f=i[2*l+1];h<f;){var T=h+f>>1,d=a[2*T+1];if(d===u)return T;u<d?f=T:h=T+1}return h}return function(i,a,r,o){for(var l=i.length,u=[],h=0;h<l;++h){var f=i[h],T=f.length;if(T===4){if((d=(o[f[0]]<<0)+(o[f[1]]<<1)+(o[f[2]]<<2)+(o[f[3]]<<3))==0||d===15)continue;switch(d){case 0:case 15:break;case 1:u.push([n(r,a,f[0],f[1]),n(r,a,f[0],f[2]),n(r,a,f[0],f[3])]);break;case 2:u.push([n(r,a,f[1],f[2]),n(r,a,f[1],f[0]),n(r,a,f[1],f[3])]);break;case 3:u.push([n(r,a,f[1],f[2]),n(r,a,f[0],f[2]),n(r,a,f[0],f[3])],[n(r,a,f[1],f[3]),n(r,a,f[1],f[2]),n(r,a,f[0],f[3])]);break;case 4:u.push([n(r,a,f[2],f[0]),n(r,a,f[2],f[1]),n(r,a,f[2],f[3])]);break;case 5:u.push([n(r,a,f[0],f[1]),n(r,a,f[2],f[1]),n(r,a,f[0],f[3])],[n(r,a,f[2],f[1]),n(r,a,f[2],f[3]),n(r,a,f[0],f[3])]);break;case 6:u.push([n(r,a,f[2],f[0]),n(r,a,f[1],f[0]),n(r,a,f[1],f[3])],[n(r,a,f[2],f[3]),n(r,a,f[2],f[0]),n(r,a,f[1],f[3])]);break;case 7:u.push([n(r,a,f[0],f[3]),n(r,a,f[1],f[3]),n(r,a,f[2],f[3])]);break;case 8:u.push([n(r,a,f[3],f[1]),n(r,a,f[3],f[0]),n(r,a,f[3],f[2])]);break;case 9:u.push([n(r,a,f[3],f[1]),n(r,a,f[0],f[1]),n(r,a,f[0],f[2])],[n(r,a,f[3],f[2]),n(r,a,f[3],f[1]),n(r,a,f[0],f[2])]);break;case 10:u.push([n(r,a,f[1],f[0]),n(r,a,f[3],f[0]),n(r,a,f[1],f[2])],[n(r,a,f[3],f[0]),n(r,a,f[3],f[2]),n(r,a,f[1],f[2])]);break;case 11:u.push([n(r,a,f[1],f[2]),n(r,a,f[0],f[2]),n(r,a,f[3],f[2])]);break;case 12:u.push([n(r,a,f[3],f[0]),n(r,a,f[2],f[0]),n(r,a,f[2],f[1])],[n(r,a,f[3],f[1]),n(r,a,f[3],f[0]),n(r,a,f[2],f[1])]);break;case 13:u.push([n(r,a,f[0],f[1]),n(r,a,f[2],f[1]),n(r,a,f[3],f[1])]);break;case 14:u.push([n(r,a,f[2],f[0]),n(r,a,f[1],f[0]),n(r,a,f[3],f[0])])}}else if(T===3){if((d=(o[f[0]]<<0)+(o[f[1]]<<1)+(o[f[2]]<<2))==0||d===7)continue;switch(d){case 0:case 7:break;case 1:u.push([n(r,a,f[0],f[2]),n(r,a,f[0],f[1])]);break;case 2:u.push([n(r,a,f[1],f[0]),n(r,a,f[1],f[2])]);break;case 3:u.push([n(r,a,f[0],f[2]),n(r,a,f[1],f[2])]);break;case 4:u.push([n(r,a,f[2],f[1]),n(r,a,f[2],f[0])]);break;case 5:u.push([n(r,a,f[2],f[1]),n(r,a,f[0],f[1])]);break;case 6:u.push([n(r,a,f[1],f[0]),n(r,a,f[2],f[0])])}}else if(T===2){var d;if((d=(o[f[0]]<<0)+(o[f[1]]<<1))==0||d===3)continue;switch(d){case 0:case 3:break;case 1:u.push([n(r,a,f[0],f[1])]);break;case 2:u.push([n(r,a,f[1],f[0])])}}}return u}}]},6803:function(c,s,n){n(8828),n(1755);function i(a,r){var o=a.length,l=a.length-r.length,u=Math.min;if(l)return l;switch(o){case 0:return 0;case 1:return a[0]-r[0];case 2:return(T=a[0]+a[1]-r[0]-r[1])||u(a[0],a[1])-u(r[0],r[1]);case 3:var h=a[0]+a[1],f=r[0]+r[1];if(T=h+a[2]-(f+r[2]))return T;var T,d=u(a[0],a[1]),y=u(r[0],r[1]);return(T=u(d,a[2])-u(y,r[2]))||u(d+a[2],h)-u(y+r[2],f);default:var m=a.slice(0);m.sort();var w=r.slice(0);w.sort();for(var _=0;_<o;++_)if(l=m[_]-w[_])return l;return 0}}s.Fw=i},3105:function(c,s){function n(a){var r=32;return(a&=-a)&&r--,65535&a&&(r-=16),16711935&a&&(r-=8),252645135&a&&(r-=4),858993459&a&&(r-=2),1431655765&a&&(r-=1),r}s.INT_BITS=32,s.INT_MAX=2147483647,s.INT_MIN=-2147483648,s.sign=function(a){return(a>0)-(a<0)},s.abs=function(a){var r=a>>31;return(a^r)-r},s.min=function(a,r){return r^(a^r)&-(a<r)},s.max=function(a,r){return a^(a^r)&-(a<r)},s.isPow2=function(a){return!(a&a-1||!a)},s.log2=function(a){var r,o;return r=(a>65535)<<4,r|=o=((a>>>=r)>255)<<3,r|=o=((a>>>=o)>15)<<2,(r|=o=((a>>>=o)>3)<<1)|(a>>>=o)>>1},s.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},s.popCount=function(a){return 16843009*((a=(858993459&(a-=a>>>1&1431655765))+(a>>>2&858993459))+(a>>>4)&252645135)>>>24},s.countTrailingZeros=n,s.nextPow2=function(a){return a+=a===0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,1+(a|=a>>>16)},s.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,(a|=a>>>16)-(a>>>1)},s.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,27030>>>(a&=15)&1};var i=new Array(256);(function(a){for(var r=0;r<256;++r){var o=r,l=r,u=7;for(o>>>=1;o;o>>>=1)l<<=1,l|=1&o,--u;a[r]=l<<u&255}})(i),s.reverse=function(a){return i[255&a]<<24|i[a>>>8&255]<<16|i[a>>>16&255]<<8|i[a>>>24&255]},s.interleave2=function(a,r){return(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a&=65535)|a<<8))|a<<4))|a<<2))|a<<1))|(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r&=65535)|r<<8))|r<<4))|r<<2))|r<<1))<<1},s.deinterleave2=function(a,r){return(a=65535&((a=16711935&((a=252645135&((a=858993459&((a=a>>>r&1431655765)|a>>>1))|a>>>2))|a>>>4))|a>>>16))<<16>>16},s.interleave3=function(a,r,o){return a=1227133513&((a=3272356035&((a=251719695&((a=4278190335&((a&=1023)|a<<16))|a<<8))|a<<4))|a<<2),(a|=(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<1)|(o=1227133513&((o=3272356035&((o=251719695&((o=4278190335&((o&=1023)|o<<16))|o<<8))|o<<4))|o<<2))<<2},s.deinterleave3=function(a,r){return(a=1023&((a=4278190335&((a=251719695&((a=3272356035&((a=a>>>r&1227133513)|a>>>2))|a>>>4))|a>>>8))|a>>>16))<<22>>22},s.nextCombination=function(a){var r=a|a-1;return r+1|(~r&-~r)-1>>>n(a)+1}},2014:function(c,s,n){var i=n(3105),a=n(4623);function r(d,y){var m=d.length,w=d.length-y.length,_=Math.min;if(w)return w;switch(m){case 0:return 0;case 1:return d[0]-y[0];case 2:return(L=d[0]+d[1]-y[0]-y[1])||_(d[0],d[1])-_(y[0],y[1]);case 3:var A=d[0]+d[1],p=y[0]+y[1];if(L=A+d[2]-(p+y[2]))return L;var L,M=_(d[0],d[1]),C=_(y[0],y[1]);return(L=_(M,d[2])-_(C,y[2]))||_(M+d[2],A)-_(C+y[2],p);default:var R=d.slice(0);R.sort();var I=y.slice(0);I.sort();for(var D=0;D<m;++D)if(w=R[D]-I[D])return w;return 0}}function o(d,y){return r(d[0],y[0])}function l(d,y){if(y){for(var m=d.length,w=new Array(m),_=0;_<m;++_)w[_]=[d[_],y[_]];for(w.sort(o),_=0;_<m;++_)d[_]=w[_][0],y[_]=w[_][1];return d}return d.sort(r),d}function u(d){if(d.length===0)return[];for(var y=1,m=d.length,w=1;w<m;++w){var _=d[w];if(r(_,d[w-1])){if(w===y){y++;continue}d[y++]=_}}return d.length=y,d}function h(d,y){for(var m=0,w=d.length-1,_=-1;m<=w;){var A=m+w>>1,p=r(d[A],y);p<=0?(p===0&&(_=A),m=A+1):p>0&&(w=A-1)}return _}function f(d,y){for(var m=new Array(d.length),w=0,_=m.length;w<_;++w)m[w]=[];for(var A=[],p=(w=0,y.length);w<p;++w)for(var L=y[w],M=L.length,C=1,R=1<<M;C<R;++C){A.length=i.popCount(C);for(var I=0,D=0;D<M;++D)C&1<<D&&(A[I++]=L[D]);var F=h(d,A);if(!(F<0))for(;m[F++].push(w),!(F>=d.length||r(d[F],A)!==0););}return m}function T(d,y){if(y<0)return[];for(var m=[],w=(1<<y+1)-1,_=0;_<d.length;++_)for(var A=d[_],p=w;p<1<<A.length;p=i.nextCombination(p)){for(var L=new Array(y+1),M=0,C=0;C<A.length;++C)p&1<<C&&(L[M++]=A[C]);m.push(L)}return l(m)}s.dimension=function(d){for(var y=0,m=Math.max,w=0,_=d.length;w<_;++w)y=m(y,d[w].length);return y-1},s.countVertices=function(d){for(var y=-1,m=Math.max,w=0,_=d.length;w<_;++w)for(var A=d[w],p=0,L=A.length;p<L;++p)y=m(y,A[p]);return y+1},s.cloneCells=function(d){for(var y=new Array(d.length),m=0,w=d.length;m<w;++m)y[m]=d[m].slice(0);return y},s.compareCells=r,s.normalize=l,s.unique=u,s.findCell=h,s.incidence=f,s.dual=function(d,y){if(!y)return f(u(T(d,0)),d);for(var m=new Array(y),w=0;w<y;++w)m[w]=[];w=0;for(var _=d.length;w<_;++w)for(var A=d[w],p=0,L=A.length;p<L;++p)m[A[p]].push(w);return m},s.explode=function(d){for(var y=[],m=0,w=d.length;m<w;++m)for(var _=d[m],A=0|_.length,p=1,L=1<<A;p<L;++p){for(var M=[],C=0;C<A;++C)p>>>C&1&&M.push(_[C]);y.push(M)}return l(y)},s.skeleton=T,s.boundary=function(d){for(var y=[],m=0,w=d.length;m<w;++m)for(var _=d[m],A=0,p=_.length;A<p;++A){for(var L=new Array(_.length-1),M=0,C=0;M<p;++M)M!==A&&(L[C++]=_[M]);y.push(L)}return l(y)},s.connectedComponents=function(d,y){return y?function(m,w){for(var _=new a(w),A=0;A<m.length;++A)for(var p=m[A],L=0;L<p.length;++L)for(var M=L+1;M<p.length;++M)_.link(p[L],p[M]);var C=[],R=_.ranks;for(A=0;A<R.length;++A)R[A]=-1;for(A=0;A<m.length;++A){var I=_.find(m[A][0]);R[I]<0?(R[I]=C.length,C.push([m[A].slice(0)])):C[R[I]].push(m[A].slice(0))}return C}(d,y):function(m){for(var w=u(l(T(m,0))),_=new a(w.length),A=0;A<m.length;++A)for(var p=m[A],L=0;L<p.length;++L)for(var M=h(w,[p[L]]),C=L+1;C<p.length;++C)_.link(M,h(w,[p[C]]));var R=[],I=_.ranks;for(A=0;A<I.length;++A)I[A]=-1;for(A=0;A<m.length;++A){var D=_.find(h(w,[m[A][0]]));I[D]<0?(I[D]=R.length,R.push([m[A].slice(0)])):R[I[D]].push(m[A].slice(0))}return R}(d)}},4623:function(c){function s(n){this.roots=new Array(n),this.ranks=new Array(n);for(var i=0;i<n;++i)this.roots[i]=i,this.ranks[i]=0}c.exports=s,s.prototype.length=function(){return this.roots.length},s.prototype.makeSet=function(){var n=this.roots.length;return this.roots.push(n),this.ranks.push(0),n},s.prototype.find=function(n){for(var i=this.roots;i[n]!==n;){var a=i[n];i[n]=i[a],n=a}return n},s.prototype.link=function(n,i){var a=this.find(n),r=this.find(i);if(a!==r){var o=this.ranks,l=this.roots,u=o[a],h=o[r];u<h?l[a]=r:h<u?l[r]=a:(l[r]=a,++o[a])}}},5878:function(c,s,n){c.exports=function(r,o,l){for(var u=o.length,h=r.length,f=new Array(u),T=new Array(u),d=new Array(u),y=new Array(u),m=0;m<u;++m)f[m]=T[m]=-1,d[m]=1/0,y[m]=!1;for(m=0;m<h;++m){var w=r[m];if(w.length!==2)throw new Error("Input must be a graph");var _=w[1],A=w[0];T[A]!==-1?T[A]=-2:T[A]=_,f[_]!==-1?f[_]=-2:f[_]=A}function p(re){if(y[re])return 1/0;var te,K,J,$=f[re],ae=T[re];return $<0||ae<0?1/0:(te=o[re],K=o[$],J=o[ae],Math.abs(i(te,K,J))/Math.sqrt(Math.pow(K[0]-J[0],2)+Math.pow(K[1]-J[1],2)))}function L(re,te){var K=z[re],J=z[te];z[re]=J,z[te]=K,V[K]=te,V[J]=re}function M(re){return d[z[re]]}function C(re){return 1&re?re-1>>1:(re>>1)-1}function R(re){for(var te=M(re);;){var K=te,J=2*re+1,$=2*(re+1),ae=re;if(J<X){var ue=M(J);ue<K&&(ae=J,K=ue)}if($<X&&M($)<K&&(ae=$),ae===re)return re;L(re,ae),re=ae}}function I(re){for(var te=M(re);re>0;){var K=C(re);if(!(K>=0&&te<M(K)))return re;L(re,K),re=K}}function D(){if(X>0){var re=z[0];return L(0,X-1),X-=1,R(0),re}return-1}function F(re,te){var K=z[re];return d[K]===te?re:(d[K]=-1/0,I(re),D(),d[K]=te,I((X+=1)-1))}function q(re){if(!y[re]){y[re]=!0;var te=f[re],K=T[re];f[K]>=0&&(f[K]=te),T[te]>=0&&(T[te]=K),V[te]>=0&&F(V[te],p(te)),V[K]>=0&&F(V[K],p(K))}}var z=[],V=new Array(u);for(m=0;m<u;++m)(d[m]=p(m))<1/0?(V[m]=z.length,z.push(m)):V[m]=-1;var X=z.length;for(m=X>>1;m>=0;--m)R(m);for(;;){var j=D();if(j<0||d[j]>l)break;q(j)}var H=[];for(m=0;m<u;++m)y[m]||(V[m]=H.length,H.push(o[m].slice()));function G(re,te){if(re[te]<0)return te;var K=te,J=te;do{var $=re[J];if(!y[J]||$<0||$===J||($=re[J=$],!y[J]||$<0||$===J))break;J=$,K=re[K]}while(K!==J);for(var ae=te;ae!==J;ae=re[ae])re[ae]=J;return J}H.length;var ie=[];return r.forEach(function(re){var te=G(f,re[0]),K=G(T,re[1]);if(te>=0&&K>=0&&te!==K){var J=V[te],$=V[K];J!==$&&ie.push([J,$])}}),a.unique(a.normalize(ie)),{positions:H,edges:ie}};var i=n(3250),a=n(2014)},1303:function(c,s,n){c.exports=function(r,o){var l,u,h,f;if(o[0][0]<o[1][0])l=o[0],u=o[1];else{if(!(o[0][0]>o[1][0]))return a(o,r);l=o[1],u=o[0]}if(r[0][0]<r[1][0])h=r[0],f=r[1];else{if(!(r[0][0]>r[1][0]))return-a(r,o);h=r[1],f=r[0]}var T=i(l,u,f),d=i(l,u,h);if(T<0){if(d<=0)return T}else if(T>0){if(d>=0)return T}else if(d)return d;if(T=i(f,h,u),d=i(f,h,l),T<0){if(d<=0)return T}else if(T>0){if(d>=0)return T}else if(d)return d;return u[0]-f[0]};var i=n(3250);function a(r,o){var l,u,h,f;if(o[0][0]<o[1][0])l=o[0],u=o[1];else{if(!(o[0][0]>o[1][0])){var T=Math.min(r[0][1],r[1][1]),d=Math.max(r[0][1],r[1][1]),y=Math.min(o[0][1],o[1][1]),m=Math.max(o[0][1],o[1][1]);return d<y?d-y:T>m?T-m:d-m}l=o[1],u=o[0]}r[0][1]<r[1][1]?(h=r[0],f=r[1]):(h=r[1],f=r[0]);var w=i(u,l,h);return w||(w=i(u,l,f))||f-u}},4209:function(c,s,n){c.exports=function(d){for(var y=d.length,m=2*y,w=new Array(m),_=0;_<y;++_){var A=d[_],p=A[0][0]<A[1][0];w[2*_]=new T(A[0][0],A,p,_),w[2*_+1]=new T(A[1][0],A,!p,_)}w.sort(function(q,z){var V=q.x-z.x;return V||(V=q.create-z.create)||Math.min(q.segment[0][1],q.segment[1][1])-Math.min(z.segment[0][1],z.segment[1][1])});var L=a(o),M=[],C=[],R=[];for(_=0;_<m;){for(var I=w[_].x,D=[];_<m;){var F=w[_];if(F.x!==I)break;_+=1,F.segment[0][0]===F.x&&F.segment[1][0]===F.x?F.create&&(F.segment[0][1]<F.segment[1][1]?(D.push(new f(F.segment[0][1],F.index,!0,!0)),D.push(new f(F.segment[1][1],F.index,!1,!1))):(D.push(new f(F.segment[1][1],F.index,!0,!1)),D.push(new f(F.segment[0][1],F.index,!1,!0)))):L=F.create?L.insert(F.segment,F.index):L.remove(F.segment)}M.push(L.root),C.push(I),R.push(D)}return new l(M,C,R)};var i=n(2478),a=n(3840),r=n(3250),o=n(1303);function l(d,y,m){this.slabs=d,this.coordinates=y,this.horizontal=m}function u(d,y){return d.y-y}function h(d,y){for(var m=null;d;){var w,_,A=d.key;A[0][0]<A[1][0]?(w=A[0],_=A[1]):(w=A[1],_=A[0]);var p=r(w,_,y);if(p<0)d=d.left;else if(p>0)if(y[0]!==A[1][0])m=d,d=d.right;else{if(L=h(d.right,y))return L;d=d.left}else{if(y[0]!==A[1][0])return d;var L;if(L=h(d.right,y))return L;d=d.left}}return m}function f(d,y,m,w){this.y=d,this.index=y,this.start=m,this.closed=w}function T(d,y,m,w){this.x=d,this.segment=y,this.create=m,this.index=w}l.prototype.castUp=function(d){var y=i.le(this.coordinates,d[0]);if(y<0)return-1;this.slabs[y];var m=h(this.slabs[y],d),w=-1;if(m&&(w=m.value),this.coordinates[y]===d[0]){var _=null;if(m&&(_=m.key),y>0){var A=h(this.slabs[y-1],d);A&&(_?o(A.key,_)>0&&(_=A.key,w=A.value):(w=A.value,_=A.key))}var p=this.horizontal[y];if(p.length>0){var L=i.ge(p,d[1],u);if(L<p.length){var M=p[L];if(d[1]===M.y){if(M.closed)return M.index;for(;L<p.length-1&&p[L+1].y===d[1];)if((M=p[L+=1]).closed)return M.index;if(M.y===d[1]&&!M.start){if((L+=1)>=p.length)return w;M=p[L]}}if(M.start)if(_){var C=r(_[0],_[1],[d[0],M.y]);_[0][0]>_[1][0]&&(C=-C),C>0&&(w=M.index)}else w=M.index;else M.y!==d[1]&&(w=M.index)}}}return w}},5202:function(c,s,n){var i=n(1944),a=n(8210);function r(l,u){var h=a(i(l,u),[u[u.length-1]]);return h[h.length-1]}function o(l,u,h,f){var T=-u/(f-u);T<0?T=0:T>1&&(T=1);for(var d=1-T,y=l.length,m=new Array(y),w=0;w<y;++w)m[w]=T*l[w]+d*h[w];return m}c.exports=function(l,u){for(var h=[],f=[],T=r(l[l.length-1],u),d=l[l.length-1],y=l[0],m=0;m<l.length;++m,d=y){var w=r(y=l[m],u);if(T<0&&w>0||T>0&&w<0){var _=o(d,w,y,T);h.push(_),f.push(_.slice())}w<0?f.push(y.slice()):w>0?h.push(y.slice()):(h.push(y.slice()),f.push(y.slice())),T=w}return{positive:h,negative:f}},c.exports.positive=function(l,u){for(var h=[],f=r(l[l.length-1],u),T=l[l.length-1],d=l[0],y=0;y<l.length;++y,T=d){var m=r(d=l[y],u);(f<0&&m>0||f>0&&m<0)&&h.push(o(T,m,d,f)),m>=0&&h.push(d.slice()),f=m}return h},c.exports.negative=function(l,u){for(var h=[],f=r(l[l.length-1],u),T=l[l.length-1],d=l[0],y=0;y<l.length;++y,T=d){var m=r(d=l[y],u);(f<0&&m>0||f>0&&m<0)&&h.push(o(T,m,d,f)),m<=0&&h.push(d.slice()),f=m}return h}},3387:function(c,s,n){var i;(function(){var a={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function r(u){return function(h,f){var T,d,y,m,w,_,A,p,L,M=1,C=h.length,R="";for(d=0;d<C;d++)if(typeof h[d]=="string")R+=h[d];else if(typeof h[d]=="object"){if((m=h[d]).keys)for(T=f[M],y=0;y<m.keys.length;y++){if(T==null)throw new Error(r('[sprintf] Cannot access property "%s" of undefined value "%s"',m.keys[y],m.keys[y-1]));T=T[m.keys[y]]}else T=m.param_no?f[m.param_no]:f[M++];if(a.not_type.test(m.type)&&a.not_primitive.test(m.type)&&T instanceof Function&&(T=T()),a.numeric_arg.test(m.type)&&typeof T!="number"&&isNaN(T))throw new TypeError(r("[sprintf] expecting number but found %T",T));switch(a.number.test(m.type)&&(p=T>=0),m.type){case"b":T=parseInt(T,10).toString(2);break;case"c":T=String.fromCharCode(parseInt(T,10));break;case"d":case"i":T=parseInt(T,10);break;case"j":T=JSON.stringify(T,null,m.width?parseInt(m.width):0);break;case"e":T=m.precision?parseFloat(T).toExponential(m.precision):parseFloat(T).toExponential();break;case"f":T=m.precision?parseFloat(T).toFixed(m.precision):parseFloat(T);break;case"g":T=m.precision?String(Number(T.toPrecision(m.precision))):parseFloat(T);break;case"o":T=(parseInt(T,10)>>>0).toString(8);break;case"s":T=String(T),T=m.precision?T.substring(0,m.precision):T;break;case"t":T=String(!!T),T=m.precision?T.substring(0,m.precision):T;break;case"T":T=Object.prototype.toString.call(T).slice(8,-1).toLowerCase(),T=m.precision?T.substring(0,m.precision):T;break;case"u":T=parseInt(T,10)>>>0;break;case"v":T=T.valueOf(),T=m.precision?T.substring(0,m.precision):T;break;case"x":T=(parseInt(T,10)>>>0).toString(16);break;case"X":T=(parseInt(T,10)>>>0).toString(16).toUpperCase()}a.json.test(m.type)?R+=T:(!a.number.test(m.type)||p&&!m.sign?L="":(L=p?"+":"-",T=T.toString().replace(a.sign,"")),_=m.pad_char?m.pad_char==="0"?"0":m.pad_char.charAt(1):" ",A=m.width-(L+T).length,w=m.width&&A>0?_.repeat(A):"",R+=m.align?L+T+w:_==="0"?L+w+T:w+L+T)}return R}(function(h){if(l[h])return l[h];for(var f,T=h,d=[],y=0;T;){if((f=a.text.exec(T))!==null)d.push(f[0]);else if((f=a.modulo.exec(T))!==null)d.push("%");else{if((f=a.placeholder.exec(T))===null)throw new SyntaxError("[sprintf] unexpected placeholder");if(f[2]){y|=1;var m=[],w=f[2],_=[];if((_=a.key.exec(w))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");for(m.push(_[1]);(w=w.substring(_[0].length))!=="";)if((_=a.key_access.exec(w))!==null)m.push(_[1]);else{if((_=a.index_access.exec(w))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");m.push(_[1])}f[2]=m}else y|=2;if(y===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");d.push({placeholder:f[0],param_no:f[1],keys:f[2],sign:f[3],pad_char:f[4],align:f[5],width:f[6],precision:f[7],type:f[8]})}T=T.substring(f[0].length)}return l[h]=d}(u),arguments)}function o(u,h){return r.apply(null,[u].concat(h||[]))}var l=Object.create(null);s.sprintf=r,s.vsprintf=o,typeof window<"u"&&(window.sprintf=r,window.vsprintf=o,(i=(function(){return{sprintf:r,vsprintf:o}}).call(s,n,s,c))===void 0||(c.exports=i))})()},3711:function(c,s,n){c.exports=function(l,u){if(l.dimension<=0)return{positions:[],cells:[]};if(l.dimension===1)return function(T,d){for(var y=a(T,d),m=y.length,w=new Array(m),_=new Array(m),A=0;A<m;++A)w[A]=[y[A]],_[A]=[A];return{positions:w,cells:_}}(l,u);var h=l.order.join()+"-"+l.dtype,f=o[h];return u=+u||0,f||(f=o[h]=function(T,d){var y=T.length+"d",m=r[y];if(m)return m(i,T,d)}(l.order,l.dtype)),f(l,u)};var i=n(2640),a=n(781),r={"2d":function(l,u,h){var f=l({order:u,scalarArguments:3,getters:h==="generic"?[0]:void 0,phase:function(T,d,y,m){return T>m|0},vertex:function(T,d,y,m,w,_,A,p,L,M,C,R,I){var D=(A<<0)+(p<<1)+(L<<2)+(M<<3)|0;if(D!==0&&D!==15)switch(D){case 0:case 15:C.push([T-.5,d-.5]);break;case 1:C.push([T-.25-.25*(m+y-2*I)/(y-m),d-.25-.25*(w+y-2*I)/(y-w)]);break;case 2:C.push([T-.75-.25*(-m-y+2*I)/(m-y),d-.25-.25*(_+m-2*I)/(m-_)]);break;case 3:C.push([T-.5,d-.5-.5*(w+y+_+m-4*I)/(y-w+m-_)]);break;case 4:C.push([T-.25-.25*(_+w-2*I)/(w-_),d-.75-.25*(-w-y+2*I)/(w-y)]);break;case 5:C.push([T-.5-.5*(m+y+_+w-4*I)/(y-m+w-_),d-.5]);break;case 6:C.push([T-.5-.25*(-m-y+_+w)/(m-y+w-_),d-.5-.25*(-w-y+_+m)/(w-y+m-_)]);break;case 7:C.push([T-.75-.25*(_+w-2*I)/(w-_),d-.75-.25*(_+m-2*I)/(m-_)]);break;case 8:C.push([T-.75-.25*(-_-w+2*I)/(_-w),d-.75-.25*(-_-m+2*I)/(_-m)]);break;case 9:C.push([T-.5-.25*(m+y+-_-w)/(y-m+_-w),d-.5-.25*(w+y+-_-m)/(y-w+_-m)]);break;case 10:C.push([T-.5-.5*(-m-y-_-w+4*I)/(m-y+_-w),d-.5]);break;case 11:C.push([T-.25-.25*(-_-w+2*I)/(_-w),d-.75-.25*(w+y-2*I)/(y-w)]);break;case 12:C.push([T-.5,d-.5-.5*(-w-y-_-m+4*I)/(w-y+_-m)]);break;case 13:C.push([T-.75-.25*(m+y-2*I)/(y-m),d-.25-.25*(-_-m+2*I)/(_-m)]);break;case 14:C.push([T-.25-.25*(-m-y+2*I)/(m-y),d-.25-.25*(-w-y+2*I)/(w-y)])}},cell:function(T,d,y,m,w,_,A,p,L){w?p.push([T,d]):p.push([d,T])}});return function(T,d){var y=[],m=[];return f(T,y,m,d),{positions:y,cells:m}}}},o={}},529:function(c,s,n){c.exports=function o(l,u,h){var f=(h=h||{}).fontStyle||"normal",T=h.fontWeight||"normal",d=h.fontVariant||"normal",y=[f,T,d,l].join("_"),m=r[y];m||(m=r[y]={" ":{data:new Float32Array(0),shape:.2}});var w=m[u];if(!w)if(u.length<=1||!/\d/.test(u))w=m[u]=function(q){for(var z=q.cells,V=q.positions,X=new Float32Array(6*z.length),j=0,H=0,G=0;G<z.length;++G)for(var ie=z[G],re=0;re<3;++re){var te=V[ie[re]];X[j++]=te[0],X[j++]=te[1]+1.4,H=Math.max(te[0],H)}return{data:X,shape:H}}(i(u,{triangles:!0,font:l,fontStyle:f,fontWeight:T,fontVariant:d,textAlign:h.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var _=u.split(/(\d|\s)/),A=new Array(_.length),p=0,L=0,M=0;M<_.length;++M)A[M]=o(l,_[M]),p+=A[M].data.length,L+=A[M].shape,M>0&&(L+=.02);var C=new Float32Array(p),R=0,I=-.5*L;for(M=0;M<A.length;++M){for(var D=A[M].data,F=0;F<D.length;F+=2)C[R++]=D[F]+I,C[R++]=D[F+1];I+=A[M].shape+.02}w=m[u]={data:C,shape:L}}return w};var i=n(4359),a=window||v.global||{},r=a.__TEXT_CACHE||{};a.__TEXT_CACHE={}},665:function(c,s,n){var i=n(3202);c.exports=o;var a=96;function r(l,u){var h=i(getComputedStyle(l).getPropertyValue(u));return h[0]*o(h[1],l)}function o(l,u){switch(u=u||document.body,l=(l||"px").trim().toLowerCase(),u!==window&&u!==document||(u=document.body),l){case"%":return u.clientHeight/100;case"ch":case"ex":return function(h,f){var T=document.createElement("div");T.style["font-size"]="128"+h,f.appendChild(T);var d=r(T,"font-size")/128;return f.removeChild(T),d}(l,u);case"em":return r(u,"font-size");case"rem":return r(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return a;case"cm":return a/2.54;case"mm":return a/25.4;case"pt":return a/72;case"pc":return a/6}return 1}},7261:function(c,s,n){c.exports=function(w){var _=(w=w||{}).center||[0,0,0],A=w.up||[0,1,0],p=w.right||T(A),L=w.radius||1,M=w.theta||0,C=w.phi||0;if(_=[].slice.call(_,0,3),A=[].slice.call(A,0,3),l(A,A),p=[].slice.call(p,0,3),l(p,p),"eye"in w){var R=w.eye,I=[R[0]-_[0],R[1]-_[1],R[2]-_[2]];o(p,I,A),h(p[0],p[1],p[2])<1e-6?p=T(A):l(p,p),L=h(I[0],I[1],I[2]);var D=u(A,I)/L,F=u(p,I)/L;C=Math.acos(D),M=Math.acos(F)}return L=Math.log(L),new d(w.zoomMin,w.zoomMax,_,A,p,L,M,C)};var i=n(9215),a=n(7608),r=n(6079),o=n(5911),l=n(3536),u=n(244);function h(w,_,A){return Math.sqrt(Math.pow(w,2)+Math.pow(_,2)+Math.pow(A,2))}function f(w){return Math.min(1,Math.max(-1,w))}function T(w){var _=Math.abs(w[0]),A=Math.abs(w[1]),p=Math.abs(w[2]),L=[0,0,0];_>Math.max(A,p)?L[2]=1:A>Math.max(_,p)?L[0]=1:L[1]=1;for(var M=0,C=0,R=0;R<3;++R)M+=w[R]*w[R],C+=L[R]*w[R];for(R=0;R<3;++R)L[R]-=C/M*w[R];return l(L,L),L}function d(w,_,A,p,L,M,C,R){this.center=i(A),this.up=i(p),this.right=i(L),this.radius=i([M]),this.angle=i([C,R]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(w,_),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var I=0;I<16;++I)this.computedMatrix[I]=.5;this.recalcMatrix(0)}var y=d.prototype;y.setDistanceLimits=function(w,_){w=w>0?Math.log(w):-1/0,_=_>0?Math.log(_):1/0,_=Math.max(_,w),this.radius.bounds[0][0]=w,this.radius.bounds[1][0]=_},y.getDistanceLimits=function(w){var _=this.radius.bounds[0];return w?(w[0]=Math.exp(_[0][0]),w[1]=Math.exp(_[1][0]),w):[Math.exp(_[0][0]),Math.exp(_[1][0])]},y.recalcMatrix=function(w){this.center.curve(w),this.up.curve(w),this.right.curve(w),this.radius.curve(w),this.angle.curve(w);for(var _=this.computedUp,A=this.computedRight,p=0,L=0,M=0;M<3;++M)L+=_[M]*A[M],p+=_[M]*_[M];var C=Math.sqrt(p),R=0;for(M=0;M<3;++M)A[M]-=_[M]*L/p,R+=A[M]*A[M],_[M]/=C;var I=Math.sqrt(R);for(M=0;M<3;++M)A[M]/=I;var D=this.computedToward;o(D,_,A),l(D,D);var F=Math.exp(this.computedRadius[0]),q=this.computedAngle[0],z=this.computedAngle[1],V=Math.cos(q),X=Math.sin(q),j=Math.cos(z),H=Math.sin(z),G=this.computedCenter,ie=V*j,re=X*j,te=H,K=-V*H,J=-X*H,$=j,ae=this.computedEye,ue=this.computedMatrix;for(M=0;M<3;++M){var ce=ie*A[M]+re*D[M]+te*_[M];ue[4*M+1]=K*A[M]+J*D[M]+$*_[M],ue[4*M+2]=ce,ue[4*M+3]=0}var de=ue[1],pe=ue[5],me=ue[9],be=ue[2],we=ue[6],Te=ue[10],Le=pe*Te-me*we,Ie=me*be-de*Te,_e=de*we-pe*be,fe=h(Le,Ie,_e);for(Le/=fe,Ie/=fe,_e/=fe,ue[0]=Le,ue[4]=Ie,ue[8]=_e,M=0;M<3;++M)ae[M]=G[M]+ue[2+4*M]*F;for(M=0;M<3;++M){R=0;for(var le=0;le<3;++le)R+=ue[M+4*le]*ae[le];ue[12+M]=-R}ue[15]=1},y.getMatrix=function(w,_){this.recalcMatrix(w);var A=this.computedMatrix;if(_){for(var p=0;p<16;++p)_[p]=A[p];return _}return A};var m=[0,0,0];y.rotate=function(w,_,A,p){if(this.angle.move(w,_,A),p){this.recalcMatrix(w);var L=this.computedMatrix;m[0]=L[2],m[1]=L[6],m[2]=L[10];for(var M=this.computedUp,C=this.computedRight,R=this.computedToward,I=0;I<3;++I)L[4*I]=M[I],L[4*I+1]=C[I],L[4*I+2]=R[I];for(r(L,L,p,m),I=0;I<3;++I)M[I]=L[4*I],C[I]=L[4*I+1];this.up.set(w,M[0],M[1],M[2]),this.right.set(w,C[0],C[1],C[2])}},y.pan=function(w,_,A,p){_=_||0,A=A||0,p=p||0,this.recalcMatrix(w);var L=this.computedMatrix,M=(Math.exp(this.computedRadius[0]),L[1]),C=L[5],R=L[9],I=h(M,C,R);M/=I,C/=I,R/=I;var D=L[0],F=L[4],q=L[8],z=D*M+F*C+q*R,V=h(D-=M*z,F-=C*z,q-=R*z),X=(D/=V)*_+M*A,j=(F/=V)*_+C*A,H=(q/=V)*_+R*A;this.center.move(w,X,j,H);var G=Math.exp(this.computedRadius[0]);G=Math.max(1e-4,G+p),this.radius.set(w,Math.log(G))},y.translate=function(w,_,A,p){this.center.move(w,_||0,A||0,p||0)},y.setMatrix=function(w,_,A,p){var L=1;typeof A=="number"&&(L=0|A),(L<0||L>3)&&(L=1);var M=(L+2)%3;_||(this.recalcMatrix(w),_=this.computedMatrix);var C=_[L],R=_[L+4],I=_[L+8];if(p){var D=Math.abs(C),F=Math.abs(R),q=Math.abs(I),z=Math.max(D,F,q);D===z?(C=C<0?-1:1,R=I=0):q===z?(I=I<0?-1:1,C=R=0):(R=R<0?-1:1,C=I=0)}else{var V=h(C,R,I);C/=V,R/=V,I/=V}var X,j,H=_[M],G=_[M+4],ie=_[M+8],re=H*C+G*R+ie*I,te=h(H-=C*re,G-=R*re,ie-=I*re),K=R*(ie/=te)-I*(G/=te),J=I*(H/=te)-C*ie,$=C*G-R*H,ae=h(K,J,$);if(K/=ae,J/=ae,$/=ae,this.center.jump(w,Se,Pe,Fe),this.radius.idle(w),this.up.jump(w,C,R,I),this.right.jump(w,H,G,ie),L===2){var ue=_[1],ce=_[5],de=_[9],pe=ue*H+ce*G+de*ie,me=ue*K+ce*J+de*$;X=Le<0?-Math.PI/2:Math.PI/2,j=Math.atan2(me,pe)}else{var be=_[2],we=_[6],Te=_[10],Le=be*C+we*R+Te*I,Ie=be*H+we*G+Te*ie,_e=be*K+we*J+Te*$;X=Math.asin(f(Le)),j=Math.atan2(_e,Ie)}this.angle.jump(w,j,X),this.recalcMatrix(w);var fe=_[2],le=_[6],ye=_[10],Oe=this.computedMatrix;a(Oe,_);var Ae=Oe[15],Se=Oe[12]/Ae,Pe=Oe[13]/Ae,Fe=Oe[14]/Ae,Be=Math.exp(this.computedRadius[0]);this.center.jump(w,Se-fe*Be,Pe-le*Be,Fe-ye*Be)},y.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},y.idle=function(w){this.center.idle(w),this.up.idle(w),this.right.idle(w),this.radius.idle(w),this.angle.idle(w)},y.flush=function(w){this.center.flush(w),this.up.flush(w),this.right.flush(w),this.radius.flush(w),this.angle.flush(w)},y.setDistance=function(w,_){_>0&&this.radius.set(w,Math.log(_))},y.lookAt=function(w,_,A,p){this.recalcMatrix(w),_=_||this.computedEye,A=A||this.computedCenter;var L=(p=p||this.computedUp)[0],M=p[1],C=p[2],R=h(L,M,C);if(!(R<1e-6)){L/=R,M/=R,C/=R;var I=_[0]-A[0],D=_[1]-A[1],F=_[2]-A[2],q=h(I,D,F);if(!(q<1e-6)){I/=q,D/=q,F/=q;var z=this.computedRight,V=z[0],X=z[1],j=z[2],H=L*V+M*X+C*j,G=h(V-=H*L,X-=H*M,j-=H*C);if(!(G<.01&&(G=h(V=M*F-C*D,X=C*I-L*F,j=L*D-M*I))<1e-6)){V/=G,X/=G,j/=G,this.up.set(w,L,M,C),this.right.set(w,V,X,j),this.center.set(w,A[0],A[1],A[2]),this.radius.set(w,Math.log(q));var ie=M*j-C*X,re=C*V-L*j,te=L*X-M*V,K=h(ie,re,te),J=L*I+M*D+C*F,$=V*I+X*D+j*F,ae=(ie/=K)*I+(re/=K)*D+(te/=K)*F,ue=Math.asin(f(J)),ce=Math.atan2(ae,$),de=this.angle._state,pe=de[de.length-1],me=de[de.length-2];pe%=2*Math.PI;var be=Math.abs(pe+2*Math.PI-ce),we=Math.abs(pe-ce),Te=Math.abs(pe-2*Math.PI-ce);be<we&&(pe+=2*Math.PI),Te<we&&(pe-=2*Math.PI),this.angle.jump(this.angle.lastT(),pe,me),this.angle.set(w,ce,ue)}}}}},5250:function(c){c.exports=function(n,i,a){var r=n*i,o=s*n,l=o-(o-n),u=n-l,h=s*i,f=h-(h-i),T=i-f,d=u*T-(r-l*f-u*f-l*T);return a?(a[0]=d,a[1]=r,a):[d,r]};var s=+(Math.pow(2,27)+1)},9362:function(c){c.exports=function(s,n,i){var a=s+n,r=a-s,o=n-r,l=s-(a-r);return i?(i[0]=l+o,i[1]=a,i):[l+o,a]}},1888:function(c,s,n){var i=n(8828),a=n(1338),r=n(4793).hp;n.g.__TYPEDARRAY_POOL||(n.g.__TYPEDARRAY_POOL={UINT8:a([32,0]),UINT16:a([32,0]),UINT32:a([32,0]),BIGUINT64:a([32,0]),INT8:a([32,0]),INT16:a([32,0]),INT32:a([32,0]),BIGINT64:a([32,0]),FLOAT:a([32,0]),DOUBLE:a([32,0]),DATA:a([32,0]),UINT8C:a([32,0]),BUFFER:a([32,0])});var o=typeof Uint8ClampedArray<"u",l=typeof BigUint64Array<"u",u=typeof BigInt64Array<"u",h=n.g.__TYPEDARRAY_POOL;h.UINT8C||(h.UINT8C=a([32,0])),h.BIGUINT64||(h.BIGUINT64=a([32,0])),h.BIGINT64||(h.BIGINT64=a([32,0])),h.BUFFER||(h.BUFFER=a([32,0]));var f=h.DATA,T=h.BUFFER;function d(z){if(z){var V=z.length||z.byteLength,X=i.log2(V);f[X].push(z)}}function y(z){z=i.nextPow2(z);var V=i.log2(z),X=f[V];return X.length>0?X.pop():new ArrayBuffer(z)}function m(z){return new Uint8Array(y(z),0,z)}function w(z){return new Uint16Array(y(2*z),0,z)}function _(z){return new Uint32Array(y(4*z),0,z)}function A(z){return new Int8Array(y(z),0,z)}function p(z){return new Int16Array(y(2*z),0,z)}function L(z){return new Int32Array(y(4*z),0,z)}function M(z){return new Float32Array(y(4*z),0,z)}function C(z){return new Float64Array(y(8*z),0,z)}function R(z){return o?new Uint8ClampedArray(y(z),0,z):m(z)}function I(z){return l?new BigUint64Array(y(8*z),0,z):null}function D(z){return u?new BigInt64Array(y(8*z),0,z):null}function F(z){return new DataView(y(z),0,z)}function q(z){z=i.nextPow2(z);var V=i.log2(z),X=T[V];return X.length>0?X.pop():new r(z)}s.free=function(z){if(r.isBuffer(z))T[i.log2(z.length)].push(z);else{if(Object.prototype.toString.call(z)!=="[object ArrayBuffer]"&&(z=z.buffer),!z)return;var V=z.length||z.byteLength,X=0|i.log2(V);f[X].push(z)}},s.freeUint8=s.freeUint16=s.freeUint32=s.freeBigUint64=s.freeInt8=s.freeInt16=s.freeInt32=s.freeBigInt64=s.freeFloat32=s.freeFloat=s.freeFloat64=s.freeDouble=s.freeUint8Clamped=s.freeDataView=function(z){d(z.buffer)},s.freeArrayBuffer=d,s.freeBuffer=function(z){T[i.log2(z.length)].push(z)},s.malloc=function(z,V){if(V===void 0||V==="arraybuffer")return y(z);switch(V){case"uint8":return m(z);case"uint16":return w(z);case"uint32":return _(z);case"int8":return A(z);case"int16":return p(z);case"int32":return L(z);case"float":case"float32":return M(z);case"double":case"float64":return C(z);case"uint8_clamped":return R(z);case"bigint64":return D(z);case"biguint64":return I(z);case"buffer":return q(z);case"data":case"dataview":return F(z);default:return null}return null},s.mallocArrayBuffer=y,s.mallocUint8=m,s.mallocUint16=w,s.mallocUint32=_,s.mallocInt8=A,s.mallocInt16=p,s.mallocInt32=L,s.mallocFloat32=s.mallocFloat=M,s.mallocFloat64=s.mallocDouble=C,s.mallocUint8Clamped=R,s.mallocBigUint64=I,s.mallocBigInt64=D,s.mallocDataView=F,s.mallocBuffer=q,s.clearCache=function(){for(var z=0;z<32;++z)h.UINT8[z].length=0,h.UINT16[z].length=0,h.UINT32[z].length=0,h.INT8[z].length=0,h.INT16[z].length=0,h.INT32[z].length=0,h.FLOAT[z].length=0,h.DOUBLE[z].length=0,h.BIGUINT64[z].length=0,h.BIGINT64[z].length=0,h.UINT8C[z].length=0,f[z].length=0,T[z].length=0}},1755:function(c){function s(i){this.roots=new Array(i),this.ranks=new Array(i);for(var a=0;a<i;++a)this.roots[a]=a,this.ranks[a]=0}c.exports=s;var n=s.prototype;Object.defineProperty(n,"length",{get:function(){return this.roots.length}}),n.makeSet=function(){var i=this.roots.length;return this.roots.push(i),this.ranks.push(0),i},n.find=function(i){for(var a=i,r=this.roots;r[i]!==i;)i=r[i];for(;r[a]!==i;){var o=r[a];r[a]=i,a=o}return i},n.link=function(i,a){var r=this.find(i),o=this.find(a);if(r!==o){var l=this.ranks,u=this.roots,h=l[r],f=l[o];h<f?u[r]=o:f<h?u[o]=r:(u[o]=r,++l[r])}}},1682:function(c){c.exports=function(s,n,i){return s.length===0?s:n?(i||s.sort(n),function(a,r){for(var o=1,l=a.length,u=a[0],h=a[0],f=1;f<l;++f)if(h=u,r(u=a[f],h)){if(f===o){o++;continue}a[o++]=u}return a.length=o,a}(s,n)):(i||s.sort(),function(a){for(var r=1,o=a.length,l=a[0],u=a[0],h=1;h<o;++h,u=l)if(u=l,(l=a[h])!==u){if(h===r){r++;continue}a[r++]=l}return a.length=r,a}(s))}},4359:function(c,s,n){c.exports=function(o,l){return typeof l=="object"&&l!==null||(l={}),i(o,l.canvas||a,l.context||r,l)};var i=n(7718),a=null,r=null;typeof document<"u"&&((a=document.createElement("canvas")).width=8192,a.height=1024,r=a.getContext("2d"))},7718:function(c,s,n){c.exports=function(I,D,F,q){var z=64,V=1.25,X={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};return q&&(q.size&&q.size>0&&(z=q.size),q.lineSpacing&&q.lineSpacing>0&&(V=q.lineSpacing),q.styletags&&q.styletags.breaklines&&(X.breaklines=!!q.styletags.breaklines),q.styletags&&q.styletags.bolds&&(X.bolds=!!q.styletags.bolds),q.styletags&&q.styletags.italics&&(X.italics=!!q.styletags.italics),q.styletags&&q.styletags.subscripts&&(X.subscripts=!!q.styletags.subscripts),q.styletags&&q.styletags.superscripts&&(X.superscripts=!!q.styletags.superscripts)),F.font=[q.fontStyle,q.fontVariant,q.fontWeight,z+"px",q.font].filter(function(j){return j}).join(" "),F.textAlign="start",F.textBaseline="alphabetic",F.direction="ltr",R(function(j,H,G,ie,re,te){G=G.replace(/\n/g,""),G=te.breaklines===!0?G.replace(/\<br\>/g,`
`):G.replace(/\<br\>/g," ");var K="",J=[];for(ce=0;ce<G.length;++ce)J[ce]=K;te.bolds===!0&&(J=L(h,f,G,J)),te.italics===!0&&(J=L(T,d,G,J)),te.superscripts===!0&&(J=L(y,w,G,J)),te.subscripts===!0&&(J=L(_,p,G,J));var $=[],ae="";for(ce=0;ce<G.length;++ce)J[ce]!==null&&(ae+=G[ce],$.push(J[ce]));var ue,ce,de,pe,me,be=ae.split(`
`),we=be.length,Te=Math.round(re*ie),Le=ie,Ie=2*ie,_e=0,fe=we*Te+Ie;j.height<fe&&(j.height=fe),H.fillStyle="#000",H.fillRect(0,0,j.width,j.height),H.fillStyle="#fff";var le=0,ye="";function Oe(){if(ye!==""){var Ce=H.measureText(ye).width;H.fillText(ye,Le+de,Ie+pe),de+=Ce}}function Ae(){return Math.round(me)+"px "}function Se(Ce,Ne){var Re=""+H.font;if(te.subscripts===!0){var He=Ce.indexOf(A),Ye=Ne.indexOf(A),Qe=He>-1?parseInt(Ce[1+He]):0,lt=Ye>-1?parseInt(Ne[1+Ye]):0;Qe!==lt&&(Re=Re.replace(Ae(),"?px "),me*=Math.pow(.75,lt-Qe),Re=Re.replace("?px ",Ae())),pe+=.25*Te*(lt-Qe)}if(te.superscripts===!0){var ut=Ce.indexOf(m),xt=Ne.indexOf(m),_t=ut>-1?parseInt(Ce[1+ut]):0,mt=xt>-1?parseInt(Ne[1+xt]):0;_t!==mt&&(Re=Re.replace(Ae(),"?px "),me*=Math.pow(.75,mt-_t),Re=Re.replace("?px ",Ae())),pe-=.25*Te*(mt-_t)}if(te.bolds===!0){var it=Ce.indexOf(f)>-1,nt=Ne.indexOf(f)>-1;!it&&nt&&(Re=Et?Re.replace("italic ","italic bold "):"bold "+Re),it&&!nt&&(Re=Re.replace("bold ",""))}if(te.italics===!0){var Et=Ce.indexOf(d)>-1,zt=Ne.indexOf(d)>-1;!Et&&zt&&(Re="italic "+Re),Et&&!zt&&(Re=Re.replace("italic ",""))}H.font=Re}for(ue=0;ue<we;++ue){var Pe=be[ue]+`
`;for(de=0,pe=ue*Te,me=ie,ye="",ce=0;ce<Pe.length;++ce){var Fe=ce+le<$.length?$[ce+le]:$[$.length-1];K===Fe?ye+=Pe[ce]:(Oe(),ye=Pe[ce],Fe!==void 0&&(Se(K,Fe),K=Fe))}Oe(),le+=Pe.length;var Be=0|Math.round(de+2*Le);_e<Be&&(_e=Be)}var xe=_e,Me=Ie+Te*we;return a(H.getImageData(0,0,xe,Me).data,[Me,xe,4]).pick(-1,-1,0).transpose(1,0)}(D,F,I,z,V,X),q,z)},c.exports.processPixels=R;var i=n(3711),a=n(9618),r=n(5878),o=n(332),l=n(2538),u=n(2095),h="b",f="b|",T="i",d="i|",y="sup",m="+",w="+1",_="sub",A="-",p="-1";function L(I,D,F,q){for(var z="<"+I+">",V="</"+I+">",X=z.length,j=V.length,H=D[0]===m||D[0]===A,G=0,ie=-j;G>-1&&(G=F.indexOf(z,G))!==-1&&(ie=F.indexOf(V,G+X))!==-1&&!(ie<=G);){for(var re=G;re<ie+j;++re)if(re<G+X||re>=ie)q[re]=null,F=F.substr(0,re)+" "+F.substr(re+1);else if(q[re]!==null){var te=q[re].indexOf(D[0]);te===-1?q[re]+=D:H&&(q[re]=q[re].substr(0,te+1)+(1+parseInt(q[re][te+1]))+q[re].substr(te+2))}var K=G+X,J=F.substr(K,ie-K).indexOf(z);G=J!==-1?J:ie+j}return q}function M(I,D){var F=i(I,128);return D?r(F.cells,F.positions,.25):{edges:F.cells,positions:F.positions}}function C(I,D,F,q){var z=M(I,q),V=function(ue,ce,de){for(var pe=ce.textAlign||"start",me=ce.textBaseline||"alphabetic",be=[1<<30,1<<30],we=[0,0],Te=ue.length,Le=0;Le<Te;++Le)for(var Ie=ue[Le],_e=0;_e<2;++_e)be[_e]=0|Math.min(be[_e],Ie[_e]),we[_e]=0|Math.max(we[_e],Ie[_e]);var fe=0;switch(pe){case"center":fe=-.5*(be[0]+we[0]);break;case"right":case"end":fe=-we[0];break;case"left":case"start":fe=-be[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+pe+"'")}var le=0;switch(me){case"hanging":case"top":le=-be[1];break;case"middle":le=-.5*(be[1]+we[1]);break;case"alphabetic":case"ideographic":le=-3*de;break;case"bottom":le=-we[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+me+"'")}var ye=1/de;return"lineHeight"in ce?ye*=+ce.lineHeight:"width"in ce?ye=ce.width/(we[0]-be[0]):"height"in ce&&(ye=ce.height/(we[1]-be[1])),ue.map(function(Oe){return[ye*(Oe[0]+fe),ye*(Oe[1]+le)]})}(z.positions,D,F),X=z.edges,j=D.orientation==="ccw";if(o(V,X),D.polygons||D.polygon||D.polyline){for(var H=u(X,V),G=new Array(H.length),ie=0;ie<H.length;++ie){for(var re=H[ie],te=new Array(re.length),K=0;K<re.length;++K){for(var J=re[K],$=new Array(J.length),ae=0;ae<J.length;++ae)$[ae]=V[J[ae]].slice();j&&$.reverse(),te[K]=$}G[ie]=te}return G}return D.triangles||D.triangulate||D.triangle?{cells:l(V,X,{delaunay:!1,exterior:!1,interior:!0}),positions:V}:{edges:X,positions:V}}function R(I,D,F){try{return C(I,D,F,!0)}catch{}try{return C(I,D,F,!1)}catch{}return D.polygons||D.polyline||D.polygon?[]:D.triangles||D.triangulate||D.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},1538:function(c){(function(){if(typeof ses>"u"||!ses.ok||ses.ok()){typeof ses<"u"&&(ses.weakMapPermitHostObjects=_);var s=!1;if(typeof WeakMap=="function"){var n=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var i=new n,a=Object.freeze({});if(i.set(a,1),i.get(a)===1)return void(c.exports=WeakMap);s=!0}}var r=Object.getOwnPropertyNames,o=Object.defineProperty,l=Object.isExtensible,u="weakmap:",h=u+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var f=new ArrayBuffer(25),T=new Uint8Array(f);crypto.getRandomValues(T),h=u+"rand:"+Array.prototype.map.call(T,function(C){return(C%36).toString(36)}).join("")+"___"}if(o(Object,"getOwnPropertyNames",{value:function(C){return r(C).filter(A)}}),"getPropertyNames"in Object){var d=Object.getPropertyNames;o(Object,"getPropertyNames",{value:function(C){return d(C).filter(A)}})}(function(){var C=Object.freeze;o(Object,"freeze",{value:function(D){return p(D),C(D)}});var R=Object.seal;o(Object,"seal",{value:function(D){return p(D),R(D)}});var I=Object.preventExtensions;o(Object,"preventExtensions",{value:function(D){return p(D),I(D)}})})();var y=!1,m=0,w=function(){this instanceof w||M();var C=[],R=[],I=m++;return Object.create(w.prototype,{get___:{value:L(function(D,F){var q,z=p(D);return z?I in z?z[I]:F:(q=C.indexOf(D))>=0?R[q]:F})},has___:{value:L(function(D){var F=p(D);return F?I in F:C.indexOf(D)>=0})},set___:{value:L(function(D,F){var q,z=p(D);return z?z[I]=F:(q=C.indexOf(D))>=0?R[q]=F:(q=C.length,R[q]=F,C[q]=D),this})},delete___:{value:L(function(D){var F,q,z=p(D);return z?I in z&&delete z[I]:!((F=C.indexOf(D))<0||(q=C.length-1,C[F]=void 0,R[F]=R[q],C[F]=C[q],C.length=q,R.length=q,0))})}})};w.prototype=Object.create(Object.prototype,{get:{value:function(C,R){return this.get___(C,R)},writable:!0,configurable:!0},has:{value:function(C){return this.has___(C)},writable:!0,configurable:!0},set:{value:function(C,R){return this.set___(C,R)},writable:!0,configurable:!0},delete:{value:function(C){return this.delete___(C)},writable:!0,configurable:!0}}),typeof n=="function"?function(){function C(){this instanceof w||M();var R,I=new n,D=void 0,F=!1;return R=s?function(q,z){return I.set(q,z),I.has(q)||(D||(D=new w),D.set(q,z)),this}:function(q,z){if(F)try{I.set(q,z)}catch{D||(D=new w),D.set___(q,z)}else I.set(q,z);return this},Object.create(w.prototype,{get___:{value:L(function(q,z){return D?I.has(q)?I.get(q):D.get___(q,z):I.get(q,z)})},has___:{value:L(function(q){return I.has(q)||!!D&&D.has___(q)})},set___:{value:L(R)},delete___:{value:L(function(q){var z=!!I.delete(q);return D&&D.delete___(q)||z})},permitHostObjects___:{value:L(function(q){if(q!==_)throw new Error("bogus call to permitHostObjects___");F=!0})}})}s&&typeof Proxy<"u"&&(Proxy=void 0),C.prototype=w.prototype,c.exports=C,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),c.exports=w)}function _(C){C.permitHostObjects___&&C.permitHostObjects___(_)}function A(C){return!(C.substr(0,8)==u&&C.substr(C.length-3)==="___")}function p(C){if(C!==Object(C))throw new TypeError("Not an object: "+C);var R=C[h];if(R&&R.key===C)return R;if(l(C)){R={key:C};try{return o(C,h,{value:R,writable:!1,enumerable:!1,configurable:!1}),R}catch{return}}}function L(C){return C.prototype=null,Object.freeze(C)}function M(){y||typeof console>"u"||(y=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}})()},236:function(c,s,n){var i=n(8284);c.exports=function(){var a={};return function(r){if((typeof r!="object"||r===null)&&typeof r!="function")throw new Error("Weakmap-shim: Key must be object");var o=r.valueOf(a);return o&&o.identity===a?o:i(r,a)}}},8284:function(c){c.exports=function(s,n){var i={identity:n},a=s.valueOf;return Object.defineProperty(s,"valueOf",{value:function(r){return r!==n?a.apply(this,arguments):i},writable:!0}),i}},606:function(c,s,n){var i=n(236);c.exports=function(){var a=i();return{get:function(r,o){var l=a(r);return l.hasOwnProperty("value")?l.value:o},set:function(r,o){return a(r).value=o,this},has:function(r){return"value"in a(r)},delete:function(r){return delete a(r).value}}}},3349:function(c){c.exports=function(s){var n={};return function(i,a,r){var o=i.dtype,l=i.order,u=[o,l.join()].join(),h=n[u];return h||(n[u]=h=s([o,l])),h(i.shape.slice(0),i.data,i.stride,0|i.offset,a,r)}}((function(){return function(s,n,i,a,r,o){var l=s[0],u=i[0],h=[0],f=u;a|=0;var T=0,d=u;for(T=0;T<l;++T){var y=n[a]-o,m=n[a+f]-o;y>=0!=m>=0&&r.push(h[0]+.5+.5*(y+m)/(y-m)),a+=d,++h[0]}}}).bind(void 0,{funcName:"zeroCrossings"}))},781:function(c,s,n){c.exports=function(a,r){var o=[];return r=+r||0,i(a.hi(a.shape[0]-1),o,r),o};var i=n(3349)},7790:function(){}},t={};function b(c){var s=t[c];if(s!==void 0)return s.exports;var n=t[c]={id:c,loaded:!1,exports:{}};return x[c].call(n.exports,n,n.exports,b),n.loaded=!0,n.exports}b.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),b.nmd=function(c){return c.paths=[],c.children||(c.children=[]),c};var g=b(1964);O.exports=g})()},33576:function(O,S,e){function v(fe,le){for(var ye=0;ye<le.length;ye++){var Oe=le[ye];Oe.enumerable=Oe.enumerable||!1,Oe.configurable=!0,"value"in Oe&&(Oe.writable=!0),Object.defineProperty(fe,(Ae=function(Se,Pe){if(g(Se)!=="object"||Se===null)return Se;var Fe=Se[Symbol.toPrimitive];if(Fe!==void 0){var Be=Fe.call(Se,"string");if(g(Be)!=="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Se)}(Oe.key),g(Ae)==="symbol"?Ae:String(Ae)),Oe)}var Ae}function x(fe){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(le){return le.__proto__||Object.getPrototypeOf(le)},x(fe)}function t(fe){if(fe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fe}function b(fe,le){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ye,Oe){return ye.__proto__=Oe,ye},b(fe,le)}function g(fe){return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(le){return typeof le}:function(le){return le&&typeof Symbol=="function"&&le.constructor===Symbol&&le!==Symbol.prototype?"symbol":typeof le},g(fe)}var c=e(59968),s=e(35984),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;S.Buffer=r,S.SlowBuffer=function(fe){return+fe!=fe&&(fe=0),r.alloc(+fe)},S.INSPECT_MAX_BYTES=50;var i=2147483647;function a(fe){if(fe>i)throw new RangeError('The value "'+fe+'" is invalid for option "size"');var le=new Uint8Array(fe);return Object.setPrototypeOf(le,r.prototype),le}function r(fe,le,ye){if(typeof fe=="number"){if(typeof le=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return u(fe)}return o(fe,le,ye)}function o(fe,le,ye){if(typeof fe=="string")return function(Se,Pe){if(typeof Pe=="string"&&Pe!==""||(Pe="utf8"),!r.isEncoding(Pe))throw new TypeError("Unknown encoding: "+Pe);var Fe=0|d(Se,Pe),Be=a(Fe),xe=Be.write(Se,Pe);return xe!==Fe&&(Be=Be.slice(0,xe)),Be}(fe,le);if(ArrayBuffer.isView(fe))return function(Se){if(we(Se,Uint8Array)){var Pe=new Uint8Array(Se);return f(Pe.buffer,Pe.byteOffset,Pe.byteLength)}return h(Se)}(fe);if(fe==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+g(fe));if(we(fe,ArrayBuffer)||fe&&we(fe.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(we(fe,SharedArrayBuffer)||fe&&we(fe.buffer,SharedArrayBuffer)))return f(fe,le,ye);if(typeof fe=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Oe=fe.valueOf&&fe.valueOf();if(Oe!=null&&Oe!==fe)return r.from(Oe,le,ye);var Ae=function(Se){if(r.isBuffer(Se)){var Pe=0|T(Se.length),Fe=a(Pe);return Fe.length===0||Se.copy(Fe,0,0,Pe),Fe}return Se.length!==void 0?typeof Se.length!="number"||Te(Se.length)?a(0):h(Se):Se.type==="Buffer"&&Array.isArray(Se.data)?h(Se.data):void 0}(fe);if(Ae)return Ae;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof fe[Symbol.toPrimitive]=="function")return r.from(fe[Symbol.toPrimitive]("string"),le,ye);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+g(fe))}function l(fe){if(typeof fe!="number")throw new TypeError('"size" argument must be of type number');if(fe<0)throw new RangeError('The value "'+fe+'" is invalid for option "size"')}function u(fe){return l(fe),a(fe<0?0:0|T(fe))}function h(fe){for(var le=fe.length<0?0:0|T(fe.length),ye=a(le),Oe=0;Oe<le;Oe+=1)ye[Oe]=255&fe[Oe];return ye}function f(fe,le,ye){if(le<0||fe.byteLength<le)throw new RangeError('"offset" is outside of buffer bounds');if(fe.byteLength<le+(ye||0))throw new RangeError('"length" is outside of buffer bounds');var Oe;return Oe=le===void 0&&ye===void 0?new Uint8Array(fe):ye===void 0?new Uint8Array(fe,le):new Uint8Array(fe,le,ye),Object.setPrototypeOf(Oe,r.prototype),Oe}function T(fe){if(fe>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|fe}function d(fe,le){if(r.isBuffer(fe))return fe.length;if(ArrayBuffer.isView(fe)||we(fe,ArrayBuffer))return fe.byteLength;if(typeof fe!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+g(fe));var ye=fe.length,Oe=arguments.length>2&&arguments[2]===!0;if(!Oe&&ye===0)return 0;for(var Ae=!1;;)switch(le){case"ascii":case"latin1":case"binary":return ye;case"utf8":case"utf-8":return pe(fe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ye;case"hex":return ye>>>1;case"base64":return me(fe).length;default:if(Ae)return Oe?-1:pe(fe).length;le=(""+le).toLowerCase(),Ae=!0}}function y(fe,le,ye){var Oe=!1;if((le===void 0||le<0)&&(le=0),le>this.length||((ye===void 0||ye>this.length)&&(ye=this.length),ye<=0)||(ye>>>=0)<=(le>>>=0))return"";for(fe||(fe="utf8");;)switch(fe){case"hex":return z(this,le,ye);case"utf8":case"utf-8":return I(this,le,ye);case"ascii":return F(this,le,ye);case"latin1":case"binary":return q(this,le,ye);case"base64":return R(this,le,ye);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,le,ye);default:if(Oe)throw new TypeError("Unknown encoding: "+fe);fe=(fe+"").toLowerCase(),Oe=!0}}function m(fe,le,ye){var Oe=fe[le];fe[le]=fe[ye],fe[ye]=Oe}function w(fe,le,ye,Oe,Ae){if(fe.length===0)return-1;if(typeof ye=="string"?(Oe=ye,ye=0):ye>2147483647?ye=2147483647:ye<-2147483648&&(ye=-2147483648),Te(ye=+ye)&&(ye=Ae?0:fe.length-1),ye<0&&(ye=fe.length+ye),ye>=fe.length){if(Ae)return-1;ye=fe.length-1}else if(ye<0){if(!Ae)return-1;ye=0}if(typeof le=="string"&&(le=r.from(le,Oe)),r.isBuffer(le))return le.length===0?-1:_(fe,le,ye,Oe,Ae);if(typeof le=="number")return le&=255,typeof Uint8Array.prototype.indexOf=="function"?Ae?Uint8Array.prototype.indexOf.call(fe,le,ye):Uint8Array.prototype.lastIndexOf.call(fe,le,ye):_(fe,[le],ye,Oe,Ae);throw new TypeError("val must be string, number or Buffer")}function _(fe,le,ye,Oe,Ae){var Se,Pe=1,Fe=fe.length,Be=le.length;if(Oe!==void 0&&((Oe=String(Oe).toLowerCase())==="ucs2"||Oe==="ucs-2"||Oe==="utf16le"||Oe==="utf-16le")){if(fe.length<2||le.length<2)return-1;Pe=2,Fe/=2,Be/=2,ye/=2}function xe(Re,He){return Pe===1?Re[He]:Re.readUInt16BE(He*Pe)}if(Ae){var Me=-1;for(Se=ye;Se<Fe;Se++)if(xe(fe,Se)===xe(le,Me===-1?0:Se-Me)){if(Me===-1&&(Me=Se),Se-Me+1===Be)return Me*Pe}else Me!==-1&&(Se-=Se-Me),Me=-1}else for(ye+Be>Fe&&(ye=Fe-Be),Se=ye;Se>=0;Se--){for(var Ce=!0,Ne=0;Ne<Be;Ne++)if(xe(fe,Se+Ne)!==xe(le,Ne)){Ce=!1;break}if(Ce)return Se}return-1}function A(fe,le,ye,Oe){ye=Number(ye)||0;var Ae=fe.length-ye;Oe?(Oe=Number(Oe))>Ae&&(Oe=Ae):Oe=Ae;var Se,Pe=le.length;for(Oe>Pe/2&&(Oe=Pe/2),Se=0;Se<Oe;++Se){var Fe=parseInt(le.substr(2*Se,2),16);if(Te(Fe))return Se;fe[ye+Se]=Fe}return Se}function p(fe,le,ye,Oe){return be(pe(le,fe.length-ye),fe,ye,Oe)}function L(fe,le,ye,Oe){return be(function(Ae){for(var Se=[],Pe=0;Pe<Ae.length;++Pe)Se.push(255&Ae.charCodeAt(Pe));return Se}(le),fe,ye,Oe)}function M(fe,le,ye,Oe){return be(me(le),fe,ye,Oe)}function C(fe,le,ye,Oe){return be(function(Ae,Se){for(var Pe,Fe,Be,xe=[],Me=0;Me<Ae.length&&!((Se-=2)<0);++Me)Fe=(Pe=Ae.charCodeAt(Me))>>8,Be=Pe%256,xe.push(Be),xe.push(Fe);return xe}(le,fe.length-ye),fe,ye,Oe)}function R(fe,le,ye){return le===0&&ye===fe.length?c.fromByteArray(fe):c.fromByteArray(fe.slice(le,ye))}function I(fe,le,ye){ye=Math.min(fe.length,ye);for(var Oe=[],Ae=le;Ae<ye;){var Se=fe[Ae],Pe=null,Fe=Se>239?4:Se>223?3:Se>191?2:1;if(Ae+Fe<=ye){var Be=void 0,xe=void 0,Me=void 0,Ce=void 0;switch(Fe){case 1:Se<128&&(Pe=Se);break;case 2:(192&(Be=fe[Ae+1]))==128&&(Ce=(31&Se)<<6|63&Be)>127&&(Pe=Ce);break;case 3:Be=fe[Ae+1],xe=fe[Ae+2],(192&Be)==128&&(192&xe)==128&&(Ce=(15&Se)<<12|(63&Be)<<6|63&xe)>2047&&(Ce<55296||Ce>57343)&&(Pe=Ce);break;case 4:Be=fe[Ae+1],xe=fe[Ae+2],Me=fe[Ae+3],(192&Be)==128&&(192&xe)==128&&(192&Me)==128&&(Ce=(15&Se)<<18|(63&Be)<<12|(63&xe)<<6|63&Me)>65535&&Ce<1114112&&(Pe=Ce)}}Pe===null?(Pe=65533,Fe=1):Pe>65535&&(Pe-=65536,Oe.push(Pe>>>10&1023|55296),Pe=56320|1023&Pe),Oe.push(Pe),Ae+=Fe}return function(Ne){var Re=Ne.length;if(Re<=D)return String.fromCharCode.apply(String,Ne);for(var He="",Ye=0;Ye<Re;)He+=String.fromCharCode.apply(String,Ne.slice(Ye,Ye+=D));return He}(Oe)}S.kMaxLength=i,r.TYPED_ARRAY_SUPPORT=function(){try{var fe=new Uint8Array(1),le={foo:function(){return 42}};return Object.setPrototypeOf(le,Uint8Array.prototype),Object.setPrototypeOf(fe,le),fe.foo()===42}catch{return!1}}(),r.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.buffer}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.byteOffset}}),r.poolSize=8192,r.from=function(fe,le,ye){return o(fe,le,ye)},Object.setPrototypeOf(r.prototype,Uint8Array.prototype),Object.setPrototypeOf(r,Uint8Array),r.alloc=function(fe,le,ye){return function(Oe,Ae,Se){return l(Oe),Oe<=0?a(Oe):Ae!==void 0?typeof Se=="string"?a(Oe).fill(Ae,Se):a(Oe).fill(Ae):a(Oe)}(fe,le,ye)},r.allocUnsafe=function(fe){return u(fe)},r.allocUnsafeSlow=function(fe){return u(fe)},r.isBuffer=function(fe){return fe!=null&&fe._isBuffer===!0&&fe!==r.prototype},r.compare=function(fe,le){if(we(fe,Uint8Array)&&(fe=r.from(fe,fe.offset,fe.byteLength)),we(le,Uint8Array)&&(le=r.from(le,le.offset,le.byteLength)),!r.isBuffer(fe)||!r.isBuffer(le))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(fe===le)return 0;for(var ye=fe.length,Oe=le.length,Ae=0,Se=Math.min(ye,Oe);Ae<Se;++Ae)if(fe[Ae]!==le[Ae]){ye=fe[Ae],Oe=le[Ae];break}return ye<Oe?-1:Oe<ye?1:0},r.isEncoding=function(fe){switch(String(fe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(fe,le){if(!Array.isArray(fe))throw new TypeError('"list" argument must be an Array of Buffers');if(fe.length===0)return r.alloc(0);var ye;if(le===void 0)for(le=0,ye=0;ye<fe.length;++ye)le+=fe[ye].length;var Oe=r.allocUnsafe(le),Ae=0;for(ye=0;ye<fe.length;++ye){var Se=fe[ye];if(we(Se,Uint8Array))Ae+Se.length>Oe.length?(r.isBuffer(Se)||(Se=r.from(Se)),Se.copy(Oe,Ae)):Uint8Array.prototype.set.call(Oe,Se,Ae);else{if(!r.isBuffer(Se))throw new TypeError('"list" argument must be an Array of Buffers');Se.copy(Oe,Ae)}Ae+=Se.length}return Oe},r.byteLength=d,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var fe=this.length;if(fe%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var le=0;le<fe;le+=2)m(this,le,le+1);return this},r.prototype.swap32=function(){var fe=this.length;if(fe%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var le=0;le<fe;le+=4)m(this,le,le+3),m(this,le+1,le+2);return this},r.prototype.swap64=function(){var fe=this.length;if(fe%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var le=0;le<fe;le+=8)m(this,le,le+7),m(this,le+1,le+6),m(this,le+2,le+5),m(this,le+3,le+4);return this},r.prototype.toString=function(){var fe=this.length;return fe===0?"":arguments.length===0?I(this,0,fe):y.apply(this,arguments)},r.prototype.toLocaleString=r.prototype.toString,r.prototype.equals=function(fe){if(!r.isBuffer(fe))throw new TypeError("Argument must be a Buffer");return this===fe||r.compare(this,fe)===0},r.prototype.inspect=function(){var fe="",le=S.INSPECT_MAX_BYTES;return fe=this.toString("hex",0,le).replace(/(.{2})/g,"$1 ").trim(),this.length>le&&(fe+=" ... "),"<Buffer "+fe+">"},n&&(r.prototype[n]=r.prototype.inspect),r.prototype.compare=function(fe,le,ye,Oe,Ae){if(we(fe,Uint8Array)&&(fe=r.from(fe,fe.offset,fe.byteLength)),!r.isBuffer(fe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+g(fe));if(le===void 0&&(le=0),ye===void 0&&(ye=fe?fe.length:0),Oe===void 0&&(Oe=0),Ae===void 0&&(Ae=this.length),le<0||ye>fe.length||Oe<0||Ae>this.length)throw new RangeError("out of range index");if(Oe>=Ae&&le>=ye)return 0;if(Oe>=Ae)return-1;if(le>=ye)return 1;if(this===fe)return 0;for(var Se=(Ae>>>=0)-(Oe>>>=0),Pe=(ye>>>=0)-(le>>>=0),Fe=Math.min(Se,Pe),Be=this.slice(Oe,Ae),xe=fe.slice(le,ye),Me=0;Me<Fe;++Me)if(Be[Me]!==xe[Me]){Se=Be[Me],Pe=xe[Me];break}return Se<Pe?-1:Pe<Se?1:0},r.prototype.includes=function(fe,le,ye){return this.indexOf(fe,le,ye)!==-1},r.prototype.indexOf=function(fe,le,ye){return w(this,fe,le,ye,!0)},r.prototype.lastIndexOf=function(fe,le,ye){return w(this,fe,le,ye,!1)},r.prototype.write=function(fe,le,ye,Oe){if(le===void 0)Oe="utf8",ye=this.length,le=0;else if(ye===void 0&&typeof le=="string")Oe=le,ye=this.length,le=0;else{if(!isFinite(le))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");le>>>=0,isFinite(ye)?(ye>>>=0,Oe===void 0&&(Oe="utf8")):(Oe=ye,ye=void 0)}var Ae=this.length-le;if((ye===void 0||ye>Ae)&&(ye=Ae),fe.length>0&&(ye<0||le<0)||le>this.length)throw new RangeError("Attempt to write outside buffer bounds");Oe||(Oe="utf8");for(var Se=!1;;)switch(Oe){case"hex":return A(this,fe,le,ye);case"utf8":case"utf-8":return p(this,fe,le,ye);case"ascii":case"latin1":case"binary":return L(this,fe,le,ye);case"base64":return M(this,fe,le,ye);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,fe,le,ye);default:if(Se)throw new TypeError("Unknown encoding: "+Oe);Oe=(""+Oe).toLowerCase(),Se=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var D=4096;function F(fe,le,ye){var Oe="";ye=Math.min(fe.length,ye);for(var Ae=le;Ae<ye;++Ae)Oe+=String.fromCharCode(127&fe[Ae]);return Oe}function q(fe,le,ye){var Oe="";ye=Math.min(fe.length,ye);for(var Ae=le;Ae<ye;++Ae)Oe+=String.fromCharCode(fe[Ae]);return Oe}function z(fe,le,ye){var Oe=fe.length;(!le||le<0)&&(le=0),(!ye||ye<0||ye>Oe)&&(ye=Oe);for(var Ae="",Se=le;Se<ye;++Se)Ae+=Le[fe[Se]];return Ae}function V(fe,le,ye){for(var Oe=fe.slice(le,ye),Ae="",Se=0;Se<Oe.length-1;Se+=2)Ae+=String.fromCharCode(Oe[Se]+256*Oe[Se+1]);return Ae}function X(fe,le,ye){if(fe%1!=0||fe<0)throw new RangeError("offset is not uint");if(fe+le>ye)throw new RangeError("Trying to access beyond buffer length")}function j(fe,le,ye,Oe,Ae,Se){if(!r.isBuffer(fe))throw new TypeError('"buffer" argument must be a Buffer instance');if(le>Ae||le<Se)throw new RangeError('"value" argument is out of bounds');if(ye+Oe>fe.length)throw new RangeError("Index out of range")}function H(fe,le,ye,Oe,Ae){ae(le,Oe,Ae,fe,ye,7);var Se=Number(le&BigInt(4294967295));fe[ye++]=Se,Se>>=8,fe[ye++]=Se,Se>>=8,fe[ye++]=Se,Se>>=8,fe[ye++]=Se;var Pe=Number(le>>BigInt(32)&BigInt(4294967295));return fe[ye++]=Pe,Pe>>=8,fe[ye++]=Pe,Pe>>=8,fe[ye++]=Pe,Pe>>=8,fe[ye++]=Pe,ye}function G(fe,le,ye,Oe,Ae){ae(le,Oe,Ae,fe,ye,7);var Se=Number(le&BigInt(4294967295));fe[ye+7]=Se,Se>>=8,fe[ye+6]=Se,Se>>=8,fe[ye+5]=Se,Se>>=8,fe[ye+4]=Se;var Pe=Number(le>>BigInt(32)&BigInt(4294967295));return fe[ye+3]=Pe,Pe>>=8,fe[ye+2]=Pe,Pe>>=8,fe[ye+1]=Pe,Pe>>=8,fe[ye]=Pe,ye+8}function ie(fe,le,ye,Oe,Ae,Se){if(ye+Oe>fe.length)throw new RangeError("Index out of range");if(ye<0)throw new RangeError("Index out of range")}function re(fe,le,ye,Oe,Ae){return le=+le,ye>>>=0,Ae||ie(fe,0,ye,4),s.write(fe,le,ye,Oe,23,4),ye+4}function te(fe,le,ye,Oe,Ae){return le=+le,ye>>>=0,Ae||ie(fe,0,ye,8),s.write(fe,le,ye,Oe,52,8),ye+8}r.prototype.slice=function(fe,le){var ye=this.length;(fe=~~fe)<0?(fe+=ye)<0&&(fe=0):fe>ye&&(fe=ye),(le=le===void 0?ye:~~le)<0?(le+=ye)<0&&(le=0):le>ye&&(le=ye),le<fe&&(le=fe);var Oe=this.subarray(fe,le);return Object.setPrototypeOf(Oe,r.prototype),Oe},r.prototype.readUintLE=r.prototype.readUIntLE=function(fe,le,ye){fe>>>=0,le>>>=0,ye||X(fe,le,this.length);for(var Oe=this[fe],Ae=1,Se=0;++Se<le&&(Ae*=256);)Oe+=this[fe+Se]*Ae;return Oe},r.prototype.readUintBE=r.prototype.readUIntBE=function(fe,le,ye){fe>>>=0,le>>>=0,ye||X(fe,le,this.length);for(var Oe=this[fe+--le],Ae=1;le>0&&(Ae*=256);)Oe+=this[fe+--le]*Ae;return Oe},r.prototype.readUint8=r.prototype.readUInt8=function(fe,le){return fe>>>=0,le||X(fe,1,this.length),this[fe]},r.prototype.readUint16LE=r.prototype.readUInt16LE=function(fe,le){return fe>>>=0,le||X(fe,2,this.length),this[fe]|this[fe+1]<<8},r.prototype.readUint16BE=r.prototype.readUInt16BE=function(fe,le){return fe>>>=0,le||X(fe,2,this.length),this[fe]<<8|this[fe+1]},r.prototype.readUint32LE=r.prototype.readUInt32LE=function(fe,le){return fe>>>=0,le||X(fe,4,this.length),(this[fe]|this[fe+1]<<8|this[fe+2]<<16)+16777216*this[fe+3]},r.prototype.readUint32BE=r.prototype.readUInt32BE=function(fe,le){return fe>>>=0,le||X(fe,4,this.length),16777216*this[fe]+(this[fe+1]<<16|this[fe+2]<<8|this[fe+3])},r.prototype.readBigUInt64LE=Ie(function(fe){ue(fe>>>=0,"offset");var le=this[fe],ye=this[fe+7];le!==void 0&&ye!==void 0||ce(fe,this.length-8);var Oe=le+this[++fe]*Math.pow(2,8)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,24),Ae=this[++fe]+this[++fe]*Math.pow(2,8)+this[++fe]*Math.pow(2,16)+ye*Math.pow(2,24);return BigInt(Oe)+(BigInt(Ae)<<BigInt(32))}),r.prototype.readBigUInt64BE=Ie(function(fe){ue(fe>>>=0,"offset");var le=this[fe],ye=this[fe+7];le!==void 0&&ye!==void 0||ce(fe,this.length-8);var Oe=le*Math.pow(2,24)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,8)+this[++fe],Ae=this[++fe]*Math.pow(2,24)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,8)+ye;return(BigInt(Oe)<<BigInt(32))+BigInt(Ae)}),r.prototype.readIntLE=function(fe,le,ye){fe>>>=0,le>>>=0,ye||X(fe,le,this.length);for(var Oe=this[fe],Ae=1,Se=0;++Se<le&&(Ae*=256);)Oe+=this[fe+Se]*Ae;return Oe>=(Ae*=128)&&(Oe-=Math.pow(2,8*le)),Oe},r.prototype.readIntBE=function(fe,le,ye){fe>>>=0,le>>>=0,ye||X(fe,le,this.length);for(var Oe=le,Ae=1,Se=this[fe+--Oe];Oe>0&&(Ae*=256);)Se+=this[fe+--Oe]*Ae;return Se>=(Ae*=128)&&(Se-=Math.pow(2,8*le)),Se},r.prototype.readInt8=function(fe,le){return fe>>>=0,le||X(fe,1,this.length),128&this[fe]?-1*(255-this[fe]+1):this[fe]},r.prototype.readInt16LE=function(fe,le){fe>>>=0,le||X(fe,2,this.length);var ye=this[fe]|this[fe+1]<<8;return 32768&ye?4294901760|ye:ye},r.prototype.readInt16BE=function(fe,le){fe>>>=0,le||X(fe,2,this.length);var ye=this[fe+1]|this[fe]<<8;return 32768&ye?4294901760|ye:ye},r.prototype.readInt32LE=function(fe,le){return fe>>>=0,le||X(fe,4,this.length),this[fe]|this[fe+1]<<8|this[fe+2]<<16|this[fe+3]<<24},r.prototype.readInt32BE=function(fe,le){return fe>>>=0,le||X(fe,4,this.length),this[fe]<<24|this[fe+1]<<16|this[fe+2]<<8|this[fe+3]},r.prototype.readBigInt64LE=Ie(function(fe){ue(fe>>>=0,"offset");var le=this[fe],ye=this[fe+7];le!==void 0&&ye!==void 0||ce(fe,this.length-8);var Oe=this[fe+4]+this[fe+5]*Math.pow(2,8)+this[fe+6]*Math.pow(2,16)+(ye<<24);return(BigInt(Oe)<<BigInt(32))+BigInt(le+this[++fe]*Math.pow(2,8)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,24))}),r.prototype.readBigInt64BE=Ie(function(fe){ue(fe>>>=0,"offset");var le=this[fe],ye=this[fe+7];le!==void 0&&ye!==void 0||ce(fe,this.length-8);var Oe=(le<<24)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,8)+this[++fe];return(BigInt(Oe)<<BigInt(32))+BigInt(this[++fe]*Math.pow(2,24)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,8)+ye)}),r.prototype.readFloatLE=function(fe,le){return fe>>>=0,le||X(fe,4,this.length),s.read(this,fe,!0,23,4)},r.prototype.readFloatBE=function(fe,le){return fe>>>=0,le||X(fe,4,this.length),s.read(this,fe,!1,23,4)},r.prototype.readDoubleLE=function(fe,le){return fe>>>=0,le||X(fe,8,this.length),s.read(this,fe,!0,52,8)},r.prototype.readDoubleBE=function(fe,le){return fe>>>=0,le||X(fe,8,this.length),s.read(this,fe,!1,52,8)},r.prototype.writeUintLE=r.prototype.writeUIntLE=function(fe,le,ye,Oe){fe=+fe,le>>>=0,ye>>>=0,Oe||j(this,fe,le,ye,Math.pow(2,8*ye)-1,0);var Ae=1,Se=0;for(this[le]=255&fe;++Se<ye&&(Ae*=256);)this[le+Se]=fe/Ae&255;return le+ye},r.prototype.writeUintBE=r.prototype.writeUIntBE=function(fe,le,ye,Oe){fe=+fe,le>>>=0,ye>>>=0,Oe||j(this,fe,le,ye,Math.pow(2,8*ye)-1,0);var Ae=ye-1,Se=1;for(this[le+Ae]=255&fe;--Ae>=0&&(Se*=256);)this[le+Ae]=fe/Se&255;return le+ye},r.prototype.writeUint8=r.prototype.writeUInt8=function(fe,le,ye){return fe=+fe,le>>>=0,ye||j(this,fe,le,1,255,0),this[le]=255&fe,le+1},r.prototype.writeUint16LE=r.prototype.writeUInt16LE=function(fe,le,ye){return fe=+fe,le>>>=0,ye||j(this,fe,le,2,65535,0),this[le]=255&fe,this[le+1]=fe>>>8,le+2},r.prototype.writeUint16BE=r.prototype.writeUInt16BE=function(fe,le,ye){return fe=+fe,le>>>=0,ye||j(this,fe,le,2,65535,0),this[le]=fe>>>8,this[le+1]=255&fe,le+2},r.prototype.writeUint32LE=r.prototype.writeUInt32LE=function(fe,le,ye){return fe=+fe,le>>>=0,ye||j(this,fe,le,4,4294967295,0),this[le+3]=fe>>>24,this[le+2]=fe>>>16,this[le+1]=fe>>>8,this[le]=255&fe,le+4},r.prototype.writeUint32BE=r.prototype.writeUInt32BE=function(fe,le,ye){return fe=+fe,le>>>=0,ye||j(this,fe,le,4,4294967295,0),this[le]=fe>>>24,this[le+1]=fe>>>16,this[le+2]=fe>>>8,this[le+3]=255&fe,le+4},r.prototype.writeBigUInt64LE=Ie(function(fe){return H(this,fe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),r.prototype.writeBigUInt64BE=Ie(function(fe){return G(this,fe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),r.prototype.writeIntLE=function(fe,le,ye,Oe){if(fe=+fe,le>>>=0,!Oe){var Ae=Math.pow(2,8*ye-1);j(this,fe,le,ye,Ae-1,-Ae)}var Se=0,Pe=1,Fe=0;for(this[le]=255&fe;++Se<ye&&(Pe*=256);)fe<0&&Fe===0&&this[le+Se-1]!==0&&(Fe=1),this[le+Se]=(fe/Pe>>0)-Fe&255;return le+ye},r.prototype.writeIntBE=function(fe,le,ye,Oe){if(fe=+fe,le>>>=0,!Oe){var Ae=Math.pow(2,8*ye-1);j(this,fe,le,ye,Ae-1,-Ae)}var Se=ye-1,Pe=1,Fe=0;for(this[le+Se]=255&fe;--Se>=0&&(Pe*=256);)fe<0&&Fe===0&&this[le+Se+1]!==0&&(Fe=1),this[le+Se]=(fe/Pe>>0)-Fe&255;return le+ye},r.prototype.writeInt8=function(fe,le,ye){return fe=+fe,le>>>=0,ye||j(this,fe,le,1,127,-128),fe<0&&(fe=255+fe+1),this[le]=255&fe,le+1},r.prototype.writeInt16LE=function(fe,le,ye){return fe=+fe,le>>>=0,ye||j(this,fe,le,2,32767,-32768),this[le]=255&fe,this[le+1]=fe>>>8,le+2},r.prototype.writeInt16BE=function(fe,le,ye){return fe=+fe,le>>>=0,ye||j(this,fe,le,2,32767,-32768),this[le]=fe>>>8,this[le+1]=255&fe,le+2},r.prototype.writeInt32LE=function(fe,le,ye){return fe=+fe,le>>>=0,ye||j(this,fe,le,4,2147483647,-2147483648),this[le]=255&fe,this[le+1]=fe>>>8,this[le+2]=fe>>>16,this[le+3]=fe>>>24,le+4},r.prototype.writeInt32BE=function(fe,le,ye){return fe=+fe,le>>>=0,ye||j(this,fe,le,4,2147483647,-2147483648),fe<0&&(fe=4294967295+fe+1),this[le]=fe>>>24,this[le+1]=fe>>>16,this[le+2]=fe>>>8,this[le+3]=255&fe,le+4},r.prototype.writeBigInt64LE=Ie(function(fe){return H(this,fe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),r.prototype.writeBigInt64BE=Ie(function(fe){return G(this,fe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),r.prototype.writeFloatLE=function(fe,le,ye){return re(this,fe,le,!0,ye)},r.prototype.writeFloatBE=function(fe,le,ye){return re(this,fe,le,!1,ye)},r.prototype.writeDoubleLE=function(fe,le,ye){return te(this,fe,le,!0,ye)},r.prototype.writeDoubleBE=function(fe,le,ye){return te(this,fe,le,!1,ye)},r.prototype.copy=function(fe,le,ye,Oe){if(!r.isBuffer(fe))throw new TypeError("argument should be a Buffer");if(ye||(ye=0),Oe||Oe===0||(Oe=this.length),le>=fe.length&&(le=fe.length),le||(le=0),Oe>0&&Oe<ye&&(Oe=ye),Oe===ye||fe.length===0||this.length===0)return 0;if(le<0)throw new RangeError("targetStart out of bounds");if(ye<0||ye>=this.length)throw new RangeError("Index out of range");if(Oe<0)throw new RangeError("sourceEnd out of bounds");Oe>this.length&&(Oe=this.length),fe.length-le<Oe-ye&&(Oe=fe.length-le+ye);var Ae=Oe-ye;return this===fe&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(le,ye,Oe):Uint8Array.prototype.set.call(fe,this.subarray(ye,Oe),le),Ae},r.prototype.fill=function(fe,le,ye,Oe){if(typeof fe=="string"){if(typeof le=="string"?(Oe=le,le=0,ye=this.length):typeof ye=="string"&&(Oe=ye,ye=this.length),Oe!==void 0&&typeof Oe!="string")throw new TypeError("encoding must be a string");if(typeof Oe=="string"&&!r.isEncoding(Oe))throw new TypeError("Unknown encoding: "+Oe);if(fe.length===1){var Ae=fe.charCodeAt(0);(Oe==="utf8"&&Ae<128||Oe==="latin1")&&(fe=Ae)}}else typeof fe=="number"?fe&=255:typeof fe=="boolean"&&(fe=Number(fe));if(le<0||this.length<le||this.length<ye)throw new RangeError("Out of range index");if(ye<=le)return this;var Se;if(le>>>=0,ye=ye===void 0?this.length:ye>>>0,fe||(fe=0),typeof fe=="number")for(Se=le;Se<ye;++Se)this[Se]=fe;else{var Pe=r.isBuffer(fe)?fe:r.from(fe,Oe),Fe=Pe.length;if(Fe===0)throw new TypeError('The value "'+fe+'" is invalid for argument "value"');for(Se=0;Se<ye-le;++Se)this[Se+le]=Pe[Se%Fe]}return this};var K={};function J(fe,le,ye){K[fe]=function(Oe){function Ae(){var Fe;return function(Be,xe){if(!(Be instanceof xe))throw new TypeError("Cannot call a class as a function")}(this,Ae),Fe=function(Be,xe,Me){return xe=x(xe),function(Ce,Ne){if(Ne&&(g(Ne)==="object"||typeof Ne=="function"))return Ne;if(Ne!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(Ce)}(Be,function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{return!1}}()?Reflect.construct(xe,[],x(Be).constructor):xe.apply(Be,Me))}(this,Ae),Object.defineProperty(t(Fe),"message",{value:le.apply(t(Fe),arguments),writable:!0,configurable:!0}),Fe.name="".concat(Fe.name," [").concat(fe,"]"),Fe.stack,delete Fe.name,Fe}var Se,Pe;return function(Fe,Be){if(typeof Be!="function"&&Be!==null)throw new TypeError("Super expression must either be null or a function");Fe.prototype=Object.create(Be&&Be.prototype,{constructor:{value:Fe,writable:!0,configurable:!0}}),Object.defineProperty(Fe,"prototype",{writable:!1}),Be&&b(Fe,Be)}(Ae,Oe),Se=Ae,(Pe=[{key:"code",get:function(){return fe},set:function(Fe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Fe,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(fe,"]: ").concat(this.message)}}])&&v(Se.prototype,Pe),Object.defineProperty(Se,"prototype",{writable:!1}),Ae}(ye)}function $(fe){for(var le="",ye=fe.length,Oe=fe[0]==="-"?1:0;ye>=Oe+4;ye-=3)le="_".concat(fe.slice(ye-3,ye)).concat(le);return"".concat(fe.slice(0,ye)).concat(le)}function ae(fe,le,ye,Oe,Ae,Se){if(fe>ye||fe<le){var Pe,Fe=typeof le=="bigint"?"n":"";throw Pe=le===0||le===BigInt(0)?">= 0".concat(Fe," and < 2").concat(Fe," ** ").concat(8*(Se+1)).concat(Fe):">= -(2".concat(Fe," ** ").concat(8*(Se+1)-1).concat(Fe,") and < 2 ** ")+"".concat(8*(Se+1)-1).concat(Fe),new K.ERR_OUT_OF_RANGE("value",Pe,fe)}(function(Be,xe,Me){ue(xe,"offset"),Be[xe]!==void 0&&Be[xe+Me]!==void 0||ce(xe,Be.length-(Me+1))})(Oe,Ae,Se)}function ue(fe,le){if(typeof fe!="number")throw new K.ERR_INVALID_ARG_TYPE(le,"number",fe)}function ce(fe,le,ye){throw Math.floor(fe)!==fe?(ue(fe,ye),new K.ERR_OUT_OF_RANGE("offset","an integer",fe)):le<0?new K.ERR_BUFFER_OUT_OF_BOUNDS:new K.ERR_OUT_OF_RANGE("offset",">= ".concat(0," and <= ").concat(le),fe)}J("ERR_BUFFER_OUT_OF_BOUNDS",function(fe){return fe?"".concat(fe," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),J("ERR_INVALID_ARG_TYPE",function(fe,le){return'The "'.concat(fe,'" argument must be of type number. Received type ').concat(g(le))},TypeError),J("ERR_OUT_OF_RANGE",function(fe,le,ye){var Oe='The value of "'.concat(fe,'" is out of range.'),Ae=ye;return Number.isInteger(ye)&&Math.abs(ye)>Math.pow(2,32)?Ae=$(String(ye)):typeof ye=="bigint"&&(Ae=String(ye),(ye>Math.pow(BigInt(2),BigInt(32))||ye<-Math.pow(BigInt(2),BigInt(32)))&&(Ae=$(Ae)),Ae+="n"),Oe+" It must be ".concat(le,". Received ").concat(Ae)},RangeError);var de=/[^+/0-9A-Za-z-_]/g;function pe(fe,le){var ye;le=le||1/0;for(var Oe=fe.length,Ae=null,Se=[],Pe=0;Pe<Oe;++Pe){if((ye=fe.charCodeAt(Pe))>55295&&ye<57344){if(!Ae){if(ye>56319){(le-=3)>-1&&Se.push(239,191,189);continue}if(Pe+1===Oe){(le-=3)>-1&&Se.push(239,191,189);continue}Ae=ye;continue}if(ye<56320){(le-=3)>-1&&Se.push(239,191,189),Ae=ye;continue}ye=65536+(Ae-55296<<10|ye-56320)}else Ae&&(le-=3)>-1&&Se.push(239,191,189);if(Ae=null,ye<128){if((le-=1)<0)break;Se.push(ye)}else if(ye<2048){if((le-=2)<0)break;Se.push(ye>>6|192,63&ye|128)}else if(ye<65536){if((le-=3)<0)break;Se.push(ye>>12|224,ye>>6&63|128,63&ye|128)}else{if(!(ye<1114112))throw new Error("Invalid code point");if((le-=4)<0)break;Se.push(ye>>18|240,ye>>12&63|128,ye>>6&63|128,63&ye|128)}}return Se}function me(fe){return c.toByteArray(function(le){if((le=(le=le.split("=")[0]).trim().replace(de,"")).length<2)return"";for(;le.length%4!=0;)le+="=";return le}(fe))}function be(fe,le,ye,Oe){var Ae;for(Ae=0;Ae<Oe&&!(Ae+ye>=le.length||Ae>=fe.length);++Ae)le[Ae+ye]=fe[Ae];return Ae}function we(fe,le){return fe instanceof le||fe!=null&&fe.constructor!=null&&fe.constructor.name!=null&&fe.constructor.name===le.name}function Te(fe){return fe!=fe}var Le=function(){for(var fe="0123456789abcdef",le=new Array(256),ye=0;ye<16;++ye)for(var Oe=16*ye,Ae=0;Ae<16;++Ae)le[Oe+Ae]=fe[ye]+fe[Ae];return le}();function Ie(fe){return typeof BigInt>"u"?_e:fe}function _e(){throw new Error("BigInt not supported")}},25928:function(O){O.exports=x,O.exports.isMobile=x,O.exports.default=x;var S=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,v=/android|ipad|playbook|silk/i;function x(t){t||(t={});var b=t.ua;if(b||typeof navigator>"u"||(b=navigator.userAgent),b&&b.headers&&typeof b.headers["user-agent"]=="string"&&(b=b.headers["user-agent"]),typeof b!="string")return!1;var g=S.test(b)&&!e.test(b)||!!t.tablet&&v.test(b);return!g&&t.tablet&&t.featureDetect&&navigator&&navigator.maxTouchPoints>1&&b.indexOf("Macintosh")!==-1&&b.indexOf("Safari")!==-1&&(g=!0),g}},48932:function(O,S,e){e.r(S),e.d(S,{sankeyCenter:function(){return a},sankeyCircular:function(){return R},sankeyJustify:function(){return i},sankeyLeft:function(){return s},sankeyRight:function(){return n}});var v=e(84706),x=e(34712),t=e(10132),b=e(6688),g=e.n(b);function c(be){return be.target.depth}function s(be){return be.depth}function n(be,we){return we-1-be.height}function i(be,we){return be.sourceLinks.length?be.depth:we-1}function a(be){return be.targetLinks.length?be.depth:be.sourceLinks.length?(0,v.SY)(be.sourceLinks,c)-1:0}function r(be){return function(){return be}}var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(be){return typeof be}:function(be){return be&&typeof Symbol=="function"&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be};function l(be,we){return h(be.source,we.source)||be.index-we.index}function u(be,we){return h(be.target,we.target)||be.index-we.index}function h(be,we){return be.partOfCycle===we.partOfCycle?be.y0-we.y0:be.circularLinkType==="top"||we.circularLinkType==="bottom"?-1:1}function f(be){return be.value}function T(be){return(be.y0+be.y1)/2}function d(be){return T(be.source)}function y(be){return T(be.target)}function m(be){return be.index}function w(be){return be.nodes}function _(be){return be.links}function A(be,we){var Te=be.get(we);if(!Te)throw new Error("missing: "+we);return Te}function p(be,we){return we(be)}var L=25,M=10,C=.3;function R(){var be,we,Te=0,Le=0,Ie=1,_e=1,fe=24,le=m,ye=i,Oe=w,Ae=_,Se=32,Pe=2,Fe=null;function Be(){var Me={nodes:Oe.apply(null,arguments),links:Ae.apply(null,arguments)};(function(Ne){Ne.nodes.forEach(function(He,Ye){He.index=Ye,He.sourceLinks=[],He.targetLinks=[]});var Re=(0,x.kH)(Ne.nodes,le);Ne.links.forEach(function(He,Ye){He.index=Ye;var Qe=He.source,lt=He.target;(Qe===void 0?"undefined":o(Qe))!=="object"&&(Qe=He.source=A(Re,Qe)),(lt===void 0?"undefined":o(lt))!=="object"&&(lt=He.target=A(Re,lt)),Qe.sourceLinks.push(He),lt.targetLinks.push(He)})})(Me),function(Ne,Re,He){var Ye=0;if(He===null){for(var Qe=[],lt=0;lt<Ne.links.length;lt++){var ut=Ne.links[lt],xt=ut.source.index,_t=ut.target.index;Qe[xt]||(Qe[xt]=[]),Qe[_t]||(Qe[_t]=[]),Qe[xt].indexOf(_t)===-1&&Qe[xt].push(_t)}var mt=g()(Qe);mt.sort(function(Et,zt){return Et.length-zt.length});var it={};for(lt=0;lt<mt.length;lt++){var nt=mt[lt].slice(-2);it[nt[0]]||(it[nt[0]]={}),it[nt[0]][nt[1]]=!0}Ne.links.forEach(function(Et){var zt=Et.target.index,Ft=Et.source.index;zt===Ft||it[Ft]&&it[Ft][zt]?(Et.circular=!0,Et.circularLinkID=Ye,Ye+=1):Et.circular=!1})}else Ne.links.forEach(function(Et){Et.source[He]<Et.target[He]?Et.circular=!1:(Et.circular=!0,Et.circularLinkID=Ye,Ye+=1)})}(Me,0,Fe),function(Ne){Ne.nodes.forEach(function(Re){Re.partOfCycle=!1,Re.value=Math.max((0,v.oh)(Re.sourceLinks,f),(0,v.oh)(Re.targetLinks,f)),Re.sourceLinks.forEach(function(He){He.circular&&(Re.partOfCycle=!0,Re.circularLinkType=He.circularLinkType)}),Re.targetLinks.forEach(function(He){He.circular&&(Re.partOfCycle=!0,Re.circularLinkType=He.circularLinkType)})})}(Me),function(Ne){var Re,He,Ye;for(Re=Ne.nodes,He=[],Ye=0;Re.length;++Ye,Re=He,He=[])Re.forEach(function(Qe){Qe.depth=Ye,Qe.sourceLinks.forEach(function(lt){He.indexOf(lt.target)<0&&!lt.circular&&He.push(lt.target)})});for(Re=Ne.nodes,He=[],Ye=0;Re.length;++Ye,Re=He,He=[])Re.forEach(function(Qe){Qe.height=Ye,Qe.targetLinks.forEach(function(lt){He.indexOf(lt.source)<0&&!lt.circular&&He.push(lt.source)})});Ne.nodes.forEach(function(Qe){Qe.column=Math.floor(ye.call(null,Qe,Ye))})}(Me),I(Me,le),function(Ne,Re,He){var Ye=(0,x.UJ)().key(function(_t){return _t.column}).sortKeys(v.XE).entries(Ne.nodes).map(function(_t){return _t.values});(function(_t){if(we){var mt=1/0;Ye.forEach(function(zt){var Ft=_e*we/(zt.length+1);mt=Ft<mt?Ft:mt}),be=mt}var it=(0,v.SY)(Ye,function(zt){return(_e-Le-(zt.length-1)*be)/(0,v.oh)(zt,f)});it*=C,Ne.links.forEach(function(zt){zt.width=zt.value*it});var nt=function(zt){var Ft=0,Pt=0,Ze=0,Je=0,qe=(0,v.kv)(zt.nodes,function(Ke){return Ke.column});return zt.links.forEach(function(Ke){Ke.circular&&(Ke.circularLinkType=="top"?Ft+=Ke.width:Pt+=Ke.width,Ke.target.column==0&&(Je+=Ke.width),Ke.source.column==qe&&(Ze+=Ke.width))}),{top:Ft=Ft>0?Ft+L+M:Ft,bottom:Pt=Pt>0?Pt+L+M:Pt,left:Je=Je>0?Je+L+M:Je,right:Ze=Ze>0?Ze+L+M:Ze}}(Ne),Et=function(zt,Ft){var Pt=(0,v.kv)(zt.nodes,function(ft){return ft.column}),Ze=Ie-Te,Je=_e-Le,qe=Ze/(Ze+Ft.right+Ft.left),Ke=Je/(Je+Ft.top+Ft.bottom);return Te=Te*qe+Ft.left,Ie=Ft.right==0?Ie:Ie*qe,Le=Le*Ke+Ft.top,_e*=Ke,zt.nodes.forEach(function(ft){ft.x0=Te+ft.column*((Ie-Te-fe)/Pt),ft.x1=ft.x0+fe}),Ke}(Ne,nt);it*=Et,Ne.links.forEach(function(zt){zt.width=zt.value*it}),Ye.forEach(function(zt){var Ft=zt.length;zt.forEach(function(Pt,Ze){Pt.depth==Ye.length-1&&Ft==1||Pt.depth==0&&Ft==1?(Pt.y0=_e/2-Pt.value*it,Pt.y1=Pt.y0+Pt.value*it):Pt.partOfCycle?F(Pt,_t)==0?(Pt.y0=_e/2+Ze,Pt.y1=Pt.y0+Pt.value*it):Pt.circularLinkType=="top"?(Pt.y0=Le+Ze,Pt.y1=Pt.y0+Pt.value*it):(Pt.y0=_e-Pt.value*it-Ze,Pt.y1=Pt.y0+Pt.value*it):nt.top==0||nt.bottom==0?(Pt.y0=(_e-Le)/Ft*Ze,Pt.y1=Pt.y0+Pt.value*it):(Pt.y0=(_e-Le)/2-Ft/2+Ze,Pt.y1=Pt.y0+Pt.value*it)})})})(He),xt();for(var Qe=1,lt=Re;lt>0;--lt)ut(Qe*=.99,He),xt();function ut(_t,mt){var it=Ye.length;Ye.forEach(function(nt){var Et=nt.length,zt=nt[0].depth;nt.forEach(function(Ft){var Pt;if((Ft.sourceLinks.length||Ft.targetLinks.length)&&!(Ft.partOfCycle&&F(Ft,mt)>0))if(zt==0&&Et==1)Pt=Ft.y1-Ft.y0,Ft.y0=_e/2-Pt/2,Ft.y1=_e/2+Pt/2;else if(zt==it-1&&Et==1)Pt=Ft.y1-Ft.y0,Ft.y0=_e/2-Pt/2,Ft.y1=_e/2+Pt/2;else{var Ze=(0,v.mo)(Ft.sourceLinks,y),Je=(0,v.mo)(Ft.targetLinks,d),qe=((Ze&&Je?(Ze+Je)/2:Ze||Je)-T(Ft))*_t;Ft.y0+=qe,Ft.y1+=qe}})})}function xt(){Ye.forEach(function(_t){var mt,it,nt,Et=Le,zt=_t.length;for(_t.sort(h),nt=0;nt<zt;++nt)(it=Et-(mt=_t[nt]).y0)>0&&(mt.y0+=it,mt.y1+=it),Et=mt.y1+be;if((it=Et-be-_e)>0)for(Et=mt.y0-=it,mt.y1-=it,nt=zt-2;nt>=0;--nt)(it=(mt=_t[nt]).y1+be-Et)>0&&(mt.y0-=it,mt.y1-=it),Et=mt.y0})}}(Me,Se,le),xe(Me);for(var Ce=0;Ce<4;Ce++)ue(Me,_e,le),ce(Me,0,le),$(Me,Le,_e,le),ue(Me,_e,le),ce(Me,0,le);return function(Ne,Re,He){var Ye=Ne.nodes,Qe=Ne.links,lt=!1,ut=!1;if(Qe.forEach(function(mt){mt.circularLinkType=="top"?lt=!0:mt.circularLinkType=="bottom"&&(ut=!0)}),lt==0||ut==0){var xt=(0,v.SY)(Ye,function(mt){return mt.y0}),_t=(He-Re)/((0,v.kv)(Ye,function(mt){return mt.y1})-xt);Ye.forEach(function(mt){var it=(mt.y1-mt.y0)*_t;mt.y0=(mt.y0-xt)*_t,mt.y1=mt.y0+it}),Qe.forEach(function(mt){mt.y0=(mt.y0-xt)*_t,mt.y1=(mt.y1-xt)*_t,mt.width=mt.width*_t})}}(Me,Le,_e),V(Me,Pe,_e,le),Me}function xe(Me){Me.nodes.forEach(function(Ce){Ce.sourceLinks.sort(u),Ce.targetLinks.sort(l)}),Me.nodes.forEach(function(Ce){var Ne=Ce.y0,Re=Ne,He=Ce.y1,Ye=He;Ce.sourceLinks.forEach(function(Qe){Qe.circular?(Qe.y0=He-Qe.width/2,He-=Qe.width):(Qe.y0=Ne+Qe.width/2,Ne+=Qe.width)}),Ce.targetLinks.forEach(function(Qe){Qe.circular?(Qe.y1=Ye-Qe.width/2,Ye-=Qe.width):(Qe.y1=Re+Qe.width/2,Re+=Qe.width)})})}return Be.nodeId=function(Me){return arguments.length?(le=typeof Me=="function"?Me:r(Me),Be):le},Be.nodeAlign=function(Me){return arguments.length?(ye=typeof Me=="function"?Me:r(Me),Be):ye},Be.nodeWidth=function(Me){return arguments.length?(fe=+Me,Be):fe},Be.nodePadding=function(Me){return arguments.length?(be=+Me,Be):be},Be.nodes=function(Me){return arguments.length?(Oe=typeof Me=="function"?Me:r(Me),Be):Oe},Be.links=function(Me){return arguments.length?(Ae=typeof Me=="function"?Me:r(Me),Be):Ae},Be.size=function(Me){return arguments.length?(Te=Le=0,Ie=+Me[0],_e=+Me[1],Be):[Ie-Te,_e-Le]},Be.extent=function(Me){return arguments.length?(Te=+Me[0][0],Ie=+Me[1][0],Le=+Me[0][1],_e=+Me[1][1],Be):[[Te,Le],[Ie,_e]]},Be.iterations=function(Me){return arguments.length?(Se=+Me,Be):Se},Be.circularLinkGap=function(Me){return arguments.length?(Pe=+Me,Be):Pe},Be.nodePaddingRatio=function(Me){return arguments.length?(we=+Me,Be):we},Be.sortNodes=function(Me){return arguments.length?(Fe=Me,Be):Fe},Be.update=function(Me){return I(Me,le),xe(Me),Me.links.forEach(function(Ce){Ce.circular&&(Ce.circularLinkType=Ce.y0+Ce.y1<_e?"top":"bottom",Ce.source.circularLinkType=Ce.circularLinkType,Ce.target.circularLinkType=Ce.circularLinkType)}),ue(Me,_e,le,!1),ce(Me,0,le),V(Me,Pe,_e,le),Me},Be}function I(be,we){var Te=0,Le=0;be.links.forEach(function(Ie){Ie.circular&&(Ie.source.circularLinkType||Ie.target.circularLinkType?Ie.circularLinkType=Ie.source.circularLinkType?Ie.source.circularLinkType:Ie.target.circularLinkType:Ie.circularLinkType=Te<Le?"top":"bottom",Ie.circularLinkType=="top"?Te+=1:Le+=1,be.nodes.forEach(function(_e){p(_e,we)!=p(Ie.source,we)&&p(_e,we)!=p(Ie.target,we)||(_e.circularLinkType=Ie.circularLinkType)}))}),be.links.forEach(function(Ie){Ie.circular&&(Ie.source.circularLinkType==Ie.target.circularLinkType&&(Ie.circularLinkType=Ie.source.circularLinkType),me(Ie,we)&&(Ie.circularLinkType=Ie.source.circularLinkType))})}function D(be){var we=Math.abs(be.y1-be.y0),Te=Math.abs(be.target.x0-be.source.x1);return Math.atan(Te/we)}function F(be,we){var Te=0;be.sourceLinks.forEach(function(Ie){Te=Ie.circular&&!me(Ie,we)?Te+1:Te});var Le=0;return be.targetLinks.forEach(function(Ie){Le=Ie.circular&&!me(Ie,we)?Le+1:Le}),Te+Le}function q(be){var we=be.source.sourceLinks,Te=0;we.forEach(function(_e){Te=_e.circular?Te+1:Te});var Le=be.target.targetLinks,Ie=0;return Le.forEach(function(_e){Ie=_e.circular?Ie+1:Ie}),!(Te>1||Ie>1)}function z(be,we,Te){return be.sort(X),be.forEach(function(Le,Ie){var _e,fe,le=0;if(me(Le,Te)&&q(Le))Le.circularPathData.verticalBuffer=le+Le.width/2;else{for(var ye=0;ye<Ie;ye++)if(_e=be[Ie],fe=be[ye],!(_e.source.column<fe.target.column||_e.target.column>fe.source.column)){var Oe=be[ye].circularPathData.verticalBuffer+be[ye].width/2+we;le=Oe>le?Oe:le}Le.circularPathData.verticalBuffer=le+Le.width/2}}),be}function V(be,we,Te,Le){var Ie=(0,v.SY)(be.links,function(_e){return _e.source.y0});be.links.forEach(function(_e){_e.circular&&(_e.circularPathData={})}),z(be.links.filter(function(_e){return _e.circularLinkType=="top"}),we,Le),z(be.links.filter(function(_e){return _e.circularLinkType=="bottom"}),we,Le),be.links.forEach(function(_e){if(_e.circular){if(_e.circularPathData.arcRadius=_e.width+M,_e.circularPathData.leftNodeBuffer=5,_e.circularPathData.rightNodeBuffer=5,_e.circularPathData.sourceWidth=_e.source.x1-_e.source.x0,_e.circularPathData.sourceX=_e.source.x0+_e.circularPathData.sourceWidth,_e.circularPathData.targetX=_e.target.x0,_e.circularPathData.sourceY=_e.y0,_e.circularPathData.targetY=_e.y1,me(_e,Le)&&q(_e))_e.circularPathData.leftSmallArcRadius=M+_e.width/2,_e.circularPathData.leftLargeArcRadius=M+_e.width/2,_e.circularPathData.rightSmallArcRadius=M+_e.width/2,_e.circularPathData.rightLargeArcRadius=M+_e.width/2,_e.circularLinkType=="bottom"?(_e.circularPathData.verticalFullExtent=_e.source.y1+L+_e.circularPathData.verticalBuffer,_e.circularPathData.verticalLeftInnerExtent=_e.circularPathData.verticalFullExtent-_e.circularPathData.leftLargeArcRadius,_e.circularPathData.verticalRightInnerExtent=_e.circularPathData.verticalFullExtent-_e.circularPathData.rightLargeArcRadius):(_e.circularPathData.verticalFullExtent=_e.source.y0-L-_e.circularPathData.verticalBuffer,_e.circularPathData.verticalLeftInnerExtent=_e.circularPathData.verticalFullExtent+_e.circularPathData.leftLargeArcRadius,_e.circularPathData.verticalRightInnerExtent=_e.circularPathData.verticalFullExtent+_e.circularPathData.rightLargeArcRadius);else{var fe=_e.source.column,le=_e.circularLinkType,ye=be.links.filter(function(Se){return Se.source.column==fe&&Se.circularLinkType==le});_e.circularLinkType=="bottom"?ye.sort(H):ye.sort(j);var Oe=0;ye.forEach(function(Se,Pe){Se.circularLinkID==_e.circularLinkID&&(_e.circularPathData.leftSmallArcRadius=M+_e.width/2+Oe,_e.circularPathData.leftLargeArcRadius=M+_e.width/2+Pe*we+Oe),Oe+=Se.width}),fe=_e.target.column,ye=be.links.filter(function(Se){return Se.target.column==fe&&Se.circularLinkType==le}),_e.circularLinkType=="bottom"?ye.sort(ie):ye.sort(G),Oe=0,ye.forEach(function(Se,Pe){Se.circularLinkID==_e.circularLinkID&&(_e.circularPathData.rightSmallArcRadius=M+_e.width/2+Oe,_e.circularPathData.rightLargeArcRadius=M+_e.width/2+Pe*we+Oe),Oe+=Se.width}),_e.circularLinkType=="bottom"?(_e.circularPathData.verticalFullExtent=Math.max(Te,_e.source.y1,_e.target.y1)+L+_e.circularPathData.verticalBuffer,_e.circularPathData.verticalLeftInnerExtent=_e.circularPathData.verticalFullExtent-_e.circularPathData.leftLargeArcRadius,_e.circularPathData.verticalRightInnerExtent=_e.circularPathData.verticalFullExtent-_e.circularPathData.rightLargeArcRadius):(_e.circularPathData.verticalFullExtent=Ie-L-_e.circularPathData.verticalBuffer,_e.circularPathData.verticalLeftInnerExtent=_e.circularPathData.verticalFullExtent+_e.circularPathData.leftLargeArcRadius,_e.circularPathData.verticalRightInnerExtent=_e.circularPathData.verticalFullExtent+_e.circularPathData.rightLargeArcRadius)}_e.circularPathData.leftInnerExtent=_e.circularPathData.sourceX+_e.circularPathData.leftNodeBuffer,_e.circularPathData.rightInnerExtent=_e.circularPathData.targetX-_e.circularPathData.rightNodeBuffer,_e.circularPathData.leftFullExtent=_e.circularPathData.sourceX+_e.circularPathData.leftLargeArcRadius+_e.circularPathData.leftNodeBuffer,_e.circularPathData.rightFullExtent=_e.circularPathData.targetX-_e.circularPathData.rightLargeArcRadius-_e.circularPathData.rightNodeBuffer}if(_e.circular)_e.path=function(Se){return Se.circularLinkType=="top"?"M"+Se.circularPathData.sourceX+" "+Se.circularPathData.sourceY+" L"+Se.circularPathData.leftInnerExtent+" "+Se.circularPathData.sourceY+" A"+Se.circularPathData.leftLargeArcRadius+" "+Se.circularPathData.leftSmallArcRadius+" 0 0 0 "+Se.circularPathData.leftFullExtent+" "+(Se.circularPathData.sourceY-Se.circularPathData.leftSmallArcRadius)+" L"+Se.circularPathData.leftFullExtent+" "+Se.circularPathData.verticalLeftInnerExtent+" A"+Se.circularPathData.leftLargeArcRadius+" "+Se.circularPathData.leftLargeArcRadius+" 0 0 0 "+Se.circularPathData.leftInnerExtent+" "+Se.circularPathData.verticalFullExtent+" L"+Se.circularPathData.rightInnerExtent+" "+Se.circularPathData.verticalFullExtent+" A"+Se.circularPathData.rightLargeArcRadius+" "+Se.circularPathData.rightLargeArcRadius+" 0 0 0 "+Se.circularPathData.rightFullExtent+" "+Se.circularPathData.verticalRightInnerExtent+" L"+Se.circularPathData.rightFullExtent+" "+(Se.circularPathData.targetY-Se.circularPathData.rightSmallArcRadius)+" A"+Se.circularPathData.rightLargeArcRadius+" "+Se.circularPathData.rightSmallArcRadius+" 0 0 0 "+Se.circularPathData.rightInnerExtent+" "+Se.circularPathData.targetY+" L"+Se.circularPathData.targetX+" "+Se.circularPathData.targetY:"M"+Se.circularPathData.sourceX+" "+Se.circularPathData.sourceY+" L"+Se.circularPathData.leftInnerExtent+" "+Se.circularPathData.sourceY+" A"+Se.circularPathData.leftLargeArcRadius+" "+Se.circularPathData.leftSmallArcRadius+" 0 0 1 "+Se.circularPathData.leftFullExtent+" "+(Se.circularPathData.sourceY+Se.circularPathData.leftSmallArcRadius)+" L"+Se.circularPathData.leftFullExtent+" "+Se.circularPathData.verticalLeftInnerExtent+" A"+Se.circularPathData.leftLargeArcRadius+" "+Se.circularPathData.leftLargeArcRadius+" 0 0 1 "+Se.circularPathData.leftInnerExtent+" "+Se.circularPathData.verticalFullExtent+" L"+Se.circularPathData.rightInnerExtent+" "+Se.circularPathData.verticalFullExtent+" A"+Se.circularPathData.rightLargeArcRadius+" "+Se.circularPathData.rightLargeArcRadius+" 0 0 1 "+Se.circularPathData.rightFullExtent+" "+Se.circularPathData.verticalRightInnerExtent+" L"+Se.circularPathData.rightFullExtent+" "+(Se.circularPathData.targetY+Se.circularPathData.rightSmallArcRadius)+" A"+Se.circularPathData.rightLargeArcRadius+" "+Se.circularPathData.rightSmallArcRadius+" 0 0 1 "+Se.circularPathData.rightInnerExtent+" "+Se.circularPathData.targetY+" L"+Se.circularPathData.targetX+" "+Se.circularPathData.targetY}(_e);else{var Ae=(0,t.ak)().source(function(Se){return[Se.source.x0+(Se.source.x1-Se.source.x0),Se.y0]}).target(function(Se){return[Se.target.x0,Se.y1]});_e.path=Ae(_e)}})}function X(be,we){return re(be)==re(we)?be.circularLinkType=="bottom"?H(be,we):j(be,we):re(we)-re(be)}function j(be,we){return be.y0-we.y0}function H(be,we){return we.y0-be.y0}function G(be,we){return be.y1-we.y1}function ie(be,we){return we.y1-be.y1}function re(be){return be.target.column-be.source.column}function te(be){return be.target.x0-be.source.x1}function K(be,we){var Te=D(be),Le=te(we)/Math.tan(Te);return pe(be)=="up"?be.y1+Le:be.y1-Le}function J(be,we){var Te=D(be),Le=te(we)/Math.tan(Te);return pe(be)=="up"?be.y1-Le:be.y1+Le}function $(be,we,Te,Le){be.links.forEach(function(Ie){if(!Ie.circular&&Ie.target.column-Ie.source.column>1){var _e=Ie.source.column+1,fe=Ie.target.column-1,le=1,ye=fe-_e+1;for(le=1;_e<=fe;_e++,le++)be.nodes.forEach(function(Oe){if(Oe.column==_e){var Ae,Se=le/(ye+1),Pe=Math.pow(1-Se,3),Fe=3*Se*Math.pow(1-Se,2),Be=3*Math.pow(Se,2)*(1-Se),xe=Math.pow(Se,3),Me=Pe*Ie.y0+Fe*Ie.y0+Be*Ie.y1+xe*Ie.y1,Ce=Me-Ie.width/2,Ne=Me+Ie.width/2;Ce>Oe.y0&&Ce<Oe.y1?(Ae=Oe.y1-Ce+10,Ae=Oe.circularLinkType=="bottom"?Ae:-Ae,Oe=ae(Oe,Ae,we,Te),be.nodes.forEach(function(Re){var He,Ye;p(Re,Le)!=p(Oe,Le)&&Re.column==Oe.column&&(Ye=Re,(He=Oe).y0>Ye.y0&&He.y0<Ye.y1||He.y1>Ye.y0&&He.y1<Ye.y1||He.y0<Ye.y0&&He.y1>Ye.y1)&&ae(Re,Ae,we,Te)})):(Ne>Oe.y0&&Ne<Oe.y1||Ce<Oe.y0&&Ne>Oe.y1)&&(Ae=Ne-Oe.y0+10,Oe=ae(Oe,Ae,we,Te),be.nodes.forEach(function(Re){p(Re,Le)!=p(Oe,Le)&&Re.column==Oe.column&&Re.y0<Oe.y1&&Re.y1>Oe.y1&&ae(Re,Ae,we,Te)}))}})}})}function ae(be,we,Te,Le){return be.y0+we>=Te&&be.y1+we<=Le&&(be.y0=be.y0+we,be.y1=be.y1+we,be.targetLinks.forEach(function(Ie){Ie.y1=Ie.y1+we}),be.sourceLinks.forEach(function(Ie){Ie.y0=Ie.y0+we})),be}function ue(be,we,Te,Le){be.nodes.forEach(function(Ie){Le&&Ie.y+(Ie.y1-Ie.y0)>we&&(Ie.y=Ie.y-(Ie.y+(Ie.y1-Ie.y0)-we));var _e=be.links.filter(function(ye){return p(ye.source,Te)==p(Ie,Te)}),fe=_e.length;fe>1&&_e.sort(function(ye,Oe){if(!ye.circular&&!Oe.circular){if(ye.target.column==Oe.target.column||!de(ye,Oe))return ye.y1-Oe.y1;if(ye.target.column>Oe.target.column){var Ae=J(Oe,ye);return ye.y1-Ae}if(Oe.target.column>ye.target.column)return J(ye,Oe)-Oe.y1}return ye.circular&&!Oe.circular?ye.circularLinkType=="top"?-1:1:Oe.circular&&!ye.circular?Oe.circularLinkType=="top"?1:-1:ye.circular&&Oe.circular?ye.circularLinkType===Oe.circularLinkType&&ye.circularLinkType=="top"?ye.target.column===Oe.target.column?ye.target.y1-Oe.target.y1:Oe.target.column-ye.target.column:ye.circularLinkType===Oe.circularLinkType&&ye.circularLinkType=="bottom"?ye.target.column===Oe.target.column?Oe.target.y1-ye.target.y1:ye.target.column-Oe.target.column:ye.circularLinkType=="top"?-1:1:void 0});var le=Ie.y0;_e.forEach(function(ye){ye.y0=le+ye.width/2,le+=ye.width}),_e.forEach(function(ye,Oe){if(ye.circularLinkType=="bottom"){for(var Ae=Oe+1,Se=0;Ae<fe;Ae++)Se+=_e[Ae].width;ye.y0=Ie.y1-Se-ye.width/2}})})}function ce(be,we,Te){be.nodes.forEach(function(Le){var Ie=be.links.filter(function(le){return p(le.target,Te)==p(Le,Te)}),_e=Ie.length;_e>1&&Ie.sort(function(le,ye){if(!le.circular&&!ye.circular){if(le.source.column==ye.source.column||!de(le,ye))return le.y0-ye.y0;if(ye.source.column<le.source.column){var Oe=K(ye,le);return le.y0-Oe}if(le.source.column<ye.source.column)return K(le,ye)-ye.y0}return le.circular&&!ye.circular?le.circularLinkType=="top"?-1:1:ye.circular&&!le.circular?ye.circularLinkType=="top"?1:-1:le.circular&&ye.circular?le.circularLinkType===ye.circularLinkType&&le.circularLinkType=="top"?le.source.column===ye.source.column?le.source.y1-ye.source.y1:le.source.column-ye.source.column:le.circularLinkType===ye.circularLinkType&&le.circularLinkType=="bottom"?le.source.column===ye.source.column?le.source.y1-ye.source.y1:ye.source.column-le.source.column:le.circularLinkType=="top"?-1:1:void 0});var fe=Le.y0;Ie.forEach(function(le){le.y1=fe+le.width/2,fe+=le.width}),Ie.forEach(function(le,ye){if(le.circularLinkType=="bottom"){for(var Oe=ye+1,Ae=0;Oe<_e;Oe++)Ae+=Ie[Oe].width;le.y1=Le.y1-Ae-le.width/2}})})}function de(be,we){return pe(be)==pe(we)}function pe(be){return be.y0-be.y1>0?"up":"down"}function me(be,we){return p(be.source,we)==p(be.target,we)}},26800:function(O,S,e){e.r(S),e.d(S,{sankey:function(){return m},sankeyCenter:function(){return s},sankeyJustify:function(){return c},sankeyLeft:function(){return b},sankeyLinkHorizontal:function(){return p},sankeyRight:function(){return g}});var v=e(84706),x=e(34712);function t(L){return L.target.depth}function b(L){return L.depth}function g(L,M){return M-1-L.height}function c(L,M){return L.sourceLinks.length?L.depth:M-1}function s(L){return L.targetLinks.length?L.depth:L.sourceLinks.length?(0,v.SY)(L.sourceLinks,t)-1:0}function n(L){return function(){return L}}function i(L,M){return r(L.source,M.source)||L.index-M.index}function a(L,M){return r(L.target,M.target)||L.index-M.index}function r(L,M){return L.y0-M.y0}function o(L){return L.value}function l(L){return(L.y0+L.y1)/2}function u(L){return l(L.source)*L.value}function h(L){return l(L.target)*L.value}function f(L){return L.index}function T(L){return L.nodes}function d(L){return L.links}function y(L,M){var C=L.get(M);if(!C)throw new Error("missing: "+M);return C}function m(){var L=0,M=0,C=1,R=1,I=24,D=8,F=f,q=c,z=T,V=d,X=32;function j(){var G={nodes:z.apply(null,arguments),links:V.apply(null,arguments)};return function(ie){ie.nodes.forEach(function(te,K){te.index=K,te.sourceLinks=[],te.targetLinks=[]});var re=(0,x.kH)(ie.nodes,F);ie.links.forEach(function(te,K){te.index=K;var J=te.source,$=te.target;typeof J!="object"&&(J=te.source=y(re,J)),typeof $!="object"&&($=te.target=y(re,$)),J.sourceLinks.push(te),$.targetLinks.push(te)})}(G),function(ie){ie.nodes.forEach(function(re){re.value=Math.max((0,v.oh)(re.sourceLinks,o),(0,v.oh)(re.targetLinks,o))})}(G),function(ie){var re,te,K;for(re=ie.nodes,te=[],K=0;re.length;++K,re=te,te=[])re.forEach(function($){$.depth=K,$.sourceLinks.forEach(function(ae){te.indexOf(ae.target)<0&&te.push(ae.target)})});for(re=ie.nodes,te=[],K=0;re.length;++K,re=te,te=[])re.forEach(function($){$.height=K,$.targetLinks.forEach(function(ae){te.indexOf(ae.source)<0&&te.push(ae.source)})});var J=(C-L-I)/(K-1);ie.nodes.forEach(function($){$.x1=($.x0=L+Math.max(0,Math.min(K-1,Math.floor(q.call(null,$,K))))*J)+I})}(G),function(ie){var re=(0,x.UJ)().key(function(ue){return ue.x0}).sortKeys(v.XE).entries(ie.nodes).map(function(ue){return ue.values});(function(){var ue=(0,v.kv)(re,function(pe){return pe.length}),ce=.6666666666666666*(R-M)/(ue-1);D>ce&&(D=ce);var de=(0,v.SY)(re,function(pe){return(R-M-(pe.length-1)*D)/(0,v.oh)(pe,o)});re.forEach(function(pe){pe.forEach(function(me,be){me.y1=(me.y0=be)+me.value*de})}),ie.links.forEach(function(pe){pe.width=pe.value*de})})(),ae();for(var te=1,K=X;K>0;--K)$(te*=.99),ae(),J(te),ae();function J(ue){re.forEach(function(ce){ce.forEach(function(de){if(de.targetLinks.length){var pe=((0,v.oh)(de.targetLinks,u)/(0,v.oh)(de.targetLinks,o)-l(de))*ue;de.y0+=pe,de.y1+=pe}})})}function $(ue){re.slice().reverse().forEach(function(ce){ce.forEach(function(de){if(de.sourceLinks.length){var pe=((0,v.oh)(de.sourceLinks,h)/(0,v.oh)(de.sourceLinks,o)-l(de))*ue;de.y0+=pe,de.y1+=pe}})})}function ae(){re.forEach(function(ue){var ce,de,pe,me=M,be=ue.length;for(ue.sort(r),pe=0;pe<be;++pe)(de=me-(ce=ue[pe]).y0)>0&&(ce.y0+=de,ce.y1+=de),me=ce.y1+D;if((de=me-D-R)>0)for(me=ce.y0-=de,ce.y1-=de,pe=be-2;pe>=0;--pe)(de=(ce=ue[pe]).y1+D-me)>0&&(ce.y0-=de,ce.y1-=de),me=ce.y0})}}(G),H(G),G}function H(G){G.nodes.forEach(function(ie){ie.sourceLinks.sort(a),ie.targetLinks.sort(i)}),G.nodes.forEach(function(ie){var re=ie.y0,te=re;ie.sourceLinks.forEach(function(K){K.y0=re+K.width/2,re+=K.width}),ie.targetLinks.forEach(function(K){K.y1=te+K.width/2,te+=K.width})})}return j.update=function(G){return H(G),G},j.nodeId=function(G){return arguments.length?(F=typeof G=="function"?G:n(G),j):F},j.nodeAlign=function(G){return arguments.length?(q=typeof G=="function"?G:n(G),j):q},j.nodeWidth=function(G){return arguments.length?(I=+G,j):I},j.nodePadding=function(G){return arguments.length?(D=+G,j):D},j.nodes=function(G){return arguments.length?(z=typeof G=="function"?G:n(G),j):z},j.links=function(G){return arguments.length?(V=typeof G=="function"?G:n(G),j):V},j.size=function(G){return arguments.length?(L=M=0,C=+G[0],R=+G[1],j):[C-L,R-M]},j.extent=function(G){return arguments.length?(L=+G[0][0],C=+G[1][0],M=+G[0][1],R=+G[1][1],j):[[L,M],[C,R]]},j.iterations=function(G){return arguments.length?(X=+G,j):X},j}var w=e(10132);function _(L){return[L.source.x1,L.y0]}function A(L){return[L.target.x0,L.y1]}function p(){return(0,w.ak)().source(_).target(A)}},33428:function(O,S,e){var v,x;(function(){var t={version:"3.8.2"},b=[].slice,g=function(P){return b.call(P)},c=self.document;function s(P){return P&&(P.ownerDocument||P.document||P).documentElement}function n(P){return P&&(P.ownerDocument&&P.ownerDocument.defaultView||P.document&&P||P.defaultView)}if(c)try{g(c.documentElement.childNodes)[0].nodeType}catch{g=function(W){for(var ne=W.length,se=new Array(ne);ne--;)se[ne]=W[ne];return se}}if(Date.now||(Date.now=function(){return+new Date}),c)try{c.createElement("DIV").style.setProperty("opacity",0,"")}catch{var i=this.Element.prototype,a=i.setAttribute,r=i.setAttributeNS,o=this.CSSStyleDeclaration.prototype,l=o.setProperty;i.setAttribute=function(W,ne){a.call(this,W,ne+"")},i.setAttributeNS=function(W,ne,se){r.call(this,W,ne,se+"")},o.setProperty=function(W,ne,se){l.call(this,W,ne+"",se)}}function u(P,W){return P<W?-1:P>W?1:P>=W?0:NaN}function h(P){return P===null?NaN:+P}function f(P){return!isNaN(P)}function T(P){return{left:function(W,ne,se,ve){for(arguments.length<3&&(se=0),arguments.length<4&&(ve=W.length);se<ve;){var ke=se+ve>>>1;P(W[ke],ne)<0?se=ke+1:ve=ke}return se},right:function(W,ne,se,ve){for(arguments.length<3&&(se=0),arguments.length<4&&(ve=W.length);se<ve;){var ke=se+ve>>>1;P(W[ke],ne)>0?ve=ke:se=ke+1}return se}}}t.ascending=u,t.descending=function(P,W){return W<P?-1:W>P?1:W>=P?0:NaN},t.min=function(P,W){var ne,se,ve=-1,ke=P.length;if(arguments.length===1){for(;++ve<ke;)if((se=P[ve])!=null&&se>=se){ne=se;break}for(;++ve<ke;)(se=P[ve])!=null&&ne>se&&(ne=se)}else{for(;++ve<ke;)if((se=W.call(P,P[ve],ve))!=null&&se>=se){ne=se;break}for(;++ve<ke;)(se=W.call(P,P[ve],ve))!=null&&ne>se&&(ne=se)}return ne},t.max=function(P,W){var ne,se,ve=-1,ke=P.length;if(arguments.length===1){for(;++ve<ke;)if((se=P[ve])!=null&&se>=se){ne=se;break}for(;++ve<ke;)(se=P[ve])!=null&&se>ne&&(ne=se)}else{for(;++ve<ke;)if((se=W.call(P,P[ve],ve))!=null&&se>=se){ne=se;break}for(;++ve<ke;)(se=W.call(P,P[ve],ve))!=null&&se>ne&&(ne=se)}return ne},t.extent=function(P,W){var ne,se,ve,ke=-1,De=P.length;if(arguments.length===1){for(;++ke<De;)if((se=P[ke])!=null&&se>=se){ne=ve=se;break}for(;++ke<De;)(se=P[ke])!=null&&(ne>se&&(ne=se),ve<se&&(ve=se))}else{for(;++ke<De;)if((se=W.call(P,P[ke],ke))!=null&&se>=se){ne=ve=se;break}for(;++ke<De;)(se=W.call(P,P[ke],ke))!=null&&(ne>se&&(ne=se),ve<se&&(ve=se))}return[ne,ve]},t.sum=function(P,W){var ne,se=0,ve=P.length,ke=-1;if(arguments.length===1)for(;++ke<ve;)f(ne=+P[ke])&&(se+=ne);else for(;++ke<ve;)f(ne=+W.call(P,P[ke],ke))&&(se+=ne);return se},t.mean=function(P,W){var ne,se=0,ve=P.length,ke=-1,De=ve;if(arguments.length===1)for(;++ke<ve;)f(ne=h(P[ke]))?se+=ne:--De;else for(;++ke<ve;)f(ne=h(W.call(P,P[ke],ke)))?se+=ne:--De;if(De)return se/De},t.quantile=function(P,W){var ne=(P.length-1)*W+1,se=Math.floor(ne),ve=+P[se-1],ke=ne-se;return ke?ve+ke*(P[se]-ve):ve},t.median=function(P,W){var ne,se=[],ve=P.length,ke=-1;if(arguments.length===1)for(;++ke<ve;)f(ne=h(P[ke]))&&se.push(ne);else for(;++ke<ve;)f(ne=h(W.call(P,P[ke],ke)))&&se.push(ne);if(se.length)return t.quantile(se.sort(u),.5)},t.variance=function(P,W){var ne,se,ve=P.length,ke=0,De=0,je=-1,We=0;if(arguments.length===1)for(;++je<ve;)f(ne=h(P[je]))&&(De+=(se=ne-ke)*(ne-(ke+=se/++We)));else for(;++je<ve;)f(ne=h(W.call(P,P[je],je)))&&(De+=(se=ne-ke)*(ne-(ke+=se/++We)));if(We>1)return De/(We-1)},t.deviation=function(){var P=t.variance.apply(this,arguments);return P&&Math.sqrt(P)};var d=T(u);function y(P){return P.length}t.bisectLeft=d.left,t.bisect=t.bisectRight=d.right,t.bisector=function(P){return T(P.length===1?function(W,ne){return u(P(W),ne)}:P)},t.shuffle=function(P,W,ne){(ke=arguments.length)<3&&(ne=P.length,ke<2&&(W=0));for(var se,ve,ke=ne-W;ke;)ve=Math.random()*ke--|0,se=P[ke+W],P[ke+W]=P[ve+W],P[ve+W]=se;return P},t.permute=function(P,W){for(var ne=W.length,se=new Array(ne);ne--;)se[ne]=P[W[ne]];return se},t.pairs=function(P){for(var W=0,ne=P.length-1,se=P[0],ve=new Array(ne<0?0:ne);W<ne;)ve[W]=[se,se=P[++W]];return ve},t.transpose=function(P){if(!(ve=P.length))return[];for(var W=-1,ne=t.min(P,y),se=new Array(ne);++W<ne;)for(var ve,ke=-1,De=se[W]=new Array(ve);++ke<ve;)De[ke]=P[ke][W];return se},t.zip=function(){return t.transpose(arguments)},t.keys=function(P){var W=[];for(var ne in P)W.push(ne);return W},t.values=function(P){var W=[];for(var ne in P)W.push(P[ne]);return W},t.entries=function(P){var W=[];for(var ne in P)W.push({key:ne,value:P[ne]});return W},t.merge=function(P){for(var W,ne,se,ve=P.length,ke=-1,De=0;++ke<ve;)De+=P[ke].length;for(ne=new Array(De);--ve>=0;)for(W=(se=P[ve]).length;--W>=0;)ne[--De]=se[W];return ne};var m=Math.abs;function w(P,W){for(var ne in W)Object.defineProperty(P.prototype,ne,{value:W[ne],enumerable:!1})}function _(){this._=Object.create(null)}t.range=function(P,W,ne){if(arguments.length<3&&(ne=1,arguments.length<2&&(W=P,P=0)),(W-P)/ne==1/0)throw new Error("infinite range");var se,ve=[],ke=function(je){for(var We=1;je*We%1;)We*=10;return We}(m(ne)),De=-1;if(P*=ke,W*=ke,(ne*=ke)<0)for(;(se=P+ne*++De)>W;)ve.push(se/ke);else for(;(se=P+ne*++De)<W;)ve.push(se/ke);return ve},t.map=function(P,W){var ne=new _;if(P instanceof _)P.forEach(function(je,We){ne.set(je,We)});else if(Array.isArray(P)){var se,ve=-1,ke=P.length;if(arguments.length===1)for(;++ve<ke;)ne.set(ve,P[ve]);else for(;++ve<ke;)ne.set(W.call(P,se=P[ve],ve),se)}else for(var De in P)ne.set(De,P[De]);return ne};var A="__proto__",p="\0";function L(P){return(P+="")===A||P[0]===p?p+P:P}function M(P){return(P+="")[0]===p?P.slice(1):P}function C(P){return L(P)in this._}function R(P){return(P=L(P))in this._&&delete this._[P]}function I(){var P=[];for(var W in this._)P.push(M(W));return P}function D(){var P=0;for(var W in this._)++P;return P}function F(){for(var P in this._)return!1;return!0}function q(){this._=Object.create(null)}function z(P){return P}function V(P,W,ne){return function(){var se=ne.apply(W,arguments);return se===W?P:se}}function X(P,W){if(W in P)return W;W=W.charAt(0).toUpperCase()+W.slice(1);for(var ne=0,se=j.length;ne<se;++ne){var ve=j[ne]+W;if(ve in P)return ve}}w(_,{has:C,get:function(P){return this._[L(P)]},set:function(P,W){return this._[L(P)]=W},remove:R,keys:I,values:function(){var P=[];for(var W in this._)P.push(this._[W]);return P},entries:function(){var P=[];for(var W in this._)P.push({key:M(W),value:this._[W]});return P},size:D,empty:F,forEach:function(P){for(var W in this._)P.call(this,M(W),this._[W])}}),t.nest=function(){var P,W,ne={},se=[],ve=[];function ke(je,We,$e){if($e>=se.length)return W?W.call(ne,We):P?We.sort(P):We;for(var at,pt,vt,kt,Ot=-1,St=We.length,jt=se[$e++],It=new _;++Ot<St;)(kt=It.get(at=jt(pt=We[Ot])))?kt.push(pt):It.set(at,[pt]);return je?(pt=je(),vt=function(Jt,$t){pt.set(Jt,ke(je,$t,$e))}):(pt={},vt=function(Jt,$t){pt[Jt]=ke(je,$t,$e)}),It.forEach(vt),pt}function De(je,We){if(We>=se.length)return je;var $e=[],at=ve[We++];return je.forEach(function(pt,vt){$e.push({key:pt,values:De(vt,We)})}),at?$e.sort(function(pt,vt){return at(pt.key,vt.key)}):$e}return ne.map=function(je,We){return ke(We,je,0)},ne.entries=function(je){return De(ke(t.map,je,0),0)},ne.key=function(je){return se.push(je),ne},ne.sortKeys=function(je){return ve[se.length-1]=je,ne},ne.sortValues=function(je){return P=je,ne},ne.rollup=function(je){return W=je,ne},ne},t.set=function(P){var W=new q;if(P)for(var ne=0,se=P.length;ne<se;++ne)W.add(P[ne]);return W},w(q,{has:C,add:function(P){return this._[L(P+="")]=!0,P},remove:R,values:I,size:D,empty:F,forEach:function(P){for(var W in this._)P.call(this,M(W))}}),t.behavior={},t.rebind=function(P,W){for(var ne,se=1,ve=arguments.length;++se<ve;)P[ne=arguments[se]]=V(P,W,W[ne]);return P};var j=["webkit","ms","moz","Moz","o","O"];function H(){}function G(){}function ie(P){var W=[],ne=new _;function se(){for(var ve,ke=W,De=-1,je=ke.length;++De<je;)(ve=ke[De].on)&&ve.apply(this,arguments);return P}return se.on=function(ve,ke){var De,je=ne.get(ve);return arguments.length<2?je&&je.on:(je&&(je.on=null,W=W.slice(0,De=W.indexOf(je)).concat(W.slice(De+1)),ne.remove(ve)),ke&&W.push(ne.set(ve,{on:ke})),P)},se}function re(){t.event.preventDefault()}function te(){for(var P,W=t.event;P=W.sourceEvent;)W=P;return W}function K(P){for(var W=new G,ne=0,se=arguments.length;++ne<se;)W[arguments[ne]]=ie(W);return W.of=function(ve,ke){return function(De){try{var je=De.sourceEvent=t.event;De.target=P,t.event=De,W[De.type].apply(ve,ke)}finally{t.event=je}}},W}t.dispatch=function(){for(var P=new G,W=-1,ne=arguments.length;++W<ne;)P[arguments[W]]=ie(P);return P},G.prototype.on=function(P,W){var ne=P.indexOf("."),se="";if(ne>=0&&(se=P.slice(ne+1),P=P.slice(0,ne)),P)return arguments.length<2?this[P].on(se):this[P].on(se,W);if(arguments.length===2){if(W==null)for(P in this)this.hasOwnProperty(P)&&this[P].on(se,null);return this}},t.event=null,t.requote=function(P){return P.replace(J,"\\$&")};var J=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,$={}.__proto__?function(P,W){P.__proto__=W}:function(P,W){for(var ne in W)P[ne]=W[ne]};function ae(P){return $(P,pe),P}var ue=function(P,W){return W.querySelector(P)},ce=function(P,W){return W.querySelectorAll(P)},de=function(P,W){var ne=P.matches||P[X(P,"matchesSelector")];return de=function(se,ve){return ne.call(se,ve)},de(P,W)};typeof Sizzle=="function"&&(ue=function(P,W){return Sizzle(P,W)[0]||null},ce=Sizzle,de=Sizzle.matchesSelector),t.selection=function(){return t.select(c.documentElement)};var pe=t.selection.prototype=[];function me(P){return typeof P=="function"?P:function(){return ue(P,this)}}function be(P){return typeof P=="function"?P:function(){return ce(P,this)}}pe.select=function(P){var W,ne,se,ve,ke=[];P=me(P);for(var De=-1,je=this.length;++De<je;){ke.push(W=[]),W.parentNode=(se=this[De]).parentNode;for(var We=-1,$e=se.length;++We<$e;)(ve=se[We])?(W.push(ne=P.call(ve,ve.__data__,We,De)),ne&&"__data__"in ve&&(ne.__data__=ve.__data__)):W.push(null)}return ae(ke)},pe.selectAll=function(P){var W,ne,se=[];P=be(P);for(var ve=-1,ke=this.length;++ve<ke;)for(var De=this[ve],je=-1,We=De.length;++je<We;)(ne=De[je])&&(se.push(W=g(P.call(ne,ne.__data__,je,ve))),W.parentNode=ne);return ae(se)};var we="http://www.w3.org/1999/xhtml",Te={svg:"http://www.w3.org/2000/svg",xhtml:we,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Le(P,W){return P=t.ns.qualify(P),W==null?P.local?function(){this.removeAttributeNS(P.space,P.local)}:function(){this.removeAttribute(P)}:typeof W=="function"?P.local?function(){var ne=W.apply(this,arguments);ne==null?this.removeAttributeNS(P.space,P.local):this.setAttributeNS(P.space,P.local,ne)}:function(){var ne=W.apply(this,arguments);ne==null?this.removeAttribute(P):this.setAttribute(P,ne)}:P.local?function(){this.setAttributeNS(P.space,P.local,W)}:function(){this.setAttribute(P,W)}}function Ie(P){return P.trim().replace(/\s+/g," ")}function _e(P){return new RegExp("(?:^|\\s+)"+t.requote(P)+"(?:\\s+|$)","g")}function fe(P){return(P+"").trim().split(/^|\s+/)}function le(P,W){var ne=(P=fe(P).map(ye)).length;return typeof W=="function"?function(){for(var se=-1,ve=W.apply(this,arguments);++se<ne;)P[se](this,ve)}:function(){for(var se=-1;++se<ne;)P[se](this,W)}}function ye(P){var W=_e(P);return function(ne,se){if(ve=ne.classList)return se?ve.add(P):ve.remove(P);var ve=ne.getAttribute("class")||"";se?(W.lastIndex=0,W.test(ve)||ne.setAttribute("class",Ie(ve+" "+P))):ne.setAttribute("class",Ie(ve.replace(W," ")))}}function Oe(P,W,ne){return W==null?function(){this.style.removeProperty(P)}:typeof W=="function"?function(){var se=W.apply(this,arguments);se==null?this.style.removeProperty(P):this.style.setProperty(P,se,ne)}:function(){this.style.setProperty(P,W,ne)}}function Ae(P,W){return W==null?function(){delete this[P]}:typeof W=="function"?function(){var ne=W.apply(this,arguments);ne==null?delete this[P]:this[P]=ne}:function(){this[P]=W}}function Se(P){return typeof P=="function"?P:(P=t.ns.qualify(P)).local?function(){return this.ownerDocument.createElementNS(P.space,P.local)}:function(){var W=this.ownerDocument,ne=this.namespaceURI;return ne===we&&W.documentElement.namespaceURI===we?W.createElement(P):W.createElementNS(ne,P)}}function Pe(){var P=this.parentNode;P&&P.removeChild(this)}function Fe(P){return{__data__:P}}function Be(P){return function(){return de(this,P)}}function xe(P){return arguments.length||(P=u),function(W,ne){return W&&ne?P(W.__data__,ne.__data__):!W-!ne}}function Me(P,W){for(var ne=0,se=P.length;ne<se;ne++)for(var ve,ke=P[ne],De=0,je=ke.length;De<je;De++)(ve=ke[De])&&W(ve,De,ne);return P}function Ce(P){return $(P,Ne),P}t.ns={prefix:Te,qualify:function(P){var W=P.indexOf(":"),ne=P;return W>=0&&(ne=P.slice(0,W))!=="xmlns"&&(P=P.slice(W+1)),Te.hasOwnProperty(ne)?{space:Te[ne],local:P}:P}},pe.attr=function(P,W){if(arguments.length<2){if(typeof P=="string"){var ne=this.node();return(P=t.ns.qualify(P)).local?ne.getAttributeNS(P.space,P.local):ne.getAttribute(P)}for(W in P)this.each(Le(W,P[W]));return this}return this.each(Le(P,W))},pe.classed=function(P,W){if(arguments.length<2){if(typeof P=="string"){var ne=this.node(),se=(P=fe(P)).length,ve=-1;if(W=ne.classList){for(;++ve<se;)if(!W.contains(P[ve]))return!1}else for(W=ne.getAttribute("class");++ve<se;)if(!_e(P[ve]).test(W))return!1;return!0}for(W in P)this.each(le(W,P[W]));return this}return this.each(le(P,W))},pe.style=function(P,W,ne){var se=arguments.length;if(se<3){if(typeof P!="string"){for(ne in se<2&&(W=""),P)this.each(Oe(ne,P[ne],W));return this}if(se<2){var ve=this.node();return n(ve).getComputedStyle(ve,null).getPropertyValue(P)}ne=""}return this.each(Oe(P,W,ne))},pe.property=function(P,W){if(arguments.length<2){if(typeof P=="string")return this.node()[P];for(W in P)this.each(Ae(W,P[W]));return this}return this.each(Ae(P,W))},pe.text=function(P){return arguments.length?this.each(typeof P=="function"?function(){var W=P.apply(this,arguments);this.textContent=W??""}:P==null?function(){this.textContent=""}:function(){this.textContent=P}):this.node().textContent},pe.html=function(P){return arguments.length?this.each(typeof P=="function"?function(){var W=P.apply(this,arguments);this.innerHTML=W??""}:P==null?function(){this.innerHTML=""}:function(){this.innerHTML=P}):this.node().innerHTML},pe.append=function(P){return P=Se(P),this.select(function(){return this.appendChild(P.apply(this,arguments))})},pe.insert=function(P,W){return P=Se(P),W=me(W),this.select(function(){return this.insertBefore(P.apply(this,arguments),W.apply(this,arguments)||null)})},pe.remove=function(){return this.each(Pe)},pe.data=function(P,W){var ne,se,ve=-1,ke=this.length;if(!arguments.length){for(P=new Array(ke=(ne=this[0]).length);++ve<ke;)(se=ne[ve])&&(P[ve]=se.__data__);return P}function De(at,pt){var vt,kt,Ot,St=at.length,jt=pt.length,It=Math.min(St,jt),Jt=new Array(jt),$t=new Array(jt),Ht=new Array(St);if(W){var vn,bn=new _,Ln=new Array(St);for(vt=-1;++vt<St;)(kt=at[vt])&&(bn.has(vn=W.call(kt,kt.__data__,vt))?Ht[vt]=kt:bn.set(vn,kt),Ln[vt]=vn);for(vt=-1;++vt<jt;)(kt=bn.get(vn=W.call(pt,Ot=pt[vt],vt)))?kt!==!0&&(Jt[vt]=kt,kt.__data__=Ot):$t[vt]=Fe(Ot),bn.set(vn,!0);for(vt=-1;++vt<St;)vt in Ln&&bn.get(Ln[vt])!==!0&&(Ht[vt]=at[vt])}else{for(vt=-1;++vt<It;)kt=at[vt],Ot=pt[vt],kt?(kt.__data__=Ot,Jt[vt]=kt):$t[vt]=Fe(Ot);for(;vt<jt;++vt)$t[vt]=Fe(pt[vt]);for(;vt<St;++vt)Ht[vt]=at[vt]}$t.update=Jt,$t.parentNode=Jt.parentNode=Ht.parentNode=at.parentNode,je.push($t),We.push(Jt),$e.push(Ht)}var je=Ce([]),We=ae([]),$e=ae([]);if(typeof P=="function")for(;++ve<ke;)De(ne=this[ve],P.call(ne,ne.parentNode.__data__,ve));else for(;++ve<ke;)De(ne=this[ve],P);return We.enter=function(){return je},We.exit=function(){return $e},We},pe.datum=function(P){return arguments.length?this.property("__data__",P):this.property("__data__")},pe.filter=function(P){var W,ne,se,ve=[];typeof P!="function"&&(P=Be(P));for(var ke=0,De=this.length;ke<De;ke++){ve.push(W=[]),W.parentNode=(ne=this[ke]).parentNode;for(var je=0,We=ne.length;je<We;je++)(se=ne[je])&&P.call(se,se.__data__,je,ke)&&W.push(se)}return ae(ve)},pe.order=function(){for(var P=-1,W=this.length;++P<W;)for(var ne,se=this[P],ve=se.length-1,ke=se[ve];--ve>=0;)(ne=se[ve])&&(ke&&ke!==ne.nextSibling&&ke.parentNode.insertBefore(ne,ke),ke=ne);return this},pe.sort=function(P){P=xe.apply(this,arguments);for(var W=-1,ne=this.length;++W<ne;)this[W].sort(P);return this.order()},pe.each=function(P){return Me(this,function(W,ne,se){P.call(W,W.__data__,ne,se)})},pe.call=function(P){var W=g(arguments);return P.apply(W[0]=this,W),this},pe.empty=function(){return!this.node()},pe.node=function(){for(var P=0,W=this.length;P<W;P++)for(var ne=this[P],se=0,ve=ne.length;se<ve;se++){var ke=ne[se];if(ke)return ke}return null},pe.size=function(){var P=0;return Me(this,function(){++P}),P};var Ne=[];function Re(P,W,ne){var se="__on"+P,ve=P.indexOf("."),ke=Ye;ve>0&&(P=P.slice(0,ve));var De=He.get(P);function je(){var We=this[se];We&&(this.removeEventListener(P,We,We.$),delete this[se])}return De&&(P=De,ke=Qe),ve?W?function(){var We=ke(W,g(arguments));je.call(this),this.addEventListener(P,this[se]=We,We.$=ne),We._=W}:je:W?H:function(){var We,$e=new RegExp("^__on([^.]+)"+t.requote(P)+"$");for(var at in this)if(We=at.match($e)){var pt=this[at];this.removeEventListener(We[1],pt,pt.$),delete this[at]}}}t.selection.enter=Ce,t.selection.enter.prototype=Ne,Ne.append=pe.append,Ne.empty=pe.empty,Ne.node=pe.node,Ne.call=pe.call,Ne.size=pe.size,Ne.select=function(P){for(var W,ne,se,ve,ke,De=[],je=-1,We=this.length;++je<We;){se=(ve=this[je]).update,De.push(W=[]),W.parentNode=ve.parentNode;for(var $e=-1,at=ve.length;++$e<at;)(ke=ve[$e])?(W.push(se[$e]=ne=P.call(ve.parentNode,ke.__data__,$e,je)),ne.__data__=ke.__data__):W.push(null)}return ae(De)},Ne.insert=function(P,W){var ne,se,ve;return arguments.length<2&&(ne=this,W=function(ke,De,je){var We,$e=ne[je].update,at=$e.length;for(je!=ve&&(ve=je,se=0),De>=se&&(se=De+1);!(We=$e[se])&&++se<at;);return We}),pe.insert.call(this,P,W)},t.select=function(P){var W;return typeof P=="string"?(W=[ue(P,c)]).parentNode=c.documentElement:(W=[P]).parentNode=s(P),ae([W])},t.selectAll=function(P){var W;return typeof P=="string"?(W=g(ce(P,c))).parentNode=c.documentElement:(W=g(P)).parentNode=null,ae([W])},pe.on=function(P,W,ne){var se=arguments.length;if(se<3){if(typeof P!="string"){for(ne in se<2&&(W=!1),P)this.each(Re(ne,P[ne],W));return this}if(se<2)return(se=this.node()["__on"+P])&&se._;ne=!1}return this.each(Re(P,W,ne))};var He=t.map({mouseenter:"mouseover",mouseleave:"mouseout"});function Ye(P,W){return function(ne){var se=t.event;t.event=ne,W[0]=this.__data__;try{P.apply(this,W)}finally{t.event=se}}}function Qe(P,W){var ne=Ye(P,W);return function(se){var ve=this,ke=se.relatedTarget;ke&&(ke===ve||8&ke.compareDocumentPosition(ve))||ne.call(ve,se)}}c&&He.forEach(function(P){"on"+P in c&&He.remove(P)});var lt,ut=0;function xt(P){var W=".dragsuppress-"+ ++ut,ne="click"+W,se=t.select(n(P)).on("touchmove"+W,re).on("dragstart"+W,re).on("selectstart"+W,re);if(lt==null&&(lt=!("onselectstart"in P)&&X(P.style,"userSelect")),lt){var ve=s(P).style,ke=ve[lt];ve[lt]="none"}return function(De){if(se.on(W,null),lt&&(ve[lt]=ke),De){var je=function(){se.on(ne,null)};se.on(ne,function(){re(),je()},!0),setTimeout(je,0)}}}t.mouse=function(P){return mt(P,te())};var _t=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function mt(P,W){W.changedTouches&&(W=W.changedTouches[0]);var ne=P.ownerSVGElement||P;if(ne.createSVGPoint){var se=ne.createSVGPoint();if(_t<0){var ve=n(P);if(ve.scrollX||ve.scrollY){var ke=(ne=t.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();_t=!(ke.f||ke.e),ne.remove()}}return _t?(se.x=W.pageX,se.y=W.pageY):(se.x=W.clientX,se.y=W.clientY),[(se=se.matrixTransform(P.getScreenCTM().inverse())).x,se.y]}var De=P.getBoundingClientRect();return[W.clientX-De.left-P.clientLeft,W.clientY-De.top-P.clientTop]}function it(){return t.event.changedTouches[0].identifier}t.touch=function(P,W,ne){if(arguments.length<3&&(ne=W,W=te().changedTouches),W){for(var se,ve=0,ke=W.length;ve<ke;++ve)if((se=W[ve]).identifier===ne)return mt(P,se)}},t.behavior.drag=function(){var P=K(ve,"drag","dragstart","dragend"),W=null,ne=ke(H,t.mouse,n,"mousemove","mouseup"),se=ke(it,t.touch,z,"touchmove","touchend");function ve(){this.on("mousedown.drag",ne).on("touchstart.drag",se)}function ke(De,je,We,$e,at){return function(){var pt,vt=this,kt=t.event.target.correspondingElement||t.event.target,Ot=vt.parentNode,St=P.of(vt,arguments),jt=0,It=De(),Jt=".drag"+(It==null?"":"-"+It),$t=t.select(We(kt)).on($e+Jt,function(){var bn,Ln,zn=je(Ot,It);zn&&(bn=zn[0]-vn[0],Ln=zn[1]-vn[1],jt|=bn|Ln,vn=zn,St({type:"drag",x:zn[0]+pt[0],y:zn[1]+pt[1],dx:bn,dy:Ln}))}).on(at+Jt,function(){je(Ot,It)&&($t.on($e+Jt,null).on(at+Jt,null),Ht(jt),St({type:"dragend"}))}),Ht=xt(kt),vn=je(Ot,It);pt=W?[(pt=W.apply(vt,arguments)).x-vn[0],pt.y-vn[1]]:[0,0],St({type:"dragstart"})}}return ve.origin=function(De){return arguments.length?(W=De,ve):W},t.rebind(ve,P,"on")},t.touches=function(P,W){return arguments.length<2&&(W=te().touches),W?g(W).map(function(ne){var se=mt(P,ne);return se.identifier=ne.identifier,se}):[]};var nt=1e-6,Et=nt*nt,zt=Math.PI,Ft=2*zt,Pt=Ft-nt,Ze=zt/2,Je=zt/180,qe=180/zt;function Ke(P){return P>1?Ze:P<-1?-Ze:Math.asin(P)}function ft(P){return((P=Math.exp(P))+1/P)/2}var ot=Math.SQRT2;t.interpolateZoom=function(P,W){var ne,se,ve=P[0],ke=P[1],De=P[2],je=W[0],We=W[1],$e=W[2],at=je-ve,pt=We-ke,vt=at*at+pt*pt;if(vt<Et)se=Math.log($e/De)/ot,ne=function(Jt){return[ve+Jt*at,ke+Jt*pt,De*Math.exp(ot*Jt*se)]};else{var kt=Math.sqrt(vt),Ot=($e*$e-De*De+4*vt)/(2*De*2*kt),St=($e*$e-De*De-4*vt)/(2*$e*2*kt),jt=Math.log(Math.sqrt(Ot*Ot+1)-Ot),It=Math.log(Math.sqrt(St*St+1)-St);se=(It-jt)/ot,ne=function(Jt){var $t,Ht=Jt*se,vn=ft(jt),bn=De/(2*kt)*(vn*($t=ot*Ht+jt,(($t=Math.exp(2*$t))-1)/($t+1))-function(Ln){return((Ln=Math.exp(Ln))-1/Ln)/2}(jt));return[ve+bn*at,ke+bn*pt,De*vn/ft(ot*Ht+jt)]}}return ne.duration=1e3*se,ne},t.behavior.zoom=function(){var P,W,ne,se,ve,ke,De,je,We,$e={x:0,y:0,k:1},at=[960,500],pt=st,vt=250,kt=0,Ot="mousedown.zoom",St="mousemove.zoom",jt="mouseup.zoom",It="touchstart.zoom",Jt=K($t,"zoomstart","zoom","zoomend");function $t(nr){nr.on(Ot,Xn).on(Ve+".zoom",Ar).on("dblclick.zoom",zr).on(It,hr)}function Ht(nr){return[(nr[0]-$e.x)/$e.k,(nr[1]-$e.y)/$e.k]}function vn(nr){$e.k=Math.max(pt[0],Math.min(pt[1],nr))}function bn(nr,fr){fr=function(Lr){return[Lr[0]*$e.k+$e.x,Lr[1]*$e.k+$e.y]}(fr),$e.x+=nr[0]-fr[0],$e.y+=nr[1]-fr[1]}function Ln(nr,fr,Lr,gr){nr.__chart__={x:$e.x,y:$e.y,k:$e.k},vn(Math.pow(2,gr)),bn(W=fr,Lr),nr=t.select(nr),vt>0&&(nr=nr.transition().duration(vt)),nr.call($t.event)}function zn(){De&&De.domain(ke.range().map(function(nr){return(nr-$e.x)/$e.k}).map(ke.invert)),We&&We.domain(je.range().map(function(nr){return(nr-$e.y)/$e.k}).map(je.invert))}function Gn(nr){kt++||nr({type:"zoomstart"})}function or(nr){zn(),nr({type:"zoom",scale:$e.k,translate:[$e.x,$e.y]})}function dr(nr){--kt||(nr({type:"zoomend"}),W=null)}function Xn(){var nr=this,fr=Jt.of(nr,arguments),Lr=0,gr=t.select(n(nr)).on(St,function(){Lr=1,bn(t.mouse(nr),Ir),or(fr)}).on(jt,function(){gr.on(St,null).on(jt,null),Nr(Lr),dr(fr)}),Ir=Ht(t.mouse(nr)),Nr=xt(nr);go.call(nr),Gn(fr)}function hr(){var nr,fr=this,Lr=Jt.of(fr,arguments),gr={},Ir=0,Nr=".zoom-"+t.event.changedTouches[0].identifier,ei="touchmove"+Nr,ni="touchend"+Nr,ui=[],di=t.select(fr),Bi=xt(fr);function ia(){var qi=t.touches(fr);return nr=$e.k,qi.forEach(function(vi){vi.identifier in gr&&(gr[vi.identifier]=Ht(vi))}),qi}function Ga(){var qi=t.event.target;t.select(qi).on(ei,xa).on(ni,Ba),ui.push(qi);for(var vi=t.event.changedTouches,Ki=0,Pi=vi.length;Ki<Pi;++Ki)gr[vi[Ki].identifier]=null;var bi=ia(),Ji=Date.now();if(bi.length===1){if(Ji-ve<500){var aa=bi[0];Ln(fr,aa,gr[aa.identifier],Math.floor(Math.log($e.k)/Math.LN2)+1),re()}ve=Ji}else if(bi.length>1){aa=bi[0];var da=bi[1],Nl=aa[0]-da[0],jl=aa[1]-da[1];Ir=Nl*Nl+jl*jl}}function xa(){var qi,vi,Ki,Pi,bi=t.touches(fr);go.call(fr);for(var Ji=0,aa=bi.length;Ji<aa;++Ji,Pi=null)if(Ki=bi[Ji],Pi=gr[Ki.identifier]){if(vi)break;qi=Ki,vi=Pi}if(Pi){var da=(da=Ki[0]-qi[0])*da+(da=Ki[1]-qi[1])*da,Nl=Ir&&Math.sqrt(da/Ir);qi=[(qi[0]+Ki[0])/2,(qi[1]+Ki[1])/2],vi=[(vi[0]+Pi[0])/2,(vi[1]+Pi[1])/2],vn(Nl*nr)}ve=null,bn(qi,vi),or(Lr)}function Ba(){if(t.event.touches.length){for(var qi=t.event.changedTouches,vi=0,Ki=qi.length;vi<Ki;++vi)delete gr[qi[vi].identifier];for(var Pi in gr)return void ia()}t.selectAll(ui).on(Nr,null),di.on(Ot,Xn).on(It,hr),Bi(),dr(Lr)}Ga(),Gn(Lr),di.on(Ot,null).on(It,Ga)}function Ar(){var nr=Jt.of(this,arguments);se?clearTimeout(se):(go.call(this),P=Ht(W=ne||t.mouse(this)),Gn(nr)),se=setTimeout(function(){se=null,dr(nr)},50),re(),vn(Math.pow(2,.002*Ue())*$e.k),bn(W,P),or(nr)}function zr(){var nr=t.mouse(this),fr=Math.log($e.k)/Math.LN2;Ln(this,nr,Ht(nr),t.event.shiftKey?Math.ceil(fr)-1:Math.floor(fr)+1)}return Ve||(Ve="onwheel"in c?(Ue=function(){return-t.event.deltaY*(t.event.deltaMode?120:1)},"wheel"):"onmousewheel"in c?(Ue=function(){return t.event.wheelDelta},"mousewheel"):(Ue=function(){return-t.event.detail},"MozMousePixelScroll")),$t.event=function(nr){nr.each(function(){var fr=Jt.of(this,arguments),Lr=$e;ua?t.select(this).transition().each("start.zoom",function(){$e=this.__chart__||{x:0,y:0,k:1},Gn(fr)}).tween("zoom:zoom",function(){var gr=at[0],Ir=at[1],Nr=W?W[0]:gr/2,ei=W?W[1]:Ir/2,ni=t.interpolateZoom([(Nr-$e.x)/$e.k,(ei-$e.y)/$e.k,gr/$e.k],[(Nr-Lr.x)/Lr.k,(ei-Lr.y)/Lr.k,gr/Lr.k]);return function(ui){var di=ni(ui),Bi=gr/di[2];this.__chart__=$e={x:Nr-di[0]*Bi,y:ei-di[1]*Bi,k:Bi},or(fr)}}).each("interrupt.zoom",function(){dr(fr)}).each("end.zoom",function(){dr(fr)}):(this.__chart__=$e,Gn(fr),or(fr),dr(fr))})},$t.translate=function(nr){return arguments.length?($e={x:+nr[0],y:+nr[1],k:$e.k},zn(),$t):[$e.x,$e.y]},$t.scale=function(nr){return arguments.length?($e={x:$e.x,y:$e.y,k:null},vn(+nr),zn(),$t):$e.k},$t.scaleExtent=function(nr){return arguments.length?(pt=nr==null?st:[+nr[0],+nr[1]],$t):pt},$t.center=function(nr){return arguments.length?(ne=nr&&[+nr[0],+nr[1]],$t):ne},$t.size=function(nr){return arguments.length?(at=nr&&[+nr[0],+nr[1]],$t):at},$t.duration=function(nr){return arguments.length?(vt=+nr,$t):vt},$t.x=function(nr){return arguments.length?(De=nr,ke=nr.copy(),$e={x:0,y:0,k:1},$t):De},$t.y=function(nr){return arguments.length?(We=nr,je=nr.copy(),$e={x:0,y:0,k:1},$t):We},t.rebind($t,Jt,"on")};var Ue,Ve,st=[0,1/0];function Xe(){}function gt(P,W,ne){return this instanceof gt?(this.h=+P,this.s=+W,void(this.l=+ne)):arguments.length<2?P instanceof gt?new gt(P.h,P.s,P.l):pn(""+P,wn,gt):new gt(P,W,ne)}t.color=Xe,Xe.prototype.toString=function(){return this.rgb()+""},t.hsl=gt;var yt=gt.prototype=new Xe;function bt(P,W,ne){var se,ve;function ke(De){return Math.round(255*function(je){return je>360?je-=360:je<0&&(je+=360),je<60?se+(ve-se)*je/60:je<180?ve:je<240?se+(ve-se)*(240-je)/60:se}(De))}return P=isNaN(P)?0:(P%=360)<0?P+360:P,W=isNaN(W)||W<0?0:W>1?1:W,se=2*(ne=ne<0?0:ne>1?1:ne)-(ve=ne<=.5?ne*(1+W):ne+W-ne*W),new An(ke(P+120),ke(P),ke(P-120))}function dt(P,W,ne){return this instanceof dt?(this.h=+P,this.c=+W,void(this.l=+ne)):arguments.length<2?P instanceof dt?new dt(P.h,P.c,P.l):function(se,ve,ke){return se>0?new dt(Math.atan2(ke,ve)*qe,Math.sqrt(ve*ve+ke*ke),se):new dt(NaN,NaN,se)}(P instanceof Ct?P.l:(P=kn((P=t.rgb(P)).r,P.g,P.b)).l,P.a,P.b):new dt(P,W,ne)}yt.brighter=function(P){return P=Math.pow(.7,arguments.length?P:1),new gt(this.h,this.s,this.l/P)},yt.darker=function(P){return P=Math.pow(.7,arguments.length?P:1),new gt(this.h,this.s,P*this.l)},yt.rgb=function(){return bt(this.h,this.s,this.l)},t.hcl=dt;var Lt=dt.prototype=new Xe;function wt(P,W,ne){return isNaN(P)&&(P=0),isNaN(W)&&(W=0),new Ct(ne,Math.cos(P*=Je)*W,Math.sin(P)*W)}function Ct(P,W,ne){return this instanceof Ct?(this.l=+P,this.a=+W,void(this.b=+ne)):arguments.length<2?P instanceof Ct?new Ct(P.l,P.a,P.b):P instanceof dt?wt(P.h,P.c,P.l):kn((P=An(P)).r,P.g,P.b):new Ct(P,W,ne)}Lt.brighter=function(P){return new dt(this.h,this.c,Math.min(100,this.l+Rt*(arguments.length?P:1)))},Lt.darker=function(P){return new dt(this.h,this.c,Math.max(0,this.l-Rt*(arguments.length?P:1)))},Lt.rgb=function(){return wt(this.h,this.c,this.l).rgb()},t.lab=Ct;var Rt=18,Dt=.95047,Nt=1,Xt=1.08883,un=Ct.prototype=new Xe;function qt(P,W,ne){var se=(P+16)/116,ve=se+W/500,ke=se-ne/200;return new An(Rn(3.2404542*(ve=Kt(ve)*Dt)-1.5371385*(se=Kt(se)*Nt)-.4985314*(ke=Kt(ke)*Xt)),Rn(-.969266*ve+1.8760108*se+.041556*ke),Rn(.0556434*ve-.2040259*se+1.0572252*ke))}function Kt(P){return P>.206893034?P*P*P:(P-.13793103448275862)/7.787037}function Ut(P){return P>.008856?Math.pow(P,.3333333333333333):7.787037*P+.13793103448275862}function Rn(P){return Math.round(255*(P<=.00304?12.92*P:1.055*Math.pow(P,.4166666666666667)-.055))}function An(P,W,ne){return this instanceof An?(this.r=~~P,this.g=~~W,void(this.b=~~ne)):arguments.length<2?P instanceof An?new An(P.r,P.g,P.b):pn(""+P,An,bt):new An(P,W,ne)}function mn(P){return new An(P>>16,P>>8&255,255&P)}function tn(P){return mn(P)+""}un.brighter=function(P){return new Ct(Math.min(100,this.l+Rt*(arguments.length?P:1)),this.a,this.b)},un.darker=function(P){return new Ct(Math.max(0,this.l-Rt*(arguments.length?P:1)),this.a,this.b)},un.rgb=function(){return qt(this.l,this.a,this.b)},t.rgb=An;var fn=An.prototype=new Xe;function rn(P){return P<16?"0"+Math.max(0,P).toString(16):Math.min(255,P).toString(16)}function pn(P,W,ne){var se,ve,ke,De=0,je=0,We=0;if(se=/([a-z]+)\((.*)\)/.exec(P=P.toLowerCase()))switch(ve=se[2].split(","),se[1]){case"hsl":return ne(parseFloat(ve[0]),parseFloat(ve[1])/100,parseFloat(ve[2])/100);case"rgb":return W(On(ve[0]),On(ve[1]),On(ve[2]))}return(ke=En.get(P))?W(ke.r,ke.g,ke.b):(P==null||P.charAt(0)!=="#"||isNaN(ke=parseInt(P.slice(1),16))||(P.length===4?(De=(3840&ke)>>4,De|=De>>4,je=240&ke,je|=je>>4,We=15&ke,We|=We<<4):P.length===7&&(De=(16711680&ke)>>16,je=(65280&ke)>>8,We=255&ke)),W(De,je,We))}function wn(P,W,ne){var se,ve,ke=Math.min(P/=255,W/=255,ne/=255),De=Math.max(P,W,ne),je=De-ke,We=(De+ke)/2;return je?(ve=We<.5?je/(De+ke):je/(2-De-ke),se=P==De?(W-ne)/je+(W<ne?6:0):W==De?(ne-P)/je+2:(P-W)/je+4,se*=60):(se=NaN,ve=We>0&&We<1?0:se),new gt(se,ve,We)}function kn(P,W,ne){var se=Ut((.4124564*(P=Pn(P))+.3575761*(W=Pn(W))+.1804375*(ne=Pn(ne)))/Dt),ve=Ut((.2126729*P+.7151522*W+.072175*ne)/Nt);return Ct(116*ve-16,500*(se-ve),200*(ve-Ut((.0193339*P+.119192*W+.9503041*ne)/Xt)))}function Pn(P){return(P/=255)<=.04045?P/12.92:Math.pow((P+.055)/1.055,2.4)}function On(P){var W=parseFloat(P);return P.charAt(P.length-1)==="%"?Math.round(2.55*W):W}fn.brighter=function(P){P=Math.pow(.7,arguments.length?P:1);var W=this.r,ne=this.g,se=this.b,ve=30;return W||ne||se?(W&&W<ve&&(W=ve),ne&&ne<ve&&(ne=ve),se&&se<ve&&(se=ve),new An(Math.min(255,W/P),Math.min(255,ne/P),Math.min(255,se/P))):new An(ve,ve,ve)},fn.darker=function(P){return new An((P=Math.pow(.7,arguments.length?P:1))*this.r,P*this.g,P*this.b)},fn.hsl=function(){return wn(this.r,this.g,this.b)},fn.toString=function(){return"#"+rn(this.r)+rn(this.g)+rn(this.b)};var En=t.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function Vn(P){return typeof P=="function"?P:function(){return P}}function Bn(P){return function(W,ne,se){return arguments.length===2&&typeof ne=="function"&&(se=ne,ne=null),Wn(W,ne,P,se)}}function Wn(P,W,ne,se){var ve={},ke=t.dispatch("beforesend","progress","load","error"),De={},je=new XMLHttpRequest,We=null;function $e(){var at,pt=je.status;if(!pt&&function(vt){var kt=vt.responseType;return kt&&kt!=="text"?vt.response:vt.responseText}(je)||pt>=200&&pt<300||pt===304){try{at=ne.call(ve,je)}catch(vt){return void ke.error.call(ve,vt)}ke.load.call(ve,at)}else ke.error.call(ve,je)}return self.XDomainRequest&&!("withCredentials"in je)&&/^(http(s)?:)?\/\//.test(P)&&(je=new XDomainRequest),"onload"in je?je.onload=je.onerror=$e:je.onreadystatechange=function(){je.readyState>3&&$e()},je.onprogress=function(at){var pt=t.event;t.event=at;try{ke.progress.call(ve,je)}finally{t.event=pt}},ve.header=function(at,pt){return at=(at+"").toLowerCase(),arguments.length<2?De[at]:(pt==null?delete De[at]:De[at]=pt+"",ve)},ve.mimeType=function(at){return arguments.length?(W=at==null?null:at+"",ve):W},ve.responseType=function(at){return arguments.length?(We=at,ve):We},ve.response=function(at){return ne=at,ve},["get","post"].forEach(function(at){ve[at]=function(){return ve.send.apply(ve,[at].concat(g(arguments)))}}),ve.send=function(at,pt,vt){if(arguments.length===2&&typeof pt=="function"&&(vt=pt,pt=null),je.open(at,P,!0),W==null||"accept"in De||(De.accept=W+",*/*"),je.setRequestHeader)for(var kt in De)je.setRequestHeader(kt,De[kt]);return W!=null&&je.overrideMimeType&&je.overrideMimeType(W),We!=null&&(je.responseType=We),vt!=null&&ve.on("error",vt).on("load",function(Ot){vt(null,Ot)}),ke.beforesend.call(ve,je),je.send(pt??null),ve},ve.abort=function(){return je.abort(),ve},t.rebind(ve,ke,"on"),se==null?ve:ve.get(function(at){return at.length===1?function(pt,vt){at(pt==null?vt:null)}:at}(se))}En.forEach(function(P,W){En.set(P,mn(W))}),t.functor=Vn,t.xhr=Bn(z),t.dsv=function(P,W){var ne=new RegExp('["'+P+`
]`),se=P.charCodeAt(0);function ve($e,at,pt){arguments.length<3&&(pt=at,at=null);var vt=Wn($e,W,at==null?ke:De(at),pt);return vt.row=function(kt){return arguments.length?vt.response((at=kt)==null?ke:De(kt)):at},vt}function ke($e){return ve.parse($e.responseText)}function De($e){return function(at){return ve.parse(at.responseText,$e)}}function je($e){return $e.map(We).join(P)}function We($e){return ne.test($e)?'"'+$e.replace(/\"/g,'""')+'"':$e}return ve.parse=function($e,at){var pt;return ve.parseRows($e,function(vt,kt){if(pt)return pt(vt,kt-1);var Ot=function(St){for(var jt={},It=vt.length,Jt=0;Jt<It;++Jt)jt[vt[Jt]]=St[Jt];return jt};pt=at?function(St,jt){return at(Ot(St),jt)}:Ot})},ve.parseRows=function($e,at){var pt,vt,kt={},Ot={},St=[],jt=$e.length,It=0,Jt=0;function $t(){if(It>=jt)return Ot;if(vt)return vt=!1,kt;var vn=It;if($e.charCodeAt(vn)===34){for(var bn=vn;bn++<jt;)if($e.charCodeAt(bn)===34){if($e.charCodeAt(bn+1)!==34)break;++bn}return It=bn+2,(Ln=$e.charCodeAt(bn+1))===13?(vt=!0,$e.charCodeAt(bn+2)===10&&++It):Ln===10&&(vt=!0),$e.slice(vn+1,bn).replace(/""/g,'"')}for(;It<jt;){var Ln,zn=1;if((Ln=$e.charCodeAt(It++))===10)vt=!0;else if(Ln===13)vt=!0,$e.charCodeAt(It)===10&&(++It,++zn);else if(Ln!==se)continue;return $e.slice(vn,It-zn)}return $e.slice(vn)}for(;(pt=$t())!==Ot;){for(var Ht=[];pt!==kt&&pt!==Ot;)Ht.push(pt),pt=$t();at&&(Ht=at(Ht,Jt++))==null||St.push(Ht)}return St},ve.format=function($e){if(Array.isArray($e[0]))return ve.formatRows($e);var at=new q,pt=[];return $e.forEach(function(vt){for(var kt in vt)at.has(kt)||pt.push(at.add(kt))}),[pt.map(We).join(P)].concat($e.map(function(vt){return pt.map(function(kt){return We(vt[kt])}).join(P)})).join(`
`)},ve.formatRows=function($e){return $e.map(je).join(`
`)},ve},t.csv=t.dsv(",","text/csv"),t.tsv=t.dsv("	","text/tab-separated-values");var rr,ir,Kn,vr,nn=this[X(this,"requestAnimationFrame")]||function(P){setTimeout(P,17)};function an(P,W,ne){var se=arguments.length;se<2&&(W=0),se<3&&(ne=Date.now());var ve={c:P,t:ne+W,n:null};return ir?ir.n=ve:rr=ve,ir=ve,Kn||(vr=clearTimeout(vr),Kn=1,nn(In)),ve}function In(){var P=yn(),W=Dn()-P;W>24?(isFinite(W)&&(clearTimeout(vr),vr=setTimeout(In,W)),Kn=0):(Kn=1,nn(In))}function yn(){for(var P=Date.now(),W=rr;W;)P>=W.t&&W.c(P-W.t)&&(W.c=null),W=W.n;return P}function Dn(){for(var P,W=rr,ne=1/0;W;)W.c?(W.t<ne&&(ne=W.t),W=(P=W).n):W=P?P.n=W.n:rr=W.n;return ir=P,ne}function $n(P){return P[0]}function Hn(P){return P[1]}function Qn(P){for(var W,ne,se,ve=P.length,ke=[0,1],De=2,je=2;je<ve;je++){for(;De>1&&(W=P[ke[De-2]],ne=P[ke[De-1]],se=P[je],(ne[0]-W[0])*(se[1]-W[1])-(ne[1]-W[1])*(se[0]-W[0])<=0);)--De;ke[De++]=je}return ke.slice(0,De)}function xr(P,W){return P[0]-W[0]||P[1]-W[1]}t.timer=function(){an.apply(this,arguments)},t.timer.flush=function(){yn(),Dn()},t.round=function(P,W){return W?Math.round(P*(W=Math.pow(10,W)))/W:Math.round(P)},t.geom={},t.geom.hull=function(P){var W=$n,ne=Hn;if(arguments.length)return se(P);function se(ve){if(ve.length<3)return[];var ke,De=Vn(W),je=Vn(ne),We=ve.length,$e=[],at=[];for(ke=0;ke<We;ke++)$e.push([+De.call(this,ve[ke],ke),+je.call(this,ve[ke],ke),ke]);for($e.sort(xr),ke=0;ke<We;ke++)at.push([$e[ke][0],-$e[ke][1]]);var pt=Qn($e),vt=Qn(at),kt=vt[0]===pt[0],Ot=vt[vt.length-1]===pt[pt.length-1],St=[];for(ke=pt.length-1;ke>=0;--ke)St.push(ve[$e[pt[ke]][2]]);for(ke=+kt;ke<vt.length-Ot;++ke)St.push(ve[$e[vt[ke]][2]]);return St}return se.x=function(ve){return arguments.length?(W=ve,se):W},se.y=function(ve){return arguments.length?(ne=ve,se):ne},se},t.geom.polygon=function(P){return $(P,Qt),P};var Qt=t.geom.polygon.prototype=[];function xn(P,W,ne){return(ne[0]-W[0])*(P[1]-W[1])<(ne[1]-W[1])*(P[0]-W[0])}function At(P,W,ne,se){var ve=P[0],ke=ne[0],De=W[0]-ve,je=se[0]-ke,We=P[1],$e=ne[1],at=W[1]-We,pt=se[1]-$e,vt=(je*(We-$e)-pt*(ve-ke))/(pt*De-je*at);return[ve+vt*De,We+vt*at]}function Wt(P){var W=P[0],ne=P[P.length-1];return!(W[0]-ne[0]||W[1]-ne[1])}Qt.area=function(){for(var P,W=-1,ne=this.length,se=this[ne-1],ve=0;++W<ne;)P=se,se=this[W],ve+=P[1]*se[0]-P[0]*se[1];return .5*ve},Qt.centroid=function(P){var W,ne,se=-1,ve=this.length,ke=0,De=0,je=this[ve-1];for(arguments.length||(P=-1/(6*this.area()));++se<ve;)W=je,je=this[se],ne=W[0]*je[1]-je[0]*W[1],ke+=(W[0]+je[0])*ne,De+=(W[1]+je[1])*ne;return[ke*P,De*P]},Qt.clip=function(P){for(var W,ne,se,ve,ke,De,je=Wt(P),We=-1,$e=this.length-Wt(this),at=this[$e-1];++We<$e;){for(W=P.slice(),P.length=0,ve=this[We],ke=W[(se=W.length-je)-1],ne=-1;++ne<se;)xn(De=W[ne],at,ve)?(xn(ke,at,ve)||P.push(At(ke,De,at,ve)),P.push(De)):xn(ke,at,ve)&&P.push(At(ke,De,at,ve)),ke=De;je&&P.push(P[0]),at=ve}return P};var en,dn,gn,_n,on,Yt=[],Zt=[];function sn(){Ii(this),this.edge=this.site=this.circle=null}function hn(P){var W=Yt.pop()||new sn;return W.site=P,W}function Sn(P){mr(P),gn.remove(P),Yt.push(P),Ii(P)}function Cn(P){var W=P.circle,ne=W.x,se=W.cy,ve={x:ne,y:se},ke=P.P,De=P.N,je=[P];Sn(P);for(var We=ke;We.circle&&m(ne-We.circle.x)<nt&&m(se-We.circle.cy)<nt;)ke=We.P,je.unshift(We),Sn(We),We=ke;je.unshift(We),mr(We);for(var $e=De;$e.circle&&m(ne-$e.circle.x)<nt&&m(se-$e.circle.cy)<nt;)De=$e.N,je.push($e),Sn($e),$e=De;je.push($e),mr($e);var at,pt=je.length;for(at=1;at<pt;++at)$e=je[at],We=je[at-1],kr($e.edge,We.site,$e.site,ve);We=je[0],($e=je[pt-1]).edge=ur(We.site,$e.site,null,ve),er(We),er($e)}function Un(P){for(var W,ne,se,ve,ke=P.x,De=P.y,je=gn._;je;)if((se=qn(je,De)-ke)>nt)je=je.L;else{if(!((ve=ke-tr(je,De))>nt)){se>-nt?(W=je.P,ne=je):ve>-nt?(W=je,ne=je.N):W=ne=je;break}if(!je.R){W=je;break}je=je.R}var We=hn(P);if(gn.insert(W,We),W||ne){if(W===ne)return mr(W),ne=hn(W.site),gn.insert(We,ne),We.edge=ne.edge=ur(W.site,We.site),er(W),void er(ne);if(ne){mr(W),mr(ne);var $e=W.site,at=$e.x,pt=$e.y,vt=P.x-at,kt=P.y-pt,Ot=ne.site,St=Ot.x-at,jt=Ot.y-pt,It=2*(vt*jt-kt*St),Jt=vt*vt+kt*kt,$t=St*St+jt*jt,Ht={x:(jt*Jt-kt*$t)/It+at,y:(vt*$t-St*Jt)/It+pt};kr(ne.edge,$e,Ot,Ht),We.edge=ur($e,P,null,Ht),ne.edge=ur(P,Ot,null,Ht),er(W),er(ne)}else We.edge=ur(W.site,We.site)}}function qn(P,W){var ne=P.site,se=ne.x,ve=ne.y,ke=ve-W;if(!ke)return se;var De=P.P;if(!De)return-1/0;var je=(ne=De.site).x,We=ne.y,$e=We-W;if(!$e)return je;var at=je-se,pt=1/ke-1/$e,vt=at/$e;return pt?(-vt+Math.sqrt(vt*vt-2*pt*(at*at/(-2*$e)-We+$e/2+ve-ke/2)))/pt+se:(se+je)/2}function tr(P,W){var ne=P.N;if(ne)return qn(ne,W);var se=P.site;return se.y===W?se.x:1/0}function Yn(P){this.site=P,this.edges=[]}function sr(P,W){return W.angle-P.angle}function ar(){Ii(this),this.x=this.y=this.arc=this.site=this.cy=null}function er(P){var W=P.P,ne=P.N;if(W&&ne){var se=W.site,ve=P.site,ke=ne.site;if(se!==ke){var De=ve.x,je=ve.y,We=se.x-De,$e=se.y-je,at=ke.x-De,pt=2*(We*(jt=ke.y-je)-$e*at);if(!(pt>=-Et)){var vt=We*We+$e*$e,kt=at*at+jt*jt,Ot=(jt*vt-$e*kt)/pt,St=(We*kt-at*vt)/pt,jt=St+je,It=Zt.pop()||new ar;It.arc=P,It.site=ve,It.x=Ot+De,It.y=jt+Math.sqrt(Ot*Ot+St*St),It.cy=jt,P.circle=It;for(var Jt=null,$t=on._;$t;)if(It.y<$t.y||It.y===$t.y&&It.x<=$t.x){if(!$t.L){Jt=$t.P;break}$t=$t.L}else{if(!$t.R){Jt=$t;break}$t=$t.R}on.insert(Jt,It),Jt||(_n=It)}}}}function mr(P){var W=P.circle;W&&(W.P||(_n=W.N),on.remove(W),Zt.push(W),Ii(W),P.circle=null)}function Mr(P,W){var ne=P.b;if(ne)return!0;var se,ve,ke=P.a,De=W[0][0],je=W[1][0],We=W[0][1],$e=W[1][1],at=P.l,pt=P.r,vt=at.x,kt=at.y,Ot=pt.x,St=pt.y,jt=(vt+Ot)/2,It=(kt+St)/2;if(St===kt){if(jt<De||jt>=je)return;if(vt>Ot){if(ke){if(ke.y>=$e)return}else ke={x:jt,y:We};ne={x:jt,y:$e}}else{if(ke){if(ke.y<We)return}else ke={x:jt,y:$e};ne={x:jt,y:We}}}else if(ve=It-(se=(vt-Ot)/(St-kt))*jt,se<-1||se>1)if(vt>Ot){if(ke){if(ke.y>=$e)return}else ke={x:(We-ve)/se,y:We};ne={x:($e-ve)/se,y:$e}}else{if(ke){if(ke.y<We)return}else ke={x:($e-ve)/se,y:$e};ne={x:(We-ve)/se,y:We}}else if(kt<St){if(ke){if(ke.x>=je)return}else ke={x:De,y:se*De+ve};ne={x:je,y:se*je+ve}}else{if(ke){if(ke.x<De)return}else ke={x:je,y:se*je+ve};ne={x:De,y:se*De+ve}}return P.a=ke,P.b=ne,!0}function br(P,W){this.l=P,this.r=W,this.a=this.b=null}function ur(P,W,ne,se){var ve=new br(P,W);return en.push(ve),ne&&kr(ve,P,W,ne),se&&kr(ve,W,P,se),dn[P.i].edges.push(new Er(ve,P,W)),dn[W.i].edges.push(new Er(ve,W,P)),ve}function kr(P,W,ne,se){P.a||P.b?P.l===ne?P.b=se:P.a=se:(P.a=se,P.l=W,P.r=ne)}function Er(P,W,ne){var se=P.a,ve=P.b;this.edge=P,this.site=W,this.angle=ne?Math.atan2(ne.y-W.y,ne.x-W.x):P.l===W?Math.atan2(ve.x-se.x,se.y-ve.y):Math.atan2(se.x-ve.x,ve.y-se.y)}function $r(){this._=null}function Ii(P){P.U=P.C=P.L=P.R=P.P=P.N=null}function Di(P,W){var ne=W,se=W.R,ve=ne.U;ve?ve.L===ne?ve.L=se:ve.R=se:P._=se,se.U=ve,ne.U=se,ne.R=se.L,ne.R&&(ne.R.U=ne),se.L=ne}function Aa(P,W){var ne=W,se=W.L,ve=ne.U;ve?ve.L===ne?ve.L=se:ve.R=se:P._=se,se.U=ve,ne.U=se,ne.L=se.R,ne.L&&(ne.L.U=ne),se.R=ne}function Li(P){for(;P.L;)P=P.L;return P}function ra(P,W){var ne,se,ve,ke=P.sort(Gr).pop();for(en=[],dn=new Array(P.length),gn=new $r,on=new $r;;)if(ve=_n,ke&&(!ve||ke.y<ve.y||ke.y===ve.y&&ke.x<ve.x))ke.x===ne&&ke.y===se||(dn[ke.i]=new Yn(ke),Un(ke),ne=ke.x,se=ke.y),ke=P.pop();else{if(!ve)break;Cn(ve.arc)}W&&(function(je){for(var We,$e,at,pt,vt,kt=en,Ot=($e=je[0][0],at=je[0][1],pt=je[1][0],vt=je[1][1],function(jt){var It,Jt=jt.a,$t=jt.b,Ht=Jt.x,vn=Jt.y,bn=0,Ln=1,zn=$t.x-Ht,Gn=$t.y-vn;if(It=$e-Ht,zn||!(It>0)){if(It/=zn,zn<0){if(It<bn)return;It<Ln&&(Ln=It)}else if(zn>0){if(It>Ln)return;It>bn&&(bn=It)}if(It=pt-Ht,zn||!(It<0)){if(It/=zn,zn<0){if(It>Ln)return;It>bn&&(bn=It)}else if(zn>0){if(It<bn)return;It<Ln&&(Ln=It)}if(It=at-vn,Gn||!(It>0)){if(It/=Gn,Gn<0){if(It<bn)return;It<Ln&&(Ln=It)}else if(Gn>0){if(It>Ln)return;It>bn&&(bn=It)}if(It=vt-vn,Gn||!(It<0)){if(It/=Gn,Gn<0){if(It>Ln)return;It>bn&&(bn=It)}else if(Gn>0){if(It<bn)return;It<Ln&&(Ln=It)}return bn>0&&(jt.a={x:Ht+bn*zn,y:vn+bn*Gn}),Ln<1&&(jt.b={x:Ht+Ln*zn,y:vn+Ln*Gn}),jt}}}}}),St=kt.length;St--;)(!Mr(We=kt[St],je)||!Ot(We)||m(We.a.x-We.b.x)<nt&&m(We.a.y-We.b.y)<nt)&&(We.a=We.b=null,kt.splice(St,1))}(W),function(je){for(var We,$e,at,pt,vt,kt,Ot,St,jt,It,Jt=je[0][0],$t=je[1][0],Ht=je[0][1],vn=je[1][1],bn=dn,Ln=bn.length;Ln--;)if((vt=bn[Ln])&&vt.prepare())for(St=(Ot=vt.edges).length,kt=0;kt<St;)at=(It=Ot[kt].end()).x,pt=It.y,We=(jt=Ot[++kt%St].start()).x,$e=jt.y,(m(at-We)>nt||m(pt-$e)>nt)&&(Ot.splice(kt,0,new Er((zn=vt.site,Gn=It,or=m(at-Jt)<nt&&vn-pt>nt?{x:Jt,y:m(We-Jt)<nt?$e:vn}:m(pt-vn)<nt&&$t-at>nt?{x:m($e-vn)<nt?We:$t,y:vn}:m(at-$t)<nt&&pt-Ht>nt?{x:$t,y:m(We-$t)<nt?$e:Ht}:m(pt-Ht)<nt&&at-Jt>nt?{x:m($e-Ht)<nt?We:Jt,y:Ht}:null,dr=void 0,(dr=new br(zn,null)).a=Gn,dr.b=or,en.push(dr),dr),vt.site,null)),++St);var zn,Gn,or,dr}(W));var De={cells:dn,edges:en};return gn=on=en=dn=null,De}function Gr(P,W){return W.y-P.y||W.x-P.x}Yn.prototype.prepare=function(){for(var P,W=this.edges,ne=W.length;ne--;)(P=W[ne].edge).b&&P.a||W.splice(ne,1);return W.sort(sr),W.length},Er.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},$r.prototype={insert:function(P,W){var ne,se,ve;if(P){if(W.P=P,W.N=P.N,P.N&&(P.N.P=W),P.N=W,P.R){for(P=P.R;P.L;)P=P.L;P.L=W}else P.R=W;ne=P}else this._?(P=Li(this._),W.P=null,W.N=P,P.P=P.L=W,ne=P):(W.P=W.N=null,this._=W,ne=null);for(W.L=W.R=null,W.U=ne,W.C=!0,P=W;ne&&ne.C;)ne===(se=ne.U).L?(ve=se.R)&&ve.C?(ne.C=ve.C=!1,se.C=!0,P=se):(P===ne.R&&(Di(this,ne),ne=(P=ne).U),ne.C=!1,se.C=!0,Aa(this,se)):(ve=se.L)&&ve.C?(ne.C=ve.C=!1,se.C=!0,P=se):(P===ne.L&&(Aa(this,ne),ne=(P=ne).U),ne.C=!1,se.C=!0,Di(this,se)),ne=P.U;this._.C=!1},remove:function(P){P.N&&(P.N.P=P.P),P.P&&(P.P.N=P.N),P.N=P.P=null;var W,ne,se,ve=P.U,ke=P.L,De=P.R;if(ne=ke?De?Li(De):ke:De,ve?ve.L===P?ve.L=ne:ve.R=ne:this._=ne,ke&&De?(se=ne.C,ne.C=P.C,ne.L=ke,ke.U=ne,ne!==De?(ve=ne.U,ne.U=P.U,P=ne.R,ve.L=P,ne.R=De,De.U=ne):(ne.U=ve,ve=ne,P=ne.R)):(se=P.C,P=ne),P&&(P.U=ve),!se)if(P&&P.C)P.C=!1;else{do{if(P===this._)break;if(P===ve.L){if((W=ve.R).C&&(W.C=!1,ve.C=!0,Di(this,ve),W=ve.R),W.L&&W.L.C||W.R&&W.R.C){W.R&&W.R.C||(W.L.C=!1,W.C=!0,Aa(this,W),W=ve.R),W.C=ve.C,ve.C=W.R.C=!1,Di(this,ve),P=this._;break}}else if((W=ve.L).C&&(W.C=!1,ve.C=!0,Aa(this,ve),W=ve.L),W.L&&W.L.C||W.R&&W.R.C){W.L&&W.L.C||(W.R.C=!1,W.C=!0,Di(this,W),W=ve.L),W.C=ve.C,ve.C=W.L.C=!1,Aa(this,ve),P=this._;break}W.C=!0,P=ve,ve=ve.U}while(!P.C);P&&(P.C=!1)}}},t.geom.voronoi=function(P){var W=$n,ne=Hn,se=W,ve=ne,ke=Ui;if(P)return De(P);function De(We){var $e=new Array(We.length),at=ke[0][0],pt=ke[0][1],vt=ke[1][0],kt=ke[1][1];return ra(je(We),ke).cells.forEach(function(Ot,St){var jt=Ot.edges,It=Ot.site;($e[St]=jt.length?jt.map(function(Jt){var $t=Jt.start();return[$t.x,$t.y]}):It.x>=at&&It.x<=vt&&It.y>=pt&&It.y<=kt?[[at,kt],[vt,kt],[vt,pt],[at,pt]]:[]).point=We[St]}),$e}function je(We){return We.map(function($e,at){return{x:Math.round(se($e,at)/nt)*nt,y:Math.round(ve($e,at)/nt)*nt,i:at}})}return De.links=function(We){return ra(je(We)).edges.filter(function($e){return $e.l&&$e.r}).map(function($e){return{source:We[$e.l.i],target:We[$e.r.i]}})},De.triangles=function(We){var $e=[];return ra(je(We)).cells.forEach(function(at,pt){for(var vt,kt,Ot,St,jt=at.site,It=at.edges.sort(sr),Jt=-1,$t=It.length,Ht=It[$t-1].edge,vn=Ht.l===jt?Ht.r:Ht.l;++Jt<$t;)vt=vn,vn=(Ht=It[Jt].edge).l===jt?Ht.r:Ht.l,pt<vt.i&&pt<vn.i&&(Ot=vt,St=vn,((kt=jt).x-St.x)*(Ot.y-kt.y)-(kt.x-Ot.x)*(St.y-kt.y)<0)&&$e.push([We[pt],We[vt.i],We[vn.i]])}),$e},De.x=function(We){return arguments.length?(se=Vn(W=We),De):W},De.y=function(We){return arguments.length?(ve=Vn(ne=We),De):ne},De.clipExtent=function(We){return arguments.length?(ke=We??Ui,De):ke===Ui?null:ke},De.size=function(We){return arguments.length?De.clipExtent(We&&[[0,0],We]):ke===Ui?null:ke&&ke[1]},De};var Ui=[[-1e6,-1e6],[1e6,1e6]];function $a(P){return P.x}function Da(P){return P.y}function ds(P,W,ne,se,ve,ke){if(!P(W,ne,se,ve,ke)){var De=.5*(ne+ve),je=.5*(se+ke),We=W.nodes;We[0]&&ds(P,We[0],ne,se,De,je),We[1]&&ds(P,We[1],De,se,ve,je),We[2]&&ds(P,We[2],ne,je,De,ke),We[3]&&ds(P,We[3],De,je,ve,ke)}}function gs(P,W){P=t.rgb(P),W=t.rgb(W);var ne=P.r,se=P.g,ve=P.b,ke=W.r-ne,De=W.g-se,je=W.b-ve;return function(We){return"#"+rn(Math.round(ne+ke*We))+rn(Math.round(se+De*We))+rn(Math.round(ve+je*We))}}function Jo(P,W){var ne,se={},ve={};for(ne in P)ne in W?se[ne]=ko(P[ne],W[ne]):ve[ne]=P[ne];for(ne in W)ne in P||(ve[ne]=W[ne]);return function(ke){for(ne in se)ve[ne]=se[ne](ke);return ve}}function za(P,W){return P=+P,W=+W,function(ne){return P*(1-ne)+W*ne}}function Qo(P,W){var ne,se,ve,ke=Rs.lastIndex=il.lastIndex=0,De=-1,je=[],We=[];for(P+="",W+="";(ne=Rs.exec(P))&&(se=il.exec(W));)(ve=se.index)>ke&&(ve=W.slice(ke,ve),je[De]?je[De]+=ve:je[++De]=ve),(ne=ne[0])===(se=se[0])?je[De]?je[De]+=se:je[++De]=se:(je[++De]=null,We.push({i:De,x:za(ne,se)})),ke=il.lastIndex;return ke<W.length&&(ve=W.slice(ke),je[De]?je[De]+=ve:je[++De]=ve),je.length<2?We[0]?(W=We[0].x,function($e){return W($e)+""}):function(){return W}:(W=We.length,function($e){for(var at,pt=0;pt<W;++pt)je[(at=We[pt]).i]=at.x($e);return je.join("")})}t.geom.delaunay=function(P){return t.geom.voronoi().triangles(P)},t.geom.quadtree=function(P,W,ne,se,ve){var ke,De=$n,je=Hn;if(ke=arguments.length)return De=$a,je=Da,ke===3&&(ve=ne,se=W,ne=W=0),We(P);function We($e){var at,pt,vt,kt,Ot,St,jt,It,Jt,$t=Vn(De),Ht=Vn(je);if(W!=null)St=W,jt=ne,It=se,Jt=ve;else if(It=Jt=-(St=jt=1/0),pt=[],vt=[],Ot=$e.length,ke)for(kt=0;kt<Ot;++kt)(at=$e[kt]).x<St&&(St=at.x),at.y<jt&&(jt=at.y),at.x>It&&(It=at.x),at.y>Jt&&(Jt=at.y),pt.push(at.x),vt.push(at.y);else for(kt=0;kt<Ot;++kt){var vn=+$t(at=$e[kt],kt),bn=+Ht(at,kt);vn<St&&(St=vn),bn<jt&&(jt=bn),vn>It&&(It=vn),bn>Jt&&(Jt=bn),pt.push(vn),vt.push(bn)}var Ln=It-St,zn=Jt-jt;function Gn(Xn,hr,Ar,zr,nr,fr,Lr,gr){if(!isNaN(Ar)&&!isNaN(zr))if(Xn.leaf){var Ir=Xn.x,Nr=Xn.y;if(Ir!=null)if(m(Ir-Ar)+m(Nr-zr)<.01)or(Xn,hr,Ar,zr,nr,fr,Lr,gr);else{var ei=Xn.point;Xn.x=Xn.y=Xn.point=null,or(Xn,ei,Ir,Nr,nr,fr,Lr,gr),or(Xn,hr,Ar,zr,nr,fr,Lr,gr)}else Xn.x=Ar,Xn.y=zr,Xn.point=hr}else or(Xn,hr,Ar,zr,nr,fr,Lr,gr)}function or(Xn,hr,Ar,zr,nr,fr,Lr,gr){var Ir=.5*(nr+Lr),Nr=.5*(fr+gr),ei=Ar>=Ir,ni=zr>=Nr,ui=ni<<1|ei;Xn.leaf=!1,ei?nr=Ir:Lr=Ir,ni?fr=Nr:gr=Nr,Gn(Xn=Xn.nodes[ui]||(Xn.nodes[ui]={leaf:!0,nodes:[],point:null,x:null,y:null}),hr,Ar,zr,nr,fr,Lr,gr)}Ln>zn?Jt=jt+Ln:It=St+zn;var dr={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(Xn){Gn(dr,Xn,+$t(Xn,++kt),+Ht(Xn,kt),St,jt,It,Jt)}};if(dr.visit=function(Xn){ds(Xn,dr,St,jt,It,Jt)},dr.find=function(Xn){return function(hr,Ar,zr,nr,fr,Lr,gr){var Ir,Nr=1/0;return function ei(ni,ui,di,Bi,ia){if(!(ui>Lr||di>gr||Bi<nr||ia<fr)){if(Ga=ni.point){var Ga,xa=Ar-ni.x,Ba=zr-ni.y,qi=xa*xa+Ba*Ba;if(qi<Nr){var vi=Math.sqrt(Nr=qi);nr=Ar-vi,fr=zr-vi,Lr=Ar+vi,gr=zr+vi,Ir=Ga}}for(var Ki=ni.nodes,Pi=.5*(ui+Bi),bi=.5*(di+ia),Ji=(zr>=bi)<<1|Ar>=Pi,aa=Ji+4;Ji<aa;++Ji)if(ni=Ki[3&Ji])switch(3&Ji){case 0:ei(ni,ui,di,Pi,bi);break;case 1:ei(ni,Pi,di,Bi,bi);break;case 2:ei(ni,ui,bi,Pi,ia);break;case 3:ei(ni,Pi,bi,Bi,ia)}}}(hr,nr,fr,Lr,gr),Ir}(dr,Xn[0],Xn[1],St,jt,It,Jt)},kt=-1,W==null){for(;++kt<Ot;)Gn(dr,$e[kt],pt[kt],vt[kt],St,jt,It,Jt);--kt}else $e.forEach(dr.add);return pt=vt=$e=at=null,dr}return We.x=function($e){return arguments.length?(De=$e,We):De},We.y=function($e){return arguments.length?(je=$e,We):je},We.extent=function($e){return arguments.length?($e==null?W=ne=se=ve=null:(W=+$e[0][0],ne=+$e[0][1],se=+$e[1][0],ve=+$e[1][1]),We):W==null?null:[[W,ne],[se,ve]]},We.size=function($e){return arguments.length?($e==null?W=ne=se=ve=null:(W=ne=0,se=+$e[0],ve=+$e[1]),We):W==null?null:[se-W,ve-ne]},We},t.interpolateRgb=gs,t.interpolateObject=Jo,t.interpolateNumber=za,t.interpolateString=Qo;var Rs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,il=new RegExp(Rs.source,"g");function ko(P,W){for(var ne,se=t.interpolators.length;--se>=0&&!(ne=t.interpolators[se](P,W)););return ne}function Ao(P,W){var ne,se=[],ve=[],ke=P.length,De=W.length,je=Math.min(P.length,W.length);for(ne=0;ne<je;++ne)se.push(ko(P[ne],W[ne]));for(;ne<ke;++ne)ve[ne]=P[ne];for(;ne<De;++ne)ve[ne]=W[ne];return function(We){for(ne=0;ne<je;++ne)ve[ne]=se[ne](We);return ve}}t.interpolate=ko,t.interpolators=[function(P,W){var ne=typeof W;return(ne==="string"?En.has(W.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(W)?gs:Qo:W instanceof Xe?gs:Array.isArray(W)?Ao:ne==="object"&&isNaN(W)?Jo:za)(P,W)}],t.interpolateArray=Ao;var es=function(){return z},Vi=t.map({linear:es,poly:function(P){return function(W){return Math.pow(W,P)}},quad:function(){return Fo},cubic:function(){return Ds},sin:function(){return zs},exp:function(){return ms},circle:function(){return Fs},elastic:function(P,W){var ne;return arguments.length<2&&(W=.45),arguments.length?ne=W/Ft*Math.asin(1/P):(P=1,ne=W/4),function(se){return 1+P*Math.pow(2,-10*se)*Math.sin((se-ne)*Ft/W)}},back:function(P){return P||(P=1.70158),function(W){return W*W*((P+1)*W-P)}},bounce:function(){return rs}}),va=t.map({in:z,out:vs,"in-out":ts,"out-in":function(P){return ts(vs(P))}});function vs(P){return function(W){return 1-P(1-W)}}function ts(P){return function(W){return .5*(W<.5?P(2*W):2-P(2-2*W))}}function Fo(P){return P*P}function Ds(P){return P*P*P}function ns(P){if(P<=0)return 0;if(P>=1)return 1;var W=P*P,ne=W*P;return 4*(P<.5?ne:3*(P-W)+ne-.75)}function zs(P){return 1-Math.cos(P*Ze)}function ms(P){return Math.pow(2,10*(P-1))}function Fs(P){return 1-Math.sqrt(1-P*P)}function rs(P){return P<.36363636363636365?7.5625*P*P:P<.7272727272727273?7.5625*(P-=.5454545454545454)*P+.75:P<.9090909090909091?7.5625*(P-=.8181818181818182)*P+.9375:7.5625*(P-=.9545454545454546)*P+.984375}function Yu(P,W){return W-=P,function(ne){return Math.round(P+W*ne)}}function Au(P){var W,ne,se,ve=[P.a,P.b],ke=[P.c,P.d],De=yc(ve),je=al(ve,ke),We=yc(((W=ke)[0]+=(se=-je)*(ne=ve)[0],W[1]+=se*ne[1],W))||0;ve[0]*ke[1]<ke[0]*ve[1]&&(ve[0]*=-1,ve[1]*=-1,De*=-1,je*=-1),this.rotate=(De?Math.atan2(ve[1],ve[0]):Math.atan2(-ke[0],ke[1]))*qe,this.translate=[P.e,P.f],this.scale=[De,We],this.skew=We?Math.atan2(je,We)*qe:0}function al(P,W){return P[0]*W[0]+P[1]*W[1]}function yc(P){var W=Math.sqrt(al(P,P));return W&&(P[0]/=W,P[1]/=W),W}t.ease=function(P){var W,ne=P.indexOf("-"),se=ne>=0?P.slice(0,ne):P,ve=ne>=0?P.slice(ne+1):"in";return se=Vi.get(se)||es,ve=va.get(ve)||z,W=ve(se.apply(null,b.call(arguments,1))),function(ke){return ke<=0?0:ke>=1?1:W(ke)}},t.interpolateHcl=function(P,W){P=t.hcl(P),W=t.hcl(W);var ne=P.h,se=P.c,ve=P.l,ke=W.h-ne,De=W.c-se,je=W.l-ve;return isNaN(De)&&(De=0,se=isNaN(se)?W.c:se),isNaN(ke)?(ke=0,ne=isNaN(ne)?W.h:ne):ke>180?ke-=360:ke<-180&&(ke+=360),function(We){return wt(ne+ke*We,se+De*We,ve+je*We)+""}},t.interpolateHsl=function(P,W){P=t.hsl(P),W=t.hsl(W);var ne=P.h,se=P.s,ve=P.l,ke=W.h-ne,De=W.s-se,je=W.l-ve;return isNaN(De)&&(De=0,se=isNaN(se)?W.s:se),isNaN(ke)?(ke=0,ne=isNaN(ne)?W.h:ne):ke>180?ke-=360:ke<-180&&(ke+=360),function(We){return bt(ne+ke*We,se+De*We,ve+je*We)+""}},t.interpolateLab=function(P,W){P=t.lab(P),W=t.lab(W);var ne=P.l,se=P.a,ve=P.b,ke=W.l-ne,De=W.a-se,je=W.b-ve;return function(We){return qt(ne+ke*We,se+De*We,ve+je*We)+""}},t.interpolateRound=Yu,t.transform=function(P){var W=c.createElementNS(t.ns.prefix.svg,"g");return(t.transform=function(ne){if(ne!=null){W.setAttribute("transform",ne);var se=W.transform.baseVal.consolidate()}return new Au(se?se.matrix:xc)})(P)},Au.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var xc={a:1,b:0,c:0,d:1,e:0,f:0};function ol(P){return P.length?P.pop()+",":""}function bc(P,W){var ne=[],se=[];return P=t.transform(P),W=t.transform(W),function(ve,ke,De,je){if(ve[0]!==ke[0]||ve[1]!==ke[1]){var We=De.push("translate(",null,",",null,")");je.push({i:We-4,x:za(ve[0],ke[0])},{i:We-2,x:za(ve[1],ke[1])})}else(ke[0]||ke[1])&&De.push("translate("+ke+")")}(P.translate,W.translate,ne,se),function(ve,ke,De,je){ve!==ke?(ve-ke>180?ke+=360:ke-ve>180&&(ve+=360),je.push({i:De.push(ol(De)+"rotate(",null,")")-2,x:za(ve,ke)})):ke&&De.push(ol(De)+"rotate("+ke+")")}(P.rotate,W.rotate,ne,se),function(ve,ke,De,je){ve!==ke?je.push({i:De.push(ol(De)+"skewX(",null,")")-2,x:za(ve,ke)}):ke&&De.push(ol(De)+"skewX("+ke+")")}(P.skew,W.skew,ne,se),function(ve,ke,De,je){if(ve[0]!==ke[0]||ve[1]!==ke[1]){var We=De.push(ol(De)+"scale(",null,",",null,")");je.push({i:We-4,x:za(ve[0],ke[0])},{i:We-2,x:za(ve[1],ke[1])})}else ke[0]===1&&ke[1]===1||De.push(ol(De)+"scale("+ke+")")}(P.scale,W.scale,ne,se),P=W=null,function(ve){for(var ke,De=-1,je=se.length;++De<je;)ne[(ke=se[De]).i]=ke.x(ve);return ne.join("")}}function of(P,W){return W=(W-=P=+P)||1/W,function(ne){return(ne-P)/W}}function sf(P,W){return W=(W-=P=+P)||1/W,function(ne){return Math.max(0,Math.min(1,(ne-P)/W))}}function sl(P){for(var W=P.source,ne=P.target,se=function(De,je){if(De===je)return De;for(var We=is(De),$e=is(je),at=We.pop(),pt=$e.pop(),vt=null;at===pt;)vt=at,at=We.pop(),pt=$e.pop();return vt}(W,ne),ve=[W];W!==se;)W=W.parent,ve.push(W);for(var ke=ve.length;ne!==se;)ve.splice(ke,0,ne),ne=ne.parent;return ve}function is(P){for(var W=[],ne=P.parent;ne!=null;)W.push(P),P=ne,ne=ne.parent;return W.push(P),W}function Sl(P){P.fixed|=2}function ll(P){P.fixed&=-7}function Ql(P){P.fixed|=4,P.px=P.x,P.py=P.y}function ul(P){P.fixed&=-5}function Bo(P,W,ne){var se=0,ve=0;if(P.charge=0,!P.leaf)for(var ke,De=P.nodes,je=De.length,We=-1;++We<je;)(ke=De[We])!=null&&(Bo(ke,W,ne),P.charge+=ke.charge,se+=ke.charge*ke.cx,ve+=ke.charge*ke.cy);if(P.point){P.leaf||(P.point.x+=Math.random()-.5,P.point.y+=Math.random()-.5);var $e=W*ne[P.point.index];P.charge+=P.pointCharge=$e,se+=$e*P.point.x,ve+=$e*P.point.y}P.cx=se/P.charge,P.cy=ve/P.charge}t.interpolateTransform=bc,t.layout={},t.layout.bundle=function(){return function(P){for(var W=[],ne=-1,se=P.length;++ne<se;)W.push(sl(P[ne]));return W}},t.layout.chord=function(){var P,W,ne,se,ve,ke,De,je={},We=0;function $e(){var pt,vt,kt,Ot,St,jt={},It=[],Jt=t.range(se),$t=[];for(P=[],W=[],pt=0,Ot=-1;++Ot<se;){for(vt=0,St=-1;++St<se;)vt+=ne[Ot][St];It.push(vt),$t.push(t.range(se)),pt+=vt}for(ve&&Jt.sort(function(dr,Xn){return ve(It[dr],It[Xn])}),ke&&$t.forEach(function(dr,Xn){dr.sort(function(hr,Ar){return ke(ne[Xn][hr],ne[Xn][Ar])})}),pt=(Ft-We*se)/pt,vt=0,Ot=-1;++Ot<se;){for(kt=vt,St=-1;++St<se;){var Ht=Jt[Ot],vn=$t[Ht][St],bn=ne[Ht][vn],Ln=vt,zn=vt+=bn*pt;jt[Ht+"-"+vn]={index:Ht,subindex:vn,startAngle:Ln,endAngle:zn,value:bn}}W[Ht]={index:Ht,startAngle:kt,endAngle:vt,value:It[Ht]},vt+=We}for(Ot=-1;++Ot<se;)for(St=Ot-1;++St<se;){var Gn=jt[Ot+"-"+St],or=jt[St+"-"+Ot];(Gn.value||or.value)&&P.push(Gn.value<or.value?{source:or,target:Gn}:{source:Gn,target:or})}De&&at()}function at(){P.sort(function(pt,vt){return De((pt.source.value+pt.target.value)/2,(vt.source.value+vt.target.value)/2)})}return je.matrix=function(pt){return arguments.length?(se=(ne=pt)&&ne.length,P=W=null,je):ne},je.padding=function(pt){return arguments.length?(We=pt,P=W=null,je):We},je.sortGroups=function(pt){return arguments.length?(ve=pt,P=W=null,je):ve},je.sortSubgroups=function(pt){return arguments.length?(ke=pt,P=null,je):ke},je.sortChords=function(pt){return arguments.length?(De=pt,P&&at(),je):De},je.chords=function(){return P||$e(),P},je.groups=function(){return W||$e(),W},je},t.layout.force=function(){var P,W,ne,se,ve,ke,De={},je=t.dispatch("start","tick","end"),We=[1,1],$e=.9,at=$u,pt=Bs,vt=-30,kt=ys,Ot=.1,St=.64,jt=[],It=[];function Jt(Ht){return function(vn,bn,Ln,zn){if(vn.point!==Ht){var Gn=vn.cx-Ht.x,or=vn.cy-Ht.y,dr=zn-bn,Xn=Gn*Gn+or*or;if(dr*dr/St<Xn){if(Xn<kt){var hr=vn.charge/Xn;Ht.px-=Gn*hr,Ht.py-=or*hr}return!0}vn.point&&Xn&&Xn<kt&&(hr=vn.pointCharge/Xn,Ht.px-=Gn*hr,Ht.py-=or*hr)}return!vn.charge}}function $t(Ht){Ht.px=t.event.x,Ht.py=t.event.y,De.resume()}return De.tick=function(){if((ne*=.99)<.005)return P=null,je.end({type:"end",alpha:ne=0}),!0;var Ht,vn,bn,Ln,zn,Gn,or,dr,Xn,hr=jt.length,Ar=It.length;for(vn=0;vn<Ar;++vn)Ln=(bn=It[vn]).source,(Gn=(dr=(zn=bn.target).x-Ln.x)*dr+(Xn=zn.y-Ln.y)*Xn)&&(dr*=Gn=ne*ve[vn]*((Gn=Math.sqrt(Gn))-se[vn])/Gn,Xn*=Gn,zn.x-=dr*(or=Ln.weight+zn.weight?Ln.weight/(Ln.weight+zn.weight):.5),zn.y-=Xn*or,Ln.x+=dr*(or=1-or),Ln.y+=Xn*or);if((or=ne*Ot)&&(dr=We[0]/2,Xn=We[1]/2,vn=-1,or))for(;++vn<hr;)(bn=jt[vn]).x+=(dr-bn.x)*or,bn.y+=(Xn-bn.y)*or;if(vt)for(Bo(Ht=t.geom.quadtree(jt),ne,ke),vn=-1;++vn<hr;)(bn=jt[vn]).fixed||Ht.visit(Jt(bn));for(vn=-1;++vn<hr;)(bn=jt[vn]).fixed?(bn.x=bn.px,bn.y=bn.py):(bn.x-=(bn.px-(bn.px=bn.x))*$e,bn.y-=(bn.py-(bn.py=bn.y))*$e);je.tick({type:"tick",alpha:ne})},De.nodes=function(Ht){return arguments.length?(jt=Ht,De):jt},De.links=function(Ht){return arguments.length?(It=Ht,De):It},De.size=function(Ht){return arguments.length?(We=Ht,De):We},De.linkDistance=function(Ht){return arguments.length?(at=typeof Ht=="function"?Ht:+Ht,De):at},De.distance=De.linkDistance,De.linkStrength=function(Ht){return arguments.length?(pt=typeof Ht=="function"?Ht:+Ht,De):pt},De.friction=function(Ht){return arguments.length?($e=+Ht,De):$e},De.charge=function(Ht){return arguments.length?(vt=typeof Ht=="function"?Ht:+Ht,De):vt},De.chargeDistance=function(Ht){return arguments.length?(kt=Ht*Ht,De):Math.sqrt(kt)},De.gravity=function(Ht){return arguments.length?(Ot=+Ht,De):Ot},De.theta=function(Ht){return arguments.length?(St=Ht*Ht,De):Math.sqrt(St)},De.alpha=function(Ht){return arguments.length?(Ht=+Ht,ne?Ht>0?ne=Ht:(P.c=null,P.t=NaN,P=null,je.end({type:"end",alpha:ne=0})):Ht>0&&(je.start({type:"start",alpha:ne=Ht}),P=an(De.tick)),De):ne},De.start=function(){var Ht,vn,bn,Ln=jt.length,zn=It.length,Gn=We[0],or=We[1];for(Ht=0;Ht<Ln;++Ht)(bn=jt[Ht]).index=Ht,bn.weight=0;for(Ht=0;Ht<zn;++Ht)typeof(bn=It[Ht]).source=="number"&&(bn.source=jt[bn.source]),typeof bn.target=="number"&&(bn.target=jt[bn.target]),++bn.source.weight,++bn.target.weight;for(Ht=0;Ht<Ln;++Ht)bn=jt[Ht],isNaN(bn.x)&&(bn.x=dr("x",Gn)),isNaN(bn.y)&&(bn.y=dr("y",or)),isNaN(bn.px)&&(bn.px=bn.x),isNaN(bn.py)&&(bn.py=bn.y);if(se=[],typeof at=="function")for(Ht=0;Ht<zn;++Ht)se[Ht]=+at.call(this,It[Ht],Ht);else for(Ht=0;Ht<zn;++Ht)se[Ht]=at;if(ve=[],typeof pt=="function")for(Ht=0;Ht<zn;++Ht)ve[Ht]=+pt.call(this,It[Ht],Ht);else for(Ht=0;Ht<zn;++Ht)ve[Ht]=pt;if(ke=[],typeof vt=="function")for(Ht=0;Ht<Ln;++Ht)ke[Ht]=+vt.call(this,jt[Ht],Ht);else for(Ht=0;Ht<Ln;++Ht)ke[Ht]=vt;function dr(Xn,hr){if(!vn){for(vn=new Array(Ln),fr=0;fr<Ln;++fr)vn[fr]=[];for(fr=0;fr<zn;++fr){var Ar=It[fr];vn[Ar.source.index].push(Ar.target),vn[Ar.target.index].push(Ar.source)}}for(var zr,nr=vn[Ht],fr=-1,Lr=nr.length;++fr<Lr;)if(!isNaN(zr=nr[fr][Xn]))return zr;return Math.random()*hr}return De.resume()},De.resume=function(){return De.alpha(.1)},De.stop=function(){return De.alpha(0)},De.drag=function(){if(W||(W=t.behavior.drag().origin(z).on("dragstart.force",Sl).on("drag.force",$t).on("dragend.force",ll)),!arguments.length)return W;this.on("mouseover.force",Ql).on("mouseout.force",ul).call(W)},t.rebind(De,je,"on")};var $u=20,Bs=1,ys=1/0;function xs(P,W){return t.rebind(P,W,"sort","children","value"),P.nodes=P,P.links=Ll,P}function Ns(P,W){for(var ne=[P];(P=ne.pop())!=null;)if(W(P),(ve=P.children)&&(se=ve.length))for(var se,ve;--se>=0;)ne.push(ve[se])}function ci(P,W){for(var ne=[P],se=[];(P=ne.pop())!=null;)if(se.push(P),(ke=P.children)&&(ve=ke.length))for(var ve,ke,De=-1;++De<ve;)ne.push(ke[De]);for(;(P=se.pop())!=null;)W(P)}function El(P){return P.children}function lf(P){return P.value}function Mu(P,W){return W.value-P.value}function Ll(P){return t.merge(P.map(function(W){return(W.children||[]).map(function(ne){return{source:W,target:ne}})}))}t.layout.hierarchy=function(){var P=Mu,W=El,ne=lf;function se(ve){var ke,De=[ve],je=[];for(ve.depth=0;(ke=De.pop())!=null;)if(je.push(ke),($e=W.call(se,ke,ke.depth))&&(We=$e.length)){for(var We,$e,at;--We>=0;)De.push(at=$e[We]),at.parent=ke,at.depth=ke.depth+1;ne&&(ke.value=0),ke.children=$e}else ne&&(ke.value=+ne.call(se,ke,ke.depth)||0),delete ke.children;return ci(ve,function(pt){var vt,kt;P&&(vt=pt.children)&&vt.sort(P),ne&&(kt=pt.parent)&&(kt.value+=pt.value)}),je}return se.sort=function(ve){return arguments.length?(P=ve,se):P},se.children=function(ve){return arguments.length?(W=ve,se):W},se.value=function(ve){return arguments.length?(ne=ve,se):ne},se.revalue=function(ve){return ne&&(Ns(ve,function(ke){ke.children&&(ke.value=0)}),ci(ve,function(ke){var De;ke.children||(ke.value=+ne.call(se,ke,ke.depth)||0),(De=ke.parent)&&(De.value+=ke.value)})),ve},se},t.layout.partition=function(){var P=t.layout.hierarchy(),W=[1,1];function ne(ke,De,je,We){var $e=ke.children;if(ke.x=De,ke.y=ke.depth*We,ke.dx=je,ke.dy=We,$e&&(at=$e.length)){var at,pt,vt,kt=-1;for(je=ke.value?je/ke.value:0;++kt<at;)ne(pt=$e[kt],De,vt=pt.value*je,We),De+=vt}}function se(ke){var De=ke.children,je=0;if(De&&(We=De.length))for(var We,$e=-1;++$e<We;)je=Math.max(je,se(De[$e]));return 1+je}function ve(ke,De){var je=P.call(this,ke,De);return ne(je[0],0,W[0],W[1]/se(je[0])),je}return ve.size=function(ke){return arguments.length?(W=ke,ve):W},xs(ve,P)},t.layout.pie=function(){var P=Number,W=_c,ne=0,se=Ft,ve=0;function ke(De){var je,We=De.length,$e=De.map(function(Jt,$t){return+P.call(ke,Jt,$t)}),at=+(typeof ne=="function"?ne.apply(this,arguments):ne),pt=(typeof se=="function"?se.apply(this,arguments):se)-at,vt=Math.min(Math.abs(pt)/We,+(typeof ve=="function"?ve.apply(this,arguments):ve)),kt=vt*(pt<0?-1:1),Ot=t.sum($e),St=Ot?(pt-We*kt)/Ot:0,jt=t.range(We),It=[];return W!=null&&jt.sort(W===_c?function(Jt,$t){return $e[$t]-$e[Jt]}:function(Jt,$t){return W(De[Jt],De[$t])}),jt.forEach(function(Jt){It[Jt]={data:De[Jt],value:je=$e[Jt],startAngle:at,endAngle:at+=je*St+kt,padAngle:vt}}),It}return ke.value=function(De){return arguments.length?(P=De,ke):P},ke.sort=function(De){return arguments.length?(W=De,ke):W},ke.startAngle=function(De){return arguments.length?(ne=De,ke):ne},ke.endAngle=function(De){return arguments.length?(se=De,ke):se},ke.padAngle=function(De){return arguments.length?(ve=De,ke):ve},ke};var _c={};function uf(P){return P.x}function Su(P){return P.y}function cf(P,W,ne){P.y0=W,P.y=ne}t.layout.stack=function(){var P=z,W=bs,ne=No,se=cf,ve=uf,ke=Su;function De(je,We){if(!(vt=je.length))return je;var $e=je.map(function(Jt,$t){return P.call(De,Jt,$t)}),at=$e.map(function(Jt){return Jt.map(function($t,Ht){return[ve.call(De,$t,Ht),ke.call(De,$t,Ht)]})}),pt=W.call(De,at,We);$e=t.permute($e,pt),at=t.permute(at,pt);var vt,kt,Ot,St,jt=ne.call(De,at,We),It=$e[0].length;for(Ot=0;Ot<It;++Ot)for(se.call(De,$e[0][Ot],St=jt[Ot],at[0][Ot][1]),kt=1;kt<vt;++kt)se.call(De,$e[kt][Ot],St+=at[kt-1][Ot][1],at[kt][Ot][1]);return je}return De.values=function(je){return arguments.length?(P=je,De):P},De.order=function(je){return arguments.length?(W=typeof je=="function"?je:js.get(je)||bs,De):W},De.offset=function(je){return arguments.length?(ne=typeof je=="function"?je:cl.get(je)||No,De):ne},De.x=function(je){return arguments.length?(ve=je,De):ve},De.y=function(je){return arguments.length?(ke=je,De):ke},De.out=function(je){return arguments.length?(se=je,De):se},De};var js=t.map({"inside-out":function(P){var W,ne,se=P.length,ve=P.map(Cl),ke=P.map(wc),De=t.range(se).sort(function(pt,vt){return ve[pt]-ve[vt]}),je=0,We=0,$e=[],at=[];for(W=0;W<se;++W)ne=De[W],je<We?(je+=ke[ne],$e.push(ne)):(We+=ke[ne],at.push(ne));return at.reverse().concat($e)},reverse:function(P){return t.range(P.length).reverse()},default:bs}),cl=t.map({silhouette:function(P){var W,ne,se,ve=P.length,ke=P[0].length,De=[],je=0,We=[];for(ne=0;ne<ke;++ne){for(W=0,se=0;W<ve;W++)se+=P[W][ne][1];se>je&&(je=se),De.push(se)}for(ne=0;ne<ke;++ne)We[ne]=(je-De[ne])/2;return We},wiggle:function(P){var W,ne,se,ve,ke,De,je,We,$e,at=P.length,pt=P[0],vt=pt.length,kt=[];for(kt[0]=We=$e=0,ne=1;ne<vt;++ne){for(W=0,ve=0;W<at;++W)ve+=P[W][ne][1];for(W=0,ke=0,je=pt[ne][0]-pt[ne-1][0];W<at;++W){for(se=0,De=(P[W][ne][1]-P[W][ne-1][1])/(2*je);se<W;++se)De+=(P[se][ne][1]-P[se][ne-1][1])/je;ke+=De*P[W][ne][1]}kt[ne]=We-=ve?ke/ve*je:0,We<$e&&($e=We)}for(ne=0;ne<vt;++ne)kt[ne]-=$e;return kt},expand:function(P){var W,ne,se,ve=P.length,ke=P[0].length,De=1/ve,je=[];for(ne=0;ne<ke;++ne){for(W=0,se=0;W<ve;W++)se+=P[W][ne][1];if(se)for(W=0;W<ve;W++)P[W][ne][1]/=se;else for(W=0;W<ve;W++)P[W][ne][1]=De}for(ne=0;ne<ke;++ne)je[ne]=0;return je},zero:No});function bs(P){return t.range(P.length)}function No(P){for(var W=-1,ne=P[0].length,se=[];++W<ne;)se[W]=0;return se}function Cl(P){for(var W,ne=1,se=0,ve=P[0][1],ke=P.length;ne<ke;++ne)(W=P[ne][1])>ve&&(se=ne,ve=W);return se}function wc(P){return P.reduce(eu,0)}function eu(P,W){return P+W[1]}function Eu(P,W){return ho(P,Math.ceil(Math.log(W.length)/Math.LN2+1))}function ho(P,W){for(var ne=-1,se=+P[0],ve=(P[1]-se)/W,ke=[];++ne<=W;)ke[ne]=ve*ne+se;return ke}function Lu(P){return[t.min(P),t.max(P)]}function Tc(P,W){return P.value-W.value}function Pl(P,W){var ne=P._pack_next;P._pack_next=W,W._pack_prev=P,W._pack_next=ne,ne._pack_prev=W}function fl(P,W){P._pack_next=W,W._pack_prev=P}function Ol(P,W){var ne=W.x-P.x,se=W.y-P.y,ve=P.r+W.r;return .999*ve*ve>ne*ne+se*se}function hl(P){if((W=P.children)&&(We=W.length)){var W,ne,se,ve,ke,De,je,We,$e=1/0,at=-1/0,pt=1/0,vt=-1/0;if(W.forEach(pl),(ne=W[0]).x=-ne.r,ne.y=0,$t(ne),We>1&&((se=W[1]).x=se.r,se.y=0,$t(se),We>2))for(Mi(ne,se,ve=W[2]),$t(ve),Pl(ne,ve),ne._pack_prev=ve,Pl(ve,se),se=ne._pack_next,ke=3;ke<We;ke++){Mi(ne,se,ve=W[ke]);var kt=0,Ot=1,St=1;for(De=se._pack_next;De!==se;De=De._pack_next,Ot++)if(Ol(De,ve)){kt=1;break}if(kt==1)for(je=ne._pack_prev;je!==De._pack_prev&&!Ol(je,ve);je=je._pack_prev,St++);kt?(Ot<St||Ot==St&&se.r<ne.r?fl(ne,se=De):fl(ne=je,se),ke--):(Pl(ne,ve),se=ve,$t(ve))}var jt=($e+at)/2,It=(pt+vt)/2,Jt=0;for(ke=0;ke<We;ke++)(ve=W[ke]).x-=jt,ve.y-=It,Jt=Math.max(Jt,ve.r+Math.sqrt(ve.x*ve.x+ve.y*ve.y));P.r=Jt,W.forEach(tu)}function $t(Ht){$e=Math.min(Ht.x-Ht.r,$e),at=Math.max(Ht.x+Ht.r,at),pt=Math.min(Ht.y-Ht.r,pt),vt=Math.max(Ht.y+Ht.r,vt)}}function pl(P){P._pack_next=P._pack_prev=P}function tu(P){delete P._pack_next,delete P._pack_prev}function Cu(P,W,ne,se){var ve=P.children;if(P.x=W+=se*P.x,P.y=ne+=se*P.y,P.r*=se,ve)for(var ke=-1,De=ve.length;++ke<De;)Cu(ve[ke],W,ne,se)}function Mi(P,W,ne){var se=P.r+ne.r,ve=W.x-P.x,ke=W.y-P.y;if(se&&(ve||ke)){var De=W.r+ne.r,je=ve*ve+ke*ke,We=.5+((se*=se)-(De*=De))/(2*je),$e=Math.sqrt(Math.max(0,2*De*(se+je)-(se-=je)*se-De*De))/(2*je);ne.x=P.x+We*ve+$e*ke,ne.y=P.y+We*ke-$e*ve}else ne.x=P.x+se,ne.y=P.y}function Us(P,W){return P.parent==W.parent?1:2}function Fa(P){var W=P.children;return W.length?W[0]:P.t}function jo(P){var W,ne=P.children;return(W=ne.length)?ne[W-1]:P.t}function mi(P,W,ne){var se=ne/(W.i-P.i);W.c-=se,W.s+=ne,P.c+=se,W.z+=ne,W.m+=ne}function Ti(P,W,ne){return P.a.parent===W.parent?P.a:ne}function po(P){var W=P.children;return W&&W.length?po(W[0]):P}function Il(P){var W,ne=P.children;return ne&&(W=ne.length)?Il(ne[W-1]):P}function nu(P){return{x:P.x,y:P.y,dx:P.dx,dy:P.dy}}function Pu(P,W){var ne=P.x+W[3],se=P.y+W[0],ve=P.dx-W[1]-W[3],ke=P.dy-W[0]-W[2];return ve<0&&(ne+=ve/2,ve=0),ke<0&&(se+=ke/2,ke=0),{x:ne,y:se,dx:ve,dy:ke}}function ru(P){var W=P[0],ne=P[P.length-1];return W<ne?[W,ne]:[ne,W]}function iu(P){return P.rangeExtent?P.rangeExtent():ru(P.range())}function Mo(P,W,ne,se){var ve=ne(P[0],P[1]),ke=se(W[0],W[1]);return function(De){return ke(ve(De))}}function Vs(P,W){var ne,se=0,ve=P.length-1,ke=P[se],De=P[ve];return De<ke&&(ne=se,se=ve,ve=ne,ne=ke,ke=De,De=ne),P[se]=W.floor(ke),P[ve]=W.ceil(De),P}function Hs(P){return P?{floor:function(W){return Math.floor(W/P)*P},ceil:function(W){return Math.ceil(W/P)*P}}:Ha}t.layout.histogram=function(){var P=!0,W=Number,ne=Lu,se=Eu;function ve(ke,De){for(var je,We,$e=[],at=ke.map(W,this),pt=ne.call(this,at,De),vt=se.call(this,pt,at,De),kt=(De=-1,at.length),Ot=vt.length-1,St=P?1:1/kt;++De<Ot;)(je=$e[De]=[]).dx=vt[De+1]-(je.x=vt[De]),je.y=0;if(Ot>0)for(De=-1;++De<kt;)(We=at[De])>=pt[0]&&We<=pt[1]&&((je=$e[t.bisect(vt,We,1,Ot)-1]).y+=St,je.push(ke[De]));return $e}return ve.value=function(ke){return arguments.length?(W=ke,ve):W},ve.range=function(ke){return arguments.length?(ne=Vn(ke),ve):ne},ve.bins=function(ke){return arguments.length?(se=typeof ke=="number"?function(De){return ho(De,ke)}:Vn(ke),ve):se},ve.frequency=function(ke){return arguments.length?(P=!!ke,ve):P},ve},t.layout.pack=function(){var P,W=t.layout.hierarchy().sort(Tc),ne=0,se=[1,1];function ve(ke,De){var je=W.call(this,ke,De),We=je[0],$e=se[0],at=se[1],pt=P==null?Math.sqrt:typeof P=="function"?P:function(){return P};if(We.x=We.y=0,ci(We,function(kt){kt.r=+pt(kt.value)}),ci(We,hl),ne){var vt=ne*(P?1:Math.max(2*We.r/$e,2*We.r/at))/2;ci(We,function(kt){kt.r+=vt}),ci(We,hl),ci(We,function(kt){kt.r-=vt})}return Cu(We,$e/2,at/2,P?1:1/Math.max(2*We.r/$e,2*We.r/at)),je}return ve.size=function(ke){return arguments.length?(se=ke,ve):se},ve.radius=function(ke){return arguments.length?(P=ke==null||typeof ke=="function"?ke:+ke,ve):P},ve.padding=function(ke){return arguments.length?(ne=+ke,ve):ne},xs(ve,W)},t.layout.tree=function(){var P=t.layout.hierarchy().sort(null).value(null),W=Us,ne=[1,1],se=null;function ve(We,$e){var at=P.call(this,We,$e),pt=at[0],vt=function($t){for(var Ht,vn={A:null,children:[$t]},bn=[vn];(Ht=bn.pop())!=null;)for(var Ln,zn=Ht.children,Gn=0,or=zn.length;Gn<or;++Gn)bn.push((zn[Gn]=Ln={_:zn[Gn],parent:Ht,children:(Ln=zn[Gn].children)&&Ln.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Gn}).a=Ln);return vn.children[0]}(pt);if(ci(vt,ke),vt.parent.m=-vt.z,Ns(vt,De),se)Ns(pt,je);else{var kt=pt,Ot=pt,St=pt;Ns(pt,function($t){$t.x<kt.x&&(kt=$t),$t.x>Ot.x&&(Ot=$t),$t.depth>St.depth&&(St=$t)});var jt=W(kt,Ot)/2-kt.x,It=ne[0]/(Ot.x+W(Ot,kt)/2+jt),Jt=ne[1]/(St.depth||1);Ns(pt,function($t){$t.x=($t.x+jt)*It,$t.y=$t.depth*Jt})}return at}function ke(We){var $e=We.children,at=We.parent.children,pt=We.i?at[We.i-1]:null;if($e.length){(function(kt){for(var Ot,St=0,jt=0,It=kt.children,Jt=It.length;--Jt>=0;)(Ot=It[Jt]).z+=St,Ot.m+=St,St+=Ot.s+(jt+=Ot.c)})(We);var vt=($e[0].z+$e[$e.length-1].z)/2;pt?(We.z=pt.z+W(We._,pt._),We.m=We.z-vt):We.z=vt}else pt&&(We.z=pt.z+W(We._,pt._));We.parent.A=function(kt,Ot,St){if(Ot){for(var jt,It=kt,Jt=kt,$t=Ot,Ht=It.parent.children[0],vn=It.m,bn=Jt.m,Ln=$t.m,zn=Ht.m;$t=jo($t),It=Fa(It),$t&&It;)Ht=Fa(Ht),(Jt=jo(Jt)).a=kt,(jt=$t.z+Ln-It.z-vn+W($t._,It._))>0&&(mi(Ti($t,kt,St),kt,jt),vn+=jt,bn+=jt),Ln+=$t.m,vn+=It.m,zn+=Ht.m,bn+=Jt.m;$t&&!jo(Jt)&&(Jt.t=$t,Jt.m+=Ln-bn),It&&!Fa(Ht)&&(Ht.t=It,Ht.m+=vn-zn,St=kt)}return St}(We,pt,We.parent.A||at[0])}function De(We){We._.x=We.z+We.parent.m,We.m+=We.parent.m}function je(We){We.x*=ne[0],We.y=We.depth*ne[1]}return ve.separation=function(We){return arguments.length?(W=We,ve):W},ve.size=function(We){return arguments.length?(se=(ne=We)==null?je:null,ve):se?null:ne},ve.nodeSize=function(We){return arguments.length?(se=(ne=We)==null?null:je,ve):se?ne:null},xs(ve,P)},t.layout.cluster=function(){var P=t.layout.hierarchy().sort(null).value(null),W=Us,ne=[1,1],se=!1;function ve(ke,De){var je,We=P.call(this,ke,De),$e=We[0],at=0;ci($e,function(St){var jt=St.children;jt&&jt.length?(St.x=function(It){return It.reduce(function(Jt,$t){return Jt+$t.x},0)/It.length}(jt),St.y=function(It){return 1+t.max(It,function(Jt){return Jt.y})}(jt)):(St.x=je?at+=W(St,je):0,St.y=0,je=St)});var pt=po($e),vt=Il($e),kt=pt.x-W(pt,vt)/2,Ot=vt.x+W(vt,pt)/2;return ci($e,se?function(St){St.x=(St.x-$e.x)*ne[0],St.y=($e.y-St.y)*ne[1]}:function(St){St.x=(St.x-kt)/(Ot-kt)*ne[0],St.y=(1-($e.y?St.y/$e.y:1))*ne[1]}),We}return ve.separation=function(ke){return arguments.length?(W=ke,ve):W},ve.size=function(ke){return arguments.length?(se=(ne=ke)==null,ve):se?null:ne},ve.nodeSize=function(ke){return arguments.length?(se=(ne=ke)!=null,ve):se?ne:null},xs(ve,P)},t.layout.treemap=function(){var P,W=t.layout.hierarchy(),ne=Math.round,se=[1,1],ve=null,ke=nu,De=!1,je="squarify",We=.5*(1+Math.sqrt(5));function $e(St,jt){for(var It,Jt,$t=-1,Ht=St.length;++$t<Ht;)Jt=(It=St[$t]).value*(jt<0?0:jt),It.area=isNaN(Jt)||Jt<=0?0:Jt}function at(St){var jt=St.children;if(jt&&jt.length){var It,Jt,$t,Ht=ke(St),vn=[],bn=jt.slice(),Ln=1/0,zn=je==="slice"?Ht.dx:je==="dice"?Ht.dy:je==="slice-dice"?1&St.depth?Ht.dy:Ht.dx:Math.min(Ht.dx,Ht.dy);for($e(bn,Ht.dx*Ht.dy/St.value),vn.area=0;($t=bn.length)>0;)vn.push(It=bn[$t-1]),vn.area+=It.area,je!=="squarify"||(Jt=vt(vn,zn))<=Ln?(bn.pop(),Ln=Jt):(vn.area-=vn.pop().area,kt(vn,zn,Ht,!1),zn=Math.min(Ht.dx,Ht.dy),vn.length=vn.area=0,Ln=1/0);vn.length&&(kt(vn,zn,Ht,!0),vn.length=vn.area=0),jt.forEach(at)}}function pt(St){var jt=St.children;if(jt&&jt.length){var It,Jt=ke(St),$t=jt.slice(),Ht=[];for($e($t,Jt.dx*Jt.dy/St.value),Ht.area=0;It=$t.pop();)Ht.push(It),Ht.area+=It.area,It.z!=null&&(kt(Ht,It.z?Jt.dx:Jt.dy,Jt,!$t.length),Ht.length=Ht.area=0);jt.forEach(pt)}}function vt(St,jt){for(var It,Jt=St.area,$t=0,Ht=1/0,vn=-1,bn=St.length;++vn<bn;)(It=St[vn].area)&&(It<Ht&&(Ht=It),It>$t&&($t=It));return jt*=jt,(Jt*=Jt)?Math.max(jt*$t*We/Jt,Jt/(jt*Ht*We)):1/0}function kt(St,jt,It,Jt){var $t,Ht=-1,vn=St.length,bn=It.x,Ln=It.y,zn=jt?ne(St.area/jt):0;if(jt==It.dx){for((Jt||zn>It.dy)&&(zn=It.dy);++Ht<vn;)($t=St[Ht]).x=bn,$t.y=Ln,$t.dy=zn,bn+=$t.dx=Math.min(It.x+It.dx-bn,zn?ne($t.area/zn):0);$t.z=!0,$t.dx+=It.x+It.dx-bn,It.y+=zn,It.dy-=zn}else{for((Jt||zn>It.dx)&&(zn=It.dx);++Ht<vn;)($t=St[Ht]).x=bn,$t.y=Ln,$t.dx=zn,Ln+=$t.dy=Math.min(It.y+It.dy-Ln,zn?ne($t.area/zn):0);$t.z=!1,$t.dy+=It.y+It.dy-Ln,It.x+=zn,It.dx-=zn}}function Ot(St){var jt=P||W(St),It=jt[0];return It.x=It.y=0,It.value?(It.dx=se[0],It.dy=se[1]):It.dx=It.dy=0,P&&W.revalue(It),$e([It],It.dx*It.dy/It.value),(P?pt:at)(It),De&&(P=jt),jt}return Ot.size=function(St){return arguments.length?(se=St,Ot):se},Ot.padding=function(St){if(!arguments.length)return ve;function jt(Jt){return Pu(Jt,St)}var It;return ke=(ve=St)==null?nu:(It=typeof St)=="function"?function(Jt){var $t=St.call(Ot,Jt,Jt.depth);return $t==null?nu(Jt):Pu(Jt,typeof $t=="number"?[$t,$t,$t,$t]:$t)}:(It==="number"&&(St=[St,St,St,St]),jt),Ot},Ot.round=function(St){return arguments.length?(ne=St?Math.round:Number,Ot):ne!=Number},Ot.sticky=function(St){return arguments.length?(De=St,P=null,Ot):De},Ot.ratio=function(St){return arguments.length?(We=St,Ot):We},Ot.mode=function(St){return arguments.length?(je=St+"",Ot):je},xs(Ot,W)},t.random={normal:function(P,W){var ne=arguments.length;return ne<2&&(W=1),ne<1&&(P=0),function(){var se,ve,ke;do ke=(se=2*Math.random()-1)*se+(ve=2*Math.random()-1)*ve;while(!ke||ke>1);return P+W*se*Math.sqrt(-2*Math.log(ke)/ke)}},logNormal:function(){var P=t.random.normal.apply(t,arguments);return function(){return Math.exp(P())}},bates:function(P){var W=t.random.irwinHall(P);return function(){return W()/P}},irwinHall:function(P){return function(){for(var W=0,ne=0;ne<P;ne++)W+=Math.random();return W}}},t.scale={};var Ha={floor:z,ceil:z};function au(P,W,ne,se){var ve=[],ke=[],De=0,je=Math.min(P.length,W.length)-1;for(P[je]<P[0]&&(P=P.slice().reverse(),W=W.slice().reverse());++De<=je;)ve.push(ne(P[De-1],P[De])),ke.push(se(W[De-1],W[De]));return function(We){var $e=t.bisect(P,We,1,je)-1;return ke[$e](ve[$e](We))}}function So(P,W,ne,se){var ve,ke;function De(){var We=Math.min(P.length,W.length)>2?au:Mo,$e=se?sf:of;return ve=We(P,W,$e,ne),ke=We(W,P,$e,ko),je}function je(We){return ve(We)}return je.invert=function(We){return ke(We)},je.domain=function(We){return arguments.length?(P=We.map(Number),De()):P},je.range=function(We){return arguments.length?(W=We,De()):W},je.rangeRound=function(We){return je.range(We).interpolate(Yu)},je.clamp=function(We){return arguments.length?(se=We,De()):se},je.interpolate=function(We){return arguments.length?(ne=We,De()):ne},je.ticks=function(We){return Sa(P,We)},je.tickFormat=function(We,$e){return d3_scale_linearTickFormat(P,We,$e)},je.nice=function(We){return Ma(P,We),De()},je.copy=function(){return So(P,W,ne,se)},De()}function ma(P,W){return t.rebind(P,W,"range","rangeRound","interpolate","clamp")}function Ma(P,W){return Vs(P,Hs(Ri(P,W)[2])),Vs(P,Hs(Ri(P,W)[2])),P}function Ri(P,W){W==null&&(W=10);var ne=ru(P),se=ne[1]-ne[0],ve=Math.pow(10,Math.floor(Math.log(se/W)/Math.LN10)),ke=W/se*ve;return ke<=.15?ve*=10:ke<=.35?ve*=5:ke<=.75&&(ve*=2),ne[0]=Math.ceil(ne[0]/ve)*ve,ne[1]=Math.floor(ne[1]/ve)*ve+.5*ve,ne[2]=ve,ne}function Sa(P,W){return t.range.apply(t,Ri(P,W))}function as(P,W,ne,se){function ve(je){return(ne?Math.log(je<0?0:je):-Math.log(je>0?0:-je))/Math.log(W)}function ke(je){return ne?Math.pow(W,je):-Math.pow(W,-je)}function De(je){return P(ve(je))}return De.invert=function(je){return ke(P.invert(je))},De.domain=function(je){return arguments.length?(ne=je[0]>=0,P.domain((se=je.map(Number)).map(ve)),De):se},De.base=function(je){return arguments.length?(W=+je,P.domain(se.map(ve)),De):W},De.nice=function(){var je=Vs(se.map(ve),ne?Math:dl);return P.domain(je),se=je.map(ke),De},De.ticks=function(){var je=ru(se),We=[],$e=je[0],at=je[1],pt=Math.floor(ve($e)),vt=Math.ceil(ve(at)),kt=W%1?2:W;if(isFinite(vt-pt)){if(ne){for(;pt<vt;pt++)for(var Ot=1;Ot<kt;Ot++)We.push(ke(pt)*Ot);We.push(ke(pt))}else for(We.push(ke(pt));pt++<vt;)for(Ot=kt-1;Ot>0;Ot--)We.push(ke(pt)*Ot);for(pt=0;We[pt]<$e;pt++);for(vt=We.length;We[vt-1]>at;vt--);We=We.slice(pt,vt)}return We},De.copy=function(){return as(P.copy(),W,ne,se)},ma(De,P)}t.scale.linear=function(){return So([0,1],[0,1],ko,!1)},t.scale.log=function(){return as(t.scale.linear().domain([0,1]),10,!0,[1,10])};var dl={floor:function(P){return-Math.ceil(-P)},ceil:function(P){return-Math.floor(-P)}};function Uo(P,W,ne){var se=qs(W),ve=qs(1/W);function ke(De){return P(se(De))}return ke.invert=function(De){return ve(P.invert(De))},ke.domain=function(De){return arguments.length?(P.domain((ne=De.map(Number)).map(se)),ke):ne},ke.ticks=function(De){return Sa(ne,De)},ke.tickFormat=function(De,je){return d3_scale_linearTickFormat(ne,De,je)},ke.nice=function(De){return ke.domain(Ma(ne,De))},ke.exponent=function(De){return arguments.length?(se=qs(W=De),ve=qs(1/W),P.domain(ne.map(se)),ke):W},ke.copy=function(){return Uo(P.copy(),W,ne)},ma(ke,P)}function qs(P){return function(W){return W<0?-Math.pow(-W,P):Math.pow(W,P)}}function Za(P,W){var ne,se,ve;function ke(je){return se[((ne.get(je)||(W.t==="range"?ne.set(je,P.push(je)):NaN))-1)%se.length]}function De(je,We){return t.range(P.length).map(function($e){return je+We*$e})}return ke.domain=function(je){if(!arguments.length)return P;P=[],ne=new _;for(var We,$e=-1,at=je.length;++$e<at;)ne.has(We=je[$e])||ne.set(We,P.push(We));return ke[W.t].apply(ke,W.a)},ke.range=function(je){return arguments.length?(se=je,ve=0,W={t:"range",a:arguments},ke):se},ke.rangePoints=function(je,We){arguments.length<2&&(We=0);var $e=je[0],at=je[1],pt=P.length<2?($e=($e+at)/2,0):(at-$e)/(P.length-1+We);return se=De($e+pt*We/2,pt),ve=0,W={t:"rangePoints",a:arguments},ke},ke.rangeRoundPoints=function(je,We){arguments.length<2&&(We=0);var $e=je[0],at=je[1],pt=P.length<2?($e=at=Math.round(($e+at)/2),0):(at-$e)/(P.length-1+We)|0;return se=De($e+Math.round(pt*We/2+(at-$e-(P.length-1+We)*pt)/2),pt),ve=0,W={t:"rangeRoundPoints",a:arguments},ke},ke.rangeBands=function(je,We,$e){arguments.length<2&&(We=0),arguments.length<3&&($e=We);var at=je[1]<je[0],pt=je[at-0],vt=(je[1-at]-pt)/(P.length-We+2*$e);return se=De(pt+vt*$e,vt),at&&se.reverse(),ve=vt*(1-We),W={t:"rangeBands",a:arguments},ke},ke.rangeRoundBands=function(je,We,$e){arguments.length<2&&(We=0),arguments.length<3&&($e=We);var at=je[1]<je[0],pt=je[at-0],vt=je[1-at],kt=Math.floor((vt-pt)/(P.length-We+2*$e));return se=De(pt+Math.round((vt-pt-(P.length-We)*kt)/2),kt),at&&se.reverse(),ve=Math.round(kt*(1-We)),W={t:"rangeRoundBands",a:arguments},ke},ke.rangeBand=function(){return ve},ke.rangeExtent=function(){return ru(W.a[0])},ke.copy=function(){return Za(P,W)},ke.domain(P)}t.scale.pow=function(){return Uo(t.scale.linear(),1,[0,1])},t.scale.sqrt=function(){return t.scale.pow().exponent(.5)},t.scale.ordinal=function(){return Za([],{t:"range",a:[[]]})},t.scale.category10=function(){return t.scale.ordinal().range(vl)},t.scale.category20=function(){return t.scale.ordinal().range(_s)},t.scale.category20b=function(){return t.scale.ordinal().range(Eo)},t.scale.category20c=function(){return t.scale.ordinal().range(Lo)};var vl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(tn),_s=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(tn),Eo=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(tn),Lo=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(tn);function zi(P,W){var ne;function se(){var ke=0,De=W.length;for(ne=[];++ke<De;)ne[ke-1]=t.quantile(P,ke/De);return ve}function ve(ke){if(!isNaN(ke=+ke))return W[t.bisect(ne,ke)]}return ve.domain=function(ke){return arguments.length?(P=ke.map(h).filter(f).sort(u),se()):P},ve.range=function(ke){return arguments.length?(W=ke,se()):W},ve.quantiles=function(){return ne},ve.invertExtent=function(ke){return(ke=W.indexOf(ke))<0?[NaN,NaN]:[ke>0?ne[ke-1]:P[0],ke<ne.length?ne[ke]:P[P.length-1]]},ve.copy=function(){return zi(P,W)},se()}function Vo(P,W,ne){var se,ve;function ke(je){return ne[Math.max(0,Math.min(ve,Math.floor(se*(je-P))))]}function De(){return se=ne.length/(W-P),ve=ne.length-1,ke}return ke.domain=function(je){return arguments.length?(P=+je[0],W=+je[je.length-1],De()):[P,W]},ke.range=function(je){return arguments.length?(ne=je,De()):ne},ke.invertExtent=function(je){return[je=(je=ne.indexOf(je))<0?NaN:je/se+P,je+1/se]},ke.copy=function(){return Vo(P,W,ne)},De()}function Or(P,W){function ne(se){if(se<=se)return W[t.bisect(P,se)]}return ne.domain=function(se){return arguments.length?(P=se,ne):P},ne.range=function(se){return arguments.length?(W=se,ne):W},ne.invertExtent=function(se){return se=W.indexOf(se),[P[se-1],P[se]]},ne.copy=function(){return Or(P,W)},ne}function ou(P){function W(ne){return+ne}return W.invert=W,W.domain=W.range=function(ne){return arguments.length?(P=ne.map(W),W):P},W.ticks=function(ne){return Sa(P,ne)},W.tickFormat=function(ne,se){return d3_scale_linearTickFormat(P,ne,se)},W.copy=function(){return ou(P)},W}function Zu(){return 0}t.scale.quantile=function(){return zi([],[])},t.scale.quantize=function(){return Vo(0,1,[0,1])},t.scale.threshold=function(){return Or([.5],[0,1])},t.scale.identity=function(){return ou([0,1])},t.svg={},t.svg.arc=function(){var P=Ws,W=ml,ne=Zu,se=Gs,ve=Rl,ke=Tr,De=su;function je(){var $e=Math.max(0,+P.apply(this,arguments)),at=Math.max(0,+W.apply(this,arguments)),pt=ve.apply(this,arguments)-Ze,vt=ke.apply(this,arguments)-Ze,kt=Math.abs(vt-pt),Ot=pt>vt?0:1;if(at<$e&&(St=at,at=$e,$e=St),kt>=Pt)return We(at,Ot)+($e?We($e,1-Ot):"")+"Z";var St,jt,It,Jt,$t,Ht,vn,bn,Ln,zn,Gn,or,dr=0,Xn=0,hr=[];if((Jt=(+De.apply(this,arguments)||0)/2)&&(It=se===Gs?Math.sqrt($e*$e+at*at):+se.apply(this,arguments),Ot||(Xn*=-1),at&&(Xn=Ke(It/at*Math.sin(Jt))),$e&&(dr=Ke(It/$e*Math.sin(Jt)))),at){$t=at*Math.cos(pt+Xn),Ht=at*Math.sin(pt+Xn),vn=at*Math.cos(vt-Xn),bn=at*Math.sin(vt-Xn);var Ar=Math.abs(vt-pt-2*Xn)<=zt?0:1;if(Xn&&ws($t,Ht,vn,bn)===Ot^Ar){var zr=(pt+vt)/2;$t=at*Math.cos(zr),Ht=at*Math.sin(zr),vn=bn=null}}else $t=Ht=0;if($e){Ln=$e*Math.cos(vt-dr),zn=$e*Math.sin(vt-dr),Gn=$e*Math.cos(pt+dr),or=$e*Math.sin(pt+dr);var nr=Math.abs(pt-vt+2*dr)<=zt?0:1;if(dr&&ws(Ln,zn,Gn,or)===1-Ot^nr){var fr=(pt+vt)/2;Ln=$e*Math.cos(fr),zn=$e*Math.sin(fr),Gn=or=null}}else Ln=zn=0;if(kt>nt&&(St=Math.min(Math.abs(at-$e)/2,+ne.apply(this,arguments)))>.001){jt=$e<at^Ot?0:1;var Lr=St,gr=St;if(kt<zt){var Ir=Gn==null?[Ln,zn]:vn==null?[$t,Ht]:At([$t,Ht],[Gn,or],[vn,bn],[Ln,zn]),Nr=$t-Ir[0],ei=Ht-Ir[1],ni=vn-Ir[0],ui=bn-Ir[1],di=1/Math.sin(Math.acos((Nr*ni+ei*ui)/(Math.sqrt(Nr*Nr+ei*ei)*Math.sqrt(ni*ni+ui*ui)))/2),Bi=Math.sqrt(Ir[0]*Ir[0]+Ir[1]*Ir[1]);gr=Math.min(St,($e-Bi)/(di-1)),Lr=Math.min(St,(at-Bi)/(di+1))}if(vn!=null){var ia=ya(Gn==null?[Ln,zn]:[Gn,or],[$t,Ht],at,Lr,Ot),Ga=ya([vn,bn],[Ln,zn],at,Lr,Ot);St===Lr?hr.push("M",ia[0],"A",Lr,",",Lr," 0 0,",jt," ",ia[1],"A",at,",",at," 0 ",1-Ot^ws(ia[1][0],ia[1][1],Ga[1][0],Ga[1][1]),",",Ot," ",Ga[1],"A",Lr,",",Lr," 0 0,",jt," ",Ga[0]):hr.push("M",ia[0],"A",Lr,",",Lr," 0 1,",jt," ",Ga[0])}else hr.push("M",$t,",",Ht);if(Gn!=null){var xa=ya([$t,Ht],[Gn,or],$e,-gr,Ot),Ba=ya([Ln,zn],vn==null?[$t,Ht]:[vn,bn],$e,-gr,Ot);St===gr?hr.push("L",Ba[0],"A",gr,",",gr," 0 0,",jt," ",Ba[1],"A",$e,",",$e," 0 ",Ot^ws(Ba[1][0],Ba[1][1],xa[1][0],xa[1][1]),",",1-Ot," ",xa[1],"A",gr,",",gr," 0 0,",jt," ",xa[0]):hr.push("L",Ba[0],"A",gr,",",gr," 0 0,",jt," ",xa[0])}else hr.push("L",Ln,",",zn)}else hr.push("M",$t,",",Ht),vn!=null&&hr.push("A",at,",",at," 0 ",Ar,",",Ot," ",vn,",",bn),hr.push("L",Ln,",",zn),Gn!=null&&hr.push("A",$e,",",$e," 0 ",nr,",",1-Ot," ",Gn,",",or);return hr.push("Z"),hr.join("")}function We($e,at){return"M0,"+$e+"A"+$e+","+$e+" 0 1,"+at+" 0,"+-$e+"A"+$e+","+$e+" 0 1,"+at+" 0,"+$e}return je.innerRadius=function($e){return arguments.length?(P=Vn($e),je):P},je.outerRadius=function($e){return arguments.length?(W=Vn($e),je):W},je.cornerRadius=function($e){return arguments.length?(ne=Vn($e),je):ne},je.padRadius=function($e){return arguments.length?(se=$e==Gs?Gs:Vn($e),je):se},je.startAngle=function($e){return arguments.length?(ve=Vn($e),je):ve},je.endAngle=function($e){return arguments.length?(ke=Vn($e),je):ke},je.padAngle=function($e){return arguments.length?(De=Vn($e),je):De},je.centroid=function(){var $e=(+P.apply(this,arguments)+ +W.apply(this,arguments))/2,at=(+ve.apply(this,arguments)+ +ke.apply(this,arguments))/2-Ze;return[Math.cos(at)*$e,Math.sin(at)*$e]},je};var Gs="auto";function Ws(P){return P.innerRadius}function ml(P){return P.outerRadius}function Rl(P){return P.startAngle}function Tr(P){return P.endAngle}function su(P){return P&&P.padAngle}function ws(P,W,ne,se){return(P-ne)*W-(W-se)*P>0?0:1}function ya(P,W,ne,se,ve){var ke=P[0]-W[0],De=P[1]-W[1],je=(ve?se:-se)/Math.sqrt(ke*ke+De*De),We=je*De,$e=-je*ke,at=P[0]+We,pt=P[1]+$e,vt=W[0]+We,kt=W[1]+$e,Ot=(at+vt)/2,St=(pt+kt)/2,jt=vt-at,It=kt-pt,Jt=jt*jt+It*It,$t=ne-se,Ht=at*kt-vt*pt,vn=(It<0?-1:1)*Math.sqrt(Math.max(0,$t*$t*Jt-Ht*Ht)),bn=(Ht*It-jt*vn)/Jt,Ln=(-Ht*jt-It*vn)/Jt,zn=(Ht*It+jt*vn)/Jt,Gn=(-Ht*jt+It*vn)/Jt,or=bn-Ot,dr=Ln-St,Xn=zn-Ot,hr=Gn-St;return or*or+dr*dr>Xn*Xn+hr*hr&&(bn=zn,Ln=Gn),[[bn-We,Ln-$e],[bn*ne/$t,Ln*ne/$t]]}function Ys(){return!0}function Ho(P){var W=$n,ne=Hn,se=Ys,ve=qa,ke=ve.key,De=.7;function je(We){var $e,at=[],pt=[],vt=-1,kt=We.length,Ot=Vn(W),St=Vn(ne);function jt(){at.push("M",ve(P(pt),De))}for(;++vt<kt;)se.call(this,$e=We[vt],vt)?pt.push([+Ot.call(this,$e,vt),+St.call(this,$e,vt)]):pt.length&&(jt(),pt=[]);return pt.length&&jt(),at.length?at.join(""):null}return je.x=function(We){return arguments.length?(W=We,je):W},je.y=function(We){return arguments.length?(ne=We,je):ne},je.defined=function(We){return arguments.length?(se=We,je):se},je.interpolate=function(We){return arguments.length?(ke=typeof We=="function"?ve=We:(ve=Co.get(We)||qa).key,je):ke},je.tension=function(We){return arguments.length?(De=We,je):De},je}t.svg.line=function(){return Ho(z)};var Co=t.map({linear:qa,"linear-closed":os,step:function(P){for(var W=0,ne=P.length,se=P[0],ve=[se[0],",",se[1]];++W<ne;)ve.push("H",(se[0]+(se=P[W])[0])/2,"V",se[1]);return ne>1&&ve.push("H",se[0]),ve.join("")},"step-before":Po,"step-after":Ts,basis:gi,"basis-open":function(P){if(P.length<4)return qa(P);for(var W,ne=[],se=-1,ve=P.length,ke=[0],De=[0];++se<3;)W=P[se],ke.push(W[0]),De.push(W[1]);for(ne.push(Ea(Ka,ke)+","+Ea(Ka,De)),--se;++se<ve;)W=P[se],ke.shift(),ke.push(W[0]),De.shift(),De.push(W[1]),Dl(ne,ke,De);return ne.join("")},"basis-closed":function(P){for(var W,ne,se=-1,ve=P.length,ke=ve+4,De=[],je=[];++se<4;)ne=P[se%ve],De.push(ne[0]),je.push(ne[1]);for(W=[Ea(Ka,De),",",Ea(Ka,je)],--se;++se<ke;)ne=P[se%ve],De.shift(),De.push(ne[0]),je.shift(),je.push(ne[1]),Dl(W,De,je);return W.join("")},bundle:function(P,W){var ne=P.length-1;if(ne)for(var se,ve,ke=P[0][0],De=P[0][1],je=P[ne][0]-ke,We=P[ne][1]-De,$e=-1;++$e<=ne;)ve=$e/ne,(se=P[$e])[0]=W*se[0]+(1-W)*(ke+ve*je),se[1]=W*se[1]+(1-W)*(De+ve*We);return gi(P)},cardinal:function(P,W){return P.length<3?qa(P):P[0]+lu(P,$s(P,W))},"cardinal-open":function(P,W){return P.length<4?qa(P):P[1]+lu(P.slice(1,-1),$s(P,W))},"cardinal-closed":function(P,W){return P.length<3?os(P):P[0]+lu((P.push(P[0]),P),$s([P[P.length-2]].concat(P,[P[1]]),W))},monotone:function(P){return P.length<3?qa(P):P[0]+lu(P,function(W){for(var ne,se,ve,ke,De=[],je=function(at){for(var pt=0,vt=at.length-1,kt=[],Ot=at[0],St=at[1],jt=kt[0]=zl(Ot,St);++pt<vt;)kt[pt]=(jt+(jt=zl(Ot=St,St=at[pt+1])))/2;return kt[pt]=jt,kt}(W),We=-1,$e=W.length-1;++We<$e;)ne=zl(W[We],W[We+1]),m(ne)<nt?je[We]=je[We+1]=0:(ke=(se=je[We]/ne)*se+(ve=je[We+1]/ne)*ve)>9&&(ke=3*ne/Math.sqrt(ke),je[We]=ke*se,je[We+1]=ke*ve);for(We=-1;++We<=$e;)ke=(W[Math.min($e,We+1)][0]-W[Math.max(0,We-1)][0])/(6*(1+je[We]*je[We])),De.push([ke||0,je[We]*ke||0]);return De}(P))}});function qa(P){return P.length>1?P.join("L"):P+"Z"}function os(P){return P.join("L")+"Z"}function Po(P){for(var W=0,ne=P.length,se=P[0],ve=[se[0],",",se[1]];++W<ne;)ve.push("V",(se=P[W])[1],"H",se[0]);return ve.join("")}function Ts(P){for(var W=0,ne=P.length,se=P[0],ve=[se[0],",",se[1]];++W<ne;)ve.push("H",(se=P[W])[0],"V",se[1]);return ve.join("")}function lu(P,W){if(W.length<1||P.length!=W.length&&P.length!=W.length+2)return qa(P);var ne=P.length!=W.length,se="",ve=P[0],ke=P[1],De=W[0],je=De,We=1;if(ne&&(se+="Q"+(ke[0]-2*De[0]/3)+","+(ke[1]-2*De[1]/3)+","+ke[0]+","+ke[1],ve=P[1],We=2),W.length>1){je=W[1],ke=P[We],We++,se+="C"+(ve[0]+De[0])+","+(ve[1]+De[1])+","+(ke[0]-je[0])+","+(ke[1]-je[1])+","+ke[0]+","+ke[1];for(var $e=2;$e<W.length;$e++,We++)ke=P[We],je=W[$e],se+="S"+(ke[0]-je[0])+","+(ke[1]-je[1])+","+ke[0]+","+ke[1]}if(ne){var at=P[We];se+="Q"+(ke[0]+2*je[0]/3)+","+(ke[1]+2*je[1]/3)+","+at[0]+","+at[1]}return se}function $s(P,W){for(var ne,se=[],ve=(1-W)/2,ke=P[0],De=P[1],je=1,We=P.length;++je<We;)ne=ke,ke=De,De=P[je],se.push([ve*(De[0]-ne[0]),ve*(De[1]-ne[1])]);return se}function gi(P){if(P.length<3)return qa(P);var W=1,ne=P.length,se=P[0],ve=se[0],ke=se[1],De=[ve,ve,ve,(se=P[1])[0]],je=[ke,ke,ke,se[1]],We=[ve,",",ke,"L",Ea(Ka,De),",",Ea(Ka,je)];for(P.push(P[ne-1]);++W<=ne;)se=P[W],De.shift(),De.push(se[0]),je.shift(),je.push(se[1]),Dl(We,De,je);return P.pop(),We.push("L",se),We.join("")}function Ea(P,W){return P[0]*W[0]+P[1]*W[1]+P[2]*W[2]+P[3]*W[3]}Co.forEach(function(P,W){W.key=P,W.closed=/-closed$/.test(P)});var Xa=[0,2/3,1/3,0],ss=[0,1/3,2/3,0],Ka=[0,1/6,2/3,1/6];function Dl(P,W,ne){P.push("C",Ea(Xa,W),",",Ea(Xa,ne),",",Ea(ss,W),",",Ea(ss,ne),",",Ea(Ka,W),",",Ea(Ka,ne))}function zl(P,W){return(W[1]-P[1])/(W[0]-P[0])}function Ja(P){for(var W,ne,se,ve=-1,ke=P.length;++ve<ke;)ne=(W=P[ve])[0],se=W[1]-Ze,W[0]=ne*Math.cos(se),W[1]=ne*Math.sin(se);return P}function pi(P){var W=$n,ne=$n,se=0,ve=Hn,ke=Ys,De=qa,je=De.key,We=De,$e="L",at=.7;function pt(vt){var kt,Ot,St,jt=[],It=[],Jt=[],$t=-1,Ht=vt.length,vn=Vn(W),bn=Vn(se),Ln=W===ne?function(){return Ot}:Vn(ne),zn=se===ve?function(){return St}:Vn(ve);function Gn(){jt.push("M",De(P(Jt),at),$e,We(P(It.reverse()),at),"Z")}for(;++$t<Ht;)ke.call(this,kt=vt[$t],$t)?(It.push([Ot=+vn.call(this,kt,$t),St=+bn.call(this,kt,$t)]),Jt.push([+Ln.call(this,kt,$t),+zn.call(this,kt,$t)])):It.length&&(Gn(),It=[],Jt=[]);return It.length&&Gn(),jt.length?jt.join(""):null}return pt.x=function(vt){return arguments.length?(W=ne=vt,pt):ne},pt.x0=function(vt){return arguments.length?(W=vt,pt):W},pt.x1=function(vt){return arguments.length?(ne=vt,pt):ne},pt.y=function(vt){return arguments.length?(se=ve=vt,pt):ve},pt.y0=function(vt){return arguments.length?(se=vt,pt):se},pt.y1=function(vt){return arguments.length?(ve=vt,pt):ve},pt.defined=function(vt){return arguments.length?(ke=vt,pt):ke},pt.interpolate=function(vt){return arguments.length?(je=typeof vt=="function"?De=vt:(De=Co.get(vt)||qa).key,We=De.reverse||De,$e=De.closed?"M":"L",pt):je},pt.tension=function(vt){return arguments.length?(at=vt,pt):at},pt}function ls(P){return P.source}function yl(P){return P.target}function qo(P){return P.radius}function Fl(P){return[P.x,P.y]}function Bl(){return 64}function Go(){return"circle"}function Fi(P){var W=Math.sqrt(P/zt);return"M0,"+W+"A"+W+","+W+" 0 1,1 0,"+-W+"A"+W+","+W+" 0 1,1 0,"+W+"Z"}t.svg.line.radial=function(){var P=Ho(Ja);return P.radius=P.x,delete P.x,P.angle=P.y,delete P.y,P},Po.reverse=Ts,Ts.reverse=Po,t.svg.area=function(){return pi(z)},t.svg.area.radial=function(){var P=pi(Ja);return P.radius=P.x,delete P.x,P.innerRadius=P.x0,delete P.x0,P.outerRadius=P.x1,delete P.x1,P.angle=P.y,delete P.y,P.startAngle=P.y0,delete P.y0,P.endAngle=P.y1,delete P.y1,P},t.svg.chord=function(){var P=ls,W=yl,ne=qo,se=Rl,ve=Tr;function ke($e,at){var pt,vt,kt=De(this,P,$e,at),Ot=De(this,W,$e,at);return"M"+kt.p0+je(kt.r,kt.p1,kt.a1-kt.a0)+(vt=Ot,((pt=kt).a0==vt.a0&&pt.a1==vt.a1?We(kt.r,kt.p1,kt.r,kt.p0):We(kt.r,kt.p1,Ot.r,Ot.p0)+je(Ot.r,Ot.p1,Ot.a1-Ot.a0)+We(Ot.r,Ot.p1,kt.r,kt.p0))+"Z")}function De($e,at,pt,vt){var kt=at.call($e,pt,vt),Ot=ne.call($e,kt,vt),St=se.call($e,kt,vt)-Ze,jt=ve.call($e,kt,vt)-Ze;return{r:Ot,a0:St,a1:jt,p0:[Ot*Math.cos(St),Ot*Math.sin(St)],p1:[Ot*Math.cos(jt),Ot*Math.sin(jt)]}}function je($e,at,pt){return"A"+$e+","+$e+" 0 "+ +(pt>zt)+",1 "+at}function We($e,at,pt,vt){return"Q 0,0 "+vt}return ke.radius=function($e){return arguments.length?(ne=Vn($e),ke):ne},ke.source=function($e){return arguments.length?(P=Vn($e),ke):P},ke.target=function($e){return arguments.length?(W=Vn($e),ke):W},ke.startAngle=function($e){return arguments.length?(se=Vn($e),ke):se},ke.endAngle=function($e){return arguments.length?(ve=Vn($e),ke):ve},ke},t.svg.diagonal=function(){var P=ls,W=yl,ne=Fl;function se(ve,ke){var De=P.call(this,ve,ke),je=W.call(this,ve,ke),We=(De.y+je.y)/2,$e=[De,{x:De.x,y:We},{x:je.x,y:We},je];return"M"+($e=$e.map(ne))[0]+"C"+$e[1]+" "+$e[2]+" "+$e[3]}return se.source=function(ve){return arguments.length?(P=Vn(ve),se):P},se.target=function(ve){return arguments.length?(W=Vn(ve),se):W},se.projection=function(ve){return arguments.length?(ne=ve,se):ne},se},t.svg.diagonal.radial=function(){var P=t.svg.diagonal(),W=Fl,ne=P.projection;return P.projection=function(se){return arguments.length?ne(function(ve){return function(){var ke=ve.apply(this,arguments),De=ke[0],je=ke[1]-Ze;return[De*Math.cos(je),De*Math.sin(je)]}}(W=se)):W},P},t.svg.symbol=function(){var P=Go,W=Bl;function ne(se,ve){return(xl.get(P.call(this,se,ve))||Fi)(W.call(this,se,ve))}return ne.type=function(se){return arguments.length?(P=Vn(se),ne):P},ne.size=function(se){return arguments.length?(W=Vn(se),ne):W},ne};var xl=t.map({circle:Fi,cross:function(P){var W=Math.sqrt(P/5)/2;return"M"+-3*W+","+-W+"H"+-W+"V"+-3*W+"H"+W+"V"+-W+"H"+3*W+"V"+W+"H"+W+"V"+3*W+"H"+-W+"V"+W+"H"+-3*W+"Z"},diamond:function(P){var W=Math.sqrt(P/(2*qr)),ne=W*qr;return"M0,"+-W+"L"+ne+",0 0,"+W+" "+-ne+",0Z"},square:function(P){var W=Math.sqrt(P)/2;return"M"+-W+","+-W+"L"+W+","+-W+" "+W+","+W+" "+-W+","+W+"Z"},"triangle-down":function(P){var W=Math.sqrt(P/Dr),ne=W*Dr/2;return"M0,"+ne+"L"+W+","+-ne+" "+-W+","+-ne+"Z"},"triangle-up":function(P){var W=Math.sqrt(P/Dr),ne=W*Dr/2;return"M0,"+-ne+"L"+W+","+ne+" "+-W+","+ne+"Z"}});t.svg.symbolTypes=xl.keys();var Dr=Math.sqrt(3),qr=Math.tan(30*Je);pe.transition=function(P){for(var W,ne,se=ua||++kc,ve=Hi(P),ke=[],De=cs||{time:Date.now(),ease:ns,delay:0,duration:250},je=-1,We=this.length;++je<We;){ke.push(W=[]);for(var $e=this[je],at=-1,pt=$e.length;++at<pt;)(ne=$e[at])&&ao(ne,at,ve,se,De),W.push(ne)}return ks(ke,ve,se)},pe.interrupt=function(P){return this.each(P==null?go:us(Hi(P)))};var go=us(Hi());function us(P){return function(){var W,ne,se;(W=this[P])&&(se=W[ne=W.active])&&(se.timer.c=null,se.timer.t=NaN,--W.count?delete W[ne]:delete this[P],W.active+=.5,se.event&&se.event.interrupt.call(this,this.__data__,se.index))}}function ks(P,W,ne){return $(P,Si),P.namespace=W,P.id=ne,P}var ua,cs,Si=[],kc=0;function vo(P,W,ne,se){var ve=P.id,ke=P.namespace;return Me(P,typeof ne=="function"?function(De,je,We){De[ke][ve].tween.set(W,se(ne.call(De,De.__data__,je,We)))}:(ne=se(ne),function(De){De[ke][ve].tween.set(W,ne)}))}function Ci(P){return P==null&&(P=""),function(){this.textContent=P}}function Hi(P){return P==null?"__transition__":"__transition_"+P+"__"}function ao(P,W,ne,se,ve){var ke,De,je,We,$e,at=P[ne]||(P[ne]={active:0,count:0}),pt=at[se];function vt(Ot){var St=at.active,jt=at[St];for(var It in jt&&(jt.timer.c=null,jt.timer.t=NaN,--at.count,delete at[St],jt.event&&jt.event.interrupt.call(P,P.__data__,jt.index)),at)if(+It<se){var Jt=at[It];Jt.timer.c=null,Jt.timer.t=NaN,--at.count,delete at[It]}De.c=kt,an(function(){return De.c&&kt(Ot||1)&&(De.c=null,De.t=NaN),1},0,ke),at.active=se,pt.event&&pt.event.start.call(P,P.__data__,W),$e=[],pt.tween.forEach(function($t,Ht){(Ht=Ht.call(P,P.__data__,W))&&$e.push(Ht)}),We=pt.ease,je=pt.duration}function kt(Ot){for(var St=Ot/je,jt=We(St),It=$e.length;It>0;)$e[--It].call(P,jt);if(St>=1)return pt.event&&pt.event.end.call(P,P.__data__,W),--at.count?delete at[se]:delete P[ne],1}pt||(ke=ve.time,De=an(function(Ot){var St=pt.delay;if(De.t=St+ke,St<=Ot)return vt(Ot-St);De.c=vt},0,ke),pt=at[se]={tween:new _,time:ke,timer:De,delay:ve.delay,duration:ve.duration,ease:ve.ease,index:W},ve=null,++at.count)}Si.call=pe.call,Si.empty=pe.empty,Si.node=pe.node,Si.size=pe.size,t.transition=function(P,W){return P&&P.transition?ua?P.transition(W):P:t.selection().transition(P)},t.transition.prototype=Si,Si.select=function(P){var W,ne,se,ve=this.id,ke=this.namespace,De=[];P=me(P);for(var je=-1,We=this.length;++je<We;){De.push(W=[]);for(var $e=this[je],at=-1,pt=$e.length;++at<pt;)(se=$e[at])&&(ne=P.call(se,se.__data__,at,je))?("__data__"in se&&(ne.__data__=se.__data__),ao(ne,at,ke,ve,se[ke][ve]),W.push(ne)):W.push(null)}return ks(De,ke,ve)},Si.selectAll=function(P){var W,ne,se,ve,ke,De=this.id,je=this.namespace,We=[];P=be(P);for(var $e=-1,at=this.length;++$e<at;)for(var pt=this[$e],vt=-1,kt=pt.length;++vt<kt;)if(se=pt[vt]){ke=se[je][De],ne=P.call(se,se.__data__,vt,$e),We.push(W=[]);for(var Ot=-1,St=ne.length;++Ot<St;)(ve=ne[Ot])&&ao(ve,Ot,je,De,ke),W.push(ve)}return ks(We,je,De)},Si.filter=function(P){var W,ne,se=[];typeof P!="function"&&(P=Be(P));for(var ve=0,ke=this.length;ve<ke;ve++){se.push(W=[]);for(var De,je=0,We=(De=this[ve]).length;je<We;je++)(ne=De[je])&&P.call(ne,ne.__data__,je,ve)&&W.push(ne)}return ks(se,this.namespace,this.id)},Si.tween=function(P,W){var ne=this.id,se=this.namespace;return arguments.length<2?this.node()[se][ne].tween.get(P):Me(this,W==null?function(ve){ve[se][ne].tween.remove(P)}:function(ve){ve[se][ne].tween.set(P,W)})},Si.attr=function(P,W){if(arguments.length<2){for(W in P)this.attr(W,P[W]);return this}var ne=P=="transform"?bc:ko,se=t.ns.qualify(P);function ve(){this.removeAttribute(se)}function ke(){this.removeAttributeNS(se.space,se.local)}return vo(this,"attr."+P,W,se.local?function(De){return De==null?ke:(De+="",function(){var je,We=this.getAttributeNS(se.space,se.local);return We!==De&&(je=ne(We,De),function($e){this.setAttributeNS(se.space,se.local,je($e))})})}:function(De){return De==null?ve:(De+="",function(){var je,We=this.getAttribute(se);return We!==De&&(je=ne(We,De),function($e){this.setAttribute(se,je($e))})})})},Si.attrTween=function(P,W){var ne=t.ns.qualify(P);return this.tween("attr."+P,ne.local?function(se,ve){var ke=W.call(this,se,ve,this.getAttributeNS(ne.space,ne.local));return ke&&function(De){this.setAttributeNS(ne.space,ne.local,ke(De))}}:function(se,ve){var ke=W.call(this,se,ve,this.getAttribute(ne));return ke&&function(De){this.setAttribute(ne,ke(De))}})},Si.style=function(P,W,ne){var se=arguments.length;if(se<3){if(typeof P!="string"){for(ne in se<2&&(W=""),P)this.style(ne,P[ne],W);return this}ne=""}function ve(){this.style.removeProperty(P)}return vo(this,"style."+P,W,function(ke){return ke==null?ve:(ke+="",function(){var De,je=n(this).getComputedStyle(this,null).getPropertyValue(P);return je!==ke&&(De=ko(je,ke),function(We){this.style.setProperty(P,De(We),ne)})})})},Si.styleTween=function(P,W,ne){return arguments.length<3&&(ne=""),this.tween("style."+P,function(se,ve){var ke=W.call(this,se,ve,n(this).getComputedStyle(this,null).getPropertyValue(P));return ke&&function(De){this.style.setProperty(P,ke(De),ne)}})},Si.text=function(P){return vo(this,"text",P,Ci)},Si.remove=function(){var P=this.namespace;return this.each("end.transition",function(){var W;this[P].count<2&&(W=this.parentNode)&&W.removeChild(this)})},Si.ease=function(P){var W=this.id,ne=this.namespace;return arguments.length<1?this.node()[ne][W].ease:(typeof P!="function"&&(P=t.ease.apply(t,arguments)),Me(this,function(se){se[ne][W].ease=P}))},Si.delay=function(P){var W=this.id,ne=this.namespace;return arguments.length<1?this.node()[ne][W].delay:Me(this,typeof P=="function"?function(se,ve,ke){se[ne][W].delay=+P.call(se,se.__data__,ve,ke)}:(P=+P,function(se){se[ne][W].delay=P}))},Si.duration=function(P){var W=this.id,ne=this.namespace;return arguments.length<1?this.node()[ne][W].duration:Me(this,typeof P=="function"?function(se,ve,ke){se[ne][W].duration=Math.max(1,P.call(se,se.__data__,ve,ke))}:(P=Math.max(1,P),function(se){se[ne][W].duration=P}))},Si.each=function(P,W){var ne=this.id,se=this.namespace;if(arguments.length<2){var ve=cs,ke=ua;try{ua=ne,Me(this,function(De,je,We){cs=De[se][ne],P.call(De,De.__data__,je,We)})}finally{cs=ve,ua=ke}}else Me(this,function(De){var je=De[se][ne];(je.event||(je.event=t.dispatch("start","end","interrupt"))).on(P,W)});return this},Si.transition=function(){for(var P,W,ne,se=this.id,ve=++kc,ke=this.namespace,De=[],je=0,We=this.length;je<We;je++){De.push(P=[]);for(var $e,at=0,pt=($e=this[je]).length;at<pt;at++)(W=$e[at])&&ao(W,at,ke,ve,{time:(ne=W[ke][se]).time,ease:ne.ease,delay:ne.delay+ne.duration,duration:ne.duration}),P.push(W)}return ks(De,ke,ve)},t.svg.axis=function(){var P,W=t.scale.linear(),ne=Zs,se=6,ve=6,ke=3,De=[10],je=null;function We($e){$e.each(function(){var at,pt=t.select(this),vt=this.__chart__||W,kt=this.__chart__=W.copy(),Ot=je??(kt.ticks?kt.ticks.apply(kt,De):kt.domain()),St=P??(kt.tickFormat?kt.tickFormat.apply(kt,De):z),jt=pt.selectAll(".tick").data(Ot,kt),It=jt.enter().insert("g",".domain").attr("class","tick").style("opacity",nt),Jt=t.transition(jt.exit()).style("opacity",nt).remove(),$t=t.transition(jt.order()).style("opacity",1),Ht=Math.max(se,0)+ke,vn=iu(kt),bn=pt.selectAll(".domain").data([0]),Ln=(bn.enter().append("path").attr("class","domain"),t.transition(bn));It.append("line"),It.append("text");var zn,Gn,or,dr,Xn=It.select("line"),hr=$t.select("line"),Ar=jt.select("text").text(St),zr=It.select("text"),nr=$t.select("text"),fr=ne==="top"||ne==="left"?-1:1;if(ne==="bottom"||ne==="top"?(at=et,zn="x",or="y",Gn="x2",dr="y2",Ar.attr("dy",fr<0?"0em":".71em").style("text-anchor","middle"),Ln.attr("d","M"+vn[0]+","+fr*ve+"V0H"+vn[1]+"V"+fr*ve)):(at=rt,zn="y",or="x",Gn="y2",dr="x2",Ar.attr("dy",".32em").style("text-anchor",fr<0?"end":"start"),Ln.attr("d","M"+fr*ve+","+vn[0]+"H0V"+vn[1]+"H"+fr*ve)),Xn.attr(dr,fr*se),zr.attr(or,fr*Ht),hr.attr(Gn,0).attr(dr,fr*se),nr.attr(zn,0).attr(or,fr*Ht),kt.rangeBand){var Lr=kt,gr=Lr.rangeBand()/2;vt=kt=function(Ir){return Lr(Ir)+gr}}else vt.rangeBand?vt=kt:Jt.call(at,kt,vt);It.call(at,vt,kt),$t.call(at,kt,kt)})}return We.scale=function($e){return arguments.length?(W=$e,We):W},We.orient=function($e){return arguments.length?(ne=$e in Xu?$e+"":Zs,We):ne},We.ticks=function(){return arguments.length?(De=g(arguments),We):De},We.tickValues=function($e){return arguments.length?(je=$e,We):je},We.tickFormat=function($e){return arguments.length?(P=$e,We):P},We.tickSize=function($e){var at=arguments.length;return at?(se=+$e,ve=+arguments[at-1],We):se},We.innerTickSize=function($e){return arguments.length?(se=+$e,We):se},We.outerTickSize=function($e){return arguments.length?(ve=+$e,We):ve},We.tickPadding=function($e){return arguments.length?(ke=+$e,We):ke},We.tickSubdivide=function(){return arguments.length&&We},We};var Zs="bottom",Xu={top:1,right:1,bottom:1,left:1};function et(P,W,ne){P.attr("transform",function(se){var ve=W(se);return"translate("+(isFinite(ve)?ve:ne(se))+",0)"})}function rt(P,W,ne){P.attr("transform",function(se){var ve=W(se);return"translate(0,"+(isFinite(ve)?ve:ne(se))+")"})}t.svg.brush=function(){var P,W,ne=K(at,"brushstart","brush","brushend"),se=null,ve=null,ke=[0,0],De=[0,0],je=!0,We=!0,$e=U[0];function at(St){St.each(function(){var jt=t.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Ot).on("touchstart.brush",Ot),It=jt.selectAll(".background").data([0]);It.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),jt.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var Jt=jt.selectAll(".resize").data($e,z);Jt.exit().remove(),Jt.enter().append("g").attr("class",function(bn){return"resize "+bn}).style("cursor",function(bn){return ct[bn]}).append("rect").attr("x",function(bn){return/[ew]$/.test(bn)?-3:null}).attr("y",function(bn){return/^[ns]/.test(bn)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),Jt.style("display",at.empty()?"none":null);var $t,Ht=t.transition(jt),vn=t.transition(It);se&&($t=iu(se),vn.attr("x",$t[0]).attr("width",$t[1]-$t[0]),vt(Ht)),ve&&($t=iu(ve),vn.attr("y",$t[0]).attr("height",$t[1]-$t[0]),kt(Ht)),pt(Ht)})}function pt(St){St.selectAll(".resize").attr("transform",function(jt){return"translate("+ke[+/e$/.test(jt)]+","+De[+/^s/.test(jt)]+")"})}function vt(St){St.select(".extent").attr("x",ke[0]),St.selectAll(".extent,.n>rect,.s>rect").attr("width",ke[1]-ke[0])}function kt(St){St.select(".extent").attr("y",De[0]),St.selectAll(".extent,.e>rect,.w>rect").attr("height",De[1]-De[0])}function Ot(){var St,jt,It=this,Jt=t.select(t.event.target),$t=ne.of(It,arguments),Ht=t.select(It),vn=Jt.datum(),bn=!/^(n|s)$/.test(vn)&&se,Ln=!/^(e|w)$/.test(vn)&&ve,zn=Jt.classed("extent"),Gn=xt(It),or=t.mouse(It),dr=t.select(n(It)).on("keydown.brush",function(){t.event.keyCode==32&&(zn||(St=null,or[0]-=ke[1],or[1]-=De[1],zn=2),re())}).on("keyup.brush",function(){t.event.keyCode==32&&zn==2&&(or[0]+=ke[1],or[1]+=De[1],zn=0,re())});if(t.event.changedTouches?dr.on("touchmove.brush",Ar).on("touchend.brush",nr):dr.on("mousemove.brush",Ar).on("mouseup.brush",nr),Ht.interrupt().selectAll("*").interrupt(),zn)or[0]=ke[0]-or[0],or[1]=De[0]-or[1];else if(vn){var Xn=+/w$/.test(vn),hr=+/^n/.test(vn);jt=[ke[1-Xn]-or[0],De[1-hr]-or[1]],or[0]=ke[Xn],or[1]=De[hr]}else t.event.altKey&&(St=or.slice());function Ar(){var fr=t.mouse(It),Lr=!1;jt&&(fr[0]+=jt[0],fr[1]+=jt[1]),zn||(t.event.altKey?(St||(St=[(ke[0]+ke[1])/2,(De[0]+De[1])/2]),or[0]=ke[+(fr[0]<St[0])],or[1]=De[+(fr[1]<St[1])]):St=null),bn&&zr(fr,se,0)&&(vt(Ht),Lr=!0),Ln&&zr(fr,ve,1)&&(kt(Ht),Lr=!0),Lr&&(pt(Ht),$t({type:"brush",mode:zn?"move":"resize"}))}function zr(fr,Lr,gr){var Ir,Nr,ei=iu(Lr),ni=ei[0],ui=ei[1],di=or[gr],Bi=gr?De:ke,ia=Bi[1]-Bi[0];if(zn&&(ni-=di,ui-=ia+di),Ir=(gr?We:je)?Math.max(ni,Math.min(ui,fr[gr])):fr[gr],zn?Nr=(Ir+=di)+ia:(St&&(di=Math.max(ni,Math.min(ui,2*St[gr]-Ir))),di<Ir?(Nr=Ir,Ir=di):Nr=di),Bi[0]!=Ir||Bi[1]!=Nr)return gr?W=null:P=null,Bi[0]=Ir,Bi[1]=Nr,!0}function nr(){Ar(),Ht.style("pointer-events","all").selectAll(".resize").style("display",at.empty()?"none":null),t.select("body").style("cursor",null),dr.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Gn(),$t({type:"brushend"})}Ht.style("pointer-events","none").selectAll(".resize").style("display",null),t.select("body").style("cursor",Jt.style("cursor")),$t({type:"brushstart"}),Ar()}return at.event=function(St){St.each(function(){var jt=ne.of(this,arguments),It={x:ke,y:De,i:P,j:W},Jt=this.__chart__||It;this.__chart__=It,ua?t.select(this).transition().each("start.brush",function(){P=Jt.i,W=Jt.j,ke=Jt.x,De=Jt.y,jt({type:"brushstart"})}).tween("brush:brush",function(){var $t=Ao(ke,It.x),Ht=Ao(De,It.y);return P=W=null,function(vn){ke=It.x=$t(vn),De=It.y=Ht(vn),jt({type:"brush",mode:"resize"})}}).each("end.brush",function(){P=It.i,W=It.j,jt({type:"brush",mode:"resize"}),jt({type:"brushend"})}):(jt({type:"brushstart"}),jt({type:"brush",mode:"resize"}),jt({type:"brushend"}))})},at.x=function(St){return arguments.length?($e=U[!(se=St)<<1|!ve],at):se},at.y=function(St){return arguments.length?($e=U[!se<<1|!(ve=St)],at):ve},at.clamp=function(St){return arguments.length?(se&&ve?(je=!!St[0],We=!!St[1]):se?je=!!St:ve&&(We=!!St),at):se&&ve?[je,We]:se?je:ve?We:null},at.extent=function(St){var jt,It,Jt,$t,Ht;return arguments.length?(se&&(jt=St[0],It=St[1],ve&&(jt=jt[0],It=It[0]),P=[jt,It],se.invert&&(jt=se(jt),It=se(It)),It<jt&&(Ht=jt,jt=It,It=Ht),jt==ke[0]&&It==ke[1]||(ke=[jt,It])),ve&&(Jt=St[0],$t=St[1],se&&(Jt=Jt[1],$t=$t[1]),W=[Jt,$t],ve.invert&&(Jt=ve(Jt),$t=ve($t)),$t<Jt&&(Ht=Jt,Jt=$t,$t=Ht),Jt==De[0]&&$t==De[1]||(De=[Jt,$t])),at):(se&&(P?(jt=P[0],It=P[1]):(jt=ke[0],It=ke[1],se.invert&&(jt=se.invert(jt),It=se.invert(It)),It<jt&&(Ht=jt,jt=It,It=Ht))),ve&&(W?(Jt=W[0],$t=W[1]):(Jt=De[0],$t=De[1],ve.invert&&(Jt=ve.invert(Jt),$t=ve.invert($t)),$t<Jt&&(Ht=Jt,Jt=$t,$t=Ht))),se&&ve?[[jt,Jt],[It,$t]]:se?[jt,It]:ve&&[Jt,$t])},at.clear=function(){return at.empty()||(ke=[0,0],De=[0,0],P=W=null),at},at.empty=function(){return!!se&&ke[0]==ke[1]||!!ve&&De[0]==De[1]},t.rebind(at,ne,"on")};var ct={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},U=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function Z(P){return JSON.parse(P.responseText)}function Y(P){var W=c.createRange();return W.selectNode(c.body),W.createContextualFragment(P.responseText)}t.text=Bn(function(P){return P.responseText}),t.json=function(P,W){return Wn(P,"application/json",Z,W)},t.html=function(P,W){return Wn(P,"text/html",Y,W)},t.xml=Bn(function(P){return P.responseXML}),(x=typeof(v=t)=="function"?v.call(S,e,S,O):v)===void 0||(O.exports=x)}).apply(self)},3480:function(O){O.exports=function(){var S,e,v;function x(t,b){if(S)if(e){var g="var sharedChunk = {}; ("+S+")(sharedChunk); ("+e+")(sharedChunk);",c={};S(c),v=b(c),typeof window<"u"&&(v.workerUrl=window.URL.createObjectURL(new Blob([g],{type:"text/javascript"})))}else e=b;else S=b}return x(0,function(t){function b(E,B){return E(B={exports:{}},B.exports),B.exports}var g="1.13.4",c=s;function s(E,B,ee,ge){this.cx=3*E,this.bx=3*(ee-E)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*B,this.by=3*(ge-B)-this.cy,this.ay=1-this.cy-this.by,this.p1x=E,this.p1y=ge,this.p2x=ee,this.p2y=ge}s.prototype.sampleCurveX=function(E){return((this.ax*E+this.bx)*E+this.cx)*E},s.prototype.sampleCurveY=function(E){return((this.ay*E+this.by)*E+this.cy)*E},s.prototype.sampleCurveDerivativeX=function(E){return(3*this.ax*E+2*this.bx)*E+this.cx},s.prototype.solveCurveX=function(E,B){var ee,ge,Ee,ze,Ge;for(B===void 0&&(B=1e-6),Ee=E,Ge=0;Ge<8;Ge++){if(ze=this.sampleCurveX(Ee)-E,Math.abs(ze)<B)return Ee;var tt=this.sampleCurveDerivativeX(Ee);if(Math.abs(tt)<1e-6)break;Ee-=ze/tt}if((Ee=E)<(ee=0))return ee;if(Ee>(ge=1))return ge;for(;ee<ge;){if(ze=this.sampleCurveX(Ee),Math.abs(ze-E)<B)return Ee;E>ze?ee=Ee:ge=Ee,Ee=.5*(ge-ee)+ee}return Ee},s.prototype.solve=function(E,B){return this.sampleCurveY(this.solveCurveX(E,B))};var n=i;function i(E,B){this.x=E,this.y=B}i.prototype={clone:function(){return new i(this.x,this.y)},add:function(E){return this.clone()._add(E)},sub:function(E){return this.clone()._sub(E)},multByPoint:function(E){return this.clone()._multByPoint(E)},divByPoint:function(E){return this.clone()._divByPoint(E)},mult:function(E){return this.clone()._mult(E)},div:function(E){return this.clone()._div(E)},rotate:function(E){return this.clone()._rotate(E)},rotateAround:function(E,B){return this.clone()._rotateAround(E,B)},matMult:function(E){return this.clone()._matMult(E)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(E){return this.x===E.x&&this.y===E.y},dist:function(E){return Math.sqrt(this.distSqr(E))},distSqr:function(E){var B=E.x-this.x,ee=E.y-this.y;return B*B+ee*ee},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(E){return Math.atan2(this.y-E.y,this.x-E.x)},angleWith:function(E){return this.angleWithSep(E.x,E.y)},angleWithSep:function(E,B){return Math.atan2(this.x*B-this.y*E,this.x*E+this.y*B)},_matMult:function(E){var B=E[0]*this.x+E[1]*this.y,ee=E[2]*this.x+E[3]*this.y;return this.x=B,this.y=ee,this},_add:function(E){return this.x+=E.x,this.y+=E.y,this},_sub:function(E){return this.x-=E.x,this.y-=E.y,this},_mult:function(E){return this.x*=E,this.y*=E,this},_div:function(E){return this.x/=E,this.y/=E,this},_multByPoint:function(E){return this.x*=E.x,this.y*=E.y,this},_divByPoint:function(E){return this.x/=E.x,this.y/=E.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var E=this.y;return this.y=this.x,this.x=-E,this},_rotate:function(E){var B=Math.cos(E),ee=Math.sin(E),ge=B*this.x-ee*this.y,Ee=ee*this.x+B*this.y;return this.x=ge,this.y=Ee,this},_rotateAround:function(E,B){var ee=Math.cos(E),ge=Math.sin(E),Ee=B.x+ee*(this.x-B.x)-ge*(this.y-B.y),ze=B.y+ge*(this.x-B.x)+ee*(this.y-B.y);return this.x=Ee,this.y=ze,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},i.convert=function(E){return E instanceof i?E:Array.isArray(E)?new i(E[0],E[1]):E};var a=typeof self<"u"?self:{},r=Math.pow(2,53)-1;function o(E,B,ee,ge){var Ee=new c(E,B,ee,ge);return function(ze){return Ee.solve(ze)}}var l=o(.25,.1,.25,1);function u(E,B,ee){return Math.min(ee,Math.max(B,E))}function h(E,B,ee){var ge=ee-B,Ee=((E-B)%ge+ge)%ge+B;return Ee===B?ee:Ee}function f(E){for(var B=[],ee=arguments.length-1;ee-- >0;)B[ee]=arguments[ee+1];for(var ge=0,Ee=B;ge<Ee.length;ge+=1){var ze=Ee[ge];for(var Ge in ze)E[Ge]=ze[Ge]}return E}var T=1;function d(){return T++}function y(){return function E(B){return B?(B^16*Math.random()>>B/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,E)}()}function m(E){return!!E&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(E)}function w(E,B){E.forEach(function(ee){B[ee]&&(B[ee]=B[ee].bind(B))})}function _(E,B){return E.indexOf(B,E.length-B.length)!==-1}function A(E,B,ee){var ge={};for(var Ee in E)ge[Ee]=B.call(ee||this,E[Ee],Ee,E);return ge}function p(E,B,ee){var ge={};for(var Ee in E)B.call(ee||this,E[Ee],Ee,E)&&(ge[Ee]=E[Ee]);return ge}function L(E){return Array.isArray(E)?E.map(L):typeof E=="object"&&E?A(E,L):E}var M={};function C(E){M[E]||(typeof console<"u"&&console.warn(E),M[E]=!0)}function R(E,B,ee){return(ee.y-E.y)*(B.x-E.x)>(B.y-E.y)*(ee.x-E.x)}function I(E){for(var B=0,ee=0,ge=E.length,Ee=ge-1,ze=void 0,Ge=void 0;ee<ge;Ee=ee++)ze=E[ee],B+=((Ge=E[Ee]).x-ze.x)*(ze.y+Ge.y);return B}function D(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function F(E){var B={};if(E.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(ge,Ee,ze,Ge){var tt=ze||Ge;return B[Ee]=!tt||tt.toLowerCase(),""}),B["max-age"]){var ee=parseInt(B["max-age"],10);isNaN(ee)?delete B["max-age"]:B["max-age"]=ee}return B}var q=null;function z(E){if(q==null){var B=E.navigator?E.navigator.userAgent:null;q=!!E.safari||!(!B||!(/\b(iPad|iPhone|iPod)\b/.test(B)||B.match("Safari")&&!B.match("Chrome")))}return q}function V(E){try{var B=a[E];return B.setItem("_mapbox_test_",1),B.removeItem("_mapbox_test_"),!0}catch{return!1}}var X,j,H,G,ie=a.performance&&a.performance.now?a.performance.now.bind(a.performance):Date.now.bind(Date),re=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame,te=a.cancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelAnimationFrame||a.msCancelAnimationFrame,K={now:ie,frame:function(E){var B=re(E);return{cancel:function(){return te(B)}}},getImageData:function(E,B){B===void 0&&(B=0);var ee=a.document.createElement("canvas"),ge=ee.getContext("2d");if(!ge)throw new Error("failed to create canvas 2d context");return ee.width=E.width,ee.height=E.height,ge.drawImage(E,0,0,E.width,E.height),ge.getImageData(-B,-B,E.width+2*B,E.height+2*B)},resolveURL:function(E){return X||(X=a.document.createElement("a")),X.href=E,X.href},hardwareConcurrency:a.navigator&&a.navigator.hardwareConcurrency||4,get devicePixelRatio(){return a.devicePixelRatio},get prefersReducedMotion(){return!!a.matchMedia&&(j==null&&(j=a.matchMedia("(prefers-reduced-motion: reduce)")),j.matches)}},J={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},$={supported:!1,testSupport:function(E){!ae&&G&&(ue?ce(E):H=E)}},ae=!1,ue=!1;function ce(E){var B=E.createTexture();E.bindTexture(E.TEXTURE_2D,B);try{if(E.texImage2D(E.TEXTURE_2D,0,E.RGBA,E.RGBA,E.UNSIGNED_BYTE,G),E.isContextLost())return;$.supported=!0}catch{}E.deleteTexture(B),ae=!0}a.document&&((G=a.document.createElement("img")).onload=function(){H&&ce(H),H=null,ue=!0},G.onerror=function(){ae=!0,H=null},G.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var de="01",pe=function(E,B){this._transformRequestFn=E,this._customAccessToken=B,this._createSkuToken()};function me(E){return E.indexOf("mapbox:")===0}pe.prototype._createSkuToken=function(){var E=function(){for(var B="",ee=0;ee<10;ee++)B+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",de,B].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=E.token,this._skuTokenExpiresAt=E.tokenExpiresAt},pe.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},pe.prototype.transformRequest=function(E,B){return this._transformRequestFn&&this._transformRequestFn(E,B)||{url:E}},pe.prototype.normalizeStyleURL=function(E,B){if(!me(E))return E;var ee=Le(E);return ee.path="/styles/v1"+ee.path,this._makeAPIURL(ee,this._customAccessToken||B)},pe.prototype.normalizeGlyphsURL=function(E,B){if(!me(E))return E;var ee=Le(E);return ee.path="/fonts/v1"+ee.path,this._makeAPIURL(ee,this._customAccessToken||B)},pe.prototype.normalizeSourceURL=function(E,B){if(!me(E))return E;var ee=Le(E);return ee.path="/v4/"+ee.authority+".json",ee.params.push("secure"),this._makeAPIURL(ee,this._customAccessToken||B)},pe.prototype.normalizeSpriteURL=function(E,B,ee,ge){var Ee=Le(E);return me(E)?(Ee.path="/styles/v1"+Ee.path+"/sprite"+B+ee,this._makeAPIURL(Ee,this._customAccessToken||ge)):(Ee.path+=""+B+ee,Ie(Ee))},pe.prototype.normalizeTileURL=function(E,B){if(this._isSkuTokenExpired()&&this._createSkuToken(),E&&!me(E))return E;var ee=Le(E),ge=K.devicePixelRatio>=2||B===512?"@2x":"",Ee=$.supported?".webp":"$1";ee.path=ee.path.replace(/(\.(png|jpg)\d*)(?=$)/,""+ge+Ee),ee.path=ee.path.replace(/^.+\/v4\//,"/"),ee.path="/v4"+ee.path;var ze=this._customAccessToken||function(Ge){for(var tt=0,ht=Ge;tt<ht.length;tt+=1){var Tt=ht[tt].match(/^access_token=(.*)$/);if(Tt)return Tt[1]}return null}(ee.params)||J.ACCESS_TOKEN;return J.REQUIRE_ACCESS_TOKEN&&ze&&this._skuToken&&ee.params.push("sku="+this._skuToken),this._makeAPIURL(ee,ze)},pe.prototype.canonicalizeTileURL=function(E,B){var ee=Le(E);if(!ee.path.match(/(^\/v4\/)/)||!ee.path.match(/\.[\w]+$/))return E;var ge="mapbox://tiles/";ge+=ee.path.replace("/v4/","");var Ee=ee.params;return B&&(Ee=Ee.filter(function(ze){return!ze.match(/^access_token=/)})),Ee.length&&(ge+="?"+Ee.join("&")),ge},pe.prototype.canonicalizeTileset=function(E,B){for(var ee=!!B&&me(B),ge=[],Ee=0,ze=E.tiles||[];Ee<ze.length;Ee+=1){var Ge=ze[Ee];we(Ge)?ge.push(this.canonicalizeTileURL(Ge,ee)):ge.push(Ge)}return ge},pe.prototype._makeAPIURL=function(E,B){var ee="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",ge=Le(J.API_URL);if(E.protocol=ge.protocol,E.authority=ge.authority,E.protocol==="http"){var Ee=E.params.indexOf("secure");Ee>=0&&E.params.splice(Ee,1)}if(ge.path!=="/"&&(E.path=""+ge.path+E.path),!J.REQUIRE_ACCESS_TOKEN)return Ie(E);if(!(B=B||J.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+ee);if(B[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+ee);return E.params=E.params.filter(function(ze){return ze.indexOf("access_token")===-1}),E.params.push("access_token="+B),Ie(E)};var be=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function we(E){return be.test(E)}var Te=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Le(E){var B=E.match(Te);if(!B)throw new Error("Unable to parse URL object");return{protocol:B[1],authority:B[2],path:B[3]||"/",params:B[4]?B[4].split("&"):[]}}function Ie(E){var B=E.params.length?"?"+E.params.join("&"):"";return E.protocol+"://"+E.authority+E.path+B}var _e="mapbox.eventData";function fe(E){if(!E)return null;var B,ee=E.split(".");if(!ee||ee.length!==3)return null;try{return JSON.parse((B=ee[1],decodeURIComponent(a.atob(B).split("").map(function(ge){return"%"+("00"+ge.charCodeAt(0).toString(16)).slice(-2)}).join(""))))}catch{return null}}var le=function(E){this.type=E,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};le.prototype.getStorageKey=function(E){var B,ee,ge=fe(J.ACCESS_TOKEN);return B=ge&&ge.u?(ee=ge.u,a.btoa(encodeURIComponent(ee).replace(/%([0-9A-F]{2})/g,function(Ee,ze){return String.fromCharCode(+("0x"+ze))}))):J.ACCESS_TOKEN||"",E?_e+"."+E+":"+B:_e+":"+B},le.prototype.fetchEventData=function(){var E=V("localStorage"),B=this.getStorageKey(),ee=this.getStorageKey("uuid");if(E)try{var ge=a.localStorage.getItem(B);ge&&(this.eventData=JSON.parse(ge));var Ee=a.localStorage.getItem(ee);Ee&&(this.anonId=Ee)}catch{C("Unable to read from LocalStorage")}},le.prototype.saveEventData=function(){var E=V("localStorage"),B=this.getStorageKey(),ee=this.getStorageKey("uuid");if(E)try{a.localStorage.setItem(ee,this.anonId),Object.keys(this.eventData).length>=1&&a.localStorage.setItem(B,JSON.stringify(this.eventData))}catch{C("Unable to write to LocalStorage")}},le.prototype.processRequests=function(E){},le.prototype.postEvent=function(E,B,ee,ge){var Ee=this;if(J.EVENTS_URL){var ze=Le(J.EVENTS_URL);ze.params.push("access_token="+(ge||J.ACCESS_TOKEN||""));var Ge={event:this.type,created:new Date(E).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:g,skuId:de,userId:this.anonId},tt=B?f(Ge,B):Ge,ht={url:Ie(ze),headers:{"Content-Type":"text/plain"},body:JSON.stringify([tt])};this.pendingRequest=Pt(ht,function(Tt){Ee.pendingRequest=null,ee(Tt),Ee.saveEventData(),Ee.processRequests(ge)})}},le.prototype.queueRequest=function(E,B){this.queue.push(E),this.processRequests(B)};var ye,Oe,Ae=function(E){function B(){E.call(this,"map.load"),this.success={},this.skuToken=""}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype.postMapLoadEvent=function(ee,ge,Ee,ze){this.skuToken=Ee,(J.EVENTS_URL&&ze||J.ACCESS_TOKEN&&Array.isArray(ee)&&ee.some(function(Ge){return me(Ge)||we(Ge)}))&&this.queueRequest({id:ge,timestamp:Date.now()},ze)},B.prototype.processRequests=function(ee){var ge=this;if(!this.pendingRequest&&this.queue.length!==0){var Ee=this.queue.shift(),ze=Ee.id,Ge=Ee.timestamp;ze&&this.success[ze]||(this.anonId||this.fetchEventData(),m(this.anonId)||(this.anonId=y()),this.postEvent(Ge,{skuToken:this.skuToken},function(tt){tt||ze&&(ge.success[ze]=!0)},ee))}},B}(le),Se=function(E){function B(ee){E.call(this,"appUserTurnstile"),this._customAccessToken=ee}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype.postTurnstileEvent=function(ee,ge){J.EVENTS_URL&&J.ACCESS_TOKEN&&Array.isArray(ee)&&ee.some(function(Ee){return me(Ee)||we(Ee)})&&this.queueRequest(Date.now(),ge)},B.prototype.processRequests=function(ee){var ge=this;if(!this.pendingRequest&&this.queue.length!==0){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var Ee=fe(J.ACCESS_TOKEN),ze=Ee?Ee.u:J.ACCESS_TOKEN,Ge=ze!==this.eventData.tokenU;m(this.anonId)||(this.anonId=y(),Ge=!0);var tt=this.queue.shift();if(this.eventData.lastSuccess){var ht=new Date(this.eventData.lastSuccess),Tt=new Date(tt),Mt=(tt-this.eventData.lastSuccess)/864e5;Ge=Ge||Mt>=1||Mt<-1||ht.getDate()!==Tt.getDate()}else Ge=!0;if(!Ge)return this.processRequests();this.postEvent(tt,{"enabled.telemetry":!1},function(Bt){Bt||(ge.eventData.lastSuccess=tt,ge.eventData.tokenU=ze)},ee)}},B}(le),Pe=new Se,Fe=Pe.postTurnstileEvent.bind(Pe),Be=new Ae,xe=Be.postMapLoadEvent.bind(Be),Me="mapbox-tiles",Ce=500,Ne=50,Re=42e4;function He(){a.caches&&!ye&&(ye=a.caches.open(Me))}function Ye(E,B,ee){if(He(),ye){var ge={status:B.status,statusText:B.statusText,headers:new a.Headers};B.headers.forEach(function(ze,Ge){return ge.headers.set(Ge,ze)});var Ee=F(B.headers.get("Cache-Control")||"");Ee["no-store"]||(Ee["max-age"]&&ge.headers.set("Expires",new Date(ee+1e3*Ee["max-age"]).toUTCString()),new Date(ge.headers.get("Expires")).getTime()-ee<Re||function(ze,Ge){if(Oe===void 0)try{new Response(new ReadableStream),Oe=!0}catch{Oe=!1}Oe?Ge(ze.body):ze.blob().then(Ge)}(B,function(ze){var Ge=new a.Response(ze,ge);He(),ye&&ye.then(function(tt){return tt.put(Qe(E.url),Ge)}).catch(function(tt){return C(tt.message)})}))}}function Qe(E){var B=E.indexOf("?");return B<0?E:E.slice(0,B)}function lt(E,B){if(He(),!ye)return B(null);var ee=Qe(E.url);ye.then(function(ge){ge.match(ee).then(function(Ee){var ze=function(Ge){if(!Ge)return!1;var tt=new Date(Ge.headers.get("Expires")||0),ht=F(Ge.headers.get("Cache-Control")||"");return tt>Date.now()&&!ht["no-cache"]}(Ee);ge.delete(ee),ze&&ge.put(ee,Ee.clone()),B(null,Ee,ze)}).catch(B)}).catch(B)}var ut,xt=1/0;function _t(){return ut==null&&(ut=a.OffscreenCanvas&&new a.OffscreenCanvas(1,1).getContext("2d")&&typeof a.createImageBitmap=="function"),ut}var mt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(mt);var it=function(E){function B(ee,ge,Ee){ge===401&&we(Ee)&&(ee+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),E.call(this,ee),this.status=ge,this.url=Ee,this.name=this.constructor.name,this.message=ee}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},B}(Error),nt=D()?function(){return self.worker&&self.worker.referrer}:function(){return(a.location.protocol==="blob:"?a.parent:a).location.href};function Et(E,B){var ee,ge=new a.AbortController,Ee=new a.Request(E.url,{method:E.method||"GET",body:E.body,credentials:E.credentials,headers:E.headers,referrer:nt(),signal:ge.signal}),ze=!1,Ge=!1,tt=(ee=Ee.url).indexOf("sku=")>0&&we(ee);E.type==="json"&&Ee.headers.set("Accept","application/json");var ht=function(Mt,Bt,Gt){if(!Ge){if(Mt&&Mt.message!=="SecurityError"&&C(Mt),Bt&&Gt)return Tt(Bt);var Vt=Date.now();a.fetch(Ee).then(function(ln){if(ln.ok){var cn=tt?ln.clone():null;return Tt(ln,cn,Vt)}return B(new it(ln.statusText,ln.status,E.url))}).catch(function(ln){ln.code!==20&&B(new Error(ln.message))})}},Tt=function(Mt,Bt,Gt){(E.type==="arrayBuffer"?Mt.arrayBuffer():E.type==="json"?Mt.json():Mt.text()).then(function(Vt){Ge||(Bt&&Gt&&Ye(Ee,Bt,Gt),ze=!0,B(null,Vt,Mt.headers.get("Cache-Control"),Mt.headers.get("Expires")))}).catch(function(Vt){Ge||B(new Error(Vt.message))})};return tt?lt(Ee,ht):ht(null,null),{cancel:function(){Ge=!0,ze||ge.abort()}}}var zt=function(E,B){if(ee=E.url,!(/^file:/.test(ee)||/^file:/.test(nt())&&!/^\w+:/.test(ee))){if(a.fetch&&a.Request&&a.AbortController&&a.Request.prototype.hasOwnProperty("signal"))return Et(E,B);if(D()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",E,B,void 0,!0)}var ee;return function(ge,Ee){var ze=new a.XMLHttpRequest;for(var Ge in ze.open(ge.method||"GET",ge.url,!0),ge.type==="arrayBuffer"&&(ze.responseType="arraybuffer"),ge.headers)ze.setRequestHeader(Ge,ge.headers[Ge]);return ge.type==="json"&&(ze.responseType="text",ze.setRequestHeader("Accept","application/json")),ze.withCredentials=ge.credentials==="include",ze.onerror=function(){Ee(new Error(ze.statusText))},ze.onload=function(){if((ze.status>=200&&ze.status<300||ze.status===0)&&ze.response!==null){var tt=ze.response;if(ge.type==="json")try{tt=JSON.parse(ze.response)}catch(ht){return Ee(ht)}Ee(null,tt,ze.getResponseHeader("Cache-Control"),ze.getResponseHeader("Expires"))}else Ee(new it(ze.statusText,ze.status,ge.url))},ze.send(ge.body),{cancel:function(){return ze.abort()}}}(E,B)},Ft=function(E,B){return zt(f(E,{type:"arrayBuffer"}),B)},Pt=function(E,B){return zt(f(E,{method:"POST"}),B)},Ze,Je,qe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";Ze=[],Je=0;var Ke=function(E,B){if($.supported&&(E.headers||(E.headers={}),E.headers.accept="image/webp,*/*"),Je>=J.MAX_PARALLEL_IMAGE_REQUESTS){var ee={requestParameters:E,callback:B,cancelled:!1,cancel:function(){this.cancelled=!0}};return Ze.push(ee),ee}Je++;var ge=!1,Ee=function(){if(!ge)for(ge=!0,Je--;Ze.length&&Je<J.MAX_PARALLEL_IMAGE_REQUESTS;){var Ge=Ze.shift(),tt=Ge.requestParameters,ht=Ge.callback;Ge.cancelled||(Ge.cancel=Ke(tt,ht).cancel)}},ze=Ft(E,function(Ge,tt,ht,Tt){Ee(),Ge?B(Ge):tt&&(_t()?function(Mt,Bt){var Gt=new a.Blob([new Uint8Array(Mt)],{type:"image/png"});a.createImageBitmap(Gt).then(function(Vt){Bt(null,Vt)}).catch(function(Vt){Bt(new Error("Could not load image because of "+Vt.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}(tt,B):function(Mt,Bt,Gt,Vt){var ln=new a.Image,cn=a.URL;ln.onload=function(){Bt(null,ln),cn.revokeObjectURL(ln.src),ln.onload=null,a.requestAnimationFrame(function(){ln.src=qe})},ln.onerror=function(){return Bt(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Mn=new a.Blob([new Uint8Array(Mt)],{type:"image/png"});ln.cacheControl=Gt,ln.expires=Vt,ln.src=Mt.byteLength?cn.createObjectURL(Mn):qe}(tt,B,ht,Tt))});return{cancel:function(){ze.cancel(),Ee()}}};function ft(E,B,ee){ee[E]&&ee[E].indexOf(B)!==-1||(ee[E]=ee[E]||[],ee[E].push(B))}function ot(E,B,ee){if(ee&&ee[E]){var ge=ee[E].indexOf(B);ge!==-1&&ee[E].splice(ge,1)}}var Ue=function(E,B){B===void 0&&(B={}),f(this,B),this.type=E},Ve=function(E){function B(ee,ge){ge===void 0&&(ge={}),E.call(this,"error",f({error:ee},ge))}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B}(Ue),st=function(){};st.prototype.on=function(E,B){return this._listeners=this._listeners||{},ft(E,B,this._listeners),this},st.prototype.off=function(E,B){return ot(E,B,this._listeners),ot(E,B,this._oneTimeListeners),this},st.prototype.once=function(E,B){return this._oneTimeListeners=this._oneTimeListeners||{},ft(E,B,this._oneTimeListeners),this},st.prototype.fire=function(E,B){typeof E=="string"&&(E=new Ue(E,B||{}));var ee=E.type;if(this.listens(ee)){E.target=this;for(var ge=0,Ee=this._listeners&&this._listeners[ee]?this._listeners[ee].slice():[];ge<Ee.length;ge+=1)Ee[ge].call(this,E);for(var ze=0,Ge=this._oneTimeListeners&&this._oneTimeListeners[ee]?this._oneTimeListeners[ee].slice():[];ze<Ge.length;ze+=1){var tt=Ge[ze];ot(ee,tt,this._oneTimeListeners),tt.call(this,E)}var ht=this._eventedParent;ht&&(f(E,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),ht.fire(E))}else E instanceof Ve&&console.error(E.error);return this},st.prototype.listens=function(E){return this._listeners&&this._listeners[E]&&this._listeners[E].length>0||this._oneTimeListeners&&this._oneTimeListeners[E]&&this._oneTimeListeners[E].length>0||this._eventedParent&&this._eventedParent.listens(E)},st.prototype.setEventedParent=function(E,B){return this._eventedParent=E,this._eventedParentData=B,this};var Xe={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},gt=function(E,B,ee,ge){this.message=(E?E+": ":"")+ee,ge&&(this.identifier=ge),B!=null&&B.__line__&&(this.line=B.__line__)};function yt(E){var B=E.key,ee=E.value;return ee?[new gt(B,ee,"constants have been deprecated as of v8")]:[]}function bt(E){for(var B=[],ee=arguments.length-1;ee-- >0;)B[ee]=arguments[ee+1];for(var ge=0,Ee=B;ge<Ee.length;ge+=1){var ze=Ee[ge];for(var Ge in ze)E[Ge]=ze[Ge]}return E}function dt(E){return E instanceof Number||E instanceof String||E instanceof Boolean?E.valueOf():E}function Lt(E){if(Array.isArray(E))return E.map(Lt);if(E instanceof Object&&!(E instanceof Number||E instanceof String||E instanceof Boolean)){var B={};for(var ee in E)B[ee]=Lt(E[ee]);return B}return dt(E)}var wt=function(E){function B(ee,ge){E.call(this,ge),this.message=ge,this.key=ee}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B}(Error),Ct=function(E,B){B===void 0&&(B=[]),this.parent=E,this.bindings={};for(var ee=0,ge=B;ee<ge.length;ee+=1){var Ee=ge[ee],ze=Ee[0],Ge=Ee[1];this.bindings[ze]=Ge}};Ct.prototype.concat=function(E){return new Ct(this,E)},Ct.prototype.get=function(E){if(this.bindings[E])return this.bindings[E];if(this.parent)return this.parent.get(E);throw new Error(E+" not found in scope.")},Ct.prototype.has=function(E){return!!this.bindings[E]||!!this.parent&&this.parent.has(E)};var Rt={kind:"null"},Dt={kind:"number"},Nt={kind:"string"},Xt={kind:"boolean"},un={kind:"color"},qt={kind:"object"},Kt={kind:"value"},Ut={kind:"collator"},Rn={kind:"formatted"},An={kind:"resolvedImage"};function mn(E,B){return{kind:"array",itemType:E,N:B}}function tn(E){if(E.kind==="array"){var B=tn(E.itemType);return typeof E.N=="number"?"array<"+B+", "+E.N+">":E.itemType.kind==="value"?"array":"array<"+B+">"}return E.kind}var fn=[Rt,Dt,Nt,Xt,un,Rn,qt,mn(Kt),An];function rn(E,B){if(B.kind==="error")return null;if(E.kind==="array"){if(B.kind==="array"&&(B.N===0&&B.itemType.kind==="value"||!rn(E.itemType,B.itemType))&&(typeof E.N!="number"||E.N===B.N))return null}else{if(E.kind===B.kind)return null;if(E.kind==="value"){for(var ee=0,ge=fn;ee<ge.length;ee+=1)if(!rn(ge[ee],B))return null}}return"Expected "+tn(E)+" but found "+tn(B)+" instead."}function pn(E,B){return B.some(function(ee){return ee.kind===E.kind})}function wn(E,B){return B.some(function(ee){return ee==="null"?E===null:ee==="array"?Array.isArray(E):ee==="object"?E&&!Array.isArray(E)&&typeof E=="object":ee===typeof E})}var kn=b(function(E,B){var ee={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ge(ht){return(ht=Math.round(ht))<0?0:ht>255?255:ht}function Ee(ht){return ht<0?0:ht>1?1:ht}function ze(ht){return ht[ht.length-1]==="%"?ge(parseFloat(ht)/100*255):ge(parseInt(ht))}function Ge(ht){return ht[ht.length-1]==="%"?Ee(parseFloat(ht)/100):Ee(parseFloat(ht))}function tt(ht,Tt,Mt){return Mt<0?Mt+=1:Mt>1&&(Mt-=1),6*Mt<1?ht+(Tt-ht)*Mt*6:2*Mt<1?Tt:3*Mt<2?ht+(Tt-ht)*(2/3-Mt)*6:ht}try{B.parseCSSColor=function(ht){var Tt,Mt=ht.replace(/ /g,"").toLowerCase();if(Mt in ee)return ee[Mt].slice();if(Mt[0]==="#")return Mt.length===4?(Tt=parseInt(Mt.substr(1),16))>=0&&Tt<=4095?[(3840&Tt)>>4|(3840&Tt)>>8,240&Tt|(240&Tt)>>4,15&Tt|(15&Tt)<<4,1]:null:Mt.length===7&&(Tt=parseInt(Mt.substr(1),16))>=0&&Tt<=16777215?[(16711680&Tt)>>16,(65280&Tt)>>8,255&Tt,1]:null;var Bt=Mt.indexOf("("),Gt=Mt.indexOf(")");if(Bt!==-1&&Gt+1===Mt.length){var Vt=Mt.substr(0,Bt),ln=Mt.substr(Bt+1,Gt-(Bt+1)).split(","),cn=1;switch(Vt){case"rgba":if(ln.length!==4)return null;cn=Ge(ln.pop());case"rgb":return ln.length!==3?null:[ze(ln[0]),ze(ln[1]),ze(ln[2]),cn];case"hsla":if(ln.length!==4)return null;cn=Ge(ln.pop());case"hsl":if(ln.length!==3)return null;var Mn=(parseFloat(ln[0])%360+360)%360/360,Tn=Ge(ln[1]),Nn=Ge(ln[2]),jn=Nn<=.5?Nn*(Tn+1):Nn+Tn-Nn*Tn,Zn=2*Nn-jn;return[ge(255*tt(Zn,jn,Mn+1/3)),ge(255*tt(Zn,jn,Mn)),ge(255*tt(Zn,jn,Mn-1/3)),cn];default:return null}}return null}}catch{}}),Pn=kn.parseCSSColor,On=function(E,B,ee,ge){ge===void 0&&(ge=1),this.r=E,this.g=B,this.b=ee,this.a=ge};On.parse=function(E){if(E){if(E instanceof On)return E;if(typeof E=="string"){var B=Pn(E);if(B)return new On(B[0]/255*B[3],B[1]/255*B[3],B[2]/255*B[3],B[3])}}},On.prototype.toString=function(){var E=this.toArray(),B=E[0],ee=E[1],ge=E[2],Ee=E[3];return"rgba("+Math.round(B)+","+Math.round(ee)+","+Math.round(ge)+","+Ee+")"},On.prototype.toArray=function(){var E=this,B=E.r,ee=E.g,ge=E.b,Ee=E.a;return Ee===0?[0,0,0,0]:[255*B/Ee,255*ee/Ee,255*ge/Ee,Ee]},On.black=new On(0,0,0,1),On.white=new On(1,1,1,1),On.transparent=new On(0,0,0,0),On.red=new On(1,0,0,1);var En=function(E,B,ee){this.sensitivity=E?B?"variant":"case":B?"accent":"base",this.locale=ee,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};En.prototype.compare=function(E,B){return this.collator.compare(E,B)},En.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Vn=function(E,B,ee,ge,Ee){this.text=E,this.image=B,this.scale=ee,this.fontStack=ge,this.textColor=Ee},Bn=function(E){this.sections=E};Bn.fromString=function(E){return new Bn([new Vn(E,null,null,null,null)])},Bn.prototype.isEmpty=function(){return this.sections.length===0||!this.sections.some(function(E){return E.text.length!==0||E.image&&E.image.name.length!==0})},Bn.factory=function(E){return E instanceof Bn?E:Bn.fromString(E)},Bn.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(E){return E.text}).join("")},Bn.prototype.serialize=function(){for(var E=["format"],B=0,ee=this.sections;B<ee.length;B+=1){var ge=ee[B];if(ge.image)E.push(["image",ge.image.name]);else{E.push(ge.text);var Ee={};ge.fontStack&&(Ee["text-font"]=["literal",ge.fontStack.split(",")]),ge.scale&&(Ee["font-scale"]=ge.scale),ge.textColor&&(Ee["text-color"]=["rgba"].concat(ge.textColor.toArray())),E.push(Ee)}}return E};var Wn=function(E){this.name=E.name,this.available=E.available};function rr(E,B,ee,ge){return typeof E=="number"&&E>=0&&E<=255&&typeof B=="number"&&B>=0&&B<=255&&typeof ee=="number"&&ee>=0&&ee<=255?ge===void 0||typeof ge=="number"&&ge>=0&&ge<=1?null:"Invalid rgba value ["+[E,B,ee,ge].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+(typeof ge=="number"?[E,B,ee,ge]:[E,B,ee]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function ir(E){if(E===null||typeof E=="string"||typeof E=="boolean"||typeof E=="number"||E instanceof On||E instanceof En||E instanceof Bn||E instanceof Wn)return!0;if(Array.isArray(E)){for(var B=0,ee=E;B<ee.length;B+=1)if(!ir(ee[B]))return!1;return!0}if(typeof E=="object"){for(var ge in E)if(!ir(E[ge]))return!1;return!0}return!1}function Kn(E){if(E===null)return Rt;if(typeof E=="string")return Nt;if(typeof E=="boolean")return Xt;if(typeof E=="number")return Dt;if(E instanceof On)return un;if(E instanceof En)return Ut;if(E instanceof Bn)return Rn;if(E instanceof Wn)return An;if(Array.isArray(E)){for(var B,ee=E.length,ge=0,Ee=E;ge<Ee.length;ge+=1){var ze=Kn(Ee[ge]);if(B){if(B===ze)continue;B=Kt;break}B=ze}return mn(B||Kt,ee)}return qt}function vr(E){var B=typeof E;return E===null?"":B==="string"||B==="number"||B==="boolean"?String(E):E instanceof On||E instanceof Bn||E instanceof Wn?E.toString():JSON.stringify(E)}Wn.prototype.toString=function(){return this.name},Wn.fromString=function(E){return E?new Wn({name:E,available:!1}):null},Wn.prototype.serialize=function(){return["image",this.name]};var nn=function(E,B){this.type=E,this.value=B};nn.parse=function(E,B){if(E.length!==2)return B.error("'literal' expression requires exactly one argument, but found "+(E.length-1)+" instead.");if(!ir(E[1]))return B.error("invalid value");var ee=E[1],ge=Kn(ee),Ee=B.expectedType;return ge.kind!=="array"||ge.N!==0||!Ee||Ee.kind!=="array"||typeof Ee.N=="number"&&Ee.N!==0||(ge=Ee),new nn(ge,ee)},nn.prototype.evaluate=function(){return this.value},nn.prototype.eachChild=function(){},nn.prototype.outputDefined=function(){return!0},nn.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof On?["rgba"].concat(this.value.toArray()):this.value instanceof Bn?this.value.serialize():this.value};var an=function(E){this.name="ExpressionEvaluationError",this.message=E};an.prototype.toJSON=function(){return this.message};var In={string:Nt,number:Dt,boolean:Xt,object:qt},yn=function(E,B){this.type=E,this.args=B};yn.parse=function(E,B){if(E.length<2)return B.error("Expected at least one argument.");var ee,ge=1,Ee=E[0];if(Ee==="array"){var ze,Ge;if(E.length>2){var tt=E[1];if(typeof tt!="string"||!(tt in In)||tt==="object")return B.error('The item type argument of "array" must be one of string, number, boolean',1);ze=In[tt],ge++}else ze=Kt;if(E.length>3){if(E[2]!==null&&(typeof E[2]!="number"||E[2]<0||E[2]!==Math.floor(E[2])))return B.error('The length argument to "array" must be a positive integer literal',2);Ge=E[2],ge++}ee=mn(ze,Ge)}else ee=In[Ee];for(var ht=[];ge<E.length;ge++){var Tt=B.parse(E[ge],ge,Kt);if(!Tt)return null;ht.push(Tt)}return new yn(ee,ht)},yn.prototype.evaluate=function(E){for(var B=0;B<this.args.length;B++){var ee=this.args[B].evaluate(E);if(!rn(this.type,Kn(ee)))return ee;if(B===this.args.length-1)throw new an("Expected value to be of type "+tn(this.type)+", but found "+tn(Kn(ee))+" instead.")}return null},yn.prototype.eachChild=function(E){this.args.forEach(E)},yn.prototype.outputDefined=function(){return this.args.every(function(E){return E.outputDefined()})},yn.prototype.serialize=function(){var E=this.type,B=[E.kind];if(E.kind==="array"){var ee=E.itemType;if(ee.kind==="string"||ee.kind==="number"||ee.kind==="boolean"){B.push(ee.kind);var ge=E.N;(typeof ge=="number"||this.args.length>1)&&B.push(ge)}}return B.concat(this.args.map(function(Ee){return Ee.serialize()}))};var Dn=function(E){this.type=Rn,this.sections=E};Dn.parse=function(E,B){if(E.length<2)return B.error("Expected at least one argument.");var ee=E[1];if(!Array.isArray(ee)&&typeof ee=="object")return B.error("First argument must be an image or text section.");for(var ge=[],Ee=!1,ze=1;ze<=E.length-1;++ze){var Ge=E[ze];if(Ee&&typeof Ge=="object"&&!Array.isArray(Ge)){Ee=!1;var tt=null;if(Ge["font-scale"]&&!(tt=B.parse(Ge["font-scale"],1,Dt)))return null;var ht=null;if(Ge["text-font"]&&!(ht=B.parse(Ge["text-font"],1,mn(Nt))))return null;var Tt=null;if(Ge["text-color"]&&!(Tt=B.parse(Ge["text-color"],1,un)))return null;var Mt=ge[ge.length-1];Mt.scale=tt,Mt.font=ht,Mt.textColor=Tt}else{var Bt=B.parse(E[ze],1,Kt);if(!Bt)return null;var Gt=Bt.type.kind;if(Gt!=="string"&&Gt!=="value"&&Gt!=="null"&&Gt!=="resolvedImage")return B.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Ee=!0,ge.push({content:Bt,scale:null,font:null,textColor:null})}}return new Dn(ge)},Dn.prototype.evaluate=function(E){return new Bn(this.sections.map(function(B){var ee=B.content.evaluate(E);return Kn(ee)===An?new Vn("",ee,null,null,null):new Vn(vr(ee),null,B.scale?B.scale.evaluate(E):null,B.font?B.font.evaluate(E).join(","):null,B.textColor?B.textColor.evaluate(E):null)}))},Dn.prototype.eachChild=function(E){for(var B=0,ee=this.sections;B<ee.length;B+=1){var ge=ee[B];E(ge.content),ge.scale&&E(ge.scale),ge.font&&E(ge.font),ge.textColor&&E(ge.textColor)}},Dn.prototype.outputDefined=function(){return!1},Dn.prototype.serialize=function(){for(var E=["format"],B=0,ee=this.sections;B<ee.length;B+=1){var ge=ee[B];E.push(ge.content.serialize());var Ee={};ge.scale&&(Ee["font-scale"]=ge.scale.serialize()),ge.font&&(Ee["text-font"]=ge.font.serialize()),ge.textColor&&(Ee["text-color"]=ge.textColor.serialize()),E.push(Ee)}return E};var $n=function(E){this.type=An,this.input=E};$n.parse=function(E,B){if(E.length!==2)return B.error("Expected two arguments.");var ee=B.parse(E[1],1,Nt);return ee?new $n(ee):B.error("No image name provided.")},$n.prototype.evaluate=function(E){var B=this.input.evaluate(E),ee=Wn.fromString(B);return ee&&E.availableImages&&(ee.available=E.availableImages.indexOf(B)>-1),ee},$n.prototype.eachChild=function(E){E(this.input)},$n.prototype.outputDefined=function(){return!1},$n.prototype.serialize=function(){return["image",this.input.serialize()]};var Hn={"to-boolean":Xt,"to-color":un,"to-number":Dt,"to-string":Nt},Qn=function(E,B){this.type=E,this.args=B};Qn.parse=function(E,B){if(E.length<2)return B.error("Expected at least one argument.");var ee=E[0];if((ee==="to-boolean"||ee==="to-string")&&E.length!==2)return B.error("Expected one argument.");for(var ge=Hn[ee],Ee=[],ze=1;ze<E.length;ze++){var Ge=B.parse(E[ze],ze,Kt);if(!Ge)return null;Ee.push(Ge)}return new Qn(ge,Ee)},Qn.prototype.evaluate=function(E){if(this.type.kind==="boolean")return!!this.args[0].evaluate(E);if(this.type.kind==="color"){for(var B,ee,ge=0,Ee=this.args;ge<Ee.length;ge+=1){if(ee=null,(B=Ee[ge].evaluate(E))instanceof On)return B;if(typeof B=="string"){var ze=E.parseColor(B);if(ze)return ze}else if(Array.isArray(B)&&!(ee=B.length<3||B.length>4?"Invalid rbga value "+JSON.stringify(B)+": expected an array containing either three or four numeric values.":rr(B[0],B[1],B[2],B[3])))return new On(B[0]/255,B[1]/255,B[2]/255,B[3])}throw new an(ee||"Could not parse color from value '"+(typeof B=="string"?B:String(JSON.stringify(B)))+"'")}if(this.type.kind==="number"){for(var Ge=null,tt=0,ht=this.args;tt<ht.length;tt+=1){if((Ge=ht[tt].evaluate(E))===null)return 0;var Tt=Number(Ge);if(!isNaN(Tt))return Tt}throw new an("Could not convert "+JSON.stringify(Ge)+" to number.")}return this.type.kind==="formatted"?Bn.fromString(vr(this.args[0].evaluate(E))):this.type.kind==="resolvedImage"?Wn.fromString(vr(this.args[0].evaluate(E))):vr(this.args[0].evaluate(E))},Qn.prototype.eachChild=function(E){this.args.forEach(E)},Qn.prototype.outputDefined=function(){return this.args.every(function(E){return E.outputDefined()})},Qn.prototype.serialize=function(){if(this.type.kind==="formatted")return new Dn([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new $n(this.args[0]).serialize();var E=["to-"+this.type.kind];return this.eachChild(function(B){E.push(B.serialize())}),E};var xr=["Unknown","Point","LineString","Polygon"],Qt=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Qt.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Qt.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?xr[this.feature.type]:this.feature.type:null},Qt.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Qt.prototype.canonicalID=function(){return this.canonical},Qt.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Qt.prototype.parseColor=function(E){var B=this._parseColorCache[E];return B||(B=this._parseColorCache[E]=On.parse(E)),B};var xn=function(E,B,ee,ge){this.name=E,this.type=B,this._evaluate=ee,this.args=ge};xn.prototype.evaluate=function(E){return this._evaluate(E,this.args)},xn.prototype.eachChild=function(E){this.args.forEach(E)},xn.prototype.outputDefined=function(){return!1},xn.prototype.serialize=function(){return[this.name].concat(this.args.map(function(E){return E.serialize()}))},xn.parse=function(E,B){var ee,ge=E[0],Ee=xn.definitions[ge];if(!Ee)return B.error('Unknown expression "'+ge+'". If you wanted a literal array, use ["literal", [...]].',0);for(var ze=Array.isArray(Ee)?Ee[0]:Ee.type,Ge=Array.isArray(Ee)?[[Ee[1],Ee[2]]]:Ee.overloads,tt=Ge.filter(function(Qr){var Br=Qr[0];return!Array.isArray(Br)||Br.length===E.length-1}),ht=null,Tt=0,Mt=tt;Tt<Mt.length;Tt+=1){var Bt=Mt[Tt],Gt=Bt[0],Vt=Bt[1];ht=new br(B.registry,B.path,null,B.scope);for(var ln=[],cn=!1,Mn=1;Mn<E.length;Mn++){var Tn=E[Mn],Nn=Array.isArray(Gt)?Gt[Mn-1]:Gt.type,jn=ht.parse(Tn,1+ln.length,Nn);if(!jn){cn=!0;break}ln.push(jn)}if(!cn)if(Array.isArray(Gt)&&Gt.length!==ln.length)ht.error("Expected "+Gt.length+" arguments, but found "+ln.length+" instead.");else{for(var Zn=0;Zn<ln.length;Zn++){var Jn=Array.isArray(Gt)?Gt[Zn]:Gt.type,lr=ln[Zn];ht.concat(Zn+1).checkSubtype(Jn,lr.type)}if(ht.errors.length===0)return new xn(ge,ze,Vt,ln)}}if(tt.length===1)(ee=B.errors).push.apply(ee,ht.errors);else{for(var _r=(tt.length?tt:Ge).map(function(Qr){return Br=Qr[0],Array.isArray(Br)?"("+Br.map(tn).join(", ")+")":"("+tn(Br.type)+"...)";var Br}).join(" | "),yr=[],Sr=1;Sr<E.length;Sr++){var Pr=B.parse(E[Sr],1+yr.length);if(!Pr)return null;yr.push(tn(Pr.type))}B.error("Expected arguments of type "+_r+", but found ("+yr.join(", ")+") instead.")}return null},xn.register=function(E,B){for(var ee in xn.definitions=B,B)E[ee]=xn};var At=function(E,B,ee){this.type=Ut,this.locale=ee,this.caseSensitive=E,this.diacriticSensitive=B};At.parse=function(E,B){if(E.length!==2)return B.error("Expected one argument.");var ee=E[1];if(typeof ee!="object"||Array.isArray(ee))return B.error("Collator options argument must be an object.");var ge=B.parse(ee["case-sensitive"]!==void 0&&ee["case-sensitive"],1,Xt);if(!ge)return null;var Ee=B.parse(ee["diacritic-sensitive"]!==void 0&&ee["diacritic-sensitive"],1,Xt);if(!Ee)return null;var ze=null;return ee.locale&&!(ze=B.parse(ee.locale,1,Nt))?null:new At(ge,Ee,ze)},At.prototype.evaluate=function(E){return new En(this.caseSensitive.evaluate(E),this.diacriticSensitive.evaluate(E),this.locale?this.locale.evaluate(E):null)},At.prototype.eachChild=function(E){E(this.caseSensitive),E(this.diacriticSensitive),this.locale&&E(this.locale)},At.prototype.outputDefined=function(){return!1},At.prototype.serialize=function(){var E={};return E["case-sensitive"]=this.caseSensitive.serialize(),E["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(E.locale=this.locale.serialize()),["collator",E]};var Wt=8192;function en(E,B){E[0]=Math.min(E[0],B[0]),E[1]=Math.min(E[1],B[1]),E[2]=Math.max(E[2],B[0]),E[3]=Math.max(E[3],B[1])}function dn(E,B){return!(E[0]<=B[0]||E[2]>=B[2]||E[1]<=B[1]||E[3]>=B[3])}function gn(E,B){var ee,ge=(180+E[0])/360,Ee=(ee=E[1],(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+ee*Math.PI/360)))/360),ze=Math.pow(2,B.z);return[Math.round(ge*ze*Wt),Math.round(Ee*ze*Wt)]}function _n(E,B,ee){return B[1]>E[1]!=ee[1]>E[1]&&E[0]<(ee[0]-B[0])*(E[1]-B[1])/(ee[1]-B[1])+B[0]}function on(E,B){for(var ee=!1,ge=0,Ee=B.length;ge<Ee;ge++)for(var ze=B[ge],Ge=0,tt=ze.length;Ge<tt-1;Ge++){if(ht=E,Tt=ze[Ge],Mt=ze[Ge+1],Bt=void 0,Gt=void 0,Vt=void 0,ln=void 0,Bt=ht[0]-Tt[0],Gt=ht[1]-Tt[1],Vt=ht[0]-Mt[0],ln=ht[1]-Mt[1],Bt*ln-Vt*Gt==0&&Bt*Vt<=0&&Gt*ln<=0)return!1;_n(E,ze[Ge],ze[Ge+1])&&(ee=!ee)}var ht,Tt,Mt,Bt,Gt,Vt,ln;return ee}function Yt(E,B){for(var ee=0;ee<B.length;ee++)if(on(E,B[ee]))return!0;return!1}function Zt(E,B,ee,ge){var Ee=E[0]-ee[0],ze=E[1]-ee[1],Ge=B[0]-ee[0],tt=B[1]-ee[1],ht=ge[0]-ee[0],Tt=ge[1]-ee[1],Mt=Ee*Tt-ht*ze,Bt=Ge*Tt-ht*tt;return Mt>0&&Bt<0||Mt<0&&Bt>0}function sn(E,B,ee){for(var ge=0,Ee=ee;ge<Ee.length;ge+=1)for(var ze=Ee[ge],Ge=0;Ge<ze.length-1;++Ge)if(tt=E,ht=B,Tt=ze[Ge],Mt=ze[Ge+1],Bt=void 0,Gt=void 0,Vt=void 0,Vt=[ht[0]-tt[0],ht[1]-tt[1]],Bt=[Mt[0]-Tt[0],Mt[1]-Tt[1]],Gt=Vt,Bt[0]*Gt[1]-Bt[1]*Gt[0]!=0&&Zt(tt,ht,Tt,Mt)&&Zt(Tt,Mt,tt,ht))return!0;var tt,ht,Tt,Mt,Bt,Gt,Vt;return!1}function hn(E,B){for(var ee=0;ee<E.length;++ee)if(!on(E[ee],B))return!1;for(var ge=0;ge<E.length-1;++ge)if(sn(E[ge],E[ge+1],B))return!1;return!0}function Sn(E,B){for(var ee=0;ee<B.length;ee++)if(hn(E,B[ee]))return!0;return!1}function Cn(E,B,ee){for(var ge=[],Ee=0;Ee<E.length;Ee++){for(var ze=[],Ge=0;Ge<E[Ee].length;Ge++){var tt=gn(E[Ee][Ge],ee);en(B,tt),ze.push(tt)}ge.push(ze)}return ge}function Un(E,B,ee){for(var ge=[],Ee=0;Ee<E.length;Ee++){var ze=Cn(E[Ee],B,ee);ge.push(ze)}return ge}function qn(E,B,ee,ge){if(E[0]<ee[0]||E[0]>ee[2]){var Ee=.5*ge,ze=E[0]-ee[0]>Ee?-ge:ee[0]-E[0]>Ee?ge:0;ze===0&&(ze=E[0]-ee[2]>Ee?-ge:ee[2]-E[0]>Ee?ge:0),E[0]+=ze}en(B,E)}function tr(E,B,ee,ge){for(var Ee=Math.pow(2,ge.z)*Wt,ze=[ge.x*Wt,ge.y*Wt],Ge=[],tt=0,ht=E;tt<ht.length;tt+=1)for(var Tt=0,Mt=ht[tt];Tt<Mt.length;Tt+=1){var Bt=Mt[Tt],Gt=[Bt.x+ze[0],Bt.y+ze[1]];qn(Gt,B,ee,Ee),Ge.push(Gt)}return Ge}function Yn(E,B,ee,ge){for(var Ee=Math.pow(2,ge.z)*Wt,ze=[ge.x*Wt,ge.y*Wt],Ge=[],tt=0,ht=E;tt<ht.length;tt+=1){for(var Tt=[],Mt=0,Bt=ht[tt];Mt<Bt.length;Mt+=1){var Gt=Bt[Mt],Vt=[Gt.x+ze[0],Gt.y+ze[1]];en(B,Vt),Tt.push(Vt)}Ge.push(Tt)}if(B[2]-B[0]<=Ee/2){(Nn=B)[0]=Nn[1]=1/0,Nn[2]=Nn[3]=-1/0;for(var ln=0,cn=Ge;ln<cn.length;ln+=1)for(var Mn=0,Tn=cn[ln];Mn<Tn.length;Mn+=1)qn(Tn[Mn],B,ee,Ee)}var Nn;return Ge}var sr=function(E,B){this.type=Xt,this.geojson=E,this.geometries=B};function ar(E){if(E instanceof xn&&(E.name==="get"&&E.args.length===1||E.name==="feature-state"||E.name==="has"&&E.args.length===1||E.name==="properties"||E.name==="geometry-type"||E.name==="id"||/^filter-/.test(E.name))||E instanceof sr)return!1;var B=!0;return E.eachChild(function(ee){B&&!ar(ee)&&(B=!1)}),B}function er(E){if(E instanceof xn&&E.name==="feature-state")return!1;var B=!0;return E.eachChild(function(ee){B&&!er(ee)&&(B=!1)}),B}function mr(E,B){if(E instanceof xn&&B.indexOf(E.name)>=0)return!1;var ee=!0;return E.eachChild(function(ge){ee&&!mr(ge,B)&&(ee=!1)}),ee}sr.parse=function(E,B){if(E.length!==2)return B.error("'within' expression requires exactly one argument, but found "+(E.length-1)+" instead.");if(ir(E[1])){var ee=E[1];if(ee.type==="FeatureCollection")for(var ge=0;ge<ee.features.length;++ge){var Ee=ee.features[ge].geometry.type;if(Ee==="Polygon"||Ee==="MultiPolygon")return new sr(ee,ee.features[ge].geometry)}else if(ee.type==="Feature"){var ze=ee.geometry.type;if(ze==="Polygon"||ze==="MultiPolygon")return new sr(ee,ee.geometry)}else if(ee.type==="Polygon"||ee.type==="MultiPolygon")return new sr(ee,ee)}return B.error("'within' expression requires valid geojson object that contains polygon geometry type.")},sr.prototype.evaluate=function(E){if(E.geometry()!=null&&E.canonicalID()!=null){if(E.geometryType()==="Point")return function(B,ee){var ge=[1/0,1/0,-1/0,-1/0],Ee=[1/0,1/0,-1/0,-1/0],ze=B.canonicalID();if(ee.type==="Polygon"){var Ge=Cn(ee.coordinates,Ee,ze),tt=tr(B.geometry(),ge,Ee,ze);if(!dn(ge,Ee))return!1;for(var ht=0,Tt=tt;ht<Tt.length;ht+=1)if(!on(Tt[ht],Ge))return!1}if(ee.type==="MultiPolygon"){var Mt=Un(ee.coordinates,Ee,ze),Bt=tr(B.geometry(),ge,Ee,ze);if(!dn(ge,Ee))return!1;for(var Gt=0,Vt=Bt;Gt<Vt.length;Gt+=1)if(!Yt(Vt[Gt],Mt))return!1}return!0}(E,this.geometries);if(E.geometryType()==="LineString")return function(B,ee){var ge=[1/0,1/0,-1/0,-1/0],Ee=[1/0,1/0,-1/0,-1/0],ze=B.canonicalID();if(ee.type==="Polygon"){var Ge=Cn(ee.coordinates,Ee,ze),tt=Yn(B.geometry(),ge,Ee,ze);if(!dn(ge,Ee))return!1;for(var ht=0,Tt=tt;ht<Tt.length;ht+=1)if(!hn(Tt[ht],Ge))return!1}if(ee.type==="MultiPolygon"){var Mt=Un(ee.coordinates,Ee,ze),Bt=Yn(B.geometry(),ge,Ee,ze);if(!dn(ge,Ee))return!1;for(var Gt=0,Vt=Bt;Gt<Vt.length;Gt+=1)if(!Sn(Vt[Gt],Mt))return!1}return!0}(E,this.geometries)}return!1},sr.prototype.eachChild=function(){},sr.prototype.outputDefined=function(){return!0},sr.prototype.serialize=function(){return["within",this.geojson]};var Mr=function(E,B){this.type=B.type,this.name=E,this.boundExpression=B};Mr.parse=function(E,B){if(E.length!==2||typeof E[1]!="string")return B.error("'var' expression requires exactly one string literal argument.");var ee=E[1];return B.scope.has(ee)?new Mr(ee,B.scope.get(ee)):B.error('Unknown variable "'+ee+'". Make sure "'+ee+'" has been bound in an enclosing "let" expression before using it.',1)},Mr.prototype.evaluate=function(E){return this.boundExpression.evaluate(E)},Mr.prototype.eachChild=function(){},Mr.prototype.outputDefined=function(){return!1},Mr.prototype.serialize=function(){return["var",this.name]};var br=function(E,B,ee,ge,Ee){B===void 0&&(B=[]),ge===void 0&&(ge=new Ct),Ee===void 0&&(Ee=[]),this.registry=E,this.path=B,this.key=B.map(function(ze){return"["+ze+"]"}).join(""),this.scope=ge,this.errors=Ee,this.expectedType=ee};function ur(E){if(E instanceof Mr)return ur(E.boundExpression);if(E instanceof xn&&E.name==="error"||E instanceof At||E instanceof sr)return!1;var B=E instanceof Qn||E instanceof yn,ee=!0;return E.eachChild(function(ge){ee=B?ee&&ur(ge):ee&&ge instanceof nn}),!!ee&&ar(E)&&mr(E,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function kr(E,B){for(var ee,ge,Ee=E.length-1,ze=0,Ge=Ee,tt=0;ze<=Ge;)if(ee=E[tt=Math.floor((ze+Ge)/2)],ge=E[tt+1],ee<=B){if(tt===Ee||B<ge)return tt;ze=tt+1}else{if(!(ee>B))throw new an("Input is not a number.");Ge=tt-1}return 0}br.prototype.parse=function(E,B,ee,ge,Ee){return Ee===void 0&&(Ee={}),B?this.concat(B,ee,ge)._parse(E,Ee):this._parse(E,Ee)},br.prototype._parse=function(E,B){function ee(Tt,Mt,Bt){return Bt==="assert"?new yn(Mt,[Tt]):Bt==="coerce"?new Qn(Mt,[Tt]):Tt}if(E!==null&&typeof E!="string"&&typeof E!="boolean"&&typeof E!="number"||(E=["literal",E]),Array.isArray(E)){if(E.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var ge=E[0];if(typeof ge!="string")return this.error("Expression name must be a string, but found "+typeof ge+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Ee=this.registry[ge];if(Ee){var ze=Ee.parse(E,this);if(!ze)return null;if(this.expectedType){var Ge=this.expectedType,tt=ze.type;if(Ge.kind!=="string"&&Ge.kind!=="number"&&Ge.kind!=="boolean"&&Ge.kind!=="object"&&Ge.kind!=="array"||tt.kind!=="value")if(Ge.kind!=="color"&&Ge.kind!=="formatted"&&Ge.kind!=="resolvedImage"||tt.kind!=="value"&&tt.kind!=="string"){if(this.checkSubtype(Ge,tt))return null}else ze=ee(ze,Ge,B.typeAnnotation||"coerce");else ze=ee(ze,Ge,B.typeAnnotation||"assert")}if(!(ze instanceof nn)&&ze.type.kind!=="resolvedImage"&&ur(ze)){var ht=new Qt;try{ze=new nn(ze.type,ze.evaluate(ht))}catch(Tt){return this.error(Tt.message),null}}return ze}return this.error('Unknown expression "'+ge+'". If you wanted a literal array, use ["literal", [...]].',0)}return E===void 0?this.error("'undefined' value invalid. Use null instead."):typeof E=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof E+" instead.")},br.prototype.concat=function(E,B,ee){var ge=typeof E=="number"?this.path.concat(E):this.path,Ee=ee?this.scope.concat(ee):this.scope;return new br(this.registry,ge,B||null,Ee,this.errors)},br.prototype.error=function(E){for(var B=[],ee=arguments.length-1;ee-- >0;)B[ee]=arguments[ee+1];var ge=""+this.key+B.map(function(Ee){return"["+Ee+"]"}).join("");this.errors.push(new wt(ge,E))},br.prototype.checkSubtype=function(E,B){var ee=rn(E,B);return ee&&this.error(ee),ee};var Er=function(E,B,ee){this.type=E,this.input=B,this.labels=[],this.outputs=[];for(var ge=0,Ee=ee;ge<Ee.length;ge+=1){var ze=Ee[ge],Ge=ze[0],tt=ze[1];this.labels.push(Ge),this.outputs.push(tt)}};function $r(E,B,ee){return E*(1-ee)+B*ee}Er.parse=function(E,B){if(E.length-1<4)return B.error("Expected at least 4 arguments, but found only "+(E.length-1)+".");if((E.length-1)%2!=0)return B.error("Expected an even number of arguments.");var ee=B.parse(E[1],1,Dt);if(!ee)return null;var ge=[],Ee=null;B.expectedType&&B.expectedType.kind!=="value"&&(Ee=B.expectedType);for(var ze=1;ze<E.length;ze+=2){var Ge=ze===1?-1/0:E[ze],tt=E[ze+1],ht=ze,Tt=ze+1;if(typeof Ge!="number")return B.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ht);if(ge.length&&ge[ge.length-1][0]>=Ge)return B.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',ht);var Mt=B.parse(tt,Tt,Ee);if(!Mt)return null;Ee=Ee||Mt.type,ge.push([Ge,Mt])}return new Er(Ee,ee,ge)},Er.prototype.evaluate=function(E){var B=this.labels,ee=this.outputs;if(B.length===1)return ee[0].evaluate(E);var ge=this.input.evaluate(E);if(ge<=B[0])return ee[0].evaluate(E);var Ee=B.length;return ge>=B[Ee-1]?ee[Ee-1].evaluate(E):ee[kr(B,ge)].evaluate(E)},Er.prototype.eachChild=function(E){E(this.input);for(var B=0,ee=this.outputs;B<ee.length;B+=1)E(ee[B])},Er.prototype.outputDefined=function(){return this.outputs.every(function(E){return E.outputDefined()})},Er.prototype.serialize=function(){for(var E=["step",this.input.serialize()],B=0;B<this.labels.length;B++)B>0&&E.push(this.labels[B]),E.push(this.outputs[B].serialize());return E};var Ii=Object.freeze({__proto__:null,number:$r,color:function(E,B,ee){return new On($r(E.r,B.r,ee),$r(E.g,B.g,ee),$r(E.b,B.b,ee),$r(E.a,B.a,ee))},array:function(E,B,ee){return E.map(function(ge,Ee){return $r(ge,B[Ee],ee)})}}),Di=.95047,Aa=1,Li=1.08883,ra=4/29,Gr=6/29,Ui=3*Gr*Gr,$a=Gr*Gr*Gr,Da=Math.PI/180,ds=180/Math.PI;function gs(E){return E>$a?Math.pow(E,.3333333333333333):E/Ui+ra}function Jo(E){return E>Gr?E*E*E:Ui*(E-ra)}function za(E){return 255*(E<=.0031308?12.92*E:1.055*Math.pow(E,.4166666666666667)-.055)}function Qo(E){return(E/=255)<=.04045?E/12.92:Math.pow((E+.055)/1.055,2.4)}function Rs(E){var B=Qo(E.r),ee=Qo(E.g),ge=Qo(E.b),Ee=gs((.4124564*B+.3575761*ee+.1804375*ge)/Di),ze=gs((.2126729*B+.7151522*ee+.072175*ge)/Aa);return{l:116*ze-16,a:500*(Ee-ze),b:200*(ze-gs((.0193339*B+.119192*ee+.9503041*ge)/Li)),alpha:E.a}}function il(E){var B=(E.l+16)/116,ee=isNaN(E.a)?B:B+E.a/500,ge=isNaN(E.b)?B:B-E.b/200;return B=Aa*Jo(B),ee=Di*Jo(ee),ge=Li*Jo(ge),new On(za(3.2404542*ee-1.5371385*B-.4985314*ge),za(-.969266*ee+1.8760108*B+.041556*ge),za(.0556434*ee-.2040259*B+1.0572252*ge),E.alpha)}function ko(E,B,ee){var ge=B-E;return E+ee*(ge>180||ge<-180?ge-360*Math.round(ge/360):ge)}var Ao={forward:Rs,reverse:il,interpolate:function(E,B,ee){return{l:$r(E.l,B.l,ee),a:$r(E.a,B.a,ee),b:$r(E.b,B.b,ee),alpha:$r(E.alpha,B.alpha,ee)}}},es={forward:function(E){var B=Rs(E),ee=B.l,ge=B.a,Ee=B.b,ze=Math.atan2(Ee,ge)*ds;return{h:ze<0?ze+360:ze,c:Math.sqrt(ge*ge+Ee*Ee),l:ee,alpha:E.a}},reverse:function(E){var B=E.h*Da,ee=E.c;return il({l:E.l,a:Math.cos(B)*ee,b:Math.sin(B)*ee,alpha:E.alpha})},interpolate:function(E,B,ee){return{h:ko(E.h,B.h,ee),c:$r(E.c,B.c,ee),l:$r(E.l,B.l,ee),alpha:$r(E.alpha,B.alpha,ee)}}},Vi=Object.freeze({__proto__:null,lab:Ao,hcl:es}),va=function(E,B,ee,ge,Ee){this.type=E,this.operator=B,this.interpolation=ee,this.input=ge,this.labels=[],this.outputs=[];for(var ze=0,Ge=Ee;ze<Ge.length;ze+=1){var tt=Ge[ze],ht=tt[0],Tt=tt[1];this.labels.push(ht),this.outputs.push(Tt)}};function vs(E,B,ee,ge){var Ee=ge-ee,ze=E-ee;return Ee===0?0:B===1?ze/Ee:(Math.pow(B,ze)-1)/(Math.pow(B,Ee)-1)}va.interpolationFactor=function(E,B,ee,ge){var Ee=0;if(E.name==="exponential")Ee=vs(B,E.base,ee,ge);else if(E.name==="linear")Ee=vs(B,1,ee,ge);else if(E.name==="cubic-bezier"){var ze=E.controlPoints;Ee=new c(ze[0],ze[1],ze[2],ze[3]).solve(vs(B,1,ee,ge))}return Ee},va.parse=function(E,B){var ee=E[0],ge=E[1],Ee=E[2],ze=E.slice(3);if(!Array.isArray(ge)||ge.length===0)return B.error("Expected an interpolation type expression.",1);if(ge[0]==="linear")ge={name:"linear"};else if(ge[0]==="exponential"){var Ge=ge[1];if(typeof Ge!="number")return B.error("Exponential interpolation requires a numeric base.",1,1);ge={name:"exponential",base:Ge}}else{if(ge[0]!=="cubic-bezier")return B.error("Unknown interpolation type "+String(ge[0]),1,0);var tt=ge.slice(1);if(tt.length!==4||tt.some(function(Mn){return typeof Mn!="number"||Mn<0||Mn>1}))return B.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);ge={name:"cubic-bezier",controlPoints:tt}}if(E.length-1<4)return B.error("Expected at least 4 arguments, but found only "+(E.length-1)+".");if((E.length-1)%2!=0)return B.error("Expected an even number of arguments.");if(!(Ee=B.parse(Ee,2,Dt)))return null;var ht=[],Tt=null;ee==="interpolate-hcl"||ee==="interpolate-lab"?Tt=un:B.expectedType&&B.expectedType.kind!=="value"&&(Tt=B.expectedType);for(var Mt=0;Mt<ze.length;Mt+=2){var Bt=ze[Mt],Gt=ze[Mt+1],Vt=Mt+3,ln=Mt+4;if(typeof Bt!="number")return B.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Vt);if(ht.length&&ht[ht.length-1][0]>=Bt)return B.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Vt);var cn=B.parse(Gt,ln,Tt);if(!cn)return null;Tt=Tt||cn.type,ht.push([Bt,cn])}return Tt.kind==="number"||Tt.kind==="color"||Tt.kind==="array"&&Tt.itemType.kind==="number"&&typeof Tt.N=="number"?new va(Tt,ee,ge,Ee,ht):B.error("Type "+tn(Tt)+" is not interpolatable.")},va.prototype.evaluate=function(E){var B=this.labels,ee=this.outputs;if(B.length===1)return ee[0].evaluate(E);var ge=this.input.evaluate(E);if(ge<=B[0])return ee[0].evaluate(E);var Ee=B.length;if(ge>=B[Ee-1])return ee[Ee-1].evaluate(E);var ze=kr(B,ge),Ge=B[ze],tt=B[ze+1],ht=va.interpolationFactor(this.interpolation,ge,Ge,tt),Tt=ee[ze].evaluate(E),Mt=ee[ze+1].evaluate(E);return this.operator==="interpolate"?Ii[this.type.kind.toLowerCase()](Tt,Mt,ht):this.operator==="interpolate-hcl"?es.reverse(es.interpolate(es.forward(Tt),es.forward(Mt),ht)):Ao.reverse(Ao.interpolate(Ao.forward(Tt),Ao.forward(Mt),ht))},va.prototype.eachChild=function(E){E(this.input);for(var B=0,ee=this.outputs;B<ee.length;B+=1)E(ee[B])},va.prototype.outputDefined=function(){return this.outputs.every(function(E){return E.outputDefined()})},va.prototype.serialize=function(){var E;E=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var B=[this.operator,E,this.input.serialize()],ee=0;ee<this.labels.length;ee++)B.push(this.labels[ee],this.outputs[ee].serialize());return B};var ts=function(E,B){this.type=E,this.args=B};ts.parse=function(E,B){if(E.length<2)return B.error("Expectected at least one argument.");var ee=null,ge=B.expectedType;ge&&ge.kind!=="value"&&(ee=ge);for(var Ee=[],ze=0,Ge=E.slice(1);ze<Ge.length;ze+=1){var tt=Ge[ze],ht=B.parse(tt,1+Ee.length,ee,void 0,{typeAnnotation:"omit"});if(!ht)return null;ee=ee||ht.type,Ee.push(ht)}var Tt=ge&&Ee.some(function(Mt){return rn(ge,Mt.type)});return new ts(Tt?Kt:ee,Ee)},ts.prototype.evaluate=function(E){for(var B,ee=null,ge=0,Ee=0,ze=this.args;Ee<ze.length&&(ge++,(ee=ze[Ee].evaluate(E))&&ee instanceof Wn&&!ee.available&&(B||(B=ee.name),ee=null,ge===this.args.length&&(ee=B)),ee===null);Ee+=1);return ee},ts.prototype.eachChild=function(E){this.args.forEach(E)},ts.prototype.outputDefined=function(){return this.args.every(function(E){return E.outputDefined()})},ts.prototype.serialize=function(){var E=["coalesce"];return this.eachChild(function(B){E.push(B.serialize())}),E};var Fo=function(E,B){this.type=B.type,this.bindings=[].concat(E),this.result=B};Fo.prototype.evaluate=function(E){return this.result.evaluate(E)},Fo.prototype.eachChild=function(E){for(var B=0,ee=this.bindings;B<ee.length;B+=1)E(ee[B][1]);E(this.result)},Fo.parse=function(E,B){if(E.length<4)return B.error("Expected at least 3 arguments, but found "+(E.length-1)+" instead.");for(var ee=[],ge=1;ge<E.length-1;ge+=2){var Ee=E[ge];if(typeof Ee!="string")return B.error("Expected string, but found "+typeof Ee+" instead.",ge);if(/[^a-zA-Z0-9_]/.test(Ee))return B.error("Variable names must contain only alphanumeric characters or '_'.",ge);var ze=B.parse(E[ge+1],ge+1);if(!ze)return null;ee.push([Ee,ze])}var Ge=B.parse(E[E.length-1],E.length-1,B.expectedType,ee);return Ge?new Fo(ee,Ge):null},Fo.prototype.outputDefined=function(){return this.result.outputDefined()},Fo.prototype.serialize=function(){for(var E=["let"],B=0,ee=this.bindings;B<ee.length;B+=1){var ge=ee[B],Ee=ge[0],ze=ge[1];E.push(Ee,ze.serialize())}return E.push(this.result.serialize()),E};var Ds=function(E,B,ee){this.type=E,this.index=B,this.input=ee};Ds.parse=function(E,B){if(E.length!==3)return B.error("Expected 2 arguments, but found "+(E.length-1)+" instead.");var ee=B.parse(E[1],1,Dt),ge=B.parse(E[2],2,mn(B.expectedType||Kt));if(!ee||!ge)return null;var Ee=ge.type;return new Ds(Ee.itemType,ee,ge)},Ds.prototype.evaluate=function(E){var B=this.index.evaluate(E),ee=this.input.evaluate(E);if(B<0)throw new an("Array index out of bounds: "+B+" < 0.");if(B>=ee.length)throw new an("Array index out of bounds: "+B+" > "+(ee.length-1)+".");if(B!==Math.floor(B))throw new an("Array index must be an integer, but found "+B+" instead.");return ee[B]},Ds.prototype.eachChild=function(E){E(this.index),E(this.input)},Ds.prototype.outputDefined=function(){return!1},Ds.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var ns=function(E,B){this.type=Xt,this.needle=E,this.haystack=B};ns.parse=function(E,B){if(E.length!==3)return B.error("Expected 2 arguments, but found "+(E.length-1)+" instead.");var ee=B.parse(E[1],1,Kt),ge=B.parse(E[2],2,Kt);return ee&&ge?pn(ee.type,[Xt,Nt,Dt,Rt,Kt])?new ns(ee,ge):B.error("Expected first argument to be of type boolean, string, number or null, but found "+tn(ee.type)+" instead"):null},ns.prototype.evaluate=function(E){var B=this.needle.evaluate(E),ee=this.haystack.evaluate(E);if(!ee)return!1;if(!wn(B,["boolean","string","number","null"]))throw new an("Expected first argument to be of type boolean, string, number or null, but found "+tn(Kn(B))+" instead.");if(!wn(ee,["string","array"]))throw new an("Expected second argument to be of type array or string, but found "+tn(Kn(ee))+" instead.");return ee.indexOf(B)>=0},ns.prototype.eachChild=function(E){E(this.needle),E(this.haystack)},ns.prototype.outputDefined=function(){return!0},ns.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var zs=function(E,B,ee){this.type=Dt,this.needle=E,this.haystack=B,this.fromIndex=ee};zs.parse=function(E,B){if(E.length<=2||E.length>=5)return B.error("Expected 3 or 4 arguments, but found "+(E.length-1)+" instead.");var ee=B.parse(E[1],1,Kt),ge=B.parse(E[2],2,Kt);if(!ee||!ge)return null;if(!pn(ee.type,[Xt,Nt,Dt,Rt,Kt]))return B.error("Expected first argument to be of type boolean, string, number or null, but found "+tn(ee.type)+" instead");if(E.length===4){var Ee=B.parse(E[3],3,Dt);return Ee?new zs(ee,ge,Ee):null}return new zs(ee,ge)},zs.prototype.evaluate=function(E){var B=this.needle.evaluate(E),ee=this.haystack.evaluate(E);if(!wn(B,["boolean","string","number","null"]))throw new an("Expected first argument to be of type boolean, string, number or null, but found "+tn(Kn(B))+" instead.");if(!wn(ee,["string","array"]))throw new an("Expected second argument to be of type array or string, but found "+tn(Kn(ee))+" instead.");if(this.fromIndex){var ge=this.fromIndex.evaluate(E);return ee.indexOf(B,ge)}return ee.indexOf(B)},zs.prototype.eachChild=function(E){E(this.needle),E(this.haystack),this.fromIndex&&E(this.fromIndex)},zs.prototype.outputDefined=function(){return!1},zs.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var E=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),E]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var ms=function(E,B,ee,ge,Ee,ze){this.inputType=E,this.type=B,this.input=ee,this.cases=ge,this.outputs=Ee,this.otherwise=ze};ms.parse=function(E,B){if(E.length<5)return B.error("Expected at least 4 arguments, but found only "+(E.length-1)+".");if(E.length%2!=1)return B.error("Expected an even number of arguments.");var ee,ge;B.expectedType&&B.expectedType.kind!=="value"&&(ge=B.expectedType);for(var Ee={},ze=[],Ge=2;Ge<E.length-1;Ge+=2){var tt=E[Ge],ht=E[Ge+1];Array.isArray(tt)||(tt=[tt]);var Tt=B.concat(Ge);if(tt.length===0)return Tt.error("Expected at least one branch label.");for(var Mt=0,Bt=tt;Mt<Bt.length;Mt+=1){var Gt=Bt[Mt];if(typeof Gt!="number"&&typeof Gt!="string")return Tt.error("Branch labels must be numbers or strings.");if(typeof Gt=="number"&&Math.abs(Gt)>Number.MAX_SAFE_INTEGER)return Tt.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof Gt=="number"&&Math.floor(Gt)!==Gt)return Tt.error("Numeric branch labels must be integer values.");if(ee){if(Tt.checkSubtype(ee,Kn(Gt)))return null}else ee=Kn(Gt);if(Ee[String(Gt)]!==void 0)return Tt.error("Branch labels must be unique.");Ee[String(Gt)]=ze.length}var Vt=B.parse(ht,Ge,ge);if(!Vt)return null;ge=ge||Vt.type,ze.push(Vt)}var ln=B.parse(E[1],1,Kt);if(!ln)return null;var cn=B.parse(E[E.length-1],E.length-1,ge);return cn?ln.type.kind!=="value"&&B.concat(1).checkSubtype(ee,ln.type)?null:new ms(ee,ge,ln,Ee,ze,cn):null},ms.prototype.evaluate=function(E){var B=this.input.evaluate(E);return(Kn(B)===this.inputType&&this.outputs[this.cases[B]]||this.otherwise).evaluate(E)},ms.prototype.eachChild=function(E){E(this.input),this.outputs.forEach(E),E(this.otherwise)},ms.prototype.outputDefined=function(){return this.outputs.every(function(E){return E.outputDefined()})&&this.otherwise.outputDefined()},ms.prototype.serialize=function(){for(var E=this,B=["match",this.input.serialize()],ee=[],ge={},Ee=0,ze=Object.keys(this.cases).sort();Ee<ze.length;Ee+=1){var Ge=ze[Ee];(Bt=ge[this.cases[Ge]])===void 0?(ge[this.cases[Ge]]=ee.length,ee.push([this.cases[Ge],[Ge]])):ee[Bt][1].push(Ge)}for(var tt=function(Vt){return E.inputType.kind==="number"?Number(Vt):Vt},ht=0,Tt=ee;ht<Tt.length;ht+=1){var Mt=Tt[ht],Bt=Mt[0],Gt=Mt[1];Gt.length===1?B.push(tt(Gt[0])):B.push(Gt.map(tt)),B.push(this.outputs[outputIndex$1].serialize())}return B.push(this.otherwise.serialize()),B};var Fs=function(E,B,ee){this.type=E,this.branches=B,this.otherwise=ee};Fs.parse=function(E,B){if(E.length<4)return B.error("Expected at least 3 arguments, but found only "+(E.length-1)+".");if(E.length%2!=0)return B.error("Expected an odd number of arguments.");var ee;B.expectedType&&B.expectedType.kind!=="value"&&(ee=B.expectedType);for(var ge=[],Ee=1;Ee<E.length-1;Ee+=2){var ze=B.parse(E[Ee],Ee,Xt);if(!ze)return null;var Ge=B.parse(E[Ee+1],Ee+1,ee);if(!Ge)return null;ge.push([ze,Ge]),ee=ee||Ge.type}var tt=B.parse(E[E.length-1],E.length-1,ee);return tt?new Fs(ee,ge,tt):null},Fs.prototype.evaluate=function(E){for(var B=0,ee=this.branches;B<ee.length;B+=1){var ge=ee[B],Ee=ge[0],ze=ge[1];if(Ee.evaluate(E))return ze.evaluate(E)}return this.otherwise.evaluate(E)},Fs.prototype.eachChild=function(E){for(var B=0,ee=this.branches;B<ee.length;B+=1){var ge=ee[B],Ee=ge[0],ze=ge[1];E(Ee),E(ze)}E(this.otherwise)},Fs.prototype.outputDefined=function(){return this.branches.every(function(E){return E[0],E[1].outputDefined()})&&this.otherwise.outputDefined()},Fs.prototype.serialize=function(){var E=["case"];return this.eachChild(function(B){E.push(B.serialize())}),E};var rs=function(E,B,ee,ge){this.type=E,this.input=B,this.beginIndex=ee,this.endIndex=ge};function Yu(E,B){return E==="=="||E==="!="?B.kind==="boolean"||B.kind==="string"||B.kind==="number"||B.kind==="null"||B.kind==="value":B.kind==="string"||B.kind==="number"||B.kind==="value"}function Au(E,B,ee,ge){return ge.compare(B,ee)===0}function al(E,B,ee){var ge=E!=="=="&&E!=="!=";return function(){function Ee(ze,Ge,tt){this.type=Xt,this.lhs=ze,this.rhs=Ge,this.collator=tt,this.hasUntypedArgument=ze.type.kind==="value"||Ge.type.kind==="value"}return Ee.parse=function(ze,Ge){if(ze.length!==3&&ze.length!==4)return Ge.error("Expected two or three arguments.");var tt=ze[0],ht=Ge.parse(ze[1],1,Kt);if(!ht)return null;if(!Yu(tt,ht.type))return Ge.concat(1).error('"'+tt+`" comparisons are not supported for type '`+tn(ht.type)+"'.");var Tt=Ge.parse(ze[2],2,Kt);if(!Tt)return null;if(!Yu(tt,Tt.type))return Ge.concat(2).error('"'+tt+`" comparisons are not supported for type '`+tn(Tt.type)+"'.");if(ht.type.kind!==Tt.type.kind&&ht.type.kind!=="value"&&Tt.type.kind!=="value")return Ge.error("Cannot compare types '"+tn(ht.type)+"' and '"+tn(Tt.type)+"'.");ge&&(ht.type.kind==="value"&&Tt.type.kind!=="value"?ht=new yn(Tt.type,[ht]):ht.type.kind!=="value"&&Tt.type.kind==="value"&&(Tt=new yn(ht.type,[Tt])));var Mt=null;if(ze.length===4){if(ht.type.kind!=="string"&&Tt.type.kind!=="string"&&ht.type.kind!=="value"&&Tt.type.kind!=="value")return Ge.error("Cannot use collator to compare non-string types.");if(!(Mt=Ge.parse(ze[3],3,Ut)))return null}return new Ee(ht,Tt,Mt)},Ee.prototype.evaluate=function(ze){var Ge=this.lhs.evaluate(ze),tt=this.rhs.evaluate(ze);if(ge&&this.hasUntypedArgument){var ht=Kn(Ge),Tt=Kn(tt);if(ht.kind!==Tt.kind||ht.kind!=="string"&&ht.kind!=="number")throw new an('Expected arguments for "'+E+'" to be (string, string) or (number, number), but found ('+ht.kind+", "+Tt.kind+") instead.")}if(this.collator&&!ge&&this.hasUntypedArgument){var Mt=Kn(Ge),Bt=Kn(tt);if(Mt.kind!=="string"||Bt.kind!=="string")return B(ze,Ge,tt)}return this.collator?ee(ze,Ge,tt,this.collator.evaluate(ze)):B(ze,Ge,tt)},Ee.prototype.eachChild=function(ze){ze(this.lhs),ze(this.rhs),this.collator&&ze(this.collator)},Ee.prototype.outputDefined=function(){return!0},Ee.prototype.serialize=function(){var ze=[E];return this.eachChild(function(Ge){ze.push(Ge.serialize())}),ze},Ee}()}rs.parse=function(E,B){if(E.length<=2||E.length>=5)return B.error("Expected 3 or 4 arguments, but found "+(E.length-1)+" instead.");var ee=B.parse(E[1],1,Kt),ge=B.parse(E[2],2,Dt);if(!ee||!ge)return null;if(!pn(ee.type,[mn(Kt),Nt,Kt]))return B.error("Expected first argument to be of type array or string, but found "+tn(ee.type)+" instead");if(E.length===4){var Ee=B.parse(E[3],3,Dt);return Ee?new rs(ee.type,ee,ge,Ee):null}return new rs(ee.type,ee,ge)},rs.prototype.evaluate=function(E){var B=this.input.evaluate(E),ee=this.beginIndex.evaluate(E);if(!wn(B,["string","array"]))throw new an("Expected first argument to be of type array or string, but found "+tn(Kn(B))+" instead.");if(this.endIndex){var ge=this.endIndex.evaluate(E);return B.slice(ee,ge)}return B.slice(ee)},rs.prototype.eachChild=function(E){E(this.input),E(this.beginIndex),this.endIndex&&E(this.endIndex)},rs.prototype.outputDefined=function(){return!1},rs.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var E=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),E]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var yc=al("==",function(E,B,ee){return B===ee},Au),xc=al("!=",function(E,B,ee){return B!==ee},function(E,B,ee,ge){return!Au(0,B,ee,ge)}),ol=al("<",function(E,B,ee){return B<ee},function(E,B,ee,ge){return ge.compare(B,ee)<0}),bc=al(">",function(E,B,ee){return B>ee},function(E,B,ee,ge){return ge.compare(B,ee)>0}),of=al("<=",function(E,B,ee){return B<=ee},function(E,B,ee,ge){return ge.compare(B,ee)<=0}),sf=al(">=",function(E,B,ee){return B>=ee},function(E,B,ee,ge){return ge.compare(B,ee)>=0}),sl=function(E,B,ee,ge,Ee){this.type=Nt,this.number=E,this.locale=B,this.currency=ee,this.minFractionDigits=ge,this.maxFractionDigits=Ee};sl.parse=function(E,B){if(E.length!==3)return B.error("Expected two arguments.");var ee=B.parse(E[1],1,Dt);if(!ee)return null;var ge=E[2];if(typeof ge!="object"||Array.isArray(ge))return B.error("NumberFormat options argument must be an object.");var Ee=null;if(ge.locale&&!(Ee=B.parse(ge.locale,1,Nt)))return null;var ze=null;if(ge.currency&&!(ze=B.parse(ge.currency,1,Nt)))return null;var Ge=null;if(ge["min-fraction-digits"]&&!(Ge=B.parse(ge["min-fraction-digits"],1,Dt)))return null;var tt=null;return ge["max-fraction-digits"]&&!(tt=B.parse(ge["max-fraction-digits"],1,Dt))?null:new sl(ee,Ee,ze,Ge,tt)},sl.prototype.evaluate=function(E){return new Intl.NumberFormat(this.locale?this.locale.evaluate(E):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(E):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(E):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(E):void 0}).format(this.number.evaluate(E))},sl.prototype.eachChild=function(E){E(this.number),this.locale&&E(this.locale),this.currency&&E(this.currency),this.minFractionDigits&&E(this.minFractionDigits),this.maxFractionDigits&&E(this.maxFractionDigits)},sl.prototype.outputDefined=function(){return!1},sl.prototype.serialize=function(){var E={};return this.locale&&(E.locale=this.locale.serialize()),this.currency&&(E.currency=this.currency.serialize()),this.minFractionDigits&&(E["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(E["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),E]};var is=function(E){this.type=Dt,this.input=E};is.parse=function(E,B){if(E.length!==2)return B.error("Expected 1 argument, but found "+(E.length-1)+" instead.");var ee=B.parse(E[1],1);return ee?ee.type.kind!=="array"&&ee.type.kind!=="string"&&ee.type.kind!=="value"?B.error("Expected argument of type string or array, but found "+tn(ee.type)+" instead."):new is(ee):null},is.prototype.evaluate=function(E){var B=this.input.evaluate(E);if(typeof B=="string"||Array.isArray(B))return B.length;throw new an("Expected value to be of type string or array, but found "+tn(Kn(B))+" instead.")},is.prototype.eachChild=function(E){E(this.input)},is.prototype.outputDefined=function(){return!1},is.prototype.serialize=function(){var E=["length"];return this.eachChild(function(B){E.push(B.serialize())}),E};var Sl={"==":yc,"!=":xc,">":bc,"<":ol,">=":sf,"<=":of,array:yn,at:Ds,boolean:yn,case:Fs,coalesce:ts,collator:At,format:Dn,image:$n,in:ns,"index-of":zs,interpolate:va,"interpolate-hcl":va,"interpolate-lab":va,length:is,let:Fo,literal:nn,match:ms,number:yn,"number-format":sl,object:yn,slice:rs,step:Er,string:yn,"to-boolean":Qn,"to-color":Qn,"to-number":Qn,"to-string":Qn,var:Mr,within:sr};function ll(E,B){var ee=B[0],ge=B[1],Ee=B[2],ze=B[3];ee=ee.evaluate(E),ge=ge.evaluate(E),Ee=Ee.evaluate(E);var Ge=ze?ze.evaluate(E):1,tt=rr(ee,ge,Ee,Ge);if(tt)throw new an(tt);return new On(ee/255*Ge,ge/255*Ge,Ee/255*Ge,Ge)}function Ql(E,B){return E in B}function ul(E,B){var ee=B[E];return ee===void 0?null:ee}function Bo(E){return{type:E}}function $u(E){return{result:"success",value:E}}function Bs(E){return{result:"error",value:E}}function ys(E){return E["property-type"]==="data-driven"||E["property-type"]==="cross-faded-data-driven"}function xs(E){return!!E.expression&&E.expression.parameters.indexOf("zoom")>-1}function Ns(E){return!!E.expression&&E.expression.interpolated}function ci(E){return E instanceof Number?"number":E instanceof String?"string":E instanceof Boolean?"boolean":Array.isArray(E)?"array":E===null?"null":typeof E}function El(E){return typeof E=="object"&&E!==null&&!Array.isArray(E)}function lf(E){return E}function Mu(E,B){var ee,ge,Ee,ze=B.type==="color",Ge=E.stops&&typeof E.stops[0][0]=="object",tt=Ge||E.property!==void 0,ht=Ge||!tt,Tt=E.type||(Ns(B)?"exponential":"interval");if(ze&&((E=bt({},E)).stops&&(E.stops=E.stops.map(function(yr){return[yr[0],On.parse(yr[1])]})),E.default?E.default=On.parse(E.default):E.default=On.parse(B.default)),E.colorSpace&&E.colorSpace!=="rgb"&&!Vi[E.colorSpace])throw new Error("Unknown color space: "+E.colorSpace);if(Tt==="exponential")ee=Su;else if(Tt==="interval")ee=uf;else if(Tt==="categorical"){ee=_c,ge=Object.create(null);for(var Mt=0,Bt=E.stops;Mt<Bt.length;Mt+=1){var Gt=Bt[Mt];ge[Gt[0]]=Gt[1]}Ee=typeof E.stops[0][0]}else{if(Tt!=="identity")throw new Error('Unknown function type "'+Tt+'"');ee=cf}if(Ge){for(var Vt={},ln=[],cn=0;cn<E.stops.length;cn++){var Mn=E.stops[cn],Tn=Mn[0].zoom;Vt[Tn]===void 0&&(Vt[Tn]={zoom:Tn,type:E.type,property:E.property,default:E.default,stops:[]},ln.push(Tn)),Vt[Tn].stops.push([Mn[0].value,Mn[1]])}for(var Nn=[],jn=0,Zn=ln;jn<Zn.length;jn+=1){var Jn=Zn[jn];Nn.push([Vt[Jn].zoom,Mu(Vt[Jn],B)])}var lr={name:"linear"};return{kind:"composite",interpolationType:lr,interpolationFactor:va.interpolationFactor.bind(void 0,lr),zoomStops:Nn.map(function(yr){return yr[0]}),evaluate:function(yr,Sr){var Pr=yr.zoom;return Su({stops:Nn,base:E.base},B,Pr).evaluate(Pr,Sr)}}}if(ht){var _r=Tt==="exponential"?{name:"exponential",base:E.base!==void 0?E.base:1}:null;return{kind:"camera",interpolationType:_r,interpolationFactor:va.interpolationFactor.bind(void 0,_r),zoomStops:E.stops.map(function(yr){return yr[0]}),evaluate:function(yr){var Sr=yr.zoom;return ee(E,B,Sr,ge,Ee)}}}return{kind:"source",evaluate:function(yr,Sr){var Pr=Sr&&Sr.properties?Sr.properties[E.property]:void 0;return Pr===void 0?Ll(E.default,B.default):ee(E,B,Pr,ge,Ee)}}}function Ll(E,B,ee){return E!==void 0?E:B!==void 0?B:ee!==void 0?ee:void 0}function _c(E,B,ee,ge,Ee){return Ll(typeof ee===Ee?ge[ee]:void 0,E.default,B.default)}function uf(E,B,ee){if(ci(ee)!=="number")return Ll(E.default,B.default);var ge=E.stops.length;if(ge===1||ee<=E.stops[0][0])return E.stops[0][1];if(ee>=E.stops[ge-1][0])return E.stops[ge-1][1];var Ee=kr(E.stops.map(function(ze){return ze[0]}),ee);return E.stops[Ee][1]}function Su(E,B,ee){var ge=E.base!==void 0?E.base:1;if(ci(ee)!=="number")return Ll(E.default,B.default);var Ee=E.stops.length;if(Ee===1||ee<=E.stops[0][0])return E.stops[0][1];if(ee>=E.stops[Ee-1][0])return E.stops[Ee-1][1];var ze=kr(E.stops.map(function(Bt){return Bt[0]}),ee),Ge=function(Bt,Gt,Vt,ln){var cn=ln-Vt,Mn=Bt-Vt;return cn===0?0:Gt===1?Mn/cn:(Math.pow(Gt,Mn)-1)/(Math.pow(Gt,cn)-1)}(ee,ge,E.stops[ze][0],E.stops[ze+1][0]),tt=E.stops[ze][1],ht=E.stops[ze+1][1],Tt=Ii[B.type]||lf;if(E.colorSpace&&E.colorSpace!=="rgb"){var Mt=Vi[E.colorSpace];Tt=function(Bt,Gt){return Mt.reverse(Mt.interpolate(Mt.forward(Bt),Mt.forward(Gt),Ge))}}return typeof tt.evaluate=="function"?{evaluate:function(){for(var Bt=[],Gt=arguments.length;Gt--;)Bt[Gt]=arguments[Gt];var Vt=tt.evaluate.apply(void 0,Bt),ln=ht.evaluate.apply(void 0,Bt);if(Vt!==void 0&&ln!==void 0)return Tt(Vt,ln,Ge)}}:Tt(tt,ht,Ge)}function cf(E,B,ee){return B.type==="color"?ee=On.parse(ee):B.type==="formatted"?ee=Bn.fromString(ee.toString()):B.type==="resolvedImage"?ee=Wn.fromString(ee.toString()):ci(ee)===B.type||B.type==="enum"&&B.values[ee]||(ee=void 0),Ll(ee,E.default,B.default)}xn.register(Sl,{error:[{kind:"error"},[Nt],function(E,B){var ee=B[0];throw new an(ee.evaluate(E))}],typeof:[Nt,[Kt],function(E,B){return tn(Kn(B[0].evaluate(E)))}],"to-rgba":[mn(Dt,4),[un],function(E,B){return B[0].evaluate(E).toArray()}],rgb:[un,[Dt,Dt,Dt],ll],rgba:[un,[Dt,Dt,Dt,Dt],ll],has:{type:Xt,overloads:[[[Nt],function(E,B){return Ql(B[0].evaluate(E),E.properties())}],[[Nt,qt],function(E,B){var ee=B[0],ge=B[1];return Ql(ee.evaluate(E),ge.evaluate(E))}]]},get:{type:Kt,overloads:[[[Nt],function(E,B){return ul(B[0].evaluate(E),E.properties())}],[[Nt,qt],function(E,B){var ee=B[0],ge=B[1];return ul(ee.evaluate(E),ge.evaluate(E))}]]},"feature-state":[Kt,[Nt],function(E,B){return ul(B[0].evaluate(E),E.featureState||{})}],properties:[qt,[],function(E){return E.properties()}],"geometry-type":[Nt,[],function(E){return E.geometryType()}],id:[Kt,[],function(E){return E.id()}],zoom:[Dt,[],function(E){return E.globals.zoom}],"heatmap-density":[Dt,[],function(E){return E.globals.heatmapDensity||0}],"line-progress":[Dt,[],function(E){return E.globals.lineProgress||0}],accumulated:[Kt,[],function(E){return E.globals.accumulated===void 0?null:E.globals.accumulated}],"+":[Dt,Bo(Dt),function(E,B){for(var ee=0,ge=0,Ee=B;ge<Ee.length;ge+=1)ee+=Ee[ge].evaluate(E);return ee}],"*":[Dt,Bo(Dt),function(E,B){for(var ee=1,ge=0,Ee=B;ge<Ee.length;ge+=1)ee*=Ee[ge].evaluate(E);return ee}],"-":{type:Dt,overloads:[[[Dt,Dt],function(E,B){var ee=B[0],ge=B[1];return ee.evaluate(E)-ge.evaluate(E)}],[[Dt],function(E,B){return-B[0].evaluate(E)}]]},"/":[Dt,[Dt,Dt],function(E,B){var ee=B[0],ge=B[1];return ee.evaluate(E)/ge.evaluate(E)}],"%":[Dt,[Dt,Dt],function(E,B){var ee=B[0],ge=B[1];return ee.evaluate(E)%ge.evaluate(E)}],ln2:[Dt,[],function(){return Math.LN2}],pi:[Dt,[],function(){return Math.PI}],e:[Dt,[],function(){return Math.E}],"^":[Dt,[Dt,Dt],function(E,B){var ee=B[0],ge=B[1];return Math.pow(ee.evaluate(E),ge.evaluate(E))}],sqrt:[Dt,[Dt],function(E,B){var ee=B[0];return Math.sqrt(ee.evaluate(E))}],log10:[Dt,[Dt],function(E,B){var ee=B[0];return Math.log(ee.evaluate(E))/Math.LN10}],ln:[Dt,[Dt],function(E,B){var ee=B[0];return Math.log(ee.evaluate(E))}],log2:[Dt,[Dt],function(E,B){var ee=B[0];return Math.log(ee.evaluate(E))/Math.LN2}],sin:[Dt,[Dt],function(E,B){var ee=B[0];return Math.sin(ee.evaluate(E))}],cos:[Dt,[Dt],function(E,B){var ee=B[0];return Math.cos(ee.evaluate(E))}],tan:[Dt,[Dt],function(E,B){var ee=B[0];return Math.tan(ee.evaluate(E))}],asin:[Dt,[Dt],function(E,B){var ee=B[0];return Math.asin(ee.evaluate(E))}],acos:[Dt,[Dt],function(E,B){var ee=B[0];return Math.acos(ee.evaluate(E))}],atan:[Dt,[Dt],function(E,B){var ee=B[0];return Math.atan(ee.evaluate(E))}],min:[Dt,Bo(Dt),function(E,B){return Math.min.apply(Math,B.map(function(ee){return ee.evaluate(E)}))}],max:[Dt,Bo(Dt),function(E,B){return Math.max.apply(Math,B.map(function(ee){return ee.evaluate(E)}))}],abs:[Dt,[Dt],function(E,B){var ee=B[0];return Math.abs(ee.evaluate(E))}],round:[Dt,[Dt],function(E,B){var ee=B[0].evaluate(E);return ee<0?-Math.round(-ee):Math.round(ee)}],floor:[Dt,[Dt],function(E,B){var ee=B[0];return Math.floor(ee.evaluate(E))}],ceil:[Dt,[Dt],function(E,B){var ee=B[0];return Math.ceil(ee.evaluate(E))}],"filter-==":[Xt,[Nt,Kt],function(E,B){var ee=B[0],ge=B[1];return E.properties()[ee.value]===ge.value}],"filter-id-==":[Xt,[Kt],function(E,B){var ee=B[0];return E.id()===ee.value}],"filter-type-==":[Xt,[Nt],function(E,B){var ee=B[0];return E.geometryType()===ee.value}],"filter-<":[Xt,[Nt,Kt],function(E,B){var ee=B[0],ge=B[1],Ee=E.properties()[ee.value],ze=ge.value;return typeof Ee==typeof ze&&Ee<ze}],"filter-id-<":[Xt,[Kt],function(E,B){var ee=B[0],ge=E.id(),Ee=ee.value;return typeof ge==typeof Ee&&ge<Ee}],"filter->":[Xt,[Nt,Kt],function(E,B){var ee=B[0],ge=B[1],Ee=E.properties()[ee.value],ze=ge.value;return typeof Ee==typeof ze&&Ee>ze}],"filter-id->":[Xt,[Kt],function(E,B){var ee=B[0],ge=E.id(),Ee=ee.value;return typeof ge==typeof Ee&&ge>Ee}],"filter-<=":[Xt,[Nt,Kt],function(E,B){var ee=B[0],ge=B[1],Ee=E.properties()[ee.value],ze=ge.value;return typeof Ee==typeof ze&&Ee<=ze}],"filter-id-<=":[Xt,[Kt],function(E,B){var ee=B[0],ge=E.id(),Ee=ee.value;return typeof ge==typeof Ee&&ge<=Ee}],"filter->=":[Xt,[Nt,Kt],function(E,B){var ee=B[0],ge=B[1],Ee=E.properties()[ee.value],ze=ge.value;return typeof Ee==typeof ze&&Ee>=ze}],"filter-id->=":[Xt,[Kt],function(E,B){var ee=B[0],ge=E.id(),Ee=ee.value;return typeof ge==typeof Ee&&ge>=Ee}],"filter-has":[Xt,[Kt],function(E,B){return B[0].value in E.properties()}],"filter-has-id":[Xt,[],function(E){return E.id()!==null&&E.id()!==void 0}],"filter-type-in":[Xt,[mn(Nt)],function(E,B){return B[0].value.indexOf(E.geometryType())>=0}],"filter-id-in":[Xt,[mn(Kt)],function(E,B){return B[0].value.indexOf(E.id())>=0}],"filter-in-small":[Xt,[Nt,mn(Kt)],function(E,B){var ee=B[0];return B[1].value.indexOf(E.properties()[ee.value])>=0}],"filter-in-large":[Xt,[Nt,mn(Kt)],function(E,B){var ee=B[0],ge=B[1];return function(Ee,ze,Ge,tt){for(;Ge<=tt;){var ht=Ge+tt>>1;if(ze[ht]===Ee)return!0;ze[ht]>Ee?tt=ht-1:Ge=ht+1}return!1}(E.properties()[ee.value],ge.value,0,ge.value.length-1)}],all:{type:Xt,overloads:[[[Xt,Xt],function(E,B){var ee=B[0],ge=B[1];return ee.evaluate(E)&&ge.evaluate(E)}],[Bo(Xt),function(E,B){for(var ee=0,ge=B;ee<ge.length;ee+=1)if(!ge[ee].evaluate(E))return!1;return!0}]]},any:{type:Xt,overloads:[[[Xt,Xt],function(E,B){var ee=B[0],ge=B[1];return ee.evaluate(E)||ge.evaluate(E)}],[Bo(Xt),function(E,B){for(var ee=0,ge=B;ee<ge.length;ee+=1)if(ge[ee].evaluate(E))return!0;return!1}]]},"!":[Xt,[Xt],function(E,B){return!B[0].evaluate(E)}],"is-supported-script":[Xt,[Nt],function(E,B){var ee=B[0],ge=E.globals&&E.globals.isSupportedScript;return!ge||ge(ee.evaluate(E))}],upcase:[Nt,[Nt],function(E,B){return B[0].evaluate(E).toUpperCase()}],downcase:[Nt,[Nt],function(E,B){return B[0].evaluate(E).toLowerCase()}],concat:[Nt,Bo(Kt),function(E,B){return B.map(function(ee){return vr(ee.evaluate(E))}).join("")}],"resolved-locale":[Nt,[Ut],function(E,B){return B[0].evaluate(E).resolvedLocale()}]});var js=function(E,B){this.expression=E,this._warningHistory={},this._evaluator=new Qt,this._defaultValue=B?function(ee){return ee.type==="color"&&El(ee.default)?new On(0,0,0,0):ee.type==="color"?On.parse(ee.default)||null:ee.default===void 0?null:ee.default}(B):null,this._enumValues=B&&B.type==="enum"?B.values:null};function cl(E){return Array.isArray(E)&&E.length>0&&typeof E[0]=="string"&&E[0]in Sl}function bs(E,B){var ee=new br(Sl,[],B?function(Ee){var ze={color:un,string:Nt,number:Dt,enum:Nt,boolean:Xt,formatted:Rn,resolvedImage:An};return Ee.type==="array"?mn(ze[Ee.value]||Kt,Ee.length):ze[Ee.type]}(B):void 0),ge=ee.parse(E,void 0,void 0,void 0,B&&B.type==="string"?{typeAnnotation:"coerce"}:void 0);return ge?$u(new js(ge,B)):Bs(ee.errors)}js.prototype.evaluateWithoutErrorHandling=function(E,B,ee,ge,Ee,ze){return this._evaluator.globals=E,this._evaluator.feature=B,this._evaluator.featureState=ee,this._evaluator.canonical=ge,this._evaluator.availableImages=Ee||null,this._evaluator.formattedSection=ze,this.expression.evaluate(this._evaluator)},js.prototype.evaluate=function(E,B,ee,ge,Ee,ze){this._evaluator.globals=E,this._evaluator.feature=B||null,this._evaluator.featureState=ee||null,this._evaluator.canonical=ge,this._evaluator.availableImages=Ee||null,this._evaluator.formattedSection=ze||null;try{var Ge=this.expression.evaluate(this._evaluator);if(Ge==null||typeof Ge=="number"&&Ge!=Ge)return this._defaultValue;if(this._enumValues&&!(Ge in this._enumValues))throw new an("Expected value to be one of "+Object.keys(this._enumValues).map(function(tt){return JSON.stringify(tt)}).join(", ")+", but found "+JSON.stringify(Ge)+" instead.");return Ge}catch(tt){return this._warningHistory[tt.message]||(this._warningHistory[tt.message]=!0,typeof console<"u"&&console.warn(tt.message)),this._defaultValue}};var No=function(E,B){this.kind=E,this._styleExpression=B,this.isStateDependent=E!=="constant"&&!er(B.expression)};No.prototype.evaluateWithoutErrorHandling=function(E,B,ee,ge,Ee,ze){return this._styleExpression.evaluateWithoutErrorHandling(E,B,ee,ge,Ee,ze)},No.prototype.evaluate=function(E,B,ee,ge,Ee,ze){return this._styleExpression.evaluate(E,B,ee,ge,Ee,ze)};var Cl=function(E,B,ee,ge){this.kind=E,this.zoomStops=ee,this._styleExpression=B,this.isStateDependent=E!=="camera"&&!er(B.expression),this.interpolationType=ge};function wc(E,B){if((E=bs(E,B)).result==="error")return E;var ee=E.value.expression,ge=ar(ee);if(!ge&&!ys(B))return Bs([new wt("","data expressions not supported")]);var Ee=mr(ee,["zoom"]);if(!Ee&&!xs(B))return Bs([new wt("","zoom expressions not supported")]);var ze=Eu(ee);if(!ze&&!Ee)return Bs([new wt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(ze instanceof wt)return Bs([ze]);if(ze instanceof va&&!Ns(B))return Bs([new wt("",'"interpolate" expressions cannot be used with this property')]);if(!ze)return $u(new No(ge?"constant":"source",E.value));var Ge=ze instanceof va?ze.interpolation:void 0;return $u(new Cl(ge?"camera":"composite",E.value,ze.labels,Ge))}Cl.prototype.evaluateWithoutErrorHandling=function(E,B,ee,ge,Ee,ze){return this._styleExpression.evaluateWithoutErrorHandling(E,B,ee,ge,Ee,ze)},Cl.prototype.evaluate=function(E,B,ee,ge,Ee,ze){return this._styleExpression.evaluate(E,B,ee,ge,Ee,ze)},Cl.prototype.interpolationFactor=function(E,B,ee){return this.interpolationType?va.interpolationFactor(this.interpolationType,E,B,ee):0};var eu=function(E,B){this._parameters=E,this._specification=B,bt(this,Mu(this._parameters,this._specification))};function Eu(E){var B=null;if(E instanceof Fo)B=Eu(E.result);else if(E instanceof ts)for(var ee=0,ge=E.args;ee<ge.length;ee+=1){var Ee=ge[ee];if(B=Eu(Ee))break}else(E instanceof Er||E instanceof va)&&E.input instanceof xn&&E.input.name==="zoom"&&(B=E);return B instanceof wt||E.eachChild(function(ze){var Ge=Eu(ze);Ge instanceof wt?B=Ge:!B&&Ge?B=new wt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):B&&Ge&&B!==Ge&&(B=new wt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),B}function ho(E){var B=E.key,ee=E.value,ge=E.valueSpec||{},Ee=E.objectElementValidators||{},ze=E.style,Ge=E.styleSpec,tt=[],ht=ci(ee);if(ht!=="object")return[new gt(B,ee,"object expected, "+ht+" found")];for(var Tt in ee){var Mt=Tt.split(".")[0],Bt=ge[Mt]||ge["*"],Gt=void 0;if(Ee[Mt])Gt=Ee[Mt];else if(ge[Mt])Gt=So;else if(Ee["*"])Gt=Ee["*"];else{if(!ge["*"]){tt.push(new gt(B,ee[Tt],'unknown property "'+Tt+'"'));continue}Gt=So}tt=tt.concat(Gt({key:(B&&B+".")+Tt,value:ee[Tt],valueSpec:Bt,style:ze,styleSpec:Ge,object:ee,objectKey:Tt},ee))}for(var Vt in ge)Ee[Vt]||ge[Vt].required&&ge[Vt].default===void 0&&ee[Vt]===void 0&&tt.push(new gt(B,ee,'missing required property "'+Vt+'"'));return tt}function Lu(E){var B=E.value,ee=E.valueSpec,ge=E.style,Ee=E.styleSpec,ze=E.key,Ge=E.arrayElementValidator||So;if(ci(B)!=="array")return[new gt(ze,B,"array expected, "+ci(B)+" found")];if(ee.length&&B.length!==ee.length)return[new gt(ze,B,"array length "+ee.length+" expected, length "+B.length+" found")];if(ee["min-length"]&&B.length<ee["min-length"])return[new gt(ze,B,"array length at least "+ee["min-length"]+" expected, length "+B.length+" found")];var tt={type:ee.value,values:ee.values};Ee.$version<7&&(tt.function=ee.function),ci(ee.value)==="object"&&(tt=ee.value);for(var ht=[],Tt=0;Tt<B.length;Tt++)ht=ht.concat(Ge({array:B,arrayIndex:Tt,value:B[Tt],valueSpec:tt,style:ge,styleSpec:Ee,key:ze+"["+Tt+"]"}));return ht}function Tc(E){var B=E.key,ee=E.value,ge=E.valueSpec,Ee=ci(ee);return Ee==="number"&&ee!=ee&&(Ee="NaN"),Ee!=="number"?[new gt(B,ee,"number expected, "+Ee+" found")]:"minimum"in ge&&ee<ge.minimum?[new gt(B,ee,ee+" is less than the minimum value "+ge.minimum)]:"maximum"in ge&&ee>ge.maximum?[new gt(B,ee,ee+" is greater than the maximum value "+ge.maximum)]:[]}function Pl(E){var B,ee,ge,Ee=E.valueSpec,ze=dt(E.value.type),Ge={},tt=ze!=="categorical"&&E.value.property===void 0,ht=!tt,Tt=ci(E.value.stops)==="array"&&ci(E.value.stops[0])==="array"&&ci(E.value.stops[0][0])==="object",Mt=ho({key:E.key,value:E.value,valueSpec:E.styleSpec.function,style:E.style,styleSpec:E.styleSpec,objectElementValidators:{stops:function(Vt){if(ze==="identity")return[new gt(Vt.key,Vt.value,'identity function may not have a "stops" property')];var ln=[],cn=Vt.value;return ln=ln.concat(Lu({key:Vt.key,value:cn,valueSpec:Vt.valueSpec,style:Vt.style,styleSpec:Vt.styleSpec,arrayElementValidator:Bt})),ci(cn)==="array"&&cn.length===0&&ln.push(new gt(Vt.key,cn,"array must have at least one stop")),ln},default:function(Vt){return So({key:Vt.key,value:Vt.value,valueSpec:Ee,style:Vt.style,styleSpec:Vt.styleSpec})}}});return ze==="identity"&&tt&&Mt.push(new gt(E.key,E.value,'missing required property "property"')),ze==="identity"||E.value.stops||Mt.push(new gt(E.key,E.value,'missing required property "stops"')),ze==="exponential"&&E.valueSpec.expression&&!Ns(E.valueSpec)&&Mt.push(new gt(E.key,E.value,"exponential functions not supported")),E.styleSpec.$version>=8&&(ht&&!ys(E.valueSpec)?Mt.push(new gt(E.key,E.value,"property functions not supported")):tt&&!xs(E.valueSpec)&&Mt.push(new gt(E.key,E.value,"zoom functions not supported"))),ze!=="categorical"&&!Tt||E.value.property!==void 0||Mt.push(new gt(E.key,E.value,'"property" property is required')),Mt;function Bt(Vt){var ln=[],cn=Vt.value,Mn=Vt.key;if(ci(cn)!=="array")return[new gt(Mn,cn,"array expected, "+ci(cn)+" found")];if(cn.length!==2)return[new gt(Mn,cn,"array length 2 expected, length "+cn.length+" found")];if(Tt){if(ci(cn[0])!=="object")return[new gt(Mn,cn,"object expected, "+ci(cn[0])+" found")];if(cn[0].zoom===void 0)return[new gt(Mn,cn,"object stop key must have zoom")];if(cn[0].value===void 0)return[new gt(Mn,cn,"object stop key must have value")];if(ge&&ge>dt(cn[0].zoom))return[new gt(Mn,cn[0].zoom,"stop zoom values must appear in ascending order")];dt(cn[0].zoom)!==ge&&(ge=dt(cn[0].zoom),ee=void 0,Ge={}),ln=ln.concat(ho({key:Mn+"[0]",value:cn[0],valueSpec:{zoom:{}},style:Vt.style,styleSpec:Vt.styleSpec,objectElementValidators:{zoom:Tc,value:Gt}}))}else ln=ln.concat(Gt({key:Mn+"[0]",value:cn[0],valueSpec:{},style:Vt.style,styleSpec:Vt.styleSpec},cn));return cl(Lt(cn[1]))?ln.concat([new gt(Mn+"[1]",cn[1],"expressions are not allowed in function stops.")]):ln.concat(So({key:Mn+"[1]",value:cn[1],valueSpec:Ee,style:Vt.style,styleSpec:Vt.styleSpec}))}function Gt(Vt,ln){var cn=ci(Vt.value),Mn=dt(Vt.value),Tn=Vt.value!==null?Vt.value:ln;if(B){if(cn!==B)return[new gt(Vt.key,Tn,cn+" stop domain type must match previous stop domain type "+B)]}else B=cn;if(cn!=="number"&&cn!=="string"&&cn!=="boolean")return[new gt(Vt.key,Tn,"stop domain value must be a number, string, or boolean")];if(cn!=="number"&&ze!=="categorical"){var Nn="number expected, "+cn+" found";return ys(Ee)&&ze===void 0&&(Nn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new gt(Vt.key,Tn,Nn)]}return ze!=="categorical"||cn!=="number"||isFinite(Mn)&&Math.floor(Mn)===Mn?ze!=="categorical"&&cn==="number"&&ee!==void 0&&Mn<ee?[new gt(Vt.key,Tn,"stop domain values must appear in ascending order")]:(ee=Mn,ze==="categorical"&&Mn in Ge?[new gt(Vt.key,Tn,"stop domain values must be unique")]:(Ge[Mn]=!0,[])):[new gt(Vt.key,Tn,"integer expected, found "+Mn)]}}function fl(E){var B=(E.expressionContext==="property"?wc:bs)(Lt(E.value),E.valueSpec);if(B.result==="error")return B.value.map(function(ge){return new gt(""+E.key+ge.key,E.value,ge.message)});var ee=B.value.expression||B.value._styleExpression.expression;if(E.expressionContext==="property"&&E.propertyKey==="text-font"&&!ee.outputDefined())return[new gt(E.key,E.value,'Invalid data expression for "'+E.propertyKey+'". Output values must be contained as literals within the expression.')];if(E.expressionContext==="property"&&E.propertyType==="layout"&&!er(ee))return[new gt(E.key,E.value,'"feature-state" data expressions are not supported with layout properties.')];if(E.expressionContext==="filter"&&!er(ee))return[new gt(E.key,E.value,'"feature-state" data expressions are not supported with filters.')];if(E.expressionContext&&E.expressionContext.indexOf("cluster")===0){if(!mr(ee,["zoom","feature-state"]))return[new gt(E.key,E.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(E.expressionContext==="cluster-initial"&&!ar(ee))return[new gt(E.key,E.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ol(E){var B=E.key,ee=E.value,ge=E.valueSpec,Ee=[];return Array.isArray(ge.values)?ge.values.indexOf(dt(ee))===-1&&Ee.push(new gt(B,ee,"expected one of ["+ge.values.join(", ")+"], "+JSON.stringify(ee)+" found")):Object.keys(ge.values).indexOf(dt(ee))===-1&&Ee.push(new gt(B,ee,"expected one of ["+Object.keys(ge.values).join(", ")+"], "+JSON.stringify(ee)+" found")),Ee}function hl(E){if(E===!0||E===!1)return!0;if(!Array.isArray(E)||E.length===0)return!1;switch(E[0]){case"has":return E.length>=2&&E[1]!=="$id"&&E[1]!=="$type";case"in":return E.length>=3&&(typeof E[1]!="string"||Array.isArray(E[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return E.length!==3||Array.isArray(E[1])||Array.isArray(E[2]);case"any":case"all":for(var B=0,ee=E.slice(1);B<ee.length;B+=1){var ge=ee[B];if(!hl(ge)&&typeof ge!="boolean")return!1}return!0;default:return!0}}eu.deserialize=function(E){return new eu(E._parameters,E._specification)},eu.serialize=function(E){return{_parameters:E._parameters,_specification:E._specification}};var pl={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function tu(E){if(E==null)return{filter:function(){return!0},needGeometry:!1};hl(E)||(E=Us(E));var B=bs(E,pl);if(B.result==="error")throw new Error(B.value.map(function(ee){return ee.key+": "+ee.message}).join(", "));return{filter:function(ee,ge,Ee){return B.value.evaluate(ee,ge,{},Ee)},needGeometry:Mi(E)}}function Cu(E,B){return E<B?-1:E>B?1:0}function Mi(E){if(!Array.isArray(E))return!1;if(E[0]==="within")return!0;for(var B=1;B<E.length;B++)if(Mi(E[B]))return!0;return!1}function Us(E){if(!E)return!0;var B,ee=E[0];return E.length<=1?ee!=="any":ee==="=="?Fa(E[1],E[2],"=="):ee==="!="?Ti(Fa(E[1],E[2],"==")):ee==="<"||ee===">"||ee==="<="||ee===">="?Fa(E[1],E[2],ee):ee==="any"?(B=E.slice(1),["any"].concat(B.map(Us))):ee==="all"?["all"].concat(E.slice(1).map(Us)):ee==="none"?["all"].concat(E.slice(1).map(Us).map(Ti)):ee==="in"?jo(E[1],E.slice(2)):ee==="!in"?Ti(jo(E[1],E.slice(2))):ee==="has"?mi(E[1]):ee==="!has"?Ti(mi(E[1])):ee!=="within"||E}function Fa(E,B,ee){switch(E){case"$type":return["filter-type-"+ee,B];case"$id":return["filter-id-"+ee,B];default:return["filter-"+ee,E,B]}}function jo(E,B){if(B.length===0)return!1;switch(E){case"$type":return["filter-type-in",["literal",B]];case"$id":return["filter-id-in",["literal",B]];default:return B.length>200&&!B.some(function(ee){return typeof ee!=typeof B[0]})?["filter-in-large",E,["literal",B.sort(Cu)]]:["filter-in-small",E,["literal",B]]}}function mi(E){switch(E){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",E]}}function Ti(E){return["!",E]}function po(E){return hl(Lt(E.value))?fl(bt({},E,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Il(E)}function Il(E){var B=E.value,ee=E.key;if(ci(B)!=="array")return[new gt(ee,B,"array expected, "+ci(B)+" found")];var ge,Ee=E.styleSpec,ze=[];if(B.length<1)return[new gt(ee,B,"filter array must have at least 1 element")];switch(ze=ze.concat(Ol({key:ee+"[0]",value:B[0],valueSpec:Ee.filter_operator,style:E.style,styleSpec:E.styleSpec})),dt(B[0])){case"<":case"<=":case">":case">=":B.length>=2&&dt(B[1])==="$type"&&ze.push(new gt(ee,B,'"$type" cannot be use with operator "'+B[0]+'"'));case"==":case"!=":B.length!==3&&ze.push(new gt(ee,B,'filter array for operator "'+B[0]+'" must have 3 elements'));case"in":case"!in":B.length>=2&&(ge=ci(B[1]))!=="string"&&ze.push(new gt(ee+"[1]",B[1],"string expected, "+ge+" found"));for(var Ge=2;Ge<B.length;Ge++)ge=ci(B[Ge]),dt(B[1])==="$type"?ze=ze.concat(Ol({key:ee+"["+Ge+"]",value:B[Ge],valueSpec:Ee.geometry_type,style:E.style,styleSpec:E.styleSpec})):ge!=="string"&&ge!=="number"&&ge!=="boolean"&&ze.push(new gt(ee+"["+Ge+"]",B[Ge],"string, number, or boolean expected, "+ge+" found"));break;case"any":case"all":case"none":for(var tt=1;tt<B.length;tt++)ze=ze.concat(Il({key:ee+"["+tt+"]",value:B[tt],style:E.style,styleSpec:E.styleSpec}));break;case"has":case"!has":ge=ci(B[1]),B.length!==2?ze.push(new gt(ee,B,'filter array for "'+B[0]+'" operator must have 2 elements')):ge!=="string"&&ze.push(new gt(ee+"[1]",B[1],"string expected, "+ge+" found"));break;case"within":ge=ci(B[1]),B.length!==2?ze.push(new gt(ee,B,'filter array for "'+B[0]+'" operator must have 2 elements')):ge!=="object"&&ze.push(new gt(ee+"[1]",B[1],"object expected, "+ge+" found"))}return ze}function nu(E,B){var ee=E.key,ge=E.style,Ee=E.styleSpec,ze=E.value,Ge=E.objectKey,tt=Ee[B+"_"+E.layerType];if(!tt)return[];var ht=Ge.match(/^(.*)-transition$/);if(B==="paint"&&ht&&tt[ht[1]]&&tt[ht[1]].transition)return So({key:ee,value:ze,valueSpec:Ee.transition,style:ge,styleSpec:Ee});var Tt,Mt=E.valueSpec||tt[Ge];if(!Mt)return[new gt(ee,ze,'unknown property "'+Ge+'"')];if(ci(ze)==="string"&&ys(Mt)&&!Mt.tokens&&(Tt=/^{([^}]+)}$/.exec(ze)))return[new gt(ee,ze,'"'+Ge+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Tt[1])+" }`.")];var Bt=[];return E.layerType==="symbol"&&(Ge==="text-field"&&ge&&!ge.glyphs&&Bt.push(new gt(ee,ze,'use of "text-field" requires a style "glyphs" property')),Ge==="text-font"&&El(Lt(ze))&&dt(ze.type)==="identity"&&Bt.push(new gt(ee,ze,'"text-font" does not support identity functions'))),Bt.concat(So({key:E.key,value:ze,valueSpec:Mt,style:ge,styleSpec:Ee,expressionContext:"property",propertyType:B,propertyKey:Ge}))}function Pu(E){return nu(E,"paint")}function ru(E){return nu(E,"layout")}function iu(E){var B=[],ee=E.value,ge=E.key,Ee=E.style,ze=E.styleSpec;ee.type||ee.ref||B.push(new gt(ge,ee,'either "type" or "ref" is required'));var Ge,tt=dt(ee.type),ht=dt(ee.ref);if(ee.id)for(var Tt=dt(ee.id),Mt=0;Mt<E.arrayIndex;Mt++){var Bt=Ee.layers[Mt];dt(Bt.id)===Tt&&B.push(new gt(ge,ee.id,'duplicate layer id "'+ee.id+'", previously used at line '+Bt.id.__line__))}if("ref"in ee)["type","source","source-layer","filter","layout"].forEach(function(ln){ln in ee&&B.push(new gt(ge,ee[ln],'"'+ln+'" is prohibited for ref layers'))}),Ee.layers.forEach(function(ln){dt(ln.id)===ht&&(Ge=ln)}),Ge?Ge.ref?B.push(new gt(ge,ee.ref,"ref cannot reference another ref layer")):tt=dt(Ge.type):B.push(new gt(ge,ee.ref,'ref layer "'+ht+'" not found'));else if(tt!=="background")if(ee.source){var Gt=Ee.sources&&Ee.sources[ee.source],Vt=Gt&&dt(Gt.type);Gt?Vt==="vector"&&tt==="raster"?B.push(new gt(ge,ee.source,'layer "'+ee.id+'" requires a raster source')):Vt==="raster"&&tt!=="raster"?B.push(new gt(ge,ee.source,'layer "'+ee.id+'" requires a vector source')):Vt!=="vector"||ee["source-layer"]?Vt==="raster-dem"&&tt!=="hillshade"?B.push(new gt(ge,ee.source,"raster-dem source can only be used with layer type 'hillshade'.")):tt!=="line"||!ee.paint||!ee.paint["line-gradient"]||Vt==="geojson"&&Gt.lineMetrics||B.push(new gt(ge,ee,'layer "'+ee.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):B.push(new gt(ge,ee,'layer "'+ee.id+'" must specify a "source-layer"')):B.push(new gt(ge,ee.source,'source "'+ee.source+'" not found'))}else B.push(new gt(ge,ee,'missing required property "source"'));return B=B.concat(ho({key:ge,value:ee,valueSpec:ze.layer,style:E.style,styleSpec:E.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return So({key:ge+".type",value:ee.type,valueSpec:ze.layer.type,style:E.style,styleSpec:E.styleSpec,object:ee,objectKey:"type"})},filter:po,layout:function(ln){return ho({layer:ee,key:ln.key,value:ln.value,style:ln.style,styleSpec:ln.styleSpec,objectElementValidators:{"*":function(cn){return ru(bt({layerType:tt},cn))}}})},paint:function(ln){return ho({layer:ee,key:ln.key,value:ln.value,style:ln.style,styleSpec:ln.styleSpec,objectElementValidators:{"*":function(cn){return Pu(bt({layerType:tt},cn))}}})}}})),B}function Mo(E){var B=E.value,ee=E.key,ge=ci(B);return ge!=="string"?[new gt(ee,B,"string expected, "+ge+" found")]:[]}var Vs={promoteId:function(E){var B=E.key,ee=E.value;if(ci(ee)==="string")return Mo({key:B,value:ee});var ge=[];for(var Ee in ee)ge.push.apply(ge,Mo({key:B+"."+Ee,value:ee[Ee]}));return ge}};function Hs(E){var B=E.value,ee=E.key,ge=E.styleSpec,Ee=E.style;if(!B.type)return[new gt(ee,B,'"type" is required')];var ze,Ge=dt(B.type);switch(Ge){case"vector":case"raster":case"raster-dem":return ho({key:ee,value:B,valueSpec:ge["source_"+Ge.replace("-","_")],style:E.style,styleSpec:ge,objectElementValidators:Vs});case"geojson":if(ze=ho({key:ee,value:B,valueSpec:ge.source_geojson,style:Ee,styleSpec:ge,objectElementValidators:Vs}),B.cluster)for(var tt in B.clusterProperties){var ht=B.clusterProperties[tt],Tt=ht[0],Mt=ht[1],Bt=typeof Tt=="string"?[Tt,["accumulated"],["get",tt]]:Tt;ze.push.apply(ze,fl({key:ee+"."+tt+".map",value:Mt,expressionContext:"cluster-map"})),ze.push.apply(ze,fl({key:ee+"."+tt+".reduce",value:Bt,expressionContext:"cluster-reduce"}))}return ze;case"video":return ho({key:ee,value:B,valueSpec:ge.source_video,style:Ee,styleSpec:ge});case"image":return ho({key:ee,value:B,valueSpec:ge.source_image,style:Ee,styleSpec:ge});case"canvas":return[new gt(ee,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ol({key:ee+".type",value:B.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:Ee,styleSpec:ge})}}function Ha(E){var B=E.value,ee=E.styleSpec,ge=ee.light,Ee=E.style,ze=[],Ge=ci(B);if(B===void 0)return ze;if(Ge!=="object")return ze.concat([new gt("light",B,"object expected, "+Ge+" found")]);for(var tt in B){var ht=tt.match(/^(.*)-transition$/);ze=ht&&ge[ht[1]]&&ge[ht[1]].transition?ze.concat(So({key:tt,value:B[tt],valueSpec:ee.transition,style:Ee,styleSpec:ee})):ge[tt]?ze.concat(So({key:tt,value:B[tt],valueSpec:ge[tt],style:Ee,styleSpec:ee})):ze.concat([new gt(tt,B[tt],'unknown property "'+tt+'"')])}return ze}var au={"*":function(){return[]},array:Lu,boolean:function(E){var B=E.value,ee=E.key,ge=ci(B);return ge!=="boolean"?[new gt(ee,B,"boolean expected, "+ge+" found")]:[]},number:Tc,color:function(E){var B=E.key,ee=E.value,ge=ci(ee);return ge!=="string"?[new gt(B,ee,"color expected, "+ge+" found")]:Pn(ee)===null?[new gt(B,ee,'color expected, "'+ee+'" found')]:[]},constants:yt,enum:Ol,filter:po,function:Pl,layer:iu,object:ho,source:Hs,light:Ha,string:Mo,formatted:function(E){return Mo(E).length===0?[]:fl(E)},resolvedImage:function(E){return Mo(E).length===0?[]:fl(E)}};function So(E){var B=E.value,ee=E.valueSpec,ge=E.styleSpec;return ee.expression&&El(dt(B))?Pl(E):ee.expression&&cl(Lt(B))?fl(E):ee.type&&au[ee.type]?au[ee.type](E):ho(bt({},E,{valueSpec:ee.type?ge[ee.type]:ee}))}function ma(E){var B=E.value,ee=E.key,ge=Mo(E);return ge.length||(B.indexOf("{fontstack}")===-1&&ge.push(new gt(ee,B,'"glyphs" url must include a "{fontstack}" token')),B.indexOf("{range}")===-1&&ge.push(new gt(ee,B,'"glyphs" url must include a "{range}" token'))),ge}function Ma(E,B){B===void 0&&(B=Xe);var ee=[];return ee=ee.concat(So({key:"",value:E,valueSpec:B.$root,styleSpec:B,style:E,objectElementValidators:{glyphs:ma,"*":function(){return[]}}})),E.constants&&(ee=ee.concat(yt({key:"constants",value:E.constants,style:E,styleSpec:B}))),Ri(ee)}function Ri(E){return[].concat(E).sort(function(B,ee){return B.line-ee.line})}function Sa(E){return function(){for(var B=[],ee=arguments.length;ee--;)B[ee]=arguments[ee];return Ri(E.apply(this,B))}}Ma.source=Sa(Hs),Ma.light=Sa(Ha),Ma.layer=Sa(iu),Ma.filter=Sa(po),Ma.paintProperty=Sa(Pu),Ma.layoutProperty=Sa(ru);var as=Ma,dl=as.light,Uo=as.paintProperty,qs=as.layoutProperty;function Za(E,B){var ee=!1;if(B&&B.length)for(var ge=0,Ee=B;ge<Ee.length;ge+=1){var ze=Ee[ge];E.fire(new Ve(new Error(ze.message))),ee=!0}return ee}var vl=Eo,_s=3;function Eo(E,B,ee){var ge=this.cells=[];if(E instanceof ArrayBuffer){this.arrayBuffer=E;var Ee=new Int32Array(this.arrayBuffer);E=Ee[0],B=Ee[1],ee=Ee[2],this.d=B+2*ee;for(var ze=0;ze<this.d*this.d;ze++){var Ge=Ee[_s+ze],tt=Ee[_s+ze+1];ge.push(Ge===tt?null:Ee.subarray(Ge,tt))}var ht=Ee[_s+ge.length],Tt=Ee[_s+ge.length+1];this.keys=Ee.subarray(ht,Tt),this.bboxes=Ee.subarray(Tt),this.insert=this._insertReadonly}else{this.d=B+2*ee;for(var Mt=0;Mt<this.d*this.d;Mt++)ge.push([]);this.keys=[],this.bboxes=[]}this.n=B,this.extent=E,this.padding=ee,this.scale=B/E,this.uid=0;var Bt=ee/B*E;this.min=-Bt,this.max=E+Bt}Eo.prototype.insert=function(E,B,ee,ge,Ee){this._forEachCell(B,ee,ge,Ee,this._insertCell,this.uid++),this.keys.push(E),this.bboxes.push(B),this.bboxes.push(ee),this.bboxes.push(ge),this.bboxes.push(Ee)},Eo.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Eo.prototype._insertCell=function(E,B,ee,ge,Ee,ze){this.cells[Ee].push(ze)},Eo.prototype.query=function(E,B,ee,ge,Ee){var ze=this.min,Ge=this.max;if(E<=ze&&B<=ze&&Ge<=ee&&Ge<=ge&&!Ee)return Array.prototype.slice.call(this.keys);var tt=[];return this._forEachCell(E,B,ee,ge,this._queryCell,tt,{},Ee),tt},Eo.prototype._queryCell=function(E,B,ee,ge,Ee,ze,Ge,tt){var ht=this.cells[Ee];if(ht!==null)for(var Tt=this.keys,Mt=this.bboxes,Bt=0;Bt<ht.length;Bt++){var Gt=ht[Bt];if(Ge[Gt]===void 0){var Vt=4*Gt;(tt?tt(Mt[Vt+0],Mt[Vt+1],Mt[Vt+2],Mt[Vt+3]):E<=Mt[Vt+2]&&B<=Mt[Vt+3]&&ee>=Mt[Vt+0]&&ge>=Mt[Vt+1])?(Ge[Gt]=!0,ze.push(Tt[Gt])):Ge[Gt]=!1}}},Eo.prototype._forEachCell=function(E,B,ee,ge,Ee,ze,Ge,tt){for(var ht=this._convertToCellCoord(E),Tt=this._convertToCellCoord(B),Mt=this._convertToCellCoord(ee),Bt=this._convertToCellCoord(ge),Gt=ht;Gt<=Mt;Gt++)for(var Vt=Tt;Vt<=Bt;Vt++){var ln=this.d*Vt+Gt;if((!tt||tt(this._convertFromCellCoord(Gt),this._convertFromCellCoord(Vt),this._convertFromCellCoord(Gt+1),this._convertFromCellCoord(Vt+1)))&&Ee.call(this,E,B,ee,ge,ln,ze,Ge,tt))return}},Eo.prototype._convertFromCellCoord=function(E){return(E-this.padding)/this.scale},Eo.prototype._convertToCellCoord=function(E){return Math.max(0,Math.min(this.d-1,Math.floor(E*this.scale)+this.padding))},Eo.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var E=this.cells,B=_s+this.cells.length+1+1,ee=0,ge=0;ge<this.cells.length;ge++)ee+=this.cells[ge].length;var Ee=new Int32Array(B+ee+this.keys.length+this.bboxes.length);Ee[0]=this.extent,Ee[1]=this.n,Ee[2]=this.padding;for(var ze=B,Ge=0;Ge<E.length;Ge++){var tt=E[Ge];Ee[_s+Ge]=ze,Ee.set(tt,ze),ze+=tt.length}return Ee[_s+E.length]=ze,Ee.set(this.keys,ze),ze+=this.keys.length,Ee[_s+E.length+1]=ze,Ee.set(this.bboxes,ze),ze+=this.bboxes.length,Ee.buffer};var Lo=a.ImageData,zi=a.ImageBitmap,Vo={};function Or(E,B,ee){ee===void 0&&(ee={}),Object.defineProperty(B,"_classRegistryKey",{value:E,writeable:!1}),Vo[E]={klass:B,omit:ee.omit||[],shallow:ee.shallow||[]}}for(var ou in Or("Object",Object),vl.serialize=function(E,B){var ee=E.toArrayBuffer();return B&&B.push(ee),{buffer:ee}},vl.deserialize=function(E){return new vl(E.buffer)},Or("Grid",vl),Or("Color",On),Or("Error",Error),Or("ResolvedImage",Wn),Or("StylePropertyFunction",eu),Or("StyleExpression",js,{omit:["_evaluator"]}),Or("ZoomDependentExpression",Cl),Or("ZoomConstantExpression",No),Or("CompoundExpression",xn,{omit:["_evaluate"]}),Sl)Sl[ou]._classRegistryKey||Or("Expression_"+ou,Sl[ou]);function Zu(E){return E&&typeof ArrayBuffer<"u"&&(E instanceof ArrayBuffer||E.constructor&&E.constructor.name==="ArrayBuffer")}function Gs(E){return zi&&E instanceof zi}function Ws(E,B){if(E==null||typeof E=="boolean"||typeof E=="number"||typeof E=="string"||E instanceof Boolean||E instanceof Number||E instanceof String||E instanceof Date||E instanceof RegExp)return E;if(Zu(E)||Gs(E))return B&&B.push(E),E;if(ArrayBuffer.isView(E)){var ee=E;return B&&B.push(ee.buffer),ee}if(E instanceof Lo)return B&&B.push(E.data.buffer),E;if(Array.isArray(E)){for(var ge=[],Ee=0,ze=E;Ee<ze.length;Ee+=1){var Ge=ze[Ee];ge.push(Ws(Ge,B))}return ge}if(typeof E=="object"){var tt=E.constructor,ht=tt._classRegistryKey;if(!ht)throw new Error("can't serialize object of unregistered class");var Tt=tt.serialize?tt.serialize(E,B):{};if(!tt.serialize){for(var Mt in E)if(E.hasOwnProperty(Mt)&&!(Vo[ht].omit.indexOf(Mt)>=0)){var Bt=E[Mt];Tt[Mt]=Vo[ht].shallow.indexOf(Mt)>=0?Bt:Ws(Bt,B)}E instanceof Error&&(Tt.message=E.message)}if(Tt.$name)throw new Error("$name property is reserved for worker serialization logic.");return ht!=="Object"&&(Tt.$name=ht),Tt}throw new Error("can't serialize object of type "+typeof E)}function ml(E){if(E==null||typeof E=="boolean"||typeof E=="number"||typeof E=="string"||E instanceof Boolean||E instanceof Number||E instanceof String||E instanceof Date||E instanceof RegExp||Zu(E)||Gs(E)||ArrayBuffer.isView(E)||E instanceof Lo)return E;if(Array.isArray(E))return E.map(ml);if(typeof E=="object"){var B=E.$name||"Object",ee=Vo[B].klass;if(!ee)throw new Error("can't deserialize unregistered class "+B);if(ee.deserialize)return ee.deserialize(E);for(var ge=Object.create(ee.prototype),Ee=0,ze=Object.keys(E);Ee<ze.length;Ee+=1){var Ge=ze[Ee];if(Ge!=="$name"){var tt=E[Ge];ge[Ge]=Vo[B].shallow.indexOf(Ge)>=0?tt:ml(tt)}}return ge}throw new Error("can't deserialize object of type "+typeof E)}var Rl=function(){this.first=!0};Rl.prototype.update=function(E,B){var ee=Math.floor(E);return this.first?(this.first=!1,this.lastIntegerZoom=ee,this.lastIntegerZoomTime=0,this.lastZoom=E,this.lastFloorZoom=ee,!0):(this.lastFloorZoom>ee?(this.lastIntegerZoom=ee+1,this.lastIntegerZoomTime=B):this.lastFloorZoom<ee&&(this.lastIntegerZoom=ee,this.lastIntegerZoomTime=B),E!==this.lastZoom&&(this.lastZoom=E,this.lastFloorZoom=ee,!0))};var Tr={"Latin-1 Supplement":function(E){return E>=128&&E<=255},Arabic:function(E){return E>=1536&&E<=1791},"Arabic Supplement":function(E){return E>=1872&&E<=1919},"Arabic Extended-A":function(E){return E>=2208&&E<=2303},"Hangul Jamo":function(E){return E>=4352&&E<=4607},"Unified Canadian Aboriginal Syllabics":function(E){return E>=5120&&E<=5759},Khmer:function(E){return E>=6016&&E<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(E){return E>=6320&&E<=6399},"General Punctuation":function(E){return E>=8192&&E<=8303},"Letterlike Symbols":function(E){return E>=8448&&E<=8527},"Number Forms":function(E){return E>=8528&&E<=8591},"Miscellaneous Technical":function(E){return E>=8960&&E<=9215},"Control Pictures":function(E){return E>=9216&&E<=9279},"Optical Character Recognition":function(E){return E>=9280&&E<=9311},"Enclosed Alphanumerics":function(E){return E>=9312&&E<=9471},"Geometric Shapes":function(E){return E>=9632&&E<=9727},"Miscellaneous Symbols":function(E){return E>=9728&&E<=9983},"Miscellaneous Symbols and Arrows":function(E){return E>=11008&&E<=11263},"CJK Radicals Supplement":function(E){return E>=11904&&E<=12031},"Kangxi Radicals":function(E){return E>=12032&&E<=12255},"Ideographic Description Characters":function(E){return E>=12272&&E<=12287},"CJK Symbols and Punctuation":function(E){return E>=12288&&E<=12351},Hiragana:function(E){return E>=12352&&E<=12447},Katakana:function(E){return E>=12448&&E<=12543},Bopomofo:function(E){return E>=12544&&E<=12591},"Hangul Compatibility Jamo":function(E){return E>=12592&&E<=12687},Kanbun:function(E){return E>=12688&&E<=12703},"Bopomofo Extended":function(E){return E>=12704&&E<=12735},"CJK Strokes":function(E){return E>=12736&&E<=12783},"Katakana Phonetic Extensions":function(E){return E>=12784&&E<=12799},"Enclosed CJK Letters and Months":function(E){return E>=12800&&E<=13055},"CJK Compatibility":function(E){return E>=13056&&E<=13311},"CJK Unified Ideographs Extension A":function(E){return E>=13312&&E<=19903},"Yijing Hexagram Symbols":function(E){return E>=19904&&E<=19967},"CJK Unified Ideographs":function(E){return E>=19968&&E<=40959},"Yi Syllables":function(E){return E>=40960&&E<=42127},"Yi Radicals":function(E){return E>=42128&&E<=42191},"Hangul Jamo Extended-A":function(E){return E>=43360&&E<=43391},"Hangul Syllables":function(E){return E>=44032&&E<=55215},"Hangul Jamo Extended-B":function(E){return E>=55216&&E<=55295},"Private Use Area":function(E){return E>=57344&&E<=63743},"CJK Compatibility Ideographs":function(E){return E>=63744&&E<=64255},"Arabic Presentation Forms-A":function(E){return E>=64336&&E<=65023},"Vertical Forms":function(E){return E>=65040&&E<=65055},"CJK Compatibility Forms":function(E){return E>=65072&&E<=65103},"Small Form Variants":function(E){return E>=65104&&E<=65135},"Arabic Presentation Forms-B":function(E){return E>=65136&&E<=65279},"Halfwidth and Fullwidth Forms":function(E){return E>=65280&&E<=65519}};function su(E){for(var B=0,ee=E;B<ee.length;B+=1)if(ws(ee[B].charCodeAt(0)))return!0;return!1}function ws(E){return!(E!==746&&E!==747&&(E<4352||!(Tr["Bopomofo Extended"](E)||Tr.Bopomofo(E)||Tr["CJK Compatibility Forms"](E)&&!(E>=65097&&E<=65103)||Tr["CJK Compatibility Ideographs"](E)||Tr["CJK Compatibility"](E)||Tr["CJK Radicals Supplement"](E)||Tr["CJK Strokes"](E)||!(!Tr["CJK Symbols and Punctuation"](E)||E>=12296&&E<=12305||E>=12308&&E<=12319||E===12336)||Tr["CJK Unified Ideographs Extension A"](E)||Tr["CJK Unified Ideographs"](E)||Tr["Enclosed CJK Letters and Months"](E)||Tr["Hangul Compatibility Jamo"](E)||Tr["Hangul Jamo Extended-A"](E)||Tr["Hangul Jamo Extended-B"](E)||Tr["Hangul Jamo"](E)||Tr["Hangul Syllables"](E)||Tr.Hiragana(E)||Tr["Ideographic Description Characters"](E)||Tr.Kanbun(E)||Tr["Kangxi Radicals"](E)||Tr["Katakana Phonetic Extensions"](E)||Tr.Katakana(E)&&E!==12540||!(!Tr["Halfwidth and Fullwidth Forms"](E)||E===65288||E===65289||E===65293||E>=65306&&E<=65310||E===65339||E===65341||E===65343||E>=65371&&E<=65503||E===65507||E>=65512&&E<=65519)||!(!Tr["Small Form Variants"](E)||E>=65112&&E<=65118||E>=65123&&E<=65126)||Tr["Unified Canadian Aboriginal Syllabics"](E)||Tr["Unified Canadian Aboriginal Syllabics Extended"](E)||Tr["Vertical Forms"](E)||Tr["Yijing Hexagram Symbols"](E)||Tr["Yi Syllables"](E)||Tr["Yi Radicals"](E))))}function ya(E){return!(ws(E)||function(B){return!!(Tr["Latin-1 Supplement"](B)&&(B===167||B===169||B===174||B===177||B===188||B===189||B===190||B===215||B===247)||Tr["General Punctuation"](B)&&(B===8214||B===8224||B===8225||B===8240||B===8241||B===8251||B===8252||B===8258||B===8263||B===8264||B===8265||B===8273)||Tr["Letterlike Symbols"](B)||Tr["Number Forms"](B)||Tr["Miscellaneous Technical"](B)&&(B>=8960&&B<=8967||B>=8972&&B<=8991||B>=8996&&B<=9e3||B===9003||B>=9085&&B<=9114||B>=9150&&B<=9165||B===9167||B>=9169&&B<=9179||B>=9186&&B<=9215)||Tr["Control Pictures"](B)&&B!==9251||Tr["Optical Character Recognition"](B)||Tr["Enclosed Alphanumerics"](B)||Tr["Geometric Shapes"](B)||Tr["Miscellaneous Symbols"](B)&&!(B>=9754&&B<=9759)||Tr["Miscellaneous Symbols and Arrows"](B)&&(B>=11026&&B<=11055||B>=11088&&B<=11097||B>=11192&&B<=11243)||Tr["CJK Symbols and Punctuation"](B)||Tr.Katakana(B)||Tr["Private Use Area"](B)||Tr["CJK Compatibility Forms"](B)||Tr["Small Form Variants"](B)||Tr["Halfwidth and Fullwidth Forms"](B)||B===8734||B===8756||B===8757||B>=9984&&B<=10087||B>=10102&&B<=10131||B===65532||B===65533)}(E))}function Ys(E){return Tr.Arabic(E)||Tr["Arabic Supplement"](E)||Tr["Arabic Extended-A"](E)||Tr["Arabic Presentation Forms-A"](E)||Tr["Arabic Presentation Forms-B"](E)}function Ho(E){return E>=1424&&E<=2303||Tr["Arabic Presentation Forms-A"](E)||Tr["Arabic Presentation Forms-B"](E)}function Co(E,B){return!(!B&&Ho(E)||E>=2304&&E<=3583||E>=3840&&E<=4255||Tr.Khmer(E))}function qa(E){for(var B=0,ee=E;B<ee.length;B+=1)if(Ho(ee[B].charCodeAt(0)))return!0;return!1}var os="deferred",Po="loading",Ts="loaded",lu="error",$s=null,gi="unavailable",Ea=null,Xa=function(E){E&&typeof E=="string"&&E.indexOf("NetworkError")>-1&&(gi=lu),$s&&$s(E)};function ss(){Ka.fire(new Ue("pluginStateChange",{pluginStatus:gi,pluginURL:Ea}))}var Ka=new st,Dl=function(){return gi},zl=function(){if(gi!==os||!Ea)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");gi=Po,ss(),Ea&&Ft({url:Ea},function(E){E?Xa(E):(gi=Ts,ss())})},Ja={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return gi===Ts||Ja.applyArabicShaping!=null},isLoading:function(){return gi===Po},setState:function(E){gi=E.pluginStatus,Ea=E.pluginURL},isParsed:function(){return Ja.applyArabicShaping!=null&&Ja.processBidirectionalText!=null&&Ja.processStyledBidirectionalText!=null},getPluginURL:function(){return Ea}},pi=function(E,B){this.zoom=E,B?(this.now=B.now,this.fadeDuration=B.fadeDuration,this.zoomHistory=B.zoomHistory,this.transition=B.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Rl,this.transition={})};pi.prototype.isSupportedScript=function(E){return function(B,ee){for(var ge=0,Ee=B;ge<Ee.length;ge+=1)if(!Co(Ee[ge].charCodeAt(0),ee))return!1;return!0}(E,Ja.isLoaded())},pi.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},pi.prototype.getCrossfadeParameters=function(){var E=this.zoom,B=E-Math.floor(E),ee=this.crossFadingFactor();return E>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:B+(1-B)*ee}:{fromScale:.5,toScale:1,t:1-(1-ee)*B}};var ls=function(E,B){this.property=E,this.value=B,this.expression=function(ee,ge){if(El(ee))return new eu(ee,ge);if(cl(ee)){var Ee=wc(ee,ge);if(Ee.result==="error")throw new Error(Ee.value.map(function(Ge){return Ge.key+": "+Ge.message}).join(", "));return Ee.value}var ze=ee;return typeof ee=="string"&&ge.type==="color"&&(ze=On.parse(ee)),{kind:"constant",evaluate:function(){return ze}}}(B===void 0?E.specification.default:B,E.specification)};ls.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},ls.prototype.possiblyEvaluate=function(E,B,ee){return this.property.possiblyEvaluate(this,E,B,ee)};var yl=function(E){this.property=E,this.value=new ls(E,void 0)};yl.prototype.transitioned=function(E,B){return new Fl(this.property,this.value,B,f({},E.transition,this.transition),E.now)},yl.prototype.untransitioned=function(){return new Fl(this.property,this.value,null,{},0)};var qo=function(E){this._properties=E,this._values=Object.create(E.defaultTransitionablePropertyValues)};qo.prototype.getValue=function(E){return L(this._values[E].value.value)},qo.prototype.setValue=function(E,B){this._values.hasOwnProperty(E)||(this._values[E]=new yl(this._values[E].property)),this._values[E].value=new ls(this._values[E].property,B===null?void 0:L(B))},qo.prototype.getTransition=function(E){return L(this._values[E].transition)},qo.prototype.setTransition=function(E,B){this._values.hasOwnProperty(E)||(this._values[E]=new yl(this._values[E].property)),this._values[E].transition=L(B)||void 0},qo.prototype.serialize=function(){for(var E={},B=0,ee=Object.keys(this._values);B<ee.length;B+=1){var ge=ee[B],Ee=this.getValue(ge);Ee!==void 0&&(E[ge]=Ee);var ze=this.getTransition(ge);ze!==void 0&&(E[ge+"-transition"]=ze)}return E},qo.prototype.transitioned=function(E,B){for(var ee=new Bl(this._properties),ge=0,Ee=Object.keys(this._values);ge<Ee.length;ge+=1){var ze=Ee[ge];ee._values[ze]=this._values[ze].transitioned(E,B._values[ze])}return ee},qo.prototype.untransitioned=function(){for(var E=new Bl(this._properties),B=0,ee=Object.keys(this._values);B<ee.length;B+=1){var ge=ee[B];E._values[ge]=this._values[ge].untransitioned()}return E};var Fl=function(E,B,ee,ge,Ee){this.property=E,this.value=B,this.begin=Ee+ge.delay||0,this.end=this.begin+ge.duration||0,E.specification.transition&&(ge.delay||ge.duration)&&(this.prior=ee)};Fl.prototype.possiblyEvaluate=function(E,B,ee){var ge=E.now||0,Ee=this.value.possiblyEvaluate(E,B,ee),ze=this.prior;if(ze){if(ge>this.end)return this.prior=null,Ee;if(this.value.isDataDriven())return this.prior=null,Ee;if(ge<this.begin)return ze.possiblyEvaluate(E,B,ee);var Ge=(ge-this.begin)/(this.end-this.begin);return this.property.interpolate(ze.possiblyEvaluate(E,B,ee),Ee,function(tt){if(tt<=0)return 0;if(tt>=1)return 1;var ht=tt*tt,Tt=ht*tt;return 4*(tt<.5?Tt:3*(tt-ht)+Tt-.75)}(Ge))}return Ee};var Bl=function(E){this._properties=E,this._values=Object.create(E.defaultTransitioningPropertyValues)};Bl.prototype.possiblyEvaluate=function(E,B,ee){for(var ge=new xl(this._properties),Ee=0,ze=Object.keys(this._values);Ee<ze.length;Ee+=1){var Ge=ze[Ee];ge._values[Ge]=this._values[Ge].possiblyEvaluate(E,B,ee)}return ge},Bl.prototype.hasTransition=function(){for(var E=0,B=Object.keys(this._values);E<B.length;E+=1){var ee=B[E];if(this._values[ee].prior)return!0}return!1};var Go=function(E){this._properties=E,this._values=Object.create(E.defaultPropertyValues)};Go.prototype.getValue=function(E){return L(this._values[E].value)},Go.prototype.setValue=function(E,B){this._values[E]=new ls(this._values[E].property,B===null?void 0:L(B))},Go.prototype.serialize=function(){for(var E={},B=0,ee=Object.keys(this._values);B<ee.length;B+=1){var ge=ee[B],Ee=this.getValue(ge);Ee!==void 0&&(E[ge]=Ee)}return E},Go.prototype.possiblyEvaluate=function(E,B,ee){for(var ge=new xl(this._properties),Ee=0,ze=Object.keys(this._values);Ee<ze.length;Ee+=1){var Ge=ze[Ee];ge._values[Ge]=this._values[Ge].possiblyEvaluate(E,B,ee)}return ge};var Fi=function(E,B,ee){this.property=E,this.value=B,this.parameters=ee};Fi.prototype.isConstant=function(){return this.value.kind==="constant"},Fi.prototype.constantOr=function(E){return this.value.kind==="constant"?this.value.value:E},Fi.prototype.evaluate=function(E,B,ee,ge){return this.property.evaluate(this.value,this.parameters,E,B,ee,ge)};var xl=function(E){this._properties=E,this._values=Object.create(E.defaultPossiblyEvaluatedValues)};xl.prototype.get=function(E){return this._values[E]};var Dr=function(E){this.specification=E};Dr.prototype.possiblyEvaluate=function(E,B){return E.expression.evaluate(B)},Dr.prototype.interpolate=function(E,B,ee){var ge=Ii[this.specification.type];return ge?ge(E,B,ee):E};var qr=function(E,B){this.specification=E,this.overrides=B};qr.prototype.possiblyEvaluate=function(E,B,ee,ge){return E.expression.kind==="constant"||E.expression.kind==="camera"?new Fi(this,{kind:"constant",value:E.expression.evaluate(B,null,{},ee,ge)},B):new Fi(this,E.expression,B)},qr.prototype.interpolate=function(E,B,ee){if(E.value.kind!=="constant"||B.value.kind!=="constant")return E;if(E.value.value===void 0||B.value.value===void 0)return new Fi(this,{kind:"constant",value:void 0},E.parameters);var ge=Ii[this.specification.type];return ge?new Fi(this,{kind:"constant",value:ge(E.value.value,B.value.value,ee)},E.parameters):E},qr.prototype.evaluate=function(E,B,ee,ge,Ee,ze){return E.kind==="constant"?E.value:E.evaluate(B,ee,ge,Ee,ze)};var go=function(E){function B(){E.apply(this,arguments)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype.possiblyEvaluate=function(ee,ge,Ee,ze){if(ee.value===void 0)return new Fi(this,{kind:"constant",value:void 0},ge);if(ee.expression.kind==="constant"){var Ge=ee.expression.evaluate(ge,null,{},Ee,ze),tt=ee.property.specification.type==="resolvedImage"&&typeof Ge!="string"?Ge.name:Ge,ht=this._calculate(tt,tt,tt,ge);return new Fi(this,{kind:"constant",value:ht},ge)}if(ee.expression.kind==="camera"){var Tt=this._calculate(ee.expression.evaluate({zoom:ge.zoom-1}),ee.expression.evaluate({zoom:ge.zoom}),ee.expression.evaluate({zoom:ge.zoom+1}),ge);return new Fi(this,{kind:"constant",value:Tt},ge)}return new Fi(this,ee.expression,ge)},B.prototype.evaluate=function(ee,ge,Ee,ze,Ge,tt){if(ee.kind==="source"){var ht=ee.evaluate(ge,Ee,ze,Ge,tt);return this._calculate(ht,ht,ht,ge)}return ee.kind==="composite"?this._calculate(ee.evaluate({zoom:Math.floor(ge.zoom)-1},Ee,ze),ee.evaluate({zoom:Math.floor(ge.zoom)},Ee,ze),ee.evaluate({zoom:Math.floor(ge.zoom)+1},Ee,ze),ge):ee.value},B.prototype._calculate=function(ee,ge,Ee,ze){return ze.zoom>ze.zoomHistory.lastIntegerZoom?{from:ee,to:ge}:{from:Ee,to:ge}},B.prototype.interpolate=function(ee){return ee},B}(qr),us=function(E){this.specification=E};us.prototype.possiblyEvaluate=function(E,B,ee,ge){if(E.value!==void 0){if(E.expression.kind==="constant"){var Ee=E.expression.evaluate(B,null,{},ee,ge);return this._calculate(Ee,Ee,Ee,B)}return this._calculate(E.expression.evaluate(new pi(Math.floor(B.zoom-1),B)),E.expression.evaluate(new pi(Math.floor(B.zoom),B)),E.expression.evaluate(new pi(Math.floor(B.zoom+1),B)),B)}},us.prototype._calculate=function(E,B,ee,ge){return ge.zoom>ge.zoomHistory.lastIntegerZoom?{from:E,to:B}:{from:ee,to:B}},us.prototype.interpolate=function(E){return E};var ks=function(E){this.specification=E};ks.prototype.possiblyEvaluate=function(E,B,ee,ge){return!!E.expression.evaluate(B,null,{},ee,ge)},ks.prototype.interpolate=function(){return!1};var ua=function(E){for(var B in this.properties=E,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],E){var ee=E[B];ee.specification.overridable&&this.overridableProperties.push(B);var ge=this.defaultPropertyValues[B]=new ls(ee,void 0),Ee=this.defaultTransitionablePropertyValues[B]=new yl(ee);this.defaultTransitioningPropertyValues[B]=Ee.untransitioned(),this.defaultPossiblyEvaluatedValues[B]=ge.possiblyEvaluate({})}};Or("DataDrivenProperty",qr),Or("DataConstantProperty",Dr),Or("CrossFadedDataDrivenProperty",go),Or("CrossFadedProperty",us),Or("ColorRampProperty",ks);var cs="-transition",Si=function(E){function B(ee,ge){if(E.call(this),this.id=ee.id,this.type=ee.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},ee.type!=="custom"&&(this.metadata=ee.metadata,this.minzoom=ee.minzoom,this.maxzoom=ee.maxzoom,ee.type!=="background"&&(this.source=ee.source,this.sourceLayer=ee["source-layer"],this.filter=ee.filter),ge.layout&&(this._unevaluatedLayout=new Go(ge.layout)),ge.paint)){for(var Ee in this._transitionablePaint=new qo(ge.paint),ee.paint)this.setPaintProperty(Ee,ee.paint[Ee],{validate:!1});for(var ze in ee.layout)this.setLayoutProperty(ze,ee.layout[ze],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new xl(ge.paint)}}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},B.prototype.getLayoutProperty=function(ee){return ee==="visibility"?this.visibility:this._unevaluatedLayout.getValue(ee)},B.prototype.setLayoutProperty=function(ee,ge,Ee){if(Ee===void 0&&(Ee={}),ge!=null){var ze="layers."+this.id+".layout."+ee;if(this._validate(qs,ze,ee,ge,Ee))return}ee!=="visibility"?this._unevaluatedLayout.setValue(ee,ge):this.visibility=ge},B.prototype.getPaintProperty=function(ee){return _(ee,cs)?this._transitionablePaint.getTransition(ee.slice(0,-11)):this._transitionablePaint.getValue(ee)},B.prototype.setPaintProperty=function(ee,ge,Ee){if(Ee===void 0&&(Ee={}),ge!=null){var ze="layers."+this.id+".paint."+ee;if(this._validate(Uo,ze,ee,ge,Ee))return!1}if(_(ee,cs))return this._transitionablePaint.setTransition(ee.slice(0,-11),ge||void 0),!1;var Ge=this._transitionablePaint._values[ee],tt=Ge.property.specification["property-type"]==="cross-faded-data-driven",ht=Ge.value.isDataDriven(),Tt=Ge.value;this._transitionablePaint.setValue(ee,ge),this._handleSpecialPaintPropertyUpdate(ee);var Mt=this._transitionablePaint._values[ee].value;return Mt.isDataDriven()||ht||tt||this._handleOverridablePaintPropertyUpdate(ee,Tt,Mt)},B.prototype._handleSpecialPaintPropertyUpdate=function(ee){},B.prototype._handleOverridablePaintPropertyUpdate=function(ee,ge,Ee){return!1},B.prototype.isHidden=function(ee){return!!(this.minzoom&&ee<this.minzoom)||!!(this.maxzoom&&ee>=this.maxzoom)||this.visibility==="none"},B.prototype.updateTransitions=function(ee){this._transitioningPaint=this._transitionablePaint.transitioned(ee,this._transitioningPaint)},B.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},B.prototype.recalculate=function(ee,ge){ee.getCrossfadeParameters&&(this._crossfadeParameters=ee.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(ee,void 0,ge)),this.paint=this._transitioningPaint.possiblyEvaluate(ee,void 0,ge)},B.prototype.serialize=function(){var ee={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(ee.layout=ee.layout||{},ee.layout.visibility=this.visibility),p(ee,function(ge,Ee){return!(ge===void 0||Ee==="layout"&&!Object.keys(ge).length||Ee==="paint"&&!Object.keys(ge).length)})},B.prototype._validate=function(ee,ge,Ee,ze,Ge){return Ge===void 0&&(Ge={}),(!Ge||Ge.validate!==!1)&&Za(this,ee.call(as,{key:ge,layerType:this.type,objectKey:Ee,value:ze,styleSpec:Xe,style:{glyphs:!0,sprite:!0}}))},B.prototype.is3D=function(){return!1},B.prototype.isTileClipped=function(){return!1},B.prototype.hasOffscreenPass=function(){return!1},B.prototype.resize=function(){},B.prototype.isStateDependent=function(){for(var ee in this.paint._values){var ge=this.paint.get(ee);if(ge instanceof Fi&&ys(ge.property.specification)&&(ge.value.kind==="source"||ge.value.kind==="composite")&&ge.value.isStateDependent)return!0}return!1},B}(st),kc={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},vo=function(E,B){this._structArray=E,this._pos1=B*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Ci=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Hi(E,B){B===void 0&&(B=1);var ee=0,ge=0;return{members:E.map(function(Ee){var ze,Ge=(ze=Ee.type,kc[ze].BYTES_PER_ELEMENT),tt=ee=ao(ee,Math.max(B,Ge)),ht=Ee.components||1;return ge=Math.max(ge,Ge),ee+=Ge*ht,{name:Ee.name,type:Ee.type,components:ht,offset:tt}}),size:ao(ee,Math.max(ge,B)),alignment:B}}function ao(E,B){return Math.ceil(E/B)*B}Ci.serialize=function(E,B){return E._trim(),B&&(E.isTransferred=!0,B.push(E.arrayBuffer)),{length:E.length,arrayBuffer:E.arrayBuffer}},Ci.deserialize=function(E){var B=Object.create(this.prototype);return B.arrayBuffer=E.arrayBuffer,B.length=E.length,B.capacity=E.arrayBuffer.byteLength/B.bytesPerElement,B._refreshViews(),B},Ci.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Ci.prototype.clear=function(){this.length=0},Ci.prototype.resize=function(E){this.reserve(E),this.length=E},Ci.prototype.reserve=function(E){if(E>this.capacity){this.capacity=Math.max(E,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var B=this.uint8;this._refreshViews(),B&&this.uint8.set(B)}},Ci.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Zs=function(E){function B(){E.apply(this,arguments)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},B.prototype.emplaceBack=function(ee,ge){var Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,ee,ge)},B.prototype.emplace=function(ee,ge,Ee){var ze=2*ee;return this.int16[ze+0]=ge,this.int16[ze+1]=Ee,ee},B}(Ci);Zs.prototype.bytesPerElement=4,Or("StructArrayLayout2i4",Zs);var Xu=function(E){function B(){E.apply(this,arguments)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},B.prototype.emplaceBack=function(ee,ge,Ee,ze){var Ge=this.length;return this.resize(Ge+1),this.emplace(Ge,ee,ge,Ee,ze)},B.prototype.emplace=function(ee,ge,Ee,ze,Ge){var tt=4*ee;return this.int16[tt+0]=ge,this.int16[tt+1]=Ee,this.int16[tt+2]=ze,this.int16[tt+3]=Ge,ee},B}(Ci);Xu.prototype.bytesPerElement=8,Or("StructArrayLayout4i8",Xu);var et=function(E){function B(){E.apply(this,arguments)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},B.prototype.emplaceBack=function(ee,ge,Ee,ze,Ge,tt){var ht=this.length;return this.resize(ht+1),this.emplace(ht,ee,ge,Ee,ze,Ge,tt)},B.prototype.emplace=function(ee,ge,Ee,ze,Ge,tt,ht){var Tt=6*ee;return this.int16[Tt+0]=ge,this.int16[Tt+1]=Ee,this.int16[Tt+2]=ze,this.int16[Tt+3]=Ge,this.int16[Tt+4]=tt,this.int16[Tt+5]=ht,ee},B}(Ci);et.prototype.bytesPerElement=12,Or("StructArrayLayout2i4i12",et);var rt=function(E){function B(){E.apply(this,arguments)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},B.prototype.emplaceBack=function(ee,ge,Ee,ze,Ge,tt){var ht=this.length;return this.resize(ht+1),this.emplace(ht,ee,ge,Ee,ze,Ge,tt)},B.prototype.emplace=function(ee,ge,Ee,ze,Ge,tt,ht){var Tt=4*ee,Mt=8*ee;return this.int16[Tt+0]=ge,this.int16[Tt+1]=Ee,this.uint8[Mt+4]=ze,this.uint8[Mt+5]=Ge,this.uint8[Mt+6]=tt,this.uint8[Mt+7]=ht,ee},B}(Ci);rt.prototype.bytesPerElement=8,Or("StructArrayLayout2i4ub8",rt);var ct=function(E){function B(){E.apply(this,arguments)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},B.prototype.emplaceBack=function(ee,ge){var Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,ee,ge)},B.prototype.emplace=function(ee,ge,Ee){var ze=2*ee;return this.float32[ze+0]=ge,this.float32[ze+1]=Ee,ee},B}(Ci);ct.prototype.bytesPerElement=8,Or("StructArrayLayout2f8",ct);var U=function(E){function B(){E.apply(this,arguments)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},B.prototype.emplaceBack=function(ee,ge,Ee,ze,Ge,tt,ht,Tt,Mt,Bt){var Gt=this.length;return this.resize(Gt+1),this.emplace(Gt,ee,ge,Ee,ze,Ge,tt,ht,Tt,Mt,Bt)},B.prototype.emplace=function(ee,ge,Ee,ze,Ge,tt,ht,Tt,Mt,Bt,Gt){var Vt=10*ee;return this.uint16[Vt+0]=ge,this.uint16[Vt+1]=Ee,this.uint16[Vt+2]=ze,this.uint16[Vt+3]=Ge,this.uint16[Vt+4]=tt,this.uint16[Vt+5]=ht,this.uint16[Vt+6]=Tt,this.uint16[Vt+7]=Mt,this.uint16[Vt+8]=Bt,this.uint16[Vt+9]=Gt,ee},B}(Ci);U.prototype.bytesPerElement=20,Or("StructArrayLayout10ui20",U);var Z=function(E){function B(){E.apply(this,arguments)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},B.prototype.emplaceBack=function(ee,ge,Ee,ze,Ge,tt,ht,Tt,Mt,Bt,Gt,Vt){var ln=this.length;return this.resize(ln+1),this.emplace(ln,ee,ge,Ee,ze,Ge,tt,ht,Tt,Mt,Bt,Gt,Vt)},B.prototype.emplace=function(ee,ge,Ee,ze,Ge,tt,ht,Tt,Mt,Bt,Gt,Vt,ln){var cn=12*ee;return this.int16[cn+0]=ge,this.int16[cn+1]=Ee,this.int16[cn+2]=ze,this.int16[cn+3]=Ge,this.uint16[cn+4]=tt,this.uint16[cn+5]=ht,this.uint16[cn+6]=Tt,this.uint16[cn+7]=Mt,this.int16[cn+8]=Bt,this.int16[cn+9]=Gt,this.int16[cn+10]=Vt,this.int16[cn+11]=ln,ee},B}(Ci);Z.prototype.bytesPerElement=24,Or("StructArrayLayout4i4ui4i24",Z);var Y=function(E){function B(){E.apply(this,arguments)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},B.prototype.emplaceBack=function(ee,ge,Ee){var ze=this.length;return this.resize(ze+1),this.emplace(ze,ee,ge,Ee)},B.prototype.emplace=function(ee,ge,Ee,ze){var Ge=3*ee;return this.float32[Ge+0]=ge,this.float32[Ge+1]=Ee,this.float32[Ge+2]=ze,ee},B}(Ci);Y.prototype.bytesPerElement=12,Or("StructArrayLayout3f12",Y);var P=function(E){function B(){E.apply(this,arguments)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},B.prototype.emplaceBack=function(ee){var ge=this.length;return this.resize(ge+1),this.emplace(ge,ee)},B.prototype.emplace=function(ee,ge){var Ee=1*ee;return this.uint32[Ee+0]=ge,ee},B}(Ci);P.prototype.bytesPerElement=4,Or("StructArrayLayout1ul4",P);var W=function(E){function B(){E.apply(this,arguments)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},B.prototype.emplaceBack=function(ee,ge,Ee,ze,Ge,tt,ht,Tt,Mt){var Bt=this.length;return this.resize(Bt+1),this.emplace(Bt,ee,ge,Ee,ze,Ge,tt,ht,Tt,Mt)},B.prototype.emplace=function(ee,ge,Ee,ze,Ge,tt,ht,Tt,Mt,Bt){var Gt=10*ee,Vt=5*ee;return this.int16[Gt+0]=ge,this.int16[Gt+1]=Ee,this.int16[Gt+2]=ze,this.int16[Gt+3]=Ge,this.int16[Gt+4]=tt,this.int16[Gt+5]=ht,this.uint32[Vt+3]=Tt,this.uint16[Gt+8]=Mt,this.uint16[Gt+9]=Bt,ee},B}(Ci);W.prototype.bytesPerElement=20,Or("StructArrayLayout6i1ul2ui20",W);var ne=function(E){function B(){E.apply(this,arguments)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},B.prototype.emplaceBack=function(ee,ge,Ee,ze,Ge,tt){var ht=this.length;return this.resize(ht+1),this.emplace(ht,ee,ge,Ee,ze,Ge,tt)},B.prototype.emplace=function(ee,ge,Ee,ze,Ge,tt,ht){var Tt=6*ee;return this.int16[Tt+0]=ge,this.int16[Tt+1]=Ee,this.int16[Tt+2]=ze,this.int16[Tt+3]=Ge,this.int16[Tt+4]=tt,this.int16[Tt+5]=ht,ee},B}(Ci);ne.prototype.bytesPerElement=12,Or("StructArrayLayout2i2i2i12",ne);var se=function(E){function B(){E.apply(this,arguments)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},B.prototype.emplaceBack=function(ee,ge,Ee,ze,Ge){var tt=this.length;return this.resize(tt+1),this.emplace(tt,ee,ge,Ee,ze,Ge)},B.prototype.emplace=function(ee,ge,Ee,ze,Ge,tt){var ht=4*ee,Tt=8*ee;return this.float32[ht+0]=ge,this.float32[ht+1]=Ee,this.float32[ht+2]=ze,this.int16[Tt+6]=Ge,this.int16[Tt+7]=tt,ee},B}(Ci);se.prototype.bytesPerElement=16,Or("StructArrayLayout2f1f2i16",se);var ve=function(E){function B(){E.apply(this,arguments)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},B.prototype.emplaceBack=function(ee,ge,Ee,ze){var Ge=this.length;return this.resize(Ge+1),this.emplace(Ge,ee,ge,Ee,ze)},B.prototype.emplace=function(ee,ge,Ee,ze,Ge){var tt=12*ee,ht=3*ee;return this.uint8[tt+0]=ge,this.uint8[tt+1]=Ee,this.float32[ht+1]=ze,this.float32[ht+2]=Ge,ee},B}(Ci);ve.prototype.bytesPerElement=12,Or("StructArrayLayout2ub2f12",ve);var ke=function(E){function B(){E.apply(this,arguments)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},B.prototype.emplaceBack=function(ee,ge,Ee){var ze=this.length;return this.resize(ze+1),this.emplace(ze,ee,ge,Ee)},B.prototype.emplace=function(ee,ge,Ee,ze){var Ge=3*ee;return this.uint16[Ge+0]=ge,this.uint16[Ge+1]=Ee,this.uint16[Ge+2]=ze,ee},B}(Ci);ke.prototype.bytesPerElement=6,Or("StructArrayLayout3ui6",ke);var De=function(E){function B(){E.apply(this,arguments)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},B.prototype.emplaceBack=function(ee,ge,Ee,ze,Ge,tt,ht,Tt,Mt,Bt,Gt,Vt,ln,cn,Mn,Tn,Nn){var jn=this.length;return this.resize(jn+1),this.emplace(jn,ee,ge,Ee,ze,Ge,tt,ht,Tt,Mt,Bt,Gt,Vt,ln,cn,Mn,Tn,Nn)},B.prototype.emplace=function(ee,ge,Ee,ze,Ge,tt,ht,Tt,Mt,Bt,Gt,Vt,ln,cn,Mn,Tn,Nn,jn){var Zn=24*ee,Jn=12*ee,lr=48*ee;return this.int16[Zn+0]=ge,this.int16[Zn+1]=Ee,this.uint16[Zn+2]=ze,this.uint16[Zn+3]=Ge,this.uint32[Jn+2]=tt,this.uint32[Jn+3]=ht,this.uint32[Jn+4]=Tt,this.uint16[Zn+10]=Mt,this.uint16[Zn+11]=Bt,this.uint16[Zn+12]=Gt,this.float32[Jn+7]=Vt,this.float32[Jn+8]=ln,this.uint8[lr+36]=cn,this.uint8[lr+37]=Mn,this.uint8[lr+38]=Tn,this.uint32[Jn+10]=Nn,this.int16[Zn+22]=jn,ee},B}(Ci);De.prototype.bytesPerElement=48,Or("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",De);var je=function(E){function B(){E.apply(this,arguments)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},B.prototype.emplaceBack=function(ee,ge,Ee,ze,Ge,tt,ht,Tt,Mt,Bt,Gt,Vt,ln,cn,Mn,Tn,Nn,jn,Zn,Jn,lr,_r,yr,Sr,Pr,Qr,Br,Jr){var Hr=this.length;return this.resize(Hr+1),this.emplace(Hr,ee,ge,Ee,ze,Ge,tt,ht,Tt,Mt,Bt,Gt,Vt,ln,cn,Mn,Tn,Nn,jn,Zn,Jn,lr,_r,yr,Sr,Pr,Qr,Br,Jr)},B.prototype.emplace=function(ee,ge,Ee,ze,Ge,tt,ht,Tt,Mt,Bt,Gt,Vt,ln,cn,Mn,Tn,Nn,jn,Zn,Jn,lr,_r,yr,Sr,Pr,Qr,Br,Jr,Hr){var Fr=34*ee,yi=17*ee;return this.int16[Fr+0]=ge,this.int16[Fr+1]=Ee,this.int16[Fr+2]=ze,this.int16[Fr+3]=Ge,this.int16[Fr+4]=tt,this.int16[Fr+5]=ht,this.int16[Fr+6]=Tt,this.int16[Fr+7]=Mt,this.uint16[Fr+8]=Bt,this.uint16[Fr+9]=Gt,this.uint16[Fr+10]=Vt,this.uint16[Fr+11]=ln,this.uint16[Fr+12]=cn,this.uint16[Fr+13]=Mn,this.uint16[Fr+14]=Tn,this.uint16[Fr+15]=Nn,this.uint16[Fr+16]=jn,this.uint16[Fr+17]=Zn,this.uint16[Fr+18]=Jn,this.uint16[Fr+19]=lr,this.uint16[Fr+20]=_r,this.uint16[Fr+21]=yr,this.uint16[Fr+22]=Sr,this.uint32[yi+12]=Pr,this.float32[yi+13]=Qr,this.float32[yi+14]=Br,this.float32[yi+15]=Jr,this.float32[yi+16]=Hr,ee},B}(Ci);je.prototype.bytesPerElement=68,Or("StructArrayLayout8i15ui1ul4f68",je);var We=function(E){function B(){E.apply(this,arguments)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},B.prototype.emplaceBack=function(ee){var ge=this.length;return this.resize(ge+1),this.emplace(ge,ee)},B.prototype.emplace=function(ee,ge){var Ee=1*ee;return this.float32[Ee+0]=ge,ee},B}(Ci);We.prototype.bytesPerElement=4,Or("StructArrayLayout1f4",We);var $e=function(E){function B(){E.apply(this,arguments)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},B.prototype.emplaceBack=function(ee,ge,Ee){var ze=this.length;return this.resize(ze+1),this.emplace(ze,ee,ge,Ee)},B.prototype.emplace=function(ee,ge,Ee,ze){var Ge=3*ee;return this.int16[Ge+0]=ge,this.int16[Ge+1]=Ee,this.int16[Ge+2]=ze,ee},B}(Ci);$e.prototype.bytesPerElement=6,Or("StructArrayLayout3i6",$e);var at=function(E){function B(){E.apply(this,arguments)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},B.prototype.emplaceBack=function(ee,ge,Ee){var ze=this.length;return this.resize(ze+1),this.emplace(ze,ee,ge,Ee)},B.prototype.emplace=function(ee,ge,Ee,ze){var Ge=2*ee,tt=4*ee;return this.uint32[Ge+0]=ge,this.uint16[tt+2]=Ee,this.uint16[tt+3]=ze,ee},B}(Ci);at.prototype.bytesPerElement=8,Or("StructArrayLayout1ul2ui8",at);var pt=function(E){function B(){E.apply(this,arguments)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},B.prototype.emplaceBack=function(ee,ge){var Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,ee,ge)},B.prototype.emplace=function(ee,ge,Ee){var ze=2*ee;return this.uint16[ze+0]=ge,this.uint16[ze+1]=Ee,ee},B}(Ci);pt.prototype.bytesPerElement=4,Or("StructArrayLayout2ui4",pt);var vt=function(E){function B(){E.apply(this,arguments)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},B.prototype.emplaceBack=function(ee){var ge=this.length;return this.resize(ge+1),this.emplace(ge,ee)},B.prototype.emplace=function(ee,ge){var Ee=1*ee;return this.uint16[Ee+0]=ge,ee},B}(Ci);vt.prototype.bytesPerElement=2,Or("StructArrayLayout1ui2",vt);var kt=function(E){function B(){E.apply(this,arguments)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},B.prototype.emplaceBack=function(ee,ge,Ee,ze){var Ge=this.length;return this.resize(Ge+1),this.emplace(Ge,ee,ge,Ee,ze)},B.prototype.emplace=function(ee,ge,Ee,ze,Ge){var tt=4*ee;return this.float32[tt+0]=ge,this.float32[tt+1]=Ee,this.float32[tt+2]=ze,this.float32[tt+3]=Ge,ee},B}(Ci);kt.prototype.bytesPerElement=16,Or("StructArrayLayout4f16",kt);var Ot=function(E){function B(){E.apply(this,arguments)}E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B;var ee={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return ee.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},ee.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},ee.x1.get=function(){return this._structArray.int16[this._pos2+2]},ee.y1.get=function(){return this._structArray.int16[this._pos2+3]},ee.x2.get=function(){return this._structArray.int16[this._pos2+4]},ee.y2.get=function(){return this._structArray.int16[this._pos2+5]},ee.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},ee.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},ee.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},ee.anchorPoint.get=function(){return new n(this.anchorPointX,this.anchorPointY)},Object.defineProperties(B.prototype,ee),B}(vo);Ot.prototype.size=20;var St=function(E){function B(){E.apply(this,arguments)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype.get=function(ee){return new Ot(this,ee)},B}(W);Or("CollisionBoxArray",St);var jt=function(E){function B(){E.apply(this,arguments)}E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B;var ee={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return ee.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},ee.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},ee.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},ee.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},ee.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},ee.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},ee.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},ee.segment.get=function(){return this._structArray.uint16[this._pos2+10]},ee.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},ee.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},ee.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},ee.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},ee.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},ee.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},ee.placedOrientation.set=function(ge){this._structArray.uint8[this._pos1+37]=ge},ee.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},ee.hidden.set=function(ge){this._structArray.uint8[this._pos1+38]=ge},ee.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},ee.crossTileID.set=function(ge){this._structArray.uint32[this._pos4+10]=ge},ee.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(B.prototype,ee),B}(vo);jt.prototype.size=48;var It=function(E){function B(){E.apply(this,arguments)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype.get=function(ee){return new jt(this,ee)},B}(De);Or("PlacedSymbolArray",It);var Jt=function(E){function B(){E.apply(this,arguments)}E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B;var ee={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return ee.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},ee.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},ee.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},ee.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},ee.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},ee.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},ee.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},ee.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},ee.key.get=function(){return this._structArray.uint16[this._pos2+8]},ee.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},ee.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},ee.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},ee.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},ee.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},ee.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},ee.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},ee.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},ee.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},ee.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},ee.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},ee.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},ee.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},ee.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},ee.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},ee.crossTileID.set=function(ge){this._structArray.uint32[this._pos4+12]=ge},ee.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},ee.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},ee.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},ee.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(B.prototype,ee),B}(vo);Jt.prototype.size=68;var $t=function(E){function B(){E.apply(this,arguments)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype.get=function(ee){return new Jt(this,ee)},B}(je);Or("SymbolInstanceArray",$t);var Ht=function(E){function B(){E.apply(this,arguments)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype.getoffsetX=function(ee){return this.float32[1*ee+0]},B}(We);Or("GlyphOffsetArray",Ht);var vn=function(E){function B(){E.apply(this,arguments)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype.getx=function(ee){return this.int16[3*ee+0]},B.prototype.gety=function(ee){return this.int16[3*ee+1]},B.prototype.gettileUnitDistanceFromAnchor=function(ee){return this.int16[3*ee+2]},B}($e);Or("SymbolLineVertexArray",vn);var bn=function(E){function B(){E.apply(this,arguments)}E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B;var ee={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return ee.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},ee.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},ee.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(B.prototype,ee),B}(vo);bn.prototype.size=8;var Ln=function(E){function B(){E.apply(this,arguments)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype.get=function(ee){return new bn(this,ee)},B}(at);Or("FeatureIndexArray",Ln);var zn=Hi([{name:"a_pos",components:2,type:"Int16"}],4).members,Gn=function(E){E===void 0&&(E=[]),this.segments=E};function or(E,B){return 256*(E=u(Math.floor(E),0,255))+u(Math.floor(B),0,255)}Gn.prototype.prepareSegment=function(E,B,ee,ge){var Ee=this.segments[this.segments.length-1];return E>Gn.MAX_VERTEX_ARRAY_LENGTH&&C("Max vertices per segment is "+Gn.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+E),(!Ee||Ee.vertexLength+E>Gn.MAX_VERTEX_ARRAY_LENGTH||Ee.sortKey!==ge)&&(Ee={vertexOffset:B.length,primitiveOffset:ee.length,vertexLength:0,primitiveLength:0},ge!==void 0&&(Ee.sortKey=ge),this.segments.push(Ee)),Ee},Gn.prototype.get=function(){return this.segments},Gn.prototype.destroy=function(){for(var E=0,B=this.segments;E<B.length;E+=1){var ee=B[E];for(var ge in ee.vaos)ee.vaos[ge].destroy()}},Gn.simpleSegment=function(E,B,ee,ge){return new Gn([{vertexOffset:E,primitiveOffset:B,vertexLength:ee,primitiveLength:ge,vaos:{},sortKey:0}])},Gn.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Or("SegmentVector",Gn);var dr=Hi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),Xn=b(function(E){E.exports=function(B,ee){var ge,Ee,ze,Ge,tt,ht,Tt,Mt;for(ge=3&B.length,Ee=B.length-ge,ze=ee,tt=3432918353,ht=461845907,Mt=0;Mt<Ee;)Tt=255&B.charCodeAt(Mt)|(255&B.charCodeAt(++Mt))<<8|(255&B.charCodeAt(++Mt))<<16|(255&B.charCodeAt(++Mt))<<24,++Mt,ze=27492+(65535&(Ge=5*(65535&(ze=(ze^=Tt=(65535&(Tt=(Tt=(65535&Tt)*tt+(((Tt>>>16)*tt&65535)<<16)&4294967295)<<15|Tt>>>17))*ht+(((Tt>>>16)*ht&65535)<<16)&4294967295)<<13|ze>>>19))+((5*(ze>>>16)&65535)<<16)&4294967295))+((58964+(Ge>>>16)&65535)<<16);switch(Tt=0,ge){case 3:Tt^=(255&B.charCodeAt(Mt+2))<<16;case 2:Tt^=(255&B.charCodeAt(Mt+1))<<8;case 1:ze^=Tt=(65535&(Tt=(Tt=(65535&(Tt^=255&B.charCodeAt(Mt)))*tt+(((Tt>>>16)*tt&65535)<<16)&4294967295)<<15|Tt>>>17))*ht+(((Tt>>>16)*ht&65535)<<16)&4294967295}return ze^=B.length,ze=2246822507*(65535&(ze^=ze>>>16))+((2246822507*(ze>>>16)&65535)<<16)&4294967295,ze=3266489909*(65535&(ze^=ze>>>13))+((3266489909*(ze>>>16)&65535)<<16)&4294967295,(ze^=ze>>>16)>>>0}}),hr=b(function(E){E.exports=function(B,ee){for(var ge,Ee=B.length,ze=ee^Ee,Ge=0;Ee>=4;)ge=1540483477*(65535&(ge=255&B.charCodeAt(Ge)|(255&B.charCodeAt(++Ge))<<8|(255&B.charCodeAt(++Ge))<<16|(255&B.charCodeAt(++Ge))<<24))+((1540483477*(ge>>>16)&65535)<<16),ze=1540483477*(65535&ze)+((1540483477*(ze>>>16)&65535)<<16)^(ge=1540483477*(65535&(ge^=ge>>>24))+((1540483477*(ge>>>16)&65535)<<16)),Ee-=4,++Ge;switch(Ee){case 3:ze^=(255&B.charCodeAt(Ge+2))<<16;case 2:ze^=(255&B.charCodeAt(Ge+1))<<8;case 1:ze=1540483477*(65535&(ze^=255&B.charCodeAt(Ge)))+((1540483477*(ze>>>16)&65535)<<16)}return ze=1540483477*(65535&(ze^=ze>>>13))+((1540483477*(ze>>>16)&65535)<<16),(ze^=ze>>>15)>>>0}}),Ar=Xn,zr=Xn,nr=hr;Ar.murmur3=zr,Ar.murmur2=nr;var fr=function(){this.ids=[],this.positions=[],this.indexed=!1};fr.prototype.add=function(E,B,ee,ge){this.ids.push(gr(E)),this.positions.push(B,ee,ge)},fr.prototype.getPositions=function(E){for(var B=gr(E),ee=0,ge=this.ids.length-1;ee<ge;){var Ee=ee+ge>>1;this.ids[Ee]>=B?ge=Ee:ee=Ee+1}for(var ze=[];this.ids[ee]===B;){var Ge=this.positions[3*ee],tt=this.positions[3*ee+1],ht=this.positions[3*ee+2];ze.push({index:Ge,start:tt,end:ht}),ee++}return ze},fr.serialize=function(E,B){var ee=new Float64Array(E.ids),ge=new Uint32Array(E.positions);return Ir(ee,ge,0,ee.length-1),B&&B.push(ee.buffer,ge.buffer),{ids:ee,positions:ge}},fr.deserialize=function(E){var B=new fr;return B.ids=E.ids,B.positions=E.positions,B.indexed=!0,B};var Lr=Math.pow(2,53)-1;function gr(E){var B=+E;return!isNaN(B)&&B<=Lr?B:Ar(String(E))}function Ir(E,B,ee,ge){for(;ee<ge;){for(var Ee=E[ee+ge>>1],ze=ee-1,Ge=ge+1;;){do ze++;while(E[ze]<Ee);do Ge--;while(E[Ge]>Ee);if(ze>=Ge)break;Nr(E,ze,Ge),Nr(B,3*ze,3*Ge),Nr(B,3*ze+1,3*Ge+1),Nr(B,3*ze+2,3*Ge+2)}Ge-ee<ge-Ge?(Ir(E,B,ee,Ge),ee=Ge+1):(Ir(E,B,Ge+1,ge),ge=Ge)}}function Nr(E,B,ee){var ge=E[B];E[B]=E[ee],E[ee]=ge}Or("FeaturePositionMap",fr);var ei=function(E,B){this.gl=E.gl,this.location=B},ni=function(E){function B(ee,ge){E.call(this,ee,ge),this.current=0}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype.set=function(ee){this.current!==ee&&(this.current=ee,this.gl.uniform1i(this.location,ee))},B}(ei),ui=function(E){function B(ee,ge){E.call(this,ee,ge),this.current=0}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype.set=function(ee){this.current!==ee&&(this.current=ee,this.gl.uniform1f(this.location,ee))},B}(ei),di=function(E){function B(ee,ge){E.call(this,ee,ge),this.current=[0,0]}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype.set=function(ee){ee[0]===this.current[0]&&ee[1]===this.current[1]||(this.current=ee,this.gl.uniform2f(this.location,ee[0],ee[1]))},B}(ei),Bi=function(E){function B(ee,ge){E.call(this,ee,ge),this.current=[0,0,0]}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype.set=function(ee){ee[0]===this.current[0]&&ee[1]===this.current[1]&&ee[2]===this.current[2]||(this.current=ee,this.gl.uniform3f(this.location,ee[0],ee[1],ee[2]))},B}(ei),ia=function(E){function B(ee,ge){E.call(this,ee,ge),this.current=[0,0,0,0]}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype.set=function(ee){ee[0]===this.current[0]&&ee[1]===this.current[1]&&ee[2]===this.current[2]&&ee[3]===this.current[3]||(this.current=ee,this.gl.uniform4f(this.location,ee[0],ee[1],ee[2],ee[3]))},B}(ei),Ga=function(E){function B(ee,ge){E.call(this,ee,ge),this.current=On.transparent}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype.set=function(ee){ee.r===this.current.r&&ee.g===this.current.g&&ee.b===this.current.b&&ee.a===this.current.a||(this.current=ee,this.gl.uniform4f(this.location,ee.r,ee.g,ee.b,ee.a))},B}(ei),xa=new Float32Array(16),Ba=function(E){function B(ee,ge){E.call(this,ee,ge),this.current=xa}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype.set=function(ee){if(ee[12]!==this.current[12]||ee[0]!==this.current[0])return this.current=ee,void this.gl.uniformMatrix4fv(this.location,!1,ee);for(var ge=1;ge<16;ge++)if(ee[ge]!==this.current[ge]){this.current=ee,this.gl.uniformMatrix4fv(this.location,!1,ee);break}},B}(ei);function qi(E){return[or(255*E.r,255*E.g),or(255*E.b,255*E.a)]}var vi=function(E,B,ee){this.value=E,this.uniformNames=B.map(function(ge){return"u_"+ge}),this.type=ee};vi.prototype.setUniform=function(E,B,ee){E.set(ee.constantOr(this.value))},vi.prototype.getBinding=function(E,B,ee){return this.type==="color"?new Ga(E,B):new ui(E,B)};var Ki=function(E,B){this.uniformNames=B.map(function(ee){return"u_"+ee}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Ki.prototype.setConstantPatternPositions=function(E,B){this.pixelRatioFrom=B.pixelRatio,this.pixelRatioTo=E.pixelRatio,this.patternFrom=B.tlbr,this.patternTo=E.tlbr},Ki.prototype.setUniform=function(E,B,ee,ge){var Ee=ge==="u_pattern_to"?this.patternTo:ge==="u_pattern_from"?this.patternFrom:ge==="u_pixel_ratio_to"?this.pixelRatioTo:ge==="u_pixel_ratio_from"?this.pixelRatioFrom:null;Ee&&E.set(Ee)},Ki.prototype.getBinding=function(E,B,ee){return ee.substr(0,9)==="u_pattern"?new ia(E,B):new ui(E,B)};var Pi=function(E,B,ee,ge){this.expression=E,this.type=ee,this.maxValue=0,this.paintVertexAttributes=B.map(function(Ee){return{name:"a_"+Ee,type:"Float32",components:ee==="color"?2:1,offset:0}}),this.paintVertexArray=new ge};Pi.prototype.populatePaintArray=function(E,B,ee,ge,Ee){var ze=this.paintVertexArray.length,Ge=this.expression.evaluate(new pi(0),B,{},ge,[],Ee);this.paintVertexArray.resize(E),this._setPaintValue(ze,E,Ge)},Pi.prototype.updatePaintArray=function(E,B,ee,ge){var Ee=this.expression.evaluate({zoom:0},ee,ge);this._setPaintValue(E,B,Ee)},Pi.prototype._setPaintValue=function(E,B,ee){if(this.type==="color")for(var ge=qi(ee),Ee=E;Ee<B;Ee++)this.paintVertexArray.emplace(Ee,ge[0],ge[1]);else{for(var ze=E;ze<B;ze++)this.paintVertexArray.emplace(ze,ee);this.maxValue=Math.max(this.maxValue,Math.abs(ee))}},Pi.prototype.upload=function(E){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=E.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Pi.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var bi=function(E,B,ee,ge,Ee,ze){this.expression=E,this.uniformNames=B.map(function(Ge){return"u_"+Ge+"_t"}),this.type=ee,this.useIntegerZoom=ge,this.zoom=Ee,this.maxValue=0,this.paintVertexAttributes=B.map(function(Ge){return{name:"a_"+Ge,type:"Float32",components:ee==="color"?4:2,offset:0}}),this.paintVertexArray=new ze};bi.prototype.populatePaintArray=function(E,B,ee,ge,Ee){var ze=this.expression.evaluate(new pi(this.zoom),B,{},ge,[],Ee),Ge=this.expression.evaluate(new pi(this.zoom+1),B,{},ge,[],Ee),tt=this.paintVertexArray.length;this.paintVertexArray.resize(E),this._setPaintValue(tt,E,ze,Ge)},bi.prototype.updatePaintArray=function(E,B,ee,ge){var Ee=this.expression.evaluate({zoom:this.zoom},ee,ge),ze=this.expression.evaluate({zoom:this.zoom+1},ee,ge);this._setPaintValue(E,B,Ee,ze)},bi.prototype._setPaintValue=function(E,B,ee,ge){if(this.type==="color")for(var Ee=qi(ee),ze=qi(ge),Ge=E;Ge<B;Ge++)this.paintVertexArray.emplace(Ge,Ee[0],Ee[1],ze[0],ze[1]);else{for(var tt=E;tt<B;tt++)this.paintVertexArray.emplace(tt,ee,ge);this.maxValue=Math.max(this.maxValue,Math.abs(ee),Math.abs(ge))}},bi.prototype.upload=function(E){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=E.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},bi.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},bi.prototype.setUniform=function(E,B){var ee=this.useIntegerZoom?Math.floor(B.zoom):B.zoom,ge=u(this.expression.interpolationFactor(ee,this.zoom,this.zoom+1),0,1);E.set(ge)},bi.prototype.getBinding=function(E,B,ee){return new ui(E,B)};var Ji=function(E,B,ee,ge,Ee,ze){this.expression=E,this.type=B,this.useIntegerZoom=ee,this.zoom=ge,this.layerId=ze,this.zoomInPaintVertexArray=new Ee,this.zoomOutPaintVertexArray=new Ee};Ji.prototype.populatePaintArray=function(E,B,ee){var ge=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(E),this.zoomOutPaintVertexArray.resize(E),this._setPaintValues(ge,E,B.patterns&&B.patterns[this.layerId],ee)},Ji.prototype.updatePaintArray=function(E,B,ee,ge,Ee){this._setPaintValues(E,B,ee.patterns&&ee.patterns[this.layerId],Ee)},Ji.prototype._setPaintValues=function(E,B,ee,ge){if(ge&&ee){var Ee=ee.min,ze=ee.mid,Ge=ee.max,tt=ge[Ee],ht=ge[ze],Tt=ge[Ge];if(tt&&ht&&Tt)for(var Mt=E;Mt<B;Mt++)this.zoomInPaintVertexArray.emplace(Mt,ht.tl[0],ht.tl[1],ht.br[0],ht.br[1],tt.tl[0],tt.tl[1],tt.br[0],tt.br[1],ht.pixelRatio,tt.pixelRatio),this.zoomOutPaintVertexArray.emplace(Mt,ht.tl[0],ht.tl[1],ht.br[0],ht.br[1],Tt.tl[0],Tt.tl[1],Tt.br[0],Tt.br[1],ht.pixelRatio,Tt.pixelRatio)}},Ji.prototype.upload=function(E){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=E.createVertexBuffer(this.zoomInPaintVertexArray,dr.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=E.createVertexBuffer(this.zoomOutPaintVertexArray,dr.members,this.expression.isStateDependent))},Ji.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var aa=function(E,B,ee){this.binders={},this._buffers=[];var ge=[];for(var Ee in E.paint._values)if(ee(Ee)){var ze=E.paint.get(Ee);if(ze instanceof Fi&&ys(ze.property.specification)){var Ge=Nl(Ee,E.type),tt=ze.value,ht=ze.property.specification.type,Tt=ze.property.useIntegerZoom,Mt=ze.property.specification["property-type"],Bt=Mt==="cross-faded"||Mt==="cross-faded-data-driven";if(tt.kind==="constant")this.binders[Ee]=Bt?new Ki(tt.value,Ge):new vi(tt.value,Ge,ht),ge.push("/u_"+Ee);else if(tt.kind==="source"||Bt){var Gt=jl(Ee,ht,"source");this.binders[Ee]=Bt?new Ji(tt,ht,Tt,B,Gt,E.id):new Pi(tt,Ge,ht,Gt),ge.push("/a_"+Ee)}else{var Vt=jl(Ee,ht,"composite");this.binders[Ee]=new bi(tt,Ge,ht,Tt,B,Vt),ge.push("/z_"+Ee)}}}this.cacheKey=ge.sort().join("")};aa.prototype.getMaxValue=function(E){var B=this.binders[E];return B instanceof Pi||B instanceof bi?B.maxValue:0},aa.prototype.populatePaintArrays=function(E,B,ee,ge,Ee){for(var ze in this.binders){var Ge=this.binders[ze];(Ge instanceof Pi||Ge instanceof bi||Ge instanceof Ji)&&Ge.populatePaintArray(E,B,ee,ge,Ee)}},aa.prototype.setConstantPatternPositions=function(E,B){for(var ee in this.binders){var ge=this.binders[ee];ge instanceof Ki&&ge.setConstantPatternPositions(E,B)}},aa.prototype.updatePaintArrays=function(E,B,ee,ge,Ee){var ze=!1;for(var Ge in E)for(var tt=0,ht=B.getPositions(Ge);tt<ht.length;tt+=1){var Tt=ht[tt],Mt=ee.feature(Tt.index);for(var Bt in this.binders){var Gt=this.binders[Bt];if((Gt instanceof Pi||Gt instanceof bi||Gt instanceof Ji)&&Gt.expression.isStateDependent===!0){var Vt=ge.paint.get(Bt);Gt.expression=Vt.value,Gt.updatePaintArray(Tt.start,Tt.end,Mt,E[Ge],Ee),ze=!0}}}return ze},aa.prototype.defines=function(){var E=[];for(var B in this.binders){var ee=this.binders[B];(ee instanceof vi||ee instanceof Ki)&&E.push.apply(E,ee.uniformNames.map(function(ge){return"#define HAS_UNIFORM_"+ge}))}return E},aa.prototype.getBinderAttributes=function(){var E=[];for(var B in this.binders){var ee=this.binders[B];if(ee instanceof Pi||ee instanceof bi)for(var ge=0;ge<ee.paintVertexAttributes.length;ge++)E.push(ee.paintVertexAttributes[ge].name);else if(ee instanceof Ji)for(var Ee=0;Ee<dr.members.length;Ee++)E.push(dr.members[Ee].name)}return E},aa.prototype.getBinderUniforms=function(){var E=[];for(var B in this.binders){var ee=this.binders[B];if(ee instanceof vi||ee instanceof Ki||ee instanceof bi)for(var ge=0,Ee=ee.uniformNames;ge<Ee.length;ge+=1){var ze=Ee[ge];E.push(ze)}}return E},aa.prototype.getPaintVertexBuffers=function(){return this._buffers},aa.prototype.getUniforms=function(E,B){var ee=[];for(var ge in this.binders){var Ee=this.binders[ge];if(Ee instanceof vi||Ee instanceof Ki||Ee instanceof bi)for(var ze=0,Ge=Ee.uniformNames;ze<Ge.length;ze+=1){var tt=Ge[ze];if(B[tt]){var ht=Ee.getBinding(E,B[tt],tt);ee.push({name:tt,property:ge,binding:ht})}}}return ee},aa.prototype.setUniforms=function(E,B,ee,ge){for(var Ee=0,ze=B;Ee<ze.length;Ee+=1){var Ge=ze[Ee],tt=Ge.name,ht=Ge.property,Tt=Ge.binding;this.binders[ht].setUniform(Tt,ge,ee.get(ht),tt)}},aa.prototype.updatePaintBuffers=function(E){for(var B in this._buffers=[],this.binders){var ee=this.binders[B];if(E&&ee instanceof Ji){var ge=E.fromScale===2?ee.zoomInPaintVertexBuffer:ee.zoomOutPaintVertexBuffer;ge&&this._buffers.push(ge)}else(ee instanceof Pi||ee instanceof bi)&&ee.paintVertexBuffer&&this._buffers.push(ee.paintVertexBuffer)}},aa.prototype.upload=function(E){for(var B in this.binders){var ee=this.binders[B];(ee instanceof Pi||ee instanceof bi||ee instanceof Ji)&&ee.upload(E)}this.updatePaintBuffers()},aa.prototype.destroy=function(){for(var E in this.binders){var B=this.binders[E];(B instanceof Pi||B instanceof bi||B instanceof Ji)&&B.destroy()}};var da=function(E,B,ee){ee===void 0&&(ee=function(){return!0}),this.programConfigurations={};for(var ge=0,Ee=E;ge<Ee.length;ge+=1){var ze=Ee[ge];this.programConfigurations[ze.id]=new aa(ze,B,ee)}this.needsUpload=!1,this._featureMap=new fr,this._bufferOffset=0};function Nl(E,B){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[E]||[E.replace(B+"-","").replace(/-/g,"_")]}function jl(E,B,ee){var ge={color:{source:ct,composite:kt},number:{source:We,composite:ct}},Ee=function(ze){return{"line-pattern":{source:U,composite:U},"fill-pattern":{source:U,composite:U},"fill-extrusion-pattern":{source:U,composite:U}}[ze]}(E);return Ee&&Ee[ee]||ge[B][ee]}da.prototype.populatePaintArrays=function(E,B,ee,ge,Ee,ze){for(var Ge in this.programConfigurations)this.programConfigurations[Ge].populatePaintArrays(E,B,ge,Ee,ze);B.id!==void 0&&this._featureMap.add(B.id,ee,this._bufferOffset,E),this._bufferOffset=E,this.needsUpload=!0},da.prototype.updatePaintArrays=function(E,B,ee,ge){for(var Ee=0,ze=ee;Ee<ze.length;Ee+=1){var Ge=ze[Ee];this.needsUpload=this.programConfigurations[Ge.id].updatePaintArrays(E,this._featureMap,B,Ge,ge)||this.needsUpload}},da.prototype.get=function(E){return this.programConfigurations[E]},da.prototype.upload=function(E){if(this.needsUpload){for(var B in this.programConfigurations)this.programConfigurations[B].upload(E);this.needsUpload=!1}},da.prototype.destroy=function(){for(var E in this.programConfigurations)this.programConfigurations[E].destroy()},Or("ConstantBinder",vi),Or("CrossFadedConstantBinder",Ki),Or("SourceExpressionBinder",Pi),Or("CrossFadedCompositeBinder",Ji),Or("CompositeExpressionBinder",bi),Or("ProgramConfiguration",aa,{omit:["_buffers"]}),Or("ProgramConfigurationSet",da);var _i=8192,Ou=Math.pow(2,14)-1,uu=-Ou-1;function As(E){for(var B=_i/E.extent,ee=E.loadGeometry(),ge=0;ge<ee.length;ge++)for(var Ee=ee[ge],ze=0;ze<Ee.length;ze++){var Ge=Ee[ze],tt=Math.round(Ge.x*B),ht=Math.round(Ge.y*B);Ge.x=u(tt,uu,Ou),Ge.y=u(ht,uu,Ou),(tt<Ge.x||tt>Ge.x+1||ht<Ge.y||ht>Ge.y+1)&&C("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return ee}function Qi(E,B){return{type:E.type,id:E.id,properties:E.properties,geometry:B?As(E):[]}}function mo(E,B,ee,ge,Ee){E.emplaceBack(2*B+(ge+1)/2,2*ee+(Ee+1)/2)}var La=function(E){this.zoom=E.zoom,this.overscaling=E.overscaling,this.layers=E.layers,this.layerIds=this.layers.map(function(B){return B.id}),this.index=E.index,this.hasPattern=!1,this.layoutVertexArray=new Zs,this.indexArray=new ke,this.segments=new Gn,this.programConfigurations=new da(E.layers,E.zoom),this.stateDependentLayerIds=this.layers.filter(function(B){return B.isStateDependent()}).map(function(B){return B.id})};function ff(E,B){for(var ee=0;ee<E.length;ee++)if(Iu(B,E[ee]))return!0;for(var ge=0;ge<B.length;ge++)if(Iu(E,B[ge]))return!0;return!!Ac(E,B)}function Ag(E,B,ee){return!!Iu(E,B)||!!Mc(B,E,ee)}function bd(E,B){if(E.length===1)return wd(B,E[0]);for(var ee=0;ee<B.length;ee++)for(var ge=B[ee],Ee=0;Ee<ge.length;Ee++)if(Iu(E,ge[Ee]))return!0;for(var ze=0;ze<E.length;ze++)if(wd(B,E[ze]))return!0;for(var Ge=0;Ge<B.length;Ge++)if(Ac(E,B[Ge]))return!0;return!1}function Mg(E,B,ee){if(E.length>1){if(Ac(E,B))return!0;for(var ge=0;ge<B.length;ge++)if(Mc(B[ge],E,ee))return!0}for(var Ee=0;Ee<E.length;Ee++)if(Mc(E[Ee],B,ee))return!0;return!1}function Ac(E,B){if(E.length===0||B.length===0)return!1;for(var ee=0;ee<E.length-1;ee++)for(var ge=E[ee],Ee=E[ee+1],ze=0;ze<B.length-1;ze++)if(Sg(ge,Ee,B[ze],B[ze+1]))return!0;return!1}function Sg(E,B,ee,ge){return R(E,ee,ge)!==R(B,ee,ge)&&R(E,B,ee)!==R(E,B,ge)}function Mc(E,B,ee){var ge=ee*ee;if(B.length===1)return E.distSqr(B[0])<ge;for(var Ee=1;Ee<B.length;Ee++)if(_d(E,B[Ee-1],B[Ee])<ge)return!0;return!1}function _d(E,B,ee){var ge=B.distSqr(ee);if(ge===0)return E.distSqr(B);var Ee=((E.x-B.x)*(ee.x-B.x)+(E.y-B.y)*(ee.y-B.y))/ge;return Ee<0?E.distSqr(B):Ee>1?E.distSqr(ee):E.distSqr(ee.sub(B)._mult(Ee)._add(B))}function wd(E,B){for(var ee,ge,Ee,ze=!1,Ge=0;Ge<E.length;Ge++)for(var tt=0,ht=(ee=E[Ge]).length-1;tt<ee.length;ht=tt++)ge=ee[tt],Ee=ee[ht],ge.y>B.y!=Ee.y>B.y&&B.x<(Ee.x-ge.x)*(B.y-ge.y)/(Ee.y-ge.y)+ge.x&&(ze=!ze);return ze}function Iu(E,B){for(var ee=!1,ge=0,Ee=E.length-1;ge<E.length;Ee=ge++){var ze=E[ge],Ge=E[Ee];ze.y>B.y!=Ge.y>B.y&&B.x<(Ge.x-ze.x)*(B.y-ze.y)/(Ge.y-ze.y)+ze.x&&(ee=!ee)}return ee}function h5(E,B,ee){var ge=ee[0],Ee=ee[2];if(E.x<ge.x&&B.x<ge.x||E.x>Ee.x&&B.x>Ee.x||E.y<ge.y&&B.y<ge.y||E.y>Ee.y&&B.y>Ee.y)return!1;var ze=R(E,B,ee[0]);return ze!==R(E,B,ee[1])||ze!==R(E,B,ee[2])||ze!==R(E,B,ee[3])}function Vh(E,B,ee){var ge=B.paint.get(E).value;return ge.kind==="constant"?ge.value:ee.programConfigurations.get(B.id).getMaxValue(E)}function Td(E){return Math.sqrt(E[0]*E[0]+E[1]*E[1])}function kd(E,B,ee,ge,Ee){if(!B[0]&&!B[1])return E;var ze=n.convert(B)._mult(Ee);ee==="viewport"&&ze._rotate(-ge);for(var Ge=[],tt=0;tt<E.length;tt++){var ht=E[tt];Ge.push(ht.sub(ze))}return Ge}La.prototype.populate=function(E,B,ee){var ge=this.layers[0],Ee=[],ze=null;ge.type==="circle"&&(ze=ge.layout.get("circle-sort-key"));for(var Ge=0,tt=E;Ge<tt.length;Ge+=1){var ht=tt[Ge],Tt=ht.feature,Mt=ht.id,Bt=ht.index,Gt=ht.sourceLayerIndex,Vt=this.layers[0]._featureFilter.needGeometry,ln=Qi(Tt,Vt);if(this.layers[0]._featureFilter.filter(new pi(this.zoom),ln,ee)){var cn=ze?ze.evaluate(ln,{},ee):void 0,Mn={id:Mt,properties:Tt.properties,type:Tt.type,sourceLayerIndex:Gt,index:Bt,geometry:Vt?ln.geometry:As(Tt),patterns:{},sortKey:cn};Ee.push(Mn)}}ze&&Ee.sort(function(Sr,Pr){return Sr.sortKey-Pr.sortKey});for(var Tn=0,Nn=Ee;Tn<Nn.length;Tn+=1){var jn=Nn[Tn],Zn=jn,Jn=Zn.geometry,lr=Zn.index,_r=Zn.sourceLayerIndex,yr=E[lr].feature;this.addFeature(jn,Jn,lr,ee),B.featureIndex.insert(yr,Jn,lr,_r,this.index)}},La.prototype.update=function(E,B,ee){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(E,B,this.stateDependentLayers,ee)},La.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},La.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},La.prototype.upload=function(E){this.uploaded||(this.layoutVertexBuffer=E.createVertexBuffer(this.layoutVertexArray,zn),this.indexBuffer=E.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(E),this.uploaded=!0},La.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},La.prototype.addFeature=function(E,B,ee,ge){for(var Ee=0,ze=B;Ee<ze.length;Ee+=1)for(var Ge=0,tt=ze[Ee];Ge<tt.length;Ge+=1){var ht=tt[Ge],Tt=ht.x,Mt=ht.y;if(!(Tt<0||Tt>=_i||Mt<0||Mt>=_i)){var Bt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,E.sortKey),Gt=Bt.vertexLength;mo(this.layoutVertexArray,Tt,Mt,-1,-1),mo(this.layoutVertexArray,Tt,Mt,1,-1),mo(this.layoutVertexArray,Tt,Mt,1,1),mo(this.layoutVertexArray,Tt,Mt,-1,1),this.indexArray.emplaceBack(Gt,Gt+1,Gt+2),this.indexArray.emplaceBack(Gt,Gt+3,Gt+2),Bt.vertexLength+=4,Bt.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,E,ee,{},ge)},Or("CircleBucket",La,{omit:["layers"]});var p5=new ua({"circle-sort-key":new qr(Xe.layout_circle["circle-sort-key"])}),d5={paint:new ua({"circle-radius":new qr(Xe.paint_circle["circle-radius"]),"circle-color":new qr(Xe.paint_circle["circle-color"]),"circle-blur":new qr(Xe.paint_circle["circle-blur"]),"circle-opacity":new qr(Xe.paint_circle["circle-opacity"]),"circle-translate":new Dr(Xe.paint_circle["circle-translate"]),"circle-translate-anchor":new Dr(Xe.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Dr(Xe.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Dr(Xe.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new qr(Xe.paint_circle["circle-stroke-width"]),"circle-stroke-color":new qr(Xe.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new qr(Xe.paint_circle["circle-stroke-opacity"])}),layout:p5},Xs=typeof Float32Array<"u"?Float32Array:Array;function Eg(E){return E[0]=1,E[1]=0,E[2]=0,E[3]=0,E[4]=0,E[5]=1,E[6]=0,E[7]=0,E[8]=0,E[9]=0,E[10]=1,E[11]=0,E[12]=0,E[13]=0,E[14]=0,E[15]=1,E}function h1(E,B,ee){var ge=B[0],Ee=B[1],ze=B[2],Ge=B[3],tt=B[4],ht=B[5],Tt=B[6],Mt=B[7],Bt=B[8],Gt=B[9],Vt=B[10],ln=B[11],cn=B[12],Mn=B[13],Tn=B[14],Nn=B[15],jn=ee[0],Zn=ee[1],Jn=ee[2],lr=ee[3];return E[0]=jn*ge+Zn*tt+Jn*Bt+lr*cn,E[1]=jn*Ee+Zn*ht+Jn*Gt+lr*Mn,E[2]=jn*ze+Zn*Tt+Jn*Vt+lr*Tn,E[3]=jn*Ge+Zn*Mt+Jn*ln+lr*Nn,jn=ee[4],Zn=ee[5],Jn=ee[6],lr=ee[7],E[4]=jn*ge+Zn*tt+Jn*Bt+lr*cn,E[5]=jn*Ee+Zn*ht+Jn*Gt+lr*Mn,E[6]=jn*ze+Zn*Tt+Jn*Vt+lr*Tn,E[7]=jn*Ge+Zn*Mt+Jn*ln+lr*Nn,jn=ee[8],Zn=ee[9],Jn=ee[10],lr=ee[11],E[8]=jn*ge+Zn*tt+Jn*Bt+lr*cn,E[9]=jn*Ee+Zn*ht+Jn*Gt+lr*Mn,E[10]=jn*ze+Zn*Tt+Jn*Vt+lr*Tn,E[11]=jn*Ge+Zn*Mt+Jn*ln+lr*Nn,jn=ee[12],Zn=ee[13],Jn=ee[14],lr=ee[15],E[12]=jn*ge+Zn*tt+Jn*Bt+lr*cn,E[13]=jn*Ee+Zn*ht+Jn*Gt+lr*Mn,E[14]=jn*ze+Zn*Tt+Jn*Vt+lr*Tn,E[15]=jn*Ge+Zn*Mt+Jn*ln+lr*Nn,E}Math.hypot||(Math.hypot=function(){for(var E=arguments,B=0,ee=arguments.length;ee--;)B+=E[ee]*E[ee];return Math.sqrt(B)});var g5=h1,Ad,v5=function(E,B,ee){return E[0]=B[0]-ee[0],E[1]=B[1]-ee[1],E[2]=B[2]-ee[2],E};function Md(E,B,ee){var ge=B[0],Ee=B[1],ze=B[2],Ge=B[3];return E[0]=ee[0]*ge+ee[4]*Ee+ee[8]*ze+ee[12]*Ge,E[1]=ee[1]*ge+ee[5]*Ee+ee[9]*ze+ee[13]*Ge,E[2]=ee[2]*ge+ee[6]*Ee+ee[10]*ze+ee[14]*Ge,E[3]=ee[3]*ge+ee[7]*Ee+ee[11]*ze+ee[15]*Ge,E}Ad=new Xs(3),Xs!=Float32Array&&(Ad[0]=0,Ad[1]=0,Ad[2]=0),function(){var E=new Xs(4);Xs!=Float32Array&&(E[0]=0,E[1]=0,E[2]=0,E[3]=0)}();var m5=function(E){var B=E[0],ee=E[1];return B*B+ee*ee},y5=(function(){var E=new Xs(2);Xs!=Float32Array&&(E[0]=0,E[1]=0)}(),function(E){function B(ee){E.call(this,ee,d5)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype.createBucket=function(ee){return new La(ee)},B.prototype.queryRadius=function(ee){var ge=ee;return Vh("circle-radius",this,ge)+Vh("circle-stroke-width",this,ge)+Td(this.paint.get("circle-translate"))},B.prototype.queryIntersectsFeature=function(ee,ge,Ee,ze,Ge,tt,ht,Tt){for(var Mt=kd(ee,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),tt.angle,ht),Bt=this.paint.get("circle-radius").evaluate(ge,Ee)+this.paint.get("circle-stroke-width").evaluate(ge,Ee),Gt=this.paint.get("circle-pitch-alignment")==="map",Vt=Gt?Mt:function(_r,yr){return _r.map(function(Sr){return p1(Sr,yr)})}(Mt,Tt),ln=Gt?Bt*ht:Bt,cn=0,Mn=ze;cn<Mn.length;cn+=1)for(var Tn=0,Nn=Mn[cn];Tn<Nn.length;Tn+=1){var jn=Nn[Tn],Zn=Gt?jn:p1(jn,Tt),Jn=ln,lr=Md([],[jn.x,jn.y,0,1],Tt);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Jn*=lr[3]/tt.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Jn*=tt.cameraToCenterDistance/lr[3]),Ag(Vt,Zn,Jn))return!0}return!1},B}(Si));function p1(E,B){var ee=Md([],[E.x,E.y,0,1],B);return new n(ee[0]/ee[3],ee[1]/ee[3])}var d1=function(E){function B(){E.apply(this,arguments)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B}(La);function Lg(E,B,ee,ge){var Ee=B.width,ze=B.height;if(ge){if(ge instanceof Uint8ClampedArray)ge=new Uint8Array(ge.buffer);else if(ge.length!==Ee*ze*ee)throw new RangeError("mismatched image size")}else ge=new Uint8Array(Ee*ze*ee);return E.width=Ee,E.height=ze,E.data=ge,E}function g1(E,B,ee){var ge=B.width,Ee=B.height;if(ge!==E.width||Ee!==E.height){var ze=Lg({},{width:ge,height:Ee},ee);Cg(E,ze,{x:0,y:0},{x:0,y:0},{width:Math.min(E.width,ge),height:Math.min(E.height,Ee)},ee),E.width=ge,E.height=Ee,E.data=ze.data}}function Cg(E,B,ee,ge,Ee,ze){if(Ee.width===0||Ee.height===0)return B;if(Ee.width>E.width||Ee.height>E.height||ee.x>E.width-Ee.width||ee.y>E.height-Ee.height)throw new RangeError("out of range source coordinates for image copy");if(Ee.width>B.width||Ee.height>B.height||ge.x>B.width-Ee.width||ge.y>B.height-Ee.height)throw new RangeError("out of range destination coordinates for image copy");for(var Ge=E.data,tt=B.data,ht=0;ht<Ee.height;ht++)for(var Tt=((ee.y+ht)*E.width+ee.x)*ze,Mt=((ge.y+ht)*B.width+ge.x)*ze,Bt=0;Bt<Ee.width*ze;Bt++)tt[Mt+Bt]=Ge[Tt+Bt];return B}Or("HeatmapBucket",d1,{omit:["layers"]});var hf=function(E,B){Lg(this,E,1,B)};hf.prototype.resize=function(E){g1(this,E,1)},hf.prototype.clone=function(){return new hf({width:this.width,height:this.height},new Uint8Array(this.data))},hf.copy=function(E,B,ee,ge,Ee){Cg(E,B,ee,ge,Ee,1)};var fs=function(E,B){Lg(this,E,4,B)};fs.prototype.resize=function(E){g1(this,E,4)},fs.prototype.replace=function(E,B){B?this.data.set(E):E instanceof Uint8ClampedArray?this.data=new Uint8Array(E.buffer):this.data=E},fs.prototype.clone=function(){return new fs({width:this.width,height:this.height},new Uint8Array(this.data))},fs.copy=function(E,B,ee,ge,Ee){Cg(E,B,ee,ge,Ee,4)},Or("AlphaImage",hf),Or("RGBAImage",fs);var x5={paint:new ua({"heatmap-radius":new qr(Xe.paint_heatmap["heatmap-radius"]),"heatmap-weight":new qr(Xe.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Dr(Xe.paint_heatmap["heatmap-intensity"]),"heatmap-color":new ks(Xe.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Dr(Xe.paint_heatmap["heatmap-opacity"])})};function v1(E){var B={},ee=E.resolution||256,ge=E.clips?E.clips.length:1,Ee=E.image||new fs({width:ee,height:ge}),ze=function(ln,cn,Mn){B[E.evaluationKey]=Mn;var Tn=E.expression.evaluate(B);Ee.data[ln+cn+0]=Math.floor(255*Tn.r/Tn.a),Ee.data[ln+cn+1]=Math.floor(255*Tn.g/Tn.a),Ee.data[ln+cn+2]=Math.floor(255*Tn.b/Tn.a),Ee.data[ln+cn+3]=Math.floor(255*Tn.a)};if(E.clips)for(var Ge=0,tt=0;Ge<ge;++Ge,tt+=4*ee)for(var ht=0,Tt=0;ht<ee;ht++,Tt+=4){var Mt=ht/(ee-1),Bt=E.clips[Ge];ze(tt,Tt,Bt.start*(1-Mt)+Bt.end*Mt)}else for(var Gt=0,Vt=0;Gt<ee;Gt++,Vt+=4)ze(0,Vt,Gt/(ee-1));return Ee}var b5=function(E){function B(ee){E.call(this,ee,x5),this._updateColorRamp()}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype.createBucket=function(ee){return new d1(ee)},B.prototype._handleSpecialPaintPropertyUpdate=function(ee){ee==="heatmap-color"&&this._updateColorRamp()},B.prototype._updateColorRamp=function(){var ee=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=v1({expression:ee,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},B.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},B.prototype.queryRadius=function(){return 0},B.prototype.queryIntersectsFeature=function(){return!1},B.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},B}(Si),_5={paint:new ua({"hillshade-illumination-direction":new Dr(Xe.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Dr(Xe.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Dr(Xe.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Dr(Xe.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Dr(Xe.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Dr(Xe.paint_hillshade["hillshade-accent-color"])})},w5=function(E){function B(ee){E.call(this,ee,_5)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},B}(Si),T5=Hi([{name:"a_pos",components:2,type:"Int16"}],4).members,Pg=Sd,k5=Sd;function Sd(E,B,ee){ee=ee||2;var ge,Ee,ze,Ge,tt,ht,Tt,Mt=B&&B.length,Bt=Mt?B[0]*ee:E.length,Gt=m1(E,0,Bt,ee,!0),Vt=[];if(!Gt||Gt.next===Gt.prev)return Vt;if(Mt&&(Gt=function(cn,Mn,Tn,Nn){var jn,Zn,Jn,lr=[];for(jn=0,Zn=Mn.length;jn<Zn;jn++)(Jn=m1(cn,Mn[jn]*Nn,jn<Zn-1?Mn[jn+1]*Nn:cn.length,Nn,!1))===Jn.next&&(Jn.steiner=!0),lr.push(O5(Jn));for(lr.sort(L5),jn=0;jn<lr.length;jn++)C5(lr[jn],Tn),Tn=Sc(Tn,Tn.next);return Tn}(E,B,Gt,ee)),E.length>80*ee){ge=ze=E[0],Ee=Ge=E[1];for(var ln=ee;ln<Bt;ln+=ee)(tt=E[ln])<ge&&(ge=tt),(ht=E[ln+1])<Ee&&(Ee=ht),tt>ze&&(ze=tt),ht>Ge&&(Ge=ht);Tt=(Tt=Math.max(ze-ge,Ge-Ee))!==0?1/Tt:0}return Hh(Gt,Vt,ee,ge,Ee,Tt),Vt}function m1(E,B,ee,ge,Ee){var ze,Ge;if(Ee===Rg(E,B,ee,ge)>0)for(ze=B;ze<ee;ze+=ge)Ge=b1(ze,E[ze],E[ze+1],Ge);else for(ze=ee-ge;ze>=B;ze-=ge)Ge=b1(ze,E[ze],E[ze+1],Ge);return Ge&&Ed(Ge,Ge.next)&&(Gh(Ge),Ge=Ge.next),Ge}function Sc(E,B){if(!E)return E;B||(B=E);var ee,ge=E;do if(ee=!1,ge.steiner||!Ed(ge,ge.next)&&Na(ge.prev,ge,ge.next)!==0)ge=ge.next;else{if(Gh(ge),(ge=B=ge.prev)===ge.next)break;ee=!0}while(ee||ge!==B);return B}function Hh(E,B,ee,ge,Ee,ze,Ge){if(E){!Ge&&ze&&function(Mt,Bt,Gt,Vt){var ln=Mt;do ln.z===null&&(ln.z=Og(ln.x,ln.y,Bt,Gt,Vt)),ln.prevZ=ln.prev,ln.nextZ=ln.next,ln=ln.next;while(ln!==Mt);ln.prevZ.nextZ=null,ln.prevZ=null,function(cn){var Mn,Tn,Nn,jn,Zn,Jn,lr,_r,yr=1;do{for(Tn=cn,cn=null,Zn=null,Jn=0;Tn;){for(Jn++,Nn=Tn,lr=0,Mn=0;Mn<yr&&(lr++,Nn=Nn.nextZ);Mn++);for(_r=yr;lr>0||_r>0&&Nn;)lr!==0&&(_r===0||!Nn||Tn.z<=Nn.z)?(jn=Tn,Tn=Tn.nextZ,lr--):(jn=Nn,Nn=Nn.nextZ,_r--),Zn?Zn.nextZ=jn:cn=jn,jn.prevZ=Zn,Zn=jn;Tn=Nn}Zn.nextZ=null,yr*=2}while(Jn>1)}(ln)}(E,ge,Ee,ze);for(var tt,ht,Tt=E;E.prev!==E.next;)if(tt=E.prev,ht=E.next,ze?M5(E,ge,Ee,ze):A5(E))B.push(tt.i/ee),B.push(E.i/ee),B.push(ht.i/ee),Gh(E),E=ht.next,Tt=ht.next;else if((E=ht)===Tt){Ge?Ge===1?Hh(E=S5(Sc(E),B,ee),B,ee,ge,Ee,ze,2):Ge===2&&E5(E,B,ee,ge,Ee,ze):Hh(Sc(E),B,ee,ge,Ee,ze,1);break}}}function A5(E){var B=E.prev,ee=E,ge=E.next;if(Na(B,ee,ge)>=0)return!1;for(var Ee=E.next.next;Ee!==E.prev;){if(Gf(B.x,B.y,ee.x,ee.y,ge.x,ge.y,Ee.x,Ee.y)&&Na(Ee.prev,Ee,Ee.next)>=0)return!1;Ee=Ee.next}return!0}function M5(E,B,ee,ge){var Ee=E.prev,ze=E,Ge=E.next;if(Na(Ee,ze,Ge)>=0)return!1;for(var tt=Ee.x<ze.x?Ee.x<Ge.x?Ee.x:Ge.x:ze.x<Ge.x?ze.x:Ge.x,ht=Ee.y<ze.y?Ee.y<Ge.y?Ee.y:Ge.y:ze.y<Ge.y?ze.y:Ge.y,Tt=Ee.x>ze.x?Ee.x>Ge.x?Ee.x:Ge.x:ze.x>Ge.x?ze.x:Ge.x,Mt=Ee.y>ze.y?Ee.y>Ge.y?Ee.y:Ge.y:ze.y>Ge.y?ze.y:Ge.y,Bt=Og(tt,ht,B,ee,ge),Gt=Og(Tt,Mt,B,ee,ge),Vt=E.prevZ,ln=E.nextZ;Vt&&Vt.z>=Bt&&ln&&ln.z<=Gt;){if(Vt!==E.prev&&Vt!==E.next&&Gf(Ee.x,Ee.y,ze.x,ze.y,Ge.x,Ge.y,Vt.x,Vt.y)&&Na(Vt.prev,Vt,Vt.next)>=0||(Vt=Vt.prevZ,ln!==E.prev&&ln!==E.next&&Gf(Ee.x,Ee.y,ze.x,ze.y,Ge.x,Ge.y,ln.x,ln.y)&&Na(ln.prev,ln,ln.next)>=0))return!1;ln=ln.nextZ}for(;Vt&&Vt.z>=Bt;){if(Vt!==E.prev&&Vt!==E.next&&Gf(Ee.x,Ee.y,ze.x,ze.y,Ge.x,Ge.y,Vt.x,Vt.y)&&Na(Vt.prev,Vt,Vt.next)>=0)return!1;Vt=Vt.prevZ}for(;ln&&ln.z<=Gt;){if(ln!==E.prev&&ln!==E.next&&Gf(Ee.x,Ee.y,ze.x,ze.y,Ge.x,Ge.y,ln.x,ln.y)&&Na(ln.prev,ln,ln.next)>=0)return!1;ln=ln.nextZ}return!0}function S5(E,B,ee){var ge=E;do{var Ee=ge.prev,ze=ge.next.next;!Ed(Ee,ze)&&y1(Ee,ge,ge.next,ze)&&qh(Ee,ze)&&qh(ze,Ee)&&(B.push(Ee.i/ee),B.push(ge.i/ee),B.push(ze.i/ee),Gh(ge),Gh(ge.next),ge=E=ze),ge=ge.next}while(ge!==E);return Sc(ge)}function E5(E,B,ee,ge,Ee,ze){var Ge=E;do{for(var tt=Ge.next.next;tt!==Ge.prev;){if(Ge.i!==tt.i&&I5(Ge,tt)){var ht=x1(Ge,tt);return Ge=Sc(Ge,Ge.next),ht=Sc(ht,ht.next),Hh(Ge,B,ee,ge,Ee,ze),void Hh(ht,B,ee,ge,Ee,ze)}tt=tt.next}Ge=Ge.next}while(Ge!==E)}function L5(E,B){return E.x-B.x}function C5(E,B){if(B=function(ge,Ee){var ze,Ge=Ee,tt=ge.x,ht=ge.y,Tt=-1/0;do{if(ht<=Ge.y&&ht>=Ge.next.y&&Ge.next.y!==Ge.y){var Mt=Ge.x+(ht-Ge.y)*(Ge.next.x-Ge.x)/(Ge.next.y-Ge.y);if(Mt<=tt&&Mt>Tt){if(Tt=Mt,Mt===tt){if(ht===Ge.y)return Ge;if(ht===Ge.next.y)return Ge.next}ze=Ge.x<Ge.next.x?Ge:Ge.next}}Ge=Ge.next}while(Ge!==Ee);if(!ze)return null;if(tt===Tt)return ze;var Bt,Gt=ze,Vt=ze.x,ln=ze.y,cn=1/0;Ge=ze;do tt>=Ge.x&&Ge.x>=Vt&&tt!==Ge.x&&Gf(ht<ln?tt:Tt,ht,Vt,ln,ht<ln?Tt:tt,ht,Ge.x,Ge.y)&&(Bt=Math.abs(ht-Ge.y)/(tt-Ge.x),qh(Ge,ge)&&(Bt<cn||Bt===cn&&(Ge.x>ze.x||Ge.x===ze.x&&P5(ze,Ge)))&&(ze=Ge,cn=Bt)),Ge=Ge.next;while(Ge!==Gt);return ze}(E,B)){var ee=x1(B,E);Sc(B,B.next),Sc(ee,ee.next)}}function P5(E,B){return Na(E.prev,E,B.prev)<0&&Na(B.next,E,E.next)<0}function Og(E,B,ee,ge,Ee){return(E=1431655765&((E=858993459&((E=252645135&((E=16711935&((E=32767*(E-ee)*Ee)|E<<8))|E<<4))|E<<2))|E<<1))|(B=1431655765&((B=858993459&((B=252645135&((B=16711935&((B=32767*(B-ge)*Ee)|B<<8))|B<<4))|B<<2))|B<<1))<<1}function O5(E){var B=E,ee=E;do(B.x<ee.x||B.x===ee.x&&B.y<ee.y)&&(ee=B),B=B.next;while(B!==E);return ee}function Gf(E,B,ee,ge,Ee,ze,Ge,tt){return(Ee-Ge)*(B-tt)-(E-Ge)*(ze-tt)>=0&&(E-Ge)*(ge-tt)-(ee-Ge)*(B-tt)>=0&&(ee-Ge)*(ze-tt)-(Ee-Ge)*(ge-tt)>=0}function I5(E,B){return E.next.i!==B.i&&E.prev.i!==B.i&&!function(ee,ge){var Ee=ee;do{if(Ee.i!==ee.i&&Ee.next.i!==ee.i&&Ee.i!==ge.i&&Ee.next.i!==ge.i&&y1(Ee,Ee.next,ee,ge))return!0;Ee=Ee.next}while(Ee!==ee);return!1}(E,B)&&(qh(E,B)&&qh(B,E)&&function(ee,ge){var Ee=ee,ze=!1,Ge=(ee.x+ge.x)/2,tt=(ee.y+ge.y)/2;do Ee.y>tt!=Ee.next.y>tt&&Ee.next.y!==Ee.y&&Ge<(Ee.next.x-Ee.x)*(tt-Ee.y)/(Ee.next.y-Ee.y)+Ee.x&&(ze=!ze),Ee=Ee.next;while(Ee!==ee);return ze}(E,B)&&(Na(E.prev,E,B.prev)||Na(E,B.prev,B))||Ed(E,B)&&Na(E.prev,E,E.next)>0&&Na(B.prev,B,B.next)>0)}function Na(E,B,ee){return(B.y-E.y)*(ee.x-B.x)-(B.x-E.x)*(ee.y-B.y)}function Ed(E,B){return E.x===B.x&&E.y===B.y}function y1(E,B,ee,ge){var Ee=Cd(Na(E,B,ee)),ze=Cd(Na(E,B,ge)),Ge=Cd(Na(ee,ge,E)),tt=Cd(Na(ee,ge,B));return Ee!==ze&&Ge!==tt||!(Ee!==0||!Ld(E,ee,B))||!(ze!==0||!Ld(E,ge,B))||!(Ge!==0||!Ld(ee,E,ge))||!(tt!==0||!Ld(ee,B,ge))}function Ld(E,B,ee){return B.x<=Math.max(E.x,ee.x)&&B.x>=Math.min(E.x,ee.x)&&B.y<=Math.max(E.y,ee.y)&&B.y>=Math.min(E.y,ee.y)}function Cd(E){return E>0?1:E<0?-1:0}function qh(E,B){return Na(E.prev,E,E.next)<0?Na(E,B,E.next)>=0&&Na(E,E.prev,B)>=0:Na(E,B,E.prev)<0||Na(E,E.next,B)<0}function x1(E,B){var ee=new Ig(E.i,E.x,E.y),ge=new Ig(B.i,B.x,B.y),Ee=E.next,ze=B.prev;return E.next=B,B.prev=E,ee.next=Ee,Ee.prev=ee,ge.next=ee,ee.prev=ge,ze.next=ge,ge.prev=ze,ge}function b1(E,B,ee,ge){var Ee=new Ig(E,B,ee);return ge?(Ee.next=ge.next,Ee.prev=ge,ge.next.prev=Ee,ge.next=Ee):(Ee.prev=Ee,Ee.next=Ee),Ee}function Gh(E){E.next.prev=E.prev,E.prev.next=E.next,E.prevZ&&(E.prevZ.nextZ=E.nextZ),E.nextZ&&(E.nextZ.prevZ=E.prevZ)}function Ig(E,B,ee){this.i=E,this.x=B,this.y=ee,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Rg(E,B,ee,ge){for(var Ee=0,ze=B,Ge=ee-ge;ze<ee;ze+=ge)Ee+=(E[Ge]-E[ze])*(E[ze+1]+E[Ge+1]),Ge=ze;return Ee}function R5(E,B,ee,ge,Ee){_1(E,B,ee,ge||E.length-1,Ee||D5)}function _1(E,B,ee,ge,Ee){for(;ge>ee;){if(ge-ee>600){var ze=ge-ee+1,Ge=B-ee+1,tt=Math.log(ze),ht=.5*Math.exp(2*tt/3),Tt=.5*Math.sqrt(tt*ht*(ze-ht)/ze)*(Ge-ze/2<0?-1:1);_1(E,B,Math.max(ee,Math.floor(B-Ge*ht/ze+Tt)),Math.min(ge,Math.floor(B+(ze-Ge)*ht/ze+Tt)),Ee)}var Mt=E[B],Bt=ee,Gt=ge;for(Wh(E,ee,B),Ee(E[ge],Mt)>0&&Wh(E,ee,ge);Bt<Gt;){for(Wh(E,Bt,Gt),Bt++,Gt--;Ee(E[Bt],Mt)<0;)Bt++;for(;Ee(E[Gt],Mt)>0;)Gt--}Ee(E[ee],Mt)===0?Wh(E,ee,Gt):Wh(E,++Gt,ge),Gt<=B&&(ee=Gt+1),B<=Gt&&(ge=Gt-1)}}function Wh(E,B,ee){var ge=E[B];E[B]=E[ee],E[ee]=ge}function D5(E,B){return E<B?-1:E>B?1:0}function Dg(E,B){var ee=E.length;if(ee<=1)return[E];for(var ge,Ee,ze=[],Ge=0;Ge<ee;Ge++){var tt=I(E[Ge]);tt!==0&&(E[Ge].area=Math.abs(tt),Ee===void 0&&(Ee=tt<0),Ee===tt<0?(ge&&ze.push(ge),ge=[E[Ge]]):ge.push(E[Ge]))}if(ge&&ze.push(ge),B>1)for(var ht=0;ht<ze.length;ht++)ze[ht].length<=B||(R5(ze[ht],B,1,ze[ht].length-1,z5),ze[ht]=ze[ht].slice(0,B));return ze}function z5(E,B){return B.area-E.area}function zg(E,B,ee){for(var ge=ee.patternDependencies,Ee=!1,ze=0,Ge=B;ze<Ge.length;ze+=1){var tt=Ge[ze].paint.get(E+"-pattern");tt.isConstant()||(Ee=!0);var ht=tt.constantOr(null);ht&&(Ee=!0,ge[ht.to]=!0,ge[ht.from]=!0)}return Ee}function Fg(E,B,ee,ge,Ee){for(var ze=Ee.patternDependencies,Ge=0,tt=B;Ge<tt.length;Ge+=1){var ht=tt[Ge],Tt=ht.paint.get(E+"-pattern").value;if(Tt.kind!=="constant"){var Mt=Tt.evaluate({zoom:ge-1},ee,{},Ee.availableImages),Bt=Tt.evaluate({zoom:ge},ee,{},Ee.availableImages),Gt=Tt.evaluate({zoom:ge+1},ee,{},Ee.availableImages);Mt=Mt&&Mt.name?Mt.name:Mt,Bt=Bt&&Bt.name?Bt.name:Bt,Gt=Gt&&Gt.name?Gt.name:Gt,ze[Mt]=!0,ze[Bt]=!0,ze[Gt]=!0,ee.patterns[ht.id]={min:Mt,mid:Bt,max:Gt}}}return ee}Sd.deviation=function(E,B,ee,ge){var Ee=B&&B.length,ze=Ee?B[0]*ee:E.length,Ge=Math.abs(Rg(E,0,ze,ee));if(Ee)for(var tt=0,ht=B.length;tt<ht;tt++){var Tt=B[tt]*ee,Mt=tt<ht-1?B[tt+1]*ee:E.length;Ge-=Math.abs(Rg(E,Tt,Mt,ee))}var Bt=0;for(tt=0;tt<ge.length;tt+=3){var Gt=ge[tt]*ee,Vt=ge[tt+1]*ee,ln=ge[tt+2]*ee;Bt+=Math.abs((E[Gt]-E[ln])*(E[Vt+1]-E[Gt+1])-(E[Gt]-E[Vt])*(E[ln+1]-E[Gt+1]))}return Ge===0&&Bt===0?0:Math.abs((Bt-Ge)/Ge)},Sd.flatten=function(E){for(var B=E[0][0].length,ee={vertices:[],holes:[],dimensions:B},ge=0,Ee=0;Ee<E.length;Ee++){for(var ze=0;ze<E[Ee].length;ze++)for(var Ge=0;Ge<B;Ge++)ee.vertices.push(E[Ee][ze][Ge]);Ee>0&&(ge+=E[Ee-1].length,ee.holes.push(ge))}return ee},Pg.default=k5;var cu=function(E){this.zoom=E.zoom,this.overscaling=E.overscaling,this.layers=E.layers,this.layerIds=this.layers.map(function(B){return B.id}),this.index=E.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Zs,this.indexArray=new ke,this.indexArray2=new pt,this.programConfigurations=new da(E.layers,E.zoom),this.segments=new Gn,this.segments2=new Gn,this.stateDependentLayerIds=this.layers.filter(function(B){return B.isStateDependent()}).map(function(B){return B.id})};cu.prototype.populate=function(E,B,ee){this.hasPattern=zg("fill",this.layers,B);for(var ge=this.layers[0].layout.get("fill-sort-key"),Ee=[],ze=0,Ge=E;ze<Ge.length;ze+=1){var tt=Ge[ze],ht=tt.feature,Tt=tt.id,Mt=tt.index,Bt=tt.sourceLayerIndex,Gt=this.layers[0]._featureFilter.needGeometry,Vt=Qi(ht,Gt);if(this.layers[0]._featureFilter.filter(new pi(this.zoom),Vt,ee)){var ln=ge?ge.evaluate(Vt,{},ee,B.availableImages):void 0,cn={id:Tt,properties:ht.properties,type:ht.type,sourceLayerIndex:Bt,index:Mt,geometry:Gt?Vt.geometry:As(ht),patterns:{},sortKey:ln};Ee.push(cn)}}ge&&Ee.sort(function(Sr,Pr){return Sr.sortKey-Pr.sortKey});for(var Mn=0,Tn=Ee;Mn<Tn.length;Mn+=1){var Nn=Tn[Mn],jn=Nn,Zn=jn.geometry,Jn=jn.index,lr=jn.sourceLayerIndex;if(this.hasPattern){var _r=Fg("fill",this.layers,Nn,this.zoom,B);this.patternFeatures.push(_r)}else this.addFeature(Nn,Zn,Jn,ee,{});var yr=E[Jn].feature;B.featureIndex.insert(yr,Zn,Jn,lr,this.index)}},cu.prototype.update=function(E,B,ee){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(E,B,this.stateDependentLayers,ee)},cu.prototype.addFeatures=function(E,B,ee){for(var ge=0,Ee=this.patternFeatures;ge<Ee.length;ge+=1){var ze=Ee[ge];this.addFeature(ze,ze.geometry,ze.index,B,ee)}},cu.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},cu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},cu.prototype.upload=function(E){this.uploaded||(this.layoutVertexBuffer=E.createVertexBuffer(this.layoutVertexArray,T5),this.indexBuffer=E.createIndexBuffer(this.indexArray),this.indexBuffer2=E.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(E),this.uploaded=!0},cu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},cu.prototype.addFeature=function(E,B,ee,ge,Ee){for(var ze=0,Ge=Dg(B,500);ze<Ge.length;ze+=1){for(var tt=Ge[ze],ht=0,Tt=0,Mt=tt;Tt<Mt.length;Tt+=1)ht+=Mt[Tt].length;for(var Bt=this.segments.prepareSegment(ht,this.layoutVertexArray,this.indexArray),Gt=Bt.vertexLength,Vt=[],ln=[],cn=0,Mn=tt;cn<Mn.length;cn+=1){var Tn=Mn[cn];if(Tn.length!==0){Tn!==tt[0]&&ln.push(Vt.length/2);var Nn=this.segments2.prepareSegment(Tn.length,this.layoutVertexArray,this.indexArray2),jn=Nn.vertexLength;this.layoutVertexArray.emplaceBack(Tn[0].x,Tn[0].y),this.indexArray2.emplaceBack(jn+Tn.length-1,jn),Vt.push(Tn[0].x),Vt.push(Tn[0].y);for(var Zn=1;Zn<Tn.length;Zn++)this.layoutVertexArray.emplaceBack(Tn[Zn].x,Tn[Zn].y),this.indexArray2.emplaceBack(jn+Zn-1,jn+Zn),Vt.push(Tn[Zn].x),Vt.push(Tn[Zn].y);Nn.vertexLength+=Tn.length,Nn.primitiveLength+=Tn.length}}for(var Jn=Pg(Vt,ln),lr=0;lr<Jn.length;lr+=3)this.indexArray.emplaceBack(Gt+Jn[lr],Gt+Jn[lr+1],Gt+Jn[lr+2]);Bt.vertexLength+=ht,Bt.primitiveLength+=Jn.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,E,ee,Ee,ge)},Or("FillBucket",cu,{omit:["layers","patternFeatures"]});var F5=new ua({"fill-sort-key":new qr(Xe.layout_fill["fill-sort-key"])}),B5={paint:new ua({"fill-antialias":new Dr(Xe.paint_fill["fill-antialias"]),"fill-opacity":new qr(Xe.paint_fill["fill-opacity"]),"fill-color":new qr(Xe.paint_fill["fill-color"]),"fill-outline-color":new qr(Xe.paint_fill["fill-outline-color"]),"fill-translate":new Dr(Xe.paint_fill["fill-translate"]),"fill-translate-anchor":new Dr(Xe.paint_fill["fill-translate-anchor"]),"fill-pattern":new go(Xe.paint_fill["fill-pattern"])}),layout:F5},N5=function(E){function B(ee){E.call(this,ee,B5)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype.recalculate=function(ee,ge){E.prototype.recalculate.call(this,ee,ge);var Ee=this.paint._values["fill-outline-color"];Ee.value.kind==="constant"&&Ee.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},B.prototype.createBucket=function(ee){return new cu(ee)},B.prototype.queryRadius=function(){return Td(this.paint.get("fill-translate"))},B.prototype.queryIntersectsFeature=function(ee,ge,Ee,ze,Ge,tt,ht){return bd(kd(ee,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),tt.angle,ht),ze)},B.prototype.isTileClipped=function(){return!0},B}(Si),j5=Hi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,w1=Wf;function Wf(E,B,ee,ge,Ee){this.properties={},this.extent=ee,this.type=0,this._pbf=E,this._geometry=-1,this._keys=ge,this._values=Ee,E.readFields(U5,this,B)}function U5(E,B,ee){E==1?B.id=ee.readVarint():E==2?function(ge,Ee){for(var ze=ge.readVarint()+ge.pos;ge.pos<ze;){var Ge=Ee._keys[ge.readVarint()],tt=Ee._values[ge.readVarint()];Ee.properties[Ge]=tt}}(ee,B):E==3?B.type=ee.readVarint():E==4&&(B._geometry=ee.pos)}function V5(E){for(var B,ee,ge=0,Ee=0,ze=E.length,Ge=ze-1;Ee<ze;Ge=Ee++)B=E[Ee],ge+=((ee=E[Ge]).x-B.x)*(B.y+ee.y);return ge}Wf.types=["Unknown","Point","LineString","Polygon"],Wf.prototype.loadGeometry=function(){var E=this._pbf;E.pos=this._geometry;for(var B,ee=E.readVarint()+E.pos,ge=1,Ee=0,ze=0,Ge=0,tt=[];E.pos<ee;){if(Ee<=0){var ht=E.readVarint();ge=7&ht,Ee=ht>>3}if(Ee--,ge===1||ge===2)ze+=E.readSVarint(),Ge+=E.readSVarint(),ge===1&&(B&&tt.push(B),B=[]),B.push(new n(ze,Ge));else{if(ge!==7)throw new Error("unknown command "+ge);B&&B.push(B[0].clone())}}return B&&tt.push(B),tt},Wf.prototype.bbox=function(){var E=this._pbf;E.pos=this._geometry;for(var B=E.readVarint()+E.pos,ee=1,ge=0,Ee=0,ze=0,Ge=1/0,tt=-1/0,ht=1/0,Tt=-1/0;E.pos<B;){if(ge<=0){var Mt=E.readVarint();ee=7&Mt,ge=Mt>>3}if(ge--,ee===1||ee===2)(Ee+=E.readSVarint())<Ge&&(Ge=Ee),Ee>tt&&(tt=Ee),(ze+=E.readSVarint())<ht&&(ht=ze),ze>Tt&&(Tt=ze);else if(ee!==7)throw new Error("unknown command "+ee)}return[Ge,ht,tt,Tt]},Wf.prototype.toGeoJSON=function(E,B,ee){var ge,Ee,ze=this.extent*Math.pow(2,ee),Ge=this.extent*E,tt=this.extent*B,ht=this.loadGeometry(),Tt=Wf.types[this.type];function Mt(Vt){for(var ln=0;ln<Vt.length;ln++){var cn=Vt[ln],Mn=180-360*(cn.y+tt)/ze;Vt[ln]=[360*(cn.x+Ge)/ze-180,360/Math.PI*Math.atan(Math.exp(Mn*Math.PI/180))-90]}}switch(this.type){case 1:var Bt=[];for(ge=0;ge<ht.length;ge++)Bt[ge]=ht[ge][0];Mt(ht=Bt);break;case 2:for(ge=0;ge<ht.length;ge++)Mt(ht[ge]);break;case 3:for(ht=function(Vt){var ln=Vt.length;if(ln<=1)return[Vt];for(var cn,Mn,Tn=[],Nn=0;Nn<ln;Nn++){var jn=V5(Vt[Nn]);jn!==0&&(Mn===void 0&&(Mn=jn<0),Mn===jn<0?(cn&&Tn.push(cn),cn=[Vt[Nn]]):cn.push(Vt[Nn]))}return cn&&Tn.push(cn),Tn}(ht),ge=0;ge<ht.length;ge++)for(Ee=0;Ee<ht[ge].length;Ee++)Mt(ht[ge][Ee])}ht.length===1?ht=ht[0]:Tt="Multi"+Tt;var Gt={type:"Feature",geometry:{type:Tt,coordinates:ht},properties:this.properties};return"id"in this&&(Gt.id=this.id),Gt};var T1=k1;function k1(E,B){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=E,this._keys=[],this._values=[],this._features=[],E.readFields(H5,this,B),this.length=this._features.length}function H5(E,B,ee){E===15?B.version=ee.readVarint():E===1?B.name=ee.readString():E===5?B.extent=ee.readVarint():E===2?B._features.push(ee.pos):E===3?B._keys.push(ee.readString()):E===4&&B._values.push(function(ge){for(var Ee=null,ze=ge.readVarint()+ge.pos;ge.pos<ze;){var Ge=ge.readVarint()>>3;Ee=Ge===1?ge.readString():Ge===2?ge.readFloat():Ge===3?ge.readDouble():Ge===4?ge.readVarint64():Ge===5?ge.readVarint():Ge===6?ge.readSVarint():Ge===7?ge.readBoolean():null}return Ee}(ee))}function q5(E,B,ee){if(E===3){var ge=new T1(ee,ee.readVarint()+ee.pos);ge.length&&(B[ge.name]=ge)}}k1.prototype.feature=function(E){if(E<0||E>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[E];var B=this._pbf.readVarint()+this._pbf.pos;return new w1(this._pbf,B,this.extent,this._keys,this._values)};var Yf={VectorTile:function(E,B){this.layers=E.readFields(q5,{},B)},VectorTileFeature:w1,VectorTileLayer:T1},G5=Yf.VectorTileFeature.types,Bg=Math.pow(2,13);function Yh(E,B,ee,ge,Ee,ze,Ge,tt){E.emplaceBack(B,ee,2*Math.floor(ge*Bg)+Ge,Ee*Bg*2,ze*Bg*2,Math.round(tt))}var fu=function(E){this.zoom=E.zoom,this.overscaling=E.overscaling,this.layers=E.layers,this.layerIds=this.layers.map(function(B){return B.id}),this.index=E.index,this.hasPattern=!1,this.layoutVertexArray=new et,this.indexArray=new ke,this.programConfigurations=new da(E.layers,E.zoom),this.segments=new Gn,this.stateDependentLayerIds=this.layers.filter(function(B){return B.isStateDependent()}).map(function(B){return B.id})};function W5(E,B){return E.x===B.x&&(E.x<0||E.x>_i)||E.y===B.y&&(E.y<0||E.y>_i)}fu.prototype.populate=function(E,B,ee){this.features=[],this.hasPattern=zg("fill-extrusion",this.layers,B);for(var ge=0,Ee=E;ge<Ee.length;ge+=1){var ze=Ee[ge],Ge=ze.feature,tt=ze.id,ht=ze.index,Tt=ze.sourceLayerIndex,Mt=this.layers[0]._featureFilter.needGeometry,Bt=Qi(Ge,Mt);if(this.layers[0]._featureFilter.filter(new pi(this.zoom),Bt,ee)){var Gt={id:tt,sourceLayerIndex:Tt,index:ht,geometry:Mt?Bt.geometry:As(Ge),properties:Ge.properties,type:Ge.type,patterns:{}};this.hasPattern?this.features.push(Fg("fill-extrusion",this.layers,Gt,this.zoom,B)):this.addFeature(Gt,Gt.geometry,ht,ee,{}),B.featureIndex.insert(Ge,Gt.geometry,ht,Tt,this.index,!0)}}},fu.prototype.addFeatures=function(E,B,ee){for(var ge=0,Ee=this.features;ge<Ee.length;ge+=1){var ze=Ee[ge],Ge=ze.geometry;this.addFeature(ze,Ge,ze.index,B,ee)}},fu.prototype.update=function(E,B,ee){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(E,B,this.stateDependentLayers,ee)},fu.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},fu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},fu.prototype.upload=function(E){this.uploaded||(this.layoutVertexBuffer=E.createVertexBuffer(this.layoutVertexArray,j5),this.indexBuffer=E.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(E),this.uploaded=!0},fu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},fu.prototype.addFeature=function(E,B,ee,ge,Ee){for(var ze=0,Ge=Dg(B,500);ze<Ge.length;ze+=1){for(var tt=Ge[ze],ht=0,Tt=0,Mt=tt;Tt<Mt.length;Tt+=1)ht+=Mt[Tt].length;for(var Bt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),Gt=0,Vt=tt;Gt<Vt.length;Gt+=1){var ln=Vt[Gt];if(ln.length!==0&&!((yi=ln).every(function(ai){return ai.x<0})||yi.every(function(ai){return ai.x>_i})||yi.every(function(ai){return ai.y<0})||yi.every(function(ai){return ai.y>_i})))for(var cn=0,Mn=0;Mn<ln.length;Mn++){var Tn=ln[Mn];if(Mn>=1){var Nn=ln[Mn-1];if(!W5(Tn,Nn)){Bt.vertexLength+4>Gn.MAX_VERTEX_ARRAY_LENGTH&&(Bt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var jn=Tn.sub(Nn)._perp()._unit(),Zn=Nn.dist(Tn);cn+Zn>32768&&(cn=0),Yh(this.layoutVertexArray,Tn.x,Tn.y,jn.x,jn.y,0,0,cn),Yh(this.layoutVertexArray,Tn.x,Tn.y,jn.x,jn.y,0,1,cn),cn+=Zn,Yh(this.layoutVertexArray,Nn.x,Nn.y,jn.x,jn.y,0,0,cn),Yh(this.layoutVertexArray,Nn.x,Nn.y,jn.x,jn.y,0,1,cn);var Jn=Bt.vertexLength;this.indexArray.emplaceBack(Jn,Jn+2,Jn+1),this.indexArray.emplaceBack(Jn+1,Jn+2,Jn+3),Bt.vertexLength+=4,Bt.primitiveLength+=2}}}}if(Bt.vertexLength+ht>Gn.MAX_VERTEX_ARRAY_LENGTH&&(Bt=this.segments.prepareSegment(ht,this.layoutVertexArray,this.indexArray)),G5[E.type]==="Polygon"){for(var lr=[],_r=[],yr=Bt.vertexLength,Sr=0,Pr=tt;Sr<Pr.length;Sr+=1){var Qr=Pr[Sr];if(Qr.length!==0){Qr!==tt[0]&&_r.push(lr.length/2);for(var Br=0;Br<Qr.length;Br++){var Jr=Qr[Br];Yh(this.layoutVertexArray,Jr.x,Jr.y,0,0,1,1,0),lr.push(Jr.x),lr.push(Jr.y)}}}for(var Hr=Pg(lr,_r),Fr=0;Fr<Hr.length;Fr+=3)this.indexArray.emplaceBack(yr+Hr[Fr],yr+Hr[Fr+2],yr+Hr[Fr+1]);Bt.primitiveLength+=Hr.length/3,Bt.vertexLength+=ht}}var yi;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,E,ee,Ee,ge)},Or("FillExtrusionBucket",fu,{omit:["layers","features"]});var Y5={paint:new ua({"fill-extrusion-opacity":new Dr(Xe["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new qr(Xe["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Dr(Xe["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Dr(Xe["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new go(Xe["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new qr(Xe["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new qr(Xe["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Dr(Xe["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},$5=function(E){function B(ee){E.call(this,ee,Y5)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype.createBucket=function(ee){return new fu(ee)},B.prototype.queryRadius=function(){return Td(this.paint.get("fill-extrusion-translate"))},B.prototype.is3D=function(){return!0},B.prototype.queryIntersectsFeature=function(ee,ge,Ee,ze,Ge,tt,ht,Tt){var Mt=kd(ee,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),tt.angle,ht),Bt=this.paint.get("fill-extrusion-height").evaluate(ge,Ee),Gt=this.paint.get("fill-extrusion-base").evaluate(ge,Ee),Vt=function(cn,Mn,Tn,Nn){for(var jn=[],Zn=0,Jn=cn;Zn<Jn.length;Zn+=1){var lr=Jn[Zn],_r=[lr.x,lr.y,Nn,1];Md(_r,_r,Mn),jn.push(new n(_r[0]/_r[3],_r[1]/_r[3]))}return jn}(Mt,Tt,0,0),ln=function(cn,Mn,Tn,Nn){for(var jn=[],Zn=[],Jn=Nn[8]*Mn,lr=Nn[9]*Mn,_r=Nn[10]*Mn,yr=Nn[11]*Mn,Sr=Nn[8]*Tn,Pr=Nn[9]*Tn,Qr=Nn[10]*Tn,Br=Nn[11]*Tn,Jr=0,Hr=cn;Jr<Hr.length;Jr+=1){for(var Fr=[],yi=[],ai=0,$i=Hr[Jr];ai<$i.length;ai+=1){var Zr=$i[ai],ji=Zr.x,ta=Zr.y,oa=Nn[0]*ji+Nn[4]*ta+Nn[12],sa=Nn[1]*ji+Nn[5]*ta+Nn[13],Zi=Nn[2]*ji+Nn[6]*ta+Nn[14],Va=Nn[3]*ji+Nn[7]*ta+Nn[15],pa=Zi+_r,eo=Va+yr,yo=oa+Sr,so=sa+Pr,Yo=Zi+Qr,lo=Va+Br,Wa=new n((oa+Jn)/eo,(sa+lr)/eo);Wa.z=pa/eo,Fr.push(Wa);var uo=new n(yo/lo,so/lo);uo.z=Yo/lo,yi.push(uo)}jn.push(Fr),Zn.push(yi)}return[jn,Zn]}(ze,Gt,Bt,Tt);return function(cn,Mn,Tn){var Nn=1/0;bd(Tn,Mn)&&(Nn=A1(Tn,Mn[0]));for(var jn=0;jn<Mn.length;jn++)for(var Zn=Mn[jn],Jn=cn[jn],lr=0;lr<Zn.length-1;lr++){var _r=Zn[lr],yr=Zn[lr+1],Sr=Jn[lr],Pr=[_r,yr,Jn[lr+1],Sr,_r];ff(Tn,Pr)&&(Nn=Math.min(Nn,A1(Tn,Pr)))}return Nn!==1/0&&Nn}(ln[0],ln[1],Vt)},B}(Si);function $h(E,B){return E.x*B.x+E.y*B.y}function A1(E,B){if(E.length===1){for(var ee,ge=0,Ee=B[ge++];!ee||Ee.equals(ee);)if(!(ee=B[ge++]))return 1/0;for(;ge<B.length;ge++){var ze=B[ge],Ge=E[0],tt=ee.sub(Ee),ht=ze.sub(Ee),Tt=Ge.sub(Ee),Mt=$h(tt,tt),Bt=$h(tt,ht),Gt=$h(ht,ht),Vt=$h(Tt,tt),ln=$h(Tt,ht),cn=Mt*Gt-Bt*Bt,Mn=(Gt*Vt-Bt*ln)/cn,Tn=(Mt*ln-Bt*Vt)/cn,Nn=1-Mn-Tn,jn=Ee.z*Nn+ee.z*Mn+ze.z*Tn;if(isFinite(jn))return jn}return 1/0}for(var Zn=1/0,Jn=0,lr=B;Jn<lr.length;Jn+=1){var _r=lr[Jn];Zn=Math.min(Zn,_r.z)}return Zn}var Z5=Hi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,X5=Hi([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,K5=Yf.VectorTileFeature.types,J5=Math.cos(Math.PI/180*37.5),M1=Math.pow(2,14)/.5,Wo=function(E){var B=this;this.zoom=E.zoom,this.overscaling=E.overscaling,this.layers=E.layers,this.layerIds=this.layers.map(function(ee){return ee.id}),this.index=E.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(ee){B.gradients[ee.id]={}}),this.layoutVertexArray=new rt,this.layoutVertexArray2=new ct,this.indexArray=new ke,this.programConfigurations=new da(E.layers,E.zoom),this.segments=new Gn,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(ee){return ee.isStateDependent()}).map(function(ee){return ee.id})};Wo.prototype.populate=function(E,B,ee){this.hasPattern=zg("line",this.layers,B);for(var ge=this.layers[0].layout.get("line-sort-key"),Ee=[],ze=0,Ge=E;ze<Ge.length;ze+=1){var tt=Ge[ze],ht=tt.feature,Tt=tt.id,Mt=tt.index,Bt=tt.sourceLayerIndex,Gt=this.layers[0]._featureFilter.needGeometry,Vt=Qi(ht,Gt);if(this.layers[0]._featureFilter.filter(new pi(this.zoom),Vt,ee)){var ln=ge?ge.evaluate(Vt,{},ee):void 0,cn={id:Tt,properties:ht.properties,type:ht.type,sourceLayerIndex:Bt,index:Mt,geometry:Gt?Vt.geometry:As(ht),patterns:{},sortKey:ln};Ee.push(cn)}}ge&&Ee.sort(function(Sr,Pr){return Sr.sortKey-Pr.sortKey});for(var Mn=0,Tn=Ee;Mn<Tn.length;Mn+=1){var Nn=Tn[Mn],jn=Nn,Zn=jn.geometry,Jn=jn.index,lr=jn.sourceLayerIndex;if(this.hasPattern){var _r=Fg("line",this.layers,Nn,this.zoom,B);this.patternFeatures.push(_r)}else this.addFeature(Nn,Zn,Jn,ee,{});var yr=E[Jn].feature;B.featureIndex.insert(yr,Zn,Jn,lr,this.index)}},Wo.prototype.update=function(E,B,ee){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(E,B,this.stateDependentLayers,ee)},Wo.prototype.addFeatures=function(E,B,ee){for(var ge=0,Ee=this.patternFeatures;ge<Ee.length;ge+=1){var ze=Ee[ge];this.addFeature(ze,ze.geometry,ze.index,B,ee)}},Wo.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Wo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Wo.prototype.upload=function(E){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=E.createVertexBuffer(this.layoutVertexArray2,X5)),this.layoutVertexBuffer=E.createVertexBuffer(this.layoutVertexArray,Z5),this.indexBuffer=E.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(E),this.uploaded=!0},Wo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Wo.prototype.lineFeatureClips=function(E){if(E.properties&&E.properties.hasOwnProperty("mapbox_clip_start")&&E.properties.hasOwnProperty("mapbox_clip_end"))return{start:+E.properties.mapbox_clip_start,end:+E.properties.mapbox_clip_end}},Wo.prototype.addFeature=function(E,B,ee,ge,Ee){var ze=this.layers[0].layout,Ge=ze.get("line-join").evaluate(E,{}),tt=ze.get("line-cap"),ht=ze.get("line-miter-limit"),Tt=ze.get("line-round-limit");this.lineClips=this.lineFeatureClips(E);for(var Mt=0,Bt=B;Mt<Bt.length;Mt+=1){var Gt=Bt[Mt];this.addLine(Gt,E,Ge,tt,ht,Tt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,E,ee,Ee,ge)},Wo.prototype.addLine=function(E,B,ee,ge,Ee,ze){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var Ge=0;Ge<E.length-1;Ge++)this.totalDistance+=E[Ge].dist(E[Ge+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var tt=K5[B.type]==="Polygon",ht=E.length;ht>=2&&E[ht-1].equals(E[ht-2]);)ht--;for(var Tt=0;Tt<ht-1&&E[Tt].equals(E[Tt+1]);)Tt++;if(!(ht<(tt?3:2))){ee==="bevel"&&(Ee=1.05);var Mt,Bt=this.overscaling<=16?15*_i/(512*this.overscaling):0,Gt=this.segments.prepareSegment(10*ht,this.layoutVertexArray,this.indexArray),Vt=void 0,ln=void 0,cn=void 0,Mn=void 0;this.e1=this.e2=-1,tt&&(Mt=E[ht-2],Mn=E[Tt].sub(Mt)._unit()._perp());for(var Tn=Tt;Tn<ht;Tn++)if(!(ln=Tn===ht-1?tt?E[Tt+1]:void 0:E[Tn+1])||!E[Tn].equals(ln)){Mn&&(cn=Mn),Mt&&(Vt=Mt),Mt=E[Tn],Mn=ln?ln.sub(Mt)._unit()._perp():cn;var Nn=(cn=cn||Mn).add(Mn);Nn.x===0&&Nn.y===0||Nn._unit();var jn=cn.x*Mn.x+cn.y*Mn.y,Zn=Nn.x*Mn.x+Nn.y*Mn.y,Jn=Zn!==0?1/Zn:1/0,lr=2*Math.sqrt(2-2*Zn),_r=Zn<J5&&Vt&&ln,yr=cn.x*Mn.y-cn.y*Mn.x>0;if(_r&&Tn>Tt){var Sr=Mt.dist(Vt);if(Sr>2*Bt){var Pr=Mt.sub(Mt.sub(Vt)._mult(Bt/Sr)._round());this.updateDistance(Vt,Pr),this.addCurrentVertex(Pr,cn,0,0,Gt),Vt=Pr}}var Qr=Vt&&ln,Br=Qr?ee:tt?"butt":ge;if(Qr&&Br==="round"&&(Jn<ze?Br="miter":Jn<=2&&(Br="fakeround")),Br==="miter"&&Jn>Ee&&(Br="bevel"),Br==="bevel"&&(Jn>2&&(Br="flipbevel"),Jn<Ee&&(Br="miter")),Vt&&this.updateDistance(Vt,Mt),Br==="miter")Nn._mult(Jn),this.addCurrentVertex(Mt,Nn,0,0,Gt);else if(Br==="flipbevel"){if(Jn>100)Nn=Mn.mult(-1);else{var Jr=Jn*cn.add(Mn).mag()/cn.sub(Mn).mag();Nn._perp()._mult(Jr*(yr?-1:1))}this.addCurrentVertex(Mt,Nn,0,0,Gt),this.addCurrentVertex(Mt,Nn.mult(-1),0,0,Gt)}else if(Br==="bevel"||Br==="fakeround"){var Hr=-Math.sqrt(Jn*Jn-1),Fr=yr?Hr:0,yi=yr?0:Hr;if(Vt&&this.addCurrentVertex(Mt,cn,Fr,yi,Gt),Br==="fakeround")for(var ai=Math.round(180*lr/Math.PI/20),$i=1;$i<ai;$i++){var Zr=$i/ai;if(Zr!==.5){var ji=Zr-.5;Zr+=Zr*ji*(Zr-1)*((1.0904+jn*(jn*(3.55645-1.43519*jn)-3.2452))*ji*ji+(.848013+jn*(.215638*jn-1.06021)))}var ta=Mn.sub(cn)._mult(Zr)._add(cn)._unit()._mult(yr?-1:1);this.addHalfVertex(Mt,ta.x,ta.y,!1,yr,0,Gt)}ln&&this.addCurrentVertex(Mt,Mn,-Fr,-yi,Gt)}else if(Br==="butt")this.addCurrentVertex(Mt,Nn,0,0,Gt);else if(Br==="square"){var oa=Vt?1:-1;this.addCurrentVertex(Mt,Nn,oa,oa,Gt)}else Br==="round"&&(Vt&&(this.addCurrentVertex(Mt,cn,0,0,Gt),this.addCurrentVertex(Mt,cn,1,1,Gt,!0)),ln&&(this.addCurrentVertex(Mt,Mn,-1,-1,Gt,!0),this.addCurrentVertex(Mt,Mn,0,0,Gt)));if(_r&&Tn<ht-1){var sa=Mt.dist(ln);if(sa>2*Bt){var Zi=Mt.add(ln.sub(Mt)._mult(Bt/sa)._round());this.updateDistance(Mt,Zi),this.addCurrentVertex(Zi,Mn,0,0,Gt),Mt=Zi}}}}},Wo.prototype.addCurrentVertex=function(E,B,ee,ge,Ee,ze){ze===void 0&&(ze=!1);var Ge=B.x+B.y*ee,tt=B.y-B.x*ee,ht=-B.x+B.y*ge,Tt=-B.y-B.x*ge;this.addHalfVertex(E,Ge,tt,ze,!1,ee,Ee),this.addHalfVertex(E,ht,Tt,ze,!0,-ge,Ee),this.distance>M1/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(E,B,ee,ge,Ee,ze))},Wo.prototype.addHalfVertex=function(E,B,ee,ge,Ee,ze,Ge){var tt=E.x,ht=E.y,Tt=.5*(this.lineClips?this.scaledDistance*(M1-1):this.scaledDistance);if(this.layoutVertexArray.emplaceBack((tt<<1)+(ge?1:0),(ht<<1)+(Ee?1:0),Math.round(63*B)+128,Math.round(63*ee)+128,1+(ze===0?0:ze<0?-1:1)|(63&Tt)<<2,Tt>>6),this.lineClips){var Mt=(this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start);this.layoutVertexArray2.emplaceBack(Mt,this.lineClipsArray.length)}var Bt=Ge.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Bt),Ge.primitiveLength++),Ee?this.e2=Bt:this.e1=Bt},Wo.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Wo.prototype.updateDistance=function(E,B){this.distance+=E.dist(B),this.updateScaledDistance()},Or("LineBucket",Wo,{omit:["layers","patternFeatures"]});var Q5=new ua({"line-cap":new Dr(Xe.layout_line["line-cap"]),"line-join":new qr(Xe.layout_line["line-join"]),"line-miter-limit":new Dr(Xe.layout_line["line-miter-limit"]),"line-round-limit":new Dr(Xe.layout_line["line-round-limit"]),"line-sort-key":new qr(Xe.layout_line["line-sort-key"])}),S1={paint:new ua({"line-opacity":new qr(Xe.paint_line["line-opacity"]),"line-color":new qr(Xe.paint_line["line-color"]),"line-translate":new Dr(Xe.paint_line["line-translate"]),"line-translate-anchor":new Dr(Xe.paint_line["line-translate-anchor"]),"line-width":new qr(Xe.paint_line["line-width"]),"line-gap-width":new qr(Xe.paint_line["line-gap-width"]),"line-offset":new qr(Xe.paint_line["line-offset"]),"line-blur":new qr(Xe.paint_line["line-blur"]),"line-dasharray":new us(Xe.paint_line["line-dasharray"]),"line-pattern":new go(Xe.paint_line["line-pattern"]),"line-gradient":new ks(Xe.paint_line["line-gradient"])}),layout:Q5},e6=function(E){function B(){E.apply(this,arguments)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype.possiblyEvaluate=function(ee,ge){return ge=new pi(Math.floor(ge.zoom),{now:ge.now,fadeDuration:ge.fadeDuration,zoomHistory:ge.zoomHistory,transition:ge.transition}),E.prototype.possiblyEvaluate.call(this,ee,ge)},B.prototype.evaluate=function(ee,ge,Ee,ze){return ge=f({},ge,{zoom:Math.floor(ge.zoom)}),E.prototype.evaluate.call(this,ee,ge,Ee,ze)},B}(qr),E1=new e6(S1.paint.properties["line-width"].specification);E1.useIntegerZoom=!0;var t6=function(E){function B(ee){E.call(this,ee,S1),this.gradientVersion=0}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype._handleSpecialPaintPropertyUpdate=function(ee){if(ee==="line-gradient"){var ge=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=ge._styleExpression.expression instanceof Er,this.gradientVersion=(this.gradientVersion+1)%r}},B.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},B.prototype.recalculate=function(ee,ge){E.prototype.recalculate.call(this,ee,ge),this.paint._values["line-floorwidth"]=E1.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,ee)},B.prototype.createBucket=function(ee){return new Wo(ee)},B.prototype.queryRadius=function(ee){var ge=ee,Ee=L1(Vh("line-width",this,ge),Vh("line-gap-width",this,ge)),ze=Vh("line-offset",this,ge);return Ee/2+Math.abs(ze)+Td(this.paint.get("line-translate"))},B.prototype.queryIntersectsFeature=function(ee,ge,Ee,ze,Ge,tt,ht){var Tt=kd(ee,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),tt.angle,ht),Mt=ht/2*L1(this.paint.get("line-width").evaluate(ge,Ee),this.paint.get("line-gap-width").evaluate(ge,Ee)),Bt=this.paint.get("line-offset").evaluate(ge,Ee);return Bt&&(ze=function(Gt,Vt){for(var ln=[],cn=new n(0,0),Mn=0;Mn<Gt.length;Mn++){for(var Tn=Gt[Mn],Nn=[],jn=0;jn<Tn.length;jn++){var Zn=Tn[jn-1],Jn=Tn[jn],lr=Tn[jn+1],_r=jn===0?cn:Jn.sub(Zn)._unit()._perp(),yr=jn===Tn.length-1?cn:lr.sub(Jn)._unit()._perp(),Sr=_r._add(yr)._unit(),Pr=Sr.x*yr.x+Sr.y*yr.y;Sr._mult(1/Pr),Nn.push(Sr._mult(Vt)._add(Jn))}ln.push(Nn)}return ln}(ze,Bt*ht)),function(Gt,Vt,ln){for(var cn=0;cn<Vt.length;cn++){var Mn=Vt[cn];if(Gt.length>=3){for(var Tn=0;Tn<Mn.length;Tn++)if(Iu(Gt,Mn[Tn]))return!0}if(Mg(Gt,Mn,ln))return!0}return!1}(Tt,ze,Mt)},B.prototype.isTileClipped=function(){return!0},B}(Si);function L1(E,B){return B>0?B+2*E:E}var n6=Hi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),r6=Hi([{name:"a_projected_pos",components:3,type:"Float32"}],4),i6=(Hi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Hi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),C1=(Hi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Hi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),a6=Hi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function o6(E,B,ee){return E.sections.forEach(function(ge){ge.text=function(Ee,ze,Ge){var tt=ze.layout.get("text-transform").evaluate(Ge,{});return tt==="uppercase"?Ee=Ee.toLocaleUpperCase():tt==="lowercase"&&(Ee=Ee.toLocaleLowerCase()),Ja.applyArabicShaping&&(Ee=Ja.applyArabicShaping(Ee)),Ee}(ge.text,B,ee)}),E}Hi([{name:"triangle",components:3,type:"Uint16"}]),Hi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Hi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Hi([{type:"Float32",name:"offsetX"}]),Hi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Zh={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},oo=24,P1=function(E,B,ee,ge,Ee){var ze,Ge,tt=8*Ee-ge-1,ht=(1<<tt)-1,Tt=ht>>1,Mt=-7,Bt=Ee-1,Gt=-1,Vt=E[B+Bt];for(Bt+=Gt,ze=Vt&(1<<-Mt)-1,Vt>>=-Mt,Mt+=tt;Mt>0;ze=256*ze+E[B+Bt],Bt+=Gt,Mt-=8);for(Ge=ze&(1<<-Mt)-1,ze>>=-Mt,Mt+=ge;Mt>0;Ge=256*Ge+E[B+Bt],Bt+=Gt,Mt-=8);if(ze===0)ze=1-Tt;else{if(ze===ht)return Ge?NaN:1/0*(Vt?-1:1);Ge+=Math.pow(2,ge),ze-=Tt}return(Vt?-1:1)*Ge*Math.pow(2,ze-ge)},O1=function(E,B,ee,ge,Ee,ze){var Ge,tt,ht,Tt=8*ze-Ee-1,Mt=(1<<Tt)-1,Bt=Mt>>1,Gt=Ee===23?Math.pow(2,-24)-Math.pow(2,-77):0,Vt=0,ln=1,cn=B<0||B===0&&1/B<0?1:0;for(B=Math.abs(B),isNaN(B)||B===1/0?(tt=isNaN(B)?1:0,Ge=Mt):(Ge=Math.floor(Math.log(B)/Math.LN2),B*(ht=Math.pow(2,-Ge))<1&&(Ge--,ht*=2),(B+=Ge+Bt>=1?Gt/ht:Gt*Math.pow(2,1-Bt))*ht>=2&&(Ge++,ht/=2),Ge+Bt>=Mt?(tt=0,Ge=Mt):Ge+Bt>=1?(tt=(B*ht-1)*Math.pow(2,Ee),Ge+=Bt):(tt=B*Math.pow(2,Bt-1)*Math.pow(2,Ee),Ge=0));Ee>=8;E[ee+Vt]=255&tt,Vt+=ln,tt/=256,Ee-=8);for(Ge=Ge<<Ee|tt,Tt+=Ee;Tt>0;E[ee+Vt]=255&Ge,Vt+=ln,Ge/=256,Tt-=8);E[ee+Vt-ln]|=128*cn},Pd=ea;function ea(E){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(E)?E:new Uint8Array(E||0),this.pos=0,this.type=0,this.length=this.buf.length}ea.Varint=0,ea.Fixed64=1,ea.Bytes=2,ea.Fixed32=5;var Ng=4294967296,I1=1/Ng,R1=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Ku(E){return E.type===ea.Bytes?E.readVarint()+E.pos:E.pos+1}function $f(E,B,ee){return ee?4294967296*B+(E>>>0):4294967296*(B>>>0)+(E>>>0)}function D1(E,B,ee){var ge=B<=16383?1:B<=2097151?2:B<=268435455?3:Math.floor(Math.log(B)/(7*Math.LN2));ee.realloc(ge);for(var Ee=ee.pos-1;Ee>=E;Ee--)ee.buf[Ee+ge]=ee.buf[Ee]}function s6(E,B){for(var ee=0;ee<E.length;ee++)B.writeVarint(E[ee])}function l6(E,B){for(var ee=0;ee<E.length;ee++)B.writeSVarint(E[ee])}function u6(E,B){for(var ee=0;ee<E.length;ee++)B.writeFloat(E[ee])}function c6(E,B){for(var ee=0;ee<E.length;ee++)B.writeDouble(E[ee])}function f6(E,B){for(var ee=0;ee<E.length;ee++)B.writeBoolean(E[ee])}function h6(E,B){for(var ee=0;ee<E.length;ee++)B.writeFixed32(E[ee])}function p6(E,B){for(var ee=0;ee<E.length;ee++)B.writeSFixed32(E[ee])}function d6(E,B){for(var ee=0;ee<E.length;ee++)B.writeFixed64(E[ee])}function g6(E,B){for(var ee=0;ee<E.length;ee++)B.writeSFixed64(E[ee])}function Od(E,B){return(E[B]|E[B+1]<<8|E[B+2]<<16)+16777216*E[B+3]}function Zf(E,B,ee){E[ee]=B,E[ee+1]=B>>>8,E[ee+2]=B>>>16,E[ee+3]=B>>>24}function z1(E,B){return(E[B]|E[B+1]<<8|E[B+2]<<16)+(E[B+3]<<24)}ea.prototype={destroy:function(){this.buf=null},readFields:function(E,B,ee){for(ee=ee||this.length;this.pos<ee;){var ge=this.readVarint(),Ee=ge>>3,ze=this.pos;this.type=7&ge,E(Ee,B,this),this.pos===ze&&this.skip(ge)}return B},readMessage:function(E,B){return this.readFields(E,B,this.readVarint()+this.pos)},readFixed32:function(){var E=Od(this.buf,this.pos);return this.pos+=4,E},readSFixed32:function(){var E=z1(this.buf,this.pos);return this.pos+=4,E},readFixed64:function(){var E=Od(this.buf,this.pos)+Od(this.buf,this.pos+4)*Ng;return this.pos+=8,E},readSFixed64:function(){var E=Od(this.buf,this.pos)+z1(this.buf,this.pos+4)*Ng;return this.pos+=8,E},readFloat:function(){var E=P1(this.buf,this.pos,!0,23,4);return this.pos+=4,E},readDouble:function(){var E=P1(this.buf,this.pos,!0,52,8);return this.pos+=8,E},readVarint:function(E){var B,ee,ge=this.buf;return B=127&(ee=ge[this.pos++]),ee<128?B:(B|=(127&(ee=ge[this.pos++]))<<7,ee<128?B:(B|=(127&(ee=ge[this.pos++]))<<14,ee<128?B:(B|=(127&(ee=ge[this.pos++]))<<21,ee<128?B:function(Ee,ze,Ge){var tt,ht,Tt=Ge.buf;if(tt=(112&(ht=Tt[Ge.pos++]))>>4,ht<128||(tt|=(127&(ht=Tt[Ge.pos++]))<<3,ht<128)||(tt|=(127&(ht=Tt[Ge.pos++]))<<10,ht<128)||(tt|=(127&(ht=Tt[Ge.pos++]))<<17,ht<128)||(tt|=(127&(ht=Tt[Ge.pos++]))<<24,ht<128)||(tt|=(1&(ht=Tt[Ge.pos++]))<<31,ht<128))return $f(Ee,tt,ze);throw new Error("Expected varint not more than 10 bytes")}(B|=(15&(ee=ge[this.pos]))<<28,E,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var E=this.readVarint();return E%2==1?(E+1)/-2:E/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var E=this.readVarint()+this.pos,B=this.pos;return this.pos=E,E-B>=12&&R1?function(ee,ge,Ee){return R1.decode(ee.subarray(ge,Ee))}(this.buf,B,E):function(ee,ge,Ee){for(var ze="",Ge=ge;Ge<Ee;){var tt,ht,Tt,Mt=ee[Ge],Bt=null,Gt=Mt>239?4:Mt>223?3:Mt>191?2:1;if(Ge+Gt>Ee)break;Gt===1?Mt<128&&(Bt=Mt):Gt===2?(192&(tt=ee[Ge+1]))==128&&(Bt=(31&Mt)<<6|63&tt)<=127&&(Bt=null):Gt===3?(tt=ee[Ge+1],ht=ee[Ge+2],(192&tt)==128&&(192&ht)==128&&((Bt=(15&Mt)<<12|(63&tt)<<6|63&ht)<=2047||Bt>=55296&&Bt<=57343)&&(Bt=null)):Gt===4&&(tt=ee[Ge+1],ht=ee[Ge+2],Tt=ee[Ge+3],(192&tt)==128&&(192&ht)==128&&(192&Tt)==128&&((Bt=(15&Mt)<<18|(63&tt)<<12|(63&ht)<<6|63&Tt)<=65535||Bt>=1114112)&&(Bt=null)),Bt===null?(Bt=65533,Gt=1):Bt>65535&&(Bt-=65536,ze+=String.fromCharCode(Bt>>>10&1023|55296),Bt=56320|1023&Bt),ze+=String.fromCharCode(Bt),Ge+=Gt}return ze}(this.buf,B,E)},readBytes:function(){var E=this.readVarint()+this.pos,B=this.buf.subarray(this.pos,E);return this.pos=E,B},readPackedVarint:function(E,B){if(this.type!==ea.Bytes)return E.push(this.readVarint(B));var ee=Ku(this);for(E=E||[];this.pos<ee;)E.push(this.readVarint(B));return E},readPackedSVarint:function(E){if(this.type!==ea.Bytes)return E.push(this.readSVarint());var B=Ku(this);for(E=E||[];this.pos<B;)E.push(this.readSVarint());return E},readPackedBoolean:function(E){if(this.type!==ea.Bytes)return E.push(this.readBoolean());var B=Ku(this);for(E=E||[];this.pos<B;)E.push(this.readBoolean());return E},readPackedFloat:function(E){if(this.type!==ea.Bytes)return E.push(this.readFloat());var B=Ku(this);for(E=E||[];this.pos<B;)E.push(this.readFloat());return E},readPackedDouble:function(E){if(this.type!==ea.Bytes)return E.push(this.readDouble());var B=Ku(this);for(E=E||[];this.pos<B;)E.push(this.readDouble());return E},readPackedFixed32:function(E){if(this.type!==ea.Bytes)return E.push(this.readFixed32());var B=Ku(this);for(E=E||[];this.pos<B;)E.push(this.readFixed32());return E},readPackedSFixed32:function(E){if(this.type!==ea.Bytes)return E.push(this.readSFixed32());var B=Ku(this);for(E=E||[];this.pos<B;)E.push(this.readSFixed32());return E},readPackedFixed64:function(E){if(this.type!==ea.Bytes)return E.push(this.readFixed64());var B=Ku(this);for(E=E||[];this.pos<B;)E.push(this.readFixed64());return E},readPackedSFixed64:function(E){if(this.type!==ea.Bytes)return E.push(this.readSFixed64());var B=Ku(this);for(E=E||[];this.pos<B;)E.push(this.readSFixed64());return E},skip:function(E){var B=7&E;if(B===ea.Varint)for(;this.buf[this.pos++]>127;);else if(B===ea.Bytes)this.pos=this.readVarint()+this.pos;else if(B===ea.Fixed32)this.pos+=4;else{if(B!==ea.Fixed64)throw new Error("Unimplemented type: "+B);this.pos+=8}},writeTag:function(E,B){this.writeVarint(E<<3|B)},realloc:function(E){for(var B=this.length||16;B<this.pos+E;)B*=2;if(B!==this.length){var ee=new Uint8Array(B);ee.set(this.buf),this.buf=ee,this.length=B}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(E){this.realloc(4),Zf(this.buf,E,this.pos),this.pos+=4},writeSFixed32:function(E){this.realloc(4),Zf(this.buf,E,this.pos),this.pos+=4},writeFixed64:function(E){this.realloc(8),Zf(this.buf,-1&E,this.pos),Zf(this.buf,Math.floor(E*I1),this.pos+4),this.pos+=8},writeSFixed64:function(E){this.realloc(8),Zf(this.buf,-1&E,this.pos),Zf(this.buf,Math.floor(E*I1),this.pos+4),this.pos+=8},writeVarint:function(E){(E=+E||0)>268435455||E<0?function(B,ee){var ge,Ee;if(B>=0?(ge=B%4294967296|0,Ee=B/4294967296|0):(Ee=~(-B/4294967296),4294967295^(ge=~(-B%4294967296))?ge=ge+1|0:(ge=0,Ee=Ee+1|0)),B>=18446744073709552e3||B<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");ee.realloc(10),function(ze,Ge,tt){tt.buf[tt.pos++]=127&ze|128,ze>>>=7,tt.buf[tt.pos++]=127&ze|128,ze>>>=7,tt.buf[tt.pos++]=127&ze|128,ze>>>=7,tt.buf[tt.pos++]=127&ze|128,ze>>>=7,tt.buf[tt.pos]=127&ze}(ge,0,ee),function(ze,Ge){var tt=(7&ze)<<4;Ge.buf[Ge.pos++]|=tt|((ze>>>=3)?128:0),ze&&(Ge.buf[Ge.pos++]=127&ze|((ze>>>=7)?128:0),ze&&(Ge.buf[Ge.pos++]=127&ze|((ze>>>=7)?128:0),ze&&(Ge.buf[Ge.pos++]=127&ze|((ze>>>=7)?128:0),ze&&(Ge.buf[Ge.pos++]=127&ze|((ze>>>=7)?128:0),ze&&(Ge.buf[Ge.pos++]=127&ze)))))}(Ee,ee)}(E,this):(this.realloc(4),this.buf[this.pos++]=127&E|(E>127?128:0),E<=127||(this.buf[this.pos++]=127&(E>>>=7)|(E>127?128:0),E<=127||(this.buf[this.pos++]=127&(E>>>=7)|(E>127?128:0),E<=127||(this.buf[this.pos++]=E>>>7&127))))},writeSVarint:function(E){this.writeVarint(E<0?2*-E-1:2*E)},writeBoolean:function(E){this.writeVarint(!!E)},writeString:function(E){E=String(E),this.realloc(4*E.length),this.pos++;var B=this.pos;this.pos=function(ge,Ee,ze){for(var Ge,tt,ht=0;ht<Ee.length;ht++){if((Ge=Ee.charCodeAt(ht))>55295&&Ge<57344){if(!tt){Ge>56319||ht+1===Ee.length?(ge[ze++]=239,ge[ze++]=191,ge[ze++]=189):tt=Ge;continue}if(Ge<56320){ge[ze++]=239,ge[ze++]=191,ge[ze++]=189,tt=Ge;continue}Ge=tt-55296<<10|Ge-56320|65536,tt=null}else tt&&(ge[ze++]=239,ge[ze++]=191,ge[ze++]=189,tt=null);Ge<128?ge[ze++]=Ge:(Ge<2048?ge[ze++]=Ge>>6|192:(Ge<65536?ge[ze++]=Ge>>12|224:(ge[ze++]=Ge>>18|240,ge[ze++]=Ge>>12&63|128),ge[ze++]=Ge>>6&63|128),ge[ze++]=63&Ge|128)}return ze}(this.buf,E,this.pos);var ee=this.pos-B;ee>=128&&D1(B,ee,this),this.pos=B-1,this.writeVarint(ee),this.pos+=ee},writeFloat:function(E){this.realloc(4),O1(this.buf,E,this.pos,!0,23,4),this.pos+=4},writeDouble:function(E){this.realloc(8),O1(this.buf,E,this.pos,!0,52,8),this.pos+=8},writeBytes:function(E){var B=E.length;this.writeVarint(B),this.realloc(B);for(var ee=0;ee<B;ee++)this.buf[this.pos++]=E[ee]},writeRawMessage:function(E,B){this.pos++;var ee=this.pos;E(B,this);var ge=this.pos-ee;ge>=128&&D1(ee,ge,this),this.pos=ee-1,this.writeVarint(ge),this.pos+=ge},writeMessage:function(E,B,ee){this.writeTag(E,ea.Bytes),this.writeRawMessage(B,ee)},writePackedVarint:function(E,B){B.length&&this.writeMessage(E,s6,B)},writePackedSVarint:function(E,B){B.length&&this.writeMessage(E,l6,B)},writePackedBoolean:function(E,B){B.length&&this.writeMessage(E,f6,B)},writePackedFloat:function(E,B){B.length&&this.writeMessage(E,u6,B)},writePackedDouble:function(E,B){B.length&&this.writeMessage(E,c6,B)},writePackedFixed32:function(E,B){B.length&&this.writeMessage(E,h6,B)},writePackedSFixed32:function(E,B){B.length&&this.writeMessage(E,p6,B)},writePackedFixed64:function(E,B){B.length&&this.writeMessage(E,d6,B)},writePackedSFixed64:function(E,B){B.length&&this.writeMessage(E,g6,B)},writeBytesField:function(E,B){this.writeTag(E,ea.Bytes),this.writeBytes(B)},writeFixed32Field:function(E,B){this.writeTag(E,ea.Fixed32),this.writeFixed32(B)},writeSFixed32Field:function(E,B){this.writeTag(E,ea.Fixed32),this.writeSFixed32(B)},writeFixed64Field:function(E,B){this.writeTag(E,ea.Fixed64),this.writeFixed64(B)},writeSFixed64Field:function(E,B){this.writeTag(E,ea.Fixed64),this.writeSFixed64(B)},writeVarintField:function(E,B){this.writeTag(E,ea.Varint),this.writeVarint(B)},writeSVarintField:function(E,B){this.writeTag(E,ea.Varint),this.writeSVarint(B)},writeStringField:function(E,B){this.writeTag(E,ea.Bytes),this.writeString(B)},writeFloatField:function(E,B){this.writeTag(E,ea.Fixed32),this.writeFloat(B)},writeDoubleField:function(E,B){this.writeTag(E,ea.Fixed64),this.writeDouble(B)},writeBooleanField:function(E,B){this.writeVarintField(E,!!B)}};var jg=3;function v6(E,B,ee){E===1&&ee.readMessage(m6,B)}function m6(E,B,ee){if(E===3){var ge=ee.readMessage(y6,{}),Ee=ge.id,ze=ge.bitmap,Ge=ge.width,tt=ge.height,ht=ge.left,Tt=ge.top,Mt=ge.advance;B.push({id:Ee,bitmap:new hf({width:Ge+2*jg,height:tt+2*jg},ze),metrics:{width:Ge,height:tt,left:ht,top:Tt,advance:Mt}})}}function y6(E,B,ee){E===1?B.id=ee.readVarint():E===2?B.bitmap=ee.readBytes():E===3?B.width=ee.readVarint():E===4?B.height=ee.readVarint():E===5?B.left=ee.readSVarint():E===6?B.top=ee.readSVarint():E===7&&(B.advance=ee.readVarint())}var F1=jg;function B1(E){for(var B=0,ee=0,ge=0,Ee=E;ge<Ee.length;ge+=1){var ze=Ee[ge];B+=ze.w*ze.h,ee=Math.max(ee,ze.w)}E.sort(function(cn,Mn){return Mn.h-cn.h});for(var Ge=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(B/.95)),ee),h:1/0}],tt=0,ht=0,Tt=0,Mt=E;Tt<Mt.length;Tt+=1)for(var Bt=Mt[Tt],Gt=Ge.length-1;Gt>=0;Gt--){var Vt=Ge[Gt];if(!(Bt.w>Vt.w||Bt.h>Vt.h)){if(Bt.x=Vt.x,Bt.y=Vt.y,ht=Math.max(ht,Bt.y+Bt.h),tt=Math.max(tt,Bt.x+Bt.w),Bt.w===Vt.w&&Bt.h===Vt.h){var ln=Ge.pop();Gt<Ge.length&&(Ge[Gt]=ln)}else Bt.h===Vt.h?(Vt.x+=Bt.w,Vt.w-=Bt.w):Bt.w===Vt.w?(Vt.y+=Bt.h,Vt.h-=Bt.h):(Ge.push({x:Vt.x+Bt.w,y:Vt.y,w:Vt.w-Bt.w,h:Bt.h}),Vt.y+=Bt.h,Vt.h-=Bt.h);break}}return{w:tt,h:ht,fill:B/(tt*ht)||0}}var Ms=1,Id=function(E,B){var ee=B.pixelRatio,ge=B.version,Ee=B.stretchX,ze=B.stretchY,Ge=B.content;this.paddedRect=E,this.pixelRatio=ee,this.stretchX=Ee,this.stretchY=ze,this.content=Ge,this.version=ge},Xh={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Xh.tl.get=function(){return[this.paddedRect.x+Ms,this.paddedRect.y+Ms]},Xh.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-Ms,this.paddedRect.y+this.paddedRect.h-Ms]},Xh.tlbr.get=function(){return this.tl.concat(this.br)},Xh.displaySize.get=function(){return[(this.paddedRect.w-2*Ms)/this.pixelRatio,(this.paddedRect.h-2*Ms)/this.pixelRatio]},Object.defineProperties(Id.prototype,Xh);var Kh=function(E,B){var ee={},ge={};this.haveRenderCallbacks=[];var Ee=[];this.addImages(E,ee,Ee),this.addImages(B,ge,Ee);var ze=B1(Ee),Ge=ze.w,tt=ze.h,ht=new fs({width:Ge||1,height:tt||1});for(var Tt in E){var Mt=E[Tt],Bt=ee[Tt].paddedRect;fs.copy(Mt.data,ht,{x:0,y:0},{x:Bt.x+Ms,y:Bt.y+Ms},Mt.data)}for(var Gt in B){var Vt=B[Gt],ln=ge[Gt].paddedRect,cn=ln.x+Ms,Mn=ln.y+Ms,Tn=Vt.data.width,Nn=Vt.data.height;fs.copy(Vt.data,ht,{x:0,y:0},{x:cn,y:Mn},Vt.data),fs.copy(Vt.data,ht,{x:0,y:Nn-1},{x:cn,y:Mn-1},{width:Tn,height:1}),fs.copy(Vt.data,ht,{x:0,y:0},{x:cn,y:Mn+Nn},{width:Tn,height:1}),fs.copy(Vt.data,ht,{x:Tn-1,y:0},{x:cn-1,y:Mn},{width:1,height:Nn}),fs.copy(Vt.data,ht,{x:0,y:0},{x:cn+Tn,y:Mn},{width:1,height:Nn})}this.image=ht,this.iconPositions=ee,this.patternPositions=ge};Kh.prototype.addImages=function(E,B,ee){for(var ge in E){var Ee=E[ge],ze={x:0,y:0,w:Ee.data.width+2*Ms,h:Ee.data.height+2*Ms};ee.push(ze),B[ge]=new Id(ze,Ee),Ee.hasRenderCallback&&this.haveRenderCallbacks.push(ge)}},Kh.prototype.patchUpdatedImages=function(E,B){for(var ee in E.dispatchRenderCallbacks(this.haveRenderCallbacks),E.updatedImages)this.patchUpdatedImage(this.iconPositions[ee],E.getImage(ee),B),this.patchUpdatedImage(this.patternPositions[ee],E.getImage(ee),B)},Kh.prototype.patchUpdatedImage=function(E,B,ee){if(E&&B&&E.version!==B.version){E.version=B.version;var ge=E.tl,Ee=ge[0],ze=ge[1];ee.update(B.data,void 0,{x:Ee,y:ze})}},Or("ImagePosition",Id),Or("ImageAtlas",Kh);var Ks={horizontal:1,vertical:2,horizontalOnly:3},Jh=-17,Xf=function(){this.scale=1,this.fontStack="",this.imageName=null};Xf.forText=function(E,B){var ee=new Xf;return ee.scale=E||1,ee.fontStack=B,ee},Xf.forImage=function(E){var B=new Xf;return B.imageName=E,B};var Oo=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function Rd(E,B,ee,ge,Ee,ze,Ge,tt,ht,Tt,Mt,Bt,Gt,Vt,ln,cn){var Mn,Tn=Oo.fromFeature(E,Ee);Bt===Ks.vertical&&Tn.verticalizePunctuation();var Nn=Ja.processBidirectionalText,jn=Ja.processStyledBidirectionalText;if(Nn&&Tn.sections.length===1){Mn=[];for(var Zn=0,Jn=Nn(Tn.toString(),Ug(Tn,Tt,ze,B,ge,Vt,ln));Zn<Jn.length;Zn+=1){var lr=Jn[Zn],_r=new Oo;_r.text=lr,_r.sections=Tn.sections;for(var yr=0;yr<lr.length;yr++)_r.sectionIndex.push(0);Mn.push(_r)}}else if(jn){Mn=[];for(var Sr=0,Pr=jn(Tn.text,Tn.sectionIndex,Ug(Tn,Tt,ze,B,ge,Vt,ln));Sr<Pr.length;Sr+=1){var Qr=Pr[Sr],Br=new Oo;Br.text=Qr[0],Br.sectionIndex=Qr[1],Br.sections=Tn.sections,Mn.push(Br)}}else Mn=function(Fr,yi){for(var ai=[],$i=Fr.text,Zr=0,ji=0,ta=yi;ji<ta.length;ji+=1){var oa=ta[ji];ai.push(Fr.substring(Zr,oa)),Zr=oa}return Zr<$i.length&&ai.push(Fr.substring(Zr,$i.length)),ai}(Tn,Ug(Tn,Tt,ze,B,ge,Vt,ln));var Jr=[],Hr={positionedLines:Jr,text:Tn.toString(),top:Mt[1],bottom:Mt[1],left:Mt[0],right:Mt[0],writingMode:Bt,iconsInText:!1,verticalizable:!1};return function(Fr,yi,ai,$i,Zr,ji,ta,oa,sa,Zi,Va,pa){for(var eo=0,yo=Jh,so=0,Yo=0,lo=oa==="right"?1:oa==="left"?0:.5,Wa=0,uo=0,to=Zr;uo<to.length;uo+=1){var Ya=to[uo];Ya.trim();var si=Ya.getMaxScale(),wi=(si-1)*oo,ba={positionedGlyphs:[],lineOffset:0};Fr.positionedLines[Wa]=ba;var Gi=ba.positionedGlyphs,ga=0;if(Ya.length()){for(var fa=0;fa<Ya.length();fa++){var Ei=Ya.getSection(fa),_a=Ya.getSectionIndex(fa),$o=Ya.getCharCode(fa),Es=0,Io=null,pu=null,ec=null,no=oo,du=!(sa===Ks.horizontal||!Va&&!ws($o)||Va&&(Dd[$o]||Ys($o)));if(Ei.imageName){var Ul=$i[Ei.imageName];if(!Ul)continue;ec=Ei.imageName,Fr.iconsInText=Fr.iconsInText||!0,pu=Ul.paddedRect;var Vl=Ul.displaySize;Ei.scale=Ei.scale*oo/pa,Io={width:Vl[0],height:Vl[1],left:Ms,top:-F1,advance:du?Vl[1]:Vl[0]},Es=wi+(oo-Vl[1]*Ei.scale),no=Io.advance;var vf=du?Vl[0]*Ei.scale-oo*si:Vl[1]*Ei.scale-oo*si;vf>0&&vf>ga&&(ga=vf)}else{var qd=ai[Ei.fontStack],mf=qd&&qd[$o];if(mf&&mf.rect)pu=mf.rect,Io=mf.metrics;else{var Gd=yi[Ei.fontStack],np=Gd&&Gd[$o];if(!np)continue;Io=np.metrics}Es=(si-Ei.scale)*oo}du?(Fr.verticalizable=!0,Gi.push({glyph:$o,imageName:ec,x:eo,y:yo+Es,vertical:du,scale:Ei.scale,fontStack:Ei.fontStack,sectionIndex:_a,metrics:Io,rect:pu}),eo+=no*Ei.scale+Zi):(Gi.push({glyph:$o,imageName:ec,x:eo,y:yo+Es,vertical:du,scale:Ei.scale,fontStack:Ei.fontStack,sectionIndex:_a,metrics:Io,rect:pu}),eo+=Io.advance*Ei.scale+Zi)}if(Gi.length!==0){var Kg=eo-Zi;so=Math.max(Kg,so),b6(Gi,0,Gi.length-1,lo,ga)}eo=0;var Wd=ji*si+ga;ba.lineOffset=Math.max(ga,wi),yo+=Wd,Yo=Math.max(Wd,Yo),++Wa}else yo+=ji,++Wa}var oh=yo-Jh,Yd=Vg(ta),$d=Yd.horizontalAlign,rp=Yd.verticalAlign;(function(Jg,ip,yf,sh,Zd,Xd,lh,Kd,Jd){var ap=(ip-yf)*Zd,op=0;op=Xd!==lh?-Kd*sh-Jh:(-sh*Jd+.5)*lh;for(var xf=0,sp=Jg;xf<sp.length;xf+=1)for(var bf=0,lp=sp[xf].positionedGlyphs;bf<lp.length;bf+=1){var up=lp[bf];up.x+=ap,up.y+=op}})(Fr.positionedLines,lo,$d,rp,so,Yo,ji,oh,Zr.length),Fr.top+=-rp*oh,Fr.bottom=Fr.top+oh,Fr.left+=-$d*so,Fr.right=Fr.left+so}(Hr,B,ee,ge,Mn,Ge,tt,ht,Bt,Tt,Gt,cn),!function(Fr){for(var yi=0,ai=Fr;yi<ai.length;yi+=1)if(ai[yi].positionedGlyphs.length!==0)return!1;return!0}(Jr)&&Hr}Oo.fromFeature=function(E,B){for(var ee=new Oo,ge=0;ge<E.sections.length;ge++){var Ee=E.sections[ge];Ee.image?ee.addImageSection(Ee):ee.addTextSection(Ee,B)}return ee},Oo.prototype.length=function(){return this.text.length},Oo.prototype.getSection=function(E){return this.sections[this.sectionIndex[E]]},Oo.prototype.getSectionIndex=function(E){return this.sectionIndex[E]},Oo.prototype.getCharCode=function(E){return this.text.charCodeAt(E)},Oo.prototype.verticalizePunctuation=function(){this.text=function(E){for(var B="",ee=0;ee<E.length;ee++){var ge=E.charCodeAt(ee+1)||null,Ee=E.charCodeAt(ee-1)||null;ge&&ya(ge)&&!Zh[E[ee+1]]||Ee&&ya(Ee)&&!Zh[E[ee-1]]||!Zh[E[ee]]?B+=E[ee]:B+=Zh[E[ee]]}return B}(this.text)},Oo.prototype.trim=function(){for(var E=0,B=0;B<this.text.length&&Dd[this.text.charCodeAt(B)];B++)E++;for(var ee=this.text.length,ge=this.text.length-1;ge>=0&&ge>=E&&Dd[this.text.charCodeAt(ge)];ge--)ee--;this.text=this.text.substring(E,ee),this.sectionIndex=this.sectionIndex.slice(E,ee)},Oo.prototype.substring=function(E,B){var ee=new Oo;return ee.text=this.text.substring(E,B),ee.sectionIndex=this.sectionIndex.slice(E,B),ee.sections=this.sections,ee},Oo.prototype.toString=function(){return this.text},Oo.prototype.getMaxScale=function(){var E=this;return this.sectionIndex.reduce(function(B,ee){return Math.max(B,E.sections[ee].scale)},0)},Oo.prototype.addTextSection=function(E,B){this.text+=E.text,this.sections.push(Xf.forText(E.scale,E.fontStack||B));for(var ee=this.sections.length-1,ge=0;ge<E.text.length;++ge)this.sectionIndex.push(ee)},Oo.prototype.addImageSection=function(E){var B=E.image?E.image.name:"";if(B.length!==0){var ee=this.getNextImageSectionCharCode();ee?(this.text+=String.fromCharCode(ee),this.sections.push(Xf.forImage(B)),this.sectionIndex.push(this.sections.length-1)):C("Reached maximum number of images 6401")}else C("Can't add FormattedSection with an empty image.")},Oo.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Dd={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Ss={};function N1(E,B,ee,ge,Ee,ze){if(B.imageName){var Ge=ge[B.imageName];return Ge?Ge.displaySize[0]*B.scale*oo/ze+Ee:0}var tt=ee[B.fontStack],ht=tt&&tt[E];return ht?ht.metrics.advance*B.scale+Ee:0}function j1(E,B,ee,ge){var Ee=Math.pow(E-B,2);return ge?E<B?Ee/2:2*Ee:Ee+Math.abs(ee)*ee}function x6(E,B,ee){var ge=0;return E===10&&(ge-=1e4),ee&&(ge+=150),E!==40&&E!==65288||(ge+=50),B!==41&&B!==65289||(ge+=50),ge}function U1(E,B,ee,ge,Ee,ze){for(var Ge=null,tt=j1(B,ee,Ee,ze),ht=0,Tt=ge;ht<Tt.length;ht+=1){var Mt=Tt[ht],Bt=j1(B-Mt.x,ee,Ee,ze)+Mt.badness;Bt<=tt&&(Ge=Mt,tt=Bt)}return{index:E,x:B,priorBreak:Ge,badness:tt}}function V1(E){return E?V1(E.priorBreak).concat(E.index):[]}function Ug(E,B,ee,ge,Ee,ze,Ge){if(ze!=="point")return[];if(!E)return[];for(var tt=[],ht=function(Mn,Tn,Nn,jn,Zn,Jn){for(var lr=0,_r=0;_r<Mn.length();_r++){var yr=Mn.getSection(_r);lr+=N1(Mn.getCharCode(_r),yr,jn,Zn,Tn,Jn)}return lr/Math.max(1,Math.ceil(lr/Nn))}(E,B,ee,ge,Ee,Ge),Tt=E.text.indexOf("")>=0,Mt=0,Bt=0;Bt<E.length();Bt++){var Gt=E.getSection(Bt),Vt=E.getCharCode(Bt);if(Dd[Vt]||(Mt+=N1(Vt,Gt,ge,Ee,B,Ge)),Bt<E.length()-1){var ln=!((cn=Vt)<11904||!(Tr["Bopomofo Extended"](cn)||Tr.Bopomofo(cn)||Tr["CJK Compatibility Forms"](cn)||Tr["CJK Compatibility Ideographs"](cn)||Tr["CJK Compatibility"](cn)||Tr["CJK Radicals Supplement"](cn)||Tr["CJK Strokes"](cn)||Tr["CJK Symbols and Punctuation"](cn)||Tr["CJK Unified Ideographs Extension A"](cn)||Tr["CJK Unified Ideographs"](cn)||Tr["Enclosed CJK Letters and Months"](cn)||Tr["Halfwidth and Fullwidth Forms"](cn)||Tr.Hiragana(cn)||Tr["Ideographic Description Characters"](cn)||Tr["Kangxi Radicals"](cn)||Tr["Katakana Phonetic Extensions"](cn)||Tr.Katakana(cn)||Tr["Vertical Forms"](cn)||Tr["Yi Radicals"](cn)||Tr["Yi Syllables"](cn)));(Ss[Vt]||ln||Gt.imageName)&&tt.push(U1(Bt+1,Mt,ht,tt,x6(Vt,E.getCharCode(Bt+1),ln&&Tt),!1))}}var cn;return V1(U1(E.length(),Mt,ht,tt,0,!0))}function Vg(E){var B=.5,ee=.5;switch(E){case"right":case"top-right":case"bottom-right":B=1;break;case"left":case"top-left":case"bottom-left":B=0}switch(E){case"bottom":case"bottom-right":case"bottom-left":ee=1;break;case"top":case"top-right":case"top-left":ee=0}return{horizontalAlign:B,verticalAlign:ee}}function b6(E,B,ee,ge,Ee){if(ge||Ee)for(var ze=E[ee],Ge=ze.metrics.advance*ze.scale,tt=(E[ee].x+Ge)*ge,ht=B;ht<=ee;ht++)E[ht].x-=tt,E[ht].y+=Ee}function H1(E,B,ee,ge,Ee,ze){var Ge,tt=E.image;if(tt.content){var ht=tt.content,Tt=tt.pixelRatio||1;Ge=[ht[0]/Tt,ht[1]/Tt,tt.displaySize[0]-ht[2]/Tt,tt.displaySize[1]-ht[3]/Tt]}var Mt,Bt,Gt,Vt,ln=B.left*ze,cn=B.right*ze;ee==="width"||ee==="both"?(Vt=Ee[0]+ln-ge[3],Bt=Ee[0]+cn+ge[1]):Bt=(Vt=Ee[0]+(ln+cn-tt.displaySize[0])/2)+tt.displaySize[0];var Mn=B.top*ze,Tn=B.bottom*ze;return ee==="height"||ee==="both"?(Mt=Ee[1]+Mn-ge[0],Gt=Ee[1]+Tn+ge[2]):Gt=(Mt=Ee[1]+(Mn+Tn-tt.displaySize[1])/2)+tt.displaySize[1],{image:tt,top:Mt,right:Bt,bottom:Gt,left:Vt,collisionPadding:Ge}}Ss[10]=!0,Ss[32]=!0,Ss[38]=!0,Ss[40]=!0,Ss[41]=!0,Ss[43]=!0,Ss[45]=!0,Ss[47]=!0,Ss[173]=!0,Ss[183]=!0,Ss[8203]=!0,Ss[8208]=!0,Ss[8211]=!0,Ss[8231]=!0;var Kf=function(E){function B(ee,ge,Ee,ze){E.call(this,ee,ge),this.angle=Ee,ze!==void 0&&(this.segment=ze)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype.clone=function(){return new B(this.x,this.y,this.angle,this.segment)},B}(n);Or("Anchor",Kf);var hu=128;function Hg(E,B){var ee=B.expression;if(ee.kind==="constant")return{kind:"constant",layoutSize:ee.evaluate(new pi(E+1))};if(ee.kind==="source")return{kind:"source"};for(var ge=ee.zoomStops,Ee=ee.interpolationType,ze=0;ze<ge.length&&ge[ze]<=E;)ze++;for(var Ge=ze=Math.max(0,ze-1);Ge<ge.length&&ge[Ge]<E+1;)Ge++;Ge=Math.min(ge.length-1,Ge);var tt=ge[ze],ht=ge[Ge];return ee.kind==="composite"?{kind:"composite",minZoom:tt,maxZoom:ht,interpolationType:Ee}:{kind:"camera",minZoom:tt,maxZoom:ht,minSize:ee.evaluate(new pi(tt)),maxSize:ee.evaluate(new pi(ht)),interpolationType:Ee}}function q1(E,B,ee){var ge=B.uSize,Ee=B.uSizeT,ze=ee.lowerSize,Ge=ee.upperSize;return E.kind==="source"?ze/hu:E.kind==="composite"?$r(ze/hu,Ge/hu,Ee):ge}function G1(E,B){var ee=0,ge=0;if(E.kind==="constant")ge=E.layoutSize;else if(E.kind!=="source"){var Ee=E.interpolationType,ze=E.minZoom,Ge=E.maxZoom,tt=Ee?u(va.interpolationFactor(Ee,B,ze,Ge),0,1):0;E.kind==="camera"?ge=$r(E.minSize,E.maxSize,tt):ee=tt}return{uSizeT:ee,uSize:ge}}var _6=Object.freeze({__proto__:null,getSizeData:Hg,evaluateSizeForFeature:q1,evaluateSizeForZoom:G1,SIZE_PACK_FACTOR:hu});function W1(E,B,ee,ge,Ee){if(B.segment===void 0)return!0;for(var ze=B,Ge=B.segment+1,tt=0;tt>-ee/2;){if(--Ge<0)return!1;tt-=E[Ge].dist(ze),ze=E[Ge]}tt+=E[Ge].dist(E[Ge+1]),Ge++;for(var ht=[],Tt=0;tt<ee/2;){var Mt=E[Ge-1],Bt=E[Ge],Gt=E[Ge+1];if(!Gt)return!1;var Vt=Mt.angleTo(Bt)-Bt.angleTo(Gt);for(Vt=Math.abs((Vt+3*Math.PI)%(2*Math.PI)-Math.PI),ht.push({distance:tt,angleDelta:Vt}),Tt+=Vt;tt-ht[0].distance>ge;)Tt-=ht.shift().angleDelta;if(Tt>Ee)return!1;Ge++,tt+=Bt.dist(Gt)}return!0}function Y1(E){for(var B=0,ee=0;ee<E.length-1;ee++)B+=E[ee].dist(E[ee+1]);return B}function $1(E,B,ee){return E?.6*B*ee:0}function Z1(E,B){return Math.max(E?E.right-E.left:0,B?B.right-B.left:0)}function w6(E,B,ee,ge,Ee,ze){for(var Ge=$1(ee,Ee,ze),tt=Z1(ee,ge)*ze,ht=0,Tt=Y1(E)/2,Mt=0;Mt<E.length-1;Mt++){var Bt=E[Mt],Gt=E[Mt+1],Vt=Bt.dist(Gt);if(ht+Vt>Tt){var ln=(Tt-ht)/Vt,cn=$r(Bt.x,Gt.x,ln),Mn=$r(Bt.y,Gt.y,ln),Tn=new Kf(cn,Mn,Gt.angleTo(Bt),Mt);return Tn._round(),!Ge||W1(E,Tn,tt,Ge,B)?Tn:void 0}ht+=Vt}}function T6(E,B,ee,ge,Ee,ze,Ge,tt,ht){var Tt=$1(ge,ze,Ge),Mt=Z1(ge,Ee),Bt=Mt*Ge,Gt=E[0].x===0||E[0].x===ht||E[0].y===0||E[0].y===ht;return B-Bt<B/4&&(B=Bt+B/4),X1(E,Gt?B/2*tt%B:(Mt/2+2*ze)*Ge*tt%B,B,Tt,ee,Bt,Gt,!1,ht)}function X1(E,B,ee,ge,Ee,ze,Ge,tt,ht){for(var Tt=ze/2,Mt=Y1(E),Bt=0,Gt=B-ee,Vt=[],ln=0;ln<E.length-1;ln++){for(var cn=E[ln],Mn=E[ln+1],Tn=cn.dist(Mn),Nn=Mn.angleTo(cn);Gt+ee<Bt+Tn;){var jn=((Gt+=ee)-Bt)/Tn,Zn=$r(cn.x,Mn.x,jn),Jn=$r(cn.y,Mn.y,jn);if(Zn>=0&&Zn<ht&&Jn>=0&&Jn<ht&&Gt-Tt>=0&&Gt+Tt<=Mt){var lr=new Kf(Zn,Jn,Nn,ln);lr._round(),ge&&!W1(E,lr,ze,ge,Ee)||Vt.push(lr)}}Bt+=Tn}return tt||Vt.length||Ge||(Vt=X1(E,Bt/2,ee,ge,Ee,ze,Ge,!0,ht)),Vt}function K1(E,B,ee,ge,Ee){for(var ze=[],Ge=0;Ge<E.length;Ge++)for(var tt=E[Ge],ht=void 0,Tt=0;Tt<tt.length-1;Tt++){var Mt=tt[Tt],Bt=tt[Tt+1];Mt.x<B&&Bt.x<B||(Mt.x<B?Mt=new n(B,Mt.y+(Bt.y-Mt.y)*((B-Mt.x)/(Bt.x-Mt.x)))._round():Bt.x<B&&(Bt=new n(B,Mt.y+(Bt.y-Mt.y)*((B-Mt.x)/(Bt.x-Mt.x)))._round()),Mt.y<ee&&Bt.y<ee||(Mt.y<ee?Mt=new n(Mt.x+(Bt.x-Mt.x)*((ee-Mt.y)/(Bt.y-Mt.y)),ee)._round():Bt.y<ee&&(Bt=new n(Mt.x+(Bt.x-Mt.x)*((ee-Mt.y)/(Bt.y-Mt.y)),ee)._round()),Mt.x>=ge&&Bt.x>=ge||(Mt.x>=ge?Mt=new n(ge,Mt.y+(Bt.y-Mt.y)*((ge-Mt.x)/(Bt.x-Mt.x)))._round():Bt.x>=ge&&(Bt=new n(ge,Mt.y+(Bt.y-Mt.y)*((ge-Mt.x)/(Bt.x-Mt.x)))._round()),Mt.y>=Ee&&Bt.y>=Ee||(Mt.y>=Ee?Mt=new n(Mt.x+(Bt.x-Mt.x)*((Ee-Mt.y)/(Bt.y-Mt.y)),Ee)._round():Bt.y>=Ee&&(Bt=new n(Mt.x+(Bt.x-Mt.x)*((Ee-Mt.y)/(Bt.y-Mt.y)),Ee)._round()),ht&&Mt.equals(ht[ht.length-1])||(ht=[Mt],ze.push(ht)),ht.push(Bt)))))}return ze}var Jf=Ms;function J1(E,B,ee,ge){var Ee=[],ze=E.image,Ge=ze.pixelRatio,tt=ze.paddedRect.w-2*Jf,ht=ze.paddedRect.h-2*Jf,Tt=E.right-E.left,Mt=E.bottom-E.top,Bt=ze.stretchX||[[0,tt]],Gt=ze.stretchY||[[0,ht]],Vt=function(ji,ta){return ji+ta[1]-ta[0]},ln=Bt.reduce(Vt,0),cn=Gt.reduce(Vt,0),Mn=tt-ln,Tn=ht-cn,Nn=0,jn=ln,Zn=0,Jn=cn,lr=0,_r=Mn,yr=0,Sr=Tn;if(ze.content&&ge){var Pr=ze.content;Nn=zd(Bt,0,Pr[0]),Zn=zd(Gt,0,Pr[1]),jn=zd(Bt,Pr[0],Pr[2]),Jn=zd(Gt,Pr[1],Pr[3]),lr=Pr[0]-Nn,yr=Pr[1]-Zn,_r=Pr[2]-Pr[0]-jn,Sr=Pr[3]-Pr[1]-Jn}var Qr=function(ji,ta,oa,sa){var Zi=Fd(ji.stretch-Nn,jn,Tt,E.left),Va=Bd(ji.fixed-lr,_r,ji.stretch,ln),pa=Fd(ta.stretch-Zn,Jn,Mt,E.top),eo=Bd(ta.fixed-yr,Sr,ta.stretch,cn),yo=Fd(oa.stretch-Nn,jn,Tt,E.left),so=Bd(oa.fixed-lr,_r,oa.stretch,ln),Yo=Fd(sa.stretch-Zn,Jn,Mt,E.top),lo=Bd(sa.fixed-yr,Sr,sa.stretch,cn),Wa=new n(Zi,pa),uo=new n(yo,pa),to=new n(yo,Yo),Ya=new n(Zi,Yo),si=new n(Va/Ge,eo/Ge),wi=new n(so/Ge,lo/Ge),ba=B*Math.PI/180;if(ba){var Gi=Math.sin(ba),ga=Math.cos(ba),fa=[ga,-Gi,Gi,ga];Wa._matMult(fa),uo._matMult(fa),Ya._matMult(fa),to._matMult(fa)}var Ei=ji.stretch+ji.fixed,_a=oa.stretch+oa.fixed,$o=ta.stretch+ta.fixed,Es=sa.stretch+sa.fixed;return{tl:Wa,tr:uo,bl:Ya,br:to,tex:{x:ze.paddedRect.x+Jf+Ei,y:ze.paddedRect.y+Jf+$o,w:_a-Ei,h:Es-$o},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:si,pixelOffsetBR:wi,minFontScaleX:_r/Ge/Tt,minFontScaleY:Sr/Ge/Mt,isSDF:ee}};if(ge&&(ze.stretchX||ze.stretchY))for(var Br=Q1(Bt,Mn,ln),Jr=Q1(Gt,Tn,cn),Hr=0;Hr<Br.length-1;Hr++)for(var Fr=Br[Hr],yi=Br[Hr+1],ai=0;ai<Jr.length-1;ai++){var $i=Jr[ai],Zr=Jr[ai+1];Ee.push(Qr(Fr,$i,yi,Zr))}else Ee.push(Qr({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:tt+1},{fixed:0,stretch:ht+1}));return Ee}function zd(E,B,ee){for(var ge=0,Ee=0,ze=E;Ee<ze.length;Ee+=1){var Ge=ze[Ee];ge+=Math.max(B,Math.min(ee,Ge[1]))-Math.max(B,Math.min(ee,Ge[0]))}return ge}function Q1(E,B,ee){for(var ge=[{fixed:-Jf,stretch:0}],Ee=0,ze=E;Ee<ze.length;Ee+=1){var Ge=ze[Ee],tt=Ge[0],ht=Ge[1],Tt=ge[ge.length-1];ge.push({fixed:tt-Tt.stretch,stretch:Tt.stretch}),ge.push({fixed:tt-Tt.stretch,stretch:Tt.stretch+(ht-tt)})}return ge.push({fixed:B+Jf,stretch:ee}),ge}function Fd(E,B,ee,ge){return E/B*ee+ge}function Bd(E,B,ee,ge){return E-B*ee/ge}var Nd=function(E,B,ee,ge,Ee,ze,Ge,tt,ht,Tt){if(this.boxStartIndex=E.length,ht){var Mt=ze.top,Bt=ze.bottom,Gt=ze.collisionPadding;Gt&&(Mt-=Gt[1],Bt+=Gt[3]);var Vt=Bt-Mt;Vt>0&&(Vt=Math.max(10,Vt),this.circleDiameter=Vt)}else{var ln=ze.top*Ge-tt,cn=ze.bottom*Ge+tt,Mn=ze.left*Ge-tt,Tn=ze.right*Ge+tt,Nn=ze.collisionPadding;if(Nn&&(Mn-=Nn[0]*Ge,ln-=Nn[1]*Ge,Tn+=Nn[2]*Ge,cn+=Nn[3]*Ge),Tt){var jn=new n(Mn,ln),Zn=new n(Tn,ln),Jn=new n(Mn,cn),lr=new n(Tn,cn),_r=Tt*Math.PI/180;jn._rotate(_r),Zn._rotate(_r),Jn._rotate(_r),lr._rotate(_r),Mn=Math.min(jn.x,Zn.x,Jn.x,lr.x),Tn=Math.max(jn.x,Zn.x,Jn.x,lr.x),ln=Math.min(jn.y,Zn.y,Jn.y,lr.y),cn=Math.max(jn.y,Zn.y,Jn.y,lr.y)}E.emplaceBack(B.x,B.y,Mn,ln,Tn,cn,ee,ge,Ee)}this.boxEndIndex=E.length},Qf=function(E,B){if(E===void 0&&(E=[]),B===void 0&&(B=k6),this.data=E,this.length=this.data.length,this.compare=B,this.length>0)for(var ee=(this.length>>1)-1;ee>=0;ee--)this._down(ee)};function k6(E,B){return E<B?-1:E>B?1:0}function A6(E,B,ee){ee===void 0&&(ee=!1);for(var ge=1/0,Ee=1/0,ze=-1/0,Ge=-1/0,tt=E[0],ht=0;ht<tt.length;ht++){var Tt=tt[ht];(!ht||Tt.x<ge)&&(ge=Tt.x),(!ht||Tt.y<Ee)&&(Ee=Tt.y),(!ht||Tt.x>ze)&&(ze=Tt.x),(!ht||Tt.y>Ge)&&(Ge=Tt.y)}var Mt=ze-ge,Bt=Ge-Ee,Gt=Math.min(Mt,Bt),Vt=Gt/2,ln=new Qf([],M6);if(Gt===0)return new n(ge,Ee);for(var cn=ge;cn<ze;cn+=Gt)for(var Mn=Ee;Mn<Ge;Mn+=Gt)ln.push(new eh(cn+Vt,Mn+Vt,Vt,E));for(var Tn=function(Zn){for(var Jn=0,lr=0,_r=0,yr=Zn[0],Sr=0,Pr=yr.length,Qr=Pr-1;Sr<Pr;Qr=Sr++){var Br=yr[Sr],Jr=yr[Qr],Hr=Br.x*Jr.y-Jr.x*Br.y;lr+=(Br.x+Jr.x)*Hr,_r+=(Br.y+Jr.y)*Hr,Jn+=3*Hr}return new eh(lr/Jn,_r/Jn,0,Zn)}(E),Nn=ln.length;ln.length;){var jn=ln.pop();(jn.d>Tn.d||!Tn.d)&&(Tn=jn,ee&&console.log("found best %d after %d probes",Math.round(1e4*jn.d)/1e4,Nn)),jn.max-Tn.d<=B||(Vt=jn.h/2,ln.push(new eh(jn.p.x-Vt,jn.p.y-Vt,Vt,E)),ln.push(new eh(jn.p.x+Vt,jn.p.y-Vt,Vt,E)),ln.push(new eh(jn.p.x-Vt,jn.p.y+Vt,Vt,E)),ln.push(new eh(jn.p.x+Vt,jn.p.y+Vt,Vt,E)),Nn+=4)}return ee&&(console.log("num probes: "+Nn),console.log("best distance: "+Tn.d)),Tn.p}function M6(E,B){return B.max-E.max}function eh(E,B,ee,ge){this.p=new n(E,B),this.h=ee,this.d=function(Ee,ze){for(var Ge=!1,tt=1/0,ht=0;ht<ze.length;ht++)for(var Tt=ze[ht],Mt=0,Bt=Tt.length,Gt=Bt-1;Mt<Bt;Gt=Mt++){var Vt=Tt[Mt],ln=Tt[Gt];Vt.y>Ee.y!=ln.y>Ee.y&&Ee.x<(ln.x-Vt.x)*(Ee.y-Vt.y)/(ln.y-Vt.y)+Vt.x&&(Ge=!Ge),tt=Math.min(tt,_d(Ee,Vt,ln))}return(Ge?1:-1)*Math.sqrt(tt)}(this.p,ge),this.max=this.d+this.h*Math.SQRT2}Qf.prototype.push=function(E){this.data.push(E),this.length++,this._up(this.length-1)},Qf.prototype.pop=function(){if(this.length!==0){var E=this.data[0],B=this.data.pop();return this.length--,this.length>0&&(this.data[0]=B,this._down(0)),E}},Qf.prototype.peek=function(){return this.data[0]},Qf.prototype._up=function(E){for(var B=this.data,ee=this.compare,ge=B[E];E>0;){var Ee=E-1>>1,ze=B[Ee];if(ee(ge,ze)>=0)break;B[E]=ze,E=Ee}B[E]=ge},Qf.prototype._down=function(E){for(var B=this.data,ee=this.compare,ge=this.length>>1,Ee=B[E];E<ge;){var ze=1+(E<<1),Ge=B[ze],tt=ze+1;if(tt<this.length&&ee(B[tt],Ge)<0&&(ze=tt,Ge=B[tt]),ee(Ge,Ee)>=0)break;B[E]=Ge,E=ze}B[E]=Ee};var th=7,qg=Number.POSITIVE_INFINITY;function ex(E,B){return B[1]!==qg?function(ee,ge,Ee){var ze=0,Ge=0;switch(ge=Math.abs(ge),Ee=Math.abs(Ee),ee){case"top-right":case"top-left":case"top":Ge=Ee-th;break;case"bottom-right":case"bottom-left":case"bottom":Ge=-Ee+th}switch(ee){case"top-right":case"bottom-right":case"right":ze=-ge;break;case"top-left":case"bottom-left":case"left":ze=ge}return[ze,Ge]}(E,B[0],B[1]):function(ee,ge){var Ee=0,ze=0;ge<0&&(ge=0);var Ge=ge/Math.sqrt(2);switch(ee){case"top-right":case"top-left":ze=Ge-th;break;case"bottom-right":case"bottom-left":ze=-Ge+th;break;case"bottom":ze=-ge+th;break;case"top":ze=ge-th}switch(ee){case"top-right":case"bottom-right":Ee=-Ge;break;case"top-left":case"bottom-left":Ee=Ge;break;case"left":Ee=ge;break;case"right":Ee=-ge}return[Ee,ze]}(E,B[0])}function Gg(E){switch(E){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}var Qh=255,Ec=Qh*hu;function tx(E,B,ee,ge,Ee,ze,Ge,tt,ht,Tt,Mt,Bt,Gt,Vt,ln){var cn=function(Zn,Jn,lr,_r,yr,Sr,Pr,Qr){for(var Br=_r.layout.get("text-rotate").evaluate(Sr,{})*Math.PI/180,Jr=[],Hr=0,Fr=Jn.positionedLines;Hr<Fr.length;Hr+=1)for(var yi=Fr[Hr],ai=0,$i=yi.positionedGlyphs;ai<$i.length;ai+=1){var Zr=$i[ai];if(Zr.rect){var ji=Zr.rect||{},ta=F1+1,oa=!0,sa=1,Zi=0,Va=(yr||Qr)&&Zr.vertical,pa=Zr.metrics.advance*Zr.scale/2;if(Qr&&Jn.verticalizable){var eo=(Zr.scale-1)*oo,yo=(oo-Zr.metrics.width*Zr.scale)/2;Zi=yi.lineOffset/2-(Zr.imageName?-yo:eo)}if(Zr.imageName){var so=Pr[Zr.imageName];oa=so.sdf,sa=so.pixelRatio,ta=Ms/sa}var Yo=yr?[Zr.x+pa,Zr.y]:[0,0],lo=yr?[0,0]:[Zr.x+pa+lr[0],Zr.y+lr[1]-Zi],Wa=[0,0];Va&&(Wa=lo,lo=[0,0]);var uo=(Zr.metrics.left-ta)*Zr.scale-pa+lo[0],to=(-Zr.metrics.top-ta)*Zr.scale+lo[1],Ya=uo+ji.w*Zr.scale/sa,si=to+ji.h*Zr.scale/sa,wi=new n(uo,to),ba=new n(Ya,to),Gi=new n(uo,si),ga=new n(Ya,si);if(Va){var fa=new n(-pa,pa-Jh),Ei=-Math.PI/2,_a=oo/2-pa,$o=Zr.imageName?_a:0,Es=new n(5-Jh-_a,-$o),Io=new(Function.prototype.bind.apply(n,[null].concat(Wa)));wi._rotateAround(Ei,fa)._add(Es)._add(Io),ba._rotateAround(Ei,fa)._add(Es)._add(Io),Gi._rotateAround(Ei,fa)._add(Es)._add(Io),ga._rotateAround(Ei,fa)._add(Es)._add(Io)}if(Br){var pu=Math.sin(Br),ec=Math.cos(Br),no=[ec,-pu,pu,ec];wi._matMult(no),ba._matMult(no),Gi._matMult(no),ga._matMult(no)}var du=new n(0,0),Ul=new n(0,0);Jr.push({tl:wi,tr:ba,bl:Gi,br:ga,tex:ji,writingMode:Jn.writingMode,glyphOffset:Yo,sectionIndex:Zr.sectionIndex,isSDF:oa,pixelOffsetTL:du,pixelOffsetBR:Ul,minFontScaleX:0,minFontScaleY:0})}}return Jr}(0,ee,tt,Ee,ze,Ge,ge,E.allowVerticalPlacement),Mn=E.textSizeData,Tn=null;Mn.kind==="source"?(Tn=[hu*Ee.layout.get("text-size").evaluate(Ge,{})])[0]>Ec&&C(E.layerIds[0]+': Value for "text-size" is >= '+Qh+'. Reduce your "text-size".'):Mn.kind==="composite"&&((Tn=[hu*Vt.compositeTextSizes[0].evaluate(Ge,{},ln),hu*Vt.compositeTextSizes[1].evaluate(Ge,{},ln)])[0]>Ec||Tn[1]>Ec)&&C(E.layerIds[0]+': Value for "text-size" is >= '+Qh+'. Reduce your "text-size".'),E.addSymbols(E.text,cn,Tn,tt,ze,Ge,Tt,B,ht.lineStartIndex,ht.lineLength,Gt,ln);for(var Nn=0,jn=Mt;Nn<jn.length;Nn+=1)Bt[jn[Nn]]=E.text.placedSymbolArray.length-1;return 4*cn.length}function nx(E){for(var B in E)return E[B];return null}function S6(E,B,ee,ge){var Ee=E.compareText;if(B in Ee){for(var ze=Ee[B],Ge=ze.length-1;Ge>=0;Ge--)if(ge.dist(ze[Ge])<ee)return!0}else Ee[B]=[];return Ee[B].push(ge),!1}var E6=Yf.VectorTileFeature.types,L6=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function jd(E,B,ee,ge,Ee,ze,Ge,tt,ht,Tt,Mt,Bt,Gt){var Vt=tt?Math.min(Ec,Math.round(tt[0])):0,ln=tt?Math.min(Ec,Math.round(tt[1])):0;E.emplaceBack(B,ee,Math.round(32*ge),Math.round(32*Ee),ze,Ge,(Vt<<1)+(ht?1:0),ln,16*Tt,16*Mt,256*Bt,256*Gt)}function Wg(E,B,ee){E.emplaceBack(B.x,B.y,ee),E.emplaceBack(B.x,B.y,ee),E.emplaceBack(B.x,B.y,ee),E.emplaceBack(B.x,B.y,ee)}function C6(E){for(var B=0,ee=E.sections;B<ee.length;B+=1)if(qa(ee[B].text))return!0;return!1}var nh=function(E){this.layoutVertexArray=new Z,this.indexArray=new ke,this.programConfigurations=E,this.segments=new Gn,this.dynamicLayoutVertexArray=new Y,this.opacityVertexArray=new P,this.placedSymbolArray=new It};nh.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},nh.prototype.upload=function(E,B,ee,ge){this.isEmpty()||(ee&&(this.layoutVertexBuffer=E.createVertexBuffer(this.layoutVertexArray,n6.members),this.indexBuffer=E.createIndexBuffer(this.indexArray,B),this.dynamicLayoutVertexBuffer=E.createVertexBuffer(this.dynamicLayoutVertexArray,r6.members,!0),this.opacityVertexBuffer=E.createVertexBuffer(this.opacityVertexArray,L6,!0),this.opacityVertexBuffer.itemSize=1),(ee||ge)&&this.programConfigurations.upload(E))},nh.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Or("SymbolBuffers",nh);var ep=function(E,B,ee){this.layoutVertexArray=new E,this.layoutAttributes=B,this.indexArray=new ee,this.segments=new Gn,this.collisionVertexArray=new ve};ep.prototype.upload=function(E){this.layoutVertexBuffer=E.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=E.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=E.createVertexBuffer(this.collisionVertexArray,i6.members,!0)},ep.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Or("CollisionBuffers",ep);var Ni=function(E){this.collisionBoxArray=E.collisionBoxArray,this.zoom=E.zoom,this.overscaling=E.overscaling,this.layers=E.layers,this.layerIds=this.layers.map(function(Ge){return Ge.id}),this.index=E.index,this.pixelRatio=E.pixelRatio,this.sourceLayerIndex=E.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Eg([]),this.placementViewportMatrix=Eg([]);var B=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Hg(this.zoom,B["text-size"]),this.iconSizeData=Hg(this.zoom,B["icon-size"]);var ee=this.layers[0].layout,ge=ee.get("symbol-sort-key"),Ee=ee.get("symbol-z-order");this.canOverlap=ee.get("text-allow-overlap")||ee.get("icon-allow-overlap")||ee.get("text-ignore-placement")||ee.get("icon-ignore-placement"),this.sortFeaturesByKey=Ee!=="viewport-y"&&ge.constantOr(1)!==void 0;var ze=Ee==="viewport-y"||Ee==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=ze&&this.canOverlap,ee.get("symbol-placement")==="point"&&(this.writingModes=ee.get("text-writing-mode").map(function(Ge){return Ks[Ge]})),this.stateDependentLayerIds=this.layers.filter(function(Ge){return Ge.isStateDependent()}).map(function(Ge){return Ge.id}),this.sourceID=E.sourceID};Ni.prototype.createArrays=function(){this.text=new nh(new da(this.layers,this.zoom,function(E){return/^text/.test(E)})),this.icon=new nh(new da(this.layers,this.zoom,function(E){return/^icon/.test(E)})),this.glyphOffsetArray=new Ht,this.lineVertexArray=new vn,this.symbolInstances=new $t},Ni.prototype.calculateGlyphDependencies=function(E,B,ee,ge,Ee){for(var ze=0;ze<E.length;ze++)if(B[E.charCodeAt(ze)]=!0,(ee||ge)&&Ee){var Ge=Zh[E.charAt(ze)];Ge&&(B[Ge.charCodeAt(0)]=!0)}},Ni.prototype.populate=function(E,B,ee){var ge=this.layers[0],Ee=ge.layout,ze=Ee.get("text-font"),Ge=Ee.get("text-field"),tt=Ee.get("icon-image"),ht=(Ge.value.kind!=="constant"||Ge.value.value instanceof Bn&&!Ge.value.value.isEmpty()||Ge.value.value.toString().length>0)&&(ze.value.kind!=="constant"||ze.value.value.length>0),Tt=tt.value.kind!=="constant"||!!tt.value.value||Object.keys(tt.parameters).length>0,Mt=Ee.get("symbol-sort-key");if(this.features=[],ht||Tt){for(var Bt=B.iconDependencies,Gt=B.glyphDependencies,Vt=B.availableImages,ln=new pi(this.zoom),cn=0,Mn=E;cn<Mn.length;cn+=1){var Tn=Mn[cn],Nn=Tn.feature,jn=Tn.id,Zn=Tn.index,Jn=Tn.sourceLayerIndex,lr=ge._featureFilter.needGeometry,_r=Qi(Nn,lr);if(ge._featureFilter.filter(ln,_r,ee)){lr||(_r.geometry=As(Nn));var yr=void 0;if(ht){var Sr=ge.getValueAndResolveTokens("text-field",_r,ee,Vt),Pr=Bn.factory(Sr);C6(Pr)&&(this.hasRTLText=!0),(!this.hasRTLText||Dl()==="unavailable"||this.hasRTLText&&Ja.isParsed())&&(yr=o6(Pr,ge,_r))}var Qr=void 0;if(Tt){var Br=ge.getValueAndResolveTokens("icon-image",_r,ee,Vt);Qr=Br instanceof Wn?Br:Wn.fromString(Br)}if(yr||Qr){var Jr=this.sortFeaturesByKey?Mt.evaluate(_r,{},ee):void 0,Hr={id:jn,text:yr,icon:Qr,index:Zn,sourceLayerIndex:Jn,geometry:_r.geometry,properties:Nn.properties,type:E6[Nn.type],sortKey:Jr};if(this.features.push(Hr),Qr&&(Bt[Qr.name]=!0),yr){var Fr=ze.evaluate(_r,{},ee).join(","),yi=Ee.get("text-rotation-alignment")==="map"&&Ee.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Ks.vertical)>=0;for(var ai=0,$i=yr.sections;ai<$i.length;ai+=1){var Zr=$i[ai];if(Zr.image)Bt[Zr.image.name]=!0;else{var ji=su(yr.toString()),ta=Zr.fontStack||Fr,oa=Gt[ta]=Gt[ta]||{};this.calculateGlyphDependencies(Zr.text,oa,yi,this.allowVerticalPlacement,ji)}}}}}}Ee.get("symbol-placement")==="line"&&(this.features=function(sa){var Zi={},Va={},pa=[],eo=0;function yo(ga){pa.push(sa[ga]),eo++}function so(ga,fa,Ei){var _a=Va[ga];return delete Va[ga],Va[fa]=_a,pa[_a].geometry[0].pop(),pa[_a].geometry[0]=pa[_a].geometry[0].concat(Ei[0]),_a}function Yo(ga,fa,Ei){var _a=Zi[fa];return delete Zi[fa],Zi[ga]=_a,pa[_a].geometry[0].shift(),pa[_a].geometry[0]=Ei[0].concat(pa[_a].geometry[0]),_a}function lo(ga,fa,Ei){var _a=Ei?fa[0][fa[0].length-1]:fa[0][0];return ga+":"+_a.x+":"+_a.y}for(var Wa=0;Wa<sa.length;Wa++){var uo=sa[Wa],to=uo.geometry,Ya=uo.text?uo.text.toString():null;if(Ya){var si=lo(Ya,to),wi=lo(Ya,to,!0);if(si in Va&&wi in Zi&&Va[si]!==Zi[wi]){var ba=Yo(si,wi,to),Gi=so(si,wi,pa[ba].geometry);delete Zi[si],delete Va[wi],Va[lo(Ya,pa[Gi].geometry,!0)]=Gi,pa[ba].geometry=null}else si in Va?so(si,wi,to):wi in Zi?Yo(si,wi,to):(yo(Wa),Zi[si]=eo-1,Va[wi]=eo-1)}else yo(Wa)}return pa.filter(function(ga){return ga.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(sa,Zi){return sa.sortKey-Zi.sortKey})}},Ni.prototype.update=function(E,B,ee){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(E,B,this.layers,ee),this.icon.programConfigurations.updatePaintArrays(E,B,this.layers,ee))},Ni.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},Ni.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Ni.prototype.upload=function(E){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(E),this.iconCollisionBox.upload(E)),this.text.upload(E,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(E,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Ni.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},Ni.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},Ni.prototype.addToLineVertexArray=function(E,B){var ee=this.lineVertexArray.length;if(E.segment!==void 0){for(var ge=E.dist(B[E.segment+1]),Ee=E.dist(B[E.segment]),ze={},Ge=E.segment+1;Ge<B.length;Ge++)ze[Ge]={x:B[Ge].x,y:B[Ge].y,tileUnitDistanceFromAnchor:ge},Ge<B.length-1&&(ge+=B[Ge+1].dist(B[Ge]));for(var tt=E.segment||0;tt>=0;tt--)ze[tt]={x:B[tt].x,y:B[tt].y,tileUnitDistanceFromAnchor:Ee},tt>0&&(Ee+=B[tt-1].dist(B[tt]));for(var ht=0;ht<B.length;ht++){var Tt=ze[ht];this.lineVertexArray.emplaceBack(Tt.x,Tt.y,Tt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:ee,lineLength:this.lineVertexArray.length-ee}},Ni.prototype.addSymbols=function(E,B,ee,ge,Ee,ze,Ge,tt,ht,Tt,Mt,Bt){for(var Gt=E.indexArray,Vt=E.layoutVertexArray,ln=E.segments.prepareSegment(4*B.length,Vt,Gt,this.canOverlap?ze.sortKey:void 0),cn=this.glyphOffsetArray.length,Mn=ln.vertexLength,Tn=this.allowVerticalPlacement&&Ge===Ks.vertical?Math.PI/2:0,Nn=ze.text&&ze.text.sections,jn=0;jn<B.length;jn++){var Zn=B[jn],Jn=Zn.tl,lr=Zn.tr,_r=Zn.bl,yr=Zn.br,Sr=Zn.tex,Pr=Zn.pixelOffsetTL,Qr=Zn.pixelOffsetBR,Br=Zn.minFontScaleX,Jr=Zn.minFontScaleY,Hr=Zn.glyphOffset,Fr=Zn.isSDF,yi=Zn.sectionIndex,ai=ln.vertexLength,$i=Hr[1];jd(Vt,tt.x,tt.y,Jn.x,$i+Jn.y,Sr.x,Sr.y,ee,Fr,Pr.x,Pr.y,Br,Jr),jd(Vt,tt.x,tt.y,lr.x,$i+lr.y,Sr.x+Sr.w,Sr.y,ee,Fr,Qr.x,Pr.y,Br,Jr),jd(Vt,tt.x,tt.y,_r.x,$i+_r.y,Sr.x,Sr.y+Sr.h,ee,Fr,Pr.x,Qr.y,Br,Jr),jd(Vt,tt.x,tt.y,yr.x,$i+yr.y,Sr.x+Sr.w,Sr.y+Sr.h,ee,Fr,Qr.x,Qr.y,Br,Jr),Wg(E.dynamicLayoutVertexArray,tt,Tn),Gt.emplaceBack(ai,ai+1,ai+2),Gt.emplaceBack(ai+1,ai+2,ai+3),ln.vertexLength+=4,ln.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Hr[0]),jn!==B.length-1&&yi===B[jn+1].sectionIndex||E.programConfigurations.populatePaintArrays(Vt.length,ze,ze.index,{},Bt,Nn&&Nn[yi])}E.placedSymbolArray.emplaceBack(tt.x,tt.y,cn,this.glyphOffsetArray.length-cn,Mn,ht,Tt,tt.segment,ee?ee[0]:0,ee?ee[1]:0,ge[0],ge[1],Ge,0,!1,0,Mt)},Ni.prototype._addCollisionDebugVertex=function(E,B,ee,ge,Ee,ze){return B.emplaceBack(0,0),E.emplaceBack(ee.x,ee.y,ge,Ee,Math.round(ze.x),Math.round(ze.y))},Ni.prototype.addCollisionDebugVertices=function(E,B,ee,ge,Ee,ze,Ge){var tt=Ee.segments.prepareSegment(4,Ee.layoutVertexArray,Ee.indexArray),ht=tt.vertexLength,Tt=Ee.layoutVertexArray,Mt=Ee.collisionVertexArray,Bt=Ge.anchorX,Gt=Ge.anchorY;this._addCollisionDebugVertex(Tt,Mt,ze,Bt,Gt,new n(E,B)),this._addCollisionDebugVertex(Tt,Mt,ze,Bt,Gt,new n(ee,B)),this._addCollisionDebugVertex(Tt,Mt,ze,Bt,Gt,new n(ee,ge)),this._addCollisionDebugVertex(Tt,Mt,ze,Bt,Gt,new n(E,ge)),tt.vertexLength+=4;var Vt=Ee.indexArray;Vt.emplaceBack(ht,ht+1),Vt.emplaceBack(ht+1,ht+2),Vt.emplaceBack(ht+2,ht+3),Vt.emplaceBack(ht+3,ht),tt.primitiveLength+=4},Ni.prototype.addDebugCollisionBoxes=function(E,B,ee,ge){for(var Ee=E;Ee<B;Ee++){var ze=this.collisionBoxArray.get(Ee),Ge=ze.x1,tt=ze.y1,ht=ze.x2,Tt=ze.y2;this.addCollisionDebugVertices(Ge,tt,ht,Tt,ge?this.textCollisionBox:this.iconCollisionBox,ze.anchorPoint,ee)}},Ni.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new ep(ne,C1.members,pt),this.iconCollisionBox=new ep(ne,C1.members,pt);for(var E=0;E<this.symbolInstances.length;E++){var B=this.symbolInstances.get(E);this.addDebugCollisionBoxes(B.textBoxStartIndex,B.textBoxEndIndex,B,!0),this.addDebugCollisionBoxes(B.verticalTextBoxStartIndex,B.verticalTextBoxEndIndex,B,!0),this.addDebugCollisionBoxes(B.iconBoxStartIndex,B.iconBoxEndIndex,B,!1),this.addDebugCollisionBoxes(B.verticalIconBoxStartIndex,B.verticalIconBoxEndIndex,B,!1)}},Ni.prototype._deserializeCollisionBoxesForSymbol=function(E,B,ee,ge,Ee,ze,Ge,tt,ht){for(var Tt={},Mt=B;Mt<ee;Mt++){var Bt=E.get(Mt);Tt.textBox={x1:Bt.x1,y1:Bt.y1,x2:Bt.x2,y2:Bt.y2,anchorPointX:Bt.anchorPointX,anchorPointY:Bt.anchorPointY},Tt.textFeatureIndex=Bt.featureIndex;break}for(var Gt=ge;Gt<Ee;Gt++){var Vt=E.get(Gt);Tt.verticalTextBox={x1:Vt.x1,y1:Vt.y1,x2:Vt.x2,y2:Vt.y2,anchorPointX:Vt.anchorPointX,anchorPointY:Vt.anchorPointY},Tt.verticalTextFeatureIndex=Vt.featureIndex;break}for(var ln=ze;ln<Ge;ln++){var cn=E.get(ln);Tt.iconBox={x1:cn.x1,y1:cn.y1,x2:cn.x2,y2:cn.y2,anchorPointX:cn.anchorPointX,anchorPointY:cn.anchorPointY},Tt.iconFeatureIndex=cn.featureIndex;break}for(var Mn=tt;Mn<ht;Mn++){var Tn=E.get(Mn);Tt.verticalIconBox={x1:Tn.x1,y1:Tn.y1,x2:Tn.x2,y2:Tn.y2,anchorPointX:Tn.anchorPointX,anchorPointY:Tn.anchorPointY},Tt.verticalIconFeatureIndex=Tn.featureIndex;break}return Tt},Ni.prototype.deserializeCollisionBoxes=function(E){this.collisionArrays=[];for(var B=0;B<this.symbolInstances.length;B++){var ee=this.symbolInstances.get(B);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(E,ee.textBoxStartIndex,ee.textBoxEndIndex,ee.verticalTextBoxStartIndex,ee.verticalTextBoxEndIndex,ee.iconBoxStartIndex,ee.iconBoxEndIndex,ee.verticalIconBoxStartIndex,ee.verticalIconBoxEndIndex))}},Ni.prototype.hasTextData=function(){return this.text.segments.get().length>0},Ni.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Ni.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},Ni.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},Ni.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},Ni.prototype.addIndicesForPlacedSymbol=function(E,B){for(var ee=E.placedSymbolArray.get(B),ge=ee.vertexStartIndex+4*ee.numGlyphs,Ee=ee.vertexStartIndex;Ee<ge;Ee+=4)E.indexArray.emplaceBack(Ee,Ee+1,Ee+2),E.indexArray.emplaceBack(Ee+1,Ee+2,Ee+3)},Ni.prototype.getSortedSymbolIndexes=function(E){if(this.sortedAngle===E&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var B=Math.sin(E),ee=Math.cos(E),ge=[],Ee=[],ze=[],Ge=0;Ge<this.symbolInstances.length;++Ge){ze.push(Ge);var tt=this.symbolInstances.get(Ge);ge.push(0|Math.round(B*tt.anchorX+ee*tt.anchorY)),Ee.push(tt.featureIndex)}return ze.sort(function(ht,Tt){return ge[ht]-ge[Tt]||Ee[Tt]-Ee[ht]}),ze},Ni.prototype.addToSortKeyRanges=function(E,B){var ee=this.sortKeyRanges[this.sortKeyRanges.length-1];ee&&ee.sortKey===B?ee.symbolInstanceEnd=E+1:this.sortKeyRanges.push({sortKey:B,symbolInstanceStart:E,symbolInstanceEnd:E+1})},Ni.prototype.sortFeatures=function(E){var B=this;if(this.sortFeaturesByY&&this.sortedAngle!==E&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(E),this.sortedAngle=E,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var ee=0,ge=this.symbolInstanceIndexes;ee<ge.length;ee+=1){var Ee=ge[ee],ze=this.symbolInstances.get(Ee);this.featureSortOrder.push(ze.featureIndex),[ze.rightJustifiedTextSymbolIndex,ze.centerJustifiedTextSymbolIndex,ze.leftJustifiedTextSymbolIndex].forEach(function(Ge,tt,ht){Ge>=0&&ht.indexOf(Ge)===tt&&B.addIndicesForPlacedSymbol(B.text,Ge)}),ze.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,ze.verticalPlacedTextSymbolIndex),ze.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,ze.placedIconSymbolIndex),ze.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,ze.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Or("SymbolBucket",Ni,{omit:["layers","collisionBoxArray","features","compareText"]}),Ni.MAX_GLYPHS=65535,Ni.addDynamicAttributes=Wg;var P6=new ua({"symbol-placement":new Dr(Xe.layout_symbol["symbol-placement"]),"symbol-spacing":new Dr(Xe.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Dr(Xe.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new qr(Xe.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Dr(Xe.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Dr(Xe.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Dr(Xe.layout_symbol["icon-ignore-placement"]),"icon-optional":new Dr(Xe.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Dr(Xe.layout_symbol["icon-rotation-alignment"]),"icon-size":new qr(Xe.layout_symbol["icon-size"]),"icon-text-fit":new Dr(Xe.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Dr(Xe.layout_symbol["icon-text-fit-padding"]),"icon-image":new qr(Xe.layout_symbol["icon-image"]),"icon-rotate":new qr(Xe.layout_symbol["icon-rotate"]),"icon-padding":new Dr(Xe.layout_symbol["icon-padding"]),"icon-keep-upright":new Dr(Xe.layout_symbol["icon-keep-upright"]),"icon-offset":new qr(Xe.layout_symbol["icon-offset"]),"icon-anchor":new qr(Xe.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Dr(Xe.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Dr(Xe.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Dr(Xe.layout_symbol["text-rotation-alignment"]),"text-field":new qr(Xe.layout_symbol["text-field"]),"text-font":new qr(Xe.layout_symbol["text-font"]),"text-size":new qr(Xe.layout_symbol["text-size"]),"text-max-width":new qr(Xe.layout_symbol["text-max-width"]),"text-line-height":new Dr(Xe.layout_symbol["text-line-height"]),"text-letter-spacing":new qr(Xe.layout_symbol["text-letter-spacing"]),"text-justify":new qr(Xe.layout_symbol["text-justify"]),"text-radial-offset":new qr(Xe.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Dr(Xe.layout_symbol["text-variable-anchor"]),"text-anchor":new qr(Xe.layout_symbol["text-anchor"]),"text-max-angle":new Dr(Xe.layout_symbol["text-max-angle"]),"text-writing-mode":new Dr(Xe.layout_symbol["text-writing-mode"]),"text-rotate":new qr(Xe.layout_symbol["text-rotate"]),"text-padding":new Dr(Xe.layout_symbol["text-padding"]),"text-keep-upright":new Dr(Xe.layout_symbol["text-keep-upright"]),"text-transform":new qr(Xe.layout_symbol["text-transform"]),"text-offset":new qr(Xe.layout_symbol["text-offset"]),"text-allow-overlap":new Dr(Xe.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Dr(Xe.layout_symbol["text-ignore-placement"]),"text-optional":new Dr(Xe.layout_symbol["text-optional"])}),Yg={paint:new ua({"icon-opacity":new qr(Xe.paint_symbol["icon-opacity"]),"icon-color":new qr(Xe.paint_symbol["icon-color"]),"icon-halo-color":new qr(Xe.paint_symbol["icon-halo-color"]),"icon-halo-width":new qr(Xe.paint_symbol["icon-halo-width"]),"icon-halo-blur":new qr(Xe.paint_symbol["icon-halo-blur"]),"icon-translate":new Dr(Xe.paint_symbol["icon-translate"]),"icon-translate-anchor":new Dr(Xe.paint_symbol["icon-translate-anchor"]),"text-opacity":new qr(Xe.paint_symbol["text-opacity"]),"text-color":new qr(Xe.paint_symbol["text-color"],{runtimeType:un,getOverride:function(E){return E.textColor},hasOverride:function(E){return!!E.textColor}}),"text-halo-color":new qr(Xe.paint_symbol["text-halo-color"]),"text-halo-width":new qr(Xe.paint_symbol["text-halo-width"]),"text-halo-blur":new qr(Xe.paint_symbol["text-halo-blur"]),"text-translate":new Dr(Xe.paint_symbol["text-translate"]),"text-translate-anchor":new Dr(Xe.paint_symbol["text-translate-anchor"])}),layout:P6},rh=function(E){this.type=E.property.overrides?E.property.overrides.runtimeType:Rt,this.defaultValue=E};rh.prototype.evaluate=function(E){if(E.formattedSection){var B=this.defaultValue.property.overrides;if(B&&B.hasOverride(E.formattedSection))return B.getOverride(E.formattedSection)}return E.feature&&E.featureState?this.defaultValue.evaluate(E.feature,E.featureState):this.defaultValue.property.specification.default},rh.prototype.eachChild=function(E){this.defaultValue.isConstant()||E(this.defaultValue.value._styleExpression.expression)},rh.prototype.outputDefined=function(){return!1},rh.prototype.serialize=function(){return null},Or("FormatSectionOverride",rh,{omit:["defaultValue"]});var O6=function(E){function B(ee){E.call(this,ee,Yg)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype.recalculate=function(ee,ge){if(E.prototype.recalculate.call(this,ee,ge),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var Ee=this.layout.get("text-writing-mode");if(Ee){for(var ze=[],Ge=0,tt=Ee;Ge<tt.length;Ge+=1){var ht=tt[Ge];ze.indexOf(ht)<0&&ze.push(ht)}this.layout._values["text-writing-mode"]=ze}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},B.prototype.getValueAndResolveTokens=function(ee,ge,Ee,ze){var Ge=this.layout.get(ee).evaluate(ge,{},Ee,ze),tt=this._unevaluatedLayout._values[ee];return tt.isDataDriven()||cl(tt.value)||!Ge?Ge:function(ht,Tt){return Tt.replace(/{([^{}]+)}/g,function(Mt,Bt){return Bt in ht?String(ht[Bt]):""})}(ge.properties,Ge)},B.prototype.createBucket=function(ee){return new Ni(ee)},B.prototype.queryRadius=function(){return 0},B.prototype.queryIntersectsFeature=function(){return!1},B.prototype._setPaintOverrides=function(){for(var ee=0,ge=Yg.paint.overridableProperties;ee<ge.length;ee+=1){var Ee=ge[ee];if(B.hasPaintOverride(this.layout,Ee)){var ze,Ge=this.paint.get(Ee),tt=new rh(Ge),ht=new js(tt,Ge.property.specification);ze=Ge.value.kind==="constant"||Ge.value.kind==="source"?new No("source",ht):new Cl("composite",ht,Ge.value.zoomStops,Ge.value._interpolationType),this.paint._values[Ee]=new Fi(Ge.property,ze,Ge.parameters)}}},B.prototype._handleOverridablePaintPropertyUpdate=function(ee,ge,Ee){return!(!this.layout||ge.isDataDriven()||Ee.isDataDriven())&&B.hasPaintOverride(this.layout,ee)},B.hasPaintOverride=function(ee,ge){var Ee=ee.get("text-field"),ze=Yg.paint.properties[ge],Ge=!1,tt=function(Mt){for(var Bt=0,Gt=Mt;Bt<Gt.length;Bt+=1){var Vt=Gt[Bt];if(ze.overrides&&ze.overrides.hasOverride(Vt))return void(Ge=!0)}};if(Ee.value.kind==="constant"&&Ee.value.value instanceof Bn)tt(Ee.value.value.sections);else if(Ee.value.kind==="source"){var ht=function(Mt){if(!Ge)if(Mt instanceof nn&&Kn(Mt.value)===Rn){var Bt=Mt.value;tt(Bt.sections)}else Mt instanceof Dn?tt(Mt.sections):Mt.eachChild(ht)},Tt=Ee.value;Tt._styleExpression&&ht(Tt._styleExpression.expression)}return Ge},B}(Si),I6={paint:new ua({"background-color":new Dr(Xe.paint_background["background-color"]),"background-pattern":new us(Xe.paint_background["background-pattern"]),"background-opacity":new Dr(Xe.paint_background["background-opacity"])})},R6=function(E){function B(ee){E.call(this,ee,I6)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B}(Si),D6={paint:new ua({"raster-opacity":new Dr(Xe.paint_raster["raster-opacity"]),"raster-hue-rotate":new Dr(Xe.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Dr(Xe.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Dr(Xe.paint_raster["raster-brightness-max"]),"raster-saturation":new Dr(Xe.paint_raster["raster-saturation"]),"raster-contrast":new Dr(Xe.paint_raster["raster-contrast"]),"raster-resampling":new Dr(Xe.paint_raster["raster-resampling"]),"raster-fade-duration":new Dr(Xe.paint_raster["raster-fade-duration"])})},z6=function(E){function B(ee){E.call(this,ee,D6)}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B}(Si),F6=function(E){function B(ee){E.call(this,ee,{}),this.implementation=ee}return E&&(B.__proto__=E),B.prototype=Object.create(E&&E.prototype),B.prototype.constructor=B,B.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},B.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},B.prototype.recalculate=function(){},B.prototype.updateTransitions=function(){},B.prototype.hasTransition=function(){},B.prototype.serialize=function(){},B.prototype.onAdd=function(ee){this.implementation.onAdd&&this.implementation.onAdd(ee,ee.painter.context.gl)},B.prototype.onRemove=function(ee){this.implementation.onRemove&&this.implementation.onRemove(ee,ee.painter.context.gl)},B}(Si),B6={circle:y5,heatmap:b5,hillshade:w5,fill:N5,"fill-extrusion":$5,line:t6,symbol:O6,background:R6,raster:z6},rx=a.HTMLImageElement,ix=a.HTMLCanvasElement,ax=a.HTMLVideoElement,ox=a.ImageData,Ud=a.ImageBitmap,pf=function(E,B,ee,ge){this.context=E,this.format=ee,this.texture=E.gl.createTexture(),this.update(B,ge)};pf.prototype.update=function(E,B,ee){var ge=E.width,Ee=E.height,ze=!(this.size&&this.size[0]===ge&&this.size[1]===Ee||ee),Ge=this.context,tt=Ge.gl;if(this.useMipmap=!!(B&&B.useMipmap),tt.bindTexture(tt.TEXTURE_2D,this.texture),Ge.pixelStoreUnpackFlipY.set(!1),Ge.pixelStoreUnpack.set(1),Ge.pixelStoreUnpackPremultiplyAlpha.set(this.format===tt.RGBA&&(!B||B.premultiply!==!1)),ze)this.size=[ge,Ee],E instanceof rx||E instanceof ix||E instanceof ax||E instanceof ox||Ud&&E instanceof Ud?tt.texImage2D(tt.TEXTURE_2D,0,this.format,this.format,tt.UNSIGNED_BYTE,E):tt.texImage2D(tt.TEXTURE_2D,0,this.format,ge,Ee,0,this.format,tt.UNSIGNED_BYTE,E.data);else{var ht=ee||{x:0,y:0},Tt=ht.x,Mt=ht.y;E instanceof rx||E instanceof ix||E instanceof ax||E instanceof ox||Ud&&E instanceof Ud?tt.texSubImage2D(tt.TEXTURE_2D,0,Tt,Mt,tt.RGBA,tt.UNSIGNED_BYTE,E):tt.texSubImage2D(tt.TEXTURE_2D,0,Tt,Mt,ge,Ee,tt.RGBA,tt.UNSIGNED_BYTE,E.data)}this.useMipmap&&this.isSizePowerOfTwo()&&tt.generateMipmap(tt.TEXTURE_2D)},pf.prototype.bind=function(E,B,ee){var ge=this.context.gl;ge.bindTexture(ge.TEXTURE_2D,this.texture),ee!==ge.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(ee=ge.LINEAR),E!==this.filter&&(ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_MAG_FILTER,E),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_MIN_FILTER,ee||E),this.filter=E),B!==this.wrap&&(ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_WRAP_S,B),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_WRAP_T,B),this.wrap=B)},pf.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},pf.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var $g=function(E){var B=this;this._callback=E,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){B._triggered=!1,B._callback()})};$g.prototype.trigger=function(){var E=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){E._triggered=!1,E._callback()},0))},$g.prototype.remove=function(){delete this._channel,this._callback=function(){}};var ih=function(E,B,ee){this.target=E,this.parent=B,this.mapId=ee,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},w(["receive","process"],this),this.invoker=new $g(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=D()?E:a};function sx(E,B,ee){var ge=2*Math.PI*6378137/256/Math.pow(2,ee);return[E*ge-2*Math.PI*6378137/2,B*ge-2*Math.PI*6378137/2]}ih.prototype.send=function(E,B,ee,ge,Ee){var ze=this;Ee===void 0&&(Ee=!1);var Ge=Math.round(1e18*Math.random()).toString(36).substring(0,10);ee&&(this.callbacks[Ge]=ee);var tt=z(this.globalScope)?void 0:[];return this.target.postMessage({id:Ge,type:E,hasCallback:!!ee,targetMapId:ge,mustQueue:Ee,sourceMapId:this.mapId,data:Ws(B,tt)},tt),{cancel:function(){ee&&delete ze.callbacks[Ge],ze.target.postMessage({id:Ge,type:"<cancel>",targetMapId:ge,sourceMapId:ze.mapId})}}},ih.prototype.receive=function(E){var B=E.data,ee=B.id;if(ee&&(!B.targetMapId||this.mapId===B.targetMapId))if(B.type==="<cancel>"){delete this.tasks[ee];var ge=this.cancelCallbacks[ee];delete this.cancelCallbacks[ee],ge&&ge()}else D()||B.mustQueue?(this.tasks[ee]=B,this.taskQueue.push(ee),this.invoker.trigger()):this.processTask(ee,B)},ih.prototype.process=function(){if(this.taskQueue.length){var E=this.taskQueue.shift(),B=this.tasks[E];delete this.tasks[E],this.taskQueue.length&&this.invoker.trigger(),B&&this.processTask(E,B)}},ih.prototype.processTask=function(E,B){var ee=this;if(B.type==="<response>"){var ge=this.callbacks[E];delete this.callbacks[E],ge&&(B.error?ge(ml(B.error)):ge(null,ml(B.data)))}else{var Ee=!1,ze=z(this.globalScope)?void 0:[],Ge=B.hasCallback?function(Mt,Bt){Ee=!0,delete ee.cancelCallbacks[E],ee.target.postMessage({id:E,type:"<response>",sourceMapId:ee.mapId,error:Mt?Ws(Mt):null,data:Ws(Bt,ze)},ze)}:function(Mt){Ee=!0},tt=null,ht=ml(B.data);if(this.parent[B.type])tt=this.parent[B.type](B.sourceMapId,ht,Ge);else if(this.parent.getWorkerSource){var Tt=B.type.split(".");tt=this.parent.getWorkerSource(B.sourceMapId,Tt[0],ht.source)[Tt[1]](ht,Ge)}else Ge(new Error("Could not find function "+B.type));!Ee&&tt&&tt.cancel&&(this.cancelCallbacks[E]=tt.cancel)}},ih.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var ja=function(E,B){E&&(B?this.setSouthWest(E).setNorthEast(B):E.length===4?this.setSouthWest([E[0],E[1]]).setNorthEast([E[2],E[3]]):this.setSouthWest(E[0]).setNorthEast(E[1]))};ja.prototype.setNorthEast=function(E){return this._ne=E instanceof ca?new ca(E.lng,E.lat):ca.convert(E),this},ja.prototype.setSouthWest=function(E){return this._sw=E instanceof ca?new ca(E.lng,E.lat):ca.convert(E),this},ja.prototype.extend=function(E){var B,ee,ge=this._sw,Ee=this._ne;if(E instanceof ca)B=E,ee=E;else{if(!(E instanceof ja)){if(Array.isArray(E)){if(E.length===4||E.every(Array.isArray)){var ze=E;return this.extend(ja.convert(ze))}var Ge=E;return this.extend(ca.convert(Ge))}return this}if(B=E._sw,ee=E._ne,!B||!ee)return this}return ge||Ee?(ge.lng=Math.min(B.lng,ge.lng),ge.lat=Math.min(B.lat,ge.lat),Ee.lng=Math.max(ee.lng,Ee.lng),Ee.lat=Math.max(ee.lat,Ee.lat)):(this._sw=new ca(B.lng,B.lat),this._ne=new ca(ee.lng,ee.lat)),this},ja.prototype.getCenter=function(){return new ca((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},ja.prototype.getSouthWest=function(){return this._sw},ja.prototype.getNorthEast=function(){return this._ne},ja.prototype.getNorthWest=function(){return new ca(this.getWest(),this.getNorth())},ja.prototype.getSouthEast=function(){return new ca(this.getEast(),this.getSouth())},ja.prototype.getWest=function(){return this._sw.lng},ja.prototype.getSouth=function(){return this._sw.lat},ja.prototype.getEast=function(){return this._ne.lng},ja.prototype.getNorth=function(){return this._ne.lat},ja.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},ja.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},ja.prototype.isEmpty=function(){return!(this._sw&&this._ne)},ja.prototype.contains=function(E){var B=ca.convert(E),ee=B.lng,ge=B.lat,Ee=this._sw.lat<=ge&&ge<=this._ne.lat,ze=this._sw.lng<=ee&&ee<=this._ne.lng;return this._sw.lng>this._ne.lng&&(ze=this._sw.lng>=ee&&ee>=this._ne.lng),Ee&&ze},ja.convert=function(E){return!E||E instanceof ja?E:new ja(E)};var lx=63710088e-1,ca=function(E,B){if(isNaN(E)||isNaN(B))throw new Error("Invalid LngLat object: ("+E+", "+B+")");if(this.lng=+E,this.lat=+B,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};ca.prototype.wrap=function(){return new ca(h(this.lng,-180,180),this.lat)},ca.prototype.toArray=function(){return[this.lng,this.lat]},ca.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},ca.prototype.distanceTo=function(E){var B=Math.PI/180,ee=this.lat*B,ge=E.lat*B,Ee=Math.sin(ee)*Math.sin(ge)+Math.cos(ee)*Math.cos(ge)*Math.cos((E.lng-this.lng)*B);return lx*Math.acos(Math.min(Ee,1))},ca.prototype.toBounds=function(E){E===void 0&&(E=0);var B=360*E/40075017,ee=B/Math.cos(Math.PI/180*this.lat);return new ja(new ca(this.lng-ee,this.lat-B),new ca(this.lng+ee,this.lat+B))},ca.convert=function(E){if(E instanceof ca)return E;if(Array.isArray(E)&&(E.length===2||E.length===3))return new ca(Number(E[0]),Number(E[1]));if(!Array.isArray(E)&&typeof E=="object"&&E!==null)return new ca(Number("lng"in E?E.lng:E.lon),Number(E.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var ux=2*Math.PI*lx;function cx(E){return ux*Math.cos(E*Math.PI/180)}function fx(E){return(180+E)/360}function hx(E){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+E*Math.PI/360)))/360}function px(E,B){return E/cx(B)}function Zg(E){var B=180-360*E;return 360/Math.PI*Math.atan(Math.exp(B*Math.PI/180))-90}var df=function(E,B,ee){ee===void 0&&(ee=0),this.x=+E,this.y=+B,this.z=+ee};df.fromLngLat=function(E,B){B===void 0&&(B=0);var ee=ca.convert(E);return new df(fx(ee.lng),hx(ee.lat),px(B,ee.lat))},df.prototype.toLngLat=function(){return new ca(360*this.x-180,Zg(this.y))},df.prototype.toAltitude=function(){return E=this.z,B=this.y,E*cx(Zg(B));var E,B},df.prototype.meterInMercatorCoordinateUnits=function(){return 1/ux*(E=Zg(this.y),1/Math.cos(E*Math.PI/180));var E};var gf=function(E,B,ee){this.z=E,this.x=B,this.y=ee,this.key=tp(0,E,E,B,ee)};gf.prototype.equals=function(E){return this.z===E.z&&this.x===E.x&&this.y===E.y},gf.prototype.url=function(E,B){var ee,ge,Ee,ze,Ge,tt=(ee=this.x,ge=this.y,Ee=this.z,ze=sx(256*ee,256*(ge=Math.pow(2,Ee)-ge-1),Ee),Ge=sx(256*(ee+1),256*(ge+1),Ee),ze[0]+","+ze[1]+","+Ge[0]+","+Ge[1]),ht=function(Tt,Mt,Bt){for(var Gt,Vt="",ln=Tt;ln>0;ln--)Vt+=(Mt&(Gt=1<<ln-1)?1:0)+(Bt&Gt?2:0);return Vt}(this.z,this.x,this.y);return E[(this.x+this.y)%E.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(B==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",ht).replace("{bbox-epsg-3857}",tt)},gf.prototype.getTilePoint=function(E){var B=Math.pow(2,this.z);return new n((E.x*B-this.x)*_i,(E.y*B-this.y)*_i)},gf.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var dx=function(E,B){this.wrap=E,this.canonical=B,this.key=tp(E,B.z,B.z,B.x,B.y)},Ua=function(E,B,ee,ge,Ee){this.overscaledZ=E,this.wrap=B,this.canonical=new gf(ee,+ge,+Ee),this.key=tp(B,E,ee,ge,Ee)};function tp(E,B,ee,ge,Ee){(E*=2)<0&&(E=-1*E-1);var ze=1<<ee;return(ze*ze*E+ze*Ee+ge).toString(36)+ee.toString(36)+B.toString(36)}Ua.prototype.equals=function(E){return this.overscaledZ===E.overscaledZ&&this.wrap===E.wrap&&this.canonical.equals(E.canonical)},Ua.prototype.scaledTo=function(E){var B=this.canonical.z-E;return E>this.canonical.z?new Ua(E,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ua(E,this.wrap,E,this.canonical.x>>B,this.canonical.y>>B)},Ua.prototype.calculateScaledKey=function(E,B){var ee=this.canonical.z-E;return E>this.canonical.z?tp(this.wrap*+B,E,this.canonical.z,this.canonical.x,this.canonical.y):tp(this.wrap*+B,E,E,this.canonical.x>>ee,this.canonical.y>>ee)},Ua.prototype.isChildOf=function(E){if(E.wrap!==this.wrap)return!1;var B=this.canonical.z-E.canonical.z;return E.overscaledZ===0||E.overscaledZ<this.overscaledZ&&E.canonical.x===this.canonical.x>>B&&E.canonical.y===this.canonical.y>>B},Ua.prototype.children=function(E){if(this.overscaledZ>=E)return[new Ua(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var B=this.canonical.z+1,ee=2*this.canonical.x,ge=2*this.canonical.y;return[new Ua(B,this.wrap,B,ee,ge),new Ua(B,this.wrap,B,ee+1,ge),new Ua(B,this.wrap,B,ee,ge+1),new Ua(B,this.wrap,B,ee+1,ge+1)]},Ua.prototype.isLessThan=function(E){return this.wrap<E.wrap||!(this.wrap>E.wrap)&&(this.overscaledZ<E.overscaledZ||!(this.overscaledZ>E.overscaledZ)&&(this.canonical.x<E.canonical.x||!(this.canonical.x>E.canonical.x)&&this.canonical.y<E.canonical.y))},Ua.prototype.wrapped=function(){return new Ua(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Ua.prototype.unwrapTo=function(E){return new Ua(this.overscaledZ,E,this.canonical.z,this.canonical.x,this.canonical.y)},Ua.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Ua.prototype.toUnwrapped=function(){return new dx(this.wrap,this.canonical)},Ua.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Ua.prototype.getTilePoint=function(E){return this.canonical.getTilePoint(new df(E.x-this.wrap,E.y))},Or("CanonicalTileID",gf),Or("OverscaledTileID",Ua,{omit:["posMatrix"]});var Ju=function(E,B,ee){if(this.uid=E,B.height!==B.width)throw new RangeError("DEM tiles must be square");if(ee&&ee!=="mapbox"&&ee!=="terrarium")return C('"'+ee+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=B.height;var ge=this.dim=B.height-2;this.data=new Uint32Array(B.data.buffer),this.encoding=ee||"mapbox";for(var Ee=0;Ee<ge;Ee++)this.data[this._idx(-1,Ee)]=this.data[this._idx(0,Ee)],this.data[this._idx(ge,Ee)]=this.data[this._idx(ge-1,Ee)],this.data[this._idx(Ee,-1)]=this.data[this._idx(Ee,0)],this.data[this._idx(Ee,ge)]=this.data[this._idx(Ee,ge-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(ge,-1)]=this.data[this._idx(ge-1,0)],this.data[this._idx(-1,ge)]=this.data[this._idx(0,ge-1)],this.data[this._idx(ge,ge)]=this.data[this._idx(ge-1,ge-1)]};Ju.prototype.get=function(E,B){var ee=new Uint8Array(this.data.buffer),ge=4*this._idx(E,B);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(ee[ge],ee[ge+1],ee[ge+2])},Ju.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Ju.prototype._idx=function(E,B){if(E<-1||E>=this.dim+1||B<-1||B>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(B+1)*this.stride+(E+1)},Ju.prototype._unpackMapbox=function(E,B,ee){return(256*E*256+256*B+ee)/10-1e4},Ju.prototype._unpackTerrarium=function(E,B,ee){return 256*E+B+ee/256-32768},Ju.prototype.getPixels=function(){return new fs({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Ju.prototype.backfillBorder=function(E,B,ee){if(this.dim!==E.dim)throw new Error("dem dimension mismatch");var ge=B*this.dim,Ee=B*this.dim+this.dim,ze=ee*this.dim,Ge=ee*this.dim+this.dim;switch(B){case-1:ge=Ee-1;break;case 1:Ee=ge+1}switch(ee){case-1:ze=Ge-1;break;case 1:Ge=ze+1}for(var tt=-B*this.dim,ht=-ee*this.dim,Tt=ze;Tt<Ge;Tt++)for(var Mt=ge;Mt<Ee;Mt++)this.data[this._idx(Mt,Tt)]=E.data[this._idx(Mt+tt,Tt+ht)]},Or("DEMData",Ju);var Vd=function(E){this._stringToNumber={},this._numberToString=[];for(var B=0;B<E.length;B++){var ee=E[B];this._stringToNumber[ee]=B,this._numberToString[B]=ee}};Vd.prototype.encode=function(E){return this._stringToNumber[E]},Vd.prototype.decode=function(E){return this._numberToString[E]};var Hd=function(E,B,ee,ge,Ee){this.type="Feature",this._vectorTileFeature=E,E._z=B,E._x=ee,E._y=ge,this.properties=E.properties,this.id=Ee},Xg={geometry:{configurable:!0}};Xg.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Xg.geometry.set=function(E){this._geometry=E},Hd.prototype.toJSON=function(){var E={geometry:this.geometry};for(var B in this)B!=="_geometry"&&B!=="_vectorTileFeature"&&(E[B]=this[B]);return E},Object.defineProperties(Hd.prototype,Xg);var ah=function(){this.state={},this.stateChanges={},this.deletedStates={}};ah.prototype.updateState=function(E,B,ee){var ge=String(B);if(this.stateChanges[E]=this.stateChanges[E]||{},this.stateChanges[E][ge]=this.stateChanges[E][ge]||{},f(this.stateChanges[E][ge],ee),this.deletedStates[E]===null)for(var Ee in this.deletedStates[E]={},this.state[E])Ee!==ge&&(this.deletedStates[E][Ee]=null);else if(this.deletedStates[E]&&this.deletedStates[E][ge]===null)for(var ze in this.deletedStates[E][ge]={},this.state[E][ge])ee[ze]||(this.deletedStates[E][ge][ze]=null);else for(var Ge in ee)this.deletedStates[E]&&this.deletedStates[E][ge]&&this.deletedStates[E][ge][Ge]===null&&delete this.deletedStates[E][ge][Ge]},ah.prototype.removeFeatureState=function(E,B,ee){if(this.deletedStates[E]!==null){var ge=String(B);if(this.deletedStates[E]=this.deletedStates[E]||{},ee&&B!==void 0)this.deletedStates[E][ge]!==null&&(this.deletedStates[E][ge]=this.deletedStates[E][ge]||{},this.deletedStates[E][ge][ee]=null);else if(B!==void 0)if(this.stateChanges[E]&&this.stateChanges[E][ge])for(ee in this.deletedStates[E][ge]={},this.stateChanges[E][ge])this.deletedStates[E][ge][ee]=null;else this.deletedStates[E][ge]=null;else this.deletedStates[E]=null}},ah.prototype.getState=function(E,B){var ee=String(B),ge=this.state[E]||{},Ee=this.stateChanges[E]||{},ze=f({},ge[ee],Ee[ee]);if(this.deletedStates[E]===null)return{};if(this.deletedStates[E]){var Ge=this.deletedStates[E][B];if(Ge===null)return{};for(var tt in Ge)delete ze[tt]}return ze},ah.prototype.initializeTileState=function(E,B){E.setFeatureState(this.state,B)},ah.prototype.coalesceChanges=function(E,B){var ee={};for(var ge in this.stateChanges){this.state[ge]=this.state[ge]||{};var Ee={};for(var ze in this.stateChanges[ge])this.state[ge][ze]||(this.state[ge][ze]={}),f(this.state[ge][ze],this.stateChanges[ge][ze]),Ee[ze]=this.state[ge][ze];ee[ge]=Ee}for(var Ge in this.deletedStates){this.state[Ge]=this.state[Ge]||{};var tt={};if(this.deletedStates[Ge]===null)for(var ht in this.state[Ge])tt[ht]={},this.state[Ge][ht]={};else for(var Tt in this.deletedStates[Ge]){if(this.deletedStates[Ge][Tt]===null)this.state[Ge][Tt]={};else for(var Mt=0,Bt=Object.keys(this.deletedStates[Ge][Tt]);Mt<Bt.length;Mt+=1){var Gt=Bt[Mt];delete this.state[Ge][Tt][Gt]}tt[Tt]=this.state[Ge][Tt]}ee[Ge]=ee[Ge]||{},f(ee[Ge],tt)}if(this.stateChanges={},this.deletedStates={},Object.keys(ee).length!==0)for(var Vt in E)E[Vt].setFeatureState(ee,B)};var Qu=function(E,B){this.tileID=E,this.x=E.canonical.x,this.y=E.canonical.y,this.z=E.canonical.z,this.grid=new vl(_i,16,0),this.grid3D=new vl(_i,16,0),this.featureIndexArray=new Ln,this.promoteId=B};function gx(E,B,ee,ge,Ee){return A(E,function(ze,Ge){var tt=B instanceof xl?B.get(Ge):null;return tt&&tt.evaluate?tt.evaluate(ee,ge,Ee):tt})}function vx(E){for(var B=1/0,ee=1/0,ge=-1/0,Ee=-1/0,ze=0,Ge=E;ze<Ge.length;ze+=1){var tt=Ge[ze];B=Math.min(B,tt.x),ee=Math.min(ee,tt.y),ge=Math.max(ge,tt.x),Ee=Math.max(Ee,tt.y)}return{minX:B,minY:ee,maxX:ge,maxY:Ee}}function N6(E,B){return B-E}Qu.prototype.insert=function(E,B,ee,ge,Ee,ze){var Ge=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(ee,ge,Ee);for(var tt=ze?this.grid3D:this.grid,ht=0;ht<B.length;ht++){for(var Tt=B[ht],Mt=[1/0,1/0,-1/0,-1/0],Bt=0;Bt<Tt.length;Bt++){var Gt=Tt[Bt];Mt[0]=Math.min(Mt[0],Gt.x),Mt[1]=Math.min(Mt[1],Gt.y),Mt[2]=Math.max(Mt[2],Gt.x),Mt[3]=Math.max(Mt[3],Gt.y)}Mt[0]<_i&&Mt[1]<_i&&Mt[2]>=0&&Mt[3]>=0&&tt.insert(Ge,Mt[0],Mt[1],Mt[2],Mt[3])}},Qu.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Yf.VectorTile(new Pd(this.rawTileData)).layers,this.sourceLayerCoder=new Vd(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Qu.prototype.query=function(E,B,ee,ge){var Ee=this;this.loadVTLayers();for(var ze=E.params||{},Ge=_i/E.tileSize/E.scale,tt=tu(ze.filter),ht=E.queryGeometry,Tt=E.queryPadding*Ge,Mt=vx(ht),Bt=this.grid.query(Mt.minX-Tt,Mt.minY-Tt,Mt.maxX+Tt,Mt.maxY+Tt),Gt=vx(E.cameraQueryGeometry),Vt=0,ln=this.grid3D.query(Gt.minX-Tt,Gt.minY-Tt,Gt.maxX+Tt,Gt.maxY+Tt,function(Zn,Jn,lr,_r){return function(yr,Sr,Pr,Qr,Br){for(var Jr=0,Hr=yr;Jr<Hr.length;Jr+=1){var Fr=Hr[Jr];if(Sr<=Fr.x&&Pr<=Fr.y&&Qr>=Fr.x&&Br>=Fr.y)return!0}var yi=[new n(Sr,Pr),new n(Sr,Br),new n(Qr,Br),new n(Qr,Pr)];if(yr.length>2){for(var ai=0,$i=yi;ai<$i.length;ai+=1)if(Iu(yr,$i[ai]))return!0}for(var Zr=0;Zr<yr.length-1;Zr++)if(h5(yr[Zr],yr[Zr+1],yi))return!0;return!1}(E.cameraQueryGeometry,Zn-Tt,Jn-Tt,lr+Tt,_r+Tt)});Vt<ln.length;Vt+=1){var cn=ln[Vt];Bt.push(cn)}Bt.sort(N6);for(var Mn,Tn={},Nn=function(Zn){var Jn=Bt[Zn];if(Jn!==Mn){Mn=Jn;var lr=Ee.featureIndexArray.get(Jn),_r=null;Ee.loadMatchingFeature(Tn,lr.bucketIndex,lr.sourceLayerIndex,lr.featureIndex,tt,ze.layers,ze.availableImages,B,ee,ge,function(yr,Sr,Pr){return _r||(_r=As(yr)),Sr.queryIntersectsFeature(ht,yr,Pr,_r,Ee.z,E.transform,Ge,E.pixelPosMatrix)})}},jn=0;jn<Bt.length;jn++)Nn(jn);return Tn},Qu.prototype.loadMatchingFeature=function(E,B,ee,ge,Ee,ze,Ge,tt,ht,Tt,Mt){var Bt=this.bucketLayerIDs[B];if(!ze||function(yr,Sr){for(var Pr=0;Pr<yr.length;Pr++)if(Sr.indexOf(yr[Pr])>=0)return!0;return!1}(ze,Bt)){var Gt=this.sourceLayerCoder.decode(ee),Vt=this.vtLayers[Gt].feature(ge);if(Ee.needGeometry){var ln=Qi(Vt,!0);if(!Ee.filter(new pi(this.tileID.overscaledZ),ln,this.tileID.canonical))return}else if(!Ee.filter(new pi(this.tileID.overscaledZ),Vt))return;for(var cn=this.getId(Vt,Gt),Mn=0;Mn<Bt.length;Mn++){var Tn=Bt[Mn];if(!(ze&&ze.indexOf(Tn)<0)){var Nn=tt[Tn];if(Nn){var jn={};cn!==void 0&&Tt&&(jn=Tt.getState(Nn.sourceLayer||"_geojsonTileLayer",cn));var Zn=f({},ht[Tn]);Zn.paint=gx(Zn.paint,Nn.paint,Vt,jn,Ge),Zn.layout=gx(Zn.layout,Nn.layout,Vt,jn,Ge);var Jn=!Mt||Mt(Vt,Nn,jn);if(Jn){var lr=new Hd(Vt,this.z,this.x,this.y,cn);lr.layer=Zn;var _r=E[Tn];_r===void 0&&(_r=E[Tn]=[]),_r.push({featureIndex:ge,feature:lr,intersectionZ:Jn})}}}}}},Qu.prototype.lookupSymbolFeatures=function(E,B,ee,ge,Ee,ze,Ge,tt){var ht={};this.loadVTLayers();for(var Tt=tu(Ee),Mt=0,Bt=E;Mt<Bt.length;Mt+=1){var Gt=Bt[Mt];this.loadMatchingFeature(ht,ee,ge,Gt,Tt,ze,Ge,tt,B)}return ht},Qu.prototype.hasLayer=function(E){for(var B=0,ee=this.bucketLayerIDs;B<ee.length;B+=1)for(var ge=0,Ee=ee[B];ge<Ee.length;ge+=1)if(E===Ee[ge])return!0;return!1},Qu.prototype.getId=function(E,B){var ee=E.id;if(this.promoteId){var ge=typeof this.promoteId=="string"?this.promoteId:this.promoteId[B];typeof(ee=E.properties[ge])=="boolean"&&(ee=Number(ee))}return ee},Or("FeatureIndex",Qu,{omit:["rawTileData","sourceLayerCoder"]});var Qa=function(E,B){this.tileID=E,this.uid=d(),this.uses=0,this.tileSize=B,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Qa.prototype.registerFadeDuration=function(E){var B=E+this.timeAdded;B<K.now()||this.fadeEndTime&&B<this.fadeEndTime||(this.fadeEndTime=B)},Qa.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Qa.prototype.loadVectorData=function(E,B,ee){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",E){for(var ge in E.featureIndex&&(this.latestFeatureIndex=E.featureIndex,E.rawTileData?(this.latestRawTileData=E.rawTileData,this.latestFeatureIndex.rawTileData=E.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=E.collisionBoxArray,this.buckets=function(Tt,Mt){var Bt={};if(!Mt)return Bt;for(var Gt=function(){var cn=ln[Vt],Mn=cn.layerIds.map(function(Zn){return Mt.getLayer(Zn)}).filter(Boolean);if(Mn.length!==0){cn.layers=Mn,cn.stateDependentLayerIds&&(cn.stateDependentLayers=cn.stateDependentLayerIds.map(function(Zn){return Mn.filter(function(Jn){return Jn.id===Zn})[0]}));for(var Tn=0,Nn=Mn;Tn<Nn.length;Tn+=1){var jn=Nn[Tn];Bt[jn.id]=cn}}},Vt=0,ln=Tt;Vt<ln.length;Vt+=1)Gt();return Bt}(E.buckets,B.style),this.hasSymbolBuckets=!1,this.buckets){var Ee=this.buckets[ge];if(Ee instanceof Ni){if(this.hasSymbolBuckets=!0,!ee)break;Ee.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var ze in this.buckets){var Ge=this.buckets[ze];if(Ge instanceof Ni&&Ge.hasRTLText){this.hasRTLText=!0,Ja.isLoading()||Ja.isLoaded()||Dl()!=="deferred"||zl();break}}for(var tt in this.queryPadding=0,this.buckets){var ht=this.buckets[tt];this.queryPadding=Math.max(this.queryPadding,B.style.getLayer(tt).queryRadius(ht))}E.imageAtlas&&(this.imageAtlas=E.imageAtlas),E.glyphAtlasImage&&(this.glyphAtlasImage=E.glyphAtlasImage)}else this.collisionBoxArray=new St},Qa.prototype.unloadVectorData=function(){for(var E in this.buckets)this.buckets[E].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Qa.prototype.getBucket=function(E){return this.buckets[E.id]},Qa.prototype.upload=function(E){for(var B in this.buckets){var ee=this.buckets[B];ee.uploadPending()&&ee.upload(E)}var ge=E.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new pf(E,this.imageAtlas.image,ge.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new pf(E,this.glyphAtlasImage,ge.ALPHA),this.glyphAtlasImage=null)},Qa.prototype.prepare=function(E){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(E,this.imageAtlasTexture)},Qa.prototype.queryRenderedFeatures=function(E,B,ee,ge,Ee,ze,Ge,tt,ht,Tt){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:ge,cameraQueryGeometry:Ee,scale:ze,tileSize:this.tileSize,pixelPosMatrix:Tt,transform:tt,params:Ge,queryPadding:this.queryPadding*ht},E,B,ee):{}},Qa.prototype.querySourceFeatures=function(E,B){var ee=this.latestFeatureIndex;if(ee&&ee.rawTileData){var ge=ee.loadVTLayers(),Ee=B?B.sourceLayer:"",ze=ge._geojsonTileLayer||ge[Ee];if(ze)for(var Ge=tu(B&&B.filter),tt=this.tileID.canonical,ht=tt.z,Tt=tt.x,Mt=tt.y,Bt={z:ht,x:Tt,y:Mt},Gt=0;Gt<ze.length;Gt++){var Vt=ze.feature(Gt);if(Ge.needGeometry){var ln=Qi(Vt,!0);if(!Ge.filter(new pi(this.tileID.overscaledZ),ln,this.tileID.canonical))continue}else if(!Ge.filter(new pi(this.tileID.overscaledZ),Vt))continue;var cn=ee.getId(Vt,Ee),Mn=new Hd(Vt,ht,Tt,Mt,cn);Mn.tile=Bt,E.push(Mn)}}},Qa.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Qa.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Qa.prototype.setExpiryData=function(E){var B=this.expirationTime;if(E.cacheControl){var ee=F(E.cacheControl);ee["max-age"]&&(this.expirationTime=Date.now()+1e3*ee["max-age"])}else E.expires&&(this.expirationTime=new Date(E.expires).getTime());if(this.expirationTime){var ge=Date.now(),Ee=!1;if(this.expirationTime>ge)Ee=!1;else if(B)if(this.expirationTime<B)Ee=!0;else{var ze=this.expirationTime-B;ze?this.expirationTime=ge+Math.max(ze,3e4):Ee=!0}else Ee=!0;Ee?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Qa.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Qa.prototype.setFeatureState=function(E,B){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(E).length!==0){var ee=this.latestFeatureIndex.loadVTLayers();for(var ge in this.buckets)if(B.style.hasLayer(ge)){var Ee=this.buckets[ge],ze=Ee.layers[0].sourceLayer||"_geojsonTileLayer",Ge=ee[ze],tt=E[ze];if(Ge&&tt&&Object.keys(tt).length!==0){Ee.update(tt,Ge,this.imageAtlas&&this.imageAtlas.patternPositions||{});var ht=B&&B.style&&B.style.getLayer(ge);ht&&(this.queryPadding=Math.max(this.queryPadding,ht.queryRadius(Ee)))}}}},Qa.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Qa.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<K.now()},Qa.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Qa.prototype.setHoldDuration=function(E){this.symbolFadeHoldUntil=K.now()+E},Qa.prototype.setDependencies=function(E,B){for(var ee={},ge=0,Ee=B;ge<Ee.length;ge+=1)ee[Ee[ge]]=!0;this.dependencies[E]=ee},Qa.prototype.hasDependency=function(E,B){for(var ee=0,ge=E;ee<ge.length;ee+=1){var Ee=ge[ee],ze=this.dependencies[Ee];if(ze){for(var Ge=0,tt=B;Ge<tt.length;Ge+=1)if(ze[tt[Ge]])return!0}}return!1};var Lc=a.performance,mx=function(E){this._marks={start:[E.url,"start"].join("#"),end:[E.url,"end"].join("#"),measure:E.url.toString()},Lc.mark(this._marks.start)};mx.prototype.finish=function(){Lc.mark(this._marks.end);var E=Lc.getEntriesByName(this._marks.measure);return E.length===0&&(Lc.measure(this._marks.measure,this._marks.start,this._marks.end),E=Lc.getEntriesByName(this._marks.measure),Lc.clearMarks(this._marks.start),Lc.clearMarks(this._marks.end),Lc.clearMeasures(this._marks.measure)),E},t.Actor=ih,t.AlphaImage=hf,t.CanonicalTileID=gf,t.CollisionBoxArray=St,t.Color=On,t.DEMData=Ju,t.DataConstantProperty=Dr,t.DictionaryCoder=Vd,t.EXTENT=_i,t.ErrorEvent=Ve,t.EvaluationParameters=pi,t.Event=Ue,t.Evented=st,t.FeatureIndex=Qu,t.FillBucket=cu,t.FillExtrusionBucket=fu,t.ImageAtlas=Kh,t.ImagePosition=Id,t.LineBucket=Wo,t.LngLat=ca,t.LngLatBounds=ja,t.MercatorCoordinate=df,t.ONE_EM=oo,t.OverscaledTileID=Ua,t.Point=n,t.Point$1=n,t.Properties=ua,t.Protobuf=Pd,t.RGBAImage=fs,t.RequestManager=pe,t.RequestPerformance=mx,t.ResourceType=mt,t.SegmentVector=Gn,t.SourceFeatureState=ah,t.StructArrayLayout1ui2=vt,t.StructArrayLayout2f1f2i16=se,t.StructArrayLayout2i4=Zs,t.StructArrayLayout3ui6=ke,t.StructArrayLayout4i8=Xu,t.SymbolBucket=Ni,t.Texture=pf,t.Tile=Qa,t.Transitionable=qo,t.Uniform1f=ui,t.Uniform1i=ni,t.Uniform2f=di,t.Uniform3f=Bi,t.Uniform4f=ia,t.UniformColor=Ga,t.UniformMatrix4f=Ba,t.UnwrappedTileID=dx,t.ValidationError=gt,t.WritingMode=Ks,t.ZoomHistory=Rl,t.add=function(E,B,ee){return E[0]=B[0]+ee[0],E[1]=B[1]+ee[1],E[2]=B[2]+ee[2],E},t.addDynamicAttributes=Wg,t.asyncAll=function(E,B,ee){if(!E.length)return ee(null,[]);var ge=E.length,Ee=new Array(E.length),ze=null;E.forEach(function(Ge,tt){B(Ge,function(ht,Tt){ht&&(ze=ht),Ee[tt]=Tt,--ge==0&&ee(ze,Ee)})})},t.bezier=o,t.bindAll=w,t.browser=K,t.cacheEntryPossiblyAdded=function(E){++xt>Ne&&(E.getActor().send("enforceCacheSizeLimit",Ce),xt=0)},t.clamp=u,t.clearTileCache=function(E){var B=a.caches.delete(Me);E&&B.catch(E).then(function(){return E()})},t.clipLine=K1,t.clone=function(E){var B=new Xs(16);return B[0]=E[0],B[1]=E[1],B[2]=E[2],B[3]=E[3],B[4]=E[4],B[5]=E[5],B[6]=E[6],B[7]=E[7],B[8]=E[8],B[9]=E[9],B[10]=E[10],B[11]=E[11],B[12]=E[12],B[13]=E[13],B[14]=E[14],B[15]=E[15],B},t.clone$1=L,t.clone$2=function(E){var B=new Xs(3);return B[0]=E[0],B[1]=E[1],B[2]=E[2],B},t.collisionCircleLayout=a6,t.config=J,t.create=function(){var E=new Xs(16);return Xs!=Float32Array&&(E[1]=0,E[2]=0,E[3]=0,E[4]=0,E[6]=0,E[7]=0,E[8]=0,E[9]=0,E[11]=0,E[12]=0,E[13]=0,E[14]=0),E[0]=1,E[5]=1,E[10]=1,E[15]=1,E},t.create$1=function(){var E=new Xs(9);return Xs!=Float32Array&&(E[1]=0,E[2]=0,E[3]=0,E[5]=0,E[6]=0,E[7]=0),E[0]=1,E[4]=1,E[8]=1,E},t.create$2=function(){var E=new Xs(4);return Xs!=Float32Array&&(E[1]=0,E[2]=0),E[0]=1,E[3]=1,E},t.createCommonjsModule=b,t.createExpression=bs,t.createLayout=Hi,t.createStyleLayer=function(E){return E.type==="custom"?new F6(E):new B6[E.type](E)},t.cross=function(E,B,ee){var ge=B[0],Ee=B[1],ze=B[2],Ge=ee[0],tt=ee[1],ht=ee[2];return E[0]=Ee*ht-ze*tt,E[1]=ze*Ge-ge*ht,E[2]=ge*tt-Ee*Ge,E},t.deepEqual=function E(B,ee){if(Array.isArray(B)){if(!Array.isArray(ee)||B.length!==ee.length)return!1;for(var ge=0;ge<B.length;ge++)if(!E(B[ge],ee[ge]))return!1;return!0}if(typeof B=="object"&&B!==null&&ee!==null){if(typeof ee!="object"||Object.keys(B).length!==Object.keys(ee).length)return!1;for(var Ee in B)if(!E(B[Ee],ee[Ee]))return!1;return!0}return B===ee},t.dot=function(E,B){return E[0]*B[0]+E[1]*B[1]+E[2]*B[2]},t.dot$1=function(E,B){return E[0]*B[0]+E[1]*B[1]+E[2]*B[2]+E[3]*B[3]},t.ease=l,t.emitValidationErrors=Za,t.endsWith=_,t.enforceCacheSizeLimit=function(E){He(),ye&&ye.then(function(B){B.keys().then(function(ee){for(var ge=0;ge<ee.length-E;ge++)B.delete(ee[ge])})})},t.evaluateSizeForFeature=q1,t.evaluateSizeForZoom=G1,t.evaluateVariableOffset=ex,t.evented=Ka,t.extend=f,t.featureFilter=tu,t.filterObject=p,t.fromRotation=function(E,B){var ee=Math.sin(B),ge=Math.cos(B);return E[0]=ge,E[1]=ee,E[2]=0,E[3]=-ee,E[4]=ge,E[5]=0,E[6]=0,E[7]=0,E[8]=1,E},t.getAnchorAlignment=Vg,t.getAnchorJustification=Gg,t.getArrayBuffer=Ft,t.getImage=Ke,t.getJSON=function(E,B){return zt(f(E,{type:"json"}),B)},t.getRTLTextPluginStatus=Dl,t.getReferrer=nt,t.getVideo=function(E,B){var ee,ge,Ee=a.document.createElement("video");Ee.muted=!0,Ee.onloadstart=function(){B(null,Ee)};for(var ze=0;ze<E.length;ze++){var Ge=a.document.createElement("source");ee=E[ze],ge=void 0,(ge=a.document.createElement("a")).href=ee,ge.protocol===a.document.location.protocol&&ge.host===a.document.location.host||(Ee.crossOrigin="Anonymous"),Ge.src=E[ze],Ee.appendChild(Ge)}return{cancel:function(){}}},t.identity=Eg,t.invert=function(E,B){var ee=B[0],ge=B[1],Ee=B[2],ze=B[3],Ge=B[4],tt=B[5],ht=B[6],Tt=B[7],Mt=B[8],Bt=B[9],Gt=B[10],Vt=B[11],ln=B[12],cn=B[13],Mn=B[14],Tn=B[15],Nn=ee*tt-ge*Ge,jn=ee*ht-Ee*Ge,Zn=ee*Tt-ze*Ge,Jn=ge*ht-Ee*tt,lr=ge*Tt-ze*tt,_r=Ee*Tt-ze*ht,yr=Mt*cn-Bt*ln,Sr=Mt*Mn-Gt*ln,Pr=Mt*Tn-Vt*ln,Qr=Bt*Mn-Gt*cn,Br=Bt*Tn-Vt*cn,Jr=Gt*Tn-Vt*Mn,Hr=Nn*Jr-jn*Br+Zn*Qr+Jn*Pr-lr*Sr+_r*yr;return Hr?(Hr=1/Hr,E[0]=(tt*Jr-ht*Br+Tt*Qr)*Hr,E[1]=(Ee*Br-ge*Jr-ze*Qr)*Hr,E[2]=(cn*_r-Mn*lr+Tn*Jn)*Hr,E[3]=(Gt*lr-Bt*_r-Vt*Jn)*Hr,E[4]=(ht*Pr-Ge*Jr-Tt*Sr)*Hr,E[5]=(ee*Jr-Ee*Pr+ze*Sr)*Hr,E[6]=(Mn*Zn-ln*_r-Tn*jn)*Hr,E[7]=(Mt*_r-Gt*Zn+Vt*jn)*Hr,E[8]=(Ge*Br-tt*Pr+Tt*yr)*Hr,E[9]=(ge*Pr-ee*Br-ze*yr)*Hr,E[10]=(ln*lr-cn*Zn+Tn*Nn)*Hr,E[11]=(Bt*Zn-Mt*lr-Vt*Nn)*Hr,E[12]=(tt*Sr-Ge*Qr-ht*yr)*Hr,E[13]=(ee*Qr-ge*Sr+Ee*yr)*Hr,E[14]=(cn*jn-ln*Jn-Mn*Nn)*Hr,E[15]=(Mt*Jn-Bt*jn+Gt*Nn)*Hr,E):null},t.isChar=Tr,t.isMapboxURL=me,t.keysDifference=function(E,B){var ee=[];for(var ge in E)ge in B||ee.push(ge);return ee},t.makeRequest=zt,t.mapObject=A,t.mercatorXfromLng=fx,t.mercatorYfromLat=hx,t.mercatorZfromAltitude=px,t.mul=g5,t.multiply=h1,t.mvt=Yf,t.nextPowerOfTwo=function(E){return E<=1?1:Math.pow(2,Math.ceil(Math.log(E)/Math.LN2))},t.normalize=function(E,B){var ee=B[0],ge=B[1],Ee=B[2],ze=ee*ee+ge*ge+Ee*Ee;return ze>0&&(ze=1/Math.sqrt(ze)),E[0]=B[0]*ze,E[1]=B[1]*ze,E[2]=B[2]*ze,E},t.number=$r,t.offscreenCanvasSupported=_t,t.ortho=function(E,B,ee,ge,Ee,ze,Ge){var tt=1/(B-ee),ht=1/(ge-Ee),Tt=1/(ze-Ge);return E[0]=-2*tt,E[1]=0,E[2]=0,E[3]=0,E[4]=0,E[5]=-2*ht,E[6]=0,E[7]=0,E[8]=0,E[9]=0,E[10]=2*Tt,E[11]=0,E[12]=(B+ee)*tt,E[13]=(Ee+ge)*ht,E[14]=(Ge+ze)*Tt,E[15]=1,E},t.parseGlyphPBF=function(E){return new Pd(E).readFields(v6,[])},t.pbf=Pd,t.performSymbolLayout=function(E,B,ee,ge,Ee,ze,Ge){E.createArrays();var tt=512*E.overscaling;E.tilePixelRatio=_i/tt,E.compareText={},E.iconsNeedLinear=!1;var ht=E.layers[0].layout,Tt=E.layers[0]._unevaluatedLayout._values,Mt={};if(E.textSizeData.kind==="composite"){var Bt=E.textSizeData,Gt=Bt.minZoom,Vt=Bt.maxZoom;Mt.compositeTextSizes=[Tt["text-size"].possiblyEvaluate(new pi(Gt),Ge),Tt["text-size"].possiblyEvaluate(new pi(Vt),Ge)]}if(E.iconSizeData.kind==="composite"){var ln=E.iconSizeData,cn=ln.minZoom,Mn=ln.maxZoom;Mt.compositeIconSizes=[Tt["icon-size"].possiblyEvaluate(new pi(cn),Ge),Tt["icon-size"].possiblyEvaluate(new pi(Mn),Ge)]}Mt.layoutTextSize=Tt["text-size"].possiblyEvaluate(new pi(E.zoom+1),Ge),Mt.layoutIconSize=Tt["icon-size"].possiblyEvaluate(new pi(E.zoom+1),Ge),Mt.textMaxSize=Tt["text-size"].possiblyEvaluate(new pi(18));for(var Tn=ht.get("text-line-height")*oo,Nn=ht.get("text-rotation-alignment")==="map"&&ht.get("symbol-placement")!=="point",jn=ht.get("text-keep-upright"),Zn=ht.get("text-size"),Jn=function(){var yr=_r[lr],Sr=ht.get("text-font").evaluate(yr,{},Ge).join(","),Pr=Zn.evaluate(yr,{},Ge),Qr=Mt.layoutTextSize.evaluate(yr,{},Ge),Br=Mt.layoutIconSize.evaluate(yr,{},Ge),Jr={horizontal:{},vertical:void 0},Hr=yr.text,Fr=[0,0];if(Hr){var yi=Hr.toString(),ai=ht.get("text-letter-spacing").evaluate(yr,{},Ge)*oo,$i=function(si){for(var wi=0,ba=si;wi<ba.length;wi+=1)if(Gi=ba[wi].charCodeAt(0),Tr.Arabic(Gi)||Tr["Arabic Supplement"](Gi)||Tr["Arabic Extended-A"](Gi)||Tr["Arabic Presentation Forms-A"](Gi)||Tr["Arabic Presentation Forms-B"](Gi))return!1;var Gi;return!0}(yi)?ai:0,Zr=ht.get("text-anchor").evaluate(yr,{},Ge),ji=ht.get("text-variable-anchor");if(!ji){var ta=ht.get("text-radial-offset").evaluate(yr,{},Ge);Fr=ta?ex(Zr,[ta*oo,qg]):ht.get("text-offset").evaluate(yr,{},Ge).map(function(si){return si*oo})}var oa=Nn?"center":ht.get("text-justify").evaluate(yr,{},Ge),sa=ht.get("symbol-placement"),Zi=sa==="point"?ht.get("text-max-width").evaluate(yr,{},Ge)*oo:0,Va=function(){E.allowVerticalPlacement&&su(yi)&&(Jr.vertical=Rd(Hr,B,ee,Ee,Sr,Zi,Tn,Zr,"left",$i,Fr,Ks.vertical,!0,sa,Qr,Pr))};if(!Nn&&ji){for(var pa=oa==="auto"?ji.map(function(si){return Gg(si)}):[oa],eo=!1,yo=0;yo<pa.length;yo++){var so=pa[yo];if(!Jr.horizontal[so])if(eo)Jr.horizontal[so]=Jr.horizontal[0];else{var Yo=Rd(Hr,B,ee,Ee,Sr,Zi,Tn,"center",so,$i,Fr,Ks.horizontal,!1,sa,Qr,Pr);Yo&&(Jr.horizontal[so]=Yo,eo=Yo.positionedLines.length===1)}}Va()}else{oa==="auto"&&(oa=Gg(Zr));var lo=Rd(Hr,B,ee,Ee,Sr,Zi,Tn,Zr,oa,$i,Fr,Ks.horizontal,!1,sa,Qr,Pr);lo&&(Jr.horizontal[oa]=lo),Va(),su(yi)&&Nn&&jn&&(Jr.vertical=Rd(Hr,B,ee,Ee,Sr,Zi,Tn,Zr,oa,$i,Fr,Ks.vertical,!1,sa,Qr,Pr))}}var Wa=void 0,uo=!1;if(yr.icon&&yr.icon.name){var to=ge[yr.icon.name];to&&(Wa=function(si,wi,ba){var Gi=Vg(ba),ga=Gi.horizontalAlign,fa=Gi.verticalAlign,Ei=wi[0],_a=wi[1],$o=Ei-si.displaySize[0]*ga,Es=$o+si.displaySize[0],Io=_a-si.displaySize[1]*fa;return{image:si,top:Io,bottom:Io+si.displaySize[1],left:$o,right:Es}}(Ee[yr.icon.name],ht.get("icon-offset").evaluate(yr,{},Ge),ht.get("icon-anchor").evaluate(yr,{},Ge)),uo=to.sdf,E.sdfIcons===void 0?E.sdfIcons=to.sdf:E.sdfIcons!==to.sdf&&C("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(to.pixelRatio!==E.pixelRatio||ht.get("icon-rotate").constantOr(1)!==0)&&(E.iconsNeedLinear=!0))}var Ya=nx(Jr.horizontal)||Jr.vertical;E.iconsInText=!!Ya&&Ya.iconsInText,(Ya||Wa)&&function(si,wi,ba,Gi,ga,fa,Ei,_a,$o,Es,Io){var pu=fa.textMaxSize.evaluate(wi,{});pu===void 0&&(pu=Ei);var ec,no=si.layers[0].layout,du=no.get("icon-offset").evaluate(wi,{},Io),Ul=nx(ba.horizontal),Vl=24,vf=Ei/Vl,qd=si.tilePixelRatio*vf,mf=si.tilePixelRatio*pu/Vl,Gd=si.tilePixelRatio*_a,np=si.tilePixelRatio*no.get("symbol-spacing"),Kg=no.get("text-padding")*si.tilePixelRatio,Wd=no.get("icon-padding")*si.tilePixelRatio,oh=no.get("text-max-angle")/180*Math.PI,Yd=no.get("text-rotation-alignment")==="map"&&no.get("symbol-placement")!=="point",$d=no.get("icon-rotation-alignment")==="map"&&no.get("symbol-placement")!=="point",rp=no.get("symbol-placement"),Jg=np/2,ip=no.get("icon-text-fit");Gi&&ip!=="none"&&(si.allowVerticalPlacement&&ba.vertical&&(ec=H1(Gi,ba.vertical,ip,no.get("icon-text-fit-padding"),du,vf)),Ul&&(Gi=H1(Gi,Ul,ip,no.get("icon-text-fit-padding"),du,vf)));var yf=function(j6,cp){cp.x<0||cp.x>=_i||cp.y<0||cp.y>=_i||function(Ca,gu,U6,Cc,iv,wx,Qd,Ru,e0,fp,t0,n0,av,Tx,hp,kx,Ax,Mx,Sx,Ex,Js,r0,Lx,Du,V6){var Cx,_f,uh,ch,fh,hh=Ca.addToLineVertexArray(gu,U6),Px=0,Ox=0,Ix=0,Rx=0,ov=-1,sv=-1,tc={},Dx=Ar(""),lv=0,uv=0;if(Ru._unevaluatedLayout.getValue("text-radial-offset")===void 0?(lv=(Cx=Ru.layout.get("text-offset").evaluate(Js,{},Du).map(function(dp){return dp*oo}))[0],uv=Cx[1]):(lv=Ru.layout.get("text-radial-offset").evaluate(Js,{},Du)*oo,uv=qg),Ca.allowVerticalPlacement&&Cc.vertical){var zx=Ru.layout.get("text-rotate").evaluate(Js,{},Du)+90,H6=Cc.vertical;ch=new Nd(e0,gu,fp,t0,n0,H6,av,Tx,hp,zx),Qd&&(fh=new Nd(e0,gu,fp,t0,n0,Qd,Ax,Mx,hp,zx))}if(iv){var cv=Ru.layout.get("icon-rotate").evaluate(Js,{}),Fx=Ru.layout.get("icon-text-fit")!=="none",Bx=J1(iv,cv,Lx,Fx),fv=Qd?J1(Qd,cv,Lx,Fx):void 0;uh=new Nd(e0,gu,fp,t0,n0,iv,Ax,Mx,!1,cv),Px=4*Bx.length;var Nx=Ca.iconSizeData,pp=null;Nx.kind==="source"?(pp=[hu*Ru.layout.get("icon-size").evaluate(Js,{})])[0]>Ec&&C(Ca.layerIds[0]+': Value for "icon-size" is >= '+Qh+'. Reduce your "icon-size".'):Nx.kind==="composite"&&((pp=[hu*r0.compositeIconSizes[0].evaluate(Js,{},Du),hu*r0.compositeIconSizes[1].evaluate(Js,{},Du)])[0]>Ec||pp[1]>Ec)&&C(Ca.layerIds[0]+': Value for "icon-size" is >= '+Qh+'. Reduce your "icon-size".'),Ca.addSymbols(Ca.icon,Bx,pp,Ex,Sx,Js,!1,gu,hh.lineStartIndex,hh.lineLength,-1,Du),ov=Ca.icon.placedSymbolArray.length-1,fv&&(Ox=4*fv.length,Ca.addSymbols(Ca.icon,fv,pp,Ex,Sx,Js,Ks.vertical,gu,hh.lineStartIndex,hh.lineLength,-1,Du),sv=Ca.icon.placedSymbolArray.length-1)}for(var jx in Cc.horizontal){var i0=Cc.horizontal[jx];if(!_f){Dx=Ar(i0.text);var q6=Ru.layout.get("text-rotate").evaluate(Js,{},Du);_f=new Nd(e0,gu,fp,t0,n0,i0,av,Tx,hp,q6)}var Ux=i0.positionedLines.length===1;if(Ix+=tx(Ca,gu,i0,wx,Ru,hp,Js,kx,hh,Cc.vertical?Ks.horizontal:Ks.horizontalOnly,Ux?Object.keys(Cc.horizontal):[jx],tc,ov,r0,Du),Ux)break}Cc.vertical&&(Rx+=tx(Ca,gu,Cc.vertical,wx,Ru,hp,Js,kx,hh,Ks.vertical,["vertical"],tc,sv,r0,Du));var G6=_f?_f.boxStartIndex:Ca.collisionBoxArray.length,W6=_f?_f.boxEndIndex:Ca.collisionBoxArray.length,Y6=ch?ch.boxStartIndex:Ca.collisionBoxArray.length,$6=ch?ch.boxEndIndex:Ca.collisionBoxArray.length,Z6=uh?uh.boxStartIndex:Ca.collisionBoxArray.length,X6=uh?uh.boxEndIndex:Ca.collisionBoxArray.length,K6=fh?fh.boxStartIndex:Ca.collisionBoxArray.length,J6=fh?fh.boxEndIndex:Ca.collisionBoxArray.length,zu=-1,a0=function(dp,Hx){return dp&&dp.circleDiameter?Math.max(dp.circleDiameter,Hx):Hx};zu=a0(_f,zu),zu=a0(ch,zu),zu=a0(uh,zu);var Vx=(zu=a0(fh,zu))>-1?1:0;Vx&&(zu*=V6/oo),Ca.glyphOffsetArray.length>=Ni.MAX_GLYPHS&&C("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Js.sortKey!==void 0&&Ca.addToSortKeyRanges(Ca.symbolInstances.length,Js.sortKey),Ca.symbolInstances.emplaceBack(gu.x,gu.y,tc.right>=0?tc.right:-1,tc.center>=0?tc.center:-1,tc.left>=0?tc.left:-1,tc.vertical||-1,ov,sv,Dx,G6,W6,Y6,$6,Z6,X6,K6,J6,fp,Ix,Rx,Px,Ox,Vx,0,av,lv,uv,zu)}(si,cp,j6,ba,Gi,ga,ec,si.layers[0],si.collisionBoxArray,wi.index,wi.sourceLayerIndex,si.index,qd,Kg,Yd,$o,Gd,Wd,$d,du,wi,fa,Es,Io,Ei)};if(rp==="line")for(var sh=0,Zd=K1(wi.geometry,0,0,_i,_i);sh<Zd.length;sh+=1)for(var Xd=Zd[sh],lh=0,Kd=T6(Xd,np,oh,ba.vertical||Ul,Gi,Vl,mf,si.overscaling,_i);lh<Kd.length;lh+=1){var Jd=Kd[lh];Ul&&S6(si,Ul.text,Jg,Jd)||yf(Xd,Jd)}else if(rp==="line-center")for(var ap=0,op=wi.geometry;ap<op.length;ap+=1){var xf=op[ap];if(xf.length>1){var sp=w6(xf,oh,ba.vertical||Ul,Gi,Vl,mf);sp&&yf(xf,sp)}}else if(wi.type==="Polygon")for(var bf=0,lp=Dg(wi.geometry,0);bf<lp.length;bf+=1){var up=lp[bf],yx=A6(up,16);yf(up[0],new Kf(yx.x,yx.y,0))}else if(wi.type==="LineString")for(var Qg=0,xx=wi.geometry;Qg<xx.length;Qg+=1){var ev=xx[Qg];yf(ev,new Kf(ev[0].x,ev[0].y,0))}else if(wi.type==="Point")for(var tv=0,bx=wi.geometry;tv<bx.length;tv+=1)for(var nv=0,_x=bx[tv];nv<_x.length;nv+=1){var rv=_x[nv];yf([rv],new Kf(rv.x,rv.y,0))}}(E,yr,Jr,Wa,ge,Mt,Qr,Br,Fr,uo,Ge)},lr=0,_r=E.features;lr<_r.length;lr+=1)Jn();ze&&E.generateCollisionDebugBuffers()},t.perspective=function(E,B,ee,ge,Ee){var ze,Ge=1/Math.tan(B/2);return E[0]=Ge/ee,E[1]=0,E[2]=0,E[3]=0,E[4]=0,E[5]=Ge,E[6]=0,E[7]=0,E[8]=0,E[9]=0,E[11]=-1,E[12]=0,E[13]=0,E[15]=0,Ee!=null&&Ee!==1/0?(ze=1/(ge-Ee),E[10]=(Ee+ge)*ze,E[14]=2*Ee*ge*ze):(E[10]=-1,E[14]=-2*ge),E},t.pick=function(E,B){for(var ee={},ge=0;ge<B.length;ge++){var Ee=B[ge];Ee in E&&(ee[Ee]=E[Ee])}return ee},t.plugin=Ja,t.polygonIntersectsPolygon=ff,t.postMapLoadEvent=xe,t.postTurnstileEvent=Fe,t.potpack=B1,t.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],t.register=Or,t.registerForPluginStateChange=function(E){return E({pluginStatus:gi,pluginURL:Ea}),Ka.on("pluginStateChange",E),E},t.renderColorRamp=v1,t.rotate=function(E,B,ee){var ge=B[0],Ee=B[1],ze=B[2],Ge=B[3],tt=Math.sin(ee),ht=Math.cos(ee);return E[0]=ge*ht+ze*tt,E[1]=Ee*ht+Ge*tt,E[2]=ge*-tt+ze*ht,E[3]=Ee*-tt+Ge*ht,E},t.rotateX=function(E,B,ee){var ge=Math.sin(ee),Ee=Math.cos(ee),ze=B[4],Ge=B[5],tt=B[6],ht=B[7],Tt=B[8],Mt=B[9],Bt=B[10],Gt=B[11];return B!==E&&(E[0]=B[0],E[1]=B[1],E[2]=B[2],E[3]=B[3],E[12]=B[12],E[13]=B[13],E[14]=B[14],E[15]=B[15]),E[4]=ze*Ee+Tt*ge,E[5]=Ge*Ee+Mt*ge,E[6]=tt*Ee+Bt*ge,E[7]=ht*Ee+Gt*ge,E[8]=Tt*Ee-ze*ge,E[9]=Mt*Ee-Ge*ge,E[10]=Bt*Ee-tt*ge,E[11]=Gt*Ee-ht*ge,E},t.rotateZ=function(E,B,ee){var ge=Math.sin(ee),Ee=Math.cos(ee),ze=B[0],Ge=B[1],tt=B[2],ht=B[3],Tt=B[4],Mt=B[5],Bt=B[6],Gt=B[7];return B!==E&&(E[8]=B[8],E[9]=B[9],E[10]=B[10],E[11]=B[11],E[12]=B[12],E[13]=B[13],E[14]=B[14],E[15]=B[15]),E[0]=ze*Ee+Tt*ge,E[1]=Ge*Ee+Mt*ge,E[2]=tt*Ee+Bt*ge,E[3]=ht*Ee+Gt*ge,E[4]=Tt*Ee-ze*ge,E[5]=Mt*Ee-Ge*ge,E[6]=Bt*Ee-tt*ge,E[7]=Gt*Ee-ht*ge,E},t.scale=function(E,B,ee){var ge=ee[0],Ee=ee[1],ze=ee[2];return E[0]=B[0]*ge,E[1]=B[1]*ge,E[2]=B[2]*ge,E[3]=B[3]*ge,E[4]=B[4]*Ee,E[5]=B[5]*Ee,E[6]=B[6]*Ee,E[7]=B[7]*Ee,E[8]=B[8]*ze,E[9]=B[9]*ze,E[10]=B[10]*ze,E[11]=B[11]*ze,E[12]=B[12],E[13]=B[13],E[14]=B[14],E[15]=B[15],E},t.scale$1=function(E,B,ee){return E[0]=B[0]*ee,E[1]=B[1]*ee,E[2]=B[2]*ee,E[3]=B[3]*ee,E},t.scale$2=function(E,B,ee){return E[0]=B[0]*ee,E[1]=B[1]*ee,E[2]=B[2]*ee,E},t.setCacheLimits=function(E,B){Ce=E,Ne=B},t.setRTLTextPlugin=function(E,B,ee){if(ee===void 0&&(ee=!1),gi===os||gi===Po||gi===Ts)throw new Error("setRTLTextPlugin cannot be called multiple times.");Ea=K.resolveURL(E),gi=os,$s=B,ss(),ee||zl()},t.sphericalToCartesian=function(E){var B=E[0],ee=E[1],ge=E[2];return ee+=90,ee*=Math.PI/180,ge*=Math.PI/180,{x:B*Math.cos(ee)*Math.sin(ge),y:B*Math.sin(ee)*Math.sin(ge),z:B*Math.cos(ge)}},t.sqrLen=m5,t.styleSpec=Xe,t.sub=v5,t.symbolSize=_6,t.transformMat3=function(E,B,ee){var ge=B[0],Ee=B[1],ze=B[2];return E[0]=ge*ee[0]+Ee*ee[3]+ze*ee[6],E[1]=ge*ee[1]+Ee*ee[4]+ze*ee[7],E[2]=ge*ee[2]+Ee*ee[5]+ze*ee[8],E},t.transformMat4=Md,t.translate=function(E,B,ee){var ge,Ee,ze,Ge,tt,ht,Tt,Mt,Bt,Gt,Vt,ln,cn=ee[0],Mn=ee[1],Tn=ee[2];return B===E?(E[12]=B[0]*cn+B[4]*Mn+B[8]*Tn+B[12],E[13]=B[1]*cn+B[5]*Mn+B[9]*Tn+B[13],E[14]=B[2]*cn+B[6]*Mn+B[10]*Tn+B[14],E[15]=B[3]*cn+B[7]*Mn+B[11]*Tn+B[15]):(ge=B[0],Ee=B[1],ze=B[2],Ge=B[3],tt=B[4],ht=B[5],Tt=B[6],Mt=B[7],Bt=B[8],Gt=B[9],Vt=B[10],ln=B[11],E[0]=ge,E[1]=Ee,E[2]=ze,E[3]=Ge,E[4]=tt,E[5]=ht,E[6]=Tt,E[7]=Mt,E[8]=Bt,E[9]=Gt,E[10]=Vt,E[11]=ln,E[12]=ge*cn+tt*Mn+Bt*Tn+B[12],E[13]=Ee*cn+ht*Mn+Gt*Tn+B[13],E[14]=ze*cn+Tt*Mn+Vt*Tn+B[14],E[15]=Ge*cn+Mt*Mn+ln*Tn+B[15]),E},t.triggerPluginCompletionEvent=Xa,t.uniqueId=d,t.validateCustomStyleLayer=function(E){var B=[],ee=E.id;return ee===void 0&&B.push({message:"layers."+ee+': missing required property "id"'}),E.render===void 0&&B.push({message:"layers."+ee+': missing required method "render"'}),E.renderingMode&&E.renderingMode!=="2d"&&E.renderingMode!=="3d"&&B.push({message:"layers."+ee+': property "renderingMode" must be either "2d" or "3d"'}),B},t.validateLight=dl,t.validateStyle=as,t.values=function(E){var B=[];for(var ee in E)B.push(E[ee]);return B},t.vectorTile=Yf,t.version=g,t.warnOnce=C,t.webpSupported=$,t.window=a,t.wrap=h}),x(0,function(t){function b(Ze){var Je=typeof Ze;if(Je==="number"||Je==="boolean"||Je==="string"||Ze==null)return JSON.stringify(Ze);if(Array.isArray(Ze)){for(var qe="[",Ke=0,ft=Ze;Ke<ft.length;Ke+=1)qe+=b(ft[Ke])+",";return qe+"]"}for(var ot=Object.keys(Ze).sort(),Ue="{",Ve=0;Ve<ot.length;Ve++)Ue+=JSON.stringify(ot[Ve])+":"+b(Ze[ot[Ve]])+",";return Ue+"}"}function g(Ze){for(var Je="",qe=0,Ke=t.refProperties;qe<Ke.length;qe+=1)Je+="/"+b(Ze[Ke[qe]]);return Je}var c=function(Ze){this.keyCache={},Ze&&this.replace(Ze)};c.prototype.replace=function(Ze){this._layerConfigs={},this._layers={},this.update(Ze,[])},c.prototype.update=function(Ze,Je){for(var qe=this,Ke=0,ft=Ze;Ke<ft.length;Ke+=1){var ot=ft[Ke];this._layerConfigs[ot.id]=ot;var Ue=this._layers[ot.id]=t.createStyleLayer(ot);Ue._featureFilter=t.featureFilter(Ue.filter),this.keyCache[ot.id]&&delete this.keyCache[ot.id]}for(var Ve=0,st=Je;Ve<st.length;Ve+=1){var Xe=st[Ve];delete this.keyCache[Xe],delete this._layerConfigs[Xe],delete this._layers[Xe]}this.familiesBySource={};for(var gt=0,yt=function(Dt,Nt){for(var Xt={},un=0;un<Dt.length;un++){var qt=Nt&&Nt[Dt[un].id]||g(Dt[un]);Nt&&(Nt[Dt[un].id]=qt);var Kt=Xt[qt];Kt||(Kt=Xt[qt]=[]),Kt.push(Dt[un])}var Ut=[];for(var Rn in Xt)Ut.push(Xt[Rn]);return Ut}(t.values(this._layerConfigs),this.keyCache);gt<yt.length;gt+=1){var bt=yt[gt].map(function(Dt){return qe._layers[Dt.id]}),dt=bt[0];if(dt.visibility!=="none"){var Lt=dt.source||"",wt=this.familiesBySource[Lt];wt||(wt=this.familiesBySource[Lt]={});var Ct=dt.sourceLayer||"_geojsonTileLayer",Rt=wt[Ct];Rt||(Rt=wt[Ct]=[]),Rt.push(bt)}}};var s=function(Ze){var Je={},qe=[];for(var Ke in Ze){var ft=Ze[Ke],ot=Je[Ke]={};for(var Ue in ft){var Ve=ft[+Ue];if(Ve&&Ve.bitmap.width!==0&&Ve.bitmap.height!==0){var st={x:0,y:0,w:Ve.bitmap.width+2,h:Ve.bitmap.height+2};qe.push(st),ot[Ue]={rect:st,metrics:Ve.metrics}}}}var Xe=t.potpack(qe),gt=Xe.w,yt=Xe.h,bt=new t.AlphaImage({width:gt||1,height:yt||1});for(var dt in Ze){var Lt=Ze[dt];for(var wt in Lt){var Ct=Lt[+wt];if(Ct&&Ct.bitmap.width!==0&&Ct.bitmap.height!==0){var Rt=Je[dt][wt].rect;t.AlphaImage.copy(Ct.bitmap,bt,{x:0,y:0},{x:Rt.x+1,y:Rt.y+1},Ct.bitmap)}}}this.image=bt,this.positions=Je};t.register("GlyphAtlas",s);var n=function(Ze){this.tileID=new t.OverscaledTileID(Ze.tileID.overscaledZ,Ze.tileID.wrap,Ze.tileID.canonical.z,Ze.tileID.canonical.x,Ze.tileID.canonical.y),this.uid=Ze.uid,this.zoom=Ze.zoom,this.pixelRatio=Ze.pixelRatio,this.tileSize=Ze.tileSize,this.source=Ze.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=Ze.showCollisionBoxes,this.collectResourceTiming=!!Ze.collectResourceTiming,this.returnDependencies=!!Ze.returnDependencies,this.promoteId=Ze.promoteId};function i(Ze,Je,qe){for(var Ke=new t.EvaluationParameters(Je),ft=0,ot=Ze;ft<ot.length;ft+=1)ot[ft].recalculate(Ke,qe)}function a(Ze,Je){var qe=t.getArrayBuffer(Ze.request,function(Ke,ft,ot,Ue){Ke?Je(Ke):ft&&Je(null,{vectorTile:new t.vectorTile.VectorTile(new t.pbf(ft)),rawData:ft,cacheControl:ot,expires:Ue})});return function(){qe.cancel(),Je()}}n.prototype.parse=function(Ze,Je,qe,Ke,ft){var ot=this;this.status="parsing",this.data=Ze,this.collisionBoxArray=new t.CollisionBoxArray;var Ue=new t.DictionaryCoder(Object.keys(Ze.layers).sort()),Ve=new t.FeatureIndex(this.tileID,this.promoteId);Ve.bucketLayerIDs=[];var st,Xe,gt,yt,bt={},dt={featureIndex:Ve,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:qe},Lt=Je.familiesBySource[this.source];for(var wt in Lt){var Ct=Ze.layers[wt];if(Ct){Ct.version===1&&t.warnOnce('Vector tile source "'+this.source+'" layer "'+wt+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Rt=Ue.encode(wt),Dt=[],Nt=0;Nt<Ct.length;Nt++){var Xt=Ct.feature(Nt),un=Ve.getId(Xt,wt);Dt.push({feature:Xt,id:un,index:Nt,sourceLayerIndex:Rt})}for(var qt=0,Kt=Lt[wt];qt<Kt.length;qt+=1){var Ut=Kt[qt],Rn=Ut[0];Rn.minzoom&&this.zoom<Math.floor(Rn.minzoom)||Rn.maxzoom&&this.zoom>=Rn.maxzoom||Rn.visibility!=="none"&&(i(Ut,this.zoom,qe),(bt[Rn.id]=Rn.createBucket({index:Ve.bucketLayerIDs.length,layers:Ut,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Rt,sourceID:this.source})).populate(Dt,dt,this.tileID.canonical),Ve.bucketLayerIDs.push(Ut.map(function(rn){return rn.id})))}}}var An=t.mapObject(dt.glyphDependencies,function(rn){return Object.keys(rn).map(Number)});Object.keys(An).length?Ke.send("getGlyphs",{uid:this.uid,stacks:An},function(rn,pn){st||(st=rn,Xe=pn,fn.call(ot))}):Xe={};var mn=Object.keys(dt.iconDependencies);mn.length?Ke.send("getImages",{icons:mn,source:this.source,tileID:this.tileID,type:"icons"},function(rn,pn){st||(st=rn,gt=pn,fn.call(ot))}):gt={};var tn=Object.keys(dt.patternDependencies);function fn(){if(st)return ft(st);if(Xe&&gt&&yt){var rn=new s(Xe),pn=new t.ImageAtlas(gt,yt);for(var wn in bt){var kn=bt[wn];kn instanceof t.SymbolBucket?(i(kn.layers,this.zoom,qe),t.performSymbolLayout(kn,Xe,rn.positions,gt,pn.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):kn.hasPattern&&(kn instanceof t.LineBucket||kn instanceof t.FillBucket||kn instanceof t.FillExtrusionBucket)&&(i(kn.layers,this.zoom,qe),kn.addFeatures(dt,this.tileID.canonical,pn.patternPositions))}this.status="done",ft(null,{buckets:t.values(bt).filter(function(Pn){return!Pn.isEmpty()}),featureIndex:Ve,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:rn.image,imageAtlas:pn,glyphMap:this.returnDependencies?Xe:null,iconMap:this.returnDependencies?gt:null,glyphPositions:this.returnDependencies?rn.positions:null})}}tn.length?Ke.send("getImages",{icons:tn,source:this.source,tileID:this.tileID,type:"patterns"},function(rn,pn){st||(st=rn,yt=pn,fn.call(ot))}):yt={},fn.call(this)};var r=function(Ze,Je,qe,Ke){this.actor=Ze,this.layerIndex=Je,this.availableImages=qe,this.loadVectorData=Ke||a,this.loading={},this.loaded={}};r.prototype.loadTile=function(Ze,Je){var qe=this,Ke=Ze.uid;this.loading||(this.loading={});var ft=!!(Ze&&Ze.request&&Ze.request.collectResourceTiming)&&new t.RequestPerformance(Ze.request),ot=this.loading[Ke]=new n(Ze);ot.abort=this.loadVectorData(Ze,function(Ue,Ve){if(delete qe.loading[Ke],Ue||!Ve)return ot.status="done",qe.loaded[Ke]=ot,Je(Ue);var st=Ve.rawData,Xe={};Ve.expires&&(Xe.expires=Ve.expires),Ve.cacheControl&&(Xe.cacheControl=Ve.cacheControl);var gt={};if(ft){var yt=ft.finish();yt&&(gt.resourceTiming=JSON.parse(JSON.stringify(yt)))}ot.vectorTile=Ve.vectorTile,ot.parse(Ve.vectorTile,qe.layerIndex,qe.availableImages,qe.actor,function(bt,dt){if(bt||!dt)return Je(bt);Je(null,t.extend({rawTileData:st.slice(0)},dt,Xe,gt))}),qe.loaded=qe.loaded||{},qe.loaded[Ke]=ot})},r.prototype.reloadTile=function(Ze,Je){var qe=this,Ke=this.loaded,ft=Ze.uid,ot=this;if(Ke&&Ke[ft]){var Ue=Ke[ft];Ue.showCollisionBoxes=Ze.showCollisionBoxes;var Ve=function(st,Xe){var gt=Ue.reloadCallback;gt&&(delete Ue.reloadCallback,Ue.parse(Ue.vectorTile,ot.layerIndex,qe.availableImages,ot.actor,gt)),Je(st,Xe)};Ue.status==="parsing"?Ue.reloadCallback=Ve:Ue.status==="done"&&(Ue.vectorTile?Ue.parse(Ue.vectorTile,this.layerIndex,this.availableImages,this.actor,Ve):Ve())}},r.prototype.abortTile=function(Ze,Je){var qe=this.loading,Ke=Ze.uid;qe&&qe[Ke]&&qe[Ke].abort&&(qe[Ke].abort(),delete qe[Ke]),Je()},r.prototype.removeTile=function(Ze,Je){var qe=this.loaded,Ke=Ze.uid;qe&&qe[Ke]&&delete qe[Ke],Je()};var o=t.window.ImageBitmap,l=function(){this.loaded={}};l.prototype.loadTile=function(Ze,Je){var qe=Ze.uid,Ke=Ze.encoding,ft=Ze.rawImageData,ot=o&&ft instanceof o?this.getImageData(ft):ft,Ue=new t.DEMData(qe,ot,Ke);this.loaded=this.loaded||{},this.loaded[qe]=Ue,Je(null,Ue)},l.prototype.getImageData=function(Ze){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(Ze.width,Ze.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=Ze.width,this.offscreenCanvas.height=Ze.height,this.offscreenCanvasContext.drawImage(Ze,0,0,Ze.width,Ze.height);var Je=this.offscreenCanvasContext.getImageData(-1,-1,Ze.width+2,Ze.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new t.RGBAImage({width:Je.width,height:Je.height},Je.data)},l.prototype.removeTile=function(Ze){var Je=this.loaded,qe=Ze.uid;Je&&Je[qe]&&delete Je[qe]};var u=function Ze(Je,qe){var Ke,ft=Je&&Je.type;if(ft==="FeatureCollection")for(Ke=0;Ke<Je.features.length;Ke++)Ze(Je.features[Ke],qe);else if(ft==="GeometryCollection")for(Ke=0;Ke<Je.geometries.length;Ke++)Ze(Je.geometries[Ke],qe);else if(ft==="Feature")Ze(Je.geometry,qe);else if(ft==="Polygon")h(Je.coordinates,qe);else if(ft==="MultiPolygon")for(Ke=0;Ke<Je.coordinates.length;Ke++)h(Je.coordinates[Ke],qe);return Je};function h(Ze,Je){if(Ze.length!==0){f(Ze[0],Je);for(var qe=1;qe<Ze.length;qe++)f(Ze[qe],!Je)}}function f(Ze,Je){for(var qe=0,Ke=0,ft=Ze.length,ot=ft-1;Ke<ft;ot=Ke++)qe+=(Ze[Ke][0]-Ze[ot][0])*(Ze[ot][1]+Ze[Ke][1]);qe>=0!=!!Je&&Ze.reverse()}var T=t.vectorTile.VectorTileFeature.prototype.toGeoJSON,d=function(Ze){this._feature=Ze,this.extent=t.EXTENT,this.type=Ze.type,this.properties=Ze.tags,"id"in Ze&&!isNaN(Ze.id)&&(this.id=parseInt(Ze.id,10))};d.prototype.loadGeometry=function(){if(this._feature.type===1){for(var Ze=[],Je=0,qe=this._feature.geometry;Je<qe.length;Je+=1){var Ke=qe[Je];Ze.push([new t.Point$1(Ke[0],Ke[1])])}return Ze}for(var ft=[],ot=0,Ue=this._feature.geometry;ot<Ue.length;ot+=1){for(var Ve=[],st=0,Xe=Ue[ot];st<Xe.length;st+=1){var gt=Xe[st];Ve.push(new t.Point$1(gt[0],gt[1]))}ft.push(Ve)}return ft},d.prototype.toGeoJSON=function(Ze,Je,qe){return T.call(this,Ze,Je,qe)};var y=function(Ze){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=t.EXTENT,this.length=Ze.length,this._features=Ze};y.prototype.feature=function(Ze){return new d(this._features[Ze])};var m=t.vectorTile.VectorTileFeature,w=_;function _(Ze,Je){this.options=Je||{},this.features=Ze,this.length=Ze.length}function A(Ze,Je){this.id=typeof Ze.id=="number"?Ze.id:void 0,this.type=Ze.type,this.rawGeometry=Ze.type===1?[Ze.geometry]:Ze.geometry,this.properties=Ze.tags,this.extent=Je||4096}_.prototype.feature=function(Ze){return new A(this.features[Ze],this.options.extent)},A.prototype.loadGeometry=function(){var Ze=this.rawGeometry;this.geometry=[];for(var Je=0;Je<Ze.length;Je++){for(var qe=Ze[Je],Ke=[],ft=0;ft<qe.length;ft++)Ke.push(new t.Point$1(qe[ft][0],qe[ft][1]));this.geometry.push(Ke)}return this.geometry},A.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Ze=this.geometry,Je=1/0,qe=-1/0,Ke=1/0,ft=-1/0,ot=0;ot<Ze.length;ot++)for(var Ue=Ze[ot],Ve=0;Ve<Ue.length;Ve++){var st=Ue[Ve];Je=Math.min(Je,st.x),qe=Math.max(qe,st.x),Ke=Math.min(Ke,st.y),ft=Math.max(ft,st.y)}return[Je,Ke,qe,ft]},A.prototype.toGeoJSON=m.prototype.toGeoJSON;var p=R,L=R,M=function(Ze,Je){Je=Je||{};var qe={};for(var Ke in Ze)qe[Ke]=new w(Ze[Ke].features,Je),qe[Ke].name=Ke,qe[Ke].version=Je.version,qe[Ke].extent=Je.extent;return R({layers:qe})},C=w;function R(Ze){var Je=new t.pbf;return function(qe,Ke){for(var ft in qe.layers)Ke.writeMessage(3,I,qe.layers[ft])}(Ze,Je),Je.finish()}function I(Ze,Je){var qe;Je.writeVarintField(15,Ze.version||1),Je.writeStringField(1,Ze.name||""),Je.writeVarintField(5,Ze.extent||4096);var Ke={keys:[],values:[],keycache:{},valuecache:{}};for(qe=0;qe<Ze.length;qe++)Ke.feature=Ze.feature(qe),Je.writeMessage(2,D,Ke);var ft=Ke.keys;for(qe=0;qe<ft.length;qe++)Je.writeStringField(3,ft[qe]);var ot=Ke.values;for(qe=0;qe<ot.length;qe++)Je.writeMessage(4,X,ot[qe])}function D(Ze,Je){var qe=Ze.feature;qe.id!==void 0&&Je.writeVarintField(1,qe.id),Je.writeMessage(2,F,Ze),Je.writeVarintField(3,qe.type),Je.writeMessage(4,V,qe)}function F(Ze,Je){var qe=Ze.feature,Ke=Ze.keys,ft=Ze.values,ot=Ze.keycache,Ue=Ze.valuecache;for(var Ve in qe.properties){var st=ot[Ve];st===void 0&&(Ke.push(Ve),st=Ke.length-1,ot[Ve]=st),Je.writeVarint(st);var Xe=qe.properties[Ve],gt=typeof Xe;gt!=="string"&&gt!=="boolean"&&gt!=="number"&&(Xe=JSON.stringify(Xe));var yt=gt+":"+Xe,bt=Ue[yt];bt===void 0&&(ft.push(Xe),bt=ft.length-1,Ue[yt]=bt),Je.writeVarint(bt)}}function q(Ze,Je){return(Je<<3)+(7&Ze)}function z(Ze){return Ze<<1^Ze>>31}function V(Ze,Je){for(var qe=Ze.loadGeometry(),Ke=Ze.type,ft=0,ot=0,Ue=qe.length,Ve=0;Ve<Ue;Ve++){var st=qe[Ve],Xe=1;Ke===1&&(Xe=st.length),Je.writeVarint(q(1,Xe));for(var gt=Ke===3?st.length-1:st.length,yt=0;yt<gt;yt++){yt===1&&Ke!==1&&Je.writeVarint(q(2,gt-1));var bt=st[yt].x-ft,dt=st[yt].y-ot;Je.writeVarint(z(bt)),Je.writeVarint(z(dt)),ft+=bt,ot+=dt}Ke===3&&Je.writeVarint(q(7,1))}}function X(Ze,Je){var qe=typeof Ze;qe==="string"?Je.writeStringField(1,Ze):qe==="boolean"?Je.writeBooleanField(7,Ze):qe==="number"&&(Ze%1!=0?Je.writeDoubleField(3,Ze):Ze<0?Je.writeSVarintField(6,Ze):Je.writeVarintField(5,Ze))}function j(Ze,Je,qe,Ke,ft,ot){if(!(ft-Ke<=qe)){var Ue=Ke+ft>>1;H(Ze,Je,Ue,Ke,ft,ot%2),j(Ze,Je,qe,Ke,Ue-1,ot+1),j(Ze,Je,qe,Ue+1,ft,ot+1)}}function H(Ze,Je,qe,Ke,ft,ot){for(;ft>Ke;){if(ft-Ke>600){var Ue=ft-Ke+1,Ve=qe-Ke+1,st=Math.log(Ue),Xe=.5*Math.exp(2*st/3),gt=.5*Math.sqrt(st*Xe*(Ue-Xe)/Ue)*(Ve-Ue/2<0?-1:1);H(Ze,Je,qe,Math.max(Ke,Math.floor(qe-Ve*Xe/Ue+gt)),Math.min(ft,Math.floor(qe+(Ue-Ve)*Xe/Ue+gt)),ot)}var yt=Je[2*qe+ot],bt=Ke,dt=ft;for(G(Ze,Je,Ke,qe),Je[2*ft+ot]>yt&&G(Ze,Je,Ke,ft);bt<dt;){for(G(Ze,Je,bt,dt),bt++,dt--;Je[2*bt+ot]<yt;)bt++;for(;Je[2*dt+ot]>yt;)dt--}Je[2*Ke+ot]===yt?G(Ze,Je,Ke,dt):G(Ze,Je,++dt,ft),dt<=qe&&(Ke=dt+1),qe<=dt&&(ft=dt-1)}}function G(Ze,Je,qe,Ke){ie(Ze,qe,Ke),ie(Je,2*qe,2*Ke),ie(Je,2*qe+1,2*Ke+1)}function ie(Ze,Je,qe){var Ke=Ze[Je];Ze[Je]=Ze[qe],Ze[qe]=Ke}function re(Ze,Je,qe,Ke){var ft=Ze-qe,ot=Je-Ke;return ft*ft+ot*ot}p.fromVectorTileJs=L,p.fromGeojsonVt=M,p.GeoJSONWrapper=C;var te=function(Ze){return Ze[0]},K=function(Ze){return Ze[1]},J=function(Ze,Je,qe,Ke,ft){Je===void 0&&(Je=te),qe===void 0&&(qe=K),Ke===void 0&&(Ke=64),ft===void 0&&(ft=Float64Array),this.nodeSize=Ke,this.points=Ze;for(var ot=Ze.length<65536?Uint16Array:Uint32Array,Ue=this.ids=new ot(Ze.length),Ve=this.coords=new ft(2*Ze.length),st=0;st<Ze.length;st++)Ue[st]=st,Ve[2*st]=Je(Ze[st]),Ve[2*st+1]=qe(Ze[st]);j(Ue,Ve,Ke,0,Ue.length-1,0)};J.prototype.range=function(Ze,Je,qe,Ke){return function(ft,ot,Ue,Ve,st,Xe,gt){for(var yt,bt,dt=[0,ft.length-1,0],Lt=[];dt.length;){var wt=dt.pop(),Ct=dt.pop(),Rt=dt.pop();if(Ct-Rt<=gt)for(var Dt=Rt;Dt<=Ct;Dt++)yt=ot[2*Dt],bt=ot[2*Dt+1],yt>=Ue&&yt<=st&&bt>=Ve&&bt<=Xe&&Lt.push(ft[Dt]);else{var Nt=Math.floor((Rt+Ct)/2);yt=ot[2*Nt],bt=ot[2*Nt+1],yt>=Ue&&yt<=st&&bt>=Ve&&bt<=Xe&&Lt.push(ft[Nt]);var Xt=(wt+1)%2;(wt===0?Ue<=yt:Ve<=bt)&&(dt.push(Rt),dt.push(Nt-1),dt.push(Xt)),(wt===0?st>=yt:Xe>=bt)&&(dt.push(Nt+1),dt.push(Ct),dt.push(Xt))}}return Lt}(this.ids,this.coords,Ze,Je,qe,Ke,this.nodeSize)},J.prototype.within=function(Ze,Je,qe){return function(Ke,ft,ot,Ue,Ve,st){for(var Xe=[0,Ke.length-1,0],gt=[],yt=Ve*Ve;Xe.length;){var bt=Xe.pop(),dt=Xe.pop(),Lt=Xe.pop();if(dt-Lt<=st)for(var wt=Lt;wt<=dt;wt++)re(ft[2*wt],ft[2*wt+1],ot,Ue)<=yt&&gt.push(Ke[wt]);else{var Ct=Math.floor((Lt+dt)/2),Rt=ft[2*Ct],Dt=ft[2*Ct+1];re(Rt,Dt,ot,Ue)<=yt&&gt.push(Ke[Ct]);var Nt=(bt+1)%2;(bt===0?ot-Ve<=Rt:Ue-Ve<=Dt)&&(Xe.push(Lt),Xe.push(Ct-1),Xe.push(Nt)),(bt===0?ot+Ve>=Rt:Ue+Ve>=Dt)&&(Xe.push(Ct+1),Xe.push(dt),Xe.push(Nt))}}return gt}(this.ids,this.coords,Ze,Je,qe,this.nodeSize)};var $={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(Ze){return Ze}},ae=function(Ze){this.options=we(Object.create($),Ze),this.trees=new Array(this.options.maxZoom+1)};function ue(Ze,Je,qe,Ke,ft){return{x:Ze,y:Je,zoom:1/0,id:qe,parentId:-1,numPoints:Ke,properties:ft}}function ce(Ze,Je){var qe=Ze.geometry.coordinates,Ke=qe[0],ft=qe[1];return{x:me(Ke),y:be(ft),zoom:1/0,index:Je,parentId:-1}}function de(Ze){return{type:"Feature",id:Ze.id,properties:pe(Ze),geometry:{type:"Point",coordinates:[(Ke=Ze.x,360*(Ke-.5)),(Je=Ze.y,qe=(180-360*Je)*Math.PI/180,360*Math.atan(Math.exp(qe))/Math.PI-90)]}};var Je,qe,Ke}function pe(Ze){var Je=Ze.numPoints,qe=Je>=1e4?Math.round(Je/1e3)+"k":Je>=1e3?Math.round(Je/100)/10+"k":Je;return we(we({},Ze.properties),{cluster:!0,cluster_id:Ze.id,point_count:Je,point_count_abbreviated:qe})}function me(Ze){return Ze/360+.5}function be(Ze){var Je=Math.sin(Ze*Math.PI/180),qe=.5-.25*Math.log((1+Je)/(1-Je))/Math.PI;return qe<0?0:qe>1?1:qe}function we(Ze,Je){for(var qe in Je)Ze[qe]=Je[qe];return Ze}function Te(Ze){return Ze.x}function Le(Ze){return Ze.y}function Ie(Ze,Je,qe,Ke){for(var ft,ot=Ke,Ue=qe-Je>>1,Ve=qe-Je,st=Ze[Je],Xe=Ze[Je+1],gt=Ze[qe],yt=Ze[qe+1],bt=Je+3;bt<qe;bt+=3){var dt=_e(Ze[bt],Ze[bt+1],st,Xe,gt,yt);if(dt>ot)ft=bt,ot=dt;else if(dt===ot){var Lt=Math.abs(bt-Ue);Lt<Ve&&(ft=bt,Ve=Lt)}}ot>Ke&&(ft-Je>3&&Ie(Ze,Je,ft,Ke),Ze[ft+2]=ot,qe-ft>3&&Ie(Ze,ft,qe,Ke))}function _e(Ze,Je,qe,Ke,ft,ot){var Ue=ft-qe,Ve=ot-Ke;if(Ue!==0||Ve!==0){var st=((Ze-qe)*Ue+(Je-Ke)*Ve)/(Ue*Ue+Ve*Ve);st>1?(qe=ft,Ke=ot):st>0&&(qe+=Ue*st,Ke+=Ve*st)}return(Ue=Ze-qe)*Ue+(Ve=Je-Ke)*Ve}function fe(Ze,Je,qe,Ke){var ft={id:Ze===void 0?null:Ze,type:Je,geometry:qe,tags:Ke,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(ot){var Ue=ot.geometry,Ve=ot.type;if(Ve==="Point"||Ve==="MultiPoint"||Ve==="LineString")le(ot,Ue);else if(Ve==="Polygon"||Ve==="MultiLineString")for(var st=0;st<Ue.length;st++)le(ot,Ue[st]);else if(Ve==="MultiPolygon")for(st=0;st<Ue.length;st++)for(var Xe=0;Xe<Ue[st].length;Xe++)le(ot,Ue[st][Xe])}(ft),ft}function le(Ze,Je){for(var qe=0;qe<Je.length;qe+=3)Ze.minX=Math.min(Ze.minX,Je[qe]),Ze.minY=Math.min(Ze.minY,Je[qe+1]),Ze.maxX=Math.max(Ze.maxX,Je[qe]),Ze.maxY=Math.max(Ze.maxY,Je[qe+1])}function ye(Ze,Je,qe,Ke){if(Je.geometry){var ft=Je.geometry.coordinates,ot=Je.geometry.type,Ue=Math.pow(qe.tolerance/((1<<qe.maxZoom)*qe.extent),2),Ve=[],st=Je.id;if(qe.promoteId?st=Je.properties[qe.promoteId]:qe.generateId&&(st=Ke||0),ot==="Point")Oe(ft,Ve);else if(ot==="MultiPoint")for(var Xe=0;Xe<ft.length;Xe++)Oe(ft[Xe],Ve);else if(ot==="LineString")Ae(ft,Ve,Ue,!1);else if(ot==="MultiLineString"){if(qe.lineMetrics){for(Xe=0;Xe<ft.length;Xe++)Ve=[],Ae(ft[Xe],Ve,Ue,!1),Ze.push(fe(st,"LineString",Ve,Je.properties));return}Se(ft,Ve,Ue,!1)}else if(ot==="Polygon")Se(ft,Ve,Ue,!0);else{if(ot!=="MultiPolygon"){if(ot==="GeometryCollection"){for(Xe=0;Xe<Je.geometry.geometries.length;Xe++)ye(Ze,{id:st,geometry:Je.geometry.geometries[Xe],properties:Je.properties},qe,Ke);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Xe=0;Xe<ft.length;Xe++){var gt=[];Se(ft[Xe],gt,Ue,!0),Ve.push(gt)}}Ze.push(fe(st,ot,Ve,Je.properties))}}function Oe(Ze,Je){Je.push(Pe(Ze[0])),Je.push(Fe(Ze[1])),Je.push(0)}function Ae(Ze,Je,qe,Ke){for(var ft,ot,Ue=0,Ve=0;Ve<Ze.length;Ve++){var st=Pe(Ze[Ve][0]),Xe=Fe(Ze[Ve][1]);Je.push(st),Je.push(Xe),Je.push(0),Ve>0&&(Ue+=Ke?(ft*Xe-st*ot)/2:Math.sqrt(Math.pow(st-ft,2)+Math.pow(Xe-ot,2))),ft=st,ot=Xe}var gt=Je.length-3;Je[2]=1,Ie(Je,0,gt,qe),Je[gt+2]=1,Je.size=Math.abs(Ue),Je.start=0,Je.end=Je.size}function Se(Ze,Je,qe,Ke){for(var ft=0;ft<Ze.length;ft++){var ot=[];Ae(Ze[ft],ot,qe,Ke),Je.push(ot)}}function Pe(Ze){return Ze/360+.5}function Fe(Ze){var Je=Math.sin(Ze*Math.PI/180),qe=.5-.25*Math.log((1+Je)/(1-Je))/Math.PI;return qe<0?0:qe>1?1:qe}function Be(Ze,Je,qe,Ke,ft,ot,Ue,Ve){if(Ke/=Je,ot>=(qe/=Je)&&Ue<Ke)return Ze;if(Ue<qe||ot>=Ke)return null;for(var st=[],Xe=0;Xe<Ze.length;Xe++){var gt=Ze[Xe],yt=gt.geometry,bt=gt.type,dt=ft===0?gt.minX:gt.minY,Lt=ft===0?gt.maxX:gt.maxY;if(dt>=qe&&Lt<Ke)st.push(gt);else if(!(Lt<qe||dt>=Ke)){var wt=[];if(bt==="Point"||bt==="MultiPoint")xe(yt,wt,qe,Ke,ft);else if(bt==="LineString")Me(yt,wt,qe,Ke,ft,!1,Ve.lineMetrics);else if(bt==="MultiLineString")Ne(yt,wt,qe,Ke,ft,!1);else if(bt==="Polygon")Ne(yt,wt,qe,Ke,ft,!0);else if(bt==="MultiPolygon")for(var Ct=0;Ct<yt.length;Ct++){var Rt=[];Ne(yt[Ct],Rt,qe,Ke,ft,!0),Rt.length&&wt.push(Rt)}if(wt.length){if(Ve.lineMetrics&&bt==="LineString"){for(Ct=0;Ct<wt.length;Ct++)st.push(fe(gt.id,bt,wt[Ct],gt.tags));continue}bt!=="LineString"&&bt!=="MultiLineString"||(wt.length===1?(bt="LineString",wt=wt[0]):bt="MultiLineString"),bt!=="Point"&&bt!=="MultiPoint"||(bt=wt.length===3?"Point":"MultiPoint"),st.push(fe(gt.id,bt,wt,gt.tags))}}}return st.length?st:null}function xe(Ze,Je,qe,Ke,ft){for(var ot=0;ot<Ze.length;ot+=3){var Ue=Ze[ot+ft];Ue>=qe&&Ue<=Ke&&(Je.push(Ze[ot]),Je.push(Ze[ot+1]),Je.push(Ze[ot+2]))}}function Me(Ze,Je,qe,Ke,ft,ot,Ue){for(var Ve,st,Xe=Ce(Ze),gt=ft===0?He:Ye,yt=Ze.start,bt=0;bt<Ze.length-3;bt+=3){var dt=Ze[bt],Lt=Ze[bt+1],wt=Ze[bt+2],Ct=Ze[bt+3],Rt=Ze[bt+4],Dt=ft===0?dt:Lt,Nt=ft===0?Ct:Rt,Xt=!1;Ue&&(Ve=Math.sqrt(Math.pow(dt-Ct,2)+Math.pow(Lt-Rt,2))),Dt<qe?Nt>qe&&(st=gt(Xe,dt,Lt,Ct,Rt,qe),Ue&&(Xe.start=yt+Ve*st)):Dt>Ke?Nt<Ke&&(st=gt(Xe,dt,Lt,Ct,Rt,Ke),Ue&&(Xe.start=yt+Ve*st)):Re(Xe,dt,Lt,wt),Nt<qe&&Dt>=qe&&(st=gt(Xe,dt,Lt,Ct,Rt,qe),Xt=!0),Nt>Ke&&Dt<=Ke&&(st=gt(Xe,dt,Lt,Ct,Rt,Ke),Xt=!0),!ot&&Xt&&(Ue&&(Xe.end=yt+Ve*st),Je.push(Xe),Xe=Ce(Ze)),Ue&&(yt+=Ve)}var un=Ze.length-3;dt=Ze[un],Lt=Ze[un+1],wt=Ze[un+2],(Dt=ft===0?dt:Lt)>=qe&&Dt<=Ke&&Re(Xe,dt,Lt,wt),un=Xe.length-3,ot&&un>=3&&(Xe[un]!==Xe[0]||Xe[un+1]!==Xe[1])&&Re(Xe,Xe[0],Xe[1],Xe[2]),Xe.length&&Je.push(Xe)}function Ce(Ze){var Je=[];return Je.size=Ze.size,Je.start=Ze.start,Je.end=Ze.end,Je}function Ne(Ze,Je,qe,Ke,ft,ot){for(var Ue=0;Ue<Ze.length;Ue++)Me(Ze[Ue],Je,qe,Ke,ft,ot,!1)}function Re(Ze,Je,qe,Ke){Ze.push(Je),Ze.push(qe),Ze.push(Ke)}function He(Ze,Je,qe,Ke,ft,ot){var Ue=(ot-Je)/(Ke-Je);return Ze.push(ot),Ze.push(qe+(ft-qe)*Ue),Ze.push(1),Ue}function Ye(Ze,Je,qe,Ke,ft,ot){var Ue=(ot-qe)/(ft-qe);return Ze.push(Je+(Ke-Je)*Ue),Ze.push(ot),Ze.push(1),Ue}function Qe(Ze,Je){for(var qe=[],Ke=0;Ke<Ze.length;Ke++){var ft,ot=Ze[Ke],Ue=ot.type;if(Ue==="Point"||Ue==="MultiPoint"||Ue==="LineString")ft=lt(ot.geometry,Je);else if(Ue==="MultiLineString"||Ue==="Polygon"){ft=[];for(var Ve=0;Ve<ot.geometry.length;Ve++)ft.push(lt(ot.geometry[Ve],Je))}else if(Ue==="MultiPolygon")for(ft=[],Ve=0;Ve<ot.geometry.length;Ve++){for(var st=[],Xe=0;Xe<ot.geometry[Ve].length;Xe++)st.push(lt(ot.geometry[Ve][Xe],Je));ft.push(st)}qe.push(fe(ot.id,Ue,ft,ot.tags))}return qe}function lt(Ze,Je){var qe=[];qe.size=Ze.size,Ze.start!==void 0&&(qe.start=Ze.start,qe.end=Ze.end);for(var Ke=0;Ke<Ze.length;Ke+=3)qe.push(Ze[Ke]+Je,Ze[Ke+1],Ze[Ke+2]);return qe}function ut(Ze,Je){if(Ze.transformed)return Ze;var qe,Ke,ft,ot=1<<Ze.z,Ue=Ze.x,Ve=Ze.y;for(qe=0;qe<Ze.features.length;qe++){var st=Ze.features[qe],Xe=st.geometry,gt=st.type;if(st.geometry=[],gt===1)for(Ke=0;Ke<Xe.length;Ke+=2)st.geometry.push(xt(Xe[Ke],Xe[Ke+1],Je,ot,Ue,Ve));else for(Ke=0;Ke<Xe.length;Ke++){var yt=[];for(ft=0;ft<Xe[Ke].length;ft+=2)yt.push(xt(Xe[Ke][ft],Xe[Ke][ft+1],Je,ot,Ue,Ve));st.geometry.push(yt)}}return Ze.transformed=!0,Ze}function xt(Ze,Je,qe,Ke,ft,ot){return[Math.round(qe*(Ze*Ke-ft)),Math.round(qe*(Je*Ke-ot))]}function _t(Ze,Je,qe,Ke,ft){for(var ot=Je===ft.maxZoom?0:ft.tolerance/((1<<Je)*ft.extent),Ue={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:qe,y:Ke,z:Je,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ve=0;Ve<Ze.length;Ve++){Ue.numFeatures++,mt(Ue,Ze[Ve],ot,ft);var st=Ze[Ve].minX,Xe=Ze[Ve].minY,gt=Ze[Ve].maxX,yt=Ze[Ve].maxY;st<Ue.minX&&(Ue.minX=st),Xe<Ue.minY&&(Ue.minY=Xe),gt>Ue.maxX&&(Ue.maxX=gt),yt>Ue.maxY&&(Ue.maxY=yt)}return Ue}function mt(Ze,Je,qe,Ke){var ft=Je.geometry,ot=Je.type,Ue=[];if(ot==="Point"||ot==="MultiPoint")for(var Ve=0;Ve<ft.length;Ve+=3)Ue.push(ft[Ve]),Ue.push(ft[Ve+1]),Ze.numPoints++,Ze.numSimplified++;else if(ot==="LineString")it(Ue,ft,Ze,qe,!1,!1);else if(ot==="MultiLineString"||ot==="Polygon")for(Ve=0;Ve<ft.length;Ve++)it(Ue,ft[Ve],Ze,qe,ot==="Polygon",Ve===0);else if(ot==="MultiPolygon")for(var st=0;st<ft.length;st++){var Xe=ft[st];for(Ve=0;Ve<Xe.length;Ve++)it(Ue,Xe[Ve],Ze,qe,!0,Ve===0)}if(Ue.length){var gt=Je.tags||null;if(ot==="LineString"&&Ke.lineMetrics){for(var yt in gt={},Je.tags)gt[yt]=Je.tags[yt];gt.mapbox_clip_start=ft.start/ft.size,gt.mapbox_clip_end=ft.end/ft.size}var bt={geometry:Ue,type:ot==="Polygon"||ot==="MultiPolygon"?3:ot==="LineString"||ot==="MultiLineString"?2:1,tags:gt};Je.id!==null&&(bt.id=Je.id),Ze.features.push(bt)}}function it(Ze,Je,qe,Ke,ft,ot){var Ue=Ke*Ke;if(Ke>0&&Je.size<(ft?Ue:Ke))qe.numPoints+=Je.length/3;else{for(var Ve=[],st=0;st<Je.length;st+=3)(Ke===0||Je[st+2]>Ue)&&(qe.numSimplified++,Ve.push(Je[st]),Ve.push(Je[st+1])),qe.numPoints++;ft&&function(Xe,gt){for(var yt=0,bt=0,dt=Xe.length,Lt=dt-2;bt<dt;Lt=bt,bt+=2)yt+=(Xe[bt]-Xe[Lt])*(Xe[bt+1]+Xe[Lt+1]);if(yt>0===gt)for(bt=0,dt=Xe.length;bt<dt/2;bt+=2){var wt=Xe[bt],Ct=Xe[bt+1];Xe[bt]=Xe[dt-2-bt],Xe[bt+1]=Xe[dt-1-bt],Xe[dt-2-bt]=wt,Xe[dt-1-bt]=Ct}}(Ve,ot),Ze.push(Ve)}}function nt(Ze,Je){var qe=(Je=this.options=function(ft,ot){for(var Ue in ot)ft[Ue]=ot[Ue];return ft}(Object.create(this.options),Je)).debug;if(qe&&console.time("preprocess data"),Je.maxZoom<0||Je.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Je.promoteId&&Je.generateId)throw new Error("promoteId and generateId cannot be used together.");var Ke=function(ft,ot){var Ue=[];if(ft.type==="FeatureCollection")for(var Ve=0;Ve<ft.features.length;Ve++)ye(Ue,ft.features[Ve],ot,Ve);else ft.type==="Feature"?ye(Ue,ft,ot):ye(Ue,{geometry:ft},ot);return Ue}(Ze,Je);this.tiles={},this.tileCoords=[],qe&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Je.indexMaxZoom,Je.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(Ke=function(ft,ot){var Ue=ot.buffer/ot.extent,Ve=ft,st=Be(ft,1,-1-Ue,Ue,0,-1,2,ot),Xe=Be(ft,1,1-Ue,2+Ue,0,-1,2,ot);return(st||Xe)&&(Ve=Be(ft,1,-Ue,1+Ue,0,-1,2,ot)||[],st&&(Ve=Qe(st,1).concat(Ve)),Xe&&(Ve=Ve.concat(Qe(Xe,-1)))),Ve}(Ke,Je)).length&&this.splitTile(Ke,0,0,0),qe&&(Ke.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Et(Ze,Je,qe){return 32*((1<<Ze)*qe+Je)+Ze}function zt(Ze,Je){var qe=Ze.tileID.canonical;if(!this._geoJSONIndex)return Je(null,null);var Ke=this._geoJSONIndex.getTile(qe.z,qe.x,qe.y);if(!Ke)return Je(null,null);var ft=new y(Ke.features),ot=p(ft);ot.byteOffset===0&&ot.byteLength===ot.buffer.byteLength||(ot=new Uint8Array(ot)),Je(null,{vectorTile:ft,rawData:ot.buffer})}ae.prototype.load=function(Ze){var Je=this.options,qe=Je.log,Ke=Je.minZoom,ft=Je.maxZoom,ot=Je.nodeSize;qe&&console.time("total time");var Ue="prepare "+Ze.length+" points";qe&&console.time(Ue),this.points=Ze;for(var Ve=[],st=0;st<Ze.length;st++)Ze[st].geometry&&Ve.push(ce(Ze[st],st));this.trees[ft+1]=new J(Ve,Te,Le,ot,Float32Array),qe&&console.timeEnd(Ue);for(var Xe=ft;Xe>=Ke;Xe--){var gt=+Date.now();Ve=this._cluster(Ve,Xe),this.trees[Xe]=new J(Ve,Te,Le,ot,Float32Array),qe&&console.log("z%d: %d clusters in %dms",Xe,Ve.length,+Date.now()-gt)}return qe&&console.timeEnd("total time"),this},ae.prototype.getClusters=function(Ze,Je){var qe=((Ze[0]+180)%360+360)%360-180,Ke=Math.max(-90,Math.min(90,Ze[1])),ft=Ze[2]===180?180:((Ze[2]+180)%360+360)%360-180,ot=Math.max(-90,Math.min(90,Ze[3]));if(Ze[2]-Ze[0]>=360)qe=-180,ft=180;else if(qe>ft){var Ue=this.getClusters([qe,Ke,180,ot],Je),Ve=this.getClusters([-180,Ke,ft,ot],Je);return Ue.concat(Ve)}for(var st=this.trees[this._limitZoom(Je)],Xe=[],gt=0,yt=st.range(me(qe),be(ot),me(ft),be(Ke));gt<yt.length;gt+=1){var bt=yt[gt],dt=st.points[bt];Xe.push(dt.numPoints?de(dt):this.points[dt.index])}return Xe},ae.prototype.getChildren=function(Ze){var Je=this._getOriginId(Ze),qe=this._getOriginZoom(Ze),Ke="No cluster with the specified id.",ft=this.trees[qe];if(!ft)throw new Error(Ke);var ot=ft.points[Je];if(!ot)throw new Error(Ke);for(var Ue=this.options.radius/(this.options.extent*Math.pow(2,qe-1)),Ve=[],st=0,Xe=ft.within(ot.x,ot.y,Ue);st<Xe.length;st+=1){var gt=Xe[st],yt=ft.points[gt];yt.parentId===Ze&&Ve.push(yt.numPoints?de(yt):this.points[yt.index])}if(Ve.length===0)throw new Error(Ke);return Ve},ae.prototype.getLeaves=function(Ze,Je,qe){Je=Je||10,qe=qe||0;var Ke=[];return this._appendLeaves(Ke,Ze,Je,qe,0),Ke},ae.prototype.getTile=function(Ze,Je,qe){var Ke=this.trees[this._limitZoom(Ze)],ft=Math.pow(2,Ze),ot=this.options,Ue=ot.extent,Ve=ot.radius/Ue,st=(qe-Ve)/ft,Xe=(qe+1+Ve)/ft,gt={features:[]};return this._addTileFeatures(Ke.range((Je-Ve)/ft,st,(Je+1+Ve)/ft,Xe),Ke.points,Je,qe,ft,gt),Je===0&&this._addTileFeatures(Ke.range(1-Ve/ft,st,1,Xe),Ke.points,ft,qe,ft,gt),Je===ft-1&&this._addTileFeatures(Ke.range(0,st,Ve/ft,Xe),Ke.points,-1,qe,ft,gt),gt.features.length?gt:null},ae.prototype.getClusterExpansionZoom=function(Ze){for(var Je=this._getOriginZoom(Ze)-1;Je<=this.options.maxZoom;){var qe=this.getChildren(Ze);if(Je++,qe.length!==1)break;Ze=qe[0].properties.cluster_id}return Je},ae.prototype._appendLeaves=function(Ze,Je,qe,Ke,ft){for(var ot=0,Ue=this.getChildren(Je);ot<Ue.length;ot+=1){var Ve=Ue[ot],st=Ve.properties;if(st&&st.cluster?ft+st.point_count<=Ke?ft+=st.point_count:ft=this._appendLeaves(Ze,st.cluster_id,qe,Ke,ft):ft<Ke?ft++:Ze.push(Ve),Ze.length===qe)break}return ft},ae.prototype._addTileFeatures=function(Ze,Je,qe,Ke,ft,ot){for(var Ue=0,Ve=Ze;Ue<Ve.length;Ue+=1){var st=Je[Ve[Ue]],Xe=st.numPoints,gt={type:1,geometry:[[Math.round(this.options.extent*(st.x*ft-qe)),Math.round(this.options.extent*(st.y*ft-Ke))]],tags:Xe?pe(st):this.points[st.index].properties},yt=void 0;Xe?yt=st.id:this.options.generateId?yt=st.index:this.points[st.index].id&&(yt=this.points[st.index].id),yt!==void 0&&(gt.id=yt),ot.features.push(gt)}},ae.prototype._limitZoom=function(Ze){return Math.max(this.options.minZoom,Math.min(+Ze,this.options.maxZoom+1))},ae.prototype._cluster=function(Ze,Je){for(var qe=[],Ke=this.options,ft=Ke.radius,ot=Ke.extent,Ue=Ke.reduce,Ve=Ke.minPoints,st=ft/(ot*Math.pow(2,Je)),Xe=0;Xe<Ze.length;Xe++){var gt=Ze[Xe];if(!(gt.zoom<=Je)){gt.zoom=Je;for(var yt=this.trees[Je+1],bt=yt.within(gt.x,gt.y,st),dt=gt.numPoints||1,Lt=dt,wt=0,Ct=bt;wt<Ct.length;wt+=1){var Rt=Ct[wt],Dt=yt.points[Rt];Dt.zoom>Je&&(Lt+=Dt.numPoints||1)}if(Lt>=Ve){for(var Nt=gt.x*dt,Xt=gt.y*dt,un=Ue&&dt>1?this._map(gt,!0):null,qt=(Xe<<5)+(Je+1)+this.points.length,Kt=0,Ut=bt;Kt<Ut.length;Kt+=1){var Rn=Ut[Kt],An=yt.points[Rn];if(!(An.zoom<=Je)){An.zoom=Je;var mn=An.numPoints||1;Nt+=An.x*mn,Xt+=An.y*mn,An.parentId=qt,Ue&&(un||(un=this._map(gt,!0)),Ue(un,this._map(An)))}}gt.parentId=qt,qe.push(ue(Nt/Lt,Xt/Lt,qt,Lt,un))}else if(qe.push(gt),Lt>1)for(var tn=0,fn=bt;tn<fn.length;tn+=1){var rn=fn[tn],pn=yt.points[rn];pn.zoom<=Je||(pn.zoom=Je,qe.push(pn))}}}return qe},ae.prototype._getOriginId=function(Ze){return Ze-this.points.length>>5},ae.prototype._getOriginZoom=function(Ze){return(Ze-this.points.length)%32},ae.prototype._map=function(Ze,Je){if(Ze.numPoints)return Je?we({},Ze.properties):Ze.properties;var qe=this.points[Ze.index].properties,Ke=this.options.map(qe);return Je&&Ke===qe?we({},Ke):Ke},nt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},nt.prototype.splitTile=function(Ze,Je,qe,Ke,ft,ot,Ue){for(var Ve=[Ze,Je,qe,Ke],st=this.options,Xe=st.debug;Ve.length;){Ke=Ve.pop(),qe=Ve.pop(),Je=Ve.pop(),Ze=Ve.pop();var gt=1<<Je,yt=Et(Je,qe,Ke),bt=this.tiles[yt];if(!bt&&(Xe>1&&console.time("creation"),bt=this.tiles[yt]=_t(Ze,Je,qe,Ke,st),this.tileCoords.push({z:Je,x:qe,y:Ke}),Xe)){Xe>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Je,qe,Ke,bt.numFeatures,bt.numPoints,bt.numSimplified),console.timeEnd("creation"));var dt="z"+Je;this.stats[dt]=(this.stats[dt]||0)+1,this.total++}if(bt.source=Ze,ft){if(Je===st.maxZoom||Je===ft)continue;var Lt=1<<ft-Je;if(qe!==Math.floor(ot/Lt)||Ke!==Math.floor(Ue/Lt))continue}else if(Je===st.indexMaxZoom||bt.numPoints<=st.indexMaxPoints)continue;if(bt.source=null,Ze.length!==0){Xe>1&&console.time("clipping");var wt,Ct,Rt,Dt,Nt,Xt,un=.5*st.buffer/st.extent,qt=.5-un,Kt=.5+un,Ut=1+un;wt=Ct=Rt=Dt=null,Nt=Be(Ze,gt,qe-un,qe+Kt,0,bt.minX,bt.maxX,st),Xt=Be(Ze,gt,qe+qt,qe+Ut,0,bt.minX,bt.maxX,st),Ze=null,Nt&&(wt=Be(Nt,gt,Ke-un,Ke+Kt,1,bt.minY,bt.maxY,st),Ct=Be(Nt,gt,Ke+qt,Ke+Ut,1,bt.minY,bt.maxY,st),Nt=null),Xt&&(Rt=Be(Xt,gt,Ke-un,Ke+Kt,1,bt.minY,bt.maxY,st),Dt=Be(Xt,gt,Ke+qt,Ke+Ut,1,bt.minY,bt.maxY,st),Xt=null),Xe>1&&console.timeEnd("clipping"),Ve.push(wt||[],Je+1,2*qe,2*Ke),Ve.push(Ct||[],Je+1,2*qe,2*Ke+1),Ve.push(Rt||[],Je+1,2*qe+1,2*Ke),Ve.push(Dt||[],Je+1,2*qe+1,2*Ke+1)}}},nt.prototype.getTile=function(Ze,Je,qe){var Ke=this.options,ft=Ke.extent,ot=Ke.debug;if(Ze<0||Ze>24)return null;var Ue=1<<Ze,Ve=Et(Ze,Je=(Je%Ue+Ue)%Ue,qe);if(this.tiles[Ve])return ut(this.tiles[Ve],ft);ot>1&&console.log("drilling down to z%d-%d-%d",Ze,Je,qe);for(var st,Xe=Ze,gt=Je,yt=qe;!st&&Xe>0;)Xe--,gt=Math.floor(gt/2),yt=Math.floor(yt/2),st=this.tiles[Et(Xe,gt,yt)];return st&&st.source?(ot>1&&console.log("found parent tile z%d-%d-%d",Xe,gt,yt),ot>1&&console.time("drilling down"),this.splitTile(st.source,Xe,gt,yt,Ze,Je,qe),ot>1&&console.timeEnd("drilling down"),this.tiles[Ve]?ut(this.tiles[Ve],ft):null):null};var Ft=function(Ze){function Je(qe,Ke,ft,ot){Ze.call(this,qe,Ke,ft,zt),ot&&(this.loadGeoJSON=ot)}return Ze&&(Je.__proto__=Ze),Je.prototype=Object.create(Ze&&Ze.prototype),Je.prototype.constructor=Je,Je.prototype.loadData=function(qe,Ke){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Ke,this._pendingLoadDataParams=qe,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},Je.prototype._loadData=function(){var qe=this;if(this._pendingCallback&&this._pendingLoadDataParams){var Ke=this._pendingCallback,ft=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var ot=!!(ft&&ft.request&&ft.request.collectResourceTiming)&&new t.RequestPerformance(ft.request);this.loadGeoJSON(ft,function(Ue,Ve){if(Ue||!Ve)return Ke(Ue);if(typeof Ve!="object")return Ke(new Error("Input data given to '"+ft.source+"' is not a valid GeoJSON object."));u(Ve,!0);try{if(ft.filter){var st=t.createExpression(ft.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(st.result==="error")throw new Error(st.value.map(function(bt){return bt.key+": "+bt.message}).join(", "));var Xe=Ve.features.filter(function(bt){return st.value.evaluate({zoom:0},bt)});Ve={type:"FeatureCollection",features:Xe}}qe._geoJSONIndex=ft.cluster?new ae(function(bt){var dt=bt.superclusterOptions,Lt=bt.clusterProperties;if(!Lt||!dt)return dt;for(var wt={},Ct={},Rt={accumulated:null,zoom:0},Dt={properties:null},Nt=Object.keys(Lt),Xt=0,un=Nt;Xt<un.length;Xt+=1){var qt=un[Xt],Kt=Lt[qt],Ut=Kt[0],Rn=Kt[1],An=t.createExpression(Rn),mn=t.createExpression(typeof Ut=="string"?[Ut,["accumulated"],["get",qt]]:Ut);wt[qt]=An.value,Ct[qt]=mn.value}return dt.map=function(tn){Dt.properties=tn;for(var fn={},rn=0,pn=Nt;rn<pn.length;rn+=1){var wn=pn[rn];fn[wn]=wt[wn].evaluate(Rt,Dt)}return fn},dt.reduce=function(tn,fn){Dt.properties=fn;for(var rn=0,pn=Nt;rn<pn.length;rn+=1){var wn=pn[rn];Rt.accumulated=tn[wn],tn[wn]=Ct[wn].evaluate(Rt,Dt)}},dt}(ft)).load(Ve.features):function(bt,dt){return new nt(bt,dt)}(Ve,ft.geojsonVtOptions)}catch(bt){return Ke(bt)}qe.loaded={};var gt={};if(ot){var yt=ot.finish();yt&&(gt.resourceTiming={},gt.resourceTiming[ft.source]=JSON.parse(JSON.stringify(yt)))}Ke(null,gt)})}},Je.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},Je.prototype.reloadTile=function(qe,Ke){var ft=this.loaded,ot=qe.uid;return ft&&ft[ot]?Ze.prototype.reloadTile.call(this,qe,Ke):this.loadTile(qe,Ke)},Je.prototype.loadGeoJSON=function(qe,Ke){if(qe.request)t.getJSON(qe.request,Ke);else{if(typeof qe.data!="string")return Ke(new Error("Input data given to '"+qe.source+"' is not a valid GeoJSON object."));try{return Ke(null,JSON.parse(qe.data))}catch{return Ke(new Error("Input data given to '"+qe.source+"' is not a valid GeoJSON object."))}}},Je.prototype.removeSource=function(qe,Ke){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Ke()},Je.prototype.getClusterExpansionZoom=function(qe,Ke){try{Ke(null,this._geoJSONIndex.getClusterExpansionZoom(qe.clusterId))}catch(ft){Ke(ft)}},Je.prototype.getClusterChildren=function(qe,Ke){try{Ke(null,this._geoJSONIndex.getChildren(qe.clusterId))}catch(ft){Ke(ft)}},Je.prototype.getClusterLeaves=function(qe,Ke){try{Ke(null,this._geoJSONIndex.getLeaves(qe.clusterId,qe.limit,qe.offset))}catch(ft){Ke(ft)}},Je}(r),Pt=function(Ze){var Je=this;this.self=Ze,this.actor=new t.Actor(Ze,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:r,geojson:Ft},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(qe,Ke){if(Je.workerSourceTypes[qe])throw new Error('Worker source with name "'+qe+'" already registered.');Je.workerSourceTypes[qe]=Ke},this.self.registerRTLTextPlugin=function(qe){if(t.plugin.isParsed())throw new Error("RTL text plugin already registered.");t.plugin.applyArabicShaping=qe.applyArabicShaping,t.plugin.processBidirectionalText=qe.processBidirectionalText,t.plugin.processStyledBidirectionalText=qe.processStyledBidirectionalText}};return Pt.prototype.setReferrer=function(Ze,Je){this.referrer=Je},Pt.prototype.setImages=function(Ze,Je,qe){for(var Ke in this.availableImages[Ze]=Je,this.workerSources[Ze]){var ft=this.workerSources[Ze][Ke];for(var ot in ft)ft[ot].availableImages=Je}qe()},Pt.prototype.setLayers=function(Ze,Je,qe){this.getLayerIndex(Ze).replace(Je),qe()},Pt.prototype.updateLayers=function(Ze,Je,qe){this.getLayerIndex(Ze).update(Je.layers,Je.removedIds),qe()},Pt.prototype.loadTile=function(Ze,Je,qe){this.getWorkerSource(Ze,Je.type,Je.source).loadTile(Je,qe)},Pt.prototype.loadDEMTile=function(Ze,Je,qe){this.getDEMWorkerSource(Ze,Je.source).loadTile(Je,qe)},Pt.prototype.reloadTile=function(Ze,Je,qe){this.getWorkerSource(Ze,Je.type,Je.source).reloadTile(Je,qe)},Pt.prototype.abortTile=function(Ze,Je,qe){this.getWorkerSource(Ze,Je.type,Je.source).abortTile(Je,qe)},Pt.prototype.removeTile=function(Ze,Je,qe){this.getWorkerSource(Ze,Je.type,Je.source).removeTile(Je,qe)},Pt.prototype.removeDEMTile=function(Ze,Je){this.getDEMWorkerSource(Ze,Je.source).removeTile(Je)},Pt.prototype.removeSource=function(Ze,Je,qe){if(this.workerSources[Ze]&&this.workerSources[Ze][Je.type]&&this.workerSources[Ze][Je.type][Je.source]){var Ke=this.workerSources[Ze][Je.type][Je.source];delete this.workerSources[Ze][Je.type][Je.source],Ke.removeSource!==void 0?Ke.removeSource(Je,qe):qe()}},Pt.prototype.loadWorkerSource=function(Ze,Je,qe){try{this.self.importScripts(Je.url),qe()}catch(Ke){qe(Ke.toString())}},Pt.prototype.syncRTLPluginState=function(Ze,Je,qe){try{t.plugin.setState(Je);var Ke=t.plugin.getPluginURL();if(t.plugin.isLoaded()&&!t.plugin.isParsed()&&Ke!=null){this.self.importScripts(Ke);var ft=t.plugin.isParsed();qe(ft?void 0:new Error("RTL Text Plugin failed to import scripts from "+Ke),ft)}}catch(ot){qe(ot.toString())}},Pt.prototype.getAvailableImages=function(Ze){var Je=this.availableImages[Ze];return Je||(Je=[]),Je},Pt.prototype.getLayerIndex=function(Ze){var Je=this.layerIndexes[Ze];return Je||(Je=this.layerIndexes[Ze]=new c),Je},Pt.prototype.getWorkerSource=function(Ze,Je,qe){var Ke=this;if(this.workerSources[Ze]||(this.workerSources[Ze]={}),this.workerSources[Ze][Je]||(this.workerSources[Ze][Je]={}),!this.workerSources[Ze][Je][qe]){var ft={send:function(ot,Ue,Ve){Ke.actor.send(ot,Ue,Ve,Ze)}};this.workerSources[Ze][Je][qe]=new this.workerSourceTypes[Je](ft,this.getLayerIndex(Ze),this.getAvailableImages(Ze))}return this.workerSources[Ze][Je][qe]},Pt.prototype.getDEMWorkerSource=function(Ze,Je){return this.demWorkerSources[Ze]||(this.demWorkerSources[Ze]={}),this.demWorkerSources[Ze][Je]||(this.demWorkerSources[Ze][Je]=new l),this.demWorkerSources[Ze][Je]},Pt.prototype.enforceCacheSizeLimit=function(Ze,Je){t.enforceCacheSizeLimit(Je)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new Pt(self)),Pt}),x(0,function(t){var b=t.createCommonjsModule(function(U){function Z(W){return!Y(W)}function Y(W){return typeof window<"u"&&typeof document<"u"?Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var se,ve,ke=new Blob([""],{type:"text/javascript"}),De=URL.createObjectURL(ke);try{ve=new Worker(De),se=!0}catch{se=!1}return ve&&ve.terminate(),URL.revokeObjectURL(De),se}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var se=document.createElement("canvas");se.width=se.height=1;var ve=se.getContext("2d");if(!ve)return!1;var ke=ve.getImageData(0,0,1,1);return ke&&ke.width===se.width}()?(ne=W&&W.failIfMajorPerformanceCaveat,P[ne]===void 0&&(P[ne]=function(se){var ve=function(De){var je=document.createElement("canvas"),We=Object.create(Z.webGLContextAttributes);return We.failIfMajorPerformanceCaveat=De,je.probablySupportsContext?je.probablySupportsContext("webgl",We)||je.probablySupportsContext("experimental-webgl",We):je.supportsContext?je.supportsContext("webgl",We)||je.supportsContext("experimental-webgl",We):je.getContext("webgl",We)||je.getContext("experimental-webgl",We)}(se);if(!ve)return!1;var ke=ve.createShader(ve.VERTEX_SHADER);return!(!ke||ve.isContextLost())&&(ve.shaderSource(ke,"void main() {}"),ve.compileShader(ke),ve.getShaderParameter(ke,ve.COMPILE_STATUS)===!0)}(ne)),P[ne]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support":"not a browser";var ne}U.exports?U.exports=Z:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=Z,window.mapboxgl.notSupportedReason=Y);var P={};Z.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),g={create:function(U,Z,Y){var P=t.window.document.createElement(U);return Z!==void 0&&(P.className=Z),Y&&Y.appendChild(P),P},createNS:function(U,Z){return t.window.document.createElementNS(U,Z)}},c=t.window.document&&t.window.document.documentElement.style;function s(U){if(!c)return U[0];for(var Z=0;Z<U.length;Z++)if(U[Z]in c)return U[Z];return U[0]}var n,i=s(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);g.disableDrag=function(){c&&i&&(n=c[i],c[i]="none")},g.enableDrag=function(){c&&i&&(c[i]=n)};var a=s(["transform","WebkitTransform"]);g.setTransform=function(U,Z){U.style[a]=Z};var r=!1;try{var o=Object.defineProperty({},"passive",{get:function(){r=!0}});t.window.addEventListener("test",o,o),t.window.removeEventListener("test",o,o)}catch{r=!1}g.addEventListener=function(U,Z,Y,P){P===void 0&&(P={}),"passive"in P&&r?U.addEventListener(Z,Y,P):U.addEventListener(Z,Y,P.capture)},g.removeEventListener=function(U,Z,Y,P){P===void 0&&(P={}),"passive"in P&&r?U.removeEventListener(Z,Y,P):U.removeEventListener(Z,Y,P.capture)};var l=function(U){U.preventDefault(),U.stopPropagation(),t.window.removeEventListener("click",l,!0)};function u(U){var Z=U.userImage;return!!(Z&&Z.render&&Z.render())&&(U.data.replace(new Uint8Array(Z.data.buffer)),!0)}g.suppressClick=function(){t.window.addEventListener("click",l,!0),t.window.setTimeout(function(){t.window.removeEventListener("click",l,!0)},0)},g.mousePos=function(U,Z){var Y=U.getBoundingClientRect();return new t.Point(Z.clientX-Y.left-U.clientLeft,Z.clientY-Y.top-U.clientTop)},g.touchPos=function(U,Z){for(var Y=U.getBoundingClientRect(),P=[],W=0;W<Z.length;W++)P.push(new t.Point(Z[W].clientX-Y.left-U.clientLeft,Z[W].clientY-Y.top-U.clientTop));return P},g.mouseButton=function(U){return t.window.InstallTrigger!==void 0&&U.button===2&&U.ctrlKey&&t.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:U.button},g.remove=function(U){U.parentNode&&U.parentNode.removeChild(U)};var h=function(U){function Z(){U.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new t.RGBAImage({width:1,height:1}),this.dirty=!0}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.isLoaded=function(){return this.loaded},Z.prototype.setLoaded=function(Y){if(this.loaded!==Y&&(this.loaded=Y,Y)){for(var P=0,W=this.requestors;P<W.length;P+=1){var ne=W[P],se=ne.ids,ve=ne.callback;this._notify(se,ve)}this.requestors=[]}},Z.prototype.getImage=function(Y){return this.images[Y]},Z.prototype.addImage=function(Y,P){this._validate(Y,P)&&(this.images[Y]=P)},Z.prototype._validate=function(Y,P){var W=!0;return this._validateStretch(P.stretchX,P.data&&P.data.width)||(this.fire(new t.ErrorEvent(new Error('Image "'+Y+'" has invalid "stretchX" value'))),W=!1),this._validateStretch(P.stretchY,P.data&&P.data.height)||(this.fire(new t.ErrorEvent(new Error('Image "'+Y+'" has invalid "stretchY" value'))),W=!1),this._validateContent(P.content,P)||(this.fire(new t.ErrorEvent(new Error('Image "'+Y+'" has invalid "content" value'))),W=!1),W},Z.prototype._validateStretch=function(Y,P){if(!Y)return!0;for(var W=0,ne=0,se=Y;ne<se.length;ne+=1){var ve=se[ne];if(ve[0]<W||ve[1]<ve[0]||P<ve[1])return!1;W=ve[1]}return!0},Z.prototype._validateContent=function(Y,P){return!(Y&&(Y.length!==4||Y[0]<0||P.data.width<Y[0]||Y[1]<0||P.data.height<Y[1]||Y[2]<0||P.data.width<Y[2]||Y[3]<0||P.data.height<Y[3]||Y[2]<Y[0]||Y[3]<Y[1]))},Z.prototype.updateImage=function(Y,P){var W=this.images[Y];P.version=W.version+1,this.images[Y]=P,this.updatedImages[Y]=!0},Z.prototype.removeImage=function(Y){var P=this.images[Y];delete this.images[Y],delete this.patterns[Y],P.userImage&&P.userImage.onRemove&&P.userImage.onRemove()},Z.prototype.listImages=function(){return Object.keys(this.images)},Z.prototype.getImages=function(Y,P){var W=!0;if(!this.isLoaded())for(var ne=0,se=Y;ne<se.length;ne+=1){var ve=se[ne];this.images[ve]||(W=!1)}this.isLoaded()||W?this._notify(Y,P):this.requestors.push({ids:Y,callback:P})},Z.prototype._notify=function(Y,P){for(var W={},ne=0,se=Y;ne<se.length;ne+=1){var ve=se[ne];this.images[ve]||this.fire(new t.Event("styleimagemissing",{id:ve}));var ke=this.images[ve];ke?W[ve]={data:ke.data.clone(),pixelRatio:ke.pixelRatio,sdf:ke.sdf,version:ke.version,stretchX:ke.stretchX,stretchY:ke.stretchY,content:ke.content,hasRenderCallback:!!(ke.userImage&&ke.userImage.render)}:t.warnOnce('Image "'+ve+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}P(null,W)},Z.prototype.getPixelSize=function(){var Y=this.atlasImage;return{width:Y.width,height:Y.height}},Z.prototype.getPattern=function(Y){var P=this.patterns[Y],W=this.getImage(Y);if(!W)return null;if(P&&P.position.version===W.version)return P.position;if(P)P.position.version=W.version;else{var ne={w:W.data.width+2,h:W.data.height+2,x:0,y:0},se=new t.ImagePosition(ne,W);this.patterns[Y]={bin:ne,position:se}}return this._updatePatternAtlas(),this.patterns[Y].position},Z.prototype.bind=function(Y){var P=Y.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new t.Texture(Y,this.atlasImage,P.RGBA),this.atlasTexture.bind(P.LINEAR,P.CLAMP_TO_EDGE)},Z.prototype._updatePatternAtlas=function(){var Y=[];for(var P in this.patterns)Y.push(this.patterns[P].bin);var W=t.potpack(Y),ne=W.w,se=W.h,ve=this.atlasImage;for(var ke in ve.resize({width:ne||1,height:se||1}),this.patterns){var De=this.patterns[ke].bin,je=De.x+1,We=De.y+1,$e=this.images[ke].data,at=$e.width,pt=$e.height;t.RGBAImage.copy($e,ve,{x:0,y:0},{x:je,y:We},{width:at,height:pt}),t.RGBAImage.copy($e,ve,{x:0,y:pt-1},{x:je,y:We-1},{width:at,height:1}),t.RGBAImage.copy($e,ve,{x:0,y:0},{x:je,y:We+pt},{width:at,height:1}),t.RGBAImage.copy($e,ve,{x:at-1,y:0},{x:je-1,y:We},{width:1,height:pt}),t.RGBAImage.copy($e,ve,{x:0,y:0},{x:je+at,y:We},{width:1,height:pt})}this.dirty=!0},Z.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},Z.prototype.dispatchRenderCallbacks=function(Y){for(var P=0,W=Y;P<W.length;P+=1){var ne=W[P];if(!this.callbackDispatchedThisFrame[ne]){this.callbackDispatchedThisFrame[ne]=!0;var se=this.images[ne];u(se)&&this.updateImage(ne,se)}}},Z}(t.Evented),f=y,T=y,d=1e20;function y(U,Z,Y,P,W,ne){this.fontSize=U||24,this.buffer=Z===void 0?3:Z,this.cutoff=P||.25,this.fontFamily=W||"sans-serif",this.fontWeight=ne||"normal",this.radius=Y||8;var se=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=se,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(se*se),this.gridInner=new Float64Array(se*se),this.f=new Float64Array(se),this.d=new Float64Array(se),this.z=new Float64Array(se+1),this.v=new Int16Array(se),this.middle=Math.round(se/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function m(U,Z,Y,P,W,ne,se){for(var ve=0;ve<Z;ve++){for(var ke=0;ke<Y;ke++)P[ke]=U[ke*Z+ve];for(w(P,W,ne,se,Y),ke=0;ke<Y;ke++)U[ke*Z+ve]=W[ke]}for(ke=0;ke<Y;ke++){for(ve=0;ve<Z;ve++)P[ve]=U[ke*Z+ve];for(w(P,W,ne,se,Z),ve=0;ve<Z;ve++)U[ke*Z+ve]=Math.sqrt(W[ve])}}function w(U,Z,Y,P,W){Y[0]=0,P[0]=-d,P[1]=+d;for(var ne=1,se=0;ne<W;ne++){for(var ve=(U[ne]+ne*ne-(U[Y[se]]+Y[se]*Y[se]))/(2*ne-2*Y[se]);ve<=P[se];)se--,ve=(U[ne]+ne*ne-(U[Y[se]]+Y[se]*Y[se]))/(2*ne-2*Y[se]);Y[++se]=ne,P[se]=ve,P[se+1]=+d}for(ne=0,se=0;ne<W;ne++){for(;P[se+1]<ne;)se++;Z[ne]=(ne-Y[se])*(ne-Y[se])+U[Y[se]]}}y.prototype.draw=function(U){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(U,this.buffer,this.middle);for(var Z=this.ctx.getImageData(0,0,this.size,this.size),Y=new Uint8ClampedArray(this.size*this.size),P=0;P<this.size*this.size;P++){var W=Z.data[4*P+3]/255;this.gridOuter[P]=W===1?0:W===0?d:Math.pow(Math.max(0,.5-W),2),this.gridInner[P]=W===1?d:W===0?0:Math.pow(Math.max(0,W-.5),2)}for(m(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),m(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),P=0;P<this.size*this.size;P++){var ne=this.gridOuter[P]-this.gridInner[P];Y[P]=Math.max(0,Math.min(255,Math.round(255-255*(ne/this.radius+this.cutoff))))}return Y},f.default=T;var _=function(U,Z){this.requestManager=U,this.localIdeographFontFamily=Z,this.entries={}};_.prototype.setURL=function(U){this.url=U},_.prototype.getGlyphs=function(U,Z){var Y=this,P=[];for(var W in U)for(var ne=0,se=U[W];ne<se.length;ne+=1){var ve=se[ne];P.push({stack:W,id:ve})}t.asyncAll(P,function(ke,De){var je=ke.stack,We=ke.id,$e=Y.entries[je];$e||($e=Y.entries[je]={glyphs:{},requests:{},ranges:{}});var at=$e.glyphs[We];if(at===void 0){if(at=Y._tinySDF($e,je,We))return $e.glyphs[We]=at,void De(null,{stack:je,id:We,glyph:at});var pt=Math.floor(We/256);if(256*pt>65535)De(new Error("glyphs > 65535 not supported"));else if($e.ranges[pt])De(null,{stack:je,id:We,glyph:at});else{var vt=$e.requests[pt];vt||(vt=$e.requests[pt]=[],_.loadGlyphRange(je,pt,Y.url,Y.requestManager,function(kt,Ot){if(Ot){for(var St in Ot)Y._doesCharSupportLocalGlyph(+St)||($e.glyphs[+St]=Ot[+St]);$e.ranges[pt]=!0}for(var jt=0,It=vt;jt<It.length;jt+=1)(0,It[jt])(kt,Ot);delete $e.requests[pt]})),vt.push(function(kt,Ot){kt?De(kt):Ot&&De(null,{stack:je,id:We,glyph:Ot[We]||null})})}}else De(null,{stack:je,id:We,glyph:at})},function(ke,De){if(ke)Z(ke);else if(De){for(var je={},We=0,$e=De;We<$e.length;We+=1){var at=$e[We],pt=at.stack,vt=at.id,kt=at.glyph;(je[pt]||(je[pt]={}))[vt]=kt&&{id:kt.id,bitmap:kt.bitmap.clone(),metrics:kt.metrics}}Z(null,je)}})},_.prototype._doesCharSupportLocalGlyph=function(U){return!!this.localIdeographFontFamily&&(t.isChar["CJK Unified Ideographs"](U)||t.isChar["Hangul Syllables"](U)||t.isChar.Hiragana(U)||t.isChar.Katakana(U))},_.prototype._tinySDF=function(U,Z,Y){var P=this.localIdeographFontFamily;if(P&&this._doesCharSupportLocalGlyph(Y)){var W=U.tinySDF;if(!W){var ne="400";/bold/i.test(Z)?ne="900":/medium/i.test(Z)?ne="500":/light/i.test(Z)&&(ne="200"),W=U.tinySDF=new _.TinySDF(24,3,8,.25,P,ne)}return{id:Y,bitmap:new t.AlphaImage({width:30,height:30},W.draw(String.fromCharCode(Y))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},_.loadGlyphRange=function(U,Z,Y,P,W){var ne=256*Z,se=ne+255,ve=P.transformRequest(P.normalizeGlyphsURL(Y).replace("{fontstack}",U).replace("{range}",ne+"-"+se),t.ResourceType.Glyphs);t.getArrayBuffer(ve,function(ke,De){if(ke)W(ke);else if(De){for(var je={},We=0,$e=t.parseGlyphPBF(De);We<$e.length;We+=1){var at=$e[We];je[at.id]=at}W(null,je)}})},_.TinySDF=f;var A=function(){this.specification=t.styleSpec.light.position};A.prototype.possiblyEvaluate=function(U,Z){return t.sphericalToCartesian(U.expression.evaluate(Z))},A.prototype.interpolate=function(U,Z,Y){return{x:t.number(U.x,Z.x,Y),y:t.number(U.y,Z.y,Y),z:t.number(U.z,Z.z,Y)}};var p=new t.Properties({anchor:new t.DataConstantProperty(t.styleSpec.light.anchor),position:new A,color:new t.DataConstantProperty(t.styleSpec.light.color),intensity:new t.DataConstantProperty(t.styleSpec.light.intensity)}),L="-transition",M=function(U){function Z(Y){U.call(this),this._transitionable=new t.Transitionable(p),this.setLight(Y),this._transitioning=this._transitionable.untransitioned()}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getLight=function(){return this._transitionable.serialize()},Z.prototype.setLight=function(Y,P){if(P===void 0&&(P={}),!this._validate(t.validateLight,Y,P))for(var W in Y){var ne=Y[W];t.endsWith(W,L)?this._transitionable.setTransition(W.slice(0,-11),ne):this._transitionable.setValue(W,ne)}},Z.prototype.updateTransitions=function(Y){this._transitioning=this._transitionable.transitioned(Y,this._transitioning)},Z.prototype.hasTransition=function(){return this._transitioning.hasTransition()},Z.prototype.recalculate=function(Y){this.properties=this._transitioning.possiblyEvaluate(Y)},Z.prototype._validate=function(Y,P,W){return(!W||W.validate!==!1)&&t.emitValidationErrors(this,Y.call(t.validateStyle,t.extend({value:P,style:{glyphs:!0,sprite:!0},styleSpec:t.styleSpec})))},Z}(t.Evented),C=function(U,Z){this.width=U,this.height=Z,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};C.prototype.getDash=function(U,Z){var Y=U.join(",")+String(Z);return this.dashEntry[Y]||(this.dashEntry[Y]=this.addDash(U,Z)),this.dashEntry[Y]},C.prototype.getDashRanges=function(U,Z,Y){var P=[],W=U.length%2==1?-U[U.length-1]*Y:0,ne=U[0]*Y,se=!0;P.push({left:W,right:ne,isDash:se,zeroLength:U[0]===0});for(var ve=U[0],ke=1;ke<U.length;ke++){se=!se;var De=U[ke];W=ve*Y,ne=(ve+=De)*Y,P.push({left:W,right:ne,isDash:se,zeroLength:De===0})}return P},C.prototype.addRoundDash=function(U,Z,Y){for(var P=Z/2,W=-Y;W<=Y;W++)for(var ne=this.nextRow+Y+W,se=this.width*ne,ve=0,ke=U[ve],De=0;De<this.width;De++){De/ke.right>1&&(ke=U[++ve]);var je=Math.abs(De-ke.left),We=Math.abs(De-ke.right),$e=Math.min(je,We),at=void 0,pt=W/Y*(P+1);if(ke.isDash){var vt=P-Math.abs(pt);at=Math.sqrt($e*$e+vt*vt)}else at=P-Math.sqrt($e*$e+pt*pt);this.data[se+De]=Math.max(0,Math.min(255,at+128))}},C.prototype.addRegularDash=function(U){for(var Z=U.length-1;Z>=0;--Z){var Y=U[Z],P=U[Z+1];Y.zeroLength?U.splice(Z,1):P&&P.isDash===Y.isDash&&(P.left=Y.left,U.splice(Z,1))}var W=U[0],ne=U[U.length-1];W.isDash===ne.isDash&&(W.left=ne.left-this.width,ne.right=W.right+this.width);for(var se=this.width*this.nextRow,ve=0,ke=U[ve],De=0;De<this.width;De++){De/ke.right>1&&(ke=U[++ve]);var je=Math.abs(De-ke.left),We=Math.abs(De-ke.right),$e=Math.min(je,We),at=ke.isDash?$e:-$e;this.data[se+De]=Math.max(0,Math.min(255,at+128))}},C.prototype.addDash=function(U,Z){var Y=Z?7:0,P=2*Y+1;if(this.nextRow+P>this.height)return t.warnOnce("LineAtlas out of space"),null;for(var W=0,ne=0;ne<U.length;ne++)W+=U[ne];if(W!==0){var se=this.width/W,ve=this.getDashRanges(U,this.width,se);Z?this.addRoundDash(ve,se,Y):this.addRegularDash(ve)}var ke={y:(this.nextRow+Y+.5)/this.height,height:2*Y/this.height,width:W};return this.nextRow+=P,this.dirty=!0,ke},C.prototype.bind=function(U){var Z=U.gl;this.texture?(Z.bindTexture(Z.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,Z.texSubImage2D(Z.TEXTURE_2D,0,0,0,this.width,this.height,Z.ALPHA,Z.UNSIGNED_BYTE,this.data))):(this.texture=Z.createTexture(),Z.bindTexture(Z.TEXTURE_2D,this.texture),Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_WRAP_S,Z.REPEAT),Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_WRAP_T,Z.REPEAT),Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_MIN_FILTER,Z.LINEAR),Z.texParameteri(Z.TEXTURE_2D,Z.TEXTURE_MAG_FILTER,Z.LINEAR),Z.texImage2D(Z.TEXTURE_2D,0,Z.ALPHA,this.width,this.height,0,Z.ALPHA,Z.UNSIGNED_BYTE,this.data))};var R=function U(Z,Y){this.workerPool=Z,this.actors=[],this.currentActor=0,this.id=t.uniqueId();for(var P=this.workerPool.acquire(this.id),W=0;W<P.length;W++){var ne=P[W],se=new U.Actor(ne,Y,this.id);se.name="Worker "+W,this.actors.push(se)}};function I(U,Z,Y){var P=function(W,ne){if(W)return Y(W);if(ne){var se=t.pick(t.extend(ne,U),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);ne.vector_layers&&(se.vectorLayers=ne.vector_layers,se.vectorLayerIds=se.vectorLayers.map(function(ve){return ve.id})),se.tiles=Z.canonicalizeTileset(se,U.url),Y(null,se)}};return U.url?t.getJSON(Z.transformRequest(Z.normalizeSourceURL(U.url),t.ResourceType.Source),P):t.browser.frame(function(){return P(null,U)})}R.prototype.broadcast=function(U,Z,Y){Y=Y||function(){},t.asyncAll(this.actors,function(P,W){P.send(U,Z,W)},Y)},R.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},R.prototype.remove=function(){this.actors.forEach(function(U){U.remove()}),this.actors=[],this.workerPool.release(this.id)},R.Actor=t.Actor;var D=function(U,Z,Y){this.bounds=t.LngLatBounds.convert(this.validateBounds(U)),this.minzoom=Z||0,this.maxzoom=Y||24};D.prototype.validateBounds=function(U){return Array.isArray(U)&&U.length===4?[Math.max(-180,U[0]),Math.max(-90,U[1]),Math.min(180,U[2]),Math.min(90,U[3])]:[-180,-90,180,90]},D.prototype.contains=function(U){var Z=Math.pow(2,U.z),Y=Math.floor(t.mercatorXfromLng(this.bounds.getWest())*Z),P=Math.floor(t.mercatorYfromLat(this.bounds.getNorth())*Z),W=Math.ceil(t.mercatorXfromLng(this.bounds.getEast())*Z),ne=Math.ceil(t.mercatorYfromLat(this.bounds.getSouth())*Z);return U.x>=Y&&U.x<W&&U.y>=P&&U.y<ne};var F=function(U){function Z(Y,P,W,ne){if(U.call(this),this.id=Y,this.dispatcher=W,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,t.extend(this,t.pick(P,["url","scheme","tileSize","promoteId"])),this._options=t.extend({type:"vector"},P),this._collectResourceTiming=P.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(ne)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var Y=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=I(this._options,this.map._requestManager,function(P,W){Y._tileJSONRequest=null,Y._loaded=!0,P?Y.fire(new t.ErrorEvent(P)):W&&(t.extend(Y,W),W.bounds&&(Y.tileBounds=new D(W.bounds,Y.minzoom,Y.maxzoom)),t.postTurnstileEvent(W.tiles,Y.map._requestManager._customAccessToken),t.postMapLoadEvent(W.tiles,Y.map._getMapId(),Y.map._requestManager._skuToken,Y.map._requestManager._customAccessToken),Y.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),Y.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.hasTile=function(Y){return!this.tileBounds||this.tileBounds.contains(Y.canonical)},Z.prototype.onAdd=function(Y){this.map=Y,this.load()},Z.prototype.setSourceProperty=function(Y){this._tileJSONRequest&&this._tileJSONRequest.cancel(),Y(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},Z.prototype.setTiles=function(Y){var P=this;return this.setSourceProperty(function(){P._options.tiles=Y}),this},Z.prototype.setUrl=function(Y){var P=this;return this.setSourceProperty(function(){P.url=Y,P._options.url=Y}),this},Z.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Z.prototype.serialize=function(){return t.extend({},this._options)},Z.prototype.loadTile=function(Y,P){var W=this.map._requestManager.normalizeTileURL(Y.tileID.canonical.url(this.tiles,this.scheme)),ne={request:this.map._requestManager.transformRequest(W,t.ResourceType.Tile),uid:Y.uid,tileID:Y.tileID,zoom:Y.tileID.overscaledZ,tileSize:this.tileSize*Y.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function se(ve,ke){return delete Y.request,Y.aborted?P(null):ve&&ve.status!==404?P(ve):(ke&&ke.resourceTiming&&(Y.resourceTiming=ke.resourceTiming),this.map._refreshExpiredTiles&&ke&&Y.setExpiryData(ke),Y.loadVectorData(ke,this.map.painter),t.cacheEntryPossiblyAdded(this.dispatcher),P(null),void(Y.reloadCallback&&(this.loadTile(Y,Y.reloadCallback),Y.reloadCallback=null)))}ne.request.collectResourceTiming=this._collectResourceTiming,Y.actor&&Y.state!=="expired"?Y.state==="loading"?Y.reloadCallback=P:Y.request=Y.actor.send("reloadTile",ne,se.bind(this)):(Y.actor=this.dispatcher.getActor(),Y.request=Y.actor.send("loadTile",ne,se.bind(this)))},Z.prototype.abortTile=function(Y){Y.request&&(Y.request.cancel(),delete Y.request),Y.actor&&Y.actor.send("abortTile",{uid:Y.uid,type:this.type,source:this.id},void 0)},Z.prototype.unloadTile=function(Y){Y.unloadVectorData(),Y.actor&&Y.actor.send("removeTile",{uid:Y.uid,type:this.type,source:this.id},void 0)},Z.prototype.hasTransition=function(){return!1},Z}(t.Evented),q=function(U){function Z(Y,P,W,ne){U.call(this),this.id=Y,this.dispatcher=W,this.setEventedParent(ne),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.extend({type:"raster"},P),t.extend(this,t.pick(P,["url","scheme","tileSize"]))}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var Y=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=I(this._options,this.map._requestManager,function(P,W){Y._tileJSONRequest=null,Y._loaded=!0,P?Y.fire(new t.ErrorEvent(P)):W&&(t.extend(Y,W),W.bounds&&(Y.tileBounds=new D(W.bounds,Y.minzoom,Y.maxzoom)),t.postTurnstileEvent(W.tiles),t.postMapLoadEvent(W.tiles,Y.map._getMapId(),Y.map._requestManager._skuToken),Y.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),Y.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.onAdd=function(Y){this.map=Y,this.load()},Z.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Z.prototype.serialize=function(){return t.extend({},this._options)},Z.prototype.hasTile=function(Y){return!this.tileBounds||this.tileBounds.contains(Y.canonical)},Z.prototype.loadTile=function(Y,P){var W=this,ne=this.map._requestManager.normalizeTileURL(Y.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);Y.request=t.getImage(this.map._requestManager.transformRequest(ne,t.ResourceType.Tile),function(se,ve){if(delete Y.request,Y.aborted)Y.state="unloaded",P(null);else if(se)Y.state="errored",P(se);else if(ve){W.map._refreshExpiredTiles&&Y.setExpiryData(ve),delete ve.cacheControl,delete ve.expires;var ke=W.map.painter.context,De=ke.gl;Y.texture=W.map.painter.getTileTexture(ve.width),Y.texture?Y.texture.update(ve,{useMipmap:!0}):(Y.texture=new t.Texture(ke,ve,De.RGBA,{useMipmap:!0}),Y.texture.bind(De.LINEAR,De.CLAMP_TO_EDGE,De.LINEAR_MIPMAP_NEAREST),ke.extTextureFilterAnisotropic&&De.texParameterf(De.TEXTURE_2D,ke.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,ke.extTextureFilterAnisotropicMax)),Y.state="loaded",t.cacheEntryPossiblyAdded(W.dispatcher),P(null)}})},Z.prototype.abortTile=function(Y,P){Y.request&&(Y.request.cancel(),delete Y.request),P()},Z.prototype.unloadTile=function(Y,P){Y.texture&&this.map.painter.saveTileTexture(Y.texture),P()},Z.prototype.hasTransition=function(){return!1},Z}(t.Evented),z=function(U){function Z(Y,P,W,ne){U.call(this,Y,P,W,ne),this.type="raster-dem",this.maxzoom=22,this._options=t.extend({type:"raster-dem"},P),this.encoding=P.encoding||"mapbox"}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},Z.prototype.loadTile=function(Y,P){var W=this.map._requestManager.normalizeTileURL(Y.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function ne(se,ve){se&&(Y.state="errored",P(se)),ve&&(Y.dem=ve,Y.needsHillshadePrepare=!0,Y.state="loaded",P(null))}Y.request=t.getImage(this.map._requestManager.transformRequest(W,t.ResourceType.Tile),(function(se,ve){if(delete Y.request,Y.aborted)Y.state="unloaded",P(null);else if(se)Y.state="errored",P(se);else if(ve){this.map._refreshExpiredTiles&&Y.setExpiryData(ve),delete ve.cacheControl,delete ve.expires;var ke=t.window.ImageBitmap&&ve instanceof t.window.ImageBitmap&&t.offscreenCanvasSupported()?ve:t.browser.getImageData(ve,1),De={uid:Y.uid,coord:Y.tileID,source:this.id,rawImageData:ke,encoding:this.encoding};Y.actor&&Y.state!=="expired"||(Y.actor=this.dispatcher.getActor(),Y.actor.send("loadDEMTile",De,ne.bind(this)))}}).bind(this)),Y.neighboringTiles=this._getNeighboringTiles(Y.tileID)},Z.prototype._getNeighboringTiles=function(Y){var P=Y.canonical,W=Math.pow(2,P.z),ne=(P.x-1+W)%W,se=P.x===0?Y.wrap-1:Y.wrap,ve=(P.x+1+W)%W,ke=P.x+1===W?Y.wrap+1:Y.wrap,De={};return De[new t.OverscaledTileID(Y.overscaledZ,se,P.z,ne,P.y).key]={backfilled:!1},De[new t.OverscaledTileID(Y.overscaledZ,ke,P.z,ve,P.y).key]={backfilled:!1},P.y>0&&(De[new t.OverscaledTileID(Y.overscaledZ,se,P.z,ne,P.y-1).key]={backfilled:!1},De[new t.OverscaledTileID(Y.overscaledZ,Y.wrap,P.z,P.x,P.y-1).key]={backfilled:!1},De[new t.OverscaledTileID(Y.overscaledZ,ke,P.z,ve,P.y-1).key]={backfilled:!1}),P.y+1<W&&(De[new t.OverscaledTileID(Y.overscaledZ,se,P.z,ne,P.y+1).key]={backfilled:!1},De[new t.OverscaledTileID(Y.overscaledZ,Y.wrap,P.z,P.x,P.y+1).key]={backfilled:!1},De[new t.OverscaledTileID(Y.overscaledZ,ke,P.z,ve,P.y+1).key]={backfilled:!1}),De},Z.prototype.unloadTile=function(Y){Y.demTexture&&this.map.painter.saveTileTexture(Y.demTexture),Y.fbo&&(Y.fbo.destroy(),delete Y.fbo),Y.dem&&delete Y.dem,delete Y.neighboringTiles,Y.state="unloaded",Y.actor&&Y.actor.send("removeDEMTile",{uid:Y.uid,source:this.id})},Z}(q),V=function(U){function Z(Y,P,W,ne){U.call(this),this.id=Y,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=W.getActor(),this.setEventedParent(ne),this._data=P.data,this._options=t.extend({},P),this._collectResourceTiming=P.collectResourceTiming,this._resourceTiming=[],P.maxzoom!==void 0&&(this.maxzoom=P.maxzoom),P.type&&(this.type=P.type),P.attribution&&(this.attribution=P.attribution),this.promoteId=P.promoteId;var se=t.EXTENT/this.tileSize;this.workerOptions=t.extend({source:this.id,cluster:P.cluster||!1,geojsonVtOptions:{buffer:(P.buffer!==void 0?P.buffer:128)*se,tolerance:(P.tolerance!==void 0?P.tolerance:.375)*se,extent:t.EXTENT,maxZoom:this.maxzoom,lineMetrics:P.lineMetrics||!1,generateId:P.generateId||!1},superclusterOptions:{maxZoom:P.clusterMaxZoom!==void 0?Math.min(P.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,P.clusterMinPoints||2),extent:t.EXTENT,radius:(P.clusterRadius||50)*se,log:!1,generateId:P.generateId||!1},clusterProperties:P.clusterProperties,filter:P.filter},P.workerOptions)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var Y=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(P){if(P)Y.fire(new t.ErrorEvent(P));else{var W={dataType:"source",sourceDataType:"metadata"};Y._collectResourceTiming&&Y._resourceTiming&&Y._resourceTiming.length>0&&(W.resourceTiming=Y._resourceTiming,Y._resourceTiming=[]),Y.fire(new t.Event("data",W))}})},Z.prototype.onAdd=function(Y){this.map=Y,this.load()},Z.prototype.setData=function(Y){var P=this;return this._data=Y,this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(W){if(W)P.fire(new t.ErrorEvent(W));else{var ne={dataType:"source",sourceDataType:"content"};P._collectResourceTiming&&P._resourceTiming&&P._resourceTiming.length>0&&(ne.resourceTiming=P._resourceTiming,P._resourceTiming=[]),P.fire(new t.Event("data",ne))}}),this},Z.prototype.getClusterExpansionZoom=function(Y,P){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:Y,source:this.id},P),this},Z.prototype.getClusterChildren=function(Y,P){return this.actor.send("geojson.getClusterChildren",{clusterId:Y,source:this.id},P),this},Z.prototype.getClusterLeaves=function(Y,P,W,ne){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:Y,limit:P,offset:W},ne),this},Z.prototype._updateWorkerData=function(Y){var P=this;this._loaded=!1;var W=t.extend({},this.workerOptions),ne=this._data;typeof ne=="string"?(W.request=this.map._requestManager.transformRequest(t.browser.resolveURL(ne),t.ResourceType.Source),W.request.collectResourceTiming=this._collectResourceTiming):W.data=JSON.stringify(ne),this.actor.send(this.type+".loadData",W,function(se,ve){P._removed||ve&&ve.abandoned||(P._loaded=!0,ve&&ve.resourceTiming&&ve.resourceTiming[P.id]&&(P._resourceTiming=ve.resourceTiming[P.id].slice(0)),P.actor.send(P.type+".coalesce",{source:W.source},null),Y(se))})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.loadTile=function(Y,P){var W=this,ne=Y.actor?"reloadTile":"loadTile";Y.actor=this.actor;var se={type:this.type,uid:Y.uid,tileID:Y.tileID,zoom:Y.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};Y.request=this.actor.send(ne,se,function(ve,ke){return delete Y.request,Y.unloadVectorData(),Y.aborted?P(null):ve?P(ve):(Y.loadVectorData(ke,W.map.painter,ne==="reloadTile"),P(null))})},Z.prototype.abortTile=function(Y){Y.request&&(Y.request.cancel(),delete Y.request),Y.aborted=!0},Z.prototype.unloadTile=function(Y){Y.unloadVectorData(),this.actor.send("removeTile",{uid:Y.uid,type:this.type,source:this.id})},Z.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},Z.prototype.serialize=function(){return t.extend({},this._options,{type:this.type,data:this._data})},Z.prototype.hasTransition=function(){return!1},Z}(t.Evented),X=t.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),j=function(U){function Z(Y,P,W,ne){U.call(this),this.id=Y,this.dispatcher=W,this.coordinates=P.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(ne),this.options=P}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(Y,P){var W=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this.url=this.options.url,t.getImage(this.map._requestManager.transformRequest(this.url,t.ResourceType.Image),function(ne,se){W._loaded=!0,ne?W.fire(new t.ErrorEvent(ne)):se&&(W.image=se,Y&&(W.coordinates=Y),P&&P(),W._finishLoading())})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.updateImage=function(Y){var P=this;return this.image&&Y.url?(this.options.url=Y.url,this.load(Y.coordinates,function(){P.texture=null}),this):this},Z.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})))},Z.prototype.onAdd=function(Y){this.map=Y,this.load()},Z.prototype.setCoordinates=function(Y){var P=this;this.coordinates=Y;var W=Y.map(t.MercatorCoordinate.fromLngLat);this.tileID=function(se){for(var ve=1/0,ke=1/0,De=-1/0,je=-1/0,We=0,$e=se;We<$e.length;We+=1){var at=$e[We];ve=Math.min(ve,at.x),ke=Math.min(ke,at.y),De=Math.max(De,at.x),je=Math.max(je,at.y)}var pt=De-ve,vt=je-ke,kt=Math.max(pt,vt),Ot=Math.max(0,Math.floor(-Math.log(kt)/Math.LN2)),St=Math.pow(2,Ot);return new t.CanonicalTileID(Ot,Math.floor((ve+De)/2*St),Math.floor((ke+je)/2*St))}(W),this.minzoom=this.maxzoom=this.tileID.z;var ne=W.map(function(se){return P.tileID.getTilePoint(se)._round()});return this._boundsArray=new t.StructArrayLayout4i8,this._boundsArray.emplaceBack(ne[0].x,ne[0].y,0,0),this._boundsArray.emplaceBack(ne[1].x,ne[1].y,t.EXTENT,0),this._boundsArray.emplaceBack(ne[3].x,ne[3].y,0,t.EXTENT),this._boundsArray.emplaceBack(ne[2].x,ne[2].y,t.EXTENT,t.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})),this},Z.prototype.prepare=function(){if(Object.keys(this.tiles).length!==0&&this.image){var Y=this.map.painter.context,P=Y.gl;for(var W in this.boundsBuffer||(this.boundsBuffer=Y.createVertexBuffer(this._boundsArray,X.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new t.Texture(Y,this.image,P.RGBA),this.texture.bind(P.LINEAR,P.CLAMP_TO_EDGE)),this.tiles){var ne=this.tiles[W];ne.state!=="loaded"&&(ne.state="loaded",ne.texture=this.texture)}}},Z.prototype.loadTile=function(Y,P){this.tileID&&this.tileID.equals(Y.tileID.canonical)?(this.tiles[String(Y.tileID.wrap)]=Y,Y.buckets={},P(null)):(Y.state="errored",P(null))},Z.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},Z.prototype.hasTransition=function(){return!1},Z}(t.Evented),H=function(U){function Z(Y,P,W,ne){U.call(this,Y,P,W,ne),this.roundZoom=!0,this.type="video",this.options=P}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var Y=this;this._loaded=!1;var P=this.options;this.urls=[];for(var W=0,ne=P.urls;W<ne.length;W+=1){var se=ne[W];this.urls.push(this.map._requestManager.transformRequest(se,t.ResourceType.Source).url)}t.getVideo(this.urls,function(ve,ke){Y._loaded=!0,ve?Y.fire(new t.ErrorEvent(ve)):ke&&(Y.video=ke,Y.video.loop=!0,Y.video.addEventListener("playing",function(){Y.map.triggerRepaint()}),Y.map&&Y.video.play(),Y._finishLoading())})},Z.prototype.pause=function(){this.video&&this.video.pause()},Z.prototype.play=function(){this.video&&this.video.play()},Z.prototype.seek=function(Y){if(this.video){var P=this.video.seekable;Y<P.start(0)||Y>P.end(0)?this.fire(new t.ErrorEvent(new t.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+P.start(0)+" and "+P.end(0)+"-second mark."))):this.video.currentTime=Y}},Z.prototype.getVideo=function(){return this.video},Z.prototype.onAdd=function(Y){this.map||(this.map=Y,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},Z.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var Y=this.map.painter.context,P=Y.gl;for(var W in this.boundsBuffer||(this.boundsBuffer=Y.createVertexBuffer(this._boundsArray,X.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(P.LINEAR,P.CLAMP_TO_EDGE),P.texSubImage2D(P.TEXTURE_2D,0,0,0,P.RGBA,P.UNSIGNED_BYTE,this.video)):(this.texture=new t.Texture(Y,this.video,P.RGBA),this.texture.bind(P.LINEAR,P.CLAMP_TO_EDGE)),this.tiles){var ne=this.tiles[W];ne.state!=="loaded"&&(ne.state="loaded",ne.texture=this.texture)}}},Z.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},Z.prototype.hasTransition=function(){return this.video&&!this.video.paused},Z}(j),G=function(U){function Z(Y,P,W,ne){U.call(this,Y,P,W,ne),P.coordinates?Array.isArray(P.coordinates)&&P.coordinates.length===4&&!P.coordinates.some(function(se){return!Array.isArray(se)||se.length!==2||se.some(function(ve){return typeof ve!="number"})})||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+Y,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+Y,null,'missing required property "coordinates"'))),P.animate&&typeof P.animate!="boolean"&&this.fire(new t.ErrorEvent(new t.ValidationError("sources."+Y,null,'optional "animate" property must be a boolean value'))),P.canvas?typeof P.canvas=="string"||P.canvas instanceof t.window.HTMLCanvasElement||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+Y,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+Y,null,'missing required property "canvas"'))),this.options=P,this.animate=P.animate===void 0||P.animate}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof t.window.HTMLCanvasElement?this.options.canvas:t.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},Z.prototype.getCanvas=function(){return this.canvas},Z.prototype.onAdd=function(Y){this.map=Y,this.load(),this.canvas&&this.animate&&this.play()},Z.prototype.onRemove=function(){this.pause()},Z.prototype.prepare=function(){var Y=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,Y=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,Y=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var P=this.map.painter.context,W=P.gl;for(var ne in this.boundsBuffer||(this.boundsBuffer=P.createVertexBuffer(this._boundsArray,X.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(Y||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new t.Texture(P,this.canvas,W.RGBA,{premultiply:!0}),this.tiles){var se=this.tiles[ne];se.state!=="loaded"&&(se.state="loaded",se.texture=this.texture)}}},Z.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},Z.prototype.hasTransition=function(){return this._playing},Z.prototype._hasInvalidDimensions=function(){for(var Y=0,P=[this.canvas.width,this.canvas.height];Y<P.length;Y+=1){var W=P[Y];if(isNaN(W)||W<=0)return!0}return!1},Z}(j),ie={vector:F,raster:q,"raster-dem":z,geojson:V,video:H,image:j,canvas:G};function re(U,Z){var Y=t.identity([]);return t.translate(Y,Y,[1,1,0]),t.scale(Y,Y,[.5*U.width,.5*U.height,1]),t.multiply(Y,Y,U.calculatePosMatrix(Z.toUnwrapped()))}function te(U,Z,Y,P,W,ne){var se=function(vt,kt,Ot){if(vt)for(var St=0,jt=vt;St<jt.length;St+=1){var It=kt[jt[St]];if(It&&It.source===Ot&&It.type==="fill-extrusion")return!0}else for(var Jt in kt){var $t=kt[Jt];if($t.source===Ot&&$t.type==="fill-extrusion")return!0}return!1}(W&&W.layers,Z,U.id),ve=ne.maxPitchScaleFactor(),ke=U.tilesIn(P,ve,se);ke.sort(K);for(var De=[],je=0,We=ke;je<We.length;je+=1){var $e=We[je];De.push({wrappedTileID:$e.tileID.wrapped().key,queryResults:$e.tile.queryRenderedFeatures(Z,Y,U._state,$e.queryGeometry,$e.cameraQueryGeometry,$e.scale,W,ne,ve,re(U.transform,$e.tileID))})}var at=function(vt){for(var kt={},Ot={},St=0,jt=vt;St<jt.length;St+=1){var It=jt[St],Jt=It.queryResults,$t=It.wrappedTileID,Ht=Ot[$t]=Ot[$t]||{};for(var vn in Jt)for(var bn=Jt[vn],Ln=Ht[vn]=Ht[vn]||{},zn=kt[vn]=kt[vn]||[],Gn=0,or=bn;Gn<or.length;Gn+=1){var dr=or[Gn];Ln[dr.featureIndex]||(Ln[dr.featureIndex]=!0,zn.push(dr))}}return kt}(De);for(var pt in at)at[pt].forEach(function(vt){var kt=vt.feature,Ot=U.getFeatureState(kt.layer["source-layer"],kt.id);kt.source=kt.layer.source,kt.layer["source-layer"]&&(kt.sourceLayer=kt.layer["source-layer"]),kt.state=Ot});return at}function K(U,Z){var Y=U.tileID,P=Z.tileID;return Y.overscaledZ-P.overscaledZ||Y.canonical.y-P.canonical.y||Y.wrap-P.wrap||Y.canonical.x-P.canonical.x}var J=function(U,Z){this.max=U,this.onRemove=Z,this.reset()};J.prototype.reset=function(){for(var U in this.data)for(var Z=0,Y=this.data[U];Z<Y.length;Z+=1){var P=Y[Z];P.timeout&&clearTimeout(P.timeout),this.onRemove(P.value)}return this.data={},this.order=[],this},J.prototype.add=function(U,Z,Y){var P=this,W=U.wrapped().key;this.data[W]===void 0&&(this.data[W]=[]);var ne={value:Z,timeout:void 0};if(Y!==void 0&&(ne.timeout=setTimeout(function(){P.remove(U,ne)},Y)),this.data[W].push(ne),this.order.push(W),this.order.length>this.max){var se=this._getAndRemoveByKey(this.order[0]);se&&this.onRemove(se)}return this},J.prototype.has=function(U){return U.wrapped().key in this.data},J.prototype.getAndRemove=function(U){return this.has(U)?this._getAndRemoveByKey(U.wrapped().key):null},J.prototype._getAndRemoveByKey=function(U){var Z=this.data[U].shift();return Z.timeout&&clearTimeout(Z.timeout),this.data[U].length===0&&delete this.data[U],this.order.splice(this.order.indexOf(U),1),Z.value},J.prototype.getByKey=function(U){var Z=this.data[U];return Z?Z[0].value:null},J.prototype.get=function(U){return this.has(U)?this.data[U.wrapped().key][0].value:null},J.prototype.remove=function(U,Z){if(!this.has(U))return this;var Y=U.wrapped().key,P=Z===void 0?0:this.data[Y].indexOf(Z),W=this.data[Y][P];return this.data[Y].splice(P,1),W.timeout&&clearTimeout(W.timeout),this.data[Y].length===0&&delete this.data[Y],this.onRemove(W.value),this.order.splice(this.order.indexOf(Y),1),this},J.prototype.setMaxSize=function(U){for(this.max=U;this.order.length>this.max;){var Z=this._getAndRemoveByKey(this.order[0]);Z&&this.onRemove(Z)}return this},J.prototype.filter=function(U){var Z=[];for(var Y in this.data)for(var P=0,W=this.data[Y];P<W.length;P+=1){var ne=W[P];U(ne.value)||Z.push(ne)}for(var se=0,ve=Z;se<ve.length;se+=1){var ke=ve[se];this.remove(ke.value.tileID,ke)}};var $=function(U,Z,Y){this.context=U;var P=U.gl;this.buffer=P.createBuffer(),this.dynamicDraw=!!Y,this.context.unbindVAO(),U.bindElementBuffer.set(this.buffer),P.bufferData(P.ELEMENT_ARRAY_BUFFER,Z.arrayBuffer,this.dynamicDraw?P.DYNAMIC_DRAW:P.STATIC_DRAW),this.dynamicDraw||delete Z.arrayBuffer};$.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},$.prototype.updateData=function(U){var Z=this.context.gl;this.context.unbindVAO(),this.bind(),Z.bufferSubData(Z.ELEMENT_ARRAY_BUFFER,0,U.arrayBuffer)},$.prototype.destroy=function(){var U=this.context.gl;this.buffer&&(U.deleteBuffer(this.buffer),delete this.buffer)};var ae={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},ue=function(U,Z,Y,P){this.length=Z.length,this.attributes=Y,this.itemSize=Z.bytesPerElement,this.dynamicDraw=P,this.context=U;var W=U.gl;this.buffer=W.createBuffer(),U.bindVertexBuffer.set(this.buffer),W.bufferData(W.ARRAY_BUFFER,Z.arrayBuffer,this.dynamicDraw?W.DYNAMIC_DRAW:W.STATIC_DRAW),this.dynamicDraw||delete Z.arrayBuffer};ue.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},ue.prototype.updateData=function(U){var Z=this.context.gl;this.bind(),Z.bufferSubData(Z.ARRAY_BUFFER,0,U.arrayBuffer)},ue.prototype.enableAttributes=function(U,Z){for(var Y=0;Y<this.attributes.length;Y++){var P=this.attributes[Y],W=Z.attributes[P.name];W!==void 0&&U.enableVertexAttribArray(W)}},ue.prototype.setVertexAttribPointers=function(U,Z,Y){for(var P=0;P<this.attributes.length;P++){var W=this.attributes[P],ne=Z.attributes[W.name];ne!==void 0&&U.vertexAttribPointer(ne,W.components,U[ae[W.type]],!1,this.itemSize,W.offset+this.itemSize*(Y||0))}},ue.prototype.destroy=function(){var U=this.context.gl;this.buffer&&(U.deleteBuffer(this.buffer),delete this.buffer)};var ce=function(U){this.gl=U.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};ce.prototype.get=function(){return this.current},ce.prototype.set=function(U){},ce.prototype.getDefault=function(){return this.default},ce.prototype.setDefault=function(){this.set(this.default)};var de=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return t.Color.transparent},Z.prototype.set=function(Y){var P=this.current;(Y.r!==P.r||Y.g!==P.g||Y.b!==P.b||Y.a!==P.a||this.dirty)&&(this.gl.clearColor(Y.r,Y.g,Y.b,Y.a),this.current=Y,this.dirty=!1)},Z}(ce),pe=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 1},Z.prototype.set=function(Y){(Y!==this.current||this.dirty)&&(this.gl.clearDepth(Y),this.current=Y,this.dirty=!1)},Z}(ce),me=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 0},Z.prototype.set=function(Y){(Y!==this.current||this.dirty)&&(this.gl.clearStencil(Y),this.current=Y,this.dirty=!1)},Z}(ce),be=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return[!0,!0,!0,!0]},Z.prototype.set=function(Y){var P=this.current;(Y[0]!==P[0]||Y[1]!==P[1]||Y[2]!==P[2]||Y[3]!==P[3]||this.dirty)&&(this.gl.colorMask(Y[0],Y[1],Y[2],Y[3]),this.current=Y,this.dirty=!1)},Z}(ce),we=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!0},Z.prototype.set=function(Y){(Y!==this.current||this.dirty)&&(this.gl.depthMask(Y),this.current=Y,this.dirty=!1)},Z}(ce),Te=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 255},Z.prototype.set=function(Y){(Y!==this.current||this.dirty)&&(this.gl.stencilMask(Y),this.current=Y,this.dirty=!1)},Z}(ce),Le=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},Z.prototype.set=function(Y){var P=this.current;(Y.func!==P.func||Y.ref!==P.ref||Y.mask!==P.mask||this.dirty)&&(this.gl.stencilFunc(Y.func,Y.ref,Y.mask),this.current=Y,this.dirty=!1)},Z}(ce),Ie=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){var Y=this.gl;return[Y.KEEP,Y.KEEP,Y.KEEP]},Z.prototype.set=function(Y){var P=this.current;(Y[0]!==P[0]||Y[1]!==P[1]||Y[2]!==P[2]||this.dirty)&&(this.gl.stencilOp(Y[0],Y[1],Y[2]),this.current=Y,this.dirty=!1)},Z}(ce),_e=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(Y){if(Y!==this.current||this.dirty){var P=this.gl;Y?P.enable(P.STENCIL_TEST):P.disable(P.STENCIL_TEST),this.current=Y,this.dirty=!1}},Z}(ce),fe=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return[0,1]},Z.prototype.set=function(Y){var P=this.current;(Y[0]!==P[0]||Y[1]!==P[1]||this.dirty)&&(this.gl.depthRange(Y[0],Y[1]),this.current=Y,this.dirty=!1)},Z}(ce),le=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(Y){if(Y!==this.current||this.dirty){var P=this.gl;Y?P.enable(P.DEPTH_TEST):P.disable(P.DEPTH_TEST),this.current=Y,this.dirty=!1}},Z}(ce),ye=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.LESS},Z.prototype.set=function(Y){(Y!==this.current||this.dirty)&&(this.gl.depthFunc(Y),this.current=Y,this.dirty=!1)},Z}(ce),Oe=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(Y){if(Y!==this.current||this.dirty){var P=this.gl;Y?P.enable(P.BLEND):P.disable(P.BLEND),this.current=Y,this.dirty=!1}},Z}(ce),Ae=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){var Y=this.gl;return[Y.ONE,Y.ZERO]},Z.prototype.set=function(Y){var P=this.current;(Y[0]!==P[0]||Y[1]!==P[1]||this.dirty)&&(this.gl.blendFunc(Y[0],Y[1]),this.current=Y,this.dirty=!1)},Z}(ce),Se=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return t.Color.transparent},Z.prototype.set=function(Y){var P=this.current;(Y.r!==P.r||Y.g!==P.g||Y.b!==P.b||Y.a!==P.a||this.dirty)&&(this.gl.blendColor(Y.r,Y.g,Y.b,Y.a),this.current=Y,this.dirty=!1)},Z}(ce),Pe=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.FUNC_ADD},Z.prototype.set=function(Y){(Y!==this.current||this.dirty)&&(this.gl.blendEquation(Y),this.current=Y,this.dirty=!1)},Z}(ce),Fe=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(Y){if(Y!==this.current||this.dirty){var P=this.gl;Y?P.enable(P.CULL_FACE):P.disable(P.CULL_FACE),this.current=Y,this.dirty=!1}},Z}(ce),Be=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.BACK},Z.prototype.set=function(Y){(Y!==this.current||this.dirty)&&(this.gl.cullFace(Y),this.current=Y,this.dirty=!1)},Z}(ce),xe=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.CCW},Z.prototype.set=function(Y){(Y!==this.current||this.dirty)&&(this.gl.frontFace(Y),this.current=Y,this.dirty=!1)},Z}(ce),Me=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(Y){(Y!==this.current||this.dirty)&&(this.gl.useProgram(Y),this.current=Y,this.dirty=!1)},Z}(ce),Ce=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.TEXTURE0},Z.prototype.set=function(Y){(Y!==this.current||this.dirty)&&(this.gl.activeTexture(Y),this.current=Y,this.dirty=!1)},Z}(ce),Ne=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){var Y=this.gl;return[0,0,Y.drawingBufferWidth,Y.drawingBufferHeight]},Z.prototype.set=function(Y){var P=this.current;(Y[0]!==P[0]||Y[1]!==P[1]||Y[2]!==P[2]||Y[3]!==P[3]||this.dirty)&&(this.gl.viewport(Y[0],Y[1],Y[2],Y[3]),this.current=Y,this.dirty=!1)},Z}(ce),Re=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(Y){if(Y!==this.current||this.dirty){var P=this.gl;P.bindFramebuffer(P.FRAMEBUFFER,Y),this.current=Y,this.dirty=!1}},Z}(ce),He=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(Y){if(Y!==this.current||this.dirty){var P=this.gl;P.bindRenderbuffer(P.RENDERBUFFER,Y),this.current=Y,this.dirty=!1}},Z}(ce),Ye=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(Y){if(Y!==this.current||this.dirty){var P=this.gl;P.bindTexture(P.TEXTURE_2D,Y),this.current=Y,this.dirty=!1}},Z}(ce),Qe=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(Y){if(Y!==this.current||this.dirty){var P=this.gl;P.bindBuffer(P.ARRAY_BUFFER,Y),this.current=Y,this.dirty=!1}},Z}(ce),lt=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(Y){var P=this.gl;P.bindBuffer(P.ELEMENT_ARRAY_BUFFER,Y),this.current=Y,this.dirty=!1},Z}(ce),ut=function(U){function Z(Y){U.call(this,Y),this.vao=Y.extVertexArrayObject}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(Y){this.vao&&(Y!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(Y),this.current=Y,this.dirty=!1)},Z}(ce),xt=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 4},Z.prototype.set=function(Y){if(Y!==this.current||this.dirty){var P=this.gl;P.pixelStorei(P.UNPACK_ALIGNMENT,Y),this.current=Y,this.dirty=!1}},Z}(ce),_t=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(Y){if(Y!==this.current||this.dirty){var P=this.gl;P.pixelStorei(P.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Y),this.current=Y,this.dirty=!1}},Z}(ce),mt=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(Y){if(Y!==this.current||this.dirty){var P=this.gl;P.pixelStorei(P.UNPACK_FLIP_Y_WEBGL,Y),this.current=Y,this.dirty=!1}},Z}(ce),it=function(U){function Z(Y,P){U.call(this,Y),this.context=Y,this.parent=P}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z}(ce),nt=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.setDirty=function(){this.dirty=!0},Z.prototype.set=function(Y){if(Y!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var P=this.gl;P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,Y,0),this.current=Y,this.dirty=!1}},Z}(it),Et=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.set=function(Y){if(Y!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var P=this.gl;P.framebufferRenderbuffer(P.FRAMEBUFFER,P.DEPTH_ATTACHMENT,P.RENDERBUFFER,Y),this.current=Y,this.dirty=!1}},Z}(it),zt=function(U,Z,Y,P){this.context=U,this.width=Z,this.height=Y;var W=U.gl,ne=this.framebuffer=W.createFramebuffer();this.colorAttachment=new nt(U,ne),P&&(this.depthAttachment=new Et(U,ne))};zt.prototype.destroy=function(){var U=this.context.gl,Z=this.colorAttachment.get();if(Z&&U.deleteTexture(Z),this.depthAttachment){var Y=this.depthAttachment.get();Y&&U.deleteRenderbuffer(Y)}U.deleteFramebuffer(this.framebuffer)};var Ft=function(U,Z,Y){this.func=U,this.mask=Z,this.range=Y};Ft.ReadOnly=!1,Ft.ReadWrite=!0,Ft.disabled=new Ft(519,Ft.ReadOnly,[0,1]);var Pt=7680,Ze=function(U,Z,Y,P,W,ne){this.test=U,this.ref=Z,this.mask=Y,this.fail=P,this.depthFail=W,this.pass=ne};Ze.disabled=new Ze({func:519,mask:0},0,0,Pt,Pt,Pt);var Je=function(U,Z,Y){this.blendFunction=U,this.blendColor=Z,this.mask=Y};Je.Replace=[1,0],Je.disabled=new Je(Je.Replace,t.Color.transparent,[!1,!1,!1,!1]),Je.unblended=new Je(Je.Replace,t.Color.transparent,[!0,!0,!0,!0]),Je.alphaBlended=new Je([1,771],t.Color.transparent,[!0,!0,!0,!0]);var qe=function(U,Z,Y){this.enable=U,this.mode=Z,this.frontFace=Y};qe.disabled=new qe(!1,1029,2305),qe.backCCW=new qe(!0,1029,2305);var Ke=function(U){this.gl=U,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new de(this),this.clearDepth=new pe(this),this.clearStencil=new me(this),this.colorMask=new be(this),this.depthMask=new we(this),this.stencilMask=new Te(this),this.stencilFunc=new Le(this),this.stencilOp=new Ie(this),this.stencilTest=new _e(this),this.depthRange=new fe(this),this.depthTest=new le(this),this.depthFunc=new ye(this),this.blend=new Oe(this),this.blendFunc=new Ae(this),this.blendColor=new Se(this),this.blendEquation=new Pe(this),this.cullFace=new Fe(this),this.cullFaceSide=new Be(this),this.frontFace=new xe(this),this.program=new Me(this),this.activeTexture=new Ce(this),this.viewport=new Ne(this),this.bindFramebuffer=new Re(this),this.bindRenderbuffer=new He(this),this.bindTexture=new Ye(this),this.bindVertexBuffer=new Qe(this),this.bindElementBuffer=new lt(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ut(this),this.pixelStoreUnpack=new xt(this),this.pixelStoreUnpackPremultiplyAlpha=new _t(this),this.pixelStoreUnpackFlipY=new mt(this),this.extTextureFilterAnisotropic=U.getExtension("EXT_texture_filter_anisotropic")||U.getExtension("MOZ_EXT_texture_filter_anisotropic")||U.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=U.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=U.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(U.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=U.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=U.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=U.getParameter(U.MAX_TEXTURE_SIZE)};Ke.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Ke.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Ke.prototype.createIndexBuffer=function(U,Z){return new $(this,U,Z)},Ke.prototype.createVertexBuffer=function(U,Z,Y){return new ue(this,U,Z,Y)},Ke.prototype.createRenderbuffer=function(U,Z,Y){var P=this.gl,W=P.createRenderbuffer();return this.bindRenderbuffer.set(W),P.renderbufferStorage(P.RENDERBUFFER,U,Z,Y),this.bindRenderbuffer.set(null),W},Ke.prototype.createFramebuffer=function(U,Z,Y){return new zt(this,U,Z,Y)},Ke.prototype.clear=function(U){var Z=U.color,Y=U.depth,P=this.gl,W=0;Z&&(W|=P.COLOR_BUFFER_BIT,this.clearColor.set(Z),this.colorMask.set([!0,!0,!0,!0])),Y!==void 0&&(W|=P.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(Y),this.depthMask.set(!0)),P.clear(W)},Ke.prototype.setCullFace=function(U){U.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(U.mode),this.frontFace.set(U.frontFace))},Ke.prototype.setDepthMode=function(U){U.func!==this.gl.ALWAYS||U.mask?(this.depthTest.set(!0),this.depthFunc.set(U.func),this.depthMask.set(U.mask),this.depthRange.set(U.range)):this.depthTest.set(!1)},Ke.prototype.setStencilMode=function(U){U.test.func!==this.gl.ALWAYS||U.mask?(this.stencilTest.set(!0),this.stencilMask.set(U.mask),this.stencilOp.set([U.fail,U.depthFail,U.pass]),this.stencilFunc.set({func:U.test.func,ref:U.ref,mask:U.test.mask})):this.stencilTest.set(!1)},Ke.prototype.setColorMode=function(U){t.deepEqual(U.blendFunction,Je.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(U.blendFunction),this.blendColor.set(U.blendColor)),this.colorMask.set(U.mask)},Ke.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var ft=function(U){function Z(Y,P,W){var ne=this;U.call(this),this.id=Y,this.dispatcher=W,this.on("data",function(se){se.dataType==="source"&&se.sourceDataType==="metadata"&&(ne._sourceLoaded=!0),ne._sourceLoaded&&!ne._paused&&se.dataType==="source"&&se.sourceDataType==="content"&&(ne.reload(),ne.transform&&ne.update(ne.transform))}),this.on("error",function(){ne._sourceErrored=!0}),this._source=function(se,ve,ke,De){var je=new ie[ve.type](se,ve,ke,De);if(je.id!==se)throw new Error("Expected Source id to be "+se+" instead of "+je.id);return t.bindAll(["load","abort","unload","serialize","prepare"],je),je}(Y,P,W,this),this._tiles={},this._cache=new J(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new t.SourceFeatureState}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.onAdd=function(Y){this.map=Y,this._maxTileCacheSize=Y?Y._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(Y)},Z.prototype.onRemove=function(Y){this._source&&this._source.onRemove&&this._source.onRemove(Y)},Z.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var Y in this._tiles){var P=this._tiles[Y];if(P.state!=="loaded"&&P.state!=="errored")return!1}return!0},Z.prototype.getSource=function(){return this._source},Z.prototype.pause=function(){this._paused=!0},Z.prototype.resume=function(){if(this._paused){var Y=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,Y&&this.reload(),this.transform&&this.update(this.transform)}},Z.prototype._loadTile=function(Y,P){return this._source.loadTile(Y,P)},Z.prototype._unloadTile=function(Y){if(this._source.unloadTile)return this._source.unloadTile(Y,function(){})},Z.prototype._abortTile=function(Y){if(this._source.abortTile)return this._source.abortTile(Y,function(){})},Z.prototype.serialize=function(){return this._source.serialize()},Z.prototype.prepare=function(Y){for(var P in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var W=this._tiles[P];W.upload(Y),W.prepare(this.map.style.imageManager)}},Z.prototype.getIds=function(){return t.values(this._tiles).map(function(Y){return Y.tileID}).sort(ot).map(function(Y){return Y.key})},Z.prototype.getRenderableIds=function(Y){var P=this,W=[];for(var ne in this._tiles)this._isIdRenderable(ne,Y)&&W.push(this._tiles[ne]);return Y?W.sort(function(se,ve){var ke=se.tileID,De=ve.tileID,je=new t.Point(ke.canonical.x,ke.canonical.y)._rotate(P.transform.angle),We=new t.Point(De.canonical.x,De.canonical.y)._rotate(P.transform.angle);return ke.overscaledZ-De.overscaledZ||We.y-je.y||We.x-je.x}).map(function(se){return se.tileID.key}):W.map(function(se){return se.tileID}).sort(ot).map(function(se){return se.key})},Z.prototype.hasRenderableParent=function(Y){var P=this.findLoadedParent(Y,0);return!!P&&this._isIdRenderable(P.tileID.key)},Z.prototype._isIdRenderable=function(Y,P){return this._tiles[Y]&&this._tiles[Y].hasData()&&!this._coveredTiles[Y]&&(P||!this._tiles[Y].holdingForFade())},Z.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var Y in this._cache.reset(),this._tiles)this._tiles[Y].state!=="errored"&&this._reloadTile(Y,"reloading")},Z.prototype._reloadTile=function(Y,P){var W=this._tiles[Y];W&&(W.state!=="loading"&&(W.state=P),this._loadTile(W,this._tileLoaded.bind(this,W,Y,P)))},Z.prototype._tileLoaded=function(Y,P,W,ne){if(ne)return Y.state="errored",void(ne.status!==404?this._source.fire(new t.ErrorEvent(ne,{tile:Y})):this.update(this.transform));Y.timeAdded=t.browser.now(),W==="expired"&&(Y.refreshedUponExpiration=!0),this._setTileReloadTimer(P,Y),this.getSource().type==="raster-dem"&&Y.dem&&this._backfillDEM(Y),this._state.initializeTileState(Y,this.map?this.map.painter:null),this._source.fire(new t.Event("data",{dataType:"source",tile:Y,coord:Y.tileID}))},Z.prototype._backfillDEM=function(Y){for(var P=this.getRenderableIds(),W=0;W<P.length;W++){var ne=P[W];if(Y.neighboringTiles&&Y.neighboringTiles[ne]){var se=this.getTileByID(ne);ve(Y,se),ve(se,Y)}}function ve(ke,De){ke.needsHillshadePrepare=!0;var je=De.tileID.canonical.x-ke.tileID.canonical.x,We=De.tileID.canonical.y-ke.tileID.canonical.y,$e=Math.pow(2,ke.tileID.canonical.z),at=De.tileID.key;je===0&&We===0||Math.abs(We)>1||(Math.abs(je)>1&&(Math.abs(je+$e)===1?je+=$e:Math.abs(je-$e)===1&&(je-=$e)),De.dem&&ke.dem&&(ke.dem.backfillBorder(De.dem,je,We),ke.neighboringTiles&&ke.neighboringTiles[at]&&(ke.neighboringTiles[at].backfilled=!0)))}},Z.prototype.getTile=function(Y){return this.getTileByID(Y.key)},Z.prototype.getTileByID=function(Y){return this._tiles[Y]},Z.prototype._retainLoadedChildren=function(Y,P,W,ne){for(var se in this._tiles){var ve=this._tiles[se];if(!(ne[se]||!ve.hasData()||ve.tileID.overscaledZ<=P||ve.tileID.overscaledZ>W)){for(var ke=ve.tileID;ve&&ve.tileID.overscaledZ>P+1;){var De=ve.tileID.scaledTo(ve.tileID.overscaledZ-1);(ve=this._tiles[De.key])&&ve.hasData()&&(ke=De)}for(var je=ke;je.overscaledZ>P;)if(Y[(je=je.scaledTo(je.overscaledZ-1)).key]){ne[ke.key]=ke;break}}}},Z.prototype.findLoadedParent=function(Y,P){if(Y.key in this._loadedParentTiles){var W=this._loadedParentTiles[Y.key];return W&&W.tileID.overscaledZ>=P?W:null}for(var ne=Y.overscaledZ-1;ne>=P;ne--){var se=Y.scaledTo(ne),ve=this._getLoadedTile(se);if(ve)return ve}},Z.prototype._getLoadedTile=function(Y){var P=this._tiles[Y.key];return P&&P.hasData()?P:this._cache.getByKey(Y.wrapped().key)},Z.prototype.updateCacheSize=function(Y){var P=(Math.ceil(Y.width/this._source.tileSize)+1)*(Math.ceil(Y.height/this._source.tileSize)+1),W=Math.floor(5*P),ne=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,W):W;this._cache.setMaxSize(ne)},Z.prototype.handleWrapJump=function(Y){var P=(Y-(this._prevLng===void 0?Y:this._prevLng))/360,W=Math.round(P);if(this._prevLng=Y,W){var ne={};for(var se in this._tiles){var ve=this._tiles[se];ve.tileID=ve.tileID.unwrapTo(ve.tileID.wrap+W),ne[ve.tileID.key]=ve}for(var ke in this._tiles=ne,this._timers)clearTimeout(this._timers[ke]),delete this._timers[ke];for(var De in this._tiles){var je=this._tiles[De];this._setTileReloadTimer(De,je)}}},Z.prototype.update=function(Y){var P=this;if(this.transform=Y,this._sourceLoaded&&!this._paused){var W;this.updateCacheSize(Y),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?W=Y.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(Ht){return new t.OverscaledTileID(Ht.canonical.z,Ht.wrap,Ht.canonical.z,Ht.canonical.x,Ht.canonical.y)}):(W=Y.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(W=W.filter(function(Ht){return P._source.hasTile(Ht)}))):W=[];var ne=Y.coveringZoomLevel(this._source),se=Math.max(ne-Z.maxOverzooming,this._source.minzoom),ve=Math.max(ne+Z.maxUnderzooming,this._source.minzoom),ke=this._updateRetainedTiles(W,ne);if(Ue(this._source.type)){for(var De={},je={},We=0,$e=Object.keys(ke);We<$e.length;We+=1){var at=$e[We],pt=ke[at],vt=this._tiles[at];if(vt&&!(vt.fadeEndTime&&vt.fadeEndTime<=t.browser.now())){var kt=this.findLoadedParent(pt,se);kt&&(this._addTile(kt.tileID),De[kt.tileID.key]=kt.tileID),je[at]=pt}}for(var Ot in this._retainLoadedChildren(je,ne,ve,ke),De)ke[Ot]||(this._coveredTiles[Ot]=!0,ke[Ot]=De[Ot])}for(var St in ke)this._tiles[St].clearFadeHold();for(var jt=0,It=t.keysDifference(this._tiles,ke);jt<It.length;jt+=1){var Jt=It[jt],$t=this._tiles[Jt];$t.hasSymbolBuckets&&!$t.holdingForFade()?$t.setHoldDuration(this.map._fadeDuration):$t.hasSymbolBuckets&&!$t.symbolFadeFinished()||this._removeTile(Jt)}this._updateLoadedParentTileCache()}},Z.prototype.releaseSymbolFadeTiles=function(){for(var Y in this._tiles)this._tiles[Y].holdingForFade()&&this._removeTile(Y)},Z.prototype._updateRetainedTiles=function(Y,P){for(var W={},ne={},se=Math.max(P-Z.maxOverzooming,this._source.minzoom),ve=Math.max(P+Z.maxUnderzooming,this._source.minzoom),ke={},De=0,je=Y;De<je.length;De+=1){var We=je[De],$e=this._addTile(We);W[We.key]=We,$e.hasData()||P<this._source.maxzoom&&(ke[We.key]=We)}this._retainLoadedChildren(ke,P,ve,W);for(var at=0,pt=Y;at<pt.length;at+=1){var vt=pt[at],kt=this._tiles[vt.key];if(!kt.hasData()){if(P+1>this._source.maxzoom){var Ot=vt.children(this._source.maxzoom)[0],St=this.getTile(Ot);if(St&&St.hasData()){W[Ot.key]=Ot;continue}}else{var jt=vt.children(this._source.maxzoom);if(W[jt[0].key]&&W[jt[1].key]&&W[jt[2].key]&&W[jt[3].key])continue}for(var It=kt.wasRequested(),Jt=vt.overscaledZ-1;Jt>=se;--Jt){var $t=vt.scaledTo(Jt);if(ne[$t.key]||(ne[$t.key]=!0,!(kt=this.getTile($t))&&It&&(kt=this._addTile($t)),kt&&(W[$t.key]=$t,It=kt.wasRequested(),kt.hasData())))break}}}return W},Z.prototype._updateLoadedParentTileCache=function(){for(var Y in this._loadedParentTiles={},this._tiles){for(var P=[],W=void 0,ne=this._tiles[Y].tileID;ne.overscaledZ>0;){if(ne.key in this._loadedParentTiles){W=this._loadedParentTiles[ne.key];break}P.push(ne.key);var se=ne.scaledTo(ne.overscaledZ-1);if(W=this._getLoadedTile(se))break;ne=se}for(var ve=0,ke=P;ve<ke.length;ve+=1){var De=ke[ve];this._loadedParentTiles[De]=W}}},Z.prototype._addTile=function(Y){var P=this._tiles[Y.key];if(P)return P;(P=this._cache.getAndRemove(Y))&&(this._setTileReloadTimer(Y.key,P),P.tileID=Y,this._state.initializeTileState(P,this.map?this.map.painter:null),this._cacheTimers[Y.key]&&(clearTimeout(this._cacheTimers[Y.key]),delete this._cacheTimers[Y.key],this._setTileReloadTimer(Y.key,P)));var W=!!P;return W||(P=new t.Tile(Y,this._source.tileSize*Y.overscaleFactor()),this._loadTile(P,this._tileLoaded.bind(this,P,Y.key,P.state))),P?(P.uses++,this._tiles[Y.key]=P,W||this._source.fire(new t.Event("dataloading",{tile:P,coord:P.tileID,dataType:"source"})),P):null},Z.prototype._setTileReloadTimer=function(Y,P){var W=this;Y in this._timers&&(clearTimeout(this._timers[Y]),delete this._timers[Y]);var ne=P.getExpiryTimeout();ne&&(this._timers[Y]=setTimeout(function(){W._reloadTile(Y,"expired"),delete W._timers[Y]},ne))},Z.prototype._removeTile=function(Y){var P=this._tiles[Y];P&&(P.uses--,delete this._tiles[Y],this._timers[Y]&&(clearTimeout(this._timers[Y]),delete this._timers[Y]),P.uses>0||(P.hasData()&&P.state!=="reloading"?this._cache.add(P.tileID,P,P.getExpiryTimeout()):(P.aborted=!0,this._abortTile(P),this._unloadTile(P))))},Z.prototype.clearTiles=function(){for(var Y in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(Y);this._cache.reset()},Z.prototype.tilesIn=function(Y,P,W){var ne=this,se=[],ve=this.transform;if(!ve)return se;for(var ke=W?ve.getCameraQueryGeometry(Y):Y,De=Y.map(function(Jt){return ve.pointCoordinate(Jt)}),je=ke.map(function(Jt){return ve.pointCoordinate(Jt)}),We=this.getIds(),$e=1/0,at=1/0,pt=-1/0,vt=-1/0,kt=0,Ot=je;kt<Ot.length;kt+=1){var St=Ot[kt];$e=Math.min($e,St.x),at=Math.min(at,St.y),pt=Math.max(pt,St.x),vt=Math.max(vt,St.y)}for(var jt=function(Jt){var $t=ne._tiles[We[Jt]];if(!$t.holdingForFade()){var Ht=$t.tileID,vn=Math.pow(2,ve.zoom-$t.tileID.overscaledZ),bn=P*$t.queryPadding*t.EXTENT/$t.tileSize/vn,Ln=[Ht.getTilePoint(new t.MercatorCoordinate($e,at)),Ht.getTilePoint(new t.MercatorCoordinate(pt,vt))];if(Ln[0].x-bn<t.EXTENT&&Ln[0].y-bn<t.EXTENT&&Ln[1].x+bn>=0&&Ln[1].y+bn>=0){var zn=De.map(function(or){return Ht.getTilePoint(or)}),Gn=je.map(function(or){return Ht.getTilePoint(or)});se.push({tile:$t,tileID:Ht,queryGeometry:zn,cameraQueryGeometry:Gn,scale:vn})}}},It=0;It<We.length;It++)jt(It);return se},Z.prototype.getVisibleCoordinates=function(Y){for(var P=this,W=this.getRenderableIds(Y).map(function(ke){return P._tiles[ke].tileID}),ne=0,se=W;ne<se.length;ne+=1){var ve=se[ne];ve.posMatrix=this.transform.calculatePosMatrix(ve.toUnwrapped())}return W},Z.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Ue(this._source.type))for(var Y in this._tiles){var P=this._tiles[Y];if(P.fadeEndTime!==void 0&&P.fadeEndTime>=t.browser.now())return!0}return!1},Z.prototype.setFeatureState=function(Y,P,W){Y=Y||"_geojsonTileLayer",this._state.updateState(Y,P,W)},Z.prototype.removeFeatureState=function(Y,P,W){Y=Y||"_geojsonTileLayer",this._state.removeFeatureState(Y,P,W)},Z.prototype.getFeatureState=function(Y,P){return Y=Y||"_geojsonTileLayer",this._state.getState(Y,P)},Z.prototype.setDependencies=function(Y,P,W){var ne=this._tiles[Y];ne&&ne.setDependencies(P,W)},Z.prototype.reloadTilesForDependencies=function(Y,P){for(var W in this._tiles)this._tiles[W].hasDependency(Y,P)&&this._reloadTile(W,"reloading");this._cache.filter(function(ne){return!ne.hasDependency(Y,P)})},Z}(t.Evented);function ot(U,Z){var Y=Math.abs(2*U.wrap)-+(U.wrap<0),P=Math.abs(2*Z.wrap)-+(Z.wrap<0);return U.overscaledZ-Z.overscaledZ||P-Y||Z.canonical.y-U.canonical.y||Z.canonical.x-U.canonical.x}function Ue(U){return U==="raster"||U==="image"||U==="video"}function Ve(){return new t.window.Worker(ct.workerUrl)}ft.maxOverzooming=10,ft.maxUnderzooming=3;var st="mapboxgl_preloaded_worker_pool",Xe=function(){this.active={}};Xe.prototype.acquire=function(U){if(!this.workers)for(this.workers=[];this.workers.length<Xe.workerCount;)this.workers.push(new Ve);return this.active[U]=!0,this.workers.slice()},Xe.prototype.release=function(U){delete this.active[U],this.numActive()===0&&(this.workers.forEach(function(Z){Z.terminate()}),this.workers=null)},Xe.prototype.isPreloaded=function(){return!!this.active[st]},Xe.prototype.numActive=function(){return Object.keys(this.active).length};var gt,yt=Math.floor(t.browser.hardwareConcurrency/2);function bt(){return gt||(gt=new Xe),gt}function dt(U,Z){var Y={};for(var P in U)P!=="ref"&&(Y[P]=U[P]);return t.refProperties.forEach(function(W){W in Z&&(Y[W]=Z[W])}),Y}function Lt(U){U=U.slice();for(var Z=Object.create(null),Y=0;Y<U.length;Y++)Z[U[Y].id]=U[Y];for(var P=0;P<U.length;P++)"ref"in U[P]&&(U[P]=dt(U[P],Z[U[P].ref]));return U}Xe.workerCount=Math.max(Math.min(yt,6),1);var wt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Ct(U,Z,Y){Y.push({command:wt.addSource,args:[U,Z[U]]})}function Rt(U,Z,Y){Z.push({command:wt.removeSource,args:[U]}),Y[U]=!0}function Dt(U,Z,Y,P){Rt(U,Y,P),Ct(U,Z,Y)}function Nt(U,Z,Y){var P;for(P in U[Y])if(U[Y].hasOwnProperty(P)&&P!=="data"&&!t.deepEqual(U[Y][P],Z[Y][P]))return!1;for(P in Z[Y])if(Z[Y].hasOwnProperty(P)&&P!=="data"&&!t.deepEqual(U[Y][P],Z[Y][P]))return!1;return!0}function Xt(U,Z,Y,P,W,ne){var se;for(se in Z=Z||{},U=U||{})U.hasOwnProperty(se)&&(t.deepEqual(U[se],Z[se])||Y.push({command:ne,args:[P,se,Z[se],W]}));for(se in Z)Z.hasOwnProperty(se)&&!U.hasOwnProperty(se)&&(t.deepEqual(U[se],Z[se])||Y.push({command:ne,args:[P,se,Z[se],W]}))}function un(U){return U.id}function qt(U,Z){return U[Z.id]=Z,U}function Kt(U,Z){if(!U)return[{command:wt.setStyle,args:[Z]}];var Y=[];try{if(!t.deepEqual(U.version,Z.version))return[{command:wt.setStyle,args:[Z]}];t.deepEqual(U.center,Z.center)||Y.push({command:wt.setCenter,args:[Z.center]}),t.deepEqual(U.zoom,Z.zoom)||Y.push({command:wt.setZoom,args:[Z.zoom]}),t.deepEqual(U.bearing,Z.bearing)||Y.push({command:wt.setBearing,args:[Z.bearing]}),t.deepEqual(U.pitch,Z.pitch)||Y.push({command:wt.setPitch,args:[Z.pitch]}),t.deepEqual(U.sprite,Z.sprite)||Y.push({command:wt.setSprite,args:[Z.sprite]}),t.deepEqual(U.glyphs,Z.glyphs)||Y.push({command:wt.setGlyphs,args:[Z.glyphs]}),t.deepEqual(U.transition,Z.transition)||Y.push({command:wt.setTransition,args:[Z.transition]}),t.deepEqual(U.light,Z.light)||Y.push({command:wt.setLight,args:[Z.light]});var P={},W=[];(function(se,ve,ke,De){var je;for(je in ve=ve||{},se=se||{})se.hasOwnProperty(je)&&(ve.hasOwnProperty(je)||Rt(je,ke,De));for(je in ve)ve.hasOwnProperty(je)&&(se.hasOwnProperty(je)?t.deepEqual(se[je],ve[je])||(se[je].type==="geojson"&&ve[je].type==="geojson"&&Nt(se,ve,je)?ke.push({command:wt.setGeoJSONSourceData,args:[je,ve[je].data]}):Dt(je,ve,ke,De)):Ct(je,ve,ke))})(U.sources,Z.sources,W,P);var ne=[];U.layers&&U.layers.forEach(function(se){P[se.source]?Y.push({command:wt.removeLayer,args:[se.id]}):ne.push(se)}),Y=Y.concat(W),function(se,ve,ke){ve=ve||[];var De,je,We,$e,at,pt,vt,kt=(se=se||[]).map(un),Ot=ve.map(un),St=se.reduce(qt,{}),jt=ve.reduce(qt,{}),It=kt.slice(),Jt=Object.create(null);for(De=0,je=0;De<kt.length;De++)We=kt[De],jt.hasOwnProperty(We)?je++:(ke.push({command:wt.removeLayer,args:[We]}),It.splice(It.indexOf(We,je),1));for(De=0,je=0;De<Ot.length;De++)We=Ot[Ot.length-1-De],It[It.length-1-De]!==We&&(St.hasOwnProperty(We)?(ke.push({command:wt.removeLayer,args:[We]}),It.splice(It.lastIndexOf(We,It.length-je),1)):je++,pt=It[It.length-De],ke.push({command:wt.addLayer,args:[jt[We],pt]}),It.splice(It.length-De,0,We),Jt[We]=!0);for(De=0;De<Ot.length;De++)if($e=St[We=Ot[De]],at=jt[We],!Jt[We]&&!t.deepEqual($e,at))if(t.deepEqual($e.source,at.source)&&t.deepEqual($e["source-layer"],at["source-layer"])&&t.deepEqual($e.type,at.type)){for(vt in Xt($e.layout,at.layout,ke,We,null,wt.setLayoutProperty),Xt($e.paint,at.paint,ke,We,null,wt.setPaintProperty),t.deepEqual($e.filter,at.filter)||ke.push({command:wt.setFilter,args:[We,at.filter]}),t.deepEqual($e.minzoom,at.minzoom)&&t.deepEqual($e.maxzoom,at.maxzoom)||ke.push({command:wt.setLayerZoomRange,args:[We,at.minzoom,at.maxzoom]}),$e)$e.hasOwnProperty(vt)&&vt!=="layout"&&vt!=="paint"&&vt!=="filter"&&vt!=="metadata"&&vt!=="minzoom"&&vt!=="maxzoom"&&(vt.indexOf("paint.")===0?Xt($e[vt],at[vt],ke,We,vt.slice(6),wt.setPaintProperty):t.deepEqual($e[vt],at[vt])||ke.push({command:wt.setLayerProperty,args:[We,vt,at[vt]]}));for(vt in at)at.hasOwnProperty(vt)&&!$e.hasOwnProperty(vt)&&vt!=="layout"&&vt!=="paint"&&vt!=="filter"&&vt!=="metadata"&&vt!=="minzoom"&&vt!=="maxzoom"&&(vt.indexOf("paint.")===0?Xt($e[vt],at[vt],ke,We,vt.slice(6),wt.setPaintProperty):t.deepEqual($e[vt],at[vt])||ke.push({command:wt.setLayerProperty,args:[We,vt,at[vt]]}))}else ke.push({command:wt.removeLayer,args:[We]}),pt=It[It.lastIndexOf(We)+1],ke.push({command:wt.addLayer,args:[at,pt]})}(ne,Z.layers,Y)}catch(se){console.warn("Unable to compute style diff:",se),Y=[{command:wt.setStyle,args:[Z]}]}return Y}var Ut=function(U,Z){this.reset(U,Z)};Ut.prototype.reset=function(U,Z){this.points=U||[],this._distances=[0];for(var Y=1;Y<this.points.length;Y++)this._distances[Y]=this._distances[Y-1]+this.points[Y].dist(this.points[Y-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(Z||0,.5*this.length),this.paddedLength=this.length-2*this.padding},Ut.prototype.lerp=function(U){if(this.points.length===1)return this.points[0];U=t.clamp(U,0,1);for(var Z=1,Y=this._distances[Z],P=U*this.paddedLength+this.padding;Y<P&&Z<this._distances.length;)Y=this._distances[++Z];var W=Z-1,ne=this._distances[W],se=Y-ne,ve=se>0?(P-ne)/se:0;return this.points[W].mult(1-ve).add(this.points[Z].mult(ve))};var Rn=function(U,Z,Y){var P=this.boxCells=[],W=this.circleCells=[];this.xCellCount=Math.ceil(U/Y),this.yCellCount=Math.ceil(Z/Y);for(var ne=0;ne<this.xCellCount*this.yCellCount;ne++)P.push([]),W.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=U,this.height=Z,this.xScale=this.xCellCount/U,this.yScale=this.yCellCount/Z,this.boxUid=0,this.circleUid=0};function An(U,Z,Y,P,W){var ne=t.create();return Z?(t.scale(ne,ne,[1/W,1/W,1]),Y||t.rotateZ(ne,ne,P.angle)):t.multiply(ne,P.labelPlaneMatrix,U),ne}function mn(U,Z,Y,P,W){if(Z){var ne=t.clone(U);return t.scale(ne,ne,[W,W,1]),Y||t.rotateZ(ne,ne,-P.angle),ne}return P.glCoordMatrix}function tn(U,Z){var Y=[U.x,U.y,0,1];Wn(Y,Y,Z);var P=Y[3];return{point:new t.Point(Y[0]/P,Y[1]/P),signedDistanceFromCamera:P}}function fn(U,Z){return .5+U/Z*.5}function rn(U,Z){var Y=U[0]/U[3],P=U[1]/U[3];return Y>=-Z[0]&&Y<=Z[0]&&P>=-Z[1]&&P<=Z[1]}function pn(U,Z,Y,P,W,ne,se,ve){var ke=P?U.textSizeData:U.iconSizeData,De=t.evaluateSizeForZoom(ke,Y.transform.zoom),je=[256/Y.width*2+1,256/Y.height*2+1],We=P?U.text.dynamicLayoutVertexArray:U.icon.dynamicLayoutVertexArray;We.clear();for(var $e=U.lineVertexArray,at=P?U.text.placedSymbolArray:U.icon.placedSymbolArray,pt=Y.transform.width/Y.transform.height,vt=!1,kt=0;kt<at.length;kt++){var Ot=at.get(kt);if(Ot.hidden||Ot.writingMode===t.WritingMode.vertical&&!vt)Bn(Ot.numGlyphs,We);else{vt=!1;var St=[Ot.anchorX,Ot.anchorY,0,1];if(t.transformMat4(St,St,Z),rn(St,je)){var jt=St[3],It=fn(Y.transform.cameraToCenterDistance,jt),Jt=t.evaluateSizeForFeature(ke,De,Ot),$t=se?Jt/It:Jt*It,Ht=new t.Point(Ot.anchorX,Ot.anchorY),vn=tn(Ht,W).point,bn={},Ln=Pn(Ot,$t,!1,ve,Z,W,ne,U.glyphOffsetArray,$e,We,vn,Ht,bn,pt);vt=Ln.useVertical,(Ln.notEnoughRoom||vt||Ln.needsFlipping&&Pn(Ot,$t,!0,ve,Z,W,ne,U.glyphOffsetArray,$e,We,vn,Ht,bn,pt).notEnoughRoom)&&Bn(Ot.numGlyphs,We)}else Bn(Ot.numGlyphs,We)}}P?U.text.dynamicLayoutVertexBuffer.updateData(We):U.icon.dynamicLayoutVertexBuffer.updateData(We)}function wn(U,Z,Y,P,W,ne,se,ve,ke,De,je){var We=ve.glyphStartIndex+ve.numGlyphs,$e=ve.lineStartIndex,at=ve.lineStartIndex+ve.lineLength,pt=Z.getoffsetX(ve.glyphStartIndex),vt=Z.getoffsetX(We-1),kt=En(U*pt,Y,P,W,ne,se,ve.segment,$e,at,ke,De,je);if(!kt)return null;var Ot=En(U*vt,Y,P,W,ne,se,ve.segment,$e,at,ke,De,je);return Ot?{first:kt,last:Ot}:null}function kn(U,Z,Y,P){return U===t.WritingMode.horizontal&&Math.abs(Y.y-Z.y)>Math.abs(Y.x-Z.x)*P?{useVertical:!0}:(U===t.WritingMode.vertical?Z.y<Y.y:Z.x>Y.x)?{needsFlipping:!0}:null}function Pn(U,Z,Y,P,W,ne,se,ve,ke,De,je,We,$e,at){var pt,vt=Z/24,kt=U.lineOffsetX*vt,Ot=U.lineOffsetY*vt;if(U.numGlyphs>1){var St=U.glyphStartIndex+U.numGlyphs,jt=U.lineStartIndex,It=U.lineStartIndex+U.lineLength,Jt=wn(vt,ve,kt,Ot,Y,je,We,U,ke,ne,$e);if(!Jt)return{notEnoughRoom:!0};var $t=tn(Jt.first.point,se).point,Ht=tn(Jt.last.point,se).point;if(P&&!Y){var vn=kn(U.writingMode,$t,Ht,at);if(vn)return vn}pt=[Jt.first];for(var bn=U.glyphStartIndex+1;bn<St-1;bn++)pt.push(En(vt*ve.getoffsetX(bn),kt,Ot,Y,je,We,U.segment,jt,It,ke,ne,$e));pt.push(Jt.last)}else{if(P&&!Y){var Ln=tn(We,W).point,zn=U.lineStartIndex+U.segment+1,Gn=new t.Point(ke.getx(zn),ke.gety(zn)),or=tn(Gn,W),dr=or.signedDistanceFromCamera>0?or.point:On(We,Gn,Ln,1,W),Xn=kn(U.writingMode,Ln,dr,at);if(Xn)return Xn}var hr=En(vt*ve.getoffsetX(U.glyphStartIndex),kt,Ot,Y,je,We,U.segment,U.lineStartIndex,U.lineStartIndex+U.lineLength,ke,ne,$e);if(!hr)return{notEnoughRoom:!0};pt=[hr]}for(var Ar=0,zr=pt;Ar<zr.length;Ar+=1){var nr=zr[Ar];t.addDynamicAttributes(De,nr.point,nr.angle)}return{}}function On(U,Z,Y,P,W){var ne=tn(U.add(U.sub(Z)._unit()),W).point,se=Y.sub(ne);return Y.add(se._mult(P/se.mag()))}function En(U,Z,Y,P,W,ne,se,ve,ke,De,je,We){var $e=P?U-Z:U+Z,at=$e>0?1:-1,pt=0;P&&(at*=-1,pt=Math.PI),at<0&&(pt+=Math.PI);for(var vt=at>0?ve+se:ve+se+1,kt=W,Ot=W,St=0,jt=0,It=Math.abs($e),Jt=[];St+jt<=It;){if((vt+=at)<ve||vt>=ke)return null;if(Ot=kt,Jt.push(kt),(kt=We[vt])===void 0){var $t=new t.Point(De.getx(vt),De.gety(vt)),Ht=tn($t,je);if(Ht.signedDistanceFromCamera>0)kt=We[vt]=Ht.point;else{var vn=vt-at;kt=On(St===0?ne:new t.Point(De.getx(vn),De.gety(vn)),$t,Ot,It-St+1,je)}}St+=jt,jt=Ot.dist(kt)}var bn=(It-St)/jt,Ln=kt.sub(Ot),zn=Ln.mult(bn)._add(Ot);zn._add(Ln._unit()._perp()._mult(Y*at));var Gn=pt+Math.atan2(kt.y-Ot.y,kt.x-Ot.x);return Jt.push(zn),{point:zn,angle:Gn,path:Jt}}Rn.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Rn.prototype.insert=function(U,Z,Y,P,W){this._forEachCell(Z,Y,P,W,this._insertBoxCell,this.boxUid++),this.boxKeys.push(U),this.bboxes.push(Z),this.bboxes.push(Y),this.bboxes.push(P),this.bboxes.push(W)},Rn.prototype.insertCircle=function(U,Z,Y,P){this._forEachCell(Z-P,Y-P,Z+P,Y+P,this._insertCircleCell,this.circleUid++),this.circleKeys.push(U),this.circles.push(Z),this.circles.push(Y),this.circles.push(P)},Rn.prototype._insertBoxCell=function(U,Z,Y,P,W,ne){this.boxCells[W].push(ne)},Rn.prototype._insertCircleCell=function(U,Z,Y,P,W,ne){this.circleCells[W].push(ne)},Rn.prototype._query=function(U,Z,Y,P,W,ne){if(Y<0||U>this.width||P<0||Z>this.height)return!W&&[];var se=[];if(U<=0&&Z<=0&&this.width<=Y&&this.height<=P){if(W)return!0;for(var ve=0;ve<this.boxKeys.length;ve++)se.push({key:this.boxKeys[ve],x1:this.bboxes[4*ve],y1:this.bboxes[4*ve+1],x2:this.bboxes[4*ve+2],y2:this.bboxes[4*ve+3]});for(var ke=0;ke<this.circleKeys.length;ke++){var De=this.circles[3*ke],je=this.circles[3*ke+1],We=this.circles[3*ke+2];se.push({key:this.circleKeys[ke],x1:De-We,y1:je-We,x2:De+We,y2:je+We})}return ne?se.filter(ne):se}var $e={hitTest:W,seenUids:{box:{},circle:{}}};return this._forEachCell(U,Z,Y,P,this._queryCell,se,$e,ne),W?se.length>0:se},Rn.prototype._queryCircle=function(U,Z,Y,P,W){var ne=U-Y,se=U+Y,ve=Z-Y,ke=Z+Y;if(se<0||ne>this.width||ke<0||ve>this.height)return!P&&[];var De=[],je={hitTest:P,circle:{x:U,y:Z,radius:Y},seenUids:{box:{},circle:{}}};return this._forEachCell(ne,ve,se,ke,this._queryCellCircle,De,je,W),P?De.length>0:De},Rn.prototype.query=function(U,Z,Y,P,W){return this._query(U,Z,Y,P,!1,W)},Rn.prototype.hitTest=function(U,Z,Y,P,W){return this._query(U,Z,Y,P,!0,W)},Rn.prototype.hitTestCircle=function(U,Z,Y,P){return this._queryCircle(U,Z,Y,!0,P)},Rn.prototype._queryCell=function(U,Z,Y,P,W,ne,se,ve){var ke=se.seenUids,De=this.boxCells[W];if(De!==null)for(var je=this.bboxes,We=0,$e=De;We<$e.length;We+=1){var at=$e[We];if(!ke.box[at]){ke.box[at]=!0;var pt=4*at;if(U<=je[pt+2]&&Z<=je[pt+3]&&Y>=je[pt+0]&&P>=je[pt+1]&&(!ve||ve(this.boxKeys[at]))){if(se.hitTest)return ne.push(!0),!0;ne.push({key:this.boxKeys[at],x1:je[pt],y1:je[pt+1],x2:je[pt+2],y2:je[pt+3]})}}}var vt=this.circleCells[W];if(vt!==null)for(var kt=this.circles,Ot=0,St=vt;Ot<St.length;Ot+=1){var jt=St[Ot];if(!ke.circle[jt]){ke.circle[jt]=!0;var It=3*jt;if(this._circleAndRectCollide(kt[It],kt[It+1],kt[It+2],U,Z,Y,P)&&(!ve||ve(this.circleKeys[jt]))){if(se.hitTest)return ne.push(!0),!0;var Jt=kt[It],$t=kt[It+1],Ht=kt[It+2];ne.push({key:this.circleKeys[jt],x1:Jt-Ht,y1:$t-Ht,x2:Jt+Ht,y2:$t+Ht})}}}},Rn.prototype._queryCellCircle=function(U,Z,Y,P,W,ne,se,ve){var ke=se.circle,De=se.seenUids,je=this.boxCells[W];if(je!==null)for(var We=this.bboxes,$e=0,at=je;$e<at.length;$e+=1){var pt=at[$e];if(!De.box[pt]){De.box[pt]=!0;var vt=4*pt;if(this._circleAndRectCollide(ke.x,ke.y,ke.radius,We[vt+0],We[vt+1],We[vt+2],We[vt+3])&&(!ve||ve(this.boxKeys[pt])))return ne.push(!0),!0}}var kt=this.circleCells[W];if(kt!==null)for(var Ot=this.circles,St=0,jt=kt;St<jt.length;St+=1){var It=jt[St];if(!De.circle[It]){De.circle[It]=!0;var Jt=3*It;if(this._circlesCollide(Ot[Jt],Ot[Jt+1],Ot[Jt+2],ke.x,ke.y,ke.radius)&&(!ve||ve(this.circleKeys[It])))return ne.push(!0),!0}}},Rn.prototype._forEachCell=function(U,Z,Y,P,W,ne,se,ve){for(var ke=this._convertToXCellCoord(U),De=this._convertToYCellCoord(Z),je=this._convertToXCellCoord(Y),We=this._convertToYCellCoord(P),$e=ke;$e<=je;$e++)for(var at=De;at<=We;at++){var pt=this.xCellCount*at+$e;if(W.call(this,U,Z,Y,P,pt,ne,se,ve))return}},Rn.prototype._convertToXCellCoord=function(U){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(U*this.xScale)))},Rn.prototype._convertToYCellCoord=function(U){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(U*this.yScale)))},Rn.prototype._circlesCollide=function(U,Z,Y,P,W,ne){var se=P-U,ve=W-Z,ke=Y+ne;return ke*ke>se*se+ve*ve},Rn.prototype._circleAndRectCollide=function(U,Z,Y,P,W,ne,se){var ve=(ne-P)/2,ke=Math.abs(U-(P+ve));if(ke>ve+Y)return!1;var De=(se-W)/2,je=Math.abs(Z-(W+De));if(je>De+Y)return!1;if(ke<=ve||je<=De)return!0;var We=ke-ve,$e=je-De;return We*We+$e*$e<=Y*Y};var Vn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Bn(U,Z){for(var Y=0;Y<U;Y++){var P=Z.length;Z.resize(P+4),Z.float32.set(Vn,3*P)}}function Wn(U,Z,Y){var P=Z[0],W=Z[1];return U[0]=Y[0]*P+Y[4]*W+Y[12],U[1]=Y[1]*P+Y[5]*W+Y[13],U[3]=Y[3]*P+Y[7]*W+Y[15],U}var rr=100,ir=function(U,Z,Y){Z===void 0&&(Z=new Rn(U.width+200,U.height+200,25)),Y===void 0&&(Y=new Rn(U.width+200,U.height+200,25)),this.transform=U,this.grid=Z,this.ignoredGrid=Y,this.pitchfactor=Math.cos(U._pitch)*U.cameraToCenterDistance,this.screenRightBoundary=U.width+rr,this.screenBottomBoundary=U.height+rr,this.gridRightBoundary=U.width+200,this.gridBottomBoundary=U.height+200};function Kn(U,Z,Y){return Z*(t.EXTENT/(U.tileSize*Math.pow(2,Y-U.tileID.overscaledZ)))}ir.prototype.placeCollisionBox=function(U,Z,Y,P,W){var ne=this.projectAndGetPerspectiveRatio(P,U.anchorPointX,U.anchorPointY),se=Y*ne.perspectiveRatio,ve=U.x1*se+ne.point.x,ke=U.y1*se+ne.point.y,De=U.x2*se+ne.point.x,je=U.y2*se+ne.point.y;return!this.isInsideGrid(ve,ke,De,je)||!Z&&this.grid.hitTest(ve,ke,De,je,W)?{box:[],offscreen:!1}:{box:[ve,ke,De,je],offscreen:this.isOffscreen(ve,ke,De,je)}},ir.prototype.placeCollisionCircles=function(U,Z,Y,P,W,ne,se,ve,ke,De,je,We,$e){var at=[],pt=new t.Point(Z.anchorX,Z.anchorY),vt=tn(pt,ne),kt=fn(this.transform.cameraToCenterDistance,vt.signedDistanceFromCamera),Ot=(De?W/kt:W*kt)/t.ONE_EM,St=tn(pt,se).point,jt=wn(Ot,P,Z.lineOffsetX*Ot,Z.lineOffsetY*Ot,!1,St,pt,Z,Y,se,{}),It=!1,Jt=!1,$t=!0;if(jt){for(var Ht=.5*We*kt+$e,vn=new t.Point(-100,-100),bn=new t.Point(this.screenRightBoundary,this.screenBottomBoundary),Ln=new Ut,zn=jt.first,Gn=jt.last,or=[],dr=zn.path.length-1;dr>=1;dr--)or.push(zn.path[dr]);for(var Xn=1;Xn<Gn.path.length;Xn++)or.push(Gn.path[Xn]);var hr=2.5*Ht;if(ve){var Ar=or.map(function(vi){return tn(vi,ve)});or=Ar.some(function(vi){return vi.signedDistanceFromCamera<=0})?[]:Ar.map(function(vi){return vi.point})}var zr=[];if(or.length>0){for(var nr=or[0].clone(),fr=or[0].clone(),Lr=1;Lr<or.length;Lr++)nr.x=Math.min(nr.x,or[Lr].x),nr.y=Math.min(nr.y,or[Lr].y),fr.x=Math.max(fr.x,or[Lr].x),fr.y=Math.max(fr.y,or[Lr].y);zr=nr.x>=vn.x&&fr.x<=bn.x&&nr.y>=vn.y&&fr.y<=bn.y?[or]:fr.x<vn.x||nr.x>bn.x||fr.y<vn.y||nr.y>bn.y?[]:t.clipLine([or],vn.x,vn.y,bn.x,bn.y)}for(var gr=0,Ir=zr;gr<Ir.length;gr+=1){var Nr=Ir[gr];Ln.reset(Nr,.25*Ht);var ei;ei=Ln.length<=.5*Ht?1:Math.ceil(Ln.paddedLength/hr)+1;for(var ni=0;ni<ei;ni++){var ui=ni/Math.max(ei-1,1),di=Ln.lerp(ui),Bi=di.x+rr,ia=di.y+rr;at.push(Bi,ia,Ht,0);var Ga=Bi-Ht,xa=ia-Ht,Ba=Bi+Ht,qi=ia+Ht;if($t=$t&&this.isOffscreen(Ga,xa,Ba,qi),Jt=Jt||this.isInsideGrid(Ga,xa,Ba,qi),!U&&this.grid.hitTestCircle(Bi,ia,Ht,je)&&(It=!0,!ke))return{circles:[],offscreen:!1,collisionDetected:It}}}}return{circles:!ke&&It||!Jt?[]:at,offscreen:$t,collisionDetected:It}},ir.prototype.queryRenderedSymbols=function(U){if(U.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var Z=[],Y=1/0,P=1/0,W=-1/0,ne=-1/0,se=0,ve=U;se<ve.length;se+=1){var ke=ve[se],De=new t.Point(ke.x+rr,ke.y+rr);Y=Math.min(Y,De.x),P=Math.min(P,De.y),W=Math.max(W,De.x),ne=Math.max(ne,De.y),Z.push(De)}for(var je={},We={},$e=0,at=this.grid.query(Y,P,W,ne).concat(this.ignoredGrid.query(Y,P,W,ne));$e<at.length;$e+=1){var pt=at[$e],vt=pt.key;if(je[vt.bucketInstanceId]===void 0&&(je[vt.bucketInstanceId]={}),!je[vt.bucketInstanceId][vt.featureIndex]){var kt=[new t.Point(pt.x1,pt.y1),new t.Point(pt.x2,pt.y1),new t.Point(pt.x2,pt.y2),new t.Point(pt.x1,pt.y2)];t.polygonIntersectsPolygon(Z,kt)&&(je[vt.bucketInstanceId][vt.featureIndex]=!0,We[vt.bucketInstanceId]===void 0&&(We[vt.bucketInstanceId]=[]),We[vt.bucketInstanceId].push(vt.featureIndex))}}return We},ir.prototype.insertCollisionBox=function(U,Z,Y,P,W){var ne={bucketInstanceId:Y,featureIndex:P,collisionGroupID:W};(Z?this.ignoredGrid:this.grid).insert(ne,U[0],U[1],U[2],U[3])},ir.prototype.insertCollisionCircles=function(U,Z,Y,P,W){for(var ne=Z?this.ignoredGrid:this.grid,se={bucketInstanceId:Y,featureIndex:P,collisionGroupID:W},ve=0;ve<U.length;ve+=4)ne.insertCircle(se,U[ve],U[ve+1],U[ve+2])},ir.prototype.projectAndGetPerspectiveRatio=function(U,Z,Y){var P=[Z,Y,0,1];return Wn(P,P,U),{point:new t.Point((P[0]/P[3]+1)/2*this.transform.width+rr,(-P[1]/P[3]+1)/2*this.transform.height+rr),perspectiveRatio:.5+this.transform.cameraToCenterDistance/P[3]*.5}},ir.prototype.isOffscreen=function(U,Z,Y,P){return Y<rr||U>=this.screenRightBoundary||P<rr||Z>this.screenBottomBoundary},ir.prototype.isInsideGrid=function(U,Z,Y,P){return Y>=0&&U<this.gridRightBoundary&&P>=0&&Z<this.gridBottomBoundary},ir.prototype.getViewportMatrix=function(){var U=t.identity([]);return t.translate(U,U,[-100,-100,0]),U};var vr=function(U,Z,Y,P){this.opacity=U?Math.max(0,Math.min(1,U.opacity+(U.placed?Z:-Z))):P&&Y?1:0,this.placed=Y};vr.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var nn=function(U,Z,Y,P,W){this.text=new vr(U?U.text:null,Z,Y,W),this.icon=new vr(U?U.icon:null,Z,P,W)};nn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var an=function(U,Z,Y){this.text=U,this.icon=Z,this.skipFade=Y},In=function(){this.invProjMatrix=t.create(),this.viewportMatrix=t.create(),this.circles=[]},yn=function(U,Z,Y,P,W){this.bucketInstanceId=U,this.featureIndex=Z,this.sourceLayerIndex=Y,this.bucketIndex=P,this.tileID=W},Dn=function(U){this.crossSourceCollisions=U,this.maxGroupID=0,this.collisionGroups={}};function $n(U,Z,Y,P,W){var ne=t.getAnchorAlignment(U),se=-(ne.horizontalAlign-.5)*Z,ve=-(ne.verticalAlign-.5)*Y,ke=t.evaluateVariableOffset(U,P);return new t.Point(se+ke[0]*W,ve+ke[1]*W)}function Hn(U,Z,Y,P,W,ne){var se=U.x1,ve=U.x2,ke=U.y1,De=U.y2,je=U.anchorPointX,We=U.anchorPointY,$e=new t.Point(Z,Y);return P&&$e._rotate(W?ne:-ne),{x1:se+$e.x,y1:ke+$e.y,x2:ve+$e.x,y2:De+$e.y,anchorPointX:je,anchorPointY:We}}Dn.prototype.get=function(U){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[U]){var Z=++this.maxGroupID;this.collisionGroups[U]={ID:Z,predicate:function(Y){return Y.collisionGroupID===Z}}}return this.collisionGroups[U]};var Qn=function(U,Z,Y,P){this.transform=U.clone(),this.collisionIndex=new ir(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=Z,this.retainedQueryData={},this.collisionGroups=new Dn(Y),this.collisionCircleArrays={},this.prevPlacement=P,P&&(P.prevPlacement=void 0),this.placedOrientations={}};function xr(U,Z,Y,P,W){U.emplaceBack(Z?1:0,Y?1:0,P||0,W||0),U.emplaceBack(Z?1:0,Y?1:0,P||0,W||0),U.emplaceBack(Z?1:0,Y?1:0,P||0,W||0),U.emplaceBack(Z?1:0,Y?1:0,P||0,W||0)}Qn.prototype.getBucketParts=function(U,Z,Y,P){var W=Y.getBucket(Z),ne=Y.latestFeatureIndex;if(W&&ne&&Z.id===W.layerIds[0]){var se=Y.collisionBoxArray,ve=W.layers[0].layout,ke=Math.pow(2,this.transform.zoom-Y.tileID.overscaledZ),De=Y.tileSize/t.EXTENT,je=this.transform.calculatePosMatrix(Y.tileID.toUnwrapped()),We=ve.get("text-pitch-alignment")==="map",$e=ve.get("text-rotation-alignment")==="map",at=Kn(Y,1,this.transform.zoom),pt=An(je,We,$e,this.transform,at),vt=null;if(We){var kt=mn(je,We,$e,this.transform,at);vt=t.multiply([],this.transform.labelPlaneMatrix,kt)}this.retainedQueryData[W.bucketInstanceId]=new yn(W.bucketInstanceId,ne,W.sourceLayerIndex,W.index,Y.tileID);var Ot={bucket:W,layout:ve,posMatrix:je,textLabelPlaneMatrix:pt,labelToScreenMatrix:vt,scale:ke,textPixelRatio:De,holdingForFade:Y.holdingForFade(),collisionBoxArray:se,partiallyEvaluatedTextSize:t.evaluateSizeForZoom(W.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(W.sourceID)};if(P)for(var St=0,jt=W.sortKeyRanges;St<jt.length;St+=1){var It=jt[St],Jt=It.sortKey,$t=It.symbolInstanceStart,Ht=It.symbolInstanceEnd;U.push({sortKey:Jt,symbolInstanceStart:$t,symbolInstanceEnd:Ht,parameters:Ot})}else U.push({symbolInstanceStart:0,symbolInstanceEnd:W.symbolInstances.length,parameters:Ot})}},Qn.prototype.attemptAnchorPlacement=function(U,Z,Y,P,W,ne,se,ve,ke,De,je,We,$e,at,pt){var vt,kt=[We.textOffset0,We.textOffset1],Ot=$n(U,Y,P,kt,W),St=this.collisionIndex.placeCollisionBox(Hn(Z,Ot.x,Ot.y,ne,se,this.transform.angle),je,ve,ke,De.predicate);if(!pt||this.collisionIndex.placeCollisionBox(Hn(pt,Ot.x,Ot.y,ne,se,this.transform.angle),je,ve,ke,De.predicate).box.length!==0)return St.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[We.crossTileID]&&this.prevPlacement.placements[We.crossTileID]&&this.prevPlacement.placements[We.crossTileID].text&&(vt=this.prevPlacement.variableOffsets[We.crossTileID].anchor),this.variableOffsets[We.crossTileID]={textOffset:kt,width:Y,height:P,anchor:U,textBoxScale:W,prevAnchor:vt},this.markUsedJustification($e,U,We,at),$e.allowVerticalPlacement&&(this.markUsedOrientation($e,at,We),this.placedOrientations[We.crossTileID]=at),{shift:Ot,placedGlyphBoxes:St}):void 0},Qn.prototype.placeLayerBucketPart=function(U,Z,Y){var P=this,W=U.parameters,ne=W.bucket,se=W.layout,ve=W.posMatrix,ke=W.textLabelPlaneMatrix,De=W.labelToScreenMatrix,je=W.textPixelRatio,We=W.holdingForFade,$e=W.collisionBoxArray,at=W.partiallyEvaluatedTextSize,pt=W.collisionGroup,vt=se.get("text-optional"),kt=se.get("icon-optional"),Ot=se.get("text-allow-overlap"),St=se.get("icon-allow-overlap"),jt=se.get("text-rotation-alignment")==="map",It=se.get("text-pitch-alignment")==="map",Jt=se.get("icon-text-fit")!=="none",$t=se.get("symbol-z-order")==="viewport-y",Ht=Ot&&(St||!ne.hasIconData()||kt),vn=St&&(Ot||!ne.hasTextData()||vt);!ne.collisionArrays&&$e&&ne.deserializeCollisionBoxes($e);var bn=function(Xn,hr){if(!Z[Xn.crossTileID])if(We)P.placements[Xn.crossTileID]=new an(!1,!1,!1);else{var Ar,zr=!1,nr=!1,fr=!0,Lr=null,gr={box:null,offscreen:null},Ir={box:null,offscreen:null},Nr=null,ei=null,ni=0,ui=0,di=0;hr.textFeatureIndex?ni=hr.textFeatureIndex:Xn.useRuntimeCollisionCircles&&(ni=Xn.featureIndex),hr.verticalTextFeatureIndex&&(ui=hr.verticalTextFeatureIndex);var Bi=hr.textBox;if(Bi){var ia=function(Qi){var mo=t.WritingMode.horizontal;if(ne.allowVerticalPlacement&&!Qi&&P.prevPlacement){var La=P.prevPlacement.placedOrientations[Xn.crossTileID];La&&(P.placedOrientations[Xn.crossTileID]=La,mo=La,P.markUsedOrientation(ne,mo,Xn))}return mo},Ga=function(Qi,mo){if(ne.allowVerticalPlacement&&Xn.numVerticalGlyphVertices>0&&hr.verticalTextBox)for(var La=0,ff=ne.writingModes;La<ff.length&&(ff[La]===t.WritingMode.vertical?(gr=mo(),Ir=gr):gr=Qi(),!(gr&&gr.box&&gr.box.length));La+=1);else gr=Qi()};if(se.get("text-variable-anchor")){var xa=se.get("text-variable-anchor");if(P.prevPlacement&&P.prevPlacement.variableOffsets[Xn.crossTileID]){var Ba=P.prevPlacement.variableOffsets[Xn.crossTileID];xa.indexOf(Ba.anchor)>0&&(xa=xa.filter(function(Qi){return Qi!==Ba.anchor})).unshift(Ba.anchor)}var qi=function(Qi,mo,La){for(var ff=Qi.x2-Qi.x1,Ag=Qi.y2-Qi.y1,bd=Xn.textBoxScale,Mg=Jt&&!St?mo:null,Ac={box:[],offscreen:!1},Sg=Ot?2*xa.length:xa.length,Mc=0;Mc<Sg;++Mc){var _d=xa[Mc%xa.length],wd=Mc>=xa.length,Iu=P.attemptAnchorPlacement(_d,Qi,ff,Ag,bd,jt,It,je,ve,pt,wd,Xn,ne,La,Mg);if(Iu&&(Ac=Iu.placedGlyphBoxes)&&Ac.box&&Ac.box.length){zr=!0,Lr=Iu.shift;break}}return Ac};Ga(function(){return qi(Bi,hr.iconBox,t.WritingMode.horizontal)},function(){var Qi=hr.verticalTextBox,mo=gr&&gr.box&&gr.box.length;return ne.allowVerticalPlacement&&!mo&&Xn.numVerticalGlyphVertices>0&&Qi?qi(Qi,hr.verticalIconBox,t.WritingMode.vertical):{box:null,offscreen:null}}),gr&&(zr=gr.box,fr=gr.offscreen);var vi=ia(gr&&gr.box);if(!zr&&P.prevPlacement){var Ki=P.prevPlacement.variableOffsets[Xn.crossTileID];Ki&&(P.variableOffsets[Xn.crossTileID]=Ki,P.markUsedJustification(ne,Ki.anchor,Xn,vi))}}else{var Pi=function(Qi,mo){var La=P.collisionIndex.placeCollisionBox(Qi,Ot,je,ve,pt.predicate);return La&&La.box&&La.box.length&&(P.markUsedOrientation(ne,mo,Xn),P.placedOrientations[Xn.crossTileID]=mo),La};Ga(function(){return Pi(Bi,t.WritingMode.horizontal)},function(){var Qi=hr.verticalTextBox;return ne.allowVerticalPlacement&&Xn.numVerticalGlyphVertices>0&&Qi?Pi(Qi,t.WritingMode.vertical):{box:null,offscreen:null}}),ia(gr&&gr.box&&gr.box.length)}}if(zr=(Ar=gr)&&Ar.box&&Ar.box.length>0,fr=Ar&&Ar.offscreen,Xn.useRuntimeCollisionCircles){var bi=ne.text.placedSymbolArray.get(Xn.centerJustifiedTextSymbolIndex),Ji=t.evaluateSizeForFeature(ne.textSizeData,at,bi),aa=se.get("text-padding"),da=Xn.collisionCircleDiameter;Nr=P.collisionIndex.placeCollisionCircles(Ot,bi,ne.lineVertexArray,ne.glyphOffsetArray,Ji,ve,ke,De,Y,It,pt.predicate,da,aa),zr=Ot||Nr.circles.length>0&&!Nr.collisionDetected,fr=fr&&Nr.offscreen}if(hr.iconFeatureIndex&&(di=hr.iconFeatureIndex),hr.iconBox){var Nl=function(Qi){var mo=Jt&&Lr?Hn(Qi,Lr.x,Lr.y,jt,It,P.transform.angle):Qi;return P.collisionIndex.placeCollisionBox(mo,St,je,ve,pt.predicate)};nr=Ir&&Ir.box&&Ir.box.length&&hr.verticalIconBox?(ei=Nl(hr.verticalIconBox)).box.length>0:(ei=Nl(hr.iconBox)).box.length>0,fr=fr&&ei.offscreen}var jl=vt||Xn.numHorizontalGlyphVertices===0&&Xn.numVerticalGlyphVertices===0,_i=kt||Xn.numIconVertices===0;if(jl||_i?_i?jl||(nr=nr&&zr):zr=nr&&zr:nr=zr=nr&&zr,zr&&Ar&&Ar.box&&(Ir&&Ir.box&&ui?P.collisionIndex.insertCollisionBox(Ar.box,se.get("text-ignore-placement"),ne.bucketInstanceId,ui,pt.ID):P.collisionIndex.insertCollisionBox(Ar.box,se.get("text-ignore-placement"),ne.bucketInstanceId,ni,pt.ID)),nr&&ei&&P.collisionIndex.insertCollisionBox(ei.box,se.get("icon-ignore-placement"),ne.bucketInstanceId,di,pt.ID),Nr&&(zr&&P.collisionIndex.insertCollisionCircles(Nr.circles,se.get("text-ignore-placement"),ne.bucketInstanceId,ni,pt.ID),Y)){var Ou=ne.bucketInstanceId,uu=P.collisionCircleArrays[Ou];uu===void 0&&(uu=P.collisionCircleArrays[Ou]=new In);for(var As=0;As<Nr.circles.length;As+=4)uu.circles.push(Nr.circles[As+0]),uu.circles.push(Nr.circles[As+1]),uu.circles.push(Nr.circles[As+2]),uu.circles.push(Nr.collisionDetected?1:0)}P.placements[Xn.crossTileID]=new an(zr||Ht,nr||vn,fr||ne.justReloaded),Z[Xn.crossTileID]=!0}};if($t)for(var Ln=ne.getSortedSymbolIndexes(this.transform.angle),zn=Ln.length-1;zn>=0;--zn){var Gn=Ln[zn];bn(ne.symbolInstances.get(Gn),ne.collisionArrays[Gn])}else for(var or=U.symbolInstanceStart;or<U.symbolInstanceEnd;or++)bn(ne.symbolInstances.get(or),ne.collisionArrays[or]);if(Y&&ne.bucketInstanceId in this.collisionCircleArrays){var dr=this.collisionCircleArrays[ne.bucketInstanceId];t.invert(dr.invProjMatrix,ve),dr.viewportMatrix=this.collisionIndex.getViewportMatrix()}ne.justReloaded=!1},Qn.prototype.markUsedJustification=function(U,Z,Y,P){var W,ne={left:Y.leftJustifiedTextSymbolIndex,center:Y.centerJustifiedTextSymbolIndex,right:Y.rightJustifiedTextSymbolIndex};W=P===t.WritingMode.vertical?Y.verticalPlacedTextSymbolIndex:ne[t.getAnchorJustification(Z)];for(var se=0,ve=[Y.leftJustifiedTextSymbolIndex,Y.centerJustifiedTextSymbolIndex,Y.rightJustifiedTextSymbolIndex,Y.verticalPlacedTextSymbolIndex];se<ve.length;se+=1){var ke=ve[se];ke>=0&&(U.text.placedSymbolArray.get(ke).crossTileID=W>=0&&ke!==W?0:Y.crossTileID)}},Qn.prototype.markUsedOrientation=function(U,Z,Y){for(var P=Z===t.WritingMode.horizontal||Z===t.WritingMode.horizontalOnly?Z:0,W=Z===t.WritingMode.vertical?Z:0,ne=0,se=[Y.leftJustifiedTextSymbolIndex,Y.centerJustifiedTextSymbolIndex,Y.rightJustifiedTextSymbolIndex];ne<se.length;ne+=1){var ve=se[ne];U.text.placedSymbolArray.get(ve).placedOrientation=P}Y.verticalPlacedTextSymbolIndex&&(U.text.placedSymbolArray.get(Y.verticalPlacedTextSymbolIndex).placedOrientation=W)},Qn.prototype.commit=function(U){this.commitTime=U,this.zoomAtLastRecencyCheck=this.transform.zoom;var Z=this.prevPlacement,Y=!1;this.prevZoomAdjustment=Z?Z.zoomAdjustment(this.transform.zoom):0;var P=Z?Z.symbolFadeChange(U):1,W=Z?Z.opacities:{},ne=Z?Z.variableOffsets:{},se=Z?Z.placedOrientations:{};for(var ve in this.placements){var ke=this.placements[ve],De=W[ve];De?(this.opacities[ve]=new nn(De,P,ke.text,ke.icon),Y=Y||ke.text!==De.text.placed||ke.icon!==De.icon.placed):(this.opacities[ve]=new nn(null,P,ke.text,ke.icon,ke.skipFade),Y=Y||ke.text||ke.icon)}for(var je in W){var We=W[je];if(!this.opacities[je]){var $e=new nn(We,P,!1,!1);$e.isHidden()||(this.opacities[je]=$e,Y=Y||We.text.placed||We.icon.placed)}}for(var at in ne)this.variableOffsets[at]||!this.opacities[at]||this.opacities[at].isHidden()||(this.variableOffsets[at]=ne[at]);for(var pt in se)this.placedOrientations[pt]||!this.opacities[pt]||this.opacities[pt].isHidden()||(this.placedOrientations[pt]=se[pt]);Y?this.lastPlacementChangeTime=U:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=Z?Z.lastPlacementChangeTime:U)},Qn.prototype.updateLayerOpacities=function(U,Z){for(var Y={},P=0,W=Z;P<W.length;P+=1){var ne=W[P],se=ne.getBucket(U);se&&ne.latestFeatureIndex&&U.id===se.layerIds[0]&&this.updateBucketOpacities(se,Y,ne.collisionBoxArray)}},Qn.prototype.updateBucketOpacities=function(U,Z,Y){var P=this;U.hasTextData()&&U.text.opacityVertexArray.clear(),U.hasIconData()&&U.icon.opacityVertexArray.clear(),U.hasIconCollisionBoxData()&&U.iconCollisionBox.collisionVertexArray.clear(),U.hasTextCollisionBoxData()&&U.textCollisionBox.collisionVertexArray.clear();var W=U.layers[0].layout,ne=new nn(null,0,!1,!1,!0),se=W.get("text-allow-overlap"),ve=W.get("icon-allow-overlap"),ke=W.get("text-variable-anchor"),De=W.get("text-rotation-alignment")==="map",je=W.get("text-pitch-alignment")==="map",We=W.get("icon-text-fit")!=="none",$e=new nn(null,0,se&&(ve||!U.hasIconData()||W.get("icon-optional")),ve&&(se||!U.hasTextData()||W.get("text-optional")),!0);!U.collisionArrays&&Y&&(U.hasIconCollisionBoxData()||U.hasTextCollisionBoxData())&&U.deserializeCollisionBoxes(Y);for(var at=function(Ot,St,jt){for(var It=0;It<St/4;It++)Ot.opacityVertexArray.emplaceBack(jt)},pt=function(Ot){var St=U.symbolInstances.get(Ot),jt=St.numHorizontalGlyphVertices,It=St.numVerticalGlyphVertices,Jt=St.crossTileID,$t=Z[Jt],Ht=P.opacities[Jt];$t?Ht=ne:Ht||(Ht=$e,P.opacities[Jt]=Ht),Z[Jt]=!0;var vn=jt>0||It>0,bn=St.numIconVertices>0,Ln=P.placedOrientations[St.crossTileID],zn=Ln===t.WritingMode.vertical,Gn=Ln===t.WritingMode.horizontal||Ln===t.WritingMode.horizontalOnly;if(vn){var or=_n(Ht.text),dr=zn?on:or;at(U.text,jt,dr);var Xn=Gn?on:or;at(U.text,It,Xn);var hr=Ht.text.isHidden();[St.rightJustifiedTextSymbolIndex,St.centerJustifiedTextSymbolIndex,St.leftJustifiedTextSymbolIndex].forEach(function(di){di>=0&&(U.text.placedSymbolArray.get(di).hidden=hr||zn?1:0)}),St.verticalPlacedTextSymbolIndex>=0&&(U.text.placedSymbolArray.get(St.verticalPlacedTextSymbolIndex).hidden=hr||Gn?1:0);var Ar=P.variableOffsets[St.crossTileID];Ar&&P.markUsedJustification(U,Ar.anchor,St,Ln);var zr=P.placedOrientations[St.crossTileID];zr&&(P.markUsedJustification(U,"left",St,zr),P.markUsedOrientation(U,zr,St))}if(bn){var nr=_n(Ht.icon),fr=!(We&&St.verticalPlacedIconSymbolIndex&&zn);if(St.placedIconSymbolIndex>=0){var Lr=fr?nr:on;at(U.icon,St.numIconVertices,Lr),U.icon.placedSymbolArray.get(St.placedIconSymbolIndex).hidden=Ht.icon.isHidden()}if(St.verticalPlacedIconSymbolIndex>=0){var gr=fr?on:nr;at(U.icon,St.numVerticalIconVertices,gr),U.icon.placedSymbolArray.get(St.verticalPlacedIconSymbolIndex).hidden=Ht.icon.isHidden()}}if(U.hasIconCollisionBoxData()||U.hasTextCollisionBoxData()){var Ir=U.collisionArrays[Ot];if(Ir){var Nr=new t.Point(0,0);if(Ir.textBox||Ir.verticalTextBox){var ei=!0;if(ke){var ni=P.variableOffsets[Jt];ni?(Nr=$n(ni.anchor,ni.width,ni.height,ni.textOffset,ni.textBoxScale),De&&Nr._rotate(je?P.transform.angle:-P.transform.angle)):ei=!1}Ir.textBox&&xr(U.textCollisionBox.collisionVertexArray,Ht.text.placed,!ei||zn,Nr.x,Nr.y),Ir.verticalTextBox&&xr(U.textCollisionBox.collisionVertexArray,Ht.text.placed,!ei||Gn,Nr.x,Nr.y)}var ui=!!(!Gn&&Ir.verticalIconBox);Ir.iconBox&&xr(U.iconCollisionBox.collisionVertexArray,Ht.icon.placed,ui,We?Nr.x:0,We?Nr.y:0),Ir.verticalIconBox&&xr(U.iconCollisionBox.collisionVertexArray,Ht.icon.placed,!ui,We?Nr.x:0,We?Nr.y:0)}}},vt=0;vt<U.symbolInstances.length;vt++)pt(vt);if(U.sortFeatures(this.transform.angle),this.retainedQueryData[U.bucketInstanceId]&&(this.retainedQueryData[U.bucketInstanceId].featureSortOrder=U.featureSortOrder),U.hasTextData()&&U.text.opacityVertexBuffer&&U.text.opacityVertexBuffer.updateData(U.text.opacityVertexArray),U.hasIconData()&&U.icon.opacityVertexBuffer&&U.icon.opacityVertexBuffer.updateData(U.icon.opacityVertexArray),U.hasIconCollisionBoxData()&&U.iconCollisionBox.collisionVertexBuffer&&U.iconCollisionBox.collisionVertexBuffer.updateData(U.iconCollisionBox.collisionVertexArray),U.hasTextCollisionBoxData()&&U.textCollisionBox.collisionVertexBuffer&&U.textCollisionBox.collisionVertexBuffer.updateData(U.textCollisionBox.collisionVertexArray),U.bucketInstanceId in this.collisionCircleArrays){var kt=this.collisionCircleArrays[U.bucketInstanceId];U.placementInvProjMatrix=kt.invProjMatrix,U.placementViewportMatrix=kt.viewportMatrix,U.collisionCircleArray=kt.circles,delete this.collisionCircleArrays[U.bucketInstanceId]}},Qn.prototype.symbolFadeChange=function(U){return this.fadeDuration===0?1:(U-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Qn.prototype.zoomAdjustment=function(U){return Math.max(0,(this.transform.zoom-U)/1.5)},Qn.prototype.hasTransitions=function(U){return this.stale||U-this.lastPlacementChangeTime<this.fadeDuration},Qn.prototype.stillRecent=function(U,Z){var Y=this.zoomAtLastRecencyCheck===Z?1-this.zoomAdjustment(Z):1;return this.zoomAtLastRecencyCheck=Z,this.commitTime+this.fadeDuration*Y>U},Qn.prototype.setStale=function(){this.stale=!0};var Qt=Math.pow(2,25),xn=Math.pow(2,24),At=Math.pow(2,17),Wt=Math.pow(2,16),en=Math.pow(2,9),dn=Math.pow(2,8),gn=Math.pow(2,1);function _n(U){if(U.opacity===0&&!U.placed)return 0;if(U.opacity===1&&U.placed)return 4294967295;var Z=U.placed?1:0,Y=Math.floor(127*U.opacity);return Y*Qt+Z*xn+Y*At+Z*Wt+Y*en+Z*dn+Y*gn+Z}var on=0,Yt=function(U){this._sortAcrossTiles=U.layout.get("symbol-z-order")!=="viewport-y"&&U.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Yt.prototype.continuePlacement=function(U,Z,Y,P,W){for(var ne=this._bucketParts;this._currentTileIndex<U.length;){var se=U[this._currentTileIndex];if(Z.getBucketParts(ne,P,se,this._sortAcrossTiles),this._currentTileIndex++,W())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,ne.sort(function(ke,De){return ke.sortKey-De.sortKey}));this._currentPartIndex<ne.length;){var ve=ne[this._currentPartIndex];if(Z.placeLayerBucketPart(ve,this._seenCrossTileIDs,Y),this._currentPartIndex++,W())return!0}return!1};var Zt=function(U,Z,Y,P,W,ne,se){this.placement=new Qn(U,W,ne,se),this._currentPlacementIndex=Z.length-1,this._forceFullPlacement=Y,this._showCollisionBoxes=P,this._done=!1};Zt.prototype.isDone=function(){return this._done},Zt.prototype.continuePlacement=function(U,Z,Y){for(var P=this,W=t.browser.now(),ne=function(){var ke=t.browser.now()-W;return!P._forceFullPlacement&&ke>2};this._currentPlacementIndex>=0;){var se=Z[U[this._currentPlacementIndex]],ve=this.placement.collisionIndex.transform.zoom;if(se.type==="symbol"&&(!se.minzoom||se.minzoom<=ve)&&(!se.maxzoom||se.maxzoom>ve)){if(this._inProgressLayer||(this._inProgressLayer=new Yt(se)),this._inProgressLayer.continuePlacement(Y[se.source],this.placement,this._showCollisionBoxes,se,ne))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Zt.prototype.commit=function(U){return this.placement.commit(U),this.placement};var sn=512/t.EXTENT/2,hn=function(U,Z,Y){this.tileID=U,this.indexedSymbolInstances={},this.bucketInstanceId=Y;for(var P=0;P<Z.length;P++){var W=Z.get(P),ne=W.key;this.indexedSymbolInstances[ne]||(this.indexedSymbolInstances[ne]=[]),this.indexedSymbolInstances[ne].push({crossTileID:W.crossTileID,coord:this.getScaledCoordinates(W,U)})}};hn.prototype.getScaledCoordinates=function(U,Z){var Y=Z.canonical.z-this.tileID.canonical.z,P=sn/Math.pow(2,Y);return{x:Math.floor((Z.canonical.x*t.EXTENT+U.anchorX)*P),y:Math.floor((Z.canonical.y*t.EXTENT+U.anchorY)*P)}},hn.prototype.findMatches=function(U,Z,Y){for(var P=this.tileID.canonical.z<Z.canonical.z?1:Math.pow(2,this.tileID.canonical.z-Z.canonical.z),W=0;W<U.length;W++){var ne=U.get(W);if(!ne.crossTileID){var se=this.indexedSymbolInstances[ne.key];if(se)for(var ve=this.getScaledCoordinates(ne,Z),ke=0,De=se;ke<De.length;ke+=1){var je=De[ke];if(Math.abs(je.coord.x-ve.x)<=P&&Math.abs(je.coord.y-ve.y)<=P&&!Y[je.crossTileID]){Y[je.crossTileID]=!0,ne.crossTileID=je.crossTileID;break}}}}};var Sn=function(){this.maxCrossTileID=0};Sn.prototype.generate=function(){return++this.maxCrossTileID};var Cn=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Cn.prototype.handleWrapJump=function(U){var Z=Math.round((U-this.lng)/360);if(Z!==0)for(var Y in this.indexes){var P=this.indexes[Y],W={};for(var ne in P){var se=P[ne];se.tileID=se.tileID.unwrapTo(se.tileID.wrap+Z),W[se.tileID.key]=se}this.indexes[Y]=W}this.lng=U},Cn.prototype.addBucket=function(U,Z,Y){if(this.indexes[U.overscaledZ]&&this.indexes[U.overscaledZ][U.key]){if(this.indexes[U.overscaledZ][U.key].bucketInstanceId===Z.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(U.overscaledZ,this.indexes[U.overscaledZ][U.key])}for(var P=0;P<Z.symbolInstances.length;P++)Z.symbolInstances.get(P).crossTileID=0;this.usedCrossTileIDs[U.overscaledZ]||(this.usedCrossTileIDs[U.overscaledZ]={});var W=this.usedCrossTileIDs[U.overscaledZ];for(var ne in this.indexes){var se=this.indexes[ne];if(Number(ne)>U.overscaledZ)for(var ve in se){var ke=se[ve];ke.tileID.isChildOf(U)&&ke.findMatches(Z.symbolInstances,U,W)}else{var De=se[U.scaledTo(Number(ne)).key];De&&De.findMatches(Z.symbolInstances,U,W)}}for(var je=0;je<Z.symbolInstances.length;je++){var We=Z.symbolInstances.get(je);We.crossTileID||(We.crossTileID=Y.generate(),W[We.crossTileID]=!0)}return this.indexes[U.overscaledZ]===void 0&&(this.indexes[U.overscaledZ]={}),this.indexes[U.overscaledZ][U.key]=new hn(U,Z.symbolInstances,Z.bucketInstanceId),!0},Cn.prototype.removeBucketCrossTileIDs=function(U,Z){for(var Y in Z.indexedSymbolInstances)for(var P=0,W=Z.indexedSymbolInstances[Y];P<W.length;P+=1){var ne=W[P];delete this.usedCrossTileIDs[U][ne.crossTileID]}},Cn.prototype.removeStaleBuckets=function(U){var Z=!1;for(var Y in this.indexes){var P=this.indexes[Y];for(var W in P)U[P[W].bucketInstanceId]||(this.removeBucketCrossTileIDs(Y,P[W]),delete P[W],Z=!0)}return Z};var Un=function(){this.layerIndexes={},this.crossTileIDs=new Sn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Un.prototype.addLayer=function(U,Z,Y){var P=this.layerIndexes[U.id];P===void 0&&(P=this.layerIndexes[U.id]=new Cn);var W=!1,ne={};P.handleWrapJump(Y);for(var se=0,ve=Z;se<ve.length;se+=1){var ke=ve[se],De=ke.getBucket(U);De&&U.id===De.layerIds[0]&&(De.bucketInstanceId||(De.bucketInstanceId=++this.maxBucketInstanceId),P.addBucket(ke.tileID,De,this.crossTileIDs)&&(W=!0),ne[De.bucketInstanceId]=!0)}return P.removeStaleBuckets(ne)&&(W=!0),W},Un.prototype.pruneUnusedLayers=function(U){var Z={};for(var Y in U.forEach(function(P){Z[P]=!0}),this.layerIndexes)Z[Y]||delete this.layerIndexes[Y]};var qn=function(U,Z){return t.emitValidationErrors(U,Z&&Z.filter(function(Y){return Y.identifier!=="source.canvas"}))},tr=t.pick(wt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Yn=t.pick(wt,["setCenter","setZoom","setBearing","setPitch"]),sr=function(){var U={},Z=t.styleSpec.$version;for(var Y in t.styleSpec.$root){var P=t.styleSpec.$root[Y];if(P.required){var W;(W=Y==="version"?Z:P.type==="array"?[]:{})!=null&&(U[Y]=W)}}return U}(),ar=function(U){function Z(Y,P){var W=this;P===void 0&&(P={}),U.call(this),this.map=Y,this.dispatcher=new R(bt(),this),this.imageManager=new h,this.imageManager.setEventedParent(this),this.glyphManager=new _(Y._requestManager,P.localIdeographFontFamily),this.lineAtlas=new C(256,512),this.crossTileSymbolIndex=new Un,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new t.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",t.getReferrer());var ne=this;this._rtlTextPluginCallback=Z.registerForPluginStateChange(function(se){var ve={pluginStatus:se.pluginStatus,pluginURL:se.pluginURL};ne.dispatcher.broadcast("syncRTLPluginState",ve,function(ke,De){if(t.triggerPluginCompletionEvent(ke),De&&De.every(function(We){return We}))for(var je in ne.sourceCaches)ne.sourceCaches[je].reload()})}),this.on("data",function(se){if(se.dataType==="source"&&se.sourceDataType==="metadata"){var ve=W.sourceCaches[se.sourceId];if(ve){var ke=ve.getSource();if(ke&&ke.vectorLayerIds)for(var De in W._layers){var je=W._layers[De];je.source===ke.id&&W._validateLayer(je)}}}})}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.loadURL=function(Y,P){var W=this;P===void 0&&(P={}),this.fire(new t.Event("dataloading",{dataType:"style"}));var ne=typeof P.validate=="boolean"?P.validate:!t.isMapboxURL(Y);Y=this.map._requestManager.normalizeStyleURL(Y,P.accessToken);var se=this.map._requestManager.transformRequest(Y,t.ResourceType.Style);this._request=t.getJSON(se,function(ve,ke){W._request=null,ve?W.fire(new t.ErrorEvent(ve)):ke&&W._load(ke,ne)})},Z.prototype.loadJSON=function(Y,P){var W=this;P===void 0&&(P={}),this.fire(new t.Event("dataloading",{dataType:"style"})),this._request=t.browser.frame(function(){W._request=null,W._load(Y,P.validate!==!1)})},Z.prototype.loadEmpty=function(){this.fire(new t.Event("dataloading",{dataType:"style"})),this._load(sr,!1)},Z.prototype._load=function(Y,P){if(!P||!qn(this,t.validateStyle(Y))){for(var W in this._loaded=!0,this.stylesheet=Y,Y.sources)this.addSource(W,Y.sources[W],{validate:!1});Y.sprite?this._loadSprite(Y.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(Y.glyphs);var ne=Lt(this.stylesheet.layers);this._order=ne.map(function(De){return De.id}),this._layers={},this._serializedLayers={};for(var se=0,ve=ne;se<ve.length;se+=1){var ke=ve[se];(ke=t.createStyleLayer(ke)).setEventedParent(this,{layer:{id:ke.id}}),this._layers[ke.id]=ke,this._serializedLayers[ke.id]=ke.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new M(this.stylesheet.light),this.fire(new t.Event("data",{dataType:"style"})),this.fire(new t.Event("style.load"))}},Z.prototype._loadSprite=function(Y){var P=this;this._spriteRequest=function(W,ne,se){var ve,ke,De,je=t.browser.devicePixelRatio>1?"@2x":"",We=t.getJSON(ne.transformRequest(ne.normalizeSpriteURL(W,je,".json"),t.ResourceType.SpriteJSON),function(pt,vt){We=null,De||(De=pt,ve=vt,at())}),$e=t.getImage(ne.transformRequest(ne.normalizeSpriteURL(W,je,".png"),t.ResourceType.SpriteImage),function(pt,vt){$e=null,De||(De=pt,ke=vt,at())});function at(){if(De)se(De);else if(ve&&ke){var pt=t.browser.getImageData(ke),vt={};for(var kt in ve){var Ot=ve[kt],St=Ot.width,jt=Ot.height,It=Ot.x,Jt=Ot.y,$t=Ot.sdf,Ht=Ot.pixelRatio,vn=Ot.stretchX,bn=Ot.stretchY,Ln=Ot.content,zn=new t.RGBAImage({width:St,height:jt});t.RGBAImage.copy(pt,zn,{x:It,y:Jt},{x:0,y:0},{width:St,height:jt}),vt[kt]={data:zn,pixelRatio:Ht,sdf:$t,stretchX:vn,stretchY:bn,content:Ln}}se(null,vt)}}return{cancel:function(){We&&(We.cancel(),We=null),$e&&($e.cancel(),$e=null)}}}(Y,this.map._requestManager,function(W,ne){if(P._spriteRequest=null,W)P.fire(new t.ErrorEvent(W));else if(ne)for(var se in ne)P.imageManager.addImage(se,ne[se]);P.imageManager.setLoaded(!0),P._availableImages=P.imageManager.listImages(),P.dispatcher.broadcast("setImages",P._availableImages),P.fire(new t.Event("data",{dataType:"style"}))})},Z.prototype._validateLayer=function(Y){var P=this.sourceCaches[Y.source];if(P){var W=Y.sourceLayer;if(W){var ne=P.getSource();(ne.type==="geojson"||ne.vectorLayerIds&&ne.vectorLayerIds.indexOf(W)===-1)&&this.fire(new t.ErrorEvent(new Error('Source layer "'+W+'" does not exist on source "'+ne.id+'" as specified by style layer "'+Y.id+'"')))}}},Z.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var Y in this.sourceCaches)if(!this.sourceCaches[Y].loaded())return!1;return!!this.imageManager.isLoaded()},Z.prototype._serializeLayers=function(Y){for(var P=[],W=0,ne=Y;W<ne.length;W+=1){var se=ne[W],ve=this._layers[se];ve.type!=="custom"&&P.push(ve.serialize())}return P},Z.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var Y in this.sourceCaches)if(this.sourceCaches[Y].hasTransition())return!0;for(var P in this._layers)if(this._layers[P].hasTransition())return!0;return!1},Z.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},Z.prototype.update=function(Y){if(this._loaded){var P=this._changed;if(this._changed){var W=Object.keys(this._updatedLayers),ne=Object.keys(this._removedLayers);for(var se in(W.length||ne.length)&&this._updateWorkerLayers(W,ne),this._updatedSources){var ve=this._updatedSources[se];ve==="reload"?this._reloadSource(se):ve==="clear"&&this._clearSource(se)}for(var ke in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[ke].updateTransitions(Y);this.light.updateTransitions(Y),this._resetUpdates()}var De={};for(var je in this.sourceCaches){var We=this.sourceCaches[je];De[je]=We.used,We.used=!1}for(var $e=0,at=this._order;$e<at.length;$e+=1){var pt=at[$e],vt=this._layers[pt];vt.recalculate(Y,this._availableImages),!vt.isHidden(Y.zoom)&&vt.source&&(this.sourceCaches[vt.source].used=!0)}for(var kt in De){var Ot=this.sourceCaches[kt];De[kt]!==Ot.used&&Ot.fire(new t.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:kt}))}this.light.recalculate(Y),this.z=Y.zoom,P&&this.fire(new t.Event("data",{dataType:"style"}))}},Z.prototype._updateTilesForChangedImages=function(){var Y=Object.keys(this._changedImages);if(Y.length){for(var P in this.sourceCaches)this.sourceCaches[P].reloadTilesForDependencies(["icons","patterns"],Y);this._changedImages={}}},Z.prototype._updateWorkerLayers=function(Y,P){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(Y),removedIds:P})},Z.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},Z.prototype.setState=function(Y){var P=this;if(this._checkLoaded(),qn(this,t.validateStyle(Y)))return!1;(Y=t.clone$1(Y)).layers=Lt(Y.layers);var W=Kt(this.serialize(),Y).filter(function(se){return!(se.command in Yn)});if(W.length===0)return!1;var ne=W.filter(function(se){return!(se.command in tr)});if(ne.length>0)throw new Error("Unimplemented: "+ne.map(function(se){return se.command}).join(", ")+".");return W.forEach(function(se){se.command!=="setTransition"&&P[se.command].apply(P,se.args)}),this.stylesheet=Y,!0},Z.prototype.addImage=function(Y,P){if(this.getImage(Y))return this.fire(new t.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(Y,P),this._afterImageUpdated(Y)},Z.prototype.updateImage=function(Y,P){this.imageManager.updateImage(Y,P)},Z.prototype.getImage=function(Y){return this.imageManager.getImage(Y)},Z.prototype.removeImage=function(Y){if(!this.getImage(Y))return this.fire(new t.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(Y),this._afterImageUpdated(Y)},Z.prototype._afterImageUpdated=function(Y){this._availableImages=this.imageManager.listImages(),this._changedImages[Y]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new t.Event("data",{dataType:"style"}))},Z.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},Z.prototype.addSource=function(Y,P,W){var ne=this;if(W===void 0&&(W={}),this._checkLoaded(),this.sourceCaches[Y]!==void 0)throw new Error("There is already a source with this ID");if(!P.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(P).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(P.type)>=0&&this._validate(t.validateStyle.source,"sources."+Y,P,null,W))){this.map&&this.map._collectResourceTiming&&(P.collectResourceTiming=!0);var se=this.sourceCaches[Y]=new ft(Y,P,this.dispatcher);se.style=this,se.setEventedParent(this,function(){return{isSourceLoaded:ne.loaded(),source:se.serialize(),sourceId:Y}}),se.onAdd(this.map),this._changed=!0}},Z.prototype.removeSource=function(Y){if(this._checkLoaded(),this.sourceCaches[Y]===void 0)throw new Error("There is no source with this ID");for(var P in this._layers)if(this._layers[P].source===Y)return this.fire(new t.ErrorEvent(new Error('Source "'+Y+'" cannot be removed while layer "'+P+'" is using it.')));var W=this.sourceCaches[Y];delete this.sourceCaches[Y],delete this._updatedSources[Y],W.fire(new t.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:Y})),W.setEventedParent(null),W.clearTiles(),W.onRemove&&W.onRemove(this.map),this._changed=!0},Z.prototype.setGeoJSONSourceData=function(Y,P){this._checkLoaded(),this.sourceCaches[Y].getSource().setData(P),this._changed=!0},Z.prototype.getSource=function(Y){return this.sourceCaches[Y]&&this.sourceCaches[Y].getSource()},Z.prototype.addLayer=function(Y,P,W){W===void 0&&(W={}),this._checkLoaded();var ne=Y.id;if(this.getLayer(ne))this.fire(new t.ErrorEvent(new Error('Layer with id "'+ne+'" already exists on this map')));else{var se;if(Y.type==="custom"){if(qn(this,t.validateCustomStyleLayer(Y)))return;se=t.createStyleLayer(Y)}else{if(typeof Y.source=="object"&&(this.addSource(ne,Y.source),Y=t.clone$1(Y),Y=t.extend(Y,{source:ne})),this._validate(t.validateStyle.layer,"layers."+ne,Y,{arrayIndex:-1},W))return;se=t.createStyleLayer(Y),this._validateLayer(se),se.setEventedParent(this,{layer:{id:ne}}),this._serializedLayers[se.id]=se.serialize()}var ve=P?this._order.indexOf(P):this._order.length;if(P&&ve===-1)this.fire(new t.ErrorEvent(new Error('Layer with id "'+P+'" does not exist on this map.')));else{if(this._order.splice(ve,0,ne),this._layerOrderChanged=!0,this._layers[ne]=se,this._removedLayers[ne]&&se.source&&se.type!=="custom"){var ke=this._removedLayers[ne];delete this._removedLayers[ne],ke.type!==se.type?this._updatedSources[se.source]="clear":(this._updatedSources[se.source]="reload",this.sourceCaches[se.source].pause())}this._updateLayer(se),se.onAdd&&se.onAdd(this.map)}}},Z.prototype.moveLayer=function(Y,P){if(this._checkLoaded(),this._changed=!0,this._layers[Y]){if(Y!==P){var W=this._order.indexOf(Y);this._order.splice(W,1);var ne=P?this._order.indexOf(P):this._order.length;P&&ne===-1?this.fire(new t.ErrorEvent(new Error('Layer with id "'+P+'" does not exist on this map.'))):(this._order.splice(ne,0,Y),this._layerOrderChanged=!0)}}else this.fire(new t.ErrorEvent(new Error("The layer '"+Y+"' does not exist in the map's style and cannot be moved.")))},Z.prototype.removeLayer=function(Y){this._checkLoaded();var P=this._layers[Y];if(P){P.setEventedParent(null);var W=this._order.indexOf(Y);this._order.splice(W,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[Y]=P,delete this._layers[Y],delete this._serializedLayers[Y],delete this._updatedLayers[Y],delete this._updatedPaintProps[Y],P.onRemove&&P.onRemove(this.map)}else this.fire(new t.ErrorEvent(new Error("The layer '"+Y+"' does not exist in the map's style and cannot be removed.")))},Z.prototype.getLayer=function(Y){return this._layers[Y]},Z.prototype.hasLayer=function(Y){return Y in this._layers},Z.prototype.setLayerZoomRange=function(Y,P,W){this._checkLoaded();var ne=this.getLayer(Y);ne?ne.minzoom===P&&ne.maxzoom===W||(P!=null&&(ne.minzoom=P),W!=null&&(ne.maxzoom=W),this._updateLayer(ne)):this.fire(new t.ErrorEvent(new Error("The layer '"+Y+"' does not exist in the map's style and cannot have zoom extent.")))},Z.prototype.setFilter=function(Y,P,W){W===void 0&&(W={}),this._checkLoaded();var ne=this.getLayer(Y);if(ne){if(!t.deepEqual(ne.filter,P))return P==null?(ne.filter=void 0,void this._updateLayer(ne)):void(this._validate(t.validateStyle.filter,"layers."+ne.id+".filter",P,null,W)||(ne.filter=t.clone$1(P),this._updateLayer(ne)))}else this.fire(new t.ErrorEvent(new Error("The layer '"+Y+"' does not exist in the map's style and cannot be filtered.")))},Z.prototype.getFilter=function(Y){return t.clone$1(this.getLayer(Y).filter)},Z.prototype.setLayoutProperty=function(Y,P,W,ne){ne===void 0&&(ne={}),this._checkLoaded();var se=this.getLayer(Y);se?t.deepEqual(se.getLayoutProperty(P),W)||(se.setLayoutProperty(P,W,ne),this._updateLayer(se)):this.fire(new t.ErrorEvent(new Error("The layer '"+Y+"' does not exist in the map's style and cannot be styled.")))},Z.prototype.getLayoutProperty=function(Y,P){var W=this.getLayer(Y);if(W)return W.getLayoutProperty(P);this.fire(new t.ErrorEvent(new Error("The layer '"+Y+"' does not exist in the map's style.")))},Z.prototype.setPaintProperty=function(Y,P,W,ne){ne===void 0&&(ne={}),this._checkLoaded();var se=this.getLayer(Y);se?t.deepEqual(se.getPaintProperty(P),W)||(se.setPaintProperty(P,W,ne)&&this._updateLayer(se),this._changed=!0,this._updatedPaintProps[Y]=!0):this.fire(new t.ErrorEvent(new Error("The layer '"+Y+"' does not exist in the map's style and cannot be styled.")))},Z.prototype.getPaintProperty=function(Y,P){return this.getLayer(Y).getPaintProperty(P)},Z.prototype.setFeatureState=function(Y,P){this._checkLoaded();var W=Y.source,ne=Y.sourceLayer,se=this.sourceCaches[W];if(se!==void 0){var ve=se.getSource().type;ve==="geojson"&&ne?this.fire(new t.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):ve!=="vector"||ne?(Y.id===void 0&&this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided."))),se.setFeatureState(ne,Y.id,P)):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+W+"' does not exist in the map's style.")))},Z.prototype.removeFeatureState=function(Y,P){this._checkLoaded();var W=Y.source,ne=this.sourceCaches[W];if(ne!==void 0){var se=ne.getSource().type,ve=se==="vector"?Y.sourceLayer:void 0;se!=="vector"||ve?P&&typeof Y.id!="string"&&typeof Y.id!="number"?this.fire(new t.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):ne.removeFeatureState(ve,Y.id,P):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+W+"' does not exist in the map's style.")))},Z.prototype.getFeatureState=function(Y){this._checkLoaded();var P=Y.source,W=Y.sourceLayer,ne=this.sourceCaches[P];if(ne!==void 0){if(ne.getSource().type!=="vector"||W)return Y.id===void 0&&this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided."))),ne.getFeatureState(W,Y.id);this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+P+"' does not exist in the map's style.")))},Z.prototype.getTransition=function(){return t.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},Z.prototype.serialize=function(){return t.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:t.mapObject(this.sourceCaches,function(Y){return Y.serialize()}),layers:this._serializeLayers(this._order)},function(Y){return Y!==void 0})},Z.prototype._updateLayer=function(Y){this._updatedLayers[Y.id]=!0,Y.source&&!this._updatedSources[Y.source]&&this.sourceCaches[Y.source].getSource().type!=="raster"&&(this._updatedSources[Y.source]="reload",this.sourceCaches[Y.source].pause()),this._changed=!0},Z.prototype._flattenAndSortRenderedFeatures=function(Y){for(var P=this,W=function(Ln){return P._layers[Ln].type==="fill-extrusion"},ne={},se=[],ve=this._order.length-1;ve>=0;ve--){var ke=this._order[ve];if(W(ke)){ne[ke]=ve;for(var De=0,je=Y;De<je.length;De+=1){var We=je[De][ke];if(We)for(var $e=0,at=We;$e<at.length;$e+=1){var pt=at[$e];se.push(pt)}}}}se.sort(function(Ln,zn){return zn.intersectionZ-Ln.intersectionZ});for(var vt=[],kt=this._order.length-1;kt>=0;kt--){var Ot=this._order[kt];if(W(Ot))for(var St=se.length-1;St>=0;St--){var jt=se[St].feature;if(ne[jt.layer.id]<kt)break;vt.push(jt),se.pop()}else for(var It=0,Jt=Y;It<Jt.length;It+=1){var $t=Jt[It][Ot];if($t)for(var Ht=0,vn=$t;Ht<vn.length;Ht+=1){var bn=vn[Ht];vt.push(bn.feature)}}}return vt},Z.prototype.queryRenderedFeatures=function(Y,P,W){P&&P.filter&&this._validate(t.validateStyle.filter,"queryRenderedFeatures.filter",P.filter,null,P);var ne={};if(P&&P.layers){if(!Array.isArray(P.layers))return this.fire(new t.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var se=0,ve=P.layers;se<ve.length;se+=1){var ke=ve[se],De=this._layers[ke];if(!De)return this.fire(new t.ErrorEvent(new Error("The layer '"+ke+"' does not exist in the map's style and cannot be queried for features."))),[];ne[De.source]=!0}}var je=[];for(var We in P.availableImages=this._availableImages,this.sourceCaches)P.layers&&!ne[We]||je.push(te(this.sourceCaches[We],this._layers,this._serializedLayers,Y,P,W));return this.placement&&je.push(function($e,at,pt,vt,kt,Ot,St){for(var jt={},It=Ot.queryRenderedSymbols(vt),Jt=[],$t=0,Ht=Object.keys(It).map(Number);$t<Ht.length;$t+=1){var vn=Ht[$t];Jt.push(St[vn])}Jt.sort(K);for(var bn=function(){var dr=zn[Ln],Xn=dr.featureIndex.lookupSymbolFeatures(It[dr.bucketInstanceId],at,dr.bucketIndex,dr.sourceLayerIndex,kt.filter,kt.layers,kt.availableImages,$e);for(var hr in Xn){var Ar=jt[hr]=jt[hr]||[],zr=Xn[hr];zr.sort(function(gr,Ir){var Nr=dr.featureSortOrder;if(Nr){var ei=Nr.indexOf(gr.featureIndex);return Nr.indexOf(Ir.featureIndex)-ei}return Ir.featureIndex-gr.featureIndex});for(var nr=0,fr=zr;nr<fr.length;nr+=1){var Lr=fr[nr];Ar.push(Lr)}}},Ln=0,zn=Jt;Ln<zn.length;Ln+=1)bn();var Gn=function(dr){jt[dr].forEach(function(Xn){var hr=Xn.feature,Ar=$e[dr],zr=pt[Ar.source].getFeatureState(hr.layer["source-layer"],hr.id);hr.source=hr.layer.source,hr.layer["source-layer"]&&(hr.sourceLayer=hr.layer["source-layer"]),hr.state=zr})};for(var or in jt)Gn(or);return jt}(this._layers,this._serializedLayers,this.sourceCaches,Y,P,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(je)},Z.prototype.querySourceFeatures=function(Y,P){P&&P.filter&&this._validate(t.validateStyle.filter,"querySourceFeatures.filter",P.filter,null,P);var W=this.sourceCaches[Y];return W?function(ne,se){for(var ve=ne.getRenderableIds().map(function(at){return ne.getTileByID(at)}),ke=[],De={},je=0;je<ve.length;je++){var We=ve[je],$e=We.tileID.canonical.key;De[$e]||(De[$e]=!0,We.querySourceFeatures(ke,se))}return ke}(W,P):[]},Z.prototype.addSourceType=function(Y,P,W){return Z.getSourceType(Y)?W(new Error('A source type called "'+Y+'" already exists.')):(Z.setSourceType(Y,P),P.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:Y,url:P.workerSourceURL},W):W(null,null))},Z.prototype.getLight=function(){return this.light.getLight()},Z.prototype.setLight=function(Y,P){P===void 0&&(P={}),this._checkLoaded();var W=this.light.getLight(),ne=!1;for(var se in Y)if(!t.deepEqual(Y[se],W[se])){ne=!0;break}if(ne){var ve={now:t.browser.now(),transition:t.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(Y,P),this.light.updateTransitions(ve)}},Z.prototype._validate=function(Y,P,W,ne,se){return se===void 0&&(se={}),(!se||se.validate!==!1)&&qn(this,Y.call(t.validateStyle,t.extend({key:P,style:this.serialize(),value:W,styleSpec:t.styleSpec},ne)))},Z.prototype._remove=function(){for(var Y in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),t.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[Y].setEventedParent(null);for(var P in this.sourceCaches)this.sourceCaches[P].clearTiles(),this.sourceCaches[P].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},Z.prototype._clearSource=function(Y){this.sourceCaches[Y].clearTiles()},Z.prototype._reloadSource=function(Y){this.sourceCaches[Y].resume(),this.sourceCaches[Y].reload()},Z.prototype._updateSources=function(Y){for(var P in this.sourceCaches)this.sourceCaches[P].update(Y)},Z.prototype._generateCollisionBoxes=function(){for(var Y in this.sourceCaches)this._reloadSource(Y)},Z.prototype._updatePlacement=function(Y,P,W,ne,se){se===void 0&&(se=!1);for(var ve=!1,ke=!1,De={},je=0,We=this._order;je<We.length;je+=1){var $e=We[je],at=this._layers[$e];if(at.type==="symbol"){if(!De[at.source]){var pt=this.sourceCaches[at.source];De[at.source]=pt.getRenderableIds(!0).map(function(It){return pt.getTileByID(It)}).sort(function(It,Jt){return Jt.tileID.overscaledZ-It.tileID.overscaledZ||(It.tileID.isLessThan(Jt.tileID)?-1:1)})}var vt=this.crossTileSymbolIndex.addLayer(at,De[at.source],Y.center.lng);ve=ve||vt}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((se=se||this._layerOrderChanged||W===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(t.browser.now(),Y.zoom))&&(this.pauseablePlacement=new Zt(Y,this._order,se,P,W,ne,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,De),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(t.browser.now()),ke=!0),ve&&this.pauseablePlacement.placement.setStale()),ke||ve)for(var kt=0,Ot=this._order;kt<Ot.length;kt+=1){var St=Ot[kt],jt=this._layers[St];jt.type==="symbol"&&this.placement.updateLayerOpacities(jt,De[jt.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(t.browser.now())},Z.prototype._releaseSymbolFadeTiles=function(){for(var Y in this.sourceCaches)this.sourceCaches[Y].releaseSymbolFadeTiles()},Z.prototype.getImages=function(Y,P,W){this.imageManager.getImages(P.icons,W),this._updateTilesForChangedImages();var ne=this.sourceCaches[P.source];ne&&ne.setDependencies(P.tileID.key,P.type,P.icons)},Z.prototype.getGlyphs=function(Y,P,W){this.glyphManager.getGlyphs(P.stacks,W)},Z.prototype.getResource=function(Y,P,W){return t.makeRequest(P,W)},Z}(t.Evented);ar.getSourceType=function(U){return ie[U]},ar.setSourceType=function(U,Z){ie[U]=Z},ar.registerForPluginStateChange=t.registerForPluginStateChange;var er=t.createLayout([{name:"a_pos",type:"Int16",components:2}]),mr=Vi(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`),Mr=Vi(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),br=Vi(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),ur=Vi(`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),kr=Vi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Er=Vi(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),$r=Vi(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Ii=Vi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Di=Vi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),Aa=Vi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),Li=Vi(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),ra=Vi(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),Gr=Vi(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),Ui=Vi(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),$a=Vi(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),Da=Vi(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),ds=Vi(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),gs=Vi(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),Jo=Vi(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),za=Vi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),Qo=Vi(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),Rs=Vi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),il=Vi(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),ko=Vi(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`),Ao=Vi(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),es=Vi(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`);function Vi(U,Z){var Y=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,P=Z.match(/attribute ([\w]+) ([\w]+)/g),W=U.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),ne=Z.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),se=ne?ne.concat(W):W,ve={};return{fragmentSource:U=U.replace(Y,function(ke,De,je,We,$e){return ve[$e]=!0,De==="define"?`
#ifndef HAS_UNIFORM_u_`+$e+`
varying `+je+" "+We+" "+$e+`;
#else
uniform `+je+" "+We+" u_"+$e+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+$e+`
    `+je+" "+We+" "+$e+" = u_"+$e+`;
#endif
`}),vertexSource:Z=Z.replace(Y,function(ke,De,je,We,$e){var at=We==="float"?"vec2":"vec4",pt=$e.match(/color/)?"color":at;return ve[$e]?De==="define"?`
#ifndef HAS_UNIFORM_u_`+$e+`
uniform lowp float u_`+$e+`_t;
attribute `+je+" "+at+" a_"+$e+`;
varying `+je+" "+We+" "+$e+`;
#else
uniform `+je+" "+We+" u_"+$e+`;
#endif
`:pt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+$e+`
    `+$e+" = a_"+$e+`;
#else
    `+je+" "+We+" "+$e+" = u_"+$e+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+$e+`
    `+$e+" = unpack_mix_"+pt+"(a_"+$e+", u_"+$e+`_t);
#else
    `+je+" "+We+" "+$e+" = u_"+$e+`;
#endif
`:De==="define"?`
#ifndef HAS_UNIFORM_u_`+$e+`
uniform lowp float u_`+$e+`_t;
attribute `+je+" "+at+" a_"+$e+`;
#else
uniform `+je+" "+We+" u_"+$e+`;
#endif
`:pt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+$e+`
    `+je+" "+We+" "+$e+" = a_"+$e+`;
#else
    `+je+" "+We+" "+$e+" = u_"+$e+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+$e+`
    `+je+" "+We+" "+$e+" = unpack_mix_"+pt+"(a_"+$e+", u_"+$e+`_t);
#else
    `+je+" "+We+" "+$e+" = u_"+$e+`;
#endif
`}),staticAttributes:P,staticUniforms:se}}var va=Object.freeze({__proto__:null,prelude:mr,background:Mr,backgroundPattern:br,circle:ur,clippingMask:kr,heatmap:Er,heatmapTexture:$r,collisionBox:Ii,collisionCircle:Di,debug:Aa,fill:Li,fillOutline:ra,fillOutlinePattern:Gr,fillPattern:Ui,fillExtrusion:$a,fillExtrusionPattern:Da,hillshadePrepare:ds,hillshade:gs,line:Jo,lineGradient:za,linePattern:Qo,lineSDF:Rs,raster:il,symbolIcon:ko,symbolSDF:Ao,symbolTextAndIcon:es}),vs=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function ts(U){for(var Z=[],Y=0;Y<U.length;Y++)if(U[Y]!==null){var P=U[Y].split(" ");Z.push(P.pop())}return Z}vs.prototype.bind=function(U,Z,Y,P,W,ne,se,ve){this.context=U;for(var ke=this.boundPaintVertexBuffers.length!==P.length,De=0;!ke&&De<P.length;De++)this.boundPaintVertexBuffers[De]!==P[De]&&(ke=!0);var je=!this.vao||this.boundProgram!==Z||this.boundLayoutVertexBuffer!==Y||ke||this.boundIndexBuffer!==W||this.boundVertexOffset!==ne||this.boundDynamicVertexBuffer!==se||this.boundDynamicVertexBuffer2!==ve;!U.extVertexArrayObject||je?this.freshBind(Z,Y,P,W,ne,se,ve):(U.bindVertexArrayOES.set(this.vao),se&&se.bind(),W&&W.dynamicDraw&&W.bind(),ve&&ve.bind())},vs.prototype.freshBind=function(U,Z,Y,P,W,ne,se){var ve,ke=U.numAttributes,De=this.context,je=De.gl;if(De.extVertexArrayObject)this.vao&&this.destroy(),this.vao=De.extVertexArrayObject.createVertexArrayOES(),De.bindVertexArrayOES.set(this.vao),ve=0,this.boundProgram=U,this.boundLayoutVertexBuffer=Z,this.boundPaintVertexBuffers=Y,this.boundIndexBuffer=P,this.boundVertexOffset=W,this.boundDynamicVertexBuffer=ne,this.boundDynamicVertexBuffer2=se;else{ve=De.currentNumAttributes||0;for(var We=ke;We<ve;We++)je.disableVertexAttribArray(We)}Z.enableAttributes(je,U);for(var $e=0,at=Y;$e<at.length;$e+=1)at[$e].enableAttributes(je,U);ne&&ne.enableAttributes(je,U),se&&se.enableAttributes(je,U),Z.bind(),Z.setVertexAttribPointers(je,U,W);for(var pt=0,vt=Y;pt<vt.length;pt+=1){var kt=vt[pt];kt.bind(),kt.setVertexAttribPointers(je,U,W)}ne&&(ne.bind(),ne.setVertexAttribPointers(je,U,W)),P&&P.bind(),se&&(se.bind(),se.setVertexAttribPointers(je,U,W)),De.currentNumAttributes=ke},vs.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var Fo=function(U,Z,Y,P,W,ne){var se=U.gl;this.program=se.createProgram();for(var ve=ts(Y.staticAttributes),ke=P?P.getBinderAttributes():[],De=ve.concat(ke),je=Y.staticUniforms?ts(Y.staticUniforms):[],We=P?P.getBinderUniforms():[],$e=[],at=0,pt=je.concat(We);at<pt.length;at+=1){var vt=pt[at];$e.indexOf(vt)<0&&$e.push(vt)}var kt=P?P.defines():[];ne&&kt.push("#define OVERDRAW_INSPECTOR;");var Ot=kt.concat(mr.fragmentSource,Y.fragmentSource).join(`
`),St=kt.concat(mr.vertexSource,Y.vertexSource).join(`
`),jt=se.createShader(se.FRAGMENT_SHADER);if(se.isContextLost())this.failedToCreate=!0;else{se.shaderSource(jt,Ot),se.compileShader(jt),se.attachShader(this.program,jt);var It=se.createShader(se.VERTEX_SHADER);if(se.isContextLost())this.failedToCreate=!0;else{se.shaderSource(It,St),se.compileShader(It),se.attachShader(this.program,It),this.attributes={};var Jt={};this.numAttributes=De.length;for(var $t=0;$t<this.numAttributes;$t++)De[$t]&&(se.bindAttribLocation(this.program,$t,De[$t]),this.attributes[De[$t]]=$t);se.linkProgram(this.program),se.deleteShader(It),se.deleteShader(jt);for(var Ht=0;Ht<$e.length;Ht++){var vn=$e[Ht];if(vn&&!Jt[vn]){var bn=se.getUniformLocation(this.program,vn);bn&&(Jt[vn]=bn)}}this.fixedUniforms=W(U,Jt),this.binderUniforms=P?P.getUniforms(U,Jt):[]}}};function Ds(U,Z,Y){var P=1/Kn(Y,1,Z.transform.tileZoom),W=Math.pow(2,Y.tileID.overscaledZ),ne=Y.tileSize*Math.pow(2,Z.transform.tileZoom)/W,se=ne*(Y.tileID.canonical.x+Y.tileID.wrap*W),ve=ne*Y.tileID.canonical.y;return{u_image:0,u_texsize:Y.imageAtlasTexture.size,u_scale:[P,U.fromScale,U.toScale],u_fade:U.t,u_pixel_coord_upper:[se>>16,ve>>16],u_pixel_coord_lower:[65535&se,65535&ve]}}Fo.prototype.draw=function(U,Z,Y,P,W,ne,se,ve,ke,De,je,We,$e,at,pt,vt){var kt,Ot=U.gl;if(!this.failedToCreate){for(var St in U.program.set(this.program),U.setDepthMode(Y),U.setStencilMode(P),U.setColorMode(W),U.setCullFace(ne),this.fixedUniforms)this.fixedUniforms[St].set(se[St]);at&&at.setUniforms(U,this.binderUniforms,We,{zoom:$e});for(var jt=(kt={},kt[Ot.LINES]=2,kt[Ot.TRIANGLES]=3,kt[Ot.LINE_STRIP]=1,kt)[Z],It=0,Jt=je.get();It<Jt.length;It+=1){var $t=Jt[It],Ht=$t.vaos||($t.vaos={});(Ht[ve]||(Ht[ve]=new vs)).bind(U,this,ke,at?at.getPaintVertexBuffers():[],De,$t.vertexOffset,pt,vt),Ot.drawElements(Z,$t.primitiveLength*jt,Ot.UNSIGNED_SHORT,$t.primitiveOffset*jt*2)}}};var ns=function(U,Z,Y,P){var W=Z.style.light,ne=W.properties.get("position"),se=[ne.x,ne.y,ne.z],ve=t.create$1();W.properties.get("anchor")==="viewport"&&t.fromRotation(ve,-Z.transform.angle),t.transformMat3(se,se,ve);var ke=W.properties.get("color");return{u_matrix:U,u_lightpos:se,u_lightintensity:W.properties.get("intensity"),u_lightcolor:[ke.r,ke.g,ke.b],u_vertical_gradient:+Y,u_opacity:P}},zs=function(U,Z,Y,P,W,ne,se){return t.extend(ns(U,Z,Y,P),Ds(ne,Z,se),{u_height_factor:-Math.pow(2,W.overscaledZ)/se.tileSize/8})},ms=function(U){return{u_matrix:U}},Fs=function(U,Z,Y,P){return t.extend(ms(U),Ds(Y,Z,P))},rs=function(U,Z){return{u_matrix:U,u_world:Z}},Yu=function(U,Z,Y,P,W){return t.extend(Fs(U,Z,Y,P),{u_world:W})},Au=function(U,Z,Y,P){var W,ne,se=U.transform;if(P.paint.get("circle-pitch-alignment")==="map"){var ve=Kn(Y,1,se.zoom);W=!0,ne=[ve,ve]}else W=!1,ne=se.pixelsToGLUnits;return{u_camera_to_center_distance:se.cameraToCenterDistance,u_scale_with_map:+(P.paint.get("circle-pitch-scale")==="map"),u_matrix:U.translatePosMatrix(Z.posMatrix,Y,P.paint.get("circle-translate"),P.paint.get("circle-translate-anchor")),u_pitch_with_map:+W,u_device_pixel_ratio:t.browser.devicePixelRatio,u_extrude_scale:ne}},al=function(U,Z,Y){var P=Kn(Y,1,Z.zoom),W=Math.pow(2,Z.zoom-Y.tileID.overscaledZ),ne=Y.tileID.overscaleFactor();return{u_matrix:U,u_camera_to_center_distance:Z.cameraToCenterDistance,u_pixels_to_tile_units:P,u_extrude_scale:[Z.pixelsToGLUnits[0]/(P*W),Z.pixelsToGLUnits[1]/(P*W)],u_overscale_factor:ne}},yc=function(U,Z,Y){return{u_matrix:U,u_inv_matrix:Z,u_camera_to_center_distance:Y.cameraToCenterDistance,u_viewport_size:[Y.width,Y.height]}},xc=function(U,Z,Y){return Y===void 0&&(Y=1),{u_matrix:U,u_color:Z,u_overlay:0,u_overlay_scale:Y}},ol=function(U){return{u_matrix:U}},bc=function(U,Z,Y,P){return{u_matrix:U,u_extrude_scale:Kn(Z,1,Y),u_intensity:P}},of=function(U,Z,Y,P){var W=t.create();t.ortho(W,0,U.width,U.height,0,0,1);var ne=U.context.gl;return{u_matrix:W,u_world:[ne.drawingBufferWidth,ne.drawingBufferHeight],u_image:Y,u_color_ramp:P,u_opacity:Z.paint.get("heatmap-opacity")}},sf=function(U,Z,Y){var P=Y.paint.get("hillshade-shadow-color"),W=Y.paint.get("hillshade-highlight-color"),ne=Y.paint.get("hillshade-accent-color"),se=Y.paint.get("hillshade-illumination-direction")*(Math.PI/180);Y.paint.get("hillshade-illumination-anchor")==="viewport"&&(se-=U.transform.angle);var ve,ke,De,je=!U.options.moving;return{u_matrix:U.transform.calculatePosMatrix(Z.tileID.toUnwrapped(),je),u_image:0,u_latrange:(ve=Z.tileID,ke=Math.pow(2,ve.canonical.z),De=ve.canonical.y,[new t.MercatorCoordinate(0,De/ke).toLngLat().lat,new t.MercatorCoordinate(0,(De+1)/ke).toLngLat().lat]),u_light:[Y.paint.get("hillshade-exaggeration"),se],u_shadow:P,u_highlight:W,u_accent:ne}},sl=function(U,Z){var Y=Z.stride,P=t.create();return t.ortho(P,0,t.EXTENT,-t.EXTENT,0,0,1),t.translate(P,P,[0,-t.EXTENT,0]),{u_matrix:P,u_image:1,u_dimension:[Y,Y],u_zoom:U.overscaledZ,u_unpack:Z.getUnpackVector()}},is=function(U,Z,Y){var P=U.transform;return{u_matrix:Bo(U,Z,Y),u_ratio:1/Kn(Z,1,P.zoom),u_device_pixel_ratio:t.browser.devicePixelRatio,u_units_to_pixels:[1/P.pixelsToGLUnits[0],1/P.pixelsToGLUnits[1]]}},Sl=function(U,Z,Y,P){return t.extend(is(U,Z,Y),{u_image:0,u_image_height:P})},ll=function(U,Z,Y,P){var W=U.transform,ne=ul(Z,W);return{u_matrix:Bo(U,Z,Y),u_texsize:Z.imageAtlasTexture.size,u_ratio:1/Kn(Z,1,W.zoom),u_device_pixel_ratio:t.browser.devicePixelRatio,u_image:0,u_scale:[ne,P.fromScale,P.toScale],u_fade:P.t,u_units_to_pixels:[1/W.pixelsToGLUnits[0],1/W.pixelsToGLUnits[1]]}},Ql=function(U,Z,Y,P,W){var ne=U.transform,se=U.lineAtlas,ve=ul(Z,ne),ke=Y.layout.get("line-cap")==="round",De=se.getDash(P.from,ke),je=se.getDash(P.to,ke),We=De.width*W.fromScale,$e=je.width*W.toScale;return t.extend(is(U,Z,Y),{u_patternscale_a:[ve/We,-De.height/2],u_patternscale_b:[ve/$e,-je.height/2],u_sdfgamma:se.width/(256*Math.min(We,$e)*t.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:De.y,u_tex_y_b:je.y,u_mix:W.t})};function ul(U,Z){return 1/Kn(U,1,Z.tileZoom)}function Bo(U,Z,Y){return U.translatePosMatrix(Z.tileID.posMatrix,Z,Y.paint.get("line-translate"),Y.paint.get("line-translate-anchor"))}var $u=function(U,Z,Y,P,W){return{u_matrix:U,u_tl_parent:Z,u_scale_parent:Y,u_buffer_scale:1,u_fade_t:P.mix,u_opacity:P.opacity*W.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:W.paint.get("raster-brightness-min"),u_brightness_high:W.paint.get("raster-brightness-max"),u_saturation_factor:(se=W.paint.get("raster-saturation"),se>0?1-1/(1.001-se):-se),u_contrast_factor:(ne=W.paint.get("raster-contrast"),ne>0?1/(1-ne):1+ne),u_spin_weights:Bs(W.paint.get("raster-hue-rotate"))};var ne,se};function Bs(U){U*=Math.PI/180;var Z=Math.sin(U),Y=Math.cos(U);return[(2*Y+1)/3,(-Math.sqrt(3)*Z-Y+1)/3,(Math.sqrt(3)*Z-Y+1)/3]}var ys,xs=function(U,Z,Y,P,W,ne,se,ve,ke,De){var je=W.transform;return{u_is_size_zoom_constant:+(U==="constant"||U==="source"),u_is_size_feature_constant:+(U==="constant"||U==="camera"),u_size_t:Z?Z.uSizeT:0,u_size:Z?Z.uSize:0,u_camera_to_center_distance:je.cameraToCenterDistance,u_pitch:je.pitch/360*2*Math.PI,u_rotate_symbol:+Y,u_aspect_ratio:je.width/je.height,u_fade_change:W.options.fadeDuration?W.symbolFadeChange:1,u_matrix:ne,u_label_plane_matrix:se,u_coord_matrix:ve,u_is_text:+ke,u_pitch_with_map:+P,u_texsize:De,u_texture:0}},Ns=function(U,Z,Y,P,W,ne,se,ve,ke,De,je){var We=W.transform;return t.extend(xs(U,Z,Y,P,W,ne,se,ve,ke,De),{u_gamma_scale:P?Math.cos(We._pitch)*We.cameraToCenterDistance:1,u_device_pixel_ratio:t.browser.devicePixelRatio,u_is_halo:+je})},ci=function(U,Z,Y,P,W,ne,se,ve,ke,De){return t.extend(Ns(U,Z,Y,P,W,ne,se,ve,!0,ke,!0),{u_texsize_icon:De,u_texture_icon:1})},El=function(U,Z,Y){return{u_matrix:U,u_opacity:Z,u_color:Y}},lf=function(U,Z,Y,P,W,ne){return t.extend(function(se,ve,ke,De){var je=ke.imageManager.getPattern(se.from.toString()),We=ke.imageManager.getPattern(se.to.toString()),$e=ke.imageManager.getPixelSize(),at=$e.width,pt=$e.height,vt=Math.pow(2,De.tileID.overscaledZ),kt=De.tileSize*Math.pow(2,ke.transform.tileZoom)/vt,Ot=kt*(De.tileID.canonical.x+De.tileID.wrap*vt),St=kt*De.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:je.tl,u_pattern_br_a:je.br,u_pattern_tl_b:We.tl,u_pattern_br_b:We.br,u_texsize:[at,pt],u_mix:ve.t,u_pattern_size_a:je.displaySize,u_pattern_size_b:We.displaySize,u_scale_a:ve.fromScale,u_scale_b:ve.toScale,u_tile_units_to_pixels:1/Kn(De,1,ke.transform.tileZoom),u_pixel_coord_upper:[Ot>>16,St>>16],u_pixel_coord_lower:[65535&Ot,65535&St]}}(P,ne,Y,W),{u_matrix:U,u_opacity:Z})},Mu={fillExtrusion:function(U,Z){return{u_matrix:new t.UniformMatrix4f(U,Z.u_matrix),u_lightpos:new t.Uniform3f(U,Z.u_lightpos),u_lightintensity:new t.Uniform1f(U,Z.u_lightintensity),u_lightcolor:new t.Uniform3f(U,Z.u_lightcolor),u_vertical_gradient:new t.Uniform1f(U,Z.u_vertical_gradient),u_opacity:new t.Uniform1f(U,Z.u_opacity)}},fillExtrusionPattern:function(U,Z){return{u_matrix:new t.UniformMatrix4f(U,Z.u_matrix),u_lightpos:new t.Uniform3f(U,Z.u_lightpos),u_lightintensity:new t.Uniform1f(U,Z.u_lightintensity),u_lightcolor:new t.Uniform3f(U,Z.u_lightcolor),u_vertical_gradient:new t.Uniform1f(U,Z.u_vertical_gradient),u_height_factor:new t.Uniform1f(U,Z.u_height_factor),u_image:new t.Uniform1i(U,Z.u_image),u_texsize:new t.Uniform2f(U,Z.u_texsize),u_pixel_coord_upper:new t.Uniform2f(U,Z.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(U,Z.u_pixel_coord_lower),u_scale:new t.Uniform3f(U,Z.u_scale),u_fade:new t.Uniform1f(U,Z.u_fade),u_opacity:new t.Uniform1f(U,Z.u_opacity)}},fill:function(U,Z){return{u_matrix:new t.UniformMatrix4f(U,Z.u_matrix)}},fillPattern:function(U,Z){return{u_matrix:new t.UniformMatrix4f(U,Z.u_matrix),u_image:new t.Uniform1i(U,Z.u_image),u_texsize:new t.Uniform2f(U,Z.u_texsize),u_pixel_coord_upper:new t.Uniform2f(U,Z.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(U,Z.u_pixel_coord_lower),u_scale:new t.Uniform3f(U,Z.u_scale),u_fade:new t.Uniform1f(U,Z.u_fade)}},fillOutline:function(U,Z){return{u_matrix:new t.UniformMatrix4f(U,Z.u_matrix),u_world:new t.Uniform2f(U,Z.u_world)}},fillOutlinePattern:function(U,Z){return{u_matrix:new t.UniformMatrix4f(U,Z.u_matrix),u_world:new t.Uniform2f(U,Z.u_world),u_image:new t.Uniform1i(U,Z.u_image),u_texsize:new t.Uniform2f(U,Z.u_texsize),u_pixel_coord_upper:new t.Uniform2f(U,Z.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(U,Z.u_pixel_coord_lower),u_scale:new t.Uniform3f(U,Z.u_scale),u_fade:new t.Uniform1f(U,Z.u_fade)}},circle:function(U,Z){return{u_camera_to_center_distance:new t.Uniform1f(U,Z.u_camera_to_center_distance),u_scale_with_map:new t.Uniform1i(U,Z.u_scale_with_map),u_pitch_with_map:new t.Uniform1i(U,Z.u_pitch_with_map),u_extrude_scale:new t.Uniform2f(U,Z.u_extrude_scale),u_device_pixel_ratio:new t.Uniform1f(U,Z.u_device_pixel_ratio),u_matrix:new t.UniformMatrix4f(U,Z.u_matrix)}},collisionBox:function(U,Z){return{u_matrix:new t.UniformMatrix4f(U,Z.u_matrix),u_camera_to_center_distance:new t.Uniform1f(U,Z.u_camera_to_center_distance),u_pixels_to_tile_units:new t.Uniform1f(U,Z.u_pixels_to_tile_units),u_extrude_scale:new t.Uniform2f(U,Z.u_extrude_scale),u_overscale_factor:new t.Uniform1f(U,Z.u_overscale_factor)}},collisionCircle:function(U,Z){return{u_matrix:new t.UniformMatrix4f(U,Z.u_matrix),u_inv_matrix:new t.UniformMatrix4f(U,Z.u_inv_matrix),u_camera_to_center_distance:new t.Uniform1f(U,Z.u_camera_to_center_distance),u_viewport_size:new t.Uniform2f(U,Z.u_viewport_size)}},debug:function(U,Z){return{u_color:new t.UniformColor(U,Z.u_color),u_matrix:new t.UniformMatrix4f(U,Z.u_matrix),u_overlay:new t.Uniform1i(U,Z.u_overlay),u_overlay_scale:new t.Uniform1f(U,Z.u_overlay_scale)}},clippingMask:function(U,Z){return{u_matrix:new t.UniformMatrix4f(U,Z.u_matrix)}},heatmap:function(U,Z){return{u_extrude_scale:new t.Uniform1f(U,Z.u_extrude_scale),u_intensity:new t.Uniform1f(U,Z.u_intensity),u_matrix:new t.UniformMatrix4f(U,Z.u_matrix)}},heatmapTexture:function(U,Z){return{u_matrix:new t.UniformMatrix4f(U,Z.u_matrix),u_world:new t.Uniform2f(U,Z.u_world),u_image:new t.Uniform1i(U,Z.u_image),u_color_ramp:new t.Uniform1i(U,Z.u_color_ramp),u_opacity:new t.Uniform1f(U,Z.u_opacity)}},hillshade:function(U,Z){return{u_matrix:new t.UniformMatrix4f(U,Z.u_matrix),u_image:new t.Uniform1i(U,Z.u_image),u_latrange:new t.Uniform2f(U,Z.u_latrange),u_light:new t.Uniform2f(U,Z.u_light),u_shadow:new t.UniformColor(U,Z.u_shadow),u_highlight:new t.UniformColor(U,Z.u_highlight),u_accent:new t.UniformColor(U,Z.u_accent)}},hillshadePrepare:function(U,Z){return{u_matrix:new t.UniformMatrix4f(U,Z.u_matrix),u_image:new t.Uniform1i(U,Z.u_image),u_dimension:new t.Uniform2f(U,Z.u_dimension),u_zoom:new t.Uniform1f(U,Z.u_zoom),u_unpack:new t.Uniform4f(U,Z.u_unpack)}},line:function(U,Z){return{u_matrix:new t.UniformMatrix4f(U,Z.u_matrix),u_ratio:new t.Uniform1f(U,Z.u_ratio),u_device_pixel_ratio:new t.Uniform1f(U,Z.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(U,Z.u_units_to_pixels)}},lineGradient:function(U,Z){return{u_matrix:new t.UniformMatrix4f(U,Z.u_matrix),u_ratio:new t.Uniform1f(U,Z.u_ratio),u_device_pixel_ratio:new t.Uniform1f(U,Z.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(U,Z.u_units_to_pixels),u_image:new t.Uniform1i(U,Z.u_image),u_image_height:new t.Uniform1f(U,Z.u_image_height)}},linePattern:function(U,Z){return{u_matrix:new t.UniformMatrix4f(U,Z.u_matrix),u_texsize:new t.Uniform2f(U,Z.u_texsize),u_ratio:new t.Uniform1f(U,Z.u_ratio),u_device_pixel_ratio:new t.Uniform1f(U,Z.u_device_pixel_ratio),u_image:new t.Uniform1i(U,Z.u_image),u_units_to_pixels:new t.Uniform2f(U,Z.u_units_to_pixels),u_scale:new t.Uniform3f(U,Z.u_scale),u_fade:new t.Uniform1f(U,Z.u_fade)}},lineSDF:function(U,Z){return{u_matrix:new t.UniformMatrix4f(U,Z.u_matrix),u_ratio:new t.Uniform1f(U,Z.u_ratio),u_device_pixel_ratio:new t.Uniform1f(U,Z.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(U,Z.u_units_to_pixels),u_patternscale_a:new t.Uniform2f(U,Z.u_patternscale_a),u_patternscale_b:new t.Uniform2f(U,Z.u_patternscale_b),u_sdfgamma:new t.Uniform1f(U,Z.u_sdfgamma),u_image:new t.Uniform1i(U,Z.u_image),u_tex_y_a:new t.Uniform1f(U,Z.u_tex_y_a),u_tex_y_b:new t.Uniform1f(U,Z.u_tex_y_b),u_mix:new t.Uniform1f(U,Z.u_mix)}},raster:function(U,Z){return{u_matrix:new t.UniformMatrix4f(U,Z.u_matrix),u_tl_parent:new t.Uniform2f(U,Z.u_tl_parent),u_scale_parent:new t.Uniform1f(U,Z.u_scale_parent),u_buffer_scale:new t.Uniform1f(U,Z.u_buffer_scale),u_fade_t:new t.Uniform1f(U,Z.u_fade_t),u_opacity:new t.Uniform1f(U,Z.u_opacity),u_image0:new t.Uniform1i(U,Z.u_image0),u_image1:new t.Uniform1i(U,Z.u_image1),u_brightness_low:new t.Uniform1f(U,Z.u_brightness_low),u_brightness_high:new t.Uniform1f(U,Z.u_brightness_high),u_saturation_factor:new t.Uniform1f(U,Z.u_saturation_factor),u_contrast_factor:new t.Uniform1f(U,Z.u_contrast_factor),u_spin_weights:new t.Uniform3f(U,Z.u_spin_weights)}},symbolIcon:function(U,Z){return{u_is_size_zoom_constant:new t.Uniform1i(U,Z.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(U,Z.u_is_size_feature_constant),u_size_t:new t.Uniform1f(U,Z.u_size_t),u_size:new t.Uniform1f(U,Z.u_size),u_camera_to_center_distance:new t.Uniform1f(U,Z.u_camera_to_center_distance),u_pitch:new t.Uniform1f(U,Z.u_pitch),u_rotate_symbol:new t.Uniform1i(U,Z.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(U,Z.u_aspect_ratio),u_fade_change:new t.Uniform1f(U,Z.u_fade_change),u_matrix:new t.UniformMatrix4f(U,Z.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(U,Z.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(U,Z.u_coord_matrix),u_is_text:new t.Uniform1i(U,Z.u_is_text),u_pitch_with_map:new t.Uniform1i(U,Z.u_pitch_with_map),u_texsize:new t.Uniform2f(U,Z.u_texsize),u_texture:new t.Uniform1i(U,Z.u_texture)}},symbolSDF:function(U,Z){return{u_is_size_zoom_constant:new t.Uniform1i(U,Z.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(U,Z.u_is_size_feature_constant),u_size_t:new t.Uniform1f(U,Z.u_size_t),u_size:new t.Uniform1f(U,Z.u_size),u_camera_to_center_distance:new t.Uniform1f(U,Z.u_camera_to_center_distance),u_pitch:new t.Uniform1f(U,Z.u_pitch),u_rotate_symbol:new t.Uniform1i(U,Z.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(U,Z.u_aspect_ratio),u_fade_change:new t.Uniform1f(U,Z.u_fade_change),u_matrix:new t.UniformMatrix4f(U,Z.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(U,Z.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(U,Z.u_coord_matrix),u_is_text:new t.Uniform1i(U,Z.u_is_text),u_pitch_with_map:new t.Uniform1i(U,Z.u_pitch_with_map),u_texsize:new t.Uniform2f(U,Z.u_texsize),u_texture:new t.Uniform1i(U,Z.u_texture),u_gamma_scale:new t.Uniform1f(U,Z.u_gamma_scale),u_device_pixel_ratio:new t.Uniform1f(U,Z.u_device_pixel_ratio),u_is_halo:new t.Uniform1i(U,Z.u_is_halo)}},symbolTextAndIcon:function(U,Z){return{u_is_size_zoom_constant:new t.Uniform1i(U,Z.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(U,Z.u_is_size_feature_constant),u_size_t:new t.Uniform1f(U,Z.u_size_t),u_size:new t.Uniform1f(U,Z.u_size),u_camera_to_center_distance:new t.Uniform1f(U,Z.u_camera_to_center_distance),u_pitch:new t.Uniform1f(U,Z.u_pitch),u_rotate_symbol:new t.Uniform1i(U,Z.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(U,Z.u_aspect_ratio),u_fade_change:new t.Uniform1f(U,Z.u_fade_change),u_matrix:new t.UniformMatrix4f(U,Z.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(U,Z.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(U,Z.u_coord_matrix),u_is_text:new t.Uniform1i(U,Z.u_is_text),u_pitch_with_map:new t.Uniform1i(U,Z.u_pitch_with_map),u_texsize:new t.Uniform2f(U,Z.u_texsize),u_texsize_icon:new t.Uniform2f(U,Z.u_texsize_icon),u_texture:new t.Uniform1i(U,Z.u_texture),u_texture_icon:new t.Uniform1i(U,Z.u_texture_icon),u_gamma_scale:new t.Uniform1f(U,Z.u_gamma_scale),u_device_pixel_ratio:new t.Uniform1f(U,Z.u_device_pixel_ratio),u_is_halo:new t.Uniform1i(U,Z.u_is_halo)}},background:function(U,Z){return{u_matrix:new t.UniformMatrix4f(U,Z.u_matrix),u_opacity:new t.Uniform1f(U,Z.u_opacity),u_color:new t.UniformColor(U,Z.u_color)}},backgroundPattern:function(U,Z){return{u_matrix:new t.UniformMatrix4f(U,Z.u_matrix),u_opacity:new t.Uniform1f(U,Z.u_opacity),u_image:new t.Uniform1i(U,Z.u_image),u_pattern_tl_a:new t.Uniform2f(U,Z.u_pattern_tl_a),u_pattern_br_a:new t.Uniform2f(U,Z.u_pattern_br_a),u_pattern_tl_b:new t.Uniform2f(U,Z.u_pattern_tl_b),u_pattern_br_b:new t.Uniform2f(U,Z.u_pattern_br_b),u_texsize:new t.Uniform2f(U,Z.u_texsize),u_mix:new t.Uniform1f(U,Z.u_mix),u_pattern_size_a:new t.Uniform2f(U,Z.u_pattern_size_a),u_pattern_size_b:new t.Uniform2f(U,Z.u_pattern_size_b),u_scale_a:new t.Uniform1f(U,Z.u_scale_a),u_scale_b:new t.Uniform1f(U,Z.u_scale_b),u_pixel_coord_upper:new t.Uniform2f(U,Z.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(U,Z.u_pixel_coord_lower),u_tile_units_to_pixels:new t.Uniform1f(U,Z.u_tile_units_to_pixels)}}};function Ll(U,Z,Y,P,W,ne,se){for(var ve=U.context,ke=ve.gl,De=U.useProgram("collisionBox"),je=[],We=0,$e=0,at=0;at<P.length;at++){var pt=P[at],vt=Z.getTile(pt),kt=vt.getBucket(Y);if(kt){var Ot=pt.posMatrix;W[0]===0&&W[1]===0||(Ot=U.translatePosMatrix(pt.posMatrix,vt,W,ne));var St=se?kt.textCollisionBox:kt.iconCollisionBox,jt=kt.collisionCircleArray;if(jt.length>0){var It=t.create(),Jt=Ot;t.mul(It,kt.placementInvProjMatrix,U.transform.glCoordMatrix),t.mul(It,It,kt.placementViewportMatrix),je.push({circleArray:jt,circleOffset:$e,transform:Jt,invTransform:It}),$e=We+=jt.length/4}St&&De.draw(ve,ke.LINES,Ft.disabled,Ze.disabled,U.colorModeForRenderPass(),qe.disabled,al(Ot,U.transform,vt),Y.id,St.layoutVertexBuffer,St.indexBuffer,St.segments,null,U.transform.zoom,null,null,St.collisionVertexBuffer)}}if(se&&je.length){var $t=U.useProgram("collisionCircle"),Ht=new t.StructArrayLayout2f1f2i16;Ht.resize(4*We),Ht._trim();for(var vn=0,bn=0,Ln=je;bn<Ln.length;bn+=1)for(var zn=Ln[bn],Gn=0;Gn<zn.circleArray.length/4;Gn++){var or=4*Gn,dr=zn.circleArray[or+0],Xn=zn.circleArray[or+1],hr=zn.circleArray[or+2],Ar=zn.circleArray[or+3];Ht.emplace(vn++,dr,Xn,hr,Ar,0),Ht.emplace(vn++,dr,Xn,hr,Ar,1),Ht.emplace(vn++,dr,Xn,hr,Ar,2),Ht.emplace(vn++,dr,Xn,hr,Ar,3)}(!ys||ys.length<2*We)&&(ys=function(Nr){var ei=2*Nr,ni=new t.StructArrayLayout3ui6;ni.resize(ei),ni._trim();for(var ui=0;ui<ei;ui++){var di=6*ui;ni.uint16[di+0]=4*ui+0,ni.uint16[di+1]=4*ui+1,ni.uint16[di+2]=4*ui+2,ni.uint16[di+3]=4*ui+2,ni.uint16[di+4]=4*ui+3,ni.uint16[di+5]=4*ui+0}return ni}(We));for(var zr=ve.createIndexBuffer(ys,!0),nr=ve.createVertexBuffer(Ht,t.collisionCircleLayout.members,!0),fr=0,Lr=je;fr<Lr.length;fr+=1){var gr=Lr[fr],Ir=yc(gr.transform,gr.invTransform,U.transform);$t.draw(ve,ke.TRIANGLES,Ft.disabled,Ze.disabled,U.colorModeForRenderPass(),qe.disabled,Ir,Y.id,nr,zr,t.SegmentVector.simpleSegment(0,2*gr.circleOffset,gr.circleArray.length,gr.circleArray.length/2),null,U.transform.zoom,null,null,null)}nr.destroy(),zr.destroy()}}var _c=t.identity(new Float32Array(16));function uf(U,Z,Y,P,W,ne){var se=t.getAnchorAlignment(U),ve=-(se.horizontalAlign-.5)*Z,ke=-(se.verticalAlign-.5)*Y,De=t.evaluateVariableOffset(U,P);return new t.Point((ve/W+De[0])*ne,(ke/W+De[1])*ne)}function Su(U,Z,Y,P,W,ne,se,ve,ke,De,je){var We=U.text.placedSymbolArray,$e=U.text.dynamicLayoutVertexArray,at=U.icon.dynamicLayoutVertexArray,pt={};$e.clear();for(var vt=0;vt<We.length;vt++){var kt=We.get(vt),Ot=U.allowVerticalPlacement&&!kt.placedOrientation,St=kt.hidden||!kt.crossTileID||Ot?null:P[kt.crossTileID];if(St){var jt=new t.Point(kt.anchorX,kt.anchorY),It=tn(jt,Y?ve:se),Jt=fn(ne.cameraToCenterDistance,It.signedDistanceFromCamera),$t=W.evaluateSizeForFeature(U.textSizeData,De,kt)*Jt/t.ONE_EM;Y&&($t*=U.tilePixelRatio/ke);for(var Ht=St.width,vn=St.height,bn=uf(St.anchor,Ht,vn,St.textOffset,St.textBoxScale,$t),Ln=Y?tn(jt.add(bn),se).point:It.point.add(Z?bn.rotate(-ne.angle):bn),zn=U.allowVerticalPlacement&&kt.placedOrientation===t.WritingMode.vertical?Math.PI/2:0,Gn=0;Gn<kt.numGlyphs;Gn++)t.addDynamicAttributes($e,Ln,zn);je&&kt.associatedIconIndex>=0&&(pt[kt.associatedIconIndex]={shiftedAnchor:Ln,angle:zn})}else Bn(kt.numGlyphs,$e)}if(je){at.clear();for(var or=U.icon.placedSymbolArray,dr=0;dr<or.length;dr++){var Xn=or.get(dr);if(Xn.hidden)Bn(Xn.numGlyphs,at);else{var hr=pt[dr];if(hr)for(var Ar=0;Ar<Xn.numGlyphs;Ar++)t.addDynamicAttributes(at,hr.shiftedAnchor,hr.angle);else Bn(Xn.numGlyphs,at)}}U.icon.dynamicLayoutVertexBuffer.updateData(at)}U.text.dynamicLayoutVertexBuffer.updateData($e)}function cf(U,Z,Y){return Y.iconsInText&&Z?"symbolTextAndIcon":U?"symbolSDF":"symbolIcon"}function js(U,Z,Y,P,W,ne,se,ve,ke,De,je,We){for(var $e=U.context,at=$e.gl,pt=U.transform,vt=ve==="map",kt=ke==="map",Ot=vt&&Y.layout.get("symbol-placement")!=="point",St=vt&&!kt&&!Ot,jt=Y.layout.get("symbol-sort-key").constantOr(1)!==void 0,It=!1,Jt=U.depthModeForSublayer(0,Ft.ReadOnly),$t=Y.layout.get("text-variable-anchor"),Ht=[],vn=0,bn=P;vn<bn.length;vn+=1){var Ln=bn[vn],zn=Z.getTile(Ln),Gn=zn.getBucket(Y);if(Gn){var or=W?Gn.text:Gn.icon;if(or&&or.segments.get().length){var dr=or.programConfigurations.get(Y.id),Xn=W||Gn.sdfIcons,hr=W?Gn.textSizeData:Gn.iconSizeData,Ar=kt||pt.pitch!==0,zr=U.useProgram(cf(Xn,W,Gn),dr),nr=t.evaluateSizeForZoom(hr,pt.zoom),fr=void 0,Lr=[0,0],gr=void 0,Ir=void 0,Nr=null,ei=void 0;if(W){if(gr=zn.glyphAtlasTexture,Ir=at.LINEAR,fr=zn.glyphAtlasTexture.size,Gn.iconsInText){Lr=zn.imageAtlasTexture.size,Nr=zn.imageAtlasTexture;var ni=hr.kind==="composite"||hr.kind==="camera";ei=Ar||U.options.rotating||U.options.zooming||ni?at.LINEAR:at.NEAREST}}else{var ui=Y.layout.get("icon-size").constantOr(0)!==1||Gn.iconsNeedLinear;gr=zn.imageAtlasTexture,Ir=Xn||U.options.rotating||U.options.zooming||ui||Ar?at.LINEAR:at.NEAREST,fr=zn.imageAtlasTexture.size}var di=Kn(zn,1,U.transform.zoom),Bi=An(Ln.posMatrix,kt,vt,U.transform,di),ia=mn(Ln.posMatrix,kt,vt,U.transform,di),Ga=$t&&Gn.hasTextData(),xa=Y.layout.get("icon-text-fit")!=="none"&&Ga&&Gn.hasIconData();Ot&&pn(Gn,Ln.posMatrix,U,W,Bi,ia,kt,De);var Ba=U.translatePosMatrix(Ln.posMatrix,zn,ne,se),qi=Ot||W&&$t||xa?_c:Bi,vi=U.translatePosMatrix(ia,zn,ne,se,!0),Ki=Xn&&Y.paint.get(W?"text-halo-width":"icon-halo-width").constantOr(1)!==0,Pi={program:zr,buffers:or,uniformValues:Xn?Gn.iconsInText?ci(hr.kind,nr,St,kt,U,Ba,qi,vi,fr,Lr):Ns(hr.kind,nr,St,kt,U,Ba,qi,vi,W,fr,!0):xs(hr.kind,nr,St,kt,U,Ba,qi,vi,W,fr),atlasTexture:gr,atlasTextureIcon:Nr,atlasInterpolation:Ir,atlasInterpolationIcon:ei,isSDF:Xn,hasHalo:Ki};if(jt&&Gn.canOverlap){It=!0;for(var bi=0,Ji=or.segments.get();bi<Ji.length;bi+=1){var aa=Ji[bi];Ht.push({segments:new t.SegmentVector([aa]),sortKey:aa.sortKey,state:Pi})}}else Ht.push({segments:or.segments,sortKey:0,state:Pi})}}}It&&Ht.sort(function(uu,As){return uu.sortKey-As.sortKey});for(var da=0,Nl=Ht;da<Nl.length;da+=1){var jl=Nl[da],_i=jl.state;if($e.activeTexture.set(at.TEXTURE0),_i.atlasTexture.bind(_i.atlasInterpolation,at.CLAMP_TO_EDGE),_i.atlasTextureIcon&&($e.activeTexture.set(at.TEXTURE1),_i.atlasTextureIcon&&_i.atlasTextureIcon.bind(_i.atlasInterpolationIcon,at.CLAMP_TO_EDGE)),_i.isSDF){var Ou=_i.uniformValues;_i.hasHalo&&(Ou.u_is_halo=1,cl(_i.buffers,jl.segments,Y,U,_i.program,Jt,je,We,Ou)),Ou.u_is_halo=0}cl(_i.buffers,jl.segments,Y,U,_i.program,Jt,je,We,_i.uniformValues)}}function cl(U,Z,Y,P,W,ne,se,ve,ke){var De=P.context,je=De.gl;W.draw(De,je.TRIANGLES,ne,se,ve,qe.disabled,ke,Y.id,U.layoutVertexBuffer,U.indexBuffer,Z,Y.paint,P.transform.zoom,U.programConfigurations.get(Y.id),U.dynamicLayoutVertexBuffer,U.opacityVertexBuffer)}function bs(U,Z,Y,P,W,ne,se){var ve,ke,De,je,We,$e=U.context.gl,at=Y.paint.get("fill-pattern"),pt=at&&at.constantOr(1),vt=Y.getCrossfadeParameters();se?(ke=pt&&!Y.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ve=$e.LINES):(ke=pt?"fillPattern":"fill",ve=$e.TRIANGLES);for(var kt=0,Ot=P;kt<Ot.length;kt+=1){var St=Ot[kt],jt=Z.getTile(St);if(!pt||jt.patternsLoaded()){var It=jt.getBucket(Y);if(It){var Jt=It.programConfigurations.get(Y.id),$t=U.useProgram(ke,Jt);pt&&(U.context.activeTexture.set($e.TEXTURE0),jt.imageAtlasTexture.bind($e.LINEAR,$e.CLAMP_TO_EDGE),Jt.updatePaintBuffers(vt));var Ht=at.constantOr(null);if(Ht&&jt.imageAtlas){var vn=jt.imageAtlas,bn=vn.patternPositions[Ht.to.toString()],Ln=vn.patternPositions[Ht.from.toString()];bn&&Ln&&Jt.setConstantPatternPositions(bn,Ln)}var zn=U.translatePosMatrix(St.posMatrix,jt,Y.paint.get("fill-translate"),Y.paint.get("fill-translate-anchor"));if(se){je=It.indexBuffer2,We=It.segments2;var Gn=[$e.drawingBufferWidth,$e.drawingBufferHeight];De=ke==="fillOutlinePattern"&&pt?Yu(zn,U,vt,jt,Gn):rs(zn,Gn)}else je=It.indexBuffer,We=It.segments,De=pt?Fs(zn,U,vt,jt):ms(zn);$t.draw(U.context,ve,W,U.stencilModeForClipping(St),ne,qe.disabled,De,Y.id,It.layoutVertexBuffer,je,We,Y.paint,U.transform.zoom,Jt)}}}}function No(U,Z,Y,P,W,ne,se){for(var ve=U.context,ke=ve.gl,De=Y.paint.get("fill-extrusion-pattern"),je=De.constantOr(1),We=Y.getCrossfadeParameters(),$e=Y.paint.get("fill-extrusion-opacity"),at=0,pt=P;at<pt.length;at+=1){var vt=pt[at],kt=Z.getTile(vt),Ot=kt.getBucket(Y);if(Ot){var St=Ot.programConfigurations.get(Y.id),jt=U.useProgram(je?"fillExtrusionPattern":"fillExtrusion",St);je&&(U.context.activeTexture.set(ke.TEXTURE0),kt.imageAtlasTexture.bind(ke.LINEAR,ke.CLAMP_TO_EDGE),St.updatePaintBuffers(We));var It=De.constantOr(null);if(It&&kt.imageAtlas){var Jt=kt.imageAtlas,$t=Jt.patternPositions[It.to.toString()],Ht=Jt.patternPositions[It.from.toString()];$t&&Ht&&St.setConstantPatternPositions($t,Ht)}var vn=U.translatePosMatrix(vt.posMatrix,kt,Y.paint.get("fill-extrusion-translate"),Y.paint.get("fill-extrusion-translate-anchor")),bn=Y.paint.get("fill-extrusion-vertical-gradient"),Ln=je?zs(vn,U,bn,$e,vt,We,kt):ns(vn,U,bn,$e);jt.draw(ve,ve.gl.TRIANGLES,W,ne,se,qe.backCCW,Ln,Y.id,Ot.layoutVertexBuffer,Ot.indexBuffer,Ot.segments,Y.paint,U.transform.zoom,St)}}}function Cl(U,Z,Y,P,W,ne){var se=U.context,ve=se.gl,ke=Z.fbo;if(ke){var De=U.useProgram("hillshade");se.activeTexture.set(ve.TEXTURE0),ve.bindTexture(ve.TEXTURE_2D,ke.colorAttachment.get());var je=sf(U,Z,Y);De.draw(se,ve.TRIANGLES,P,W,ne,qe.disabled,je,Y.id,U.rasterBoundsBuffer,U.quadTriangleIndexBuffer,U.rasterBoundsSegments)}}function wc(U,Z,Y,P,W,ne){var se=U.context,ve=se.gl,ke=Z.dem;if(ke&&ke.data){var De=ke.dim,je=ke.stride,We=ke.getPixels();if(se.activeTexture.set(ve.TEXTURE1),se.pixelStoreUnpackPremultiplyAlpha.set(!1),Z.demTexture=Z.demTexture||U.getTileTexture(je),Z.demTexture){var $e=Z.demTexture;$e.update(We,{premultiply:!1}),$e.bind(ve.NEAREST,ve.CLAMP_TO_EDGE)}else Z.demTexture=new t.Texture(se,We,ve.RGBA,{premultiply:!1}),Z.demTexture.bind(ve.NEAREST,ve.CLAMP_TO_EDGE);se.activeTexture.set(ve.TEXTURE0);var at=Z.fbo;if(!at){var pt=new t.Texture(se,{width:De,height:De,data:null},ve.RGBA);pt.bind(ve.LINEAR,ve.CLAMP_TO_EDGE),(at=Z.fbo=se.createFramebuffer(De,De,!0)).colorAttachment.set(pt.texture)}se.bindFramebuffer.set(at.framebuffer),se.viewport.set([0,0,De,De]),U.useProgram("hillshadePrepare").draw(se,ve.TRIANGLES,P,W,ne,qe.disabled,sl(Z.tileID,ke),Y.id,U.rasterBoundsBuffer,U.quadTriangleIndexBuffer,U.rasterBoundsSegments),Z.needsHillshadePrepare=!1}}function eu(U,Z,Y,P,W){var ne=P.paint.get("raster-fade-duration");if(ne>0){var se=t.browser.now(),ve=(se-U.timeAdded)/ne,ke=Z?(se-Z.timeAdded)/ne:-1,De=Y.getSource(),je=W.coveringZoomLevel({tileSize:De.tileSize,roundZoom:De.roundZoom}),We=!Z||Math.abs(Z.tileID.overscaledZ-je)>Math.abs(U.tileID.overscaledZ-je),$e=We&&U.refreshedUponExpiration?1:t.clamp(We?ve:1-ke,0,1);return U.refreshedUponExpiration&&ve>=1&&(U.refreshedUponExpiration=!1),Z?{opacity:1,mix:1-$e}:{opacity:$e,mix:0}}return{opacity:1,mix:0}}var Eu=new t.Color(1,0,0,1),ho=new t.Color(0,1,0,1),Lu=new t.Color(0,0,1,1),Tc=new t.Color(1,0,1,1),Pl=new t.Color(0,1,1,1);function fl(U){var Z=U.transform.padding;Ol(U,U.transform.height-(Z.top||0),3,Eu),Ol(U,Z.bottom||0,3,ho),hl(U,Z.left||0,3,Lu),hl(U,U.transform.width-(Z.right||0),3,Tc);var Y=U.transform.centerPoint;(function(P,W,ne,se){var ve=20,ke=2;pl(P,W-ke/2,ne-ve/2,ke,ve,se),pl(P,W-ve/2,ne-ke/2,ve,ke,se)})(U,Y.x,U.transform.height-Y.y,Pl)}function Ol(U,Z,Y,P){pl(U,0,Z+Y/2,U.transform.width,Y,P)}function hl(U,Z,Y,P){pl(U,Z-Y/2,0,Y,U.transform.height,P)}function pl(U,Z,Y,P,W,ne){var se=U.context,ve=se.gl;ve.enable(ve.SCISSOR_TEST),ve.scissor(Z*t.browser.devicePixelRatio,Y*t.browser.devicePixelRatio,P*t.browser.devicePixelRatio,W*t.browser.devicePixelRatio),se.clear({color:ne}),ve.disable(ve.SCISSOR_TEST)}function tu(U,Z,Y){var P=U.context,W=P.gl,ne=Y.posMatrix,se=U.useProgram("debug"),ve=Ft.disabled,ke=Ze.disabled,De=U.colorModeForRenderPass(),je="$debug";P.activeTexture.set(W.TEXTURE0),U.emptyTexture.bind(W.LINEAR,W.CLAMP_TO_EDGE),se.draw(P,W.LINE_STRIP,ve,ke,De,qe.disabled,xc(ne,t.Color.red),je,U.debugBuffer,U.tileBorderIndexBuffer,U.debugSegments);var We=Z.getTileByID(Y.key).latestRawTileData,$e=We&&We.byteLength||0,at=Math.floor($e/1024),pt=Z.getTile(Y).tileSize,vt=512/Math.min(pt,512)*(Y.overscaledZ/U.transform.zoom)*.5,kt=Y.canonical.toString();Y.overscaledZ!==Y.canonical.z&&(kt+=" => "+Y.overscaledZ),function(Ot,St){Ot.initDebugOverlayCanvas();var jt=Ot.debugOverlayCanvas,It=Ot.context.gl,Jt=Ot.debugOverlayCanvas.getContext("2d");Jt.clearRect(0,0,jt.width,jt.height),Jt.shadowColor="white",Jt.shadowBlur=2,Jt.lineWidth=1.5,Jt.strokeStyle="white",Jt.textBaseline="top",Jt.font="bold 36px Open Sans, sans-serif",Jt.fillText(St,5,5),Jt.strokeText(St,5,5),Ot.debugOverlayTexture.update(jt),Ot.debugOverlayTexture.bind(It.LINEAR,It.CLAMP_TO_EDGE)}(U,kt+" "+at+"kb"),se.draw(P,W.TRIANGLES,ve,ke,Je.alphaBlended,qe.disabled,xc(ne,t.Color.transparent,vt),je,U.debugBuffer,U.quadTriangleIndexBuffer,U.debugSegments)}var Cu={symbol:function(U,Z,Y,P,W){if(U.renderPass==="translucent"){var ne=Ze.disabled,se=U.colorModeForRenderPass();Y.layout.get("text-variable-anchor")&&function(ve,ke,De,je,We,$e,at){for(var pt=ke.transform,vt=We==="map",kt=$e==="map",Ot=0,St=ve;Ot<St.length;Ot+=1){var jt=St[Ot],It=je.getTile(jt),Jt=It.getBucket(De);if(Jt&&Jt.text&&Jt.text.segments.get().length){var $t=Jt.textSizeData,Ht=t.evaluateSizeForZoom($t,pt.zoom),vn=Kn(It,1,ke.transform.zoom),bn=An(jt.posMatrix,kt,vt,ke.transform,vn),Ln=De.layout.get("icon-text-fit")!=="none"&&Jt.hasIconData();if(Ht){var zn=Math.pow(2,pt.zoom-It.tileID.overscaledZ);Su(Jt,vt,kt,at,t.symbolSize,pt,bn,jt.posMatrix,zn,Ht,Ln)}}}}(P,U,Y,Z,Y.layout.get("text-rotation-alignment"),Y.layout.get("text-pitch-alignment"),W),Y.paint.get("icon-opacity").constantOr(1)!==0&&js(U,Z,Y,P,!1,Y.paint.get("icon-translate"),Y.paint.get("icon-translate-anchor"),Y.layout.get("icon-rotation-alignment"),Y.layout.get("icon-pitch-alignment"),Y.layout.get("icon-keep-upright"),ne,se),Y.paint.get("text-opacity").constantOr(1)!==0&&js(U,Z,Y,P,!0,Y.paint.get("text-translate"),Y.paint.get("text-translate-anchor"),Y.layout.get("text-rotation-alignment"),Y.layout.get("text-pitch-alignment"),Y.layout.get("text-keep-upright"),ne,se),Z.map.showCollisionBoxes&&(Ll(U,Z,Y,P,Y.paint.get("text-translate"),Y.paint.get("text-translate-anchor"),!0),Ll(U,Z,Y,P,Y.paint.get("icon-translate"),Y.paint.get("icon-translate-anchor"),!1))}},circle:function(U,Z,Y,P){if(U.renderPass==="translucent"){var W=Y.paint.get("circle-opacity"),ne=Y.paint.get("circle-stroke-width"),se=Y.paint.get("circle-stroke-opacity"),ve=Y.layout.get("circle-sort-key").constantOr(1)!==void 0;if(W.constantOr(1)!==0||ne.constantOr(1)!==0&&se.constantOr(1)!==0){for(var ke=U.context,De=ke.gl,je=U.depthModeForSublayer(0,Ft.ReadOnly),We=Ze.disabled,$e=U.colorModeForRenderPass(),at=[],pt=0;pt<P.length;pt++){var vt=P[pt],kt=Z.getTile(vt),Ot=kt.getBucket(Y);if(Ot){var St=Ot.programConfigurations.get(Y.id),jt={programConfiguration:St,program:U.useProgram("circle",St),layoutVertexBuffer:Ot.layoutVertexBuffer,indexBuffer:Ot.indexBuffer,uniformValues:Au(U,vt,kt,Y)};if(ve)for(var It=0,Jt=Ot.segments.get();It<Jt.length;It+=1){var $t=Jt[It];at.push({segments:new t.SegmentVector([$t]),sortKey:$t.sortKey,state:jt})}else at.push({segments:Ot.segments,sortKey:0,state:jt})}}ve&&at.sort(function(Ar,zr){return Ar.sortKey-zr.sortKey});for(var Ht=0,vn=at;Ht<vn.length;Ht+=1){var bn=vn[Ht],Ln=bn.state,zn=Ln.programConfiguration,Gn=Ln.program,or=Ln.layoutVertexBuffer,dr=Ln.indexBuffer,Xn=Ln.uniformValues,hr=bn.segments;Gn.draw(ke,De.TRIANGLES,je,We,$e,qe.disabled,Xn,Y.id,or,dr,hr,Y.paint,U.transform.zoom,zn)}}}},heatmap:function(U,Z,Y,P){if(Y.paint.get("heatmap-opacity")!==0)if(U.renderPass==="offscreen"){var W=U.context,ne=W.gl,se=Ze.disabled,ve=new Je([ne.ONE,ne.ONE],t.Color.transparent,[!0,!0,!0,!0]);(function(vt,kt,Ot){var St=vt.gl;vt.activeTexture.set(St.TEXTURE1),vt.viewport.set([0,0,kt.width/4,kt.height/4]);var jt=Ot.heatmapFbo;if(jt)St.bindTexture(St.TEXTURE_2D,jt.colorAttachment.get()),vt.bindFramebuffer.set(jt.framebuffer);else{var It=St.createTexture();St.bindTexture(St.TEXTURE_2D,It),St.texParameteri(St.TEXTURE_2D,St.TEXTURE_WRAP_S,St.CLAMP_TO_EDGE),St.texParameteri(St.TEXTURE_2D,St.TEXTURE_WRAP_T,St.CLAMP_TO_EDGE),St.texParameteri(St.TEXTURE_2D,St.TEXTURE_MIN_FILTER,St.LINEAR),St.texParameteri(St.TEXTURE_2D,St.TEXTURE_MAG_FILTER,St.LINEAR),jt=Ot.heatmapFbo=vt.createFramebuffer(kt.width/4,kt.height/4,!1),function(Jt,$t,Ht,vn){var bn=Jt.gl,Ln=Jt.extRenderToTextureHalfFloat?Jt.extTextureHalfFloat.HALF_FLOAT_OES:bn.UNSIGNED_BYTE;bn.texImage2D(bn.TEXTURE_2D,0,bn.RGBA,$t.width/4,$t.height/4,0,bn.RGBA,Ln,null),vn.colorAttachment.set(Ht)}(vt,kt,It,jt)}})(W,U,Y),W.clear({color:t.Color.transparent});for(var ke=0;ke<P.length;ke++){var De=P[ke];if(!Z.hasRenderableParent(De)){var je=Z.getTile(De),We=je.getBucket(Y);if(We){var $e=We.programConfigurations.get(Y.id),at=U.useProgram("heatmap",$e),pt=U.transform.zoom;at.draw(W,ne.TRIANGLES,Ft.disabled,se,ve,qe.disabled,bc(De.posMatrix,je,pt,Y.paint.get("heatmap-intensity")),Y.id,We.layoutVertexBuffer,We.indexBuffer,We.segments,Y.paint,U.transform.zoom,$e)}}}W.viewport.set([0,0,U.width,U.height])}else U.renderPass==="translucent"&&(U.context.setColorMode(U.colorModeForRenderPass()),function(vt,kt){var Ot=vt.context,St=Ot.gl,jt=kt.heatmapFbo;if(jt){Ot.activeTexture.set(St.TEXTURE0),St.bindTexture(St.TEXTURE_2D,jt.colorAttachment.get()),Ot.activeTexture.set(St.TEXTURE1);var It=kt.colorRampTexture;It||(It=kt.colorRampTexture=new t.Texture(Ot,kt.colorRamp,St.RGBA)),It.bind(St.LINEAR,St.CLAMP_TO_EDGE),vt.useProgram("heatmapTexture").draw(Ot,St.TRIANGLES,Ft.disabled,Ze.disabled,vt.colorModeForRenderPass(),qe.disabled,of(vt,kt,0,1),kt.id,vt.viewportBuffer,vt.quadTriangleIndexBuffer,vt.viewportSegments,kt.paint,vt.transform.zoom)}}(U,Y))},line:function(U,Z,Y,P){if(U.renderPass==="translucent"){var W=Y.paint.get("line-opacity"),ne=Y.paint.get("line-width");if(W.constantOr(1)!==0&&ne.constantOr(1)!==0)for(var se=U.depthModeForSublayer(0,Ft.ReadOnly),ve=U.colorModeForRenderPass(),ke=Y.paint.get("line-dasharray"),De=Y.paint.get("line-pattern"),je=De.constantOr(1),We=Y.paint.get("line-gradient"),$e=Y.getCrossfadeParameters(),at=je?"linePattern":ke?"lineSDF":We?"lineGradient":"line",pt=U.context,vt=pt.gl,kt=!0,Ot=0,St=P;Ot<St.length;Ot+=1){var jt=St[Ot],It=Z.getTile(jt);if(!je||It.patternsLoaded()){var Jt=It.getBucket(Y);if(Jt){var $t=Jt.programConfigurations.get(Y.id),Ht=U.context.program.get(),vn=U.useProgram(at,$t),bn=kt||vn.program!==Ht,Ln=De.constantOr(null);if(Ln&&It.imageAtlas){var zn=It.imageAtlas,Gn=zn.patternPositions[Ln.to.toString()],or=zn.patternPositions[Ln.from.toString()];Gn&&or&&$t.setConstantPatternPositions(Gn,or)}var dr=je?ll(U,It,Y,$e):ke?Ql(U,It,Y,ke,$e):We?Sl(U,It,Y,Jt.lineClipsArray.length):is(U,It,Y);if(je)pt.activeTexture.set(vt.TEXTURE0),It.imageAtlasTexture.bind(vt.LINEAR,vt.CLAMP_TO_EDGE),$t.updatePaintBuffers($e);else if(ke&&(bn||U.lineAtlas.dirty))pt.activeTexture.set(vt.TEXTURE0),U.lineAtlas.bind(pt);else if(We){var Xn=Jt.gradients[Y.id],hr=Xn.texture;if(Y.gradientVersion!==Xn.version){var Ar=256;if(Y.stepInterpolant){var zr=Z.getSource().maxzoom,nr=jt.canonical.z===zr?Math.ceil(1<<U.transform.maxZoom-jt.canonical.z):1,fr=Jt.maxLineLength/t.EXTENT*1024*nr;Ar=t.clamp(t.nextPowerOfTwo(fr),256,pt.maxTextureSize)}Xn.gradient=t.renderColorRamp({expression:Y.gradientExpression(),evaluationKey:"lineProgress",resolution:Ar,image:Xn.gradient||void 0,clips:Jt.lineClipsArray}),Xn.texture?Xn.texture.update(Xn.gradient):Xn.texture=new t.Texture(pt,Xn.gradient,vt.RGBA),Xn.version=Y.gradientVersion,hr=Xn.texture}pt.activeTexture.set(vt.TEXTURE0),hr.bind(Y.stepInterpolant?vt.NEAREST:vt.LINEAR,vt.CLAMP_TO_EDGE)}vn.draw(pt,vt.TRIANGLES,se,U.stencilModeForClipping(jt),ve,qe.disabled,dr,Y.id,Jt.layoutVertexBuffer,Jt.indexBuffer,Jt.segments,Y.paint,U.transform.zoom,$t,Jt.layoutVertexBuffer2),kt=!1}}}}},fill:function(U,Z,Y,P){var W=Y.paint.get("fill-color"),ne=Y.paint.get("fill-opacity");if(ne.constantOr(1)!==0){var se=U.colorModeForRenderPass(),ve=Y.paint.get("fill-pattern"),ke=U.opaquePassEnabledForLayer()&&!ve.constantOr(1)&&W.constantOr(t.Color.transparent).a===1&&ne.constantOr(0)===1?"opaque":"translucent";if(U.renderPass===ke){var De=U.depthModeForSublayer(1,U.renderPass==="opaque"?Ft.ReadWrite:Ft.ReadOnly);bs(U,Z,Y,P,De,se,!1)}if(U.renderPass==="translucent"&&Y.paint.get("fill-antialias")){var je=U.depthModeForSublayer(Y.getPaintProperty("fill-outline-color")?2:0,Ft.ReadOnly);bs(U,Z,Y,P,je,se,!0)}}},"fill-extrusion":function(U,Z,Y,P){var W=Y.paint.get("fill-extrusion-opacity");if(W!==0&&U.renderPass==="translucent"){var ne=new Ft(U.context.gl.LEQUAL,Ft.ReadWrite,U.depthRangeFor3D);if(W!==1||Y.paint.get("fill-extrusion-pattern").constantOr(1))No(U,Z,Y,P,ne,Ze.disabled,Je.disabled),No(U,Z,Y,P,ne,U.stencilModeFor3D(),U.colorModeForRenderPass());else{var se=U.colorModeForRenderPass();No(U,Z,Y,P,ne,Ze.disabled,se)}}},hillshade:function(U,Z,Y,P){if(U.renderPass==="offscreen"||U.renderPass==="translucent"){for(var W=U.context,ne=U.depthModeForSublayer(0,Ft.ReadOnly),se=U.colorModeForRenderPass(),ve=U.renderPass==="translucent"?U.stencilConfigForOverlap(P):[{},P],ke=ve[0],De=0,je=ve[1];De<je.length;De+=1){var We=je[De],$e=Z.getTile(We);$e.needsHillshadePrepare&&U.renderPass==="offscreen"?wc(U,$e,Y,ne,Ze.disabled,se):U.renderPass==="translucent"&&Cl(U,$e,Y,ne,ke[We.overscaledZ],se)}W.viewport.set([0,0,U.width,U.height])}},raster:function(U,Z,Y,P){if(U.renderPass==="translucent"&&Y.paint.get("raster-opacity")!==0&&P.length)for(var W=U.context,ne=W.gl,se=Z.getSource(),ve=U.useProgram("raster"),ke=U.colorModeForRenderPass(),De=se instanceof j?[{},P]:U.stencilConfigForOverlap(P),je=De[0],We=De[1],$e=We[We.length-1].overscaledZ,at=!U.options.moving,pt=0,vt=We;pt<vt.length;pt+=1){var kt=vt[pt],Ot=U.depthModeForSublayer(kt.overscaledZ-$e,Y.paint.get("raster-opacity")===1?Ft.ReadWrite:Ft.ReadOnly,ne.LESS),St=Z.getTile(kt),jt=U.transform.calculatePosMatrix(kt.toUnwrapped(),at);St.registerFadeDuration(Y.paint.get("raster-fade-duration"));var It=Z.findLoadedParent(kt,0),Jt=eu(St,It,Z,Y,U.transform),$t=void 0,Ht=void 0,vn=Y.paint.get("raster-resampling")==="nearest"?ne.NEAREST:ne.LINEAR;W.activeTexture.set(ne.TEXTURE0),St.texture.bind(vn,ne.CLAMP_TO_EDGE,ne.LINEAR_MIPMAP_NEAREST),W.activeTexture.set(ne.TEXTURE1),It?(It.texture.bind(vn,ne.CLAMP_TO_EDGE,ne.LINEAR_MIPMAP_NEAREST),$t=Math.pow(2,It.tileID.overscaledZ-St.tileID.overscaledZ),Ht=[St.tileID.canonical.x*$t%1,St.tileID.canonical.y*$t%1]):St.texture.bind(vn,ne.CLAMP_TO_EDGE,ne.LINEAR_MIPMAP_NEAREST);var bn=$u(jt,Ht||[0,0],$t||1,Jt,Y);se instanceof j?ve.draw(W,ne.TRIANGLES,Ot,Ze.disabled,ke,qe.disabled,bn,Y.id,se.boundsBuffer,U.quadTriangleIndexBuffer,se.boundsSegments):ve.draw(W,ne.TRIANGLES,Ot,je[kt.overscaledZ],ke,qe.disabled,bn,Y.id,U.rasterBoundsBuffer,U.quadTriangleIndexBuffer,U.rasterBoundsSegments)}},background:function(U,Z,Y){var P=Y.paint.get("background-color"),W=Y.paint.get("background-opacity");if(W!==0){var ne=U.context,se=ne.gl,ve=U.transform,ke=ve.tileSize,De=Y.paint.get("background-pattern");if(!U.isPatternMissing(De)){var je=!De&&P.a===1&&W===1&&U.opaquePassEnabledForLayer()?"opaque":"translucent";if(U.renderPass===je){var We=Ze.disabled,$e=U.depthModeForSublayer(0,je==="opaque"?Ft.ReadWrite:Ft.ReadOnly),at=U.colorModeForRenderPass(),pt=U.useProgram(De?"backgroundPattern":"background"),vt=ve.coveringTiles({tileSize:ke});De&&(ne.activeTexture.set(se.TEXTURE0),U.imageManager.bind(U.context));for(var kt=Y.getCrossfadeParameters(),Ot=0,St=vt;Ot<St.length;Ot+=1){var jt=St[Ot],It=U.transform.calculatePosMatrix(jt.toUnwrapped()),Jt=De?lf(It,W,U,De,{tileID:jt,tileSize:ke},kt):El(It,W,P);pt.draw(ne,se.TRIANGLES,$e,We,at,qe.disabled,Jt,Y.id,U.tileExtentBuffer,U.quadTriangleIndexBuffer,U.tileExtentSegments)}}}}},debug:function(U,Z,Y){for(var P=0;P<Y.length;P++)tu(U,Z,Y[P])},custom:function(U,Z,Y){var P=U.context,W=Y.implementation;if(U.renderPass==="offscreen"){var ne=W.prerender;ne&&(U.setCustomLayerDefaults(),P.setColorMode(U.colorModeForRenderPass()),ne.call(W,P.gl,U.transform.customLayerMatrix()),P.setDirty(),U.setBaseState())}else if(U.renderPass==="translucent"){U.setCustomLayerDefaults(),P.setColorMode(U.colorModeForRenderPass()),P.setStencilMode(Ze.disabled);var se=W.renderingMode==="3d"?new Ft(U.context.gl.LEQUAL,Ft.ReadWrite,U.depthRangeFor3D):U.depthModeForSublayer(0,Ft.ReadOnly);P.setDepthMode(se),W.render(P.gl,U.transform.customLayerMatrix()),P.setDirty(),U.setBaseState(),P.bindFramebuffer.set(null)}}},Mi=function(U,Z){this.context=new Ke(U),this.transform=Z,this._tileTextures={},this.setup(),this.numSublayers=ft.maxUnderzooming+ft.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Un,this.gpuTimers={}};Mi.prototype.resize=function(U,Z){if(this.width=U*t.browser.devicePixelRatio,this.height=Z*t.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var Y=0,P=this.style._order;Y<P.length;Y+=1){var W=P[Y];this.style._layers[W].resize()}},Mi.prototype.setup=function(){var U=this.context,Z=new t.StructArrayLayout2i4;Z.emplaceBack(0,0),Z.emplaceBack(t.EXTENT,0),Z.emplaceBack(0,t.EXTENT),Z.emplaceBack(t.EXTENT,t.EXTENT),this.tileExtentBuffer=U.createVertexBuffer(Z,er.members),this.tileExtentSegments=t.SegmentVector.simpleSegment(0,0,4,2);var Y=new t.StructArrayLayout2i4;Y.emplaceBack(0,0),Y.emplaceBack(t.EXTENT,0),Y.emplaceBack(0,t.EXTENT),Y.emplaceBack(t.EXTENT,t.EXTENT),this.debugBuffer=U.createVertexBuffer(Y,er.members),this.debugSegments=t.SegmentVector.simpleSegment(0,0,4,5);var P=new t.StructArrayLayout4i8;P.emplaceBack(0,0,0,0),P.emplaceBack(t.EXTENT,0,t.EXTENT,0),P.emplaceBack(0,t.EXTENT,0,t.EXTENT),P.emplaceBack(t.EXTENT,t.EXTENT,t.EXTENT,t.EXTENT),this.rasterBoundsBuffer=U.createVertexBuffer(P,X.members),this.rasterBoundsSegments=t.SegmentVector.simpleSegment(0,0,4,2);var W=new t.StructArrayLayout2i4;W.emplaceBack(0,0),W.emplaceBack(1,0),W.emplaceBack(0,1),W.emplaceBack(1,1),this.viewportBuffer=U.createVertexBuffer(W,er.members),this.viewportSegments=t.SegmentVector.simpleSegment(0,0,4,2);var ne=new t.StructArrayLayout1ui2;ne.emplaceBack(0),ne.emplaceBack(1),ne.emplaceBack(3),ne.emplaceBack(2),ne.emplaceBack(0),this.tileBorderIndexBuffer=U.createIndexBuffer(ne);var se=new t.StructArrayLayout3ui6;se.emplaceBack(0,1,2),se.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=U.createIndexBuffer(se),this.emptyTexture=new t.Texture(U,{width:1,height:1,data:new Uint8Array([0,0,0,0])},U.gl.RGBA);var ve=this.context.gl;this.stencilClearMode=new Ze({func:ve.ALWAYS,mask:0},0,255,ve.ZERO,ve.ZERO,ve.ZERO)},Mi.prototype.clearStencil=function(){var U=this.context,Z=U.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var Y=t.create();t.ortho(Y,0,this.width,this.height,0,0,1),t.scale(Y,Y,[Z.drawingBufferWidth,Z.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(U,Z.TRIANGLES,Ft.disabled,this.stencilClearMode,Je.disabled,qe.disabled,ol(Y),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Mi.prototype._renderTileClippingMasks=function(U,Z){if(this.currentStencilSource!==U.source&&U.isTileClipped()&&Z&&Z.length){this.currentStencilSource=U.source;var Y=this.context,P=Y.gl;this.nextStencilID+Z.length>256&&this.clearStencil(),Y.setColorMode(Je.disabled),Y.setDepthMode(Ft.disabled);var W=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var ne=0,se=Z;ne<se.length;ne+=1){var ve=se[ne],ke=this._tileClippingMaskIDs[ve.key]=this.nextStencilID++;W.draw(Y,P.TRIANGLES,Ft.disabled,new Ze({func:P.ALWAYS,mask:0},ke,255,P.KEEP,P.KEEP,P.REPLACE),Je.disabled,qe.disabled,ol(ve.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Mi.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var U=this.nextStencilID++,Z=this.context.gl;return new Ze({func:Z.NOTEQUAL,mask:255},U,255,Z.KEEP,Z.KEEP,Z.REPLACE)},Mi.prototype.stencilModeForClipping=function(U){var Z=this.context.gl;return new Ze({func:Z.EQUAL,mask:255},this._tileClippingMaskIDs[U.key],0,Z.KEEP,Z.KEEP,Z.REPLACE)},Mi.prototype.stencilConfigForOverlap=function(U){var Z,Y=this.context.gl,P=U.sort(function(ke,De){return De.overscaledZ-ke.overscaledZ}),W=P[P.length-1].overscaledZ,ne=P[0].overscaledZ-W+1;if(ne>1){this.currentStencilSource=void 0,this.nextStencilID+ne>256&&this.clearStencil();for(var se={},ve=0;ve<ne;ve++)se[ve+W]=new Ze({func:Y.GEQUAL,mask:255},ve+this.nextStencilID,255,Y.KEEP,Y.KEEP,Y.REPLACE);return this.nextStencilID+=ne,[se,P]}return[(Z={},Z[W]=Ze.disabled,Z),P]},Mi.prototype.colorModeForRenderPass=function(){var U=this.context.gl;if(this._showOverdrawInspector){var Z=.125;return new Je([U.CONSTANT_COLOR,U.ONE],new t.Color(Z,Z,Z,0),[!0,!0,!0,!0])}return this.renderPass==="opaque"?Je.unblended:Je.alphaBlended},Mi.prototype.depthModeForSublayer=function(U,Z,Y){if(!this.opaquePassEnabledForLayer())return Ft.disabled;var P=1-((1+this.currentLayer)*this.numSublayers+U)*this.depthEpsilon;return new Ft(Y||this.context.gl.LEQUAL,Z,[P,P])},Mi.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Mi.prototype.render=function(U,Z){var Y=this;this.style=U,this.options=Z,this.lineAtlas=U.lineAtlas,this.imageManager=U.imageManager,this.glyphManager=U.glyphManager,this.symbolFadeChange=U.placement.symbolFadeChange(t.browser.now()),this.imageManager.beginFrame();var P=this.style._order,W=this.style.sourceCaches;for(var ne in W){var se=W[ne];se.used&&se.prepare(this.context)}var ve,ke,De={},je={},We={};for(var $e in W){var at=W[$e];De[$e]=at.getVisibleCoordinates(),je[$e]=De[$e].slice().reverse(),We[$e]=at.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var pt=0;pt<P.length;pt++){var vt=P[pt];if(this.style._layers[vt].is3D()){this.opaquePassCutoff=pt;break}}this.renderPass="offscreen";for(var kt=0,Ot=P;kt<Ot.length;kt+=1){var St=Ot[kt],jt=this.style._layers[St];if(jt.hasOffscreenPass()&&!jt.isHidden(this.transform.zoom)){var It=je[jt.source];(jt.type==="custom"||It.length)&&this.renderLayer(this,W[jt.source],jt,It)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:Z.showOverdrawInspector?t.Color.black:t.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=Z.showOverdrawInspector,this.depthRangeFor3D=[0,1-(U._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=P.length-1;this.currentLayer>=0;this.currentLayer--){var Jt=this.style._layers[P[this.currentLayer]],$t=W[Jt.source],Ht=De[Jt.source];this._renderTileClippingMasks(Jt,Ht),this.renderLayer(this,$t,Jt,Ht)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<P.length;this.currentLayer++){var vn=this.style._layers[P[this.currentLayer]],bn=W[vn.source],Ln=(vn.type==="symbol"?We:je)[vn.source];this._renderTileClippingMasks(vn,De[vn.source]),this.renderLayer(this,bn,vn,Ln)}this.options.showTileBoundaries&&(t.values(this.style._layers).forEach(function(zn){zn.source&&!zn.isHidden(Y.transform.zoom)&&(zn.source!==(ke&&ke.id)&&(ke=Y.style.sourceCaches[zn.source]),(!ve||ve.getSource().maxzoom<ke.getSource().maxzoom)&&(ve=ke))}),ve&&Cu.debug(this,ve,ve.getVisibleCoordinates())),this.options.showPadding&&fl(this),this.context.setDefault()},Mi.prototype.renderLayer=function(U,Z,Y,P){Y.isHidden(this.transform.zoom)||(Y.type==="background"||Y.type==="custom"||P.length)&&(this.id=Y.id,this.gpuTimingStart(Y),Cu[Y.type](U,Z,Y,P,this.style.placement.variableOffsets),this.gpuTimingEnd())},Mi.prototype.gpuTimingStart=function(U){if(this.options.gpuTiming){var Z=this.context.extTimerQuery,Y=this.gpuTimers[U.id];Y||(Y=this.gpuTimers[U.id]={calls:0,cpuTime:0,query:Z.createQueryEXT()}),Y.calls++,Z.beginQueryEXT(Z.TIME_ELAPSED_EXT,Y.query)}},Mi.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var U=this.context.extTimerQuery;U.endQueryEXT(U.TIME_ELAPSED_EXT)}},Mi.prototype.collectGpuTimers=function(){var U=this.gpuTimers;return this.gpuTimers={},U},Mi.prototype.queryGpuTimers=function(U){var Z={};for(var Y in U){var P=U[Y],W=this.context.extTimerQuery,ne=W.getQueryObjectEXT(P.query,W.QUERY_RESULT_EXT)/1e6;W.deleteQueryEXT(P.query),Z[Y]=ne}return Z},Mi.prototype.translatePosMatrix=function(U,Z,Y,P,W){if(!Y[0]&&!Y[1])return U;var ne=W?P==="map"?this.transform.angle:0:P==="viewport"?-this.transform.angle:0;if(ne){var se=Math.sin(ne),ve=Math.cos(ne);Y=[Y[0]*ve-Y[1]*se,Y[0]*se+Y[1]*ve]}var ke=[W?Y[0]:Kn(Z,Y[0],this.transform.zoom),W?Y[1]:Kn(Z,Y[1],this.transform.zoom),0],De=new Float32Array(16);return t.translate(De,U,ke),De},Mi.prototype.saveTileTexture=function(U){var Z=this._tileTextures[U.size[0]];Z?Z.push(U):this._tileTextures[U.size[0]]=[U]},Mi.prototype.getTileTexture=function(U){var Z=this._tileTextures[U];return Z&&Z.length>0?Z.pop():null},Mi.prototype.isPatternMissing=function(U){if(!U)return!1;if(!U.from||!U.to)return!0;var Z=this.imageManager.getPattern(U.from.toString()),Y=this.imageManager.getPattern(U.to.toString());return!Z||!Y},Mi.prototype.useProgram=function(U,Z){this.cache=this.cache||{};var Y=""+U+(Z?Z.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[Y]||(this.cache[Y]=new Fo(this.context,U,va[U],Z,Mu[U],this._showOverdrawInspector)),this.cache[Y]},Mi.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Mi.prototype.setBaseState=function(){var U=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(U.FUNC_ADD)},Mi.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=t.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var U=this.context.gl;this.debugOverlayTexture=new t.Texture(this.context,this.debugOverlayCanvas,U.RGBA)}},Mi.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var Us=function(U,Z){this.points=U,this.planes=Z};Us.fromInvProjectionMatrix=function(U,Z,Y){var P=Math.pow(2,Y),W=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(se){return t.transformMat4([],se,U)}).map(function(se){return t.scale$1([],se,1/se[3]/Z*P)}),ne=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(se){var ve=t.sub([],W[se[0]],W[se[1]]),ke=t.sub([],W[se[2]],W[se[1]]),De=t.normalize([],t.cross([],ve,ke)),je=-t.dot(De,W[se[1]]);return De.concat(je)});return new Us(W,ne)};var Fa=function(U,Z){this.min=U,this.max=Z,this.center=t.scale$2([],t.add([],this.min,this.max),.5)};Fa.prototype.quadrant=function(U){for(var Z=[U%2==0,U<2],Y=t.clone$2(this.min),P=t.clone$2(this.max),W=0;W<Z.length;W++)Y[W]=Z[W]?this.min[W]:this.center[W],P[W]=Z[W]?this.center[W]:this.max[W];return P[2]=this.max[2],new Fa(Y,P)},Fa.prototype.distanceX=function(U){return Math.max(Math.min(this.max[0],U[0]),this.min[0])-U[0]},Fa.prototype.distanceY=function(U){return Math.max(Math.min(this.max[1],U[1]),this.min[1])-U[1]},Fa.prototype.intersects=function(U){for(var Z=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],Y=!0,P=0;P<U.planes.length;P++){for(var W=U.planes[P],ne=0,se=0;se<Z.length;se++)ne+=t.dot$1(W,Z[se])>=0;if(ne===0)return 0;ne!==Z.length&&(Y=!1)}if(Y)return 2;for(var ve=0;ve<3;ve++){for(var ke=Number.MAX_VALUE,De=-Number.MAX_VALUE,je=0;je<U.points.length;je++){var We=U.points[je][ve]-this.min[ve];ke=Math.min(ke,We),De=Math.max(De,We)}if(De<0||ke>this.max[ve]-this.min[ve])return 0}return 1};var jo=function(U,Z,Y,P){if(U===void 0&&(U=0),Z===void 0&&(Z=0),Y===void 0&&(Y=0),P===void 0&&(P=0),isNaN(U)||U<0||isNaN(Z)||Z<0||isNaN(Y)||Y<0||isNaN(P)||P<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=U,this.bottom=Z,this.left=Y,this.right=P};jo.prototype.interpolate=function(U,Z,Y){return Z.top!=null&&U.top!=null&&(this.top=t.number(U.top,Z.top,Y)),Z.bottom!=null&&U.bottom!=null&&(this.bottom=t.number(U.bottom,Z.bottom,Y)),Z.left!=null&&U.left!=null&&(this.left=t.number(U.left,Z.left,Y)),Z.right!=null&&U.right!=null&&(this.right=t.number(U.right,Z.right,Y)),this},jo.prototype.getCenter=function(U,Z){var Y=t.clamp((this.left+U-this.right)/2,0,U),P=t.clamp((this.top+Z-this.bottom)/2,0,Z);return new t.Point(Y,P)},jo.prototype.equals=function(U){return this.top===U.top&&this.bottom===U.bottom&&this.left===U.left&&this.right===U.right},jo.prototype.clone=function(){return new jo(this.top,this.bottom,this.left,this.right)},jo.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var mi=function(U,Z,Y,P,W){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=W===void 0||W,this._minZoom=U||0,this._maxZoom=Z||22,this._minPitch=Y??0,this._maxPitch=P??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new t.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new jo,this._posMatrixCache={},this._alignedPosMatrixCache={}},Ti={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};mi.prototype.clone=function(){var U=new mi(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return U.tileSize=this.tileSize,U.latRange=this.latRange,U.width=this.width,U.height=this.height,U._center=this._center,U.zoom=this.zoom,U.angle=this.angle,U._fov=this._fov,U._pitch=this._pitch,U._unmodified=this._unmodified,U._edgeInsets=this._edgeInsets.clone(),U._calcMatrices(),U},Ti.minZoom.get=function(){return this._minZoom},Ti.minZoom.set=function(U){this._minZoom!==U&&(this._minZoom=U,this.zoom=Math.max(this.zoom,U))},Ti.maxZoom.get=function(){return this._maxZoom},Ti.maxZoom.set=function(U){this._maxZoom!==U&&(this._maxZoom=U,this.zoom=Math.min(this.zoom,U))},Ti.minPitch.get=function(){return this._minPitch},Ti.minPitch.set=function(U){this._minPitch!==U&&(this._minPitch=U,this.pitch=Math.max(this.pitch,U))},Ti.maxPitch.get=function(){return this._maxPitch},Ti.maxPitch.set=function(U){this._maxPitch!==U&&(this._maxPitch=U,this.pitch=Math.min(this.pitch,U))},Ti.renderWorldCopies.get=function(){return this._renderWorldCopies},Ti.renderWorldCopies.set=function(U){U===void 0?U=!0:U===null&&(U=!1),this._renderWorldCopies=U},Ti.worldSize.get=function(){return this.tileSize*this.scale},Ti.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Ti.size.get=function(){return new t.Point(this.width,this.height)},Ti.bearing.get=function(){return-this.angle/Math.PI*180},Ti.bearing.set=function(U){var Z=-t.wrap(U,-180,180)*Math.PI/180;this.angle!==Z&&(this._unmodified=!1,this.angle=Z,this._calcMatrices(),this.rotationMatrix=t.create$2(),t.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Ti.pitch.get=function(){return this._pitch/Math.PI*180},Ti.pitch.set=function(U){var Z=t.clamp(U,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==Z&&(this._unmodified=!1,this._pitch=Z,this._calcMatrices())},Ti.fov.get=function(){return this._fov/Math.PI*180},Ti.fov.set=function(U){U=Math.max(.01,Math.min(60,U)),this._fov!==U&&(this._unmodified=!1,this._fov=U/180*Math.PI,this._calcMatrices())},Ti.zoom.get=function(){return this._zoom},Ti.zoom.set=function(U){var Z=Math.min(Math.max(U,this.minZoom),this.maxZoom);this._zoom!==Z&&(this._unmodified=!1,this._zoom=Z,this.scale=this.zoomScale(Z),this.tileZoom=Math.floor(Z),this.zoomFraction=Z-this.tileZoom,this._constrain(),this._calcMatrices())},Ti.center.get=function(){return this._center},Ti.center.set=function(U){U.lat===this._center.lat&&U.lng===this._center.lng||(this._unmodified=!1,this._center=U,this._constrain(),this._calcMatrices())},Ti.padding.get=function(){return this._edgeInsets.toJSON()},Ti.padding.set=function(U){this._edgeInsets.equals(U)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,U,1),this._calcMatrices())},Ti.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},mi.prototype.isPaddingEqual=function(U){return this._edgeInsets.equals(U)},mi.prototype.interpolatePadding=function(U,Z,Y){this._unmodified=!1,this._edgeInsets.interpolate(U,Z,Y),this._constrain(),this._calcMatrices()},mi.prototype.coveringZoomLevel=function(U){var Z=(U.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/U.tileSize));return Math.max(0,Z)},mi.prototype.getVisibleUnwrappedCoordinates=function(U){var Z=[new t.UnwrappedTileID(0,U)];if(this._renderWorldCopies)for(var Y=this.pointCoordinate(new t.Point(0,0)),P=this.pointCoordinate(new t.Point(this.width,0)),W=this.pointCoordinate(new t.Point(this.width,this.height)),ne=this.pointCoordinate(new t.Point(0,this.height)),se=Math.floor(Math.min(Y.x,P.x,W.x,ne.x)),ve=Math.floor(Math.max(Y.x,P.x,W.x,ne.x)),ke=se-1;ke<=ve+1;ke++)ke!==0&&Z.push(new t.UnwrappedTileID(ke,U));return Z},mi.prototype.coveringTiles=function(U){var Z=this.coveringZoomLevel(U),Y=Z;if(U.minzoom!==void 0&&Z<U.minzoom)return[];U.maxzoom!==void 0&&Z>U.maxzoom&&(Z=U.maxzoom);var P=t.MercatorCoordinate.fromLngLat(this.center),W=Math.pow(2,Z),ne=[W*P.x,W*P.y,0],se=Us.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,Z),ve=U.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(ve=Z);var ke=function(Ln){return{aabb:new Fa([Ln*W,0,0],[(Ln+1)*W,W,0]),zoom:0,x:0,y:0,wrap:Ln,fullyVisible:!1}},De=[],je=[],We=Z,$e=U.reparseOverscaled?Y:Z;if(this._renderWorldCopies)for(var at=1;at<=3;at++)De.push(ke(-at)),De.push(ke(at));for(De.push(ke(0));De.length>0;){var pt=De.pop(),vt=pt.x,kt=pt.y,Ot=pt.fullyVisible;if(!Ot){var St=pt.aabb.intersects(se);if(St===0)continue;Ot=St===2}var jt=pt.aabb.distanceX(ne),It=pt.aabb.distanceY(ne),Jt=Math.max(Math.abs(jt),Math.abs(It)),$t=3+(1<<We-pt.zoom)-2;if(pt.zoom===We||Jt>$t&&pt.zoom>=ve)je.push({tileID:new t.OverscaledTileID(pt.zoom===We?$e:pt.zoom,pt.wrap,pt.zoom,vt,kt),distanceSq:t.sqrLen([ne[0]-.5-vt,ne[1]-.5-kt])});else for(var Ht=0;Ht<4;Ht++){var vn=(vt<<1)+Ht%2,bn=(kt<<1)+(Ht>>1);De.push({aabb:pt.aabb.quadrant(Ht),zoom:pt.zoom+1,x:vn,y:bn,wrap:pt.wrap,fullyVisible:Ot})}}return je.sort(function(Ln,zn){return Ln.distanceSq-zn.distanceSq}).map(function(Ln){return Ln.tileID})},mi.prototype.resize=function(U,Z){this.width=U,this.height=Z,this.pixelsToGLUnits=[2/U,-2/Z],this._constrain(),this._calcMatrices()},Ti.unmodified.get=function(){return this._unmodified},mi.prototype.zoomScale=function(U){return Math.pow(2,U)},mi.prototype.scaleZoom=function(U){return Math.log(U)/Math.LN2},mi.prototype.project=function(U){var Z=t.clamp(U.lat,-this.maxValidLatitude,this.maxValidLatitude);return new t.Point(t.mercatorXfromLng(U.lng)*this.worldSize,t.mercatorYfromLat(Z)*this.worldSize)},mi.prototype.unproject=function(U){return new t.MercatorCoordinate(U.x/this.worldSize,U.y/this.worldSize).toLngLat()},Ti.point.get=function(){return this.project(this.center)},mi.prototype.setLocationAtPoint=function(U,Z){var Y=this.pointCoordinate(Z),P=this.pointCoordinate(this.centerPoint),W=this.locationCoordinate(U),ne=new t.MercatorCoordinate(W.x-(Y.x-P.x),W.y-(Y.y-P.y));this.center=this.coordinateLocation(ne),this._renderWorldCopies&&(this.center=this.center.wrap())},mi.prototype.locationPoint=function(U){return this.coordinatePoint(this.locationCoordinate(U))},mi.prototype.pointLocation=function(U){return this.coordinateLocation(this.pointCoordinate(U))},mi.prototype.locationCoordinate=function(U){return t.MercatorCoordinate.fromLngLat(U)},mi.prototype.coordinateLocation=function(U){return U.toLngLat()},mi.prototype.pointCoordinate=function(U){var Z=[U.x,U.y,0,1],Y=[U.x,U.y,1,1];t.transformMat4(Z,Z,this.pixelMatrixInverse),t.transformMat4(Y,Y,this.pixelMatrixInverse);var P=Z[3],W=Y[3],ne=Z[0]/P,se=Y[0]/W,ve=Z[1]/P,ke=Y[1]/W,De=Z[2]/P,je=Y[2]/W,We=De===je?0:(0-De)/(je-De);return new t.MercatorCoordinate(t.number(ne,se,We)/this.worldSize,t.number(ve,ke,We)/this.worldSize)},mi.prototype.coordinatePoint=function(U){var Z=[U.x*this.worldSize,U.y*this.worldSize,0,1];return t.transformMat4(Z,Z,this.pixelMatrix),new t.Point(Z[0]/Z[3],Z[1]/Z[3])},mi.prototype.getBounds=function(){return new t.LngLatBounds().extend(this.pointLocation(new t.Point(0,0))).extend(this.pointLocation(new t.Point(this.width,0))).extend(this.pointLocation(new t.Point(this.width,this.height))).extend(this.pointLocation(new t.Point(0,this.height)))},mi.prototype.getMaxBounds=function(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new t.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},mi.prototype.setMaxBounds=function(U){U?(this.lngRange=[U.getWest(),U.getEast()],this.latRange=[U.getSouth(),U.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},mi.prototype.calculatePosMatrix=function(U,Z){Z===void 0&&(Z=!1);var Y=U.key,P=Z?this._alignedPosMatrixCache:this._posMatrixCache;if(P[Y])return P[Y];var W=U.canonical,ne=this.worldSize/this.zoomScale(W.z),se=W.x+Math.pow(2,W.z)*U.wrap,ve=t.identity(new Float64Array(16));return t.translate(ve,ve,[se*ne,W.y*ne,0]),t.scale(ve,ve,[ne/t.EXTENT,ne/t.EXTENT,1]),t.multiply(ve,Z?this.alignedProjMatrix:this.projMatrix,ve),P[Y]=new Float32Array(ve),P[Y]},mi.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},mi.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var U,Z,Y,P,W=-90,ne=90,se=-180,ve=180,ke=this.size,De=this._unmodified;if(this.latRange){var je=this.latRange;W=t.mercatorYfromLat(je[1])*this.worldSize,U=(ne=t.mercatorYfromLat(je[0])*this.worldSize)-W<ke.y?ke.y/(ne-W):0}if(this.lngRange){var We=this.lngRange;se=t.mercatorXfromLng(We[0])*this.worldSize,Z=(ve=t.mercatorXfromLng(We[1])*this.worldSize)-se<ke.x?ke.x/(ve-se):0}var $e=this.point,at=Math.max(Z||0,U||0);if(at)return this.center=this.unproject(new t.Point(Z?(ve+se)/2:$e.x,U?(ne+W)/2:$e.y)),this.zoom+=this.scaleZoom(at),this._unmodified=De,void(this._constraining=!1);if(this.latRange){var pt=$e.y,vt=ke.y/2;pt-vt<W&&(P=W+vt),pt+vt>ne&&(P=ne-vt)}if(this.lngRange){var kt=$e.x,Ot=ke.x/2;kt-Ot<se&&(Y=se+Ot),kt+Ot>ve&&(Y=ve-Ot)}Y===void 0&&P===void 0||(this.center=this.unproject(new t.Point(Y!==void 0?Y:$e.x,P!==void 0?P:$e.y))),this._unmodified=De,this._constraining=!1}},mi.prototype._calcMatrices=function(){if(this.height){var U=this._fov/2,Z=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(U)*this.height;var Y=Math.PI/2+this._pitch,P=this._fov*(.5+Z.y/this.height),W=Math.sin(P)*this.cameraToCenterDistance/Math.sin(t.clamp(Math.PI-Y-P,.01,Math.PI-.01)),ne=this.point,se=ne.x,ve=ne.y,ke=1.01*(Math.cos(Math.PI/2-this._pitch)*W+this.cameraToCenterDistance),De=this.height/50,je=new Float64Array(16);t.perspective(je,this._fov,this.width/this.height,De,ke),je[8]=2*-Z.x/this.width,je[9]=2*Z.y/this.height,t.scale(je,je,[1,-1,1]),t.translate(je,je,[0,0,-this.cameraToCenterDistance]),t.rotateX(je,je,this._pitch),t.rotateZ(je,je,this.angle),t.translate(je,je,[-se,-ve,0]),this.mercatorMatrix=t.scale([],je,[this.worldSize,this.worldSize,this.worldSize]),t.scale(je,je,[1,1,t.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=je,this.invProjMatrix=t.invert([],this.projMatrix);var We=this.width%2/2,$e=this.height%2/2,at=Math.cos(this.angle),pt=Math.sin(this.angle),vt=se-Math.round(se)+at*We+pt*$e,kt=ve-Math.round(ve)+at*$e+pt*We,Ot=new Float64Array(je);if(t.translate(Ot,Ot,[vt>.5?vt-1:vt,kt>.5?kt-1:kt,0]),this.alignedProjMatrix=Ot,je=t.create(),t.scale(je,je,[this.width/2,-this.height/2,1]),t.translate(je,je,[1,-1,0]),this.labelPlaneMatrix=je,je=t.create(),t.scale(je,je,[1,-1,1]),t.translate(je,je,[-1,-1,0]),t.scale(je,je,[2/this.width,2/this.height,1]),this.glCoordMatrix=je,this.pixelMatrix=t.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(je=t.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=je,this._posMatrixCache={},this._alignedPosMatrixCache={}}},mi.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var U=this.pointCoordinate(new t.Point(0,0)),Z=[U.x*this.worldSize,U.y*this.worldSize,0,1];return t.transformMat4(Z,Z,this.pixelMatrix)[3]/this.cameraToCenterDistance},mi.prototype.getCameraPoint=function(){var U=this._pitch,Z=Math.tan(U)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new t.Point(0,Z))},mi.prototype.getCameraQueryGeometry=function(U){var Z=this.getCameraPoint();if(U.length===1)return[U[0],Z];for(var Y=Z.x,P=Z.y,W=Z.x,ne=Z.y,se=0,ve=U;se<ve.length;se+=1){var ke=ve[se];Y=Math.min(Y,ke.x),P=Math.min(P,ke.y),W=Math.max(W,ke.x),ne=Math.max(ne,ke.y)}return[new t.Point(Y,P),new t.Point(W,P),new t.Point(W,ne),new t.Point(Y,ne),new t.Point(Y,P)]},Object.defineProperties(mi.prototype,Ti);var po=function(U){var Z,Y,P,W,ne;this._hashName=U&&encodeURIComponent(U),t.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(Z=this._updateHashUnthrottled.bind(this),Y=300,P=!1,W=null,ne=function(){W=null,P&&(Z(),W=setTimeout(ne,Y),P=!1)},function(){return P=!0,W||ne(),W})};po.prototype.addTo=function(U){return this._map=U,t.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},po.prototype.remove=function(){return t.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},po.prototype.getHashString=function(U){var Z=this._map.getCenter(),Y=Math.round(100*this._map.getZoom())/100,P=Math.ceil((Y*Math.LN2+Math.log(512/360/.5))/Math.LN10),W=Math.pow(10,P),ne=Math.round(Z.lng*W)/W,se=Math.round(Z.lat*W)/W,ve=this._map.getBearing(),ke=this._map.getPitch(),De="";if(De+=U?"/"+ne+"/"+se+"/"+Y:Y+"/"+se+"/"+ne,(ve||ke)&&(De+="/"+Math.round(10*ve)/10),ke&&(De+="/"+Math.round(ke)),this._hashName){var je=this._hashName,We=!1,$e=t.window.location.hash.slice(1).split("&").map(function(at){var pt=at.split("=")[0];return pt===je?(We=!0,pt+"="+De):at}).filter(function(at){return at});return We||$e.push(je+"="+De),"#"+$e.join("&")}return"#"+De},po.prototype._getCurrentHash=function(){var U,Z=this,Y=t.window.location.hash.replace("#","");return this._hashName?(Y.split("&").map(function(P){return P.split("=")}).forEach(function(P){P[0]===Z._hashName&&(U=P)}),(U&&U[1]||"").split("/")):Y.split("/")},po.prototype._onHashChange=function(){var U=this._getCurrentHash();if(U.length>=3&&!U.some(function(Y){return isNaN(Y)})){var Z=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(U[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+U[2],+U[1]],zoom:+U[0],bearing:Z,pitch:+(U[4]||0)}),!0}return!1},po.prototype._updateHashUnthrottled=function(){var U=t.window.location.href.replace(/(#.+)?$/,this.getHashString());try{t.window.history.replaceState(t.window.history.state,null,U)}catch{}};var Il={linearity:.3,easing:t.bezier(0,0,.3,1)},nu=t.extend({deceleration:2500,maxSpeed:1400},Il),Pu=t.extend({deceleration:20,maxSpeed:1400},Il),ru=t.extend({deceleration:1e3,maxSpeed:360},Il),iu=t.extend({deceleration:1e3,maxSpeed:90},Il),Mo=function(U){this._map=U,this.clear()};function Vs(U,Z){(!U.duration||U.duration<Z.duration)&&(U.duration=Z.duration,U.easing=Z.easing)}function Hs(U,Z,Y){var P=Y.maxSpeed,W=Y.linearity,ne=Y.deceleration,se=t.clamp(U*W/(Z/1e3),-P,P),ve=Math.abs(se)/(ne*W);return{easing:Y.easing,duration:1e3*ve,amount:se*(ve/2)}}Mo.prototype.clear=function(){this._inertiaBuffer=[]},Mo.prototype.record=function(U){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:t.browser.now(),settings:U})},Mo.prototype._drainInertiaBuffer=function(){for(var U=this._inertiaBuffer,Z=t.browser.now();U.length>0&&Z-U[0].time>160;)U.shift()},Mo.prototype._onMoveEnd=function(U){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var Z={zoom:0,bearing:0,pitch:0,pan:new t.Point(0,0),pinchAround:void 0,around:void 0},Y=0,P=this._inertiaBuffer;Y<P.length;Y+=1){var W=P[Y].settings;Z.zoom+=W.zoomDelta||0,Z.bearing+=W.bearingDelta||0,Z.pitch+=W.pitchDelta||0,W.panDelta&&Z.pan._add(W.panDelta),W.around&&(Z.around=W.around),W.pinchAround&&(Z.pinchAround=W.pinchAround)}var ne=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,se={};if(Z.pan.mag()){var ve=Hs(Z.pan.mag(),ne,t.extend({},nu,U||{}));se.offset=Z.pan.mult(ve.amount/Z.pan.mag()),se.center=this._map.transform.center,Vs(se,ve)}if(Z.zoom){var ke=Hs(Z.zoom,ne,Pu);se.zoom=this._map.transform.zoom+ke.amount,Vs(se,ke)}if(Z.bearing){var De=Hs(Z.bearing,ne,ru);se.bearing=this._map.transform.bearing+t.clamp(De.amount,-179,179),Vs(se,De)}if(Z.pitch){var je=Hs(Z.pitch,ne,iu);se.pitch=this._map.transform.pitch+je.amount,Vs(se,je)}if(se.zoom||se.bearing){var We=Z.pinchAround===void 0?Z.around:Z.pinchAround;se.around=We?this._map.unproject(We):this._map.getCenter()}return this.clear(),t.extend(se,{noMoveStart:!0})}};var Ha=function(U){function Z(P,W,ne,se){se===void 0&&(se={});var ve=g.mousePos(W.getCanvasContainer(),ne),ke=W.unproject(ve);U.call(this,P,t.extend({point:ve,lngLat:ke,originalEvent:ne},se)),this._defaultPrevented=!1,this.target=W}U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z;var Y={defaultPrevented:{configurable:!0}};return Z.prototype.preventDefault=function(){this._defaultPrevented=!0},Y.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Z.prototype,Y),Z}(t.Event),au=function(U){function Z(P,W,ne){var se=P==="touchend"?ne.changedTouches:ne.touches,ve=g.touchPos(W.getCanvasContainer(),se),ke=ve.map(function(We){return W.unproject(We)}),De=ve.reduce(function(We,$e,at,pt){return We.add($e.div(pt.length))},new t.Point(0,0)),je=W.unproject(De);U.call(this,P,{points:ve,point:De,lngLats:ke,lngLat:je,originalEvent:ne}),this._defaultPrevented=!1}U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z;var Y={defaultPrevented:{configurable:!0}};return Z.prototype.preventDefault=function(){this._defaultPrevented=!0},Y.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Z.prototype,Y),Z}(t.Event),So=function(U){function Z(P,W,ne){U.call(this,P,{originalEvent:ne}),this._defaultPrevented=!1}U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z;var Y={defaultPrevented:{configurable:!0}};return Z.prototype.preventDefault=function(){this._defaultPrevented=!0},Y.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Z.prototype,Y),Z}(t.Event),ma=function(U,Z){this._map=U,this._clickTolerance=Z.clickTolerance};ma.prototype.reset=function(){delete this._mousedownPos},ma.prototype.wheel=function(U){return this._firePreventable(new So(U.type,this._map,U))},ma.prototype.mousedown=function(U,Z){return this._mousedownPos=Z,this._firePreventable(new Ha(U.type,this._map,U))},ma.prototype.mouseup=function(U){this._map.fire(new Ha(U.type,this._map,U))},ma.prototype.click=function(U,Z){this._mousedownPos&&this._mousedownPos.dist(Z)>=this._clickTolerance||this._map.fire(new Ha(U.type,this._map,U))},ma.prototype.dblclick=function(U){return this._firePreventable(new Ha(U.type,this._map,U))},ma.prototype.mouseover=function(U){this._map.fire(new Ha(U.type,this._map,U))},ma.prototype.mouseout=function(U){this._map.fire(new Ha(U.type,this._map,U))},ma.prototype.touchstart=function(U){return this._firePreventable(new au(U.type,this._map,U))},ma.prototype.touchmove=function(U){this._map.fire(new au(U.type,this._map,U))},ma.prototype.touchend=function(U){this._map.fire(new au(U.type,this._map,U))},ma.prototype.touchcancel=function(U){this._map.fire(new au(U.type,this._map,U))},ma.prototype._firePreventable=function(U){if(this._map.fire(U),U.defaultPrevented)return{}},ma.prototype.isEnabled=function(){return!0},ma.prototype.isActive=function(){return!1},ma.prototype.enable=function(){},ma.prototype.disable=function(){};var Ma=function(U){this._map=U};Ma.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Ma.prototype.mousemove=function(U){this._map.fire(new Ha(U.type,this._map,U))},Ma.prototype.mousedown=function(){this._delayContextMenu=!0},Ma.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ha("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Ma.prototype.contextmenu=function(U){this._delayContextMenu?this._contextMenuEvent=U:this._map.fire(new Ha(U.type,this._map,U)),this._map.listens("contextmenu")&&U.preventDefault()},Ma.prototype.isEnabled=function(){return!0},Ma.prototype.isActive=function(){return!1},Ma.prototype.enable=function(){},Ma.prototype.disable=function(){};var Ri=function(U,Z){this._map=U,this._el=U.getCanvasContainer(),this._container=U.getContainer(),this._clickTolerance=Z.clickTolerance||1};function Sa(U,Z){for(var Y={},P=0;P<U.length;P++)Y[U[P].identifier]=Z[P];return Y}Ri.prototype.isEnabled=function(){return!!this._enabled},Ri.prototype.isActive=function(){return!!this._active},Ri.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Ri.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Ri.prototype.mousedown=function(U,Z){this.isEnabled()&&U.shiftKey&&U.button===0&&(g.disableDrag(),this._startPos=this._lastPos=Z,this._active=!0)},Ri.prototype.mousemoveWindow=function(U,Z){if(this._active){var Y=Z;if(!(this._lastPos.equals(Y)||!this._box&&Y.dist(this._startPos)<this._clickTolerance)){var P=this._startPos;this._lastPos=Y,this._box||(this._box=g.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",U));var W=Math.min(P.x,Y.x),ne=Math.max(P.x,Y.x),se=Math.min(P.y,Y.y),ve=Math.max(P.y,Y.y);g.setTransform(this._box,"translate("+W+"px,"+se+"px)"),this._box.style.width=ne-W+"px",this._box.style.height=ve-se+"px"}}},Ri.prototype.mouseupWindow=function(U,Z){var Y=this;if(this._active&&U.button===0){var P=this._startPos,W=Z;if(this.reset(),g.suppressClick(),P.x!==W.x||P.y!==W.y)return this._map.fire(new t.Event("boxzoomend",{originalEvent:U})),{cameraAnimation:function(ne){return ne.fitScreenCoordinates(P,W,Y._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",U)}},Ri.prototype.keydown=function(U){this._active&&U.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",U))},Ri.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(g.remove(this._box),this._box=null),g.enableDrag(),delete this._startPos,delete this._lastPos},Ri.prototype._fireEvent=function(U,Z){return this._map.fire(new t.Event(U,{originalEvent:Z}))};var as=function(U){this.reset(),this.numTouches=U.numTouches};as.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},as.prototype.touchstart=function(U,Z,Y){(this.centroid||Y.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=U.timeStamp),Y.length===this.numTouches&&(this.centroid=function(P){for(var W=new t.Point(0,0),ne=0,se=P;ne<se.length;ne+=1){var ve=se[ne];W._add(ve)}return W.div(P.length)}(Z),this.touches=Sa(Y,Z)))},as.prototype.touchmove=function(U,Z,Y){if(!this.aborted&&this.centroid){var P=Sa(Y,Z);for(var W in this.touches){var ne=this.touches[W],se=P[W];(!se||se.dist(ne)>30)&&(this.aborted=!0)}}},as.prototype.touchend=function(U,Z,Y){if((!this.centroid||U.timeStamp-this.startTime>500)&&(this.aborted=!0),Y.length===0){var P=!this.aborted&&this.centroid;if(this.reset(),P)return P}};var dl=function(U){this.singleTap=new as(U),this.numTaps=U.numTaps,this.reset()};dl.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},dl.prototype.touchstart=function(U,Z,Y){this.singleTap.touchstart(U,Z,Y)},dl.prototype.touchmove=function(U,Z,Y){this.singleTap.touchmove(U,Z,Y)},dl.prototype.touchend=function(U,Z,Y){var P=this.singleTap.touchend(U,Z,Y);if(P){var W=U.timeStamp-this.lastTime<500,ne=!this.lastTap||this.lastTap.dist(P)<30;if(W&&ne||this.reset(),this.count++,this.lastTime=U.timeStamp,this.lastTap=P,this.count===this.numTaps)return this.reset(),P}};var Uo=function(){this._zoomIn=new dl({numTouches:1,numTaps:2}),this._zoomOut=new dl({numTouches:2,numTaps:1}),this.reset()};Uo.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Uo.prototype.touchstart=function(U,Z,Y){this._zoomIn.touchstart(U,Z,Y),this._zoomOut.touchstart(U,Z,Y)},Uo.prototype.touchmove=function(U,Z,Y){this._zoomIn.touchmove(U,Z,Y),this._zoomOut.touchmove(U,Z,Y)},Uo.prototype.touchend=function(U,Z,Y){var P=this,W=this._zoomIn.touchend(U,Z,Y),ne=this._zoomOut.touchend(U,Z,Y);return W?(this._active=!0,U.preventDefault(),setTimeout(function(){return P.reset()},0),{cameraAnimation:function(se){return se.easeTo({duration:300,zoom:se.getZoom()+1,around:se.unproject(W)},{originalEvent:U})}}):ne?(this._active=!0,U.preventDefault(),setTimeout(function(){return P.reset()},0),{cameraAnimation:function(se){return se.easeTo({duration:300,zoom:se.getZoom()-1,around:se.unproject(ne)},{originalEvent:U})}}):void 0},Uo.prototype.touchcancel=function(){this.reset()},Uo.prototype.enable=function(){this._enabled=!0},Uo.prototype.disable=function(){this._enabled=!1,this.reset()},Uo.prototype.isEnabled=function(){return this._enabled},Uo.prototype.isActive=function(){return this._active};var qs={};qs[0]=1,qs[2]=2;var Za=function(U){this.reset(),this._clickTolerance=U.clickTolerance||1};Za.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Za.prototype._correctButton=function(U,Z){return!1},Za.prototype._move=function(U,Z){return{}},Za.prototype.mousedown=function(U,Z){if(!this._lastPoint){var Y=g.mouseButton(U);this._correctButton(U,Y)&&(this._lastPoint=Z,this._eventButton=Y)}},Za.prototype.mousemoveWindow=function(U,Z){var Y=this._lastPoint;if(Y){if(U.preventDefault(),function(P,W){var ne=qs[W];return P.buttons===void 0||(P.buttons&ne)!==ne}(U,this._eventButton))this.reset();else if(this._moved||!(Z.dist(Y)<this._clickTolerance))return this._moved=!0,this._lastPoint=Z,this._move(Y,Z)}},Za.prototype.mouseupWindow=function(U){this._lastPoint&&g.mouseButton(U)===this._eventButton&&(this._moved&&g.suppressClick(),this.reset())},Za.prototype.enable=function(){this._enabled=!0},Za.prototype.disable=function(){this._enabled=!1,this.reset()},Za.prototype.isEnabled=function(){return this._enabled},Za.prototype.isActive=function(){return this._active};var vl=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.mousedown=function(Y,P){U.prototype.mousedown.call(this,Y,P),this._lastPoint&&(this._active=!0)},Z.prototype._correctButton=function(Y,P){return P===0&&!Y.ctrlKey},Z.prototype._move=function(Y,P){return{around:P,panDelta:P.sub(Y)}},Z}(Za),_s=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype._correctButton=function(Y,P){return P===0&&Y.ctrlKey||P===2},Z.prototype._move=function(Y,P){var W=.8*(P.x-Y.x);if(W)return this._active=!0,{bearingDelta:W}},Z.prototype.contextmenu=function(Y){Y.preventDefault()},Z}(Za),Eo=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype._correctButton=function(Y,P){return P===0&&Y.ctrlKey||P===2},Z.prototype._move=function(Y,P){var W=-.5*(P.y-Y.y);if(W)return this._active=!0,{pitchDelta:W}},Z.prototype.contextmenu=function(Y){Y.preventDefault()},Z}(Za),Lo=function(U){this._minTouches=1,this._clickTolerance=U.clickTolerance||1,this.reset()};Lo.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new t.Point(0,0)},Lo.prototype.touchstart=function(U,Z,Y){return this._calculateTransform(U,Z,Y)},Lo.prototype.touchmove=function(U,Z,Y){if(this._active&&!(Y.length<this._minTouches))return U.preventDefault(),this._calculateTransform(U,Z,Y)},Lo.prototype.touchend=function(U,Z,Y){this._calculateTransform(U,Z,Y),this._active&&Y.length<this._minTouches&&this.reset()},Lo.prototype.touchcancel=function(){this.reset()},Lo.prototype._calculateTransform=function(U,Z,Y){Y.length>0&&(this._active=!0);var P=Sa(Y,Z),W=new t.Point(0,0),ne=new t.Point(0,0),se=0;for(var ve in P){var ke=P[ve],De=this._touches[ve];De&&(W._add(ke),ne._add(ke.sub(De)),se++,P[ve]=ke)}if(this._touches=P,!(se<this._minTouches)&&ne.mag()){var je=ne.div(se);if(this._sum._add(je),!(this._sum.mag()<this._clickTolerance))return{around:W.div(se),panDelta:je}}},Lo.prototype.enable=function(){this._enabled=!0},Lo.prototype.disable=function(){this._enabled=!1,this.reset()},Lo.prototype.isEnabled=function(){return this._enabled},Lo.prototype.isActive=function(){return this._active};var zi=function(){this.reset()};function Vo(U,Z,Y){for(var P=0;P<U.length;P++)if(U[P].identifier===Y)return Z[P]}zi.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},zi.prototype._start=function(U){},zi.prototype._move=function(U,Z,Y){return{}},zi.prototype.touchstart=function(U,Z,Y){this._firstTwoTouches||Y.length<2||(this._firstTwoTouches=[Y[0].identifier,Y[1].identifier],this._start([Z[0],Z[1]]))},zi.prototype.touchmove=function(U,Z,Y){if(this._firstTwoTouches){U.preventDefault();var P=this._firstTwoTouches,W=P[0],ne=P[1],se=Vo(Y,Z,W),ve=Vo(Y,Z,ne);if(se&&ve){var ke=this._aroundCenter?null:se.add(ve).div(2);return this._move([se,ve],ke,U)}}},zi.prototype.touchend=function(U,Z,Y){if(this._firstTwoTouches){var P=this._firstTwoTouches,W=P[0],ne=P[1],se=Vo(Y,Z,W),ve=Vo(Y,Z,ne);se&&ve||(this._active&&g.suppressClick(),this.reset())}},zi.prototype.touchcancel=function(){this.reset()},zi.prototype.enable=function(U){this._enabled=!0,this._aroundCenter=!!U&&U.around==="center"},zi.prototype.disable=function(){this._enabled=!1,this.reset()},zi.prototype.isEnabled=function(){return this._enabled},zi.prototype.isActive=function(){return this._active};function Or(U,Z){return Math.log(U/Z)/Math.LN2}var ou=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.reset=function(){U.prototype.reset.call(this),delete this._distance,delete this._startDistance},Z.prototype._start=function(Y){this._startDistance=this._distance=Y[0].dist(Y[1])},Z.prototype._move=function(Y,P){var W=this._distance;if(this._distance=Y[0].dist(Y[1]),this._active||!(Math.abs(Or(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Or(this._distance,W),pinchAround:P}},Z}(zi);function Zu(U,Z){return 180*U.angleWith(Z)/Math.PI}var Gs=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.reset=function(){U.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},Z.prototype._start=function(Y){this._startVector=this._vector=Y[0].sub(Y[1]),this._minDiameter=Y[0].dist(Y[1])},Z.prototype._move=function(Y,P){var W=this._vector;if(this._vector=Y[0].sub(Y[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Zu(this._vector,W),pinchAround:P}},Z.prototype._isBelowThreshold=function(Y){this._minDiameter=Math.min(this._minDiameter,Y.mag());var P=25/(Math.PI*this._minDiameter)*360,W=Zu(Y,this._startVector);return Math.abs(W)<P},Z}(zi);function Ws(U){return Math.abs(U.y)>Math.abs(U.x)}var ml=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.reset=function(){U.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},Z.prototype._start=function(Y){this._lastPoints=Y,Ws(Y[0].sub(Y[1]))&&(this._valid=!1)},Z.prototype._move=function(Y,P,W){var ne=Y[0].sub(this._lastPoints[0]),se=Y[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(ne,se,W.timeStamp),this._valid)return this._lastPoints=Y,this._active=!0,{pitchDelta:(ne.y+se.y)/2*-.5}},Z.prototype.gestureBeginsVertically=function(Y,P,W){if(this._valid!==void 0)return this._valid;var ne=Y.mag()>=2,se=P.mag()>=2;if(ne||se){if(!ne||!se)return this._firstMove===void 0&&(this._firstMove=W),W-this._firstMove<100&&void 0;var ve=Y.y>0==P.y>0;return Ws(Y)&&Ws(P)&&ve}},Z}(zi),Rl={panStep:100,bearingStep:15,pitchStep:10},Tr=function(){var U=Rl;this._panStep=U.panStep,this._bearingStep=U.bearingStep,this._pitchStep=U.pitchStep,this._rotationDisabled=!1};function su(U){return U*(2-U)}Tr.prototype.reset=function(){this._active=!1},Tr.prototype.keydown=function(U){var Z=this;if(!(U.altKey||U.ctrlKey||U.metaKey)){var Y=0,P=0,W=0,ne=0,se=0;switch(U.keyCode){case 61:case 107:case 171:case 187:Y=1;break;case 189:case 109:case 173:Y=-1;break;case 37:U.shiftKey?P=-1:(U.preventDefault(),ne=-1);break;case 39:U.shiftKey?P=1:(U.preventDefault(),ne=1);break;case 38:U.shiftKey?W=1:(U.preventDefault(),se=-1);break;case 40:U.shiftKey?W=-1:(U.preventDefault(),se=1);break;default:return}return this._rotationDisabled&&(P=0,W=0),{cameraAnimation:function(ve){var ke=ve.getZoom();ve.easeTo({duration:300,easeId:"keyboardHandler",easing:su,zoom:Y?Math.round(ke)+Y*(U.shiftKey?2:1):ke,bearing:ve.getBearing()+P*Z._bearingStep,pitch:ve.getPitch()+W*Z._pitchStep,offset:[-ne*Z._panStep,-se*Z._panStep],center:ve.getCenter()},{originalEvent:U})}}}},Tr.prototype.enable=function(){this._enabled=!0},Tr.prototype.disable=function(){this._enabled=!1,this.reset()},Tr.prototype.isEnabled=function(){return this._enabled},Tr.prototype.isActive=function(){return this._active},Tr.prototype.disableRotation=function(){this._rotationDisabled=!0},Tr.prototype.enableRotation=function(){this._rotationDisabled=!1};var ws=4.000244140625,ya=function(U,Z){this._map=U,this._el=U.getCanvasContainer(),this._handler=Z,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,t.bindAll(["_onTimeout"],this)};ya.prototype.setZoomRate=function(U){this._defaultZoomRate=U},ya.prototype.setWheelZoomRate=function(U){this._wheelZoomRate=U},ya.prototype.isEnabled=function(){return!!this._enabled},ya.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},ya.prototype.isZooming=function(){return!!this._zooming},ya.prototype.enable=function(U){this.isEnabled()||(this._enabled=!0,this._aroundCenter=U&&U.around==="center")},ya.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ya.prototype.wheel=function(U){if(this.isEnabled()){var Z=U.deltaMode===t.window.WheelEvent.DOM_DELTA_LINE?40*U.deltaY:U.deltaY,Y=t.browser.now(),P=Y-(this._lastWheelEventTime||0);this._lastWheelEventTime=Y,Z!==0&&Z%ws==0?this._type="wheel":Z!==0&&Math.abs(Z)<4?this._type="trackpad":P>400?(this._type=null,this._lastValue=Z,this._timeout=setTimeout(this._onTimeout,40,U)):this._type||(this._type=Math.abs(P*Z)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,Z+=this._lastValue)),U.shiftKey&&Z&&(Z/=4),this._type&&(this._lastWheelEvent=U,this._delta-=Z,this._active||this._start(U)),U.preventDefault()}},ya.prototype._onTimeout=function(U){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(U)},ya.prototype._start=function(U){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var Z=g.mousePos(this._el,U);this._around=t.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(Z)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},ya.prototype.renderFrame=function(){var U=this;if(this._frameId&&(this._frameId=null,this.isActive())){var Z=this._map.transform;if(this._delta!==0){var Y=this._type==="wheel"&&Math.abs(this._delta)>ws?this._wheelZoomRate:this._defaultZoomRate,P=2/(1+Math.exp(-Math.abs(this._delta*Y)));this._delta<0&&P!==0&&(P=1/P);var W=typeof this._targetZoom=="number"?Z.zoomScale(this._targetZoom):Z.scale;this._targetZoom=Math.min(Z.maxZoom,Math.max(Z.minZoom,Z.scaleZoom(W*P))),this._type==="wheel"&&(this._startZoom=Z.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var ne,se=typeof this._targetZoom=="number"?this._targetZoom:Z.zoom,ve=this._startZoom,ke=this._easing,De=!1;if(this._type==="wheel"&&ve&&ke){var je=Math.min((t.browser.now()-this._lastWheelEventTime)/200,1),We=ke(je);ne=t.number(ve,se,We),je<1?this._frameId||(this._frameId=!0):De=!0}else ne=se,De=!0;return this._active=!0,De&&(this._active=!1,this._finishTimeout=setTimeout(function(){U._zooming=!1,U._handler._triggerRenderFrame(),delete U._targetZoom,delete U._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!De,zoomDelta:ne-Z.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},ya.prototype._smoothOutEasing=function(U){var Z=t.ease;if(this._prevEase){var Y=this._prevEase,P=(t.browser.now()-Y.start)/Y.duration,W=Y.easing(P+.01)-Y.easing(P),ne=.27/Math.sqrt(W*W+1e-4)*.01,se=Math.sqrt(.0729-ne*ne);Z=t.bezier(ne,se,.25,1)}return this._prevEase={start:t.browser.now(),duration:U,easing:Z},Z},ya.prototype.reset=function(){this._active=!1};var Ys=function(U,Z){this._clickZoom=U,this._tapZoom=Z};Ys.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Ys.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Ys.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Ys.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Ho=function(){this.reset()};Ho.prototype.reset=function(){this._active=!1},Ho.prototype.dblclick=function(U,Z){return U.preventDefault(),{cameraAnimation:function(Y){Y.easeTo({duration:300,zoom:Y.getZoom()+(U.shiftKey?-1:1),around:Y.unproject(Z)},{originalEvent:U})}}},Ho.prototype.enable=function(){this._enabled=!0},Ho.prototype.disable=function(){this._enabled=!1,this.reset()},Ho.prototype.isEnabled=function(){return this._enabled},Ho.prototype.isActive=function(){return this._active};var Co=function(){this._tap=new dl({numTouches:1,numTaps:1}),this.reset()};Co.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Co.prototype.touchstart=function(U,Z,Y){this._swipePoint||(this._tapTime&&U.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?Y.length>0&&(this._swipePoint=Z[0],this._swipeTouch=Y[0].identifier):this._tap.touchstart(U,Z,Y))},Co.prototype.touchmove=function(U,Z,Y){if(this._tapTime){if(this._swipePoint){if(Y[0].identifier!==this._swipeTouch)return;var P=Z[0],W=P.y-this._swipePoint.y;return this._swipePoint=P,U.preventDefault(),this._active=!0,{zoomDelta:W/128}}}else this._tap.touchmove(U,Z,Y)},Co.prototype.touchend=function(U,Z,Y){this._tapTime?this._swipePoint&&Y.length===0&&this.reset():this._tap.touchend(U,Z,Y)&&(this._tapTime=U.timeStamp)},Co.prototype.touchcancel=function(){this.reset()},Co.prototype.enable=function(){this._enabled=!0},Co.prototype.disable=function(){this._enabled=!1,this.reset()},Co.prototype.isEnabled=function(){return this._enabled},Co.prototype.isActive=function(){return this._active};var qa=function(U,Z,Y){this._el=U,this._mousePan=Z,this._touchPan=Y};qa.prototype.enable=function(U){this._inertiaOptions=U||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},qa.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},qa.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},qa.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var os=function(U,Z,Y){this._pitchWithRotate=U.pitchWithRotate,this._mouseRotate=Z,this._mousePitch=Y};os.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},os.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},os.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},os.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Po=function(U,Z,Y,P){this._el=U,this._touchZoom=Z,this._touchRotate=Y,this._tapDragZoom=P,this._rotationDisabled=!1,this._enabled=!0};Po.prototype.enable=function(U){this._touchZoom.enable(U),this._rotationDisabled||this._touchRotate.enable(U),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Po.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Po.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Po.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Po.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Po.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Ts=function(U){return U.zoom||U.drag||U.pitch||U.rotate},lu=function(U){function Z(){U.apply(this,arguments)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z}(t.Event);function $s(U){return U.panDelta&&U.panDelta.mag()||U.zoomDelta||U.bearingDelta||U.pitchDelta}var gi=function(U,Z){this._map=U,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Mo(U),this._bearingSnap=Z.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(Z),t.bindAll(["handleEvent","handleWindowEvent"],this);var Y=this._el;this._listeners=[[Y,"touchstart",{passive:!0}],[Y,"touchmove",{passive:!1}],[Y,"touchend",void 0],[Y,"touchcancel",void 0],[Y,"mousedown",void 0],[Y,"mousemove",void 0],[Y,"mouseup",void 0],[t.window.document,"mousemove",{capture:!0}],[t.window.document,"mouseup",void 0],[Y,"mouseover",void 0],[Y,"mouseout",void 0],[Y,"dblclick",void 0],[Y,"click",void 0],[Y,"keydown",{capture:!1}],[Y,"keyup",void 0],[Y,"wheel",{passive:!1}],[Y,"contextmenu",void 0],[t.window,"blur",void 0]];for(var P=0,W=this._listeners;P<W.length;P+=1){var ne=W[P],se=ne[0],ve=ne[1],ke=ne[2];g.addEventListener(se,ve,se===t.window.document?this.handleWindowEvent:this.handleEvent,ke)}};gi.prototype.destroy=function(){for(var U=0,Z=this._listeners;U<Z.length;U+=1){var Y=Z[U],P=Y[0],W=Y[1],ne=Y[2];g.removeEventListener(P,W,P===t.window.document?this.handleWindowEvent:this.handleEvent,ne)}},gi.prototype._addDefaultHandlers=function(U){var Z=this._map,Y=Z.getCanvasContainer();this._add("mapEvent",new ma(Z,U));var P=Z.boxZoom=new Ri(Z,U);this._add("boxZoom",P);var W=new Uo,ne=new Ho;Z.doubleClickZoom=new Ys(ne,W),this._add("tapZoom",W),this._add("clickZoom",ne);var se=new Co;this._add("tapDragZoom",se);var ve=Z.touchPitch=new ml;this._add("touchPitch",ve);var ke=new _s(U),De=new Eo(U);Z.dragRotate=new os(U,ke,De),this._add("mouseRotate",ke,["mousePitch"]),this._add("mousePitch",De,["mouseRotate"]);var je=new vl(U),We=new Lo(U);Z.dragPan=new qa(Y,je,We),this._add("mousePan",je),this._add("touchPan",We,["touchZoom","touchRotate"]);var $e=new Gs,at=new ou;Z.touchZoomRotate=new Po(Y,at,$e,se),this._add("touchRotate",$e,["touchPan","touchZoom"]),this._add("touchZoom",at,["touchPan","touchRotate"]);var pt=Z.scrollZoom=new ya(Z,this);this._add("scrollZoom",pt,["mousePan"]);var vt=Z.keyboard=new Tr;this._add("keyboard",vt),this._add("blockableMapEvent",new Ma(Z));for(var kt=0,Ot=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];kt<Ot.length;kt+=1){var St=Ot[kt];U.interactive&&U[St]&&Z[St].enable(U[St])}},gi.prototype._add=function(U,Z,Y){this._handlers.push({handlerName:U,handler:Z,allowed:Y}),this._handlersById[U]=Z},gi.prototype.stop=function(U){if(!this._updatingCamera){for(var Z=0,Y=this._handlers;Z<Y.length;Z+=1)Y[Z].handler.reset();this._inertia.clear(),this._fireEvents({},{},U),this._changes=[]}},gi.prototype.isActive=function(){for(var U=0,Z=this._handlers;U<Z.length;U+=1)if(Z[U].handler.isActive())return!0;return!1},gi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},gi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},gi.prototype.isMoving=function(){return!!Ts(this._eventsInProgress)||this.isZooming()},gi.prototype._blockedByActive=function(U,Z,Y){for(var P in U)if(P!==Y&&(!Z||Z.indexOf(P)<0))return!0;return!1},gi.prototype.handleWindowEvent=function(U){this.handleEvent(U,U.type+"Window")},gi.prototype._getMapTouches=function(U){for(var Z=[],Y=0,P=U;Y<P.length;Y+=1){var W=P[Y],ne=W.target;this._el.contains(ne)&&Z.push(W)}return Z},gi.prototype.handleEvent=function(U,Z){if(U.type!=="blur"){this._updatingCamera=!0;for(var Y=U.type==="renderFrame"?void 0:U,P={needsRenderFrame:!1},W={},ne={},se=U.touches?this._getMapTouches(U.touches):void 0,ve=se?g.touchPos(this._el,se):g.mousePos(this._el,U),ke=0,De=this._handlers;ke<De.length;ke+=1){var je=De[ke],We=je.handlerName,$e=je.handler,at=je.allowed;if($e.isEnabled()){var pt=void 0;this._blockedByActive(ne,at,We)?$e.reset():$e[Z||U.type]&&(pt=$e[Z||U.type](U,ve,se),this.mergeHandlerResult(P,W,pt,We,Y),pt&&pt.needsRenderFrame&&this._triggerRenderFrame()),(pt||$e.isActive())&&(ne[We]=$e)}}var vt={};for(var kt in this._previousActiveHandlers)ne[kt]||(vt[kt]=Y);this._previousActiveHandlers=ne,(Object.keys(vt).length||$s(P))&&(this._changes.push([P,W,vt]),this._triggerRenderFrame()),(Object.keys(ne).length||$s(P))&&this._map._stop(!0),this._updatingCamera=!1;var Ot=P.cameraAnimation;Ot&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Ot(this._map))}else this.stop(!0)},gi.prototype.mergeHandlerResult=function(U,Z,Y,P,W){if(Y){t.extend(U,Y);var ne={handlerName:P,originalEvent:Y.originalEvent||W};Y.zoomDelta!==void 0&&(Z.zoom=ne),Y.panDelta!==void 0&&(Z.drag=ne),Y.pitchDelta!==void 0&&(Z.pitch=ne),Y.bearingDelta!==void 0&&(Z.rotate=ne)}},gi.prototype._applyChanges=function(){for(var U={},Z={},Y={},P=0,W=this._changes;P<W.length;P+=1){var ne=W[P],se=ne[0],ve=ne[1],ke=ne[2];se.panDelta&&(U.panDelta=(U.panDelta||new t.Point(0,0))._add(se.panDelta)),se.zoomDelta&&(U.zoomDelta=(U.zoomDelta||0)+se.zoomDelta),se.bearingDelta&&(U.bearingDelta=(U.bearingDelta||0)+se.bearingDelta),se.pitchDelta&&(U.pitchDelta=(U.pitchDelta||0)+se.pitchDelta),se.around!==void 0&&(U.around=se.around),se.pinchAround!==void 0&&(U.pinchAround=se.pinchAround),se.noInertia&&(U.noInertia=se.noInertia),t.extend(Z,ve),t.extend(Y,ke)}this._updateMapTransform(U,Z,Y),this._changes=[]},gi.prototype._updateMapTransform=function(U,Z,Y){var P=this._map,W=P.transform;if(!$s(U))return this._fireEvents(Z,Y,!0);var ne=U.panDelta,se=U.zoomDelta,ve=U.bearingDelta,ke=U.pitchDelta,De=U.around,je=U.pinchAround;je!==void 0&&(De=je),P._stop(!0),De=De||P.transform.centerPoint;var We=W.pointLocation(ne?De.sub(ne):De);ve&&(W.bearing+=ve),ke&&(W.pitch+=ke),se&&(W.zoom+=se),W.setLocationAtPoint(We,De),this._map._update(),U.noInertia||this._inertia.record(U),this._fireEvents(Z,Y,!0)},gi.prototype._fireEvents=function(U,Z,Y){var P=this,W=Ts(this._eventsInProgress),ne=Ts(U),se={};for(var ve in U){var ke=U[ve].originalEvent;this._eventsInProgress[ve]||(se[ve+"start"]=ke),this._eventsInProgress[ve]=U[ve]}for(var De in!W&&ne&&this._fireEvent("movestart",ne.originalEvent),se)this._fireEvent(De,se[De]);for(var je in ne&&this._fireEvent("move",ne.originalEvent),U){var We=U[je].originalEvent;this._fireEvent(je,We)}var $e,at={};for(var pt in this._eventsInProgress){var vt=this._eventsInProgress[pt],kt=vt.handlerName,Ot=vt.originalEvent;this._handlersById[kt].isActive()||(delete this._eventsInProgress[pt],$e=Z[kt]||Ot,at[pt+"end"]=$e)}for(var St in at)this._fireEvent(St,at[St]);var jt=Ts(this._eventsInProgress);if(Y&&(W||ne)&&!jt){this._updatingCamera=!0;var It=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Jt=function($t){return $t!==0&&-P._bearingSnap<$t&&$t<P._bearingSnap};It?(Jt(It.bearing||this._map.getBearing())&&(It.bearing=0),this._map.easeTo(It,{originalEvent:$e})):(this._map.fire(new t.Event("moveend",{originalEvent:$e})),Jt(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},gi.prototype._fireEvent=function(U,Z){this._map.fire(new t.Event(U,Z?{originalEvent:Z}:{}))},gi.prototype._requestFrame=function(){var U=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(Z){delete U._frameId,U.handleEvent(new lu("renderFrame",{timeStamp:Z})),U._applyChanges()})},gi.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var Ea=function(U){function Z(Y,P){U.call(this),this._moving=!1,this._zooming=!1,this.transform=Y,this._bearingSnap=P.bearingSnap,t.bindAll(["_renderFrameCallback"],this)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.getCenter=function(){return new t.LngLat(this.transform.center.lng,this.transform.center.lat)},Z.prototype.setCenter=function(Y,P){return this.jumpTo({center:Y},P)},Z.prototype.panBy=function(Y,P,W){return Y=t.Point.convert(Y).mult(-1),this.panTo(this.transform.center,t.extend({offset:Y},P),W)},Z.prototype.panTo=function(Y,P,W){return this.easeTo(t.extend({center:Y},P),W)},Z.prototype.getZoom=function(){return this.transform.zoom},Z.prototype.setZoom=function(Y,P){return this.jumpTo({zoom:Y},P),this},Z.prototype.zoomTo=function(Y,P,W){return this.easeTo(t.extend({zoom:Y},P),W)},Z.prototype.zoomIn=function(Y,P){return this.zoomTo(this.getZoom()+1,Y,P),this},Z.prototype.zoomOut=function(Y,P){return this.zoomTo(this.getZoom()-1,Y,P),this},Z.prototype.getBearing=function(){return this.transform.bearing},Z.prototype.setBearing=function(Y,P){return this.jumpTo({bearing:Y},P),this},Z.prototype.getPadding=function(){return this.transform.padding},Z.prototype.setPadding=function(Y,P){return this.jumpTo({padding:Y},P),this},Z.prototype.rotateTo=function(Y,P,W){return this.easeTo(t.extend({bearing:Y},P),W)},Z.prototype.resetNorth=function(Y,P){return this.rotateTo(0,t.extend({duration:1e3},Y),P),this},Z.prototype.resetNorthPitch=function(Y,P){return this.easeTo(t.extend({bearing:0,pitch:0,duration:1e3},Y),P),this},Z.prototype.snapToNorth=function(Y,P){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(Y,P):this},Z.prototype.getPitch=function(){return this.transform.pitch},Z.prototype.setPitch=function(Y,P){return this.jumpTo({pitch:Y},P),this},Z.prototype.cameraForBounds=function(Y,P){Y=t.LngLatBounds.convert(Y);var W=P&&P.bearing||0;return this._cameraForBoxAndBearing(Y.getNorthWest(),Y.getSouthEast(),W,P)},Z.prototype._cameraForBoxAndBearing=function(Y,P,W,ne){var se={top:0,bottom:0,right:0,left:0};if(typeof(ne=t.extend({padding:se,offset:[0,0],maxZoom:this.transform.maxZoom},ne)).padding=="number"){var ve=ne.padding;ne.padding={top:ve,bottom:ve,right:ve,left:ve}}ne.padding=t.extend(se,ne.padding);var ke=this.transform,De=ke.padding,je=ke.project(t.LngLat.convert(Y)),We=ke.project(t.LngLat.convert(P)),$e=je.rotate(-W*Math.PI/180),at=We.rotate(-W*Math.PI/180),pt=new t.Point(Math.max($e.x,at.x),Math.max($e.y,at.y)),vt=new t.Point(Math.min($e.x,at.x),Math.min($e.y,at.y)),kt=pt.sub(vt),Ot=(ke.width-(De.left+De.right+ne.padding.left+ne.padding.right))/kt.x,St=(ke.height-(De.top+De.bottom+ne.padding.top+ne.padding.bottom))/kt.y;if(!(St<0||Ot<0)){var jt=Math.min(ke.scaleZoom(ke.scale*Math.min(Ot,St)),ne.maxZoom),It=typeof ne.offset.x=="number"?new t.Point(ne.offset.x,ne.offset.y):t.Point.convert(ne.offset),Jt=(ne.padding.left-ne.padding.right)/2,$t=(ne.padding.top-ne.padding.bottom)/2,Ht=new t.Point(Jt,$t).rotate(W*Math.PI/180),vn=It.add(Ht).mult(ke.scale/ke.zoomScale(jt));return{center:ke.unproject(je.add(We).div(2).sub(vn)),zoom:jt,bearing:W}}t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},Z.prototype.fitBounds=function(Y,P,W){return this._fitInternal(this.cameraForBounds(Y,P),P,W)},Z.prototype.fitScreenCoordinates=function(Y,P,W,ne,se){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(t.Point.convert(Y)),this.transform.pointLocation(t.Point.convert(P)),W,ne),ne,se)},Z.prototype._fitInternal=function(Y,P,W){return Y?(delete(P=t.extend(Y,P)).padding,P.linear?this.easeTo(P,W):this.flyTo(P,W)):this},Z.prototype.jumpTo=function(Y,P){this.stop();var W=this.transform,ne=!1,se=!1,ve=!1;return"zoom"in Y&&W.zoom!==+Y.zoom&&(ne=!0,W.zoom=+Y.zoom),Y.center!==void 0&&(W.center=t.LngLat.convert(Y.center)),"bearing"in Y&&W.bearing!==+Y.bearing&&(se=!0,W.bearing=+Y.bearing),"pitch"in Y&&W.pitch!==+Y.pitch&&(ve=!0,W.pitch=+Y.pitch),Y.padding==null||W.isPaddingEqual(Y.padding)||(W.padding=Y.padding),this.fire(new t.Event("movestart",P)).fire(new t.Event("move",P)),ne&&this.fire(new t.Event("zoomstart",P)).fire(new t.Event("zoom",P)).fire(new t.Event("zoomend",P)),se&&this.fire(new t.Event("rotatestart",P)).fire(new t.Event("rotate",P)).fire(new t.Event("rotateend",P)),ve&&this.fire(new t.Event("pitchstart",P)).fire(new t.Event("pitch",P)).fire(new t.Event("pitchend",P)),this.fire(new t.Event("moveend",P))},Z.prototype.easeTo=function(Y,P){var W=this;this._stop(!1,Y.easeId),((Y=t.extend({offset:[0,0],duration:500,easing:t.ease},Y)).animate===!1||!Y.essential&&t.browser.prefersReducedMotion)&&(Y.duration=0);var ne=this.transform,se=this.getZoom(),ve=this.getBearing(),ke=this.getPitch(),De=this.getPadding(),je="zoom"in Y?+Y.zoom:se,We="bearing"in Y?this._normalizeBearing(Y.bearing,ve):ve,$e="pitch"in Y?+Y.pitch:ke,at="padding"in Y?Y.padding:ne.padding,pt=t.Point.convert(Y.offset),vt=ne.centerPoint.add(pt),kt=ne.pointLocation(vt),Ot=t.LngLat.convert(Y.center||kt);this._normalizeCenter(Ot);var St,jt,It=ne.project(kt),Jt=ne.project(Ot).sub(It),$t=ne.zoomScale(je-se);Y.around&&(St=t.LngLat.convert(Y.around),jt=ne.locationPoint(St));var Ht={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||je!==se,this._rotating=this._rotating||ve!==We,this._pitching=this._pitching||$e!==ke,this._padding=!ne.isPaddingEqual(at),this._easeId=Y.easeId,this._prepareEase(P,Y.noMoveStart,Ht),this._ease(function(vn){if(W._zooming&&(ne.zoom=t.number(se,je,vn)),W._rotating&&(ne.bearing=t.number(ve,We,vn)),W._pitching&&(ne.pitch=t.number(ke,$e,vn)),W._padding&&(ne.interpolatePadding(De,at,vn),vt=ne.centerPoint.add(pt)),St)ne.setLocationAtPoint(St,jt);else{var bn=ne.zoomScale(ne.zoom-se),Ln=je>se?Math.min(2,$t):Math.max(.5,$t),zn=Math.pow(Ln,1-vn),Gn=ne.unproject(It.add(Jt.mult(vn*zn)).mult(bn));ne.setLocationAtPoint(ne.renderWorldCopies?Gn.wrap():Gn,vt)}W._fireMoveEvents(P)},function(vn){W._afterEase(P,vn)},Y),this},Z.prototype._prepareEase=function(Y,P,W){W===void 0&&(W={}),this._moving=!0,P||W.moving||this.fire(new t.Event("movestart",Y)),this._zooming&&!W.zooming&&this.fire(new t.Event("zoomstart",Y)),this._rotating&&!W.rotating&&this.fire(new t.Event("rotatestart",Y)),this._pitching&&!W.pitching&&this.fire(new t.Event("pitchstart",Y))},Z.prototype._fireMoveEvents=function(Y){this.fire(new t.Event("move",Y)),this._zooming&&this.fire(new t.Event("zoom",Y)),this._rotating&&this.fire(new t.Event("rotate",Y)),this._pitching&&this.fire(new t.Event("pitch",Y))},Z.prototype._afterEase=function(Y,P){if(!this._easeId||!P||this._easeId!==P){delete this._easeId;var W=this._zooming,ne=this._rotating,se=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,W&&this.fire(new t.Event("zoomend",Y)),ne&&this.fire(new t.Event("rotateend",Y)),se&&this.fire(new t.Event("pitchend",Y)),this.fire(new t.Event("moveend",Y))}},Z.prototype.flyTo=function(Y,P){var W=this;if(!Y.essential&&t.browser.prefersReducedMotion){var ne=t.pick(Y,["center","zoom","bearing","pitch","around"]);return this.jumpTo(ne,P)}this.stop(),Y=t.extend({offset:[0,0],speed:1.2,curve:1.42,easing:t.ease},Y);var se=this.transform,ve=this.getZoom(),ke=this.getBearing(),De=this.getPitch(),je=this.getPadding(),We="zoom"in Y?t.clamp(+Y.zoom,se.minZoom,se.maxZoom):ve,$e="bearing"in Y?this._normalizeBearing(Y.bearing,ke):ke,at="pitch"in Y?+Y.pitch:De,pt="padding"in Y?Y.padding:se.padding,vt=se.zoomScale(We-ve),kt=t.Point.convert(Y.offset),Ot=se.centerPoint.add(kt),St=se.pointLocation(Ot),jt=t.LngLat.convert(Y.center||St);this._normalizeCenter(jt);var It=se.project(St),Jt=se.project(jt).sub(It),$t=Y.curve,Ht=Math.max(se.width,se.height),vn=Ht/vt,bn=Jt.mag();if("minZoom"in Y){var Ln=t.clamp(Math.min(Y.minZoom,ve,We),se.minZoom,se.maxZoom),zn=Ht/se.zoomScale(Ln-ve);$t=Math.sqrt(zn/bn*2)}var Gn=$t*$t;function or(gr){var Ir=(vn*vn-Ht*Ht+(gr?-1:1)*Gn*Gn*bn*bn)/(2*(gr?vn:Ht)*Gn*bn);return Math.log(Math.sqrt(Ir*Ir+1)-Ir)}function dr(gr){return(Math.exp(gr)-Math.exp(-gr))/2}function Xn(gr){return(Math.exp(gr)+Math.exp(-gr))/2}var hr=or(0),Ar=function(gr){return Xn(hr)/Xn(hr+$t*gr)},zr=function(gr){return Ht*((Xn(hr)*(dr(Ir=hr+$t*gr)/Xn(Ir))-dr(hr))/Gn)/bn;var Ir},nr=(or(1)-hr)/$t;if(Math.abs(bn)<1e-6||!isFinite(nr)){if(Math.abs(Ht-vn)<1e-6)return this.easeTo(Y,P);var fr=vn<Ht?-1:1;nr=Math.abs(Math.log(vn/Ht))/$t,zr=function(){return 0},Ar=function(gr){return Math.exp(fr*$t*gr)}}if("duration"in Y)Y.duration=+Y.duration;else{var Lr="screenSpeed"in Y?+Y.screenSpeed/$t:+Y.speed;Y.duration=1e3*nr/Lr}return Y.maxDuration&&Y.duration>Y.maxDuration&&(Y.duration=0),this._zooming=!0,this._rotating=ke!==$e,this._pitching=at!==De,this._padding=!se.isPaddingEqual(pt),this._prepareEase(P,!1),this._ease(function(gr){var Ir=gr*nr,Nr=1/Ar(Ir);se.zoom=gr===1?We:ve+se.scaleZoom(Nr),W._rotating&&(se.bearing=t.number(ke,$e,gr)),W._pitching&&(se.pitch=t.number(De,at,gr)),W._padding&&(se.interpolatePadding(je,pt,gr),Ot=se.centerPoint.add(kt));var ei=gr===1?jt:se.unproject(It.add(Jt.mult(zr(Ir))).mult(Nr));se.setLocationAtPoint(se.renderWorldCopies?ei.wrap():ei,Ot),W._fireMoveEvents(P)},function(){return W._afterEase(P)},Y),this},Z.prototype.isEasing=function(){return!!this._easeFrameId},Z.prototype.stop=function(){return this._stop()},Z.prototype._stop=function(Y,P){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var W=this._onEaseEnd;delete this._onEaseEnd,W.call(this,P)}if(!Y){var ne=this.handlers;ne&&ne.stop(!1)}return this},Z.prototype._ease=function(Y,P,W){W.animate===!1||W.duration===0?(Y(1),P()):(this._easeStart=t.browser.now(),this._easeOptions=W,this._onEaseFrame=Y,this._onEaseEnd=P,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},Z.prototype._renderFrameCallback=function(){var Y=Math.min((t.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(Y)),Y<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},Z.prototype._normalizeBearing=function(Y,P){Y=t.wrap(Y,-180,180);var W=Math.abs(Y-P);return Math.abs(Y-360-P)<W&&(Y-=360),Math.abs(Y+360-P)<W&&(Y+=360),Y},Z.prototype._normalizeCenter=function(Y){var P=this.transform;if(P.renderWorldCopies&&!P.lngRange){var W=Y.lng-P.center.lng;Y.lng+=W>180?-360:W<-180?360:0}},Z}(t.Evented),Xa=function(U){U===void 0&&(U={}),this.options=U,t.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};Xa.prototype.getDefaultPosition=function(){return"bottom-right"},Xa.prototype.onAdd=function(U){var Z=this.options&&this.options.compact;return this._map=U,this._container=g.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=g.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=g.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),Z&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),Z===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Xa.prototype.onRemove=function(){g.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Xa.prototype._setElementTitle=function(U,Z){var Y=this._map._getUIString("AttributionControl."+Z);U.title=Y,U.setAttribute("aria-label",Y)},Xa.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},Xa.prototype._updateEditLink=function(){var U=this._editLink;U||(U=this._editLink=this._container.querySelector(".mapbox-improve-map"));var Z=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||t.config.ACCESS_TOKEN}];if(U){var Y=Z.reduce(function(P,W,ne){return W.value&&(P+=W.key+"="+W.value+(ne<Z.length-1?"&":"")),P},"?");U.href=t.config.FEEDBACK_URL+"/"+Y+(this._map._hash?this._map._hash.getHashString(!0):""),U.rel="noopener nofollow",this._setElementTitle(U,"MapFeedback")}},Xa.prototype._updateData=function(U){!U||U.sourceDataType!=="metadata"&&U.sourceDataType!=="visibility"&&U.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())},Xa.prototype._updateAttributions=function(){if(this._map.style){var U=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?U=U.concat(this.options.customAttribution.map(function(ve){return typeof ve!="string"?"":ve})):typeof this.options.customAttribution=="string"&&U.push(this.options.customAttribution)),this._map.style.stylesheet){var Z=this._map.style.stylesheet;this.styleOwner=Z.owner,this.styleId=Z.id}var Y=this._map.style.sourceCaches;for(var P in Y){var W=Y[P];if(W.used){var ne=W.getSource();ne.attribution&&U.indexOf(ne.attribution)<0&&U.push(ne.attribution)}}U.sort(function(ve,ke){return ve.length-ke.length});var se=(U=U.filter(function(ve,ke){for(var De=ke+1;De<U.length;De++)if(U[De].indexOf(ve)>=0)return!1;return!0})).join(" | ");se!==this._attribHTML&&(this._attribHTML=se,U.length?(this._innerContainer.innerHTML=se,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Xa.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var ss=function(){t.bindAll(["_updateLogo"],this),t.bindAll(["_updateCompact"],this)};ss.prototype.onAdd=function(U){this._map=U,this._container=g.create("div","mapboxgl-ctrl");var Z=g.create("a","mapboxgl-ctrl-logo");return Z.target="_blank",Z.rel="noopener nofollow",Z.href="https://www.mapbox.com/",Z.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),Z.setAttribute("rel","noopener nofollow"),this._container.appendChild(Z),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},ss.prototype.onRemove=function(){g.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},ss.prototype.getDefaultPosition=function(){return"bottom-left"},ss.prototype._updateLogo=function(U){U&&U.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")},ss.prototype._logoRequired=function(){if(this._map.style){var U=this._map.style.sourceCaches;for(var Z in U)if(U[Z].getSource().mapbox_logo)return!0;return!1}},ss.prototype._updateCompact=function(){var U=this._container.children;if(U.length){var Z=U[0];this._map.getCanvasContainer().offsetWidth<250?Z.classList.add("mapboxgl-compact"):Z.classList.remove("mapboxgl-compact")}};var Ka=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Ka.prototype.add=function(U){var Z=++this._id;return this._queue.push({callback:U,id:Z,cancelled:!1}),Z},Ka.prototype.remove=function(U){for(var Z=this._currentlyRunning,Y=0,P=Z?this._queue.concat(Z):this._queue;Y<P.length;Y+=1){var W=P[Y];if(W.id===U)return void(W.cancelled=!0)}},Ka.prototype.run=function(U){U===void 0&&(U=0);var Z=this._currentlyRunning=this._queue;this._queue=[];for(var Y=0,P=Z;Y<P.length;Y+=1){var W=P[Y];if(!W.cancelled&&(W.callback(U),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Ka.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Dl={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},zl=t.window.HTMLImageElement,Ja=t.window.HTMLElement,pi=t.window.ImageBitmap,ls=60,yl={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:ls,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},qo=function(U){function Z(P){var W=this;if((P=t.extend({},yl,P)).minZoom!=null&&P.maxZoom!=null&&P.minZoom>P.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(P.minPitch!=null&&P.maxPitch!=null&&P.minPitch>P.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(P.minPitch!=null&&P.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(P.maxPitch!=null&&P.maxPitch>ls)throw new Error("maxPitch must be less than or equal to 60");var ne=new mi(P.minZoom,P.maxZoom,P.minPitch,P.maxPitch,P.renderWorldCopies);if(U.call(this,ne,P),this._interactive=P.interactive,this._maxTileCacheSize=P.maxTileCacheSize,this._failIfMajorPerformanceCaveat=P.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=P.preserveDrawingBuffer,this._antialias=P.antialias,this._trackResize=P.trackResize,this._bearingSnap=P.bearingSnap,this._refreshExpiredTiles=P.refreshExpiredTiles,this._fadeDuration=P.fadeDuration,this._crossSourceCollisions=P.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=P.collectResourceTiming,this._renderTaskQueue=new Ka,this._controls=[],this._mapId=t.uniqueId(),this._locale=t.extend({},Dl,P.locale),this._clickTolerance=P.clickTolerance,this._requestManager=new t.RequestManager(P.transformRequest,P.accessToken),typeof P.container=="string"){if(this._container=t.window.document.getElementById(P.container),!this._container)throw new Error("Container '"+P.container+"' not found.")}else{if(!(P.container instanceof Ja))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=P.container}if(P.maxBounds&&this.setMaxBounds(P.maxBounds),t.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return W._update(!1)}),this.on("moveend",function(){return W._update(!1)}),this.on("zoom",function(){return W._update(!0)}),t.window!==void 0&&(t.window.addEventListener("online",this._onWindowOnline,!1),t.window.addEventListener("resize",this._onWindowResize,!1),t.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new gi(this,P);var se=typeof P.hash=="string"&&P.hash||void 0;this._hash=P.hash&&new po(se).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:P.center,zoom:P.zoom,bearing:P.bearing,pitch:P.pitch}),P.bounds&&(this.resize(),this.fitBounds(P.bounds,t.extend({},P.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=P.localIdeographFontFamily,P.style&&this.setStyle(P.style,{localIdeographFontFamily:P.localIdeographFontFamily}),P.attributionControl&&this.addControl(new Xa({customAttribution:P.customAttribution})),this.addControl(new ss,P.logoPosition),this.on("style.load",function(){W.transform.unmodified&&W.jumpTo(W.style.stylesheet)}),this.on("data",function(ve){W._update(ve.dataType==="style"),W.fire(new t.Event(ve.dataType+"data",ve))}),this.on("dataloading",function(ve){W.fire(new t.Event(ve.dataType+"dataloading",ve))})}U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z;var Y={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return Z.prototype._getMapId=function(){return this._mapId},Z.prototype.addControl=function(P,W){if(W===void 0&&(W=P.getDefaultPosition?P.getDefaultPosition():"top-right"),!P||!P.onAdd)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var ne=P.onAdd(this);this._controls.push(P);var se=this._controlPositions[W];return W.indexOf("bottom")!==-1?se.insertBefore(ne,se.firstChild):se.appendChild(ne),this},Z.prototype.removeControl=function(P){if(!P||!P.onRemove)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var W=this._controls.indexOf(P);return W>-1&&this._controls.splice(W,1),P.onRemove(this),this},Z.prototype.hasControl=function(P){return this._controls.indexOf(P)>-1},Z.prototype.resize=function(P){var W=this._containerDimensions(),ne=W[0],se=W[1];this._resizeCanvas(ne,se),this.transform.resize(ne,se),this.painter.resize(ne,se);var ve=!this._moving;return ve&&(this.stop(),this.fire(new t.Event("movestart",P)).fire(new t.Event("move",P))),this.fire(new t.Event("resize",P)),ve&&this.fire(new t.Event("moveend",P)),this},Z.prototype.getBounds=function(){return this.transform.getBounds()},Z.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},Z.prototype.setMaxBounds=function(P){return this.transform.setMaxBounds(t.LngLatBounds.convert(P)),this._update()},Z.prototype.setMinZoom=function(P){if((P=P??-2)>=-2&&P<=this.transform.maxZoom)return this.transform.minZoom=P,this._update(),this.getZoom()<P&&this.setZoom(P),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},Z.prototype.getMinZoom=function(){return this.transform.minZoom},Z.prototype.setMaxZoom=function(P){if((P=P??22)>=this.transform.minZoom)return this.transform.maxZoom=P,this._update(),this.getZoom()>P&&this.setZoom(P),this;throw new Error("maxZoom must be greater than the current minZoom")},Z.prototype.getMaxZoom=function(){return this.transform.maxZoom},Z.prototype.setMinPitch=function(P){if((P=P??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(P>=0&&P<=this.transform.maxPitch)return this.transform.minPitch=P,this._update(),this.getPitch()<P&&this.setPitch(P),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},Z.prototype.getMinPitch=function(){return this.transform.minPitch},Z.prototype.setMaxPitch=function(P){if((P=P??ls)>ls)throw new Error("maxPitch must be less than or equal to 60");if(P>=this.transform.minPitch)return this.transform.maxPitch=P,this._update(),this.getPitch()>P&&this.setPitch(P),this;throw new Error("maxPitch must be greater than the current minPitch")},Z.prototype.getMaxPitch=function(){return this.transform.maxPitch},Z.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},Z.prototype.setRenderWorldCopies=function(P){return this.transform.renderWorldCopies=P,this._update()},Z.prototype.project=function(P){return this.transform.locationPoint(t.LngLat.convert(P))},Z.prototype.unproject=function(P){return this.transform.pointLocation(t.Point.convert(P))},Z.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},Z.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},Z.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},Z.prototype._createDelegatedListener=function(P,W,ne){var se,ve=this;if(P==="mouseenter"||P==="mouseover"){var ke=!1;return{layer:W,listener:ne,delegates:{mousemove:function(je){var We=ve.getLayer(W)?ve.queryRenderedFeatures(je.point,{layers:[W]}):[];We.length?ke||(ke=!0,ne.call(ve,new Ha(P,ve,je.originalEvent,{features:We}))):ke=!1},mouseout:function(){ke=!1}}}}if(P==="mouseleave"||P==="mouseout"){var De=!1;return{layer:W,listener:ne,delegates:{mousemove:function(je){(ve.getLayer(W)?ve.queryRenderedFeatures(je.point,{layers:[W]}):[]).length?De=!0:De&&(De=!1,ne.call(ve,new Ha(P,ve,je.originalEvent)))},mouseout:function(je){De&&(De=!1,ne.call(ve,new Ha(P,ve,je.originalEvent)))}}}}return{layer:W,listener:ne,delegates:(se={},se[P]=function(je){var We=ve.getLayer(W)?ve.queryRenderedFeatures(je.point,{layers:[W]}):[];We.length&&(je.features=We,ne.call(ve,je),delete je.features)},se)}},Z.prototype.on=function(P,W,ne){if(ne===void 0)return U.prototype.on.call(this,P,W);var se=this._createDelegatedListener(P,W,ne);for(var ve in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[P]=this._delegatedListeners[P]||[],this._delegatedListeners[P].push(se),se.delegates)this.on(ve,se.delegates[ve]);return this},Z.prototype.once=function(P,W,ne){if(ne===void 0)return U.prototype.once.call(this,P,W);var se=this._createDelegatedListener(P,W,ne);for(var ve in se.delegates)this.once(ve,se.delegates[ve]);return this},Z.prototype.off=function(P,W,ne){var se=this;return ne===void 0?U.prototype.off.call(this,P,W):(this._delegatedListeners&&this._delegatedListeners[P]&&function(ve){for(var ke=ve[P],De=0;De<ke.length;De++){var je=ke[De];if(je.layer===W&&je.listener===ne){for(var We in je.delegates)se.off(We,je.delegates[We]);return ke.splice(De,1),se}}}(this._delegatedListeners),this)},Z.prototype.queryRenderedFeatures=function(P,W){if(!this.style)return[];var ne;if(W!==void 0||P===void 0||P instanceof t.Point||Array.isArray(P)||(W=P,P=void 0),W=W||{},(P=P||[[0,0],[this.transform.width,this.transform.height]])instanceof t.Point||typeof P[0]=="number")ne=[t.Point.convert(P)];else{var se=t.Point.convert(P[0]),ve=t.Point.convert(P[1]);ne=[se,new t.Point(ve.x,se.y),ve,new t.Point(se.x,ve.y),se]}return this.style.queryRenderedFeatures(ne,W,this.transform)},Z.prototype.querySourceFeatures=function(P,W){return this.style.querySourceFeatures(P,W)},Z.prototype.setStyle=function(P,W){return(W=t.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},W)).diff!==!1&&W.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&P?(this._diffStyle(P,W),this):(this._localIdeographFontFamily=W.localIdeographFontFamily,this._updateStyle(P,W))},Z.prototype._getUIString=function(P){var W=this._locale[P];if(W==null)throw new Error("Missing UI string '"+P+"'");return W},Z.prototype._updateStyle=function(P,W){return this.style&&(this.style.setEventedParent(null),this.style._remove()),P?(this.style=new ar(this,W||{}),this.style.setEventedParent(this,{style:this.style}),typeof P=="string"?this.style.loadURL(P):this.style.loadJSON(P),this):(delete this.style,this)},Z.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new ar(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},Z.prototype._diffStyle=function(P,W){var ne=this;if(typeof P=="string"){var se=this._requestManager.normalizeStyleURL(P),ve=this._requestManager.transformRequest(se,t.ResourceType.Style);t.getJSON(ve,function(ke,De){ke?ne.fire(new t.ErrorEvent(ke)):De&&ne._updateDiff(De,W)})}else typeof P=="object"&&this._updateDiff(P,W)},Z.prototype._updateDiff=function(P,W){try{this.style.setState(P)&&this._update(!0)}catch(ne){t.warnOnce("Unable to perform style diff: "+(ne.message||ne.error||ne)+".  Rebuilding the style from scratch."),this._updateStyle(P,W)}},Z.prototype.getStyle=function(){if(this.style)return this.style.serialize()},Z.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():t.warnOnce("There is no style added to the map.")},Z.prototype.addSource=function(P,W){return this._lazyInitEmptyStyle(),this.style.addSource(P,W),this._update(!0)},Z.prototype.isSourceLoaded=function(P){var W=this.style&&this.style.sourceCaches[P];if(W!==void 0)return W.loaded();this.fire(new t.ErrorEvent(new Error("There is no source with ID '"+P+"'")))},Z.prototype.areTilesLoaded=function(){var P=this.style&&this.style.sourceCaches;for(var W in P){var ne=P[W]._tiles;for(var se in ne){var ve=ne[se];if(ve.state!=="loaded"&&ve.state!=="errored")return!1}}return!0},Z.prototype.addSourceType=function(P,W,ne){return this._lazyInitEmptyStyle(),this.style.addSourceType(P,W,ne)},Z.prototype.removeSource=function(P){return this.style.removeSource(P),this._update(!0)},Z.prototype.getSource=function(P){return this.style.getSource(P)},Z.prototype.addImage=function(P,W,ne){ne===void 0&&(ne={});var se=ne.pixelRatio;se===void 0&&(se=1);var ve=ne.sdf;ve===void 0&&(ve=!1);var ke=ne.stretchX,De=ne.stretchY,je=ne.content;if(this._lazyInitEmptyStyle(),W instanceof zl||pi&&W instanceof pi){var We=t.browser.getImageData(W),$e=We.width,at=We.height,pt=We.data;this.style.addImage(P,{data:new t.RGBAImage({width:$e,height:at},pt),pixelRatio:se,stretchX:ke,stretchY:De,content:je,sdf:ve,version:0})}else{if(W.width===void 0||W.height===void 0)return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var vt=W.width,kt=W.height,Ot=W.data,St=W;this.style.addImage(P,{data:new t.RGBAImage({width:vt,height:kt},new Uint8Array(Ot)),pixelRatio:se,stretchX:ke,stretchY:De,content:je,sdf:ve,version:0,userImage:St}),St.onAdd&&St.onAdd(this,P)}},Z.prototype.updateImage=function(P,W){var ne=this.style.getImage(P);if(!ne)return this.fire(new t.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var se=W instanceof zl||pi&&W instanceof pi?t.browser.getImageData(W):W,ve=se.width,ke=se.height,De=se.data;if(ve===void 0||ke===void 0)return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(ve!==ne.data.width||ke!==ne.data.height)return this.fire(new t.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var je=!(W instanceof zl||pi&&W instanceof pi);ne.data.replace(De,je),this.style.updateImage(P,ne)},Z.prototype.hasImage=function(P){return P?!!this.style.getImage(P):(this.fire(new t.ErrorEvent(new Error("Missing required image id"))),!1)},Z.prototype.removeImage=function(P){this.style.removeImage(P)},Z.prototype.loadImage=function(P,W){t.getImage(this._requestManager.transformRequest(P,t.ResourceType.Image),W)},Z.prototype.listImages=function(){return this.style.listImages()},Z.prototype.addLayer=function(P,W){return this._lazyInitEmptyStyle(),this.style.addLayer(P,W),this._update(!0)},Z.prototype.moveLayer=function(P,W){return this.style.moveLayer(P,W),this._update(!0)},Z.prototype.removeLayer=function(P){return this.style.removeLayer(P),this._update(!0)},Z.prototype.getLayer=function(P){return this.style.getLayer(P)},Z.prototype.setLayerZoomRange=function(P,W,ne){return this.style.setLayerZoomRange(P,W,ne),this._update(!0)},Z.prototype.setFilter=function(P,W,ne){return ne===void 0&&(ne={}),this.style.setFilter(P,W,ne),this._update(!0)},Z.prototype.getFilter=function(P){return this.style.getFilter(P)},Z.prototype.setPaintProperty=function(P,W,ne,se){return se===void 0&&(se={}),this.style.setPaintProperty(P,W,ne,se),this._update(!0)},Z.prototype.getPaintProperty=function(P,W){return this.style.getPaintProperty(P,W)},Z.prototype.setLayoutProperty=function(P,W,ne,se){return se===void 0&&(se={}),this.style.setLayoutProperty(P,W,ne,se),this._update(!0)},Z.prototype.getLayoutProperty=function(P,W){return this.style.getLayoutProperty(P,W)},Z.prototype.setLight=function(P,W){return W===void 0&&(W={}),this._lazyInitEmptyStyle(),this.style.setLight(P,W),this._update(!0)},Z.prototype.getLight=function(){return this.style.getLight()},Z.prototype.setFeatureState=function(P,W){return this.style.setFeatureState(P,W),this._update()},Z.prototype.removeFeatureState=function(P,W){return this.style.removeFeatureState(P,W),this._update()},Z.prototype.getFeatureState=function(P){return this.style.getFeatureState(P)},Z.prototype.getContainer=function(){return this._container},Z.prototype.getCanvasContainer=function(){return this._canvasContainer},Z.prototype.getCanvas=function(){return this._canvas},Z.prototype._containerDimensions=function(){var P=0,W=0;return this._container&&(P=this._container.clientWidth||400,W=this._container.clientHeight||300),[P,W]},Z.prototype._detectMissingCSS=function(){t.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&t.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},Z.prototype._setupContainer=function(){var P=this._container;P.classList.add("mapboxgl-map"),(this._missingCSSCanary=g.create("div","mapboxgl-canary",P)).style.visibility="hidden",this._detectMissingCSS();var W=this._canvasContainer=g.create("div","mapboxgl-canvas-container",P);this._interactive&&W.classList.add("mapboxgl-interactive"),this._canvas=g.create("canvas","mapboxgl-canvas",W),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var ne=this._containerDimensions();this._resizeCanvas(ne[0],ne[1]);var se=this._controlContainer=g.create("div","mapboxgl-control-container",P),ve=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(ke){ve[ke]=g.create("div","mapboxgl-ctrl-"+ke,se)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},Z.prototype._resizeCanvas=function(P,W){var ne=t.browser.devicePixelRatio||1;this._canvas.width=ne*P,this._canvas.height=ne*W,this._canvas.style.width=P+"px",this._canvas.style.height=W+"px"},Z.prototype._setupPainter=function(){var P=t.extend({},b.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),W=this._canvas.getContext("webgl",P)||this._canvas.getContext("experimental-webgl",P);W?(this.painter=new Mi(W,this.transform),t.webpSupported.testSupport(W)):this.fire(new t.ErrorEvent(new Error("Failed to initialize WebGL")))},Z.prototype._contextLost=function(P){P.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new t.Event("webglcontextlost",{originalEvent:P}))},Z.prototype._contextRestored=function(P){this._setupPainter(),this.resize(),this._update(),this.fire(new t.Event("webglcontextrestored",{originalEvent:P}))},Z.prototype._onMapScroll=function(P){if(P.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},Z.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},Z.prototype._update=function(P){return this.style?(this._styleDirty=this._styleDirty||P,this._sourcesDirty=!0,this.triggerRepaint(),this):this},Z.prototype._requestRenderFrame=function(P){return this._update(),this._renderTaskQueue.add(P)},Z.prototype._cancelRenderFrame=function(P){this._renderTaskQueue.remove(P)},Z.prototype._render=function(P){var W,ne=this,se=0,ve=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(W=ve.createQueryEXT(),ve.beginQueryEXT(ve.TIME_ELAPSED_EXT,W),se=t.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(P),!this._removed){var ke=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var De=this.transform.zoom,je=t.browser.now();this.style.zoomHistory.update(De,je);var We=new t.EvaluationParameters(De,{now:je,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),$e=We.crossFadingFactor();$e===1&&$e===this._crossFadingFactor||(ke=!0,this._crossFadingFactor=$e),this.style.update(We)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new t.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new t.Event("load"))),this.style&&(this.style.hasTransitions()||ke)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var at=t.browser.now()-se;ve.endQueryEXT(ve.TIME_ELAPSED_EXT,W),setTimeout(function(){var kt=ve.getQueryObjectEXT(W,ve.QUERY_RESULT_EXT)/1e6;ve.deleteQueryEXT(W),ne.fire(new t.Event("gpu-timing-frame",{cpuTime:at,gpuTime:kt}))},50)}if(this.listens("gpu-timing-layer")){var pt=this.painter.collectGpuTimers();setTimeout(function(){var kt=ne.painter.queryGpuTimers(pt);ne.fire(new t.Event("gpu-timing-layer",{layerTimes:kt}))},50)}var vt=this._sourcesDirty||this._styleDirty||this._placementDirty;return vt||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new t.Event("idle")),!this._loaded||this._fullyLoaded||vt||(this._fullyLoaded=!0),this}},Z.prototype.remove=function(){this._hash&&this._hash.remove();for(var P=0,W=this._controls;P<W.length;P+=1)W[P].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),t.window!==void 0&&(t.window.removeEventListener("resize",this._onWindowResize,!1),t.window.removeEventListener("orientationchange",this._onWindowResize,!1),t.window.removeEventListener("online",this._onWindowOnline,!1));var ne=this.painter.context.gl.getExtension("WEBGL_lose_context");ne&&ne.loseContext&&ne.loseContext(),Fl(this._canvasContainer),Fl(this._controlContainer),Fl(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new t.Event("remove"))},Z.prototype.triggerRepaint=function(){var P=this;this.style&&!this._frame&&(this._frame=t.browser.frame(function(W){P._frame=null,P._render(W)}))},Z.prototype._onWindowOnline=function(){this._update()},Z.prototype._onWindowResize=function(P){this._trackResize&&this.resize({originalEvent:P})._update()},Y.showTileBoundaries.get=function(){return!!this._showTileBoundaries},Y.showTileBoundaries.set=function(P){this._showTileBoundaries!==P&&(this._showTileBoundaries=P,this._update())},Y.showPadding.get=function(){return!!this._showPadding},Y.showPadding.set=function(P){this._showPadding!==P&&(this._showPadding=P,this._update())},Y.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},Y.showCollisionBoxes.set=function(P){this._showCollisionBoxes!==P&&(this._showCollisionBoxes=P,P?this.style._generateCollisionBoxes():this._update())},Y.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},Y.showOverdrawInspector.set=function(P){this._showOverdrawInspector!==P&&(this._showOverdrawInspector=P,this._update())},Y.repaint.get=function(){return!!this._repaint},Y.repaint.set=function(P){this._repaint!==P&&(this._repaint=P,this.triggerRepaint())},Y.vertices.get=function(){return!!this._vertices},Y.vertices.set=function(P){this._vertices=P,this._update()},Z.prototype._setCacheLimits=function(P,W){t.setCacheLimits(P,W)},Y.version.get=function(){return t.version},Object.defineProperties(Z.prototype,Y),Z}(Ea);function Fl(U){U.parentNode&&U.parentNode.removeChild(U)}var Bl={showCompass:!0,showZoom:!0,visualizePitch:!1},Go=function(U){var Z=this;this.options=t.extend({},Bl,U),this._container=g.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(Y){return Y.preventDefault()}),this.options.showZoom&&(t.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(Y){return Z._map.zoomIn({},{originalEvent:Y})}),g.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(Y){return Z._map.zoomOut({},{originalEvent:Y})}),g.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(t.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(Y){Z.options.visualizePitch?Z._map.resetNorthPitch({},{originalEvent:Y}):Z._map.resetNorth({},{originalEvent:Y})}),this._compassIcon=g.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Go.prototype._updateZoomButtons=function(){var U=this._map.getZoom(),Z=U===this._map.getMaxZoom(),Y=U===this._map.getMinZoom();this._zoomInButton.disabled=Z,this._zoomOutButton.disabled=Y,this._zoomInButton.setAttribute("aria-disabled",Z.toString()),this._zoomOutButton.setAttribute("aria-disabled",Y.toString())},Go.prototype._rotateCompassArrow=function(){var U=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=U},Go.prototype.onAdd=function(U){return this._map=U,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Fi(this._map,this._compass,this.options.visualizePitch)),this._container},Go.prototype.onRemove=function(){g.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Go.prototype._createButton=function(U,Z){var Y=g.create("button",U,this._container);return Y.type="button",Y.addEventListener("click",Z),Y},Go.prototype._setButtonTitle=function(U,Z){var Y=this._map._getUIString("NavigationControl."+Z);U.title=Y,U.setAttribute("aria-label",Y)};var Fi=function(U,Z,Y){Y===void 0&&(Y=!1),this._clickTolerance=10,this.element=Z,this.mouseRotate=new _s({clickTolerance:U.dragRotate._mouseRotate._clickTolerance}),this.map=U,Y&&(this.mousePitch=new Eo({clickTolerance:U.dragRotate._mousePitch._clickTolerance})),t.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),g.addEventListener(Z,"mousedown",this.mousedown),g.addEventListener(Z,"touchstart",this.touchstart,{passive:!1}),g.addEventListener(Z,"touchmove",this.touchmove),g.addEventListener(Z,"touchend",this.touchend),g.addEventListener(Z,"touchcancel",this.reset)};function xl(U,Z,Y){if(U=new t.LngLat(U.lng,U.lat),Z){var P=new t.LngLat(U.lng-360,U.lat),W=new t.LngLat(U.lng+360,U.lat),ne=Y.locationPoint(U).distSqr(Z);Y.locationPoint(P).distSqr(Z)<ne?U=P:Y.locationPoint(W).distSqr(Z)<ne&&(U=W)}for(;Math.abs(U.lng-Y.center.lng)>180;){var se=Y.locationPoint(U);if(se.x>=0&&se.y>=0&&se.x<=Y.width&&se.y<=Y.height)break;U.lng>Y.center.lng?U.lng-=360:U.lng+=360}return U}Fi.prototype.down=function(U,Z){this.mouseRotate.mousedown(U,Z),this.mousePitch&&this.mousePitch.mousedown(U,Z),g.disableDrag()},Fi.prototype.move=function(U,Z){var Y=this.map,P=this.mouseRotate.mousemoveWindow(U,Z);if(P&&P.bearingDelta&&Y.setBearing(Y.getBearing()+P.bearingDelta),this.mousePitch){var W=this.mousePitch.mousemoveWindow(U,Z);W&&W.pitchDelta&&Y.setPitch(Y.getPitch()+W.pitchDelta)}},Fi.prototype.off=function(){var U=this.element;g.removeEventListener(U,"mousedown",this.mousedown),g.removeEventListener(U,"touchstart",this.touchstart,{passive:!1}),g.removeEventListener(U,"touchmove",this.touchmove),g.removeEventListener(U,"touchend",this.touchend),g.removeEventListener(U,"touchcancel",this.reset),this.offTemp()},Fi.prototype.offTemp=function(){g.enableDrag(),g.removeEventListener(t.window,"mousemove",this.mousemove),g.removeEventListener(t.window,"mouseup",this.mouseup)},Fi.prototype.mousedown=function(U){this.down(t.extend({},U,{ctrlKey:!0,preventDefault:function(){return U.preventDefault()}}),g.mousePos(this.element,U)),g.addEventListener(t.window,"mousemove",this.mousemove),g.addEventListener(t.window,"mouseup",this.mouseup)},Fi.prototype.mousemove=function(U){this.move(U,g.mousePos(this.element,U))},Fi.prototype.mouseup=function(U){this.mouseRotate.mouseupWindow(U),this.mousePitch&&this.mousePitch.mouseupWindow(U),this.offTemp()},Fi.prototype.touchstart=function(U){U.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=g.touchPos(this.element,U.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return U.preventDefault()}},this._startPos))},Fi.prototype.touchmove=function(U){U.targetTouches.length!==1?this.reset():(this._lastPos=g.touchPos(this.element,U.targetTouches)[0],this.move({preventDefault:function(){return U.preventDefault()}},this._lastPos))},Fi.prototype.touchend=function(U){U.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Fi.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Dr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function qr(U,Z,Y){var P=U.classList;for(var W in Dr)P.remove("mapboxgl-"+Y+"-anchor-"+W);P.add("mapboxgl-"+Y+"-anchor-"+Z)}var go,us=function(U){function Z(Y,P){if(U.call(this),(Y instanceof t.window.HTMLElement||P)&&(Y=t.extend({element:Y},P)),t.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=Y&&Y.anchor||"center",this._color=Y&&Y.color||"#3FB1CE",this._scale=Y&&Y.scale||1,this._draggable=Y&&Y.draggable||!1,this._clickTolerance=Y&&Y.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=Y&&Y.rotation||0,this._rotationAlignment=Y&&Y.rotationAlignment||"auto",this._pitchAlignment=Y&&Y.pitchAlignment&&Y.pitchAlignment!=="auto"?Y.pitchAlignment:this._rotationAlignment,Y&&Y.element)this._element=Y.element,this._offset=t.Point.convert(Y&&Y.offset||[0,0]);else{this._defaultMarker=!0,this._element=g.create("div"),this._element.setAttribute("aria-label","Map marker");var W=g.createNS("http://www.w3.org/2000/svg","svg");W.setAttributeNS(null,"display","block"),W.setAttributeNS(null,"height","41px"),W.setAttributeNS(null,"width","27px"),W.setAttributeNS(null,"viewBox","0 0 27 41");var ne=g.createNS("http://www.w3.org/2000/svg","g");ne.setAttributeNS(null,"stroke","none"),ne.setAttributeNS(null,"stroke-width","1"),ne.setAttributeNS(null,"fill","none"),ne.setAttributeNS(null,"fill-rule","evenodd");var se=g.createNS("http://www.w3.org/2000/svg","g");se.setAttributeNS(null,"fill-rule","nonzero");var ve=g.createNS("http://www.w3.org/2000/svg","g");ve.setAttributeNS(null,"transform","translate(3.0, 29.0)"),ve.setAttributeNS(null,"fill","#000000");for(var ke=0,De=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];ke<De.length;ke+=1){var je=De[ke],We=g.createNS("http://www.w3.org/2000/svg","ellipse");We.setAttributeNS(null,"opacity","0.04"),We.setAttributeNS(null,"cx","10.5"),We.setAttributeNS(null,"cy","5.80029008"),We.setAttributeNS(null,"rx",je.rx),We.setAttributeNS(null,"ry",je.ry),ve.appendChild(We)}var $e=g.createNS("http://www.w3.org/2000/svg","g");$e.setAttributeNS(null,"fill",this._color);var at=g.createNS("http://www.w3.org/2000/svg","path");at.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),$e.appendChild(at);var pt=g.createNS("http://www.w3.org/2000/svg","g");pt.setAttributeNS(null,"opacity","0.25"),pt.setAttributeNS(null,"fill","#000000");var vt=g.createNS("http://www.w3.org/2000/svg","path");vt.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),pt.appendChild(vt);var kt=g.createNS("http://www.w3.org/2000/svg","g");kt.setAttributeNS(null,"transform","translate(6.0, 7.0)"),kt.setAttributeNS(null,"fill","#FFFFFF");var Ot=g.createNS("http://www.w3.org/2000/svg","g");Ot.setAttributeNS(null,"transform","translate(8.0, 8.0)");var St=g.createNS("http://www.w3.org/2000/svg","circle");St.setAttributeNS(null,"fill","#000000"),St.setAttributeNS(null,"opacity","0.25"),St.setAttributeNS(null,"cx","5.5"),St.setAttributeNS(null,"cy","5.5"),St.setAttributeNS(null,"r","5.4999962");var jt=g.createNS("http://www.w3.org/2000/svg","circle");jt.setAttributeNS(null,"fill","#FFFFFF"),jt.setAttributeNS(null,"cx","5.5"),jt.setAttributeNS(null,"cy","5.5"),jt.setAttributeNS(null,"r","5.4999962"),Ot.appendChild(St),Ot.appendChild(jt),se.appendChild(ve),se.appendChild($e),se.appendChild(pt),se.appendChild(kt),se.appendChild(Ot),W.appendChild(se),W.setAttributeNS(null,"height",41*this._scale+"px"),W.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(W),this._offset=t.Point.convert(Y&&Y.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(It){It.preventDefault()}),this._element.addEventListener("mousedown",function(It){It.preventDefault()}),qr(this._element,this._anchor,"marker"),this._popup=null}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.addTo=function(Y){return this.remove(),this._map=Y,Y.getCanvasContainer().appendChild(this._element),Y.on("move",this._update),Y.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},Z.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),g.remove(this._element),this._popup&&this._popup.remove(),this},Z.prototype.getLngLat=function(){return this._lngLat},Z.prototype.setLngLat=function(Y){return this._lngLat=t.LngLat.convert(Y),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},Z.prototype.getElement=function(){return this._element},Z.prototype.setPopup=function(Y){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),Y){if(!("offset"in Y.options)){var P=13.5,W=Math.sqrt(Math.pow(P,2)/2);Y.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[W,-1*(24.6+W)],"bottom-right":[-W,-1*(24.6+W)],left:[P,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=Y,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},Z.prototype._onKeyPress=function(Y){var P=Y.code,W=Y.charCode||Y.keyCode;P!=="Space"&&P!=="Enter"&&W!==32&&W!==13||this.togglePopup()},Z.prototype._onMapClick=function(Y){var P=Y.originalEvent.target,W=this._element;this._popup&&(P===W||W.contains(P))&&this.togglePopup()},Z.prototype.getPopup=function(){return this._popup},Z.prototype.togglePopup=function(){var Y=this._popup;return Y?(Y.isOpen()?Y.remove():Y.addTo(this._map),this):this},Z.prototype._update=function(Y){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=xl(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var P="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?P="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(P="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var W="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?W="rotateX(0deg)":this._pitchAlignment==="map"&&(W="rotateX("+this._map.getPitch()+"deg)"),Y&&Y.type!=="moveend"||(this._pos=this._pos.round()),g.setTransform(this._element,Dr[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+W+" "+P)}},Z.prototype.getOffset=function(){return this._offset},Z.prototype.setOffset=function(Y){return this._offset=t.Point.convert(Y),this._update(),this},Z.prototype._onMove=function(Y){if(!this._isDragging){var P=this._clickTolerance||this._map._clickTolerance;this._isDragging=Y.point.dist(this._pointerdownPos)>=P}this._isDragging&&(this._pos=Y.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new t.Event("dragstart"))),this.fire(new t.Event("drag")))},Z.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new t.Event("dragend")),this._state="inactive"},Z.prototype._addDragHandler=function(Y){this._element.contains(Y.originalEvent.target)&&(Y.preventDefault(),this._positionDelta=Y.point.sub(this._pos).add(this._offset),this._pointerdownPos=Y.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},Z.prototype.setDraggable=function(Y){return this._draggable=!!Y,this._map&&(Y?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},Z.prototype.isDraggable=function(){return this._draggable},Z.prototype.setRotation=function(Y){return this._rotation=Y||0,this._update(),this},Z.prototype.getRotation=function(){return this._rotation},Z.prototype.setRotationAlignment=function(Y){return this._rotationAlignment=Y||"auto",this._update(),this},Z.prototype.getRotationAlignment=function(){return this._rotationAlignment},Z.prototype.setPitchAlignment=function(Y){return this._pitchAlignment=Y&&Y!=="auto"?Y:this._rotationAlignment,this._update(),this},Z.prototype.getPitchAlignment=function(){return this._pitchAlignment},Z}(t.Evented),ks={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},ua=0,cs=!1,Si=function(U){function Z(Y){U.call(this),this.options=t.extend({},ks,Y),t.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.onAdd=function(Y){return this._map=Y,this._container=g.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),P=this._setupUI,go!==void 0?P(go):t.window.navigator.permissions!==void 0?t.window.navigator.permissions.query({name:"geolocation"}).then(function(W){go=W.state!=="denied",P(go)}):(go=!!t.window.navigator.geolocation,P(go)),this._container;var P},Z.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),g.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,ua=0,cs=!1},Z.prototype._isOutOfMapMaxBounds=function(Y){var P=this._map.getMaxBounds(),W=Y.coords;return P&&(W.longitude<P.getWest()||W.longitude>P.getEast()||W.latitude<P.getSouth()||W.latitude>P.getNorth())},Z.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},Z.prototype._onSuccess=function(Y){if(this._map){if(this._isOutOfMapMaxBounds(Y))return this._setErrorState(),this.fire(new t.Event("outofmaxbounds",Y)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=Y,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(Y),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(Y),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("geolocate",Y)),this._finish()}},Z.prototype._updateCamera=function(Y){var P=new t.LngLat(Y.coords.longitude,Y.coords.latitude),W=Y.coords.accuracy,ne=this._map.getBearing(),se=t.extend({bearing:ne},this.options.fitBoundsOptions);this._map.fitBounds(P.toBounds(W),se,{geolocateSource:!0})},Z.prototype._updateMarker=function(Y){if(Y){var P=new t.LngLat(Y.coords.longitude,Y.coords.latitude);this._accuracyCircleMarker.setLngLat(P).addTo(this._map),this._userLocationDotMarker.setLngLat(P).addTo(this._map),this._accuracy=Y.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},Z.prototype._updateCircleRadius=function(){var Y=this._map._container.clientHeight/2,P=this._map.unproject([0,Y]),W=this._map.unproject([1,Y]),ne=P.distanceTo(W),se=Math.ceil(2*this._accuracy/ne);this._circleElement.style.width=se+"px",this._circleElement.style.height=se+"px"},Z.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},Z.prototype._onError=function(Y){if(this._map){if(this.options.trackUserLocation)if(Y.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var P=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=P,this._geolocateButton.setAttribute("aria-label",P),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(Y.code===3&&cs)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("error",Y)),this._finish()}},Z.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},Z.prototype._setupUI=function(Y){var P=this;if(this._container.addEventListener("contextmenu",function(se){return se.preventDefault()}),this._geolocateButton=g.create("button","mapboxgl-ctrl-geolocate",this._container),g.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",Y===!1){t.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var W=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=W,this._geolocateButton.setAttribute("aria-label",W)}else{var ne=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=ne,this._geolocateButton.setAttribute("aria-label",ne)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=g.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new us(this._dotElement),this._circleElement=g.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new us({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(se){var ve=se.originalEvent&&se.originalEvent.type==="resize";se.geolocateSource||P._watchState!=="ACTIVE_LOCK"||ve||(P._watchState="BACKGROUND",P._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),P._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),P.fire(new t.Event("trackuserlocationend")))})},Z.prototype.trigger=function(){if(!this._setup)return t.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":ua--,cs=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new t.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){var Y;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++ua>1?(Y={maximumAge:6e5,timeout:0},cs=!0):(Y=this.options.positionOptions,cs=!1),this._geolocationWatchID=t.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,Y)}}else t.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},Z.prototype._clearWatch=function(){t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},Z}(t.Evented),kc={maxWidth:100,unit:"metric"},vo=function(U){this.options=t.extend({},kc,U),t.bindAll(["_onMove","setUnit"],this)};function Ci(U,Z,Y){var P=Y&&Y.maxWidth||100,W=U._container.clientHeight/2,ne=U.unproject([0,W]),se=U.unproject([P,W]),ve=ne.distanceTo(se);if(Y&&Y.unit==="imperial"){var ke=3.2808*ve;ke>5280?Hi(Z,P,ke/5280,U._getUIString("ScaleControl.Miles")):Hi(Z,P,ke,U._getUIString("ScaleControl.Feet"))}else Y&&Y.unit==="nautical"?Hi(Z,P,ve/1852,U._getUIString("ScaleControl.NauticalMiles")):ve>=1e3?Hi(Z,P,ve/1e3,U._getUIString("ScaleControl.Kilometers")):Hi(Z,P,ve,U._getUIString("ScaleControl.Meters"))}function Hi(U,Z,Y,P){var W,ne,se,ve=(W=Y,(ne=Math.pow(10,(""+Math.floor(W)).length-1))*((se=W/ne)>=10?10:se>=5?5:se>=3?3:se>=2?2:se>=1?1:function(De){var je=Math.pow(10,Math.ceil(-Math.log(De)/Math.LN10));return Math.round(De*je)/je}(se))),ke=ve/Y;U.style.width=Z*ke+"px",U.innerHTML=ve+"&nbsp;"+P}vo.prototype.getDefaultPosition=function(){return"bottom-left"},vo.prototype._onMove=function(){Ci(this._map,this._container,this.options)},vo.prototype.onAdd=function(U){return this._map=U,this._container=g.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",U.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},vo.prototype.onRemove=function(){g.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},vo.prototype.setUnit=function(U){this.options.unit=U,Ci(this._map,this._container,this.options)};var ao=function(U){this._fullscreen=!1,U&&U.container&&(U.container instanceof t.window.HTMLElement?this._container=U.container:t.warnOnce("Full screen control 'container' must be a DOM element.")),t.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in t.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in t.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in t.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in t.window.document&&(this._fullscreenchange="MSFullscreenChange")};ao.prototype.onAdd=function(U){return this._map=U,this._container||(this._container=this._map.getContainer()),this._controlContainer=g.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",t.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},ao.prototype.onRemove=function(){g.remove(this._controlContainer),this._map=null,t.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},ao.prototype._checkFullscreenSupport=function(){return!!(t.window.document.fullscreenEnabled||t.window.document.mozFullScreenEnabled||t.window.document.msFullscreenEnabled||t.window.document.webkitFullscreenEnabled)},ao.prototype._setupUI=function(){var U=this._fullscreenButton=g.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);g.create("span","mapboxgl-ctrl-icon",U).setAttribute("aria-hidden",!0),U.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),t.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},ao.prototype._updateTitle=function(){var U=this._getTitle();this._fullscreenButton.setAttribute("aria-label",U),this._fullscreenButton.title=U},ao.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},ao.prototype._isFullscreen=function(){return this._fullscreen},ao.prototype._changeIcon=function(){(t.window.document.fullscreenElement||t.window.document.mozFullScreenElement||t.window.document.webkitFullscreenElement||t.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},ao.prototype._onClickFullscreen=function(){this._isFullscreen()?t.window.document.exitFullscreen?t.window.document.exitFullscreen():t.window.document.mozCancelFullScreen?t.window.document.mozCancelFullScreen():t.window.document.msExitFullscreen?t.window.document.msExitFullscreen():t.window.document.webkitCancelFullScreen&&t.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Zs={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Xu=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),et=function(U){function Z(Y){U.call(this),this.options=t.extend(Object.create(Zs),Y),t.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return U&&(Z.__proto__=U),Z.prototype=Object.create(U&&U.prototype),Z.prototype.constructor=Z,Z.prototype.addTo=function(Y){return this._map&&this.remove(),this._map=Y,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new t.Event("open")),this},Z.prototype.isOpen=function(){return!!this._map},Z.prototype.remove=function(){return this._content&&g.remove(this._content),this._container&&(g.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new t.Event("close")),this},Z.prototype.getLngLat=function(){return this._lngLat},Z.prototype.setLngLat=function(Y){return this._lngLat=t.LngLat.convert(Y),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},Z.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},Z.prototype.getElement=function(){return this._container},Z.prototype.setText=function(Y){return this.setDOMContent(t.window.document.createTextNode(Y))},Z.prototype.setHTML=function(Y){var P,W=t.window.document.createDocumentFragment(),ne=t.window.document.createElement("body");for(ne.innerHTML=Y;P=ne.firstChild;)W.appendChild(P);return this.setDOMContent(W)},Z.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},Z.prototype.setMaxWidth=function(Y){return this.options.maxWidth=Y,this._update(),this},Z.prototype.setDOMContent=function(Y){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=g.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(Y),this._createCloseButton(),this._update(),this._focusFirstElement(),this},Z.prototype.addClassName=function(Y){this._container&&this._container.classList.add(Y)},Z.prototype.removeClassName=function(Y){this._container&&this._container.classList.remove(Y)},Z.prototype.setOffset=function(Y){return this.options.offset=Y,this._update(),this},Z.prototype.toggleClassName=function(Y){if(this._container)return this._container.classList.toggle(Y)},Z.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=g.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},Z.prototype._onMouseUp=function(Y){this._update(Y.point)},Z.prototype._onMouseMove=function(Y){this._update(Y.point)},Z.prototype._onDrag=function(Y){this._update(Y.point)},Z.prototype._update=function(Y){var P=this,W=this._lngLat||this._trackPointer;if(this._map&&W&&this._content&&(this._container||(this._container=g.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=g.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function($e){return P._container.classList.add($e)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=xl(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||Y)){var ne=this._pos=this._trackPointer&&Y?Y:this._map.project(this._lngLat),se=this.options.anchor,ve=rt(this.options.offset);if(!se){var ke,De=this._container.offsetWidth,je=this._container.offsetHeight;ke=ne.y+ve.bottom.y<je?["top"]:ne.y>this._map.transform.height-je?["bottom"]:[],ne.x<De/2?ke.push("left"):ne.x>this._map.transform.width-De/2&&ke.push("right"),se=ke.length===0?"bottom":ke.join("-")}var We=ne.add(ve[se]).round();g.setTransform(this._container,Dr[se]+" translate("+We.x+"px,"+We.y+"px)"),qr(this._container,se,"popup")}},Z.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var Y=this._container.querySelector(Xu);Y&&Y.focus()}},Z.prototype._onClose=function(){this.remove()},Z}(t.Evented);function rt(U){if(U){if(typeof U=="number"){var Z=Math.round(Math.sqrt(.5*Math.pow(U,2)));return{center:new t.Point(0,0),top:new t.Point(0,U),"top-left":new t.Point(Z,Z),"top-right":new t.Point(-Z,Z),bottom:new t.Point(0,-U),"bottom-left":new t.Point(Z,-Z),"bottom-right":new t.Point(-Z,-Z),left:new t.Point(U,0),right:new t.Point(-U,0)}}if(U instanceof t.Point||Array.isArray(U)){var Y=t.Point.convert(U);return{center:Y,top:Y,"top-left":Y,"top-right":Y,bottom:Y,"bottom-left":Y,"bottom-right":Y,left:Y,right:Y}}return{center:t.Point.convert(U.center||[0,0]),top:t.Point.convert(U.top||[0,0]),"top-left":t.Point.convert(U["top-left"]||[0,0]),"top-right":t.Point.convert(U["top-right"]||[0,0]),bottom:t.Point.convert(U.bottom||[0,0]),"bottom-left":t.Point.convert(U["bottom-left"]||[0,0]),"bottom-right":t.Point.convert(U["bottom-right"]||[0,0]),left:t.Point.convert(U.left||[0,0]),right:t.Point.convert(U.right||[0,0])}}return rt(new t.Point(0,0))}var ct={version:t.version,supported:b,setRTLTextPlugin:t.setRTLTextPlugin,getRTLTextPluginStatus:t.getRTLTextPluginStatus,Map:qo,NavigationControl:Go,GeolocateControl:Si,AttributionControl:Xa,ScaleControl:vo,FullscreenControl:ao,Popup:et,Marker:us,Style:ar,LngLat:t.LngLat,LngLatBounds:t.LngLatBounds,Point:t.Point,MercatorCoordinate:t.MercatorCoordinate,Evented:t.Evented,config:t.config,prewarm:function(){bt().acquire(st)},clearPrewarmedResources:function(){var U=gt;U&&(U.isPreloaded()&&U.numActive()===1?(U.release(st),gt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return t.config.ACCESS_TOKEN},set accessToken(U){t.config.ACCESS_TOKEN=U},get baseApiUrl(){return t.config.API_URL},set baseApiUrl(U){t.config.API_URL=U},get workerCount(){return Xe.workerCount},set workerCount(U){Xe.workerCount=U},get maxParallelImageRequests(){return t.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(U){t.config.MAX_PARALLEL_IMAGE_REQUESTS=U},clearStorage:function(U){t.clearTileCache(U)},workerUrl:""};return ct}),v}()},3108:function(O,S,e){O.exports=e(26099)},26099:function(O,S,e){var v=e(64928),x=e(32420),t=e(51160),b=e(76752),g=e(55616),c=e(31264),s=e(47520),n=e(18400),i=e(72512),a=e(76244);function r(o,l){for(var u=l[0],h=l[1],f=1/(l[2]-u),T=1/(l[3]-h),d=new Array(o.length),y=0,m=o.length/2;y<m;y++)d[2*y]=x((o[2*y]-u)*f,0,1),d[2*y+1]=x((o[2*y+1]-h)*T,0,1);return d}O.exports=function(o,l){l||(l={}),o=s(o,"float64"),l=g(l,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var u=c(l.maxDepth,255),h=c(l.bounds,b(o,2));h[0]===h[2]&&h[2]++,h[1]===h[3]&&h[3]++;var f,T=r(o,h),d=o.length>>>1;l.dtype||(l.dtype="array"),typeof l.dtype=="string"?f=new(i(l.dtype))(d):l.dtype&&(f=l.dtype,Array.isArray(f)&&(f.length=d));for(var y=0;y<d;++y)f[y]=y;var m=[],w=[],_=[],A=[];(function F(q,z,V,X,j,H){if(!X.length)return null;var G=m[j]||(m[j]=[]),ie=_[j]||(_[j]=[]),re=w[j]||(w[j]=[]),te=G.length;if(++j>u||H>1073741824){for(var K=0;K<X.length;K++)G.push(X[K]),ie.push(H),re.push(null,null,null,null);return te}if(G.push(X[0]),ie.push(H),X.length<=1)return re.push(null,null,null,null),te;for(var J=.5*V,$=q+J,ae=z+J,ue=[],ce=[],de=[],pe=[],me=1,be=X.length;me<be;me++){var we=X[me],Te=T[2*we],Le=T[2*we+1];Te<$?Le<ae?ue.push(we):ce.push(we):Le<ae?de.push(we):pe.push(we)}return H<<=2,re.push(F(q,z,J,ue,j,H),F(q,ae,J,ce,j,H+1),F($,z,J,de,j,H+2),F($,ae,J,pe,j,H+3)),te})(0,0,1,f,0,1);for(var p=0,L=0;L<m.length;L++){var M=m[L];if(f.set)f.set(M,p);else for(var C=0,R=M.length;C<R;C++)f[C+p]=M[C];var I=p+m[L].length;A[L]=[p,I],p=I}return f.range=function(){for(var F,q=[],z=arguments.length;z--;)q[z]=arguments[z];if(n(q[q.length-1])){var V=q.pop();q.length||V.x==null&&V.l==null&&V.left==null||(q=[V],F={}),F=g(V,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else F={};q.length||(q=h);var X,j=t.apply(void 0,q),H=[Math.min(j.x,j.x+j.width),Math.min(j.y,j.y+j.height),Math.max(j.x,j.x+j.width),Math.max(j.y,j.y+j.height)],G=H[0],ie=H[1],re=H[2],te=H[3],K=r([G,ie,re,te],h),J=K[0],$=K[1],ae=K[2],ue=K[3],ce=c(F.level,m.length);if(F.d!=null&&(typeof F.d=="number"?X=[F.d,F.d]:F.d.length&&(X=F.d),ce=Math.min(Math.max(Math.ceil(-a(Math.abs(X[0])/(h[2]-h[0]))),Math.ceil(-a(Math.abs(X[1])/(h[3]-h[1])))),ce)),ce=Math.min(ce,m.length),F.lod)return function(pe,me,be,we,Te){for(var Le=[],Ie=0;Ie<Te;Ie++){var _e=_[Ie],fe=A[Ie][0],le=D(pe,me,Ie),ye=D(be,we,Ie),Oe=v.ge(_e,le),Ae=v.gt(_e,ye,Oe,_e.length-1);Le[Ie]=[Oe+fe,Ae+fe]}return Le}(J,$,ae,ue,ce);var de=[];return function pe(me,be,we,Te,Le,Ie){if(Le!==null&&Ie!==null&&!(J>me+we||$>be+we||ae<me||ue<be||Te>=ce||Le===Ie)){var _e=m[Te];Ie===void 0&&(Ie=_e.length);for(var fe=Le;fe<Ie;fe++){var le=_e[fe],ye=o[2*le],Oe=o[2*le+1];ye>=G&&ye<=re&&Oe>=ie&&Oe<=te&&de.push(le)}var Ae=w[Te],Se=Ae[4*Le+0],Pe=Ae[4*Le+1],Fe=Ae[4*Le+2],Be=Ae[4*Le+3],xe=function(Ne,Re){for(var He=null,Ye=0;He===null;)if(He=Ne[4*Re+Ye],++Ye>Ne.length)return null;return He}(Ae,Le+1),Me=.5*we,Ce=Te+1;pe(me,be,Me,Ce,Se,Pe||Fe||Be||xe),pe(me,be+Me,Me,Ce,Pe,Fe||Be||xe),pe(me+Me,be,Me,Ce,Fe,Be||xe),pe(me+Me,be+Me,Me,Ce,Be,xe)}}(0,0,1,0,0,1),de},f;function D(F,q,z){for(var V=1,X=.5,j=.5,H=.5,G=0;G<z;G++)V<<=2,V+=F<X?q<j?0:1:q<j?2:3,H*=.5,X+=F<X?-H:H,j+=q<j?-H:H;return V}}},40440:function(O,S,e){Object.defineProperty(S,"__esModule",{value:!0});var v=e(3256),x=6378137;function t(c){var s=0;if(c&&c.length>0){s+=Math.abs(b(c[0]));for(var n=1;n<c.length;n++)s-=Math.abs(b(c[n]))}return s}function b(c){var s,n,i,a,r,o,l=0,u=c.length;if(u>2){for(o=0;o<u;o++)o===u-2?(i=u-2,a=u-1,r=0):o===u-1?(i=u-1,a=0,r=1):(i=o,a=o+1,r=o+2),s=c[i],n=c[a],l+=(g(c[r][0])-g(s[0]))*Math.sin(g(n[1]));l=l*x*x/2}return l}function g(c){return c*Math.PI/180}S.default=function(c){return v.geomReduce(c,function(s,n){return s+function(i){var a,r=0;switch(i.type){case"Polygon":return t(i.coordinates);case"MultiPolygon":for(a=0;a<i.coordinates.length;a++)r+=t(i.coordinates[a]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(n)},0)}},46284:function(O,S){function e(o,l,u){u===void 0&&(u={});var h={type:"Feature"};return(u.id===0||u.id)&&(h.id=u.id),u.bbox&&(h.bbox=u.bbox),h.properties=l||{},h.geometry=o,h}function v(o,l,u){if(u===void 0&&(u={}),!o)throw new Error("coordinates is required");if(!Array.isArray(o))throw new Error("coordinates must be an Array");if(o.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!r(o[0])||!r(o[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:o},l,u)}function x(o,l,u){u===void 0&&(u={});for(var h=0,f=o;h<f.length;h++){var T=f[h];if(T.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var d=0;d<T[T.length-1].length;d++)if(T[T.length-1][d]!==T[0][d])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:o},l,u)}function t(o,l,u){if(u===void 0&&(u={}),o.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:o},l,u)}function b(o,l){l===void 0&&(l={});var u={type:"FeatureCollection"};return l.id&&(u.id=l.id),l.bbox&&(u.bbox=l.bbox),u.features=o,u}function g(o,l,u){return u===void 0&&(u={}),e({type:"MultiLineString",coordinates:o},l,u)}function c(o,l,u){return u===void 0&&(u={}),e({type:"MultiPoint",coordinates:o},l,u)}function s(o,l,u){return u===void 0&&(u={}),e({type:"MultiPolygon",coordinates:o},l,u)}function n(o,l){l===void 0&&(l="kilometers");var u=S.factors[l];if(!u)throw new Error(l+" units is invalid");return o*u}function i(o,l){l===void 0&&(l="kilometers");var u=S.factors[l];if(!u)throw new Error(l+" units is invalid");return o/u}function a(o){return o%(2*Math.PI)*180/Math.PI}function r(o){return!isNaN(o)&&o!==null&&!Array.isArray(o)}Object.defineProperty(S,"__esModule",{value:!0}),S.earthRadius=63710088e-1,S.factors={centimeters:100*S.earthRadius,centimetres:100*S.earthRadius,degrees:S.earthRadius/111325,feet:3.28084*S.earthRadius,inches:39.37*S.earthRadius,kilometers:S.earthRadius/1e3,kilometres:S.earthRadius/1e3,meters:S.earthRadius,metres:S.earthRadius,miles:S.earthRadius/1609.344,millimeters:1e3*S.earthRadius,millimetres:1e3*S.earthRadius,nauticalmiles:S.earthRadius/1852,radians:1,yards:1.0936*S.earthRadius},S.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/S.earthRadius,yards:1.0936133},S.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},S.feature=e,S.geometry=function(o,l,u){switch(o){case"Point":return v(l).geometry;case"LineString":return t(l).geometry;case"Polygon":return x(l).geometry;case"MultiPoint":return c(l).geometry;case"MultiLineString":return g(l).geometry;case"MultiPolygon":return s(l).geometry;default:throw new Error(o+" is invalid")}},S.point=v,S.points=function(o,l,u){return u===void 0&&(u={}),b(o.map(function(h){return v(h,l)}),u)},S.polygon=x,S.polygons=function(o,l,u){return u===void 0&&(u={}),b(o.map(function(h){return x(h,l)}),u)},S.lineString=t,S.lineStrings=function(o,l,u){return u===void 0&&(u={}),b(o.map(function(h){return t(h,l)}),u)},S.featureCollection=b,S.multiLineString=g,S.multiPoint=c,S.multiPolygon=s,S.geometryCollection=function(o,l,u){return u===void 0&&(u={}),e({type:"GeometryCollection",geometries:o},l,u)},S.round=function(o,l){if(l===void 0&&(l=0),l&&!(l>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,l||0);return Math.round(o*u)/u},S.radiansToLength=n,S.lengthToRadians=i,S.lengthToDegrees=function(o,l){return a(i(o,l))},S.bearingToAzimuth=function(o){var l=o%360;return l<0&&(l+=360),l},S.radiansToDegrees=a,S.degreesToRadians=function(o){return o%360*Math.PI/180},S.convertLength=function(o,l,u){if(l===void 0&&(l="kilometers"),u===void 0&&(u="kilometers"),!(o>=0))throw new Error("length must be a positive number");return n(i(o,l),u)},S.convertArea=function(o,l,u){if(l===void 0&&(l="meters"),u===void 0&&(u="kilometers"),!(o>=0))throw new Error("area must be a positive number");var h=S.areaFactors[l];if(!h)throw new Error("invalid original units");var f=S.areaFactors[u];if(!f)throw new Error("invalid final units");return o/h*f},S.isNumber=r,S.isObject=function(o){return!!o&&o.constructor===Object},S.validateBBox=function(o){if(!o)throw new Error("bbox is required");if(!Array.isArray(o))throw new Error("bbox must be an Array");if(o.length!==4&&o.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");o.forEach(function(l){if(!r(l))throw new Error("bbox must only contain numbers")})},S.validateId=function(o){if(!o)throw new Error("id is required");if(["string","number"].indexOf(typeof o)===-1)throw new Error("id must be a number or a string")}},3256:function(O,S,e){Object.defineProperty(S,"__esModule",{value:!0});var v=e(46284);function x(i,a,r){if(i!==null)for(var o,l,u,h,f,T,d,y,m=0,w=0,_=i.type,A=_==="FeatureCollection",p=_==="Feature",L=A?i.features.length:1,M=0;M<L;M++){f=(y=!!(d=A?i.features[M].geometry:p?i.geometry:i)&&d.type==="GeometryCollection")?d.geometries.length:1;for(var C=0;C<f;C++){var R=0,I=0;if((h=y?d.geometries[C]:d)!==null){T=h.coordinates;var D=h.type;switch(m=!r||D!=="Polygon"&&D!=="MultiPolygon"?0:1,D){case null:break;case"Point":if(a(T,w,M,R,I)===!1)return!1;w++,R++;break;case"LineString":case"MultiPoint":for(o=0;o<T.length;o++){if(a(T[o],w,M,R,I)===!1)return!1;w++,D==="MultiPoint"&&R++}D==="LineString"&&R++;break;case"Polygon":case"MultiLineString":for(o=0;o<T.length;o++){for(l=0;l<T[o].length-m;l++){if(a(T[o][l],w,M,R,I)===!1)return!1;w++}D==="MultiLineString"&&R++,D==="Polygon"&&I++}D==="Polygon"&&R++;break;case"MultiPolygon":for(o=0;o<T.length;o++){for(I=0,l=0;l<T[o].length;l++){for(u=0;u<T[o][l].length-m;u++){if(a(T[o][l][u],w,M,R,I)===!1)return!1;w++}I++}R++}break;case"GeometryCollection":for(o=0;o<h.geometries.length;o++)if(x(h.geometries[o],a,r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function t(i,a){var r;switch(i.type){case"FeatureCollection":for(r=0;r<i.features.length&&a(i.features[r].properties,r)!==!1;r++);break;case"Feature":a(i.properties,0)}}function b(i,a){if(i.type==="Feature")a(i,0);else if(i.type==="FeatureCollection")for(var r=0;r<i.features.length&&a(i.features[r],r)!==!1;r++);}function g(i,a){var r,o,l,u,h,f,T,d,y,m,w=0,_=i.type==="FeatureCollection",A=i.type==="Feature",p=_?i.features.length:1;for(r=0;r<p;r++){for(f=_?i.features[r].geometry:A?i.geometry:i,d=_?i.features[r].properties:A?i.properties:{},y=_?i.features[r].bbox:A?i.bbox:void 0,m=_?i.features[r].id:A?i.id:void 0,h=(T=!!f&&f.type==="GeometryCollection")?f.geometries.length:1,l=0;l<h;l++)if((u=T?f.geometries[l]:f)!==null)switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(a(u,w,d,y,m)===!1)return!1;break;case"GeometryCollection":for(o=0;o<u.geometries.length;o++)if(a(u.geometries[o],w,d,y,m)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(a(null,w,d,y,m)===!1)return!1;w++}}function c(i,a){g(i,function(r,o,l,u,h){var f,T=r===null?null:r.type;switch(T){case null:case"Point":case"LineString":case"Polygon":return a(v.feature(r,l,{bbox:u,id:h}),o,0)!==!1&&void 0}switch(T){case"MultiPoint":f="Point";break;case"MultiLineString":f="LineString";break;case"MultiPolygon":f="Polygon"}for(var d=0;d<r.coordinates.length;d++){var y={type:f,coordinates:r.coordinates[d]};if(a(v.feature(y,l),o,d)===!1)return!1}})}function s(i,a){c(i,function(r,o,l){var u=0;if(r.geometry){var h=r.geometry.type;if(h!=="Point"&&h!=="MultiPoint"){var f,T=0,d=0,y=0;return x(r,function(m,w,_,A,p){if(f===void 0||o>T||A>d||p>y)return f=m,T=o,d=A,y=p,void(u=0);var L=v.lineString([f,m],r.properties);if(a(L,o,l,p,u)===!1)return!1;u++,f=m})!==!1&&void 0}}})}function n(i,a){if(!i)throw new Error("geojson is required");c(i,function(r,o,l){if(r.geometry!==null){var u=r.geometry.type,h=r.geometry.coordinates;switch(u){case"LineString":if(a(r,o,l,0,0)===!1)return!1;break;case"Polygon":for(var f=0;f<h.length;f++)if(a(v.lineString(h[f],r.properties),o,l,f)===!1)return!1}}})}S.coordEach=x,S.coordReduce=function(i,a,r,o){var l=r;return x(i,function(u,h,f,T,d){l=h===0&&r===void 0?u:a(l,u,h,f,T,d)},o),l},S.propEach=t,S.propReduce=function(i,a,r){var o=r;return t(i,function(l,u){o=u===0&&r===void 0?l:a(o,l,u)}),o},S.featureEach=b,S.featureReduce=function(i,a,r){var o=r;return b(i,function(l,u){o=u===0&&r===void 0?l:a(o,l,u)}),o},S.coordAll=function(i){var a=[];return x(i,function(r){a.push(r)}),a},S.geomEach=g,S.geomReduce=function(i,a,r){var o=r;return g(i,function(l,u,h,f,T){o=u===0&&r===void 0?l:a(o,l,u,h,f,T)}),o},S.flattenEach=c,S.flattenReduce=function(i,a,r){var o=r;return c(i,function(l,u,h){o=u===0&&h===0&&r===void 0?l:a(o,l,u,h)}),o},S.segmentEach=s,S.segmentReduce=function(i,a,r){var o=r,l=!1;return s(i,function(u,h,f,T,d){o=l===!1&&r===void 0?u:a(o,u,h,f,T,d),l=!0}),o},S.lineEach=n,S.lineReduce=function(i,a,r){var o=r;return n(i,function(l,u,h,f){o=u===0&&r===void 0?l:a(o,l,u,h,f)}),o},S.findSegment=function(i,a){if(a=a||{},!v.isObject(a))throw new Error("options is invalid");var r,o=a.featureIndex||0,l=a.multiFeatureIndex||0,u=a.geometryIndex||0,h=a.segmentIndex||0,f=a.properties;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),f=f||i.features[o].properties,r=i.features[o].geometry;break;case"Feature":f=f||i.properties,r=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=i;break;default:throw new Error("geojson is invalid")}if(r===null)return null;var T=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return h<0&&(h=T.length+h-1),v.lineString([T[h],T[h+1]],f,a);case"Polygon":return u<0&&(u=T.length+u),h<0&&(h=T[u].length+h-1),v.lineString([T[u][h],T[u][h+1]],f,a);case"MultiLineString":return l<0&&(l=T.length+l),h<0&&(h=T[l].length+h-1),v.lineString([T[l][h],T[l][h+1]],f,a);case"MultiPolygon":return l<0&&(l=T.length+l),u<0&&(u=T[l].length+u),h<0&&(h=T[l][u].length-h-1),v.lineString([T[l][u][h],T[l][u][h+1]],f,a)}throw new Error("geojson is invalid")},S.findPoint=function(i,a){if(a=a||{},!v.isObject(a))throw new Error("options is invalid");var r,o=a.featureIndex||0,l=a.multiFeatureIndex||0,u=a.geometryIndex||0,h=a.coordIndex||0,f=a.properties;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),f=f||i.features[o].properties,r=i.features[o].geometry;break;case"Feature":f=f||i.properties,r=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=i;break;default:throw new Error("geojson is invalid")}if(r===null)return null;var T=r.coordinates;switch(r.type){case"Point":return v.point(T,f,a);case"MultiPoint":return l<0&&(l=T.length+l),v.point(T[l],f,a);case"LineString":return h<0&&(h=T.length+h),v.point(T[h],f,a);case"Polygon":return u<0&&(u=T.length+u),h<0&&(h=T[u].length+h),v.point(T[u][h],f,a);case"MultiLineString":return l<0&&(l=T.length+l),h<0&&(h=T[l].length+h),v.point(T[l][h],f,a);case"MultiPolygon":return l<0&&(l=T.length+l),u<0&&(u=T[l].length+u),h<0&&(h=T[l][u].length-h),v.point(T[l][u][h],f,a)}throw new Error("geojson is invalid")}},42428:function(O,S,e){Object.defineProperty(S,"__esModule",{value:!0});var v=e(84880);function x(t){var b=[1/0,1/0,-1/0,-1/0];return v.coordEach(t,function(g){b[0]>g[0]&&(b[0]=g[0]),b[1]>g[1]&&(b[1]=g[1]),b[2]<g[0]&&(b[2]=g[0]),b[3]<g[1]&&(b[3]=g[1])}),b}x.default=x,S.default=x},76796:function(O,S){function e(o,l,u){u===void 0&&(u={});var h={type:"Feature"};return(u.id===0||u.id)&&(h.id=u.id),u.bbox&&(h.bbox=u.bbox),h.properties=l||{},h.geometry=o,h}function v(o,l,u){if(u===void 0&&(u={}),!o)throw new Error("coordinates is required");if(!Array.isArray(o))throw new Error("coordinates must be an Array");if(o.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!r(o[0])||!r(o[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:o},l,u)}function x(o,l,u){u===void 0&&(u={});for(var h=0,f=o;h<f.length;h++){var T=f[h];if(T.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var d=0;d<T[T.length-1].length;d++)if(T[T.length-1][d]!==T[0][d])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:o},l,u)}function t(o,l,u){if(u===void 0&&(u={}),o.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:o},l,u)}function b(o,l){l===void 0&&(l={});var u={type:"FeatureCollection"};return l.id&&(u.id=l.id),l.bbox&&(u.bbox=l.bbox),u.features=o,u}function g(o,l,u){return u===void 0&&(u={}),e({type:"MultiLineString",coordinates:o},l,u)}function c(o,l,u){return u===void 0&&(u={}),e({type:"MultiPoint",coordinates:o},l,u)}function s(o,l,u){return u===void 0&&(u={}),e({type:"MultiPolygon",coordinates:o},l,u)}function n(o,l){l===void 0&&(l="kilometers");var u=S.factors[l];if(!u)throw new Error(l+" units is invalid");return o*u}function i(o,l){l===void 0&&(l="kilometers");var u=S.factors[l];if(!u)throw new Error(l+" units is invalid");return o/u}function a(o){return o%(2*Math.PI)*180/Math.PI}function r(o){return!isNaN(o)&&o!==null&&!Array.isArray(o)}Object.defineProperty(S,"__esModule",{value:!0}),S.earthRadius=63710088e-1,S.factors={centimeters:100*S.earthRadius,centimetres:100*S.earthRadius,degrees:S.earthRadius/111325,feet:3.28084*S.earthRadius,inches:39.37*S.earthRadius,kilometers:S.earthRadius/1e3,kilometres:S.earthRadius/1e3,meters:S.earthRadius,metres:S.earthRadius,miles:S.earthRadius/1609.344,millimeters:1e3*S.earthRadius,millimetres:1e3*S.earthRadius,nauticalmiles:S.earthRadius/1852,radians:1,yards:1.0936*S.earthRadius},S.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/S.earthRadius,yards:1.0936133},S.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},S.feature=e,S.geometry=function(o,l,u){switch(o){case"Point":return v(l).geometry;case"LineString":return t(l).geometry;case"Polygon":return x(l).geometry;case"MultiPoint":return c(l).geometry;case"MultiLineString":return g(l).geometry;case"MultiPolygon":return s(l).geometry;default:throw new Error(o+" is invalid")}},S.point=v,S.points=function(o,l,u){return u===void 0&&(u={}),b(o.map(function(h){return v(h,l)}),u)},S.polygon=x,S.polygons=function(o,l,u){return u===void 0&&(u={}),b(o.map(function(h){return x(h,l)}),u)},S.lineString=t,S.lineStrings=function(o,l,u){return u===void 0&&(u={}),b(o.map(function(h){return t(h,l)}),u)},S.featureCollection=b,S.multiLineString=g,S.multiPoint=c,S.multiPolygon=s,S.geometryCollection=function(o,l,u){return u===void 0&&(u={}),e({type:"GeometryCollection",geometries:o},l,u)},S.round=function(o,l){if(l===void 0&&(l=0),l&&!(l>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,l||0);return Math.round(o*u)/u},S.radiansToLength=n,S.lengthToRadians=i,S.lengthToDegrees=function(o,l){return a(i(o,l))},S.bearingToAzimuth=function(o){var l=o%360;return l<0&&(l+=360),l},S.radiansToDegrees=a,S.degreesToRadians=function(o){return o%360*Math.PI/180},S.convertLength=function(o,l,u){if(l===void 0&&(l="kilometers"),u===void 0&&(u="kilometers"),!(o>=0))throw new Error("length must be a positive number");return n(i(o,l),u)},S.convertArea=function(o,l,u){if(l===void 0&&(l="meters"),u===void 0&&(u="kilometers"),!(o>=0))throw new Error("area must be a positive number");var h=S.areaFactors[l];if(!h)throw new Error("invalid original units");var f=S.areaFactors[u];if(!f)throw new Error("invalid final units");return o/h*f},S.isNumber=r,S.isObject=function(o){return!!o&&o.constructor===Object},S.validateBBox=function(o){if(!o)throw new Error("bbox is required");if(!Array.isArray(o))throw new Error("bbox must be an Array");if(o.length!==4&&o.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");o.forEach(function(l){if(!r(l))throw new Error("bbox must only contain numbers")})},S.validateId=function(o){if(!o)throw new Error("id is required");if(["string","number"].indexOf(typeof o)===-1)throw new Error("id must be a number or a string")}},84880:function(O,S,e){Object.defineProperty(S,"__esModule",{value:!0});var v=e(76796);function x(i,a,r){if(i!==null)for(var o,l,u,h,f,T,d,y,m=0,w=0,_=i.type,A=_==="FeatureCollection",p=_==="Feature",L=A?i.features.length:1,M=0;M<L;M++){f=(y=!!(d=A?i.features[M].geometry:p?i.geometry:i)&&d.type==="GeometryCollection")?d.geometries.length:1;for(var C=0;C<f;C++){var R=0,I=0;if((h=y?d.geometries[C]:d)!==null){T=h.coordinates;var D=h.type;switch(m=!r||D!=="Polygon"&&D!=="MultiPolygon"?0:1,D){case null:break;case"Point":if(a(T,w,M,R,I)===!1)return!1;w++,R++;break;case"LineString":case"MultiPoint":for(o=0;o<T.length;o++){if(a(T[o],w,M,R,I)===!1)return!1;w++,D==="MultiPoint"&&R++}D==="LineString"&&R++;break;case"Polygon":case"MultiLineString":for(o=0;o<T.length;o++){for(l=0;l<T[o].length-m;l++){if(a(T[o][l],w,M,R,I)===!1)return!1;w++}D==="MultiLineString"&&R++,D==="Polygon"&&I++}D==="Polygon"&&R++;break;case"MultiPolygon":for(o=0;o<T.length;o++){for(I=0,l=0;l<T[o].length;l++){for(u=0;u<T[o][l].length-m;u++){if(a(T[o][l][u],w,M,R,I)===!1)return!1;w++}I++}R++}break;case"GeometryCollection":for(o=0;o<h.geometries.length;o++)if(x(h.geometries[o],a,r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function t(i,a){var r;switch(i.type){case"FeatureCollection":for(r=0;r<i.features.length&&a(i.features[r].properties,r)!==!1;r++);break;case"Feature":a(i.properties,0)}}function b(i,a){if(i.type==="Feature")a(i,0);else if(i.type==="FeatureCollection")for(var r=0;r<i.features.length&&a(i.features[r],r)!==!1;r++);}function g(i,a){var r,o,l,u,h,f,T,d,y,m,w=0,_=i.type==="FeatureCollection",A=i.type==="Feature",p=_?i.features.length:1;for(r=0;r<p;r++){for(f=_?i.features[r].geometry:A?i.geometry:i,d=_?i.features[r].properties:A?i.properties:{},y=_?i.features[r].bbox:A?i.bbox:void 0,m=_?i.features[r].id:A?i.id:void 0,h=(T=!!f&&f.type==="GeometryCollection")?f.geometries.length:1,l=0;l<h;l++)if((u=T?f.geometries[l]:f)!==null)switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(a(u,w,d,y,m)===!1)return!1;break;case"GeometryCollection":for(o=0;o<u.geometries.length;o++)if(a(u.geometries[o],w,d,y,m)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(a(null,w,d,y,m)===!1)return!1;w++}}function c(i,a){g(i,function(r,o,l,u,h){var f,T=r===null?null:r.type;switch(T){case null:case"Point":case"LineString":case"Polygon":return a(v.feature(r,l,{bbox:u,id:h}),o,0)!==!1&&void 0}switch(T){case"MultiPoint":f="Point";break;case"MultiLineString":f="LineString";break;case"MultiPolygon":f="Polygon"}for(var d=0;d<r.coordinates.length;d++){var y={type:f,coordinates:r.coordinates[d]};if(a(v.feature(y,l),o,d)===!1)return!1}})}function s(i,a){c(i,function(r,o,l){var u=0;if(r.geometry){var h=r.geometry.type;if(h!=="Point"&&h!=="MultiPoint"){var f,T=0,d=0,y=0;return x(r,function(m,w,_,A,p){if(f===void 0||o>T||A>d||p>y)return f=m,T=o,d=A,y=p,void(u=0);var L=v.lineString([f,m],r.properties);if(a(L,o,l,p,u)===!1)return!1;u++,f=m})!==!1&&void 0}}})}function n(i,a){if(!i)throw new Error("geojson is required");c(i,function(r,o,l){if(r.geometry!==null){var u=r.geometry.type,h=r.geometry.coordinates;switch(u){case"LineString":if(a(r,o,l,0,0)===!1)return!1;break;case"Polygon":for(var f=0;f<h.length;f++)if(a(v.lineString(h[f],r.properties),o,l,f)===!1)return!1}}})}S.coordEach=x,S.coordReduce=function(i,a,r,o){var l=r;return x(i,function(u,h,f,T,d){l=h===0&&r===void 0?u:a(l,u,h,f,T,d)},o),l},S.propEach=t,S.propReduce=function(i,a,r){var o=r;return t(i,function(l,u){o=u===0&&r===void 0?l:a(o,l,u)}),o},S.featureEach=b,S.featureReduce=function(i,a,r){var o=r;return b(i,function(l,u){o=u===0&&r===void 0?l:a(o,l,u)}),o},S.coordAll=function(i){var a=[];return x(i,function(r){a.push(r)}),a},S.geomEach=g,S.geomReduce=function(i,a,r){var o=r;return g(i,function(l,u,h,f,T){o=u===0&&r===void 0?l:a(o,l,u,h,f,T)}),o},S.flattenEach=c,S.flattenReduce=function(i,a,r){var o=r;return c(i,function(l,u,h){o=u===0&&h===0&&r===void 0?l:a(o,l,u,h)}),o},S.segmentEach=s,S.segmentReduce=function(i,a,r){var o=r,l=!1;return s(i,function(u,h,f,T,d){o=l===!1&&r===void 0?u:a(o,u,h,f,T,d),l=!0}),o},S.lineEach=n,S.lineReduce=function(i,a,r){var o=r;return n(i,function(l,u,h,f){o=u===0&&r===void 0?l:a(o,l,u,h,f)}),o},S.findSegment=function(i,a){if(a=a||{},!v.isObject(a))throw new Error("options is invalid");var r,o=a.featureIndex||0,l=a.multiFeatureIndex||0,u=a.geometryIndex||0,h=a.segmentIndex||0,f=a.properties;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),f=f||i.features[o].properties,r=i.features[o].geometry;break;case"Feature":f=f||i.properties,r=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=i;break;default:throw new Error("geojson is invalid")}if(r===null)return null;var T=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return h<0&&(h=T.length+h-1),v.lineString([T[h],T[h+1]],f,a);case"Polygon":return u<0&&(u=T.length+u),h<0&&(h=T[u].length+h-1),v.lineString([T[u][h],T[u][h+1]],f,a);case"MultiLineString":return l<0&&(l=T.length+l),h<0&&(h=T[l].length+h-1),v.lineString([T[l][h],T[l][h+1]],f,a);case"MultiPolygon":return l<0&&(l=T.length+l),u<0&&(u=T[l].length+u),h<0&&(h=T[l][u].length-h-1),v.lineString([T[l][u][h],T[l][u][h+1]],f,a)}throw new Error("geojson is invalid")},S.findPoint=function(i,a){if(a=a||{},!v.isObject(a))throw new Error("options is invalid");var r,o=a.featureIndex||0,l=a.multiFeatureIndex||0,u=a.geometryIndex||0,h=a.coordIndex||0,f=a.properties;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),f=f||i.features[o].properties,r=i.features[o].geometry;break;case"Feature":f=f||i.properties,r=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=i;break;default:throw new Error("geojson is invalid")}if(r===null)return null;var T=r.coordinates;switch(r.type){case"Point":return v.point(T,f,a);case"MultiPoint":return l<0&&(l=T.length+l),v.point(T[l],f,a);case"LineString":return h<0&&(h=T.length+h),v.point(T[h],f,a);case"Polygon":return u<0&&(u=T.length+u),h<0&&(h=T[u].length+h),v.point(T[u][h],f,a);case"MultiLineString":return l<0&&(l=T.length+l),h<0&&(h=T[l].length+h),v.point(T[l][h],f,a);case"MultiPolygon":return l<0&&(l=T.length+l),u<0&&(u=T[l].length+u),h<0&&(h=T[l][u].length-h),v.point(T[l][u][h],f,a)}throw new Error("geojson is invalid")}},77844:function(O,S,e){Object.defineProperty(S,"__esModule",{value:!0});var v=e(43752),x=e(49840);S.default=function(t,b){b===void 0&&(b={});var g=0,c=0,s=0;return v.coordEach(t,function(n){g+=n[0],c+=n[1],s++}),x.point([g/s,c/s],b.properties)}},49840:function(O,S){function e(o,l,u){u===void 0&&(u={});var h={type:"Feature"};return(u.id===0||u.id)&&(h.id=u.id),u.bbox&&(h.bbox=u.bbox),h.properties=l||{},h.geometry=o,h}function v(o,l,u){return u===void 0&&(u={}),e({type:"Point",coordinates:o},l,u)}function x(o,l,u){u===void 0&&(u={});for(var h=0,f=o;h<f.length;h++){var T=f[h];if(T.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var d=0;d<T[T.length-1].length;d++)if(T[T.length-1][d]!==T[0][d])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:o},l,u)}function t(o,l,u){if(u===void 0&&(u={}),o.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:o},l,u)}function b(o,l){l===void 0&&(l={});var u={type:"FeatureCollection"};return l.id&&(u.id=l.id),l.bbox&&(u.bbox=l.bbox),u.features=o,u}function g(o,l,u){return u===void 0&&(u={}),e({type:"MultiLineString",coordinates:o},l,u)}function c(o,l,u){return u===void 0&&(u={}),e({type:"MultiPoint",coordinates:o},l,u)}function s(o,l,u){return u===void 0&&(u={}),e({type:"MultiPolygon",coordinates:o},l,u)}function n(o,l){l===void 0&&(l="kilometers");var u=S.factors[l];if(!u)throw new Error(l+" units is invalid");return o*u}function i(o,l){l===void 0&&(l="kilometers");var u=S.factors[l];if(!u)throw new Error(l+" units is invalid");return o/u}function a(o){return o%(2*Math.PI)*180/Math.PI}function r(o){return!isNaN(o)&&o!==null&&!Array.isArray(o)&&!/^\s*$/.test(o)}Object.defineProperty(S,"__esModule",{value:!0}),S.earthRadius=63710088e-1,S.factors={centimeters:100*S.earthRadius,centimetres:100*S.earthRadius,degrees:S.earthRadius/111325,feet:3.28084*S.earthRadius,inches:39.37*S.earthRadius,kilometers:S.earthRadius/1e3,kilometres:S.earthRadius/1e3,meters:S.earthRadius,metres:S.earthRadius,miles:S.earthRadius/1609.344,millimeters:1e3*S.earthRadius,millimetres:1e3*S.earthRadius,nauticalmiles:S.earthRadius/1852,radians:1,yards:S.earthRadius/1.0936},S.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/S.earthRadius,yards:.91441111923921},S.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},S.feature=e,S.geometry=function(o,l,u){switch(o){case"Point":return v(l).geometry;case"LineString":return t(l).geometry;case"Polygon":return x(l).geometry;case"MultiPoint":return c(l).geometry;case"MultiLineString":return g(l).geometry;case"MultiPolygon":return s(l).geometry;default:throw new Error(o+" is invalid")}},S.point=v,S.points=function(o,l,u){return u===void 0&&(u={}),b(o.map(function(h){return v(h,l)}),u)},S.polygon=x,S.polygons=function(o,l,u){return u===void 0&&(u={}),b(o.map(function(h){return x(h,l)}),u)},S.lineString=t,S.lineStrings=function(o,l,u){return u===void 0&&(u={}),b(o.map(function(h){return t(h,l)}),u)},S.featureCollection=b,S.multiLineString=g,S.multiPoint=c,S.multiPolygon=s,S.geometryCollection=function(o,l,u){return u===void 0&&(u={}),e({type:"GeometryCollection",geometries:o},l,u)},S.round=function(o,l){if(l===void 0&&(l=0),l&&!(l>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,l||0);return Math.round(o*u)/u},S.radiansToLength=n,S.lengthToRadians=i,S.lengthToDegrees=function(o,l){return a(i(o,l))},S.bearingToAzimuth=function(o){var l=o%360;return l<0&&(l+=360),l},S.radiansToDegrees=a,S.degreesToRadians=function(o){return o%360*Math.PI/180},S.convertLength=function(o,l,u){if(l===void 0&&(l="kilometers"),u===void 0&&(u="kilometers"),!(o>=0))throw new Error("length must be a positive number");return n(i(o,l),u)},S.convertArea=function(o,l,u){if(l===void 0&&(l="meters"),u===void 0&&(u="kilometers"),!(o>=0))throw new Error("area must be a positive number");var h=S.areaFactors[l];if(!h)throw new Error("invalid original units");var f=S.areaFactors[u];if(!f)throw new Error("invalid final units");return o/h*f},S.isNumber=r,S.isObject=function(o){return!!o&&o.constructor===Object},S.validateBBox=function(o){if(!o)throw new Error("bbox is required");if(!Array.isArray(o))throw new Error("bbox must be an Array");if(o.length!==4&&o.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");o.forEach(function(l){if(!r(l))throw new Error("bbox must only contain numbers")})},S.validateId=function(o){if(!o)throw new Error("id is required");if(["string","number"].indexOf(typeof o)===-1)throw new Error("id must be a number or a string")},S.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},S.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},S.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},S.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},S.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},S.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},S.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}},43752:function(O,S,e){Object.defineProperty(S,"__esModule",{value:!0});var v=e(49840);function x(i,a,r){if(i!==null)for(var o,l,u,h,f,T,d,y,m=0,w=0,_=i.type,A=_==="FeatureCollection",p=_==="Feature",L=A?i.features.length:1,M=0;M<L;M++){f=(y=!!(d=A?i.features[M].geometry:p?i.geometry:i)&&d.type==="GeometryCollection")?d.geometries.length:1;for(var C=0;C<f;C++){var R=0,I=0;if((h=y?d.geometries[C]:d)!==null){T=h.coordinates;var D=h.type;switch(m=!r||D!=="Polygon"&&D!=="MultiPolygon"?0:1,D){case null:break;case"Point":if(a(T,w,M,R,I)===!1)return!1;w++,R++;break;case"LineString":case"MultiPoint":for(o=0;o<T.length;o++){if(a(T[o],w,M,R,I)===!1)return!1;w++,D==="MultiPoint"&&R++}D==="LineString"&&R++;break;case"Polygon":case"MultiLineString":for(o=0;o<T.length;o++){for(l=0;l<T[o].length-m;l++){if(a(T[o][l],w,M,R,I)===!1)return!1;w++}D==="MultiLineString"&&R++,D==="Polygon"&&I++}D==="Polygon"&&R++;break;case"MultiPolygon":for(o=0;o<T.length;o++){for(I=0,l=0;l<T[o].length;l++){for(u=0;u<T[o][l].length-m;u++){if(a(T[o][l][u],w,M,R,I)===!1)return!1;w++}I++}R++}break;case"GeometryCollection":for(o=0;o<h.geometries.length;o++)if(x(h.geometries[o],a,r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function t(i,a){var r;switch(i.type){case"FeatureCollection":for(r=0;r<i.features.length&&a(i.features[r].properties,r)!==!1;r++);break;case"Feature":a(i.properties,0)}}function b(i,a){if(i.type==="Feature")a(i,0);else if(i.type==="FeatureCollection")for(var r=0;r<i.features.length&&a(i.features[r],r)!==!1;r++);}function g(i,a){var r,o,l,u,h,f,T,d,y,m,w=0,_=i.type==="FeatureCollection",A=i.type==="Feature",p=_?i.features.length:1;for(r=0;r<p;r++){for(f=_?i.features[r].geometry:A?i.geometry:i,d=_?i.features[r].properties:A?i.properties:{},y=_?i.features[r].bbox:A?i.bbox:void 0,m=_?i.features[r].id:A?i.id:void 0,h=(T=!!f&&f.type==="GeometryCollection")?f.geometries.length:1,l=0;l<h;l++)if((u=T?f.geometries[l]:f)!==null)switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(a(u,w,d,y,m)===!1)return!1;break;case"GeometryCollection":for(o=0;o<u.geometries.length;o++)if(a(u.geometries[o],w,d,y,m)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(a(null,w,d,y,m)===!1)return!1;w++}}function c(i,a){g(i,function(r,o,l,u,h){var f,T=r===null?null:r.type;switch(T){case null:case"Point":case"LineString":case"Polygon":return a(v.feature(r,l,{bbox:u,id:h}),o,0)!==!1&&void 0}switch(T){case"MultiPoint":f="Point";break;case"MultiLineString":f="LineString";break;case"MultiPolygon":f="Polygon"}for(var d=0;d<r.coordinates.length;d++){var y={type:f,coordinates:r.coordinates[d]};if(a(v.feature(y,l),o,d)===!1)return!1}})}function s(i,a){c(i,function(r,o,l){var u=0;if(r.geometry){var h=r.geometry.type;if(h!=="Point"&&h!=="MultiPoint"){var f,T=0,d=0,y=0;return x(r,function(m,w,_,A,p){if(f===void 0||o>T||A>d||p>y)return f=m,T=o,d=A,y=p,void(u=0);var L=v.lineString([f,m],r.properties);if(a(L,o,l,p,u)===!1)return!1;u++,f=m})!==!1&&void 0}}})}function n(i,a){if(!i)throw new Error("geojson is required");c(i,function(r,o,l){if(r.geometry!==null){var u=r.geometry.type,h=r.geometry.coordinates;switch(u){case"LineString":if(a(r,o,l,0,0)===!1)return!1;break;case"Polygon":for(var f=0;f<h.length;f++)if(a(v.lineString(h[f],r.properties),o,l,f)===!1)return!1}}})}S.coordEach=x,S.coordReduce=function(i,a,r,o){var l=r;return x(i,function(u,h,f,T,d){l=h===0&&r===void 0?u:a(l,u,h,f,T,d)},o),l},S.propEach=t,S.propReduce=function(i,a,r){var o=r;return t(i,function(l,u){o=u===0&&r===void 0?l:a(o,l,u)}),o},S.featureEach=b,S.featureReduce=function(i,a,r){var o=r;return b(i,function(l,u){o=u===0&&r===void 0?l:a(o,l,u)}),o},S.coordAll=function(i){var a=[];return x(i,function(r){a.push(r)}),a},S.geomEach=g,S.geomReduce=function(i,a,r){var o=r;return g(i,function(l,u,h,f,T){o=u===0&&r===void 0?l:a(o,l,u,h,f,T)}),o},S.flattenEach=c,S.flattenReduce=function(i,a,r){var o=r;return c(i,function(l,u,h){o=u===0&&h===0&&r===void 0?l:a(o,l,u,h)}),o},S.segmentEach=s,S.segmentReduce=function(i,a,r){var o=r,l=!1;return s(i,function(u,h,f,T,d){o=l===!1&&r===void 0?u:a(o,u,h,f,T,d),l=!0}),o},S.lineEach=n,S.lineReduce=function(i,a,r){var o=r;return n(i,function(l,u,h,f){o=u===0&&r===void 0?l:a(o,l,u,h,f)}),o},S.findSegment=function(i,a){if(a=a||{},!v.isObject(a))throw new Error("options is invalid");var r,o=a.featureIndex||0,l=a.multiFeatureIndex||0,u=a.geometryIndex||0,h=a.segmentIndex||0,f=a.properties;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),f=f||i.features[o].properties,r=i.features[o].geometry;break;case"Feature":f=f||i.properties,r=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=i;break;default:throw new Error("geojson is invalid")}if(r===null)return null;var T=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return h<0&&(h=T.length+h-1),v.lineString([T[h],T[h+1]],f,a);case"Polygon":return u<0&&(u=T.length+u),h<0&&(h=T[u].length+h-1),v.lineString([T[u][h],T[u][h+1]],f,a);case"MultiLineString":return l<0&&(l=T.length+l),h<0&&(h=T[l].length+h-1),v.lineString([T[l][h],T[l][h+1]],f,a);case"MultiPolygon":return l<0&&(l=T.length+l),u<0&&(u=T[l].length+u),h<0&&(h=T[l][u].length-h-1),v.lineString([T[l][u][h],T[l][u][h+1]],f,a)}throw new Error("geojson is invalid")},S.findPoint=function(i,a){if(a=a||{},!v.isObject(a))throw new Error("options is invalid");var r,o=a.featureIndex||0,l=a.multiFeatureIndex||0,u=a.geometryIndex||0,h=a.coordIndex||0,f=a.properties;switch(i.type){case"FeatureCollection":o<0&&(o=i.features.length+o),f=f||i.features[o].properties,r=i.features[o].geometry;break;case"Feature":f=f||i.properties,r=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=i;break;default:throw new Error("geojson is invalid")}if(r===null)return null;var T=r.coordinates;switch(r.type){case"Point":return v.point(T,f,a);case"MultiPoint":return l<0&&(l=T.length+l),v.point(T[l],f,a);case"LineString":return h<0&&(h=T.length+h),v.point(T[h],f,a);case"Polygon":return u<0&&(u=T.length+u),h<0&&(h=T[u].length+h),v.point(T[u][h],f,a);case"MultiLineString":return l<0&&(l=T.length+l),h<0&&(h=T[l].length+h),v.point(T[l][h],f,a);case"MultiPolygon":return l<0&&(l=T.length+l),u<0&&(u=T[l].length+u),h<0&&(h=T[l][u].length-h),v.point(T[l][u][h],f,a)}throw new Error("geojson is invalid")}},49972:function(O){O.exports=function(S){var e=0,v=0,x=0,t=0;return S.map(function(b){var g=(b=b.slice())[0],c=g.toUpperCase();if(g!=c)switch(b[0]=c,g){case"a":b[6]+=x,b[7]+=t;break;case"v":b[1]+=t;break;case"h":b[1]+=x;break;default:for(var s=1;s<b.length;)b[s++]+=x,b[s++]+=t}switch(c){case"Z":x=e,t=v;break;case"H":x=b[1];break;case"V":t=b[1];break;case"M":x=e=b[1],t=v=b[2];break;default:x=b[b.length-2],t=b[b.length-1]}return b})}},76752:function(O){O.exports=function(S,e){if(!S||S.length==null)throw Error("Argument should be an array");e=e==null?1:Math.floor(e);for(var v=Array(2*e),x=0;x<e;x++){for(var t=-1/0,b=1/0,g=x,c=S.length;g<c;g+=e)S[g]>t&&(t=S[g]),S[g]<b&&(b=S[g]);v[x]=b,v[e+x]=t}return v}},10272:function(O){O.exports=function(S,e,v){if(typeof Array.prototype.findIndex=="function")return S.findIndex(e,v);if(typeof e!="function")throw new TypeError("predicate must be a function");var x=Object(S),t=x.length;if(t===0)return-1;for(var b=0;b<t;b++)if(e.call(v,x[b],b,x))return b;return-1}},71152:function(O,S,e){var v=e(76752);O.exports=function(x,t,b){if(!x||x.length==null)throw Error("Argument should be an array");t==null&&(t=1),b==null&&(b=v(x,t));for(var g=0;g<t;g++){var c=b[t+g],s=b[g],n=g,i=x.length;if(c===1/0&&s===-1/0)for(n=g;n<i;n+=t)x[n]=x[n]===c?1:x[n]===s?0:.5;else if(c===1/0)for(n=g;n<i;n+=t)x[n]=x[n]===c?1:0;else if(s===-1/0)for(n=g;n<i;n+=t)x[n]=x[n]===s?0:1;else{var a=c-s;for(n=g;n<i;n+=t)isNaN(x[n])||(x[n]=a===0?.5:(x[n]-s)/a)}}return x}},67752:function(O){O.exports=function(S,e){var v=typeof S=="number",x=typeof e=="number";v&&!x?(e=S,S=0):v||x||(S=0,e=0);var t=(e|=0)-(S|=0);if(t<0)throw new Error("array length must be positive");for(var b=new Array(t),g=0,c=S;g<t;g++,c++)b[g]=c;return b}},45408:function(O,S,e){var v=e(4168);function x(z){return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},x(z)}var t,b,g=e(86832).codes,c=g.ERR_AMBIGUOUS_ARGUMENT,s=g.ERR_INVALID_ARG_TYPE,n=g.ERR_INVALID_ARG_VALUE,i=g.ERR_INVALID_RETURN_VALUE,a=g.ERR_MISSING_ARGS,r=e(26144),o=e(35840).inspect,l=e(35840).types,u=l.isPromise,h=l.isRegExp,f=Object.assign?Object.assign:e(60964).assign,T=Object.is?Object.is:e(39896);function d(){var z=e(25116);t=z.isDeepEqual,b=z.isDeepStrictEqual}var y=!1,m=O.exports=p,w={};function _(z){throw z.message instanceof Error?z.message:new r(z)}function A(z,V,X,j){if(!X){var H=!1;if(V===0)H=!0,j="No value argument passed to `assert.ok()`";else if(j instanceof Error)throw j;var G=new r({actual:X,expected:!0,message:j,operator:"==",stackStartFn:z});throw G.generatedMessage=H,G}}function p(){for(var z=arguments.length,V=new Array(z),X=0;X<z;X++)V[X]=arguments[X];A.apply(void 0,[p,V.length].concat(V))}m.fail=function z(V,X,j,H,G){var ie,re=arguments.length;if(re===0?ie="Failed":re===1?(j=V,V=void 0):(y===!1&&(y=!0,(v.emitWarning?v.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),re===2&&(H="!=")),j instanceof Error)throw j;var te={actual:V,expected:X,operator:H===void 0?"fail":H,stackStartFn:G||z};j!==void 0&&(te.message=j);var K=new r(te);throw ie&&(K.message=ie,K.generatedMessage=!0),K},m.AssertionError=r,m.ok=p,m.equal=function z(V,X,j){if(arguments.length<2)throw new a("actual","expected");V!=X&&_({actual:V,expected:X,message:j,operator:"==",stackStartFn:z})},m.notEqual=function z(V,X,j){if(arguments.length<2)throw new a("actual","expected");V==X&&_({actual:V,expected:X,message:j,operator:"!=",stackStartFn:z})},m.deepEqual=function z(V,X,j){if(arguments.length<2)throw new a("actual","expected");t===void 0&&d(),t(V,X)||_({actual:V,expected:X,message:j,operator:"deepEqual",stackStartFn:z})},m.notDeepEqual=function z(V,X,j){if(arguments.length<2)throw new a("actual","expected");t===void 0&&d(),t(V,X)&&_({actual:V,expected:X,message:j,operator:"notDeepEqual",stackStartFn:z})},m.deepStrictEqual=function z(V,X,j){if(arguments.length<2)throw new a("actual","expected");t===void 0&&d(),b(V,X)||_({actual:V,expected:X,message:j,operator:"deepStrictEqual",stackStartFn:z})},m.notDeepStrictEqual=function z(V,X,j){if(arguments.length<2)throw new a("actual","expected");t===void 0&&d(),b(V,X)&&_({actual:V,expected:X,message:j,operator:"notDeepStrictEqual",stackStartFn:z})},m.strictEqual=function z(V,X,j){if(arguments.length<2)throw new a("actual","expected");T(V,X)||_({actual:V,expected:X,message:j,operator:"strictEqual",stackStartFn:z})},m.notStrictEqual=function z(V,X,j){if(arguments.length<2)throw new a("actual","expected");T(V,X)&&_({actual:V,expected:X,message:j,operator:"notStrictEqual",stackStartFn:z})};var L=function z(V,X,j){var H=this;(function(G,ie){if(!(G instanceof ie))throw new TypeError("Cannot call a class as a function")})(this,z),X.forEach(function(G){G in V&&(j!==void 0&&typeof j[G]=="string"&&h(V[G])&&V[G].test(j[G])?H[G]=j[G]:H[G]=V[G])})};function M(z,V,X,j){if(typeof V!="function"){if(h(V))return V.test(z);if(arguments.length===2)throw new s("expected",["Function","RegExp"],V);if(x(z)!=="object"||z===null){var H=new r({actual:z,expected:V,message:X,operator:"deepStrictEqual",stackStartFn:j});throw H.operator=j.name,H}var G=Object.keys(V);if(V instanceof Error)G.push("name","message");else if(G.length===0)throw new n("error",V,"may not be an empty object");return t===void 0&&d(),G.forEach(function(ie){typeof z[ie]=="string"&&h(V[ie])&&V[ie].test(z[ie])||function(re,te,K,J,$,ae){if(!(K in re)||!b(re[K],te[K])){if(!J){var ue=new L(re,$),ce=new L(te,$,re),de=new r({actual:ue,expected:ce,operator:"deepStrictEqual",stackStartFn:ae});throw de.actual=re,de.expected=te,de.operator=ae.name,de}_({actual:re,expected:te,message:J,operator:ae.name,stackStartFn:ae})}}(z,V,ie,X,G,j)}),!0}return V.prototype!==void 0&&z instanceof V||!Error.isPrototypeOf(V)&&V.call({},z)===!0}function C(z){if(typeof z!="function")throw new s("fn","Function",z);try{z()}catch(V){return V}return w}function R(z){return u(z)||z!==null&&x(z)==="object"&&typeof z.then=="function"&&typeof z.catch=="function"}function I(z){return Promise.resolve().then(function(){var V;if(typeof z=="function"){if(!R(V=z()))throw new i("instance of Promise","promiseFn",V)}else{if(!R(z))throw new s("promiseFn",["Function","Promise"],z);V=z}return Promise.resolve().then(function(){return V}).then(function(){return w}).catch(function(X){return X})})}function D(z,V,X,j){if(typeof X=="string"){if(arguments.length===4)throw new s("error",["Object","Error","Function","RegExp"],X);if(x(V)==="object"&&V!==null){if(V.message===X)throw new c("error/message",'The error message "'.concat(V.message,'" is identical to the message.'))}else if(V===X)throw new c("error/message",'The error "'.concat(V,'" is identical to the message.'));j=X,X=void 0}else if(X!=null&&x(X)!=="object"&&typeof X!="function")throw new s("error",["Object","Error","Function","RegExp"],X);if(V===w){var H="";X&&X.name&&(H+=" (".concat(X.name,")")),H+=j?": ".concat(j):".";var G=z.name==="rejects"?"rejection":"exception";_({actual:void 0,expected:X,operator:z.name,message:"Missing expected ".concat(G).concat(H),stackStartFn:z})}if(X&&!M(V,X,j,z))throw V}function F(z,V,X,j){if(V!==w){if(typeof X=="string"&&(j=X,X=void 0),!X||M(V,X)){var H=j?": ".concat(j):".",G=z.name==="doesNotReject"?"rejection":"exception";_({actual:V,expected:X,operator:z.name,message:"Got unwanted ".concat(G).concat(H,`
`)+'Actual message: "'.concat(V&&V.message,'"'),stackStartFn:z})}throw V}}function q(){for(var z=arguments.length,V=new Array(z),X=0;X<z;X++)V[X]=arguments[X];A.apply(void 0,[q,V.length].concat(V))}m.throws=function z(V){for(var X=arguments.length,j=new Array(X>1?X-1:0),H=1;H<X;H++)j[H-1]=arguments[H];D.apply(void 0,[z,C(V)].concat(j))},m.rejects=function z(V){for(var X=arguments.length,j=new Array(X>1?X-1:0),H=1;H<X;H++)j[H-1]=arguments[H];return I(V).then(function(G){return D.apply(void 0,[z,G].concat(j))})},m.doesNotThrow=function z(V){for(var X=arguments.length,j=new Array(X>1?X-1:0),H=1;H<X;H++)j[H-1]=arguments[H];F.apply(void 0,[z,C(V)].concat(j))},m.doesNotReject=function z(V){for(var X=arguments.length,j=new Array(X>1?X-1:0),H=1;H<X;H++)j[H-1]=arguments[H];return I(V).then(function(G){return F.apply(void 0,[z,G].concat(j))})},m.ifError=function z(V){if(V!=null){var X="ifError got unwanted exception: ";x(V)==="object"&&typeof V.message=="string"?V.message.length===0&&V.constructor?X+=V.constructor.name:X+=V.message:X+=o(V);var j=new r({actual:V,expected:null,operator:"ifError",message:X,stackStartFn:z}),H=V.stack;if(typeof H=="string"){var G=H.split(`
`);G.shift();for(var ie=j.stack.split(`
`),re=0;re<G.length;re++){var te=ie.indexOf(G[re]);if(te!==-1){ie=ie.slice(0,te);break}}j.stack="".concat(ie.join(`
`),`
`).concat(G.join(`
`))}throw j}},m.strict=f(q,m,{equal:m.strictEqual,deepEqual:m.deepStrictEqual,notEqual:m.notStrictEqual,notDeepEqual:m.notDeepStrictEqual}),m.strict.strict=m.strict},26144:function(O,S,e){var v=e(4168);function x(_,A,p){return A in _?Object.defineProperty(_,A,{value:p,enumerable:!0,configurable:!0,writable:!0}):_[A]=p,_}function t(_,A){for(var p=0;p<A.length;p++){var L=A[p];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(_,L.key,L)}}function b(_,A){return!A||a(A)!=="object"&&typeof A!="function"?g(_):A}function g(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function c(_){var A=typeof Map=="function"?new Map:void 0;return c=function(p){if(p===null||(L=p,Function.toString.call(L).indexOf("[native code]")===-1))return p;var L;if(typeof p!="function")throw new TypeError("Super expression must either be null or a function");if(A!==void 0){if(A.has(p))return A.get(p);A.set(p,M)}function M(){return s(p,arguments,i(this).constructor)}return M.prototype=Object.create(p.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),n(M,p)},c(_)}function s(_,A,p){return s=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(L,M,C){var R=[null];R.push.apply(R,M);var I=new(Function.bind.apply(L,R));return C&&n(I,C.prototype),I},s.apply(null,arguments)}function n(_,A){return n=Object.setPrototypeOf||function(p,L){return p.__proto__=L,p},n(_,A)}function i(_){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)},i(_)}function a(_){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},a(_)}var r=e(35840).inspect,o=e(86832).codes.ERR_INVALID_ARG_TYPE;function l(_,A,p){return(p===void 0||p>_.length)&&(p=_.length),_.substring(p-A.length,p)===A}var u="",h="",f="",T="",d={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function y(_){var A=Object.keys(_),p=Object.create(Object.getPrototypeOf(_));return A.forEach(function(L){p[L]=_[L]}),Object.defineProperty(p,"message",{value:_.message}),p}function m(_){return r(_,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var w=function(_){function A(M){var C;if(function(ie,re){if(!(ie instanceof re))throw new TypeError("Cannot call a class as a function")}(this,A),a(M)!=="object"||M===null)throw new o("options","Object",M);var R=M.message,I=M.operator,D=M.stackStartFn,F=M.actual,q=M.expected,z=Error.stackTraceLimit;if(Error.stackTraceLimit=0,R!=null)C=b(this,i(A).call(this,String(R)));else if(v.stderr&&v.stderr.isTTY&&(v.stderr&&v.stderr.getColorDepth&&v.stderr.getColorDepth()!==1?(u="\x1B[34m",h="\x1B[32m",T="\x1B[39m",f="\x1B[31m"):(u="",h="",T="",f="")),a(F)==="object"&&F!==null&&a(q)==="object"&&q!==null&&"stack"in F&&F instanceof Error&&"stack"in q&&q instanceof Error&&(F=y(F),q=y(q)),I==="deepStrictEqual"||I==="strictEqual")C=b(this,i(A).call(this,function(ie,re,te){var K="",J="",$=0,ae="",ue=!1,ce=m(ie),de=ce.split(`
`),pe=m(re).split(`
`),me=0,be="";if(te==="strictEqual"&&a(ie)==="object"&&a(re)==="object"&&ie!==null&&re!==null&&(te="strictEqualObject"),de.length===1&&pe.length===1&&de[0]!==pe[0]){var we=de[0].length+pe[0].length;if(we<=10){if(!(a(ie)==="object"&&ie!==null||a(re)==="object"&&re!==null||ie===0&&re===0))return"".concat(d[te],`

`)+"".concat(de[0]," !== ").concat(pe[0],`
`)}else if(te!=="strictEqualObject"&&we<(v.stderr&&v.stderr.isTTY?v.stderr.columns:80)){for(;de[0][me]===pe[0][me];)me++;me>2&&(be=`
  `.concat(function(Fe,Be){if(Be=Math.floor(Be),Fe.length==0||Be==0)return"";var xe=Fe.length*Be;for(Be=Math.floor(Math.log(Be)/Math.log(2));Be;)Fe+=Fe,Be--;return Fe+Fe.substring(0,xe-Fe.length)}(" ",me),"^"),me=0)}}for(var Te=de[de.length-1],Le=pe[pe.length-1];Te===Le&&(me++<2?ae=`
  `.concat(Te).concat(ae):K=Te,de.pop(),pe.pop(),de.length!==0&&pe.length!==0);)Te=de[de.length-1],Le=pe[pe.length-1];var Ie=Math.max(de.length,pe.length);if(Ie===0){var _e=ce.split(`
`);if(_e.length>30)for(_e[26]="".concat(u,"...").concat(T);_e.length>27;)_e.pop();return"".concat(d.notIdentical,`

`).concat(_e.join(`
`),`
`)}me>3&&(ae=`
`.concat(u,"...").concat(T).concat(ae),ue=!0),K!==""&&(ae=`
  `.concat(K).concat(ae),K="");var fe=0,le=d[te]+`
`.concat(h,"+ actual").concat(T," ").concat(f,"- expected").concat(T),ye=" ".concat(u,"...").concat(T," Lines skipped");for(me=0;me<Ie;me++){var Oe=me-$;if(de.length<me+1)Oe>1&&me>2&&(Oe>4?(J+=`
`.concat(u,"...").concat(T),ue=!0):Oe>3&&(J+=`
  `.concat(pe[me-2]),fe++),J+=`
  `.concat(pe[me-1]),fe++),$=me,K+=`
`.concat(f,"-").concat(T," ").concat(pe[me]),fe++;else if(pe.length<me+1)Oe>1&&me>2&&(Oe>4?(J+=`
`.concat(u,"...").concat(T),ue=!0):Oe>3&&(J+=`
  `.concat(de[me-2]),fe++),J+=`
  `.concat(de[me-1]),fe++),$=me,J+=`
`.concat(h,"+").concat(T," ").concat(de[me]),fe++;else{var Ae=pe[me],Se=de[me],Pe=Se!==Ae&&(!l(Se,",")||Se.slice(0,-1)!==Ae);Pe&&l(Ae,",")&&Ae.slice(0,-1)===Se&&(Pe=!1,Se+=","),Pe?(Oe>1&&me>2&&(Oe>4?(J+=`
`.concat(u,"...").concat(T),ue=!0):Oe>3&&(J+=`
  `.concat(de[me-2]),fe++),J+=`
  `.concat(de[me-1]),fe++),$=me,J+=`
`.concat(h,"+").concat(T," ").concat(Se),K+=`
`.concat(f,"-").concat(T," ").concat(Ae),fe+=2):(J+=K,K="",Oe!==1&&me!==0||(J+=`
  `.concat(Se),fe++))}if(fe>20&&me<Ie-2)return"".concat(le).concat(ye,`
`).concat(J,`
`).concat(u,"...").concat(T).concat(K,`
`)+"".concat(u,"...").concat(T)}return"".concat(le).concat(ue?ye:"",`
`).concat(J).concat(K).concat(ae).concat(be)}(F,q,I)));else if(I==="notDeepStrictEqual"||I==="notStrictEqual"){var V=d[I],X=m(F).split(`
`);if(I==="notStrictEqual"&&a(F)==="object"&&F!==null&&(V=d.notStrictEqualObject),X.length>30)for(X[26]="".concat(u,"...").concat(T);X.length>27;)X.pop();C=X.length===1?b(this,i(A).call(this,"".concat(V," ").concat(X[0]))):b(this,i(A).call(this,"".concat(V,`

`).concat(X.join(`
`),`
`)))}else{var j=m(F),H="",G=d[I];I==="notDeepEqual"||I==="notEqual"?(j="".concat(d[I],`

`).concat(j)).length>1024&&(j="".concat(j.slice(0,1021),"...")):(H="".concat(m(q)),j.length>512&&(j="".concat(j.slice(0,509),"...")),H.length>512&&(H="".concat(H.slice(0,509),"...")),I==="deepEqual"||I==="equal"?j="".concat(G,`

`).concat(j,`

should equal

`):H=" ".concat(I," ").concat(H)),C=b(this,i(A).call(this,"".concat(j).concat(H)))}return Error.stackTraceLimit=z,C.generatedMessage=!R,Object.defineProperty(g(C),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),C.code="ERR_ASSERTION",C.actual=F,C.expected=q,C.operator=I,Error.captureStackTrace&&Error.captureStackTrace(g(C),D),C.stack,C.name="AssertionError",b(C)}var p,L;return function(M,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(C&&C.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),C&&n(M,C)}(A,_),p=A,L=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:r.custom,value:function(M,C){return r(this,function(R){for(var I=1;I<arguments.length;I++){var D=arguments[I]!=null?arguments[I]:{},F=Object.keys(D);typeof Object.getOwnPropertySymbols=="function"&&(F=F.concat(Object.getOwnPropertySymbols(D).filter(function(q){return Object.getOwnPropertyDescriptor(D,q).enumerable}))),F.forEach(function(q){x(R,q,D[q])})}return R}({},C,{customInspect:!1,depth:0}))}}],L&&t(p.prototype,L),A}(c(Error));O.exports=w},86832:function(O,S,e){function v(i){return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},v(i)}function x(i){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},x(i)}function t(i,a){return t=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},t(i,a)}var b,g,c={};function s(i,a,r){r||(r=Error);var o=function(l){function u(h,f,T){var d;return function(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}(this,u),d=function(y,m){return!m||v(m)!=="object"&&typeof m!="function"?function(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}(y):m}(this,x(u).call(this,function(y,m,w){return typeof a=="string"?a:a(y,m,w)}(h,f,T))),d.code=i,d}return function(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),f&&t(h,f)}(u,l),u}(r);c[i]=o}function n(i,a){if(Array.isArray(i)){var r=i.length;return i=i.map(function(o){return String(o)}),r>2?"one of ".concat(a," ").concat(i.slice(0,r-1).join(", "),", or ")+i[r-1]:r===2?"one of ".concat(a," ").concat(i[0]," or ").concat(i[1]):"of ".concat(a," ").concat(i[0])}return"of ".concat(a," ").concat(String(i))}s("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),s("ERR_INVALID_ARG_TYPE",function(i,a,r){var o,l,u,h,f;if(b===void 0&&(b=e(45408)),b(typeof i=="string","'name' must be a string"),typeof a=="string"&&(l="not ",a.substr(0,4)===l)?(o="must not be",a=a.replace(/^not /,"")):o="must be",function(d,y,m){return(m===void 0||m>d.length)&&(m=d.length),d.substring(m-9,m)===y}(i," argument"))u="The ".concat(i," ").concat(o," ").concat(n(a,"type"));else{var T=(typeof f!="number"&&(f=0),f+1>(h=i).length||h.indexOf(".",f)===-1?"argument":"property");u='The "'.concat(i,'" ').concat(T," ").concat(o," ").concat(n(a,"type"))}return u+". Received type ".concat(v(r))},TypeError),s("ERR_INVALID_ARG_VALUE",function(i,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";g===void 0&&(g=e(35840));var o=g.inspect(a);return o.length>128&&(o="".concat(o.slice(0,128),"...")),"The argument '".concat(i,"' ").concat(r,". Received ").concat(o)},TypeError),s("ERR_INVALID_RETURN_VALUE",function(i,a,r){var o;return o=r&&r.constructor&&r.constructor.name?"instance of ".concat(r.constructor.name):"type ".concat(v(r)),"Expected ".concat(i,' to be returned from the "').concat(a,'"')+" function but got ".concat(o,".")},TypeError),s("ERR_MISSING_ARGS",function(){for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];b===void 0&&(b=e(45408)),b(a.length>0,"At least one arg needs to be specified");var o="The ",l=a.length;switch(a=a.map(function(u){return'"'.concat(u,'"')}),l){case 1:o+="".concat(a[0]," argument");break;case 2:o+="".concat(a[0]," and ").concat(a[1]," arguments");break;default:o+=a.slice(0,l-1).join(", "),o+=", and ".concat(a[l-1]," arguments")}return"".concat(o," must be specified")},TypeError),O.exports.codes=c},25116:function(O,S,e){function v($,ae){return function(ue){if(Array.isArray(ue))return ue}($)||function(ue,ce){var de=[],pe=!0,me=!1,be=void 0;try{for(var we,Te=ue[Symbol.iterator]();!(pe=(we=Te.next()).done)&&(de.push(we.value),!ce||de.length!==ce);pe=!0);}catch(Le){me=!0,be=Le}finally{try{pe||Te.return==null||Te.return()}finally{if(me)throw be}}return de}($,ae)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function x($){return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ae){return typeof ae}:function(ae){return ae&&typeof Symbol=="function"&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae},x($)}var t=/a/g.flags!==void 0,b=function($){var ae=[];return $.forEach(function(ue){return ae.push(ue)}),ae},g=function($){var ae=[];return $.forEach(function(ue,ce){return ae.push([ce,ue])}),ae},c=Object.is?Object.is:e(39896),s=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},n=Number.isNaN?Number.isNaN:e(1560);function i($){return $.call.bind($)}var a=i(Object.prototype.hasOwnProperty),r=i(Object.prototype.propertyIsEnumerable),o=i(Object.prototype.toString),l=e(35840).types,u=l.isAnyArrayBuffer,h=l.isArrayBufferView,f=l.isDate,T=l.isMap,d=l.isRegExp,y=l.isSet,m=l.isNativeError,w=l.isBoxedPrimitive,_=l.isNumberObject,A=l.isStringObject,p=l.isBooleanObject,L=l.isBigIntObject,M=l.isSymbolObject,C=l.isFloat32Array,R=l.isFloat64Array;function I($){if($.length===0||$.length>10)return!0;for(var ae=0;ae<$.length;ae++){var ue=$.charCodeAt(ae);if(ue<48||ue>57)return!0}return $.length===10&&$>=Math.pow(2,32)}function D($){return Object.keys($).filter(I).concat(s($).filter(Object.prototype.propertyIsEnumerable.bind($)))}function F($,ae){if($===ae)return 0;for(var ue=$.length,ce=ae.length,de=0,pe=Math.min(ue,ce);de<pe;++de)if($[de]!==ae[de]){ue=$[de],ce=ae[de];break}return ue<ce?-1:ce<ue?1:0}var q=0,z=1,V=2,X=3;function j($,ae,ue,ce){if($===ae)return $!==0||!ue||c($,ae);if(ue){if(x($)!=="object")return typeof $=="number"&&n($)&&n(ae);if(x(ae)!=="object"||$===null||ae===null||Object.getPrototypeOf($)!==Object.getPrototypeOf(ae))return!1}else{if($===null||x($)!=="object")return(ae===null||x(ae)!=="object")&&$==ae;if(ae===null||x(ae)!=="object")return!1}var de,pe,me,be,we=o($);if(we!==o(ae))return!1;if(Array.isArray($)){if($.length!==ae.length)return!1;var Te=D($),Le=D(ae);return Te.length===Le.length&&G($,ae,ue,ce,z,Te)}if(we==="[object Object]"&&(!T($)&&T(ae)||!y($)&&y(ae)))return!1;if(f($)){if(!f(ae)||Date.prototype.getTime.call($)!==Date.prototype.getTime.call(ae))return!1}else if(d($)){if(!d(ae)||(me=$,be=ae,!(t?me.source===be.source&&me.flags===be.flags:RegExp.prototype.toString.call(me)===RegExp.prototype.toString.call(be))))return!1}else if(m($)||$ instanceof Error){if($.message!==ae.message||$.name!==ae.name)return!1}else{if(h($)){if(ue||!C($)&&!R($)){if(!function(fe,le){return fe.byteLength===le.byteLength&&F(new Uint8Array(fe.buffer,fe.byteOffset,fe.byteLength),new Uint8Array(le.buffer,le.byteOffset,le.byteLength))===0}($,ae))return!1}else if(!function(fe,le){if(fe.byteLength!==le.byteLength)return!1;for(var ye=0;ye<fe.byteLength;ye++)if(fe[ye]!==le[ye])return!1;return!0}($,ae))return!1;var Ie=D($),_e=D(ae);return Ie.length===_e.length&&G($,ae,ue,ce,q,Ie)}if(y($))return!(!y(ae)||$.size!==ae.size)&&G($,ae,ue,ce,V);if(T($))return!(!T(ae)||$.size!==ae.size)&&G($,ae,ue,ce,X);if(u($)){if(pe=ae,(de=$).byteLength!==pe.byteLength||F(new Uint8Array(de),new Uint8Array(pe))!==0)return!1}else if(w($)&&!function(fe,le){return _(fe)?_(le)&&c(Number.prototype.valueOf.call(fe),Number.prototype.valueOf.call(le)):A(fe)?A(le)&&String.prototype.valueOf.call(fe)===String.prototype.valueOf.call(le):p(fe)?p(le)&&Boolean.prototype.valueOf.call(fe)===Boolean.prototype.valueOf.call(le):L(fe)?L(le)&&BigInt.prototype.valueOf.call(fe)===BigInt.prototype.valueOf.call(le):M(le)&&Symbol.prototype.valueOf.call(fe)===Symbol.prototype.valueOf.call(le)}($,ae))return!1}return G($,ae,ue,ce,q)}function H($,ae){return ae.filter(function(ue){return r($,ue)})}function G($,ae,ue,ce,de,pe){if(arguments.length===5){pe=Object.keys($);var me=Object.keys(ae);if(pe.length!==me.length)return!1}for(var be=0;be<pe.length;be++)if(!a(ae,pe[be]))return!1;if(ue&&arguments.length===5){var we=s($);if(we.length!==0){var Te=0;for(be=0;be<we.length;be++){var Le=we[be];if(r($,Le)){if(!r(ae,Le))return!1;pe.push(Le),Te++}else if(r(ae,Le))return!1}var Ie=s(ae);if(we.length!==Ie.length&&H(ae,Ie).length!==Te)return!1}else{var _e=s(ae);if(_e.length!==0&&H(ae,_e).length!==0)return!1}}if(pe.length===0&&(de===q||de===z&&$.length===0||$.size===0))return!0;if(ce===void 0)ce={val1:new Map,val2:new Map,position:0};else{var fe=ce.val1.get($);if(fe!==void 0){var le=ce.val2.get(ae);if(le!==void 0)return fe===le}ce.position++}ce.val1.set($,ce.position),ce.val2.set(ae,ce.position);var ye=function(Oe,Ae,Se,Pe,Fe,Be){var xe=0;if(Be===V){if(!function(Re,He,Ye,Qe){for(var lt=null,ut=b(Re),xt=0;xt<ut.length;xt++){var _t=ut[xt];if(x(_t)==="object"&&_t!==null)lt===null&&(lt=new Set),lt.add(_t);else if(!He.has(_t)){if(Ye||!te(Re,He,_t))return!1;lt===null&&(lt=new Set),lt.add(_t)}}if(lt!==null){for(var mt=b(He),it=0;it<mt.length;it++){var nt=mt[it];if(x(nt)==="object"&&nt!==null){if(!ie(lt,nt,Ye,Qe))return!1}else if(!Ye&&!Re.has(nt)&&!ie(lt,nt,Ye,Qe))return!1}return lt.size===0}return!0}(Oe,Ae,Se,Fe))return!1}else if(Be===X){if(!function(Re,He,Ye,Qe){for(var lt=null,ut=g(Re),xt=0;xt<ut.length;xt++){var _t=v(ut[xt],2),mt=_t[0],it=_t[1];if(x(mt)==="object"&&mt!==null)lt===null&&(lt=new Set),lt.add(mt);else{var nt=He.get(mt);if(nt===void 0&&!He.has(mt)||!j(it,nt,Ye,Qe)){if(Ye||!K(Re,He,mt,it,Qe))return!1;lt===null&&(lt=new Set),lt.add(mt)}}}if(lt!==null){for(var Et=g(He),zt=0;zt<Et.length;zt++){var Ft=v(Et[zt],2),Pt=(mt=Ft[0],Ft[1]);if(x(mt)==="object"&&mt!==null){if(!J(lt,Re,mt,Pt,Ye,Qe))return!1}else if(!(Ye||Re.has(mt)&&j(Re.get(mt),Pt,!1,Qe)||J(lt,Re,mt,Pt,!1,Qe)))return!1}return lt.size===0}return!0}(Oe,Ae,Se,Fe))return!1}else if(Be===z)for(;xe<Oe.length;xe++){if(!a(Oe,xe)){if(a(Ae,xe))return!1;for(var Me=Object.keys(Oe);xe<Me.length;xe++){var Ce=Me[xe];if(!a(Ae,Ce)||!j(Oe[Ce],Ae[Ce],Se,Fe))return!1}return Me.length===Object.keys(Ae).length}if(!a(Ae,xe)||!j(Oe[xe],Ae[xe],Se,Fe))return!1}for(xe=0;xe<Pe.length;xe++){var Ne=Pe[xe];if(!j(Oe[Ne],Ae[Ne],Se,Fe))return!1}return!0}($,ae,ue,pe,ce,de);return ce.val1.delete($),ce.val2.delete(ae),ye}function ie($,ae,ue,ce){for(var de=b($),pe=0;pe<de.length;pe++){var me=de[pe];if(j(ae,me,ue,ce))return $.delete(me),!0}return!1}function re($){switch(x($)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":$=+$;case"number":if(n($))return!1}return!0}function te($,ae,ue){var ce=re(ue);return ce??(ae.has(ce)&&!$.has(ce))}function K($,ae,ue,ce,de){var pe=re(ue);if(pe!=null)return pe;var me=ae.get(pe);return!(me===void 0&&!ae.has(pe)||!j(ce,me,!1,de))&&!$.has(pe)&&j(ce,me,!1,de)}function J($,ae,ue,ce,de,pe){for(var me=b($),be=0;be<me.length;be++){var we=me[be];if(j(ue,we,de,pe)&&j(ce,ae.get(we),de,pe))return $.delete(we),!0}return!1}O.exports={isDeepEqual:function($,ae){return j($,ae,!1)},isDeepStrictEqual:function($,ae){return j($,ae,!0)}}},83160:function(O,S,e){e.r(S),e.d(S,{decode:function(){return g},encode:function(){return b}});for(var v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x=typeof Uint8Array>"u"?[]:new Uint8Array(256),t=0;t<64;t++)x[v.charCodeAt(t)]=t;var b=function(c){var s,n=new Uint8Array(c),i=n.length,a="";for(s=0;s<i;s+=3)a+=v[n[s]>>2],a+=v[(3&n[s])<<4|n[s+1]>>4],a+=v[(15&n[s+1])<<2|n[s+2]>>6],a+=v[63&n[s+2]];return i%3==2?a=a.substring(0,a.length-1)+"=":i%3==1&&(a=a.substring(0,a.length-2)+"=="),a},g=function(c){var s,n,i,a,r,o=.75*c.length,l=c.length,u=0;c[c.length-1]==="="&&(o--,c[c.length-2]==="="&&o--);var h=new ArrayBuffer(o),f=new Uint8Array(h);for(s=0;s<l;s+=4)n=x[c.charCodeAt(s)],i=x[c.charCodeAt(s+1)],a=x[c.charCodeAt(s+2)],r=x[c.charCodeAt(s+3)],f[u++]=n<<2|i>>4,f[u++]=(15&i)<<4|a>>2,f[u++]=(3&a)<<6|63&r;return h}},59968:function(O,S){S.byteLength=function(s){var n=g(s),i=n[0],a=n[1];return 3*(i+a)/4-a},S.toByteArray=function(s){var n,i,a=g(s),r=a[0],o=a[1],l=new x(function(f,T,d){return 3*(T+d)/4-d}(0,r,o)),u=0,h=o>0?r-4:r;for(i=0;i<h;i+=4)n=v[s.charCodeAt(i)]<<18|v[s.charCodeAt(i+1)]<<12|v[s.charCodeAt(i+2)]<<6|v[s.charCodeAt(i+3)],l[u++]=n>>16&255,l[u++]=n>>8&255,l[u++]=255&n;return o===2&&(n=v[s.charCodeAt(i)]<<2|v[s.charCodeAt(i+1)]>>4,l[u++]=255&n),o===1&&(n=v[s.charCodeAt(i)]<<10|v[s.charCodeAt(i+1)]<<4|v[s.charCodeAt(i+2)]>>2,l[u++]=n>>8&255,l[u++]=255&n),l},S.fromByteArray=function(s){for(var n,i=s.length,a=i%3,r=[],o=16383,l=0,u=i-a;l<u;l+=o)r.push(c(s,l,l+o>u?u:l+o));return a===1?(n=s[i-1],r.push(e[n>>2]+e[n<<4&63]+"==")):a===2&&(n=(s[i-2]<<8)+s[i-1],r.push(e[n>>10]+e[n>>4&63]+e[n<<2&63]+"=")),r.join("")};for(var e=[],v=[],x=typeof Uint8Array<"u"?Uint8Array:Array,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=0;b<64;++b)e[b]=t[b],v[t.charCodeAt(b)]=b;function g(s){var n=s.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=s.indexOf("=");return i===-1&&(i=n),[i,i===n?0:4-i%4]}function c(s,n,i){for(var a,r,o=[],l=n;l<i;l+=3)a=(s[l]<<16&16711680)+(s[l+1]<<8&65280)+(255&s[l+2]),o.push(e[(r=a)>>18&63]+e[r>>12&63]+e[r>>6&63]+e[63&r]);return o.join("")}v[45]=62,v[95]=63},64928:function(O){function S(g,c,s,n,i){for(var a=i+1;n<=i;){var r=n+i>>>1,o=g[r];(s!==void 0?s(o,c):o-c)>=0?(a=r,i=r-1):n=r+1}return a}function e(g,c,s,n,i){for(var a=i+1;n<=i;){var r=n+i>>>1,o=g[r];(s!==void 0?s(o,c):o-c)>0?(a=r,i=r-1):n=r+1}return a}function v(g,c,s,n,i){for(var a=n-1;n<=i;){var r=n+i>>>1,o=g[r];(s!==void 0?s(o,c):o-c)<0?(a=r,n=r+1):i=r-1}return a}function x(g,c,s,n,i){for(var a=n-1;n<=i;){var r=n+i>>>1,o=g[r];(s!==void 0?s(o,c):o-c)<=0?(a=r,n=r+1):i=r-1}return a}function t(g,c,s,n,i){for(;n<=i;){var a=n+i>>>1,r=g[a],o=s!==void 0?s(r,c):r-c;if(o===0)return a;o<=0?n=a+1:i=a-1}return-1}function b(g,c,s,n,i,a){return typeof s=="function"?a(g,c,s,n===void 0?0:0|n,i===void 0?g.length-1:0|i):a(g,c,void 0,s===void 0?0:0|s,n===void 0?g.length-1:0|n)}O.exports={ge:function(g,c,s,n,i){return b(g,c,s,n,i,S)},gt:function(g,c,s,n,i){return b(g,c,s,n,i,e)},lt:function(g,c,s,n,i){return b(g,c,s,n,i,v)},le:function(g,c,s,n,i){return b(g,c,s,n,i,x)},eq:function(g,c,s,n,i){return b(g,c,s,n,i,t)}}},308:function(O,S){function e(x){var t=32;return(x&=-x)&&t--,65535&x&&(t-=16),16711935&x&&(t-=8),252645135&x&&(t-=4),858993459&x&&(t-=2),1431655765&x&&(t-=1),t}S.INT_BITS=32,S.INT_MAX=2147483647,S.INT_MIN=-2147483648,S.sign=function(x){return(x>0)-(x<0)},S.abs=function(x){var t=x>>31;return(x^t)-t},S.min=function(x,t){return t^(x^t)&-(x<t)},S.max=function(x,t){return x^(x^t)&-(x<t)},S.isPow2=function(x){return!(x&x-1||!x)},S.log2=function(x){var t,b;return t=(x>65535)<<4,t|=b=((x>>>=t)>255)<<3,t|=b=((x>>>=b)>15)<<2,(t|=b=((x>>>=b)>3)<<1)|(x>>>=b)>>1},S.log10=function(x){return x>=1e9?9:x>=1e8?8:x>=1e7?7:x>=1e6?6:x>=1e5?5:x>=1e4?4:x>=1e3?3:x>=100?2:x>=10?1:0},S.popCount=function(x){return 16843009*((x=(858993459&(x-=x>>>1&1431655765))+(x>>>2&858993459))+(x>>>4)&252645135)>>>24},S.countTrailingZeros=e,S.nextPow2=function(x){return x+=x===0,--x,x|=x>>>1,x|=x>>>2,x|=x>>>4,x|=x>>>8,1+(x|=x>>>16)},S.prevPow2=function(x){return x|=x>>>1,x|=x>>>2,x|=x>>>4,x|=x>>>8,(x|=x>>>16)-(x>>>1)},S.parity=function(x){return x^=x>>>16,x^=x>>>8,x^=x>>>4,27030>>>(x&=15)&1};var v=new Array(256);(function(x){for(var t=0;t<256;++t){var b=t,g=t,c=7;for(b>>>=1;b;b>>>=1)g<<=1,g|=1&b,--c;x[t]=g<<c&255}})(v),S.reverse=function(x){return v[255&x]<<24|v[x>>>8&255]<<16|v[x>>>16&255]<<8|v[x>>>24&255]},S.interleave2=function(x,t){return(x=1431655765&((x=858993459&((x=252645135&((x=16711935&((x&=65535)|x<<8))|x<<4))|x<<2))|x<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},S.deinterleave2=function(x,t){return(x=65535&((x=16711935&((x=252645135&((x=858993459&((x=x>>>t&1431655765)|x>>>1))|x>>>2))|x>>>4))|x>>>16))<<16>>16},S.interleave3=function(x,t,b){return x=1227133513&((x=3272356035&((x=251719695&((x=4278190335&((x&=1023)|x<<16))|x<<8))|x<<4))|x<<2),(x|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(b=1227133513&((b=3272356035&((b=251719695&((b=4278190335&((b&=1023)|b<<16))|b<<8))|b<<4))|b<<2))<<2},S.deinterleave3=function(x,t){return(x=1023&((x=4278190335&((x=251719695&((x=3272356035&((x=x>>>t&1227133513)|x>>>2))|x>>>4))|x>>>8))|x>>>16))<<22>>22},S.nextCombination=function(x){var t=x|x-1;return t+1|(~t&-~t)-1>>>e(x)+1}},29620:function(O,S,e){var v=e(32420);O.exports=function(g,c){c||(c={});var s,n,i,a,r,o,l,u,h,f,T,d=c.cutoff==null?.25:c.cutoff,y=c.radius==null?8:c.radius,m=c.channel||0;if(ArrayBuffer.isView(g)||Array.isArray(g)){if(!c.width||!c.height)throw Error("For raw data width and height should be provided by options");s=c.width,n=c.height,a=g,o=c.stride?c.stride:Math.floor(g.length/s/n)}else window.HTMLCanvasElement&&g instanceof window.HTMLCanvasElement?(l=(u=g).getContext("2d"),s=u.width,n=u.height,a=(h=l.getImageData(0,0,s,n)).data,o=4):window.CanvasRenderingContext2D&&g instanceof window.CanvasRenderingContext2D?(l=g,s=(u=g.canvas).width,n=u.height,a=(h=l.getImageData(0,0,s,n)).data,o=4):window.ImageData&&g instanceof window.ImageData&&(h=g,s=g.width,n=g.height,a=h.data,o=4);if(i=Math.max(s,n),window.Uint8ClampedArray&&a instanceof window.Uint8ClampedArray||window.Uint8Array&&a instanceof window.Uint8Array)for(r=a,a=Array(s*n),f=0,T=r.length;f<T;f++)a[f]=r[f*o+m]/255;else if(o!==1)throw Error("Raw data can have only 1 value per pixel");var w=Array(s*n),_=Array(s*n),A=Array(i),p=Array(i),L=Array(i+1),M=Array(i);for(f=0,T=s*n;f<T;f++){var C=a[f];w[f]=C===1?0:C===0?x:Math.pow(Math.max(0,.5-C),2),_[f]=C===1?x:C===0?0:Math.pow(Math.max(0,C-.5),2)}t(w,s,n,A,p,M,L),t(_,s,n,A,p,M,L);var R=window.Float32Array?new Float32Array(s*n):new Array(s*n);for(f=0,T=s*n;f<T;f++)R[f]=v(1-((w[f]-_[f])/y+d),0,1);return R};var x=1e20;function t(g,c,s,n,i,a,r){for(var o=0;o<c;o++){for(var l=0;l<s;l++)n[l]=g[l*c+o];for(b(n,i,a,r,s),l=0;l<s;l++)g[l*c+o]=i[l]}for(l=0;l<s;l++){for(o=0;o<c;o++)n[o]=g[l*c+o];for(b(n,i,a,r,c),o=0;o<c;o++)g[l*c+o]=Math.sqrt(i[o])}}function b(g,c,s,n,i){s[0]=0,n[0]=-x,n[1]=+x;for(var a=1,r=0;a<i;a++){for(var o=(g[a]+a*a-(g[s[r]]+s[r]*s[r]))/(2*a-2*s[r]);o<=n[r];)r--,o=(g[a]+a*a-(g[s[r]]+s[r]*s[r]))/(2*a-2*s[r]);s[++r]=a,n[r]=o,n[r+1]=+x}for(a=0,r=0;a<i;a++){for(;n[r+1]<a;)r++;c[a]=(a-s[r])*(a-s[r])+g[s[r]]}}},99676:function(O,S,e){var v=e(53664),x=e(57916),t=x(v("String.prototype.indexOf"));O.exports=function(b,g){var c=v(b,!!g);return typeof c=="function"&&t(b,".prototype.")>-1?x(c):c}},57916:function(O,S,e){var v=e(8844),x=e(53664),t=e(14500),b=x("%TypeError%"),g=x("%Function.prototype.apply%"),c=x("%Function.prototype.call%"),s=x("%Reflect.apply%",!0)||v.call(c,g),n=x("%Object.defineProperty%",!0),i=x("%Math.max%");if(n)try{n({},"a",{value:1})}catch{n=null}O.exports=function(r){if(typeof r!="function")throw new b("a function is required");var o=s(v,c,arguments);return t(o,1+i(0,r.length-(arguments.length-1)),!0)};var a=function(){return s(v,g,arguments)};n?n(O.exports,"apply",{value:a}):O.exports.apply=a},32420:function(O){O.exports=function(S,e,v){return e<v?S<e?e:S>v?v:S:S<v?v:S>e?e:S}},3808:function(O,S,e){var v=e(32420);function x(t,b){b==null&&(b=!0);var g=t[0],c=t[1],s=t[2],n=t[3];return n==null&&(n=b?1:255),b&&(g*=255,c*=255,s*=255,n*=255),16777216*(g=255&v(g,0,255))+((c=255&v(c,0,255))<<16)+((s=255&v(s,0,255))<<8)+(255&v(n,0,255))}O.exports=x,O.exports.to=x,O.exports.from=function(t,b){var g=(t=+t)>>>24,c=(16711680&t)>>>16,s=(65280&t)>>>8,n=255&t;return b===!1?[g,c,s,n]:[g/255,c/255,s/255,n/255]}},17592:function(O){O.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},72160:function(O,S,e){var v=e(96824),x=e(32420),t=e(72512);O.exports=function(b,g){g!=="float"&&g||(g="array"),g==="uint"&&(g="uint8"),g==="uint_clamped"&&(g="uint8_clamped");var c=new(t(g))(4),s=g!=="uint8"&&g!=="uint8_clamped";return b.length&&typeof b!="string"||((b=v(b))[0]/=255,b[1]/=255,b[2]/=255),function(n){return n instanceof Uint8Array||n instanceof Uint8ClampedArray||!!(Array.isArray(n)&&(n[0]>1||n[0]===0)&&(n[1]>1||n[1]===0)&&(n[2]>1||n[2]===0)&&(!n[3]||n[3]>1))}(b)?(c[0]=b[0],c[1]=b[1],c[2]=b[2],c[3]=b[3]!=null?b[3]:255,s&&(c[0]/=255,c[1]/=255,c[2]/=255,c[3]/=255),c):(s?(c[0]=b[0],c[1]=b[1],c[2]=b[2],c[3]=b[3]!=null?b[3]:1):(c[0]=x(Math.floor(255*b[0]),0,255),c[1]=x(Math.floor(255*b[1]),0,255),c[2]=x(Math.floor(255*b[2]),0,255),c[3]=b[3]==null?255:x(Math.floor(255*b[3]),0,255)),c)}},96824:function(O,S,e){var v=e(95532),x=e(53576),t=e(32420);O.exports=function(b){var g,c=v(b);return c.space?((g=Array(3))[0]=t(c.values[0],0,255),g[1]=t(c.values[1],0,255),g[2]=t(c.values[2],0,255),c.space[0]==="h"&&(g=x.rgb(g)),g.push(t(c.alpha,0,1)),g):[]}},95532:function(O,S,e){var v=e(17592);O.exports=function(t){var b,g,c=[],s=1;if(typeof t=="string")if(t=t.toLowerCase(),v[t])c=v[t].slice(),g="rgb";else if(t==="transparent")s=0,g="rgb",c=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(t)){var n=t.slice(1);s=1,(r=n.length)<=4?(c=[parseInt(n[0]+n[0],16),parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16)],r===4&&(s=parseInt(n[3]+n[3],16)/255)):(c=[parseInt(n[0]+n[1],16),parseInt(n[2]+n[3],16),parseInt(n[4]+n[5],16)],r===8&&(s=parseInt(n[6]+n[7],16)/255)),c[0]||(c[0]=0),c[1]||(c[1]=0),c[2]||(c[2]=0),g="rgb"}else if(b=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(t)){var i=b[1],a=i==="rgb";g=n=i.replace(/a$/,"");var r=n==="cmyk"?4:n==="gray"?1:3;c=b[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(o,l){if(/%$/.test(o))return l===r?parseFloat(o)/100:n==="rgb"?255*parseFloat(o)/100:parseFloat(o);if(n[l]==="h"){if(/deg$/.test(o))return parseFloat(o);if(x[o]!==void 0)return x[o]}return parseFloat(o)}),i===n&&c.push(1),s=a||c[r]===void 0?1:c[r],c=c.slice(0,r)}else t.length>10&&/[0-9](?:\s|\/)/.test(t)&&(c=t.match(/([0-9]+)/g).map(function(o){return parseFloat(o)}),g=t.match(/([a-z])/gi).join("").toLowerCase());else isNaN(t)?Array.isArray(t)||t.length?(c=[t[0],t[1],t[2]],g="rgb",s=t.length===4?t[3]:1):t instanceof Object&&(t.r!=null||t.red!=null||t.R!=null?(g="rgb",c=[t.r||t.red||t.R||0,t.g||t.green||t.G||0,t.b||t.blue||t.B||0]):(g="hsl",c=[t.h||t.hue||t.H||0,t.s||t.saturation||t.S||0,t.l||t.lightness||t.L||t.b||t.brightness]),s=t.a||t.alpha||t.opacity||1,t.opacity!=null&&(s/=100)):(g="rgb",c=[t>>>16,(65280&t)>>>8,255&t]);return{space:g,values:c,alpha:s}};var x={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}},53576:function(O,S,e){var v=e(19336);O.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(x){var t,b,g,c,s,n=x[0]/360,i=x[1]/100,a=x[2]/100;if(i===0)return[s=255*a,s,s];t=2*a-(b=a<.5?a*(1+i):a+i-a*i),c=[0,0,0];for(var r=0;r<3;r++)(g=n+.3333333333333333*-(r-1))<0?g++:g>1&&g--,s=6*g<1?t+6*(b-t)*g:2*g<1?b:3*g<2?t+(b-t)*(.6666666666666666-g)*6:t,c[r]=255*s;return c}},v.hsl=function(x){var t,b,g=x[0]/255,c=x[1]/255,s=x[2]/255,n=Math.min(g,c,s),i=Math.max(g,c,s),a=i-n;return i===n?t=0:g===i?t=(c-s)/a:c===i?t=2+(s-g)/a:s===i&&(t=4+(g-c)/a),(t=Math.min(60*t,360))<0&&(t+=360),b=(n+i)/2,[t,100*(i===n?0:b<=.5?a/(i+n):a/(2-i-n)),100*b]}},19336:function(O){O.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},36116:function(O){O.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|)o.?tom(e|)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},42771:function(O,S,e){O.exports={parse:e(46416),stringify:e(49395)}},8744:function(O,S,e){var v=e(30584);O.exports={isSize:function(x){return/^[\d\.]/.test(x)||x.indexOf("/")!==-1||v.indexOf(x)!==-1}}},46416:function(O,S,e){var v=e(92384),x=e(68194),t=e(3748),b=e(2904),g=e(47916),c=e(7294),s=e(39956),n=e(8744).isSize;O.exports=a;var i=a.cache={};function a(o){if(typeof o!="string")throw new Error("Font argument must be a string.");if(i[o])return i[o];if(o==="")throw new Error("Cannot parse an empty string.");if(t.indexOf(o)!==-1)return i[o]={system:o};for(var l,u={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},h=s(o,/\s+/);l=h.shift();){if(x.indexOf(l)!==-1)return["style","variant","weight","stretch"].forEach(function(T){u[T]=l}),i[o]=u;if(g.indexOf(l)===-1)if(l!=="normal"&&l!=="small-caps")if(c.indexOf(l)===-1){if(b.indexOf(l)===-1){if(n(l)){var f=s(l,"/");if(u.size=f[0],f[1]!=null?u.lineHeight=r(f[1]):h[0]==="/"&&(h.shift(),u.lineHeight=r(h.shift())),!h.length)throw new Error("Missing required font-family.");return u.family=s(h.join(" "),/\s*,\s*/).map(v),i[o]=u}throw new Error("Unknown or unsupported font token: "+l)}u.weight=l}else u.stretch=l;else u.variant=l;else u.style=l}throw new Error("Missing required font-size.")}function r(o){var l=parseFloat(o);return l.toString()===o?l:o}},49395:function(O,S,e){var v=e(55616),x=e(8744).isSize,t=o(e(68194)),b=o(e(3748)),g=o(e(2904)),c=o(e(47916)),s=o(e(7294)),n={normal:1,"small-caps":1},i={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},a="serif";function r(l,u){if(l&&!u[l]&&!t[l])throw Error("Unknown keyword `"+l+"`");return l}function o(l){for(var u={},h=0;h<l.length;h++)u[l[h]]=1;return u}O.exports=function(l){if((l=v(l,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"})).system)return l.system&&r(l.system,b),l.system;if(r(l.style,c),r(l.variant,n),r(l.weight,g),r(l.stretch,s),l.size==null&&(l.size="1rem"),typeof l.size=="number"&&(l.size+="px"),!x)throw Error("Bad size value `"+l.size+"`");l.family||(l.family=a),Array.isArray(l.family)&&(l.family.length||(l.family=[a]),l.family=l.family.map(function(h){return i[h]?h:'"'+h+'"'}).join(", "));var u=[];return u.push(l.style),l.variant!==l.style&&u.push(l.variant),l.weight!==l.variant&&l.weight!==l.style&&u.push(l.weight),l.stretch!==l.weight&&l.stretch!==l.variant&&l.stretch!==l.style&&u.push(l.stretch),u.push(l.size+(l.lineHeight==null||l.lineHeight==="normal"||l.lineHeight+""=="1"?"":"/"+l.lineHeight)),u.push(l.family),u.filter(Boolean).join(" ")}},27940:function(O,S,e){var v,x=e(81680),t=e(18496),b=e(87396),g=e(95920),c=e(50868),s=e(84323),n=Function.prototype.bind,i=Object.defineProperty,a=Object.prototype.hasOwnProperty;v=function(r,o,l){var u,h=t(o)&&b(o.value);return delete(u=g(o)).writable,delete u.value,u.get=function(){return!l.overwriteDefinition&&a.call(this,r)?h:(o.value=n.call(h,l.resolveContext?l.resolveContext(this):this),i(this,r,o),this[r])},u},O.exports=function(r){var o=c(arguments[1]);return x(o.resolveContext)&&b(o.resolveContext),s(r,function(l,u){return v(u,l,o)})}},21092:function(O,S,e){var v=e(81680),x=e(85488),t=e(38452),b=e(50868),g=e(71056),c=O.exports=function(s,n){var i,a,r,o,l;return arguments.length<2||typeof s!="string"?(o=n,n=s,s=null):o=arguments[2],v(s)?(i=g.call(s,"c"),a=g.call(s,"e"),r=g.call(s,"w")):(i=r=!0,a=!1),l={value:n,configurable:i,enumerable:a,writable:r},o?t(b(o),l):l};c.gs=function(s,n,i){var a,r,o,l;return typeof s!="string"?(o=i,i=n,n=s,s=null):o=arguments[3],v(n)?x(n)?v(i)?x(i)||(o=i,i=void 0):i=void 0:(o=n,n=i=void 0):n=void 0,v(s)?(a=g.call(s,"c"),r=g.call(s,"e")):(a=!0,r=!1),l={get:n,set:i,configurable:a,enumerable:r},o?t(b(o),l):l}},84706:function(O,S,e){function v(r,o){return r<o?-1:r>o?1:r>=o?0:NaN}e.d(S,{XE:function(){return v},kv:function(){return b},mo:function(){return c},Uf:function(){return s},SY:function(){return n},ik:function(){return i},oh:function(){return a}}),(x=v).length===1&&(t=x,x=function(r,o){return v(t(r),o)});var x,t;function b(r,o){var l,u,h=r.length,f=-1;if(o==null){for(;++f<h;)if((l=r[f])!=null&&l>=l)for(u=l;++f<h;)(l=r[f])!=null&&l>u&&(u=l)}else for(;++f<h;)if((l=o(r[f],f,r))!=null&&l>=l)for(u=l;++f<h;)(l=o(r[f],f,r))!=null&&l>u&&(u=l);return u}function g(r){return r===null?NaN:+r}function c(r,o){var l,u=r.length,h=u,f=-1,T=0;if(o==null)for(;++f<u;)isNaN(l=g(r[f]))?--h:T+=l;else for(;++f<u;)isNaN(l=g(o(r[f],f,r)))?--h:T+=l;if(h)return T/h}function s(r){for(var o,l,u,h=r.length,f=-1,T=0;++f<h;)T+=r[f].length;for(l=new Array(T);--h>=0;)for(o=(u=r[h]).length;--o>=0;)l[--T]=u[o];return l}function n(r,o){var l,u,h=r.length,f=-1;if(o==null){for(;++f<h;)if((l=r[f])!=null&&l>=l)for(u=l;++f<h;)(l=r[f])!=null&&u>l&&(u=l)}else for(;++f<h;)if((l=o(r[f],f,r))!=null&&l>=l)for(u=l;++f<h;)(l=o(r[f],f,r))!=null&&u>l&&(u=l);return u}function i(r,o,l){r=+r,o=+o,l=(h=arguments.length)<2?(o=r,r=0,1):h<3?1:+l;for(var u=-1,h=0|Math.max(0,Math.ceil((o-r)/l)),f=new Array(h);++u<h;)f[u]=r+u*l;return f}function a(r,o){var l,u=r.length,h=-1,f=0;if(o==null)for(;++h<u;)(l=+r[h])&&(f+=l);else for(;++h<u;)(l=+o(r[h],h,r))&&(f+=l);return f}},34712:function(O,S,e){e.d(S,{kH:function(){return b},UJ:function(){return g}});var v="$";function x(){}function t(o,l){var u=new x;if(o instanceof x)o.each(function(y,m){u.set(m,y)});else if(Array.isArray(o)){var h,f=-1,T=o.length;if(l==null)for(;++f<T;)u.set(f,o[f]);else for(;++f<T;)u.set(l(h=o[f],f,o),h)}else if(o)for(var d in o)u.set(d,o[d]);return u}x.prototype=t.prototype={constructor:x,has:function(o){return v+o in this},get:function(o){return this[v+o]},set:function(o,l){return this[v+o]=l,this},remove:function(o){var l=v+o;return l in this&&delete this[l]},clear:function(){for(var o in this)o[0]===v&&delete this[o]},keys:function(){var o=[];for(var l in this)l[0]===v&&o.push(l.slice(1));return o},values:function(){var o=[];for(var l in this)l[0]===v&&o.push(this[l]);return o},entries:function(){var o=[];for(var l in this)l[0]===v&&o.push({key:l.slice(1),value:this[l]});return o},size:function(){var o=0;for(var l in this)l[0]===v&&++o;return o},empty:function(){for(var o in this)if(o[0]===v)return!1;return!0},each:function(o){for(var l in this)l[0]===v&&o(this[l],l.slice(1),this)}};var b=t;function g(){var o,l,u,h=[],f=[];function T(y,m,w,_){if(m>=h.length)return o!=null&&y.sort(o),l!=null?l(y):y;for(var A,p,L,M=-1,C=y.length,R=h[m++],I=b(),D=w();++M<C;)(L=I.get(A=R(p=y[M])+""))?L.push(p):I.set(A,[p]);return I.each(function(F,q){_(D,q,T(F,m,w,_))}),D}function d(y,m){if(++m>h.length)return y;var w,_=f[m-1];return l!=null&&m>=h.length?w=y.entries():(w=[],y.each(function(A,p){w.push({key:p,values:d(A,m)})})),_!=null?w.sort(function(A,p){return _(A.key,p.key)}):w}return u={object:function(y){return T(y,0,c,s)},map:function(y){return T(y,0,n,i)},entries:function(y){return d(T(y,0,n,i),0)},key:function(y){return h.push(y),u},sortKeys:function(y){return f[h.length-1]=y,u},sortValues:function(y){return o=y,u},rollup:function(y){return l=y,u}}}function c(){return{}}function s(o,l,u){o[l]=u}function n(){return b()}function i(o,l,u){o.set(l,u)}function a(){}var r=b.prototype;a.prototype={constructor:a,has:r.has,add:function(o){return this[v+(o+="")]=o,this},remove:r.remove,clear:r.clear,values:r.keys,size:r.size,empty:r.empty,each:r.each}},49812:function(O,S,e){function v(we,Te){var Le;function Ie(){var _e,fe,le=Le.length,ye=0,Oe=0;for(_e=0;_e<le;++_e)ye+=(fe=Le[_e]).x,Oe+=fe.y;for(ye=ye/le-we,Oe=Oe/le-Te,_e=0;_e<le;++_e)(fe=Le[_e]).x-=ye,fe.y-=Oe}return we==null&&(we=0),Te==null&&(Te=0),Ie.initialize=function(_e){Le=_e},Ie.x=function(_e){return arguments.length?(we=+_e,Ie):we},Ie.y=function(_e){return arguments.length?(Te=+_e,Ie):Te},Ie}function x(we){return function(){return we}}function t(){return 1e-6*(Math.random()-.5)}function b(we,Te,Le,Ie){if(isNaN(Te)||isNaN(Le))return we;var _e,fe,le,ye,Oe,Ae,Se,Pe,Fe,Be=we._root,xe={data:Ie},Me=we._x0,Ce=we._y0,Ne=we._x1,Re=we._y1;if(!Be)return we._root=xe,we;for(;Be.length;)if((Ae=Te>=(fe=(Me+Ne)/2))?Me=fe:Ne=fe,(Se=Le>=(le=(Ce+Re)/2))?Ce=le:Re=le,_e=Be,!(Be=Be[Pe=Se<<1|Ae]))return _e[Pe]=xe,we;if(ye=+we._x.call(null,Be.data),Oe=+we._y.call(null,Be.data),Te===ye&&Le===Oe)return xe.next=Be,_e?_e[Pe]=xe:we._root=xe,we;do _e=_e?_e[Pe]=new Array(4):we._root=new Array(4),(Ae=Te>=(fe=(Me+Ne)/2))?Me=fe:Ne=fe,(Se=Le>=(le=(Ce+Re)/2))?Ce=le:Re=le;while((Pe=Se<<1|Ae)==(Fe=(Oe>=le)<<1|ye>=fe));return _e[Fe]=Be,_e[Pe]=xe,we}function g(we,Te,Le,Ie,_e){this.node=we,this.x0=Te,this.y0=Le,this.x1=Ie,this.y1=_e}function c(we){return we[0]}function s(we){return we[1]}function n(we,Te,Le){var Ie=new i(Te??c,Le??s,NaN,NaN,NaN,NaN);return we==null?Ie:Ie.addAll(we)}function i(we,Te,Le,Ie,_e,fe){this._x=we,this._y=Te,this._x0=Le,this._y0=Ie,this._x1=_e,this._y1=fe,this._root=void 0}function a(we){for(var Te={data:we.data},Le=Te;we=we.next;)Le=Le.next={data:we.data};return Te}e.r(S),e.d(S,{forceCenter:function(){return v},forceCollide:function(){return u},forceLink:function(){return d},forceManyBody:function(){return de},forceRadial:function(){return pe},forceSimulation:function(){return ce},forceX:function(){return me},forceY:function(){return be}});var r=n.prototype=i.prototype;function o(we){return we.x+we.vx}function l(we){return we.y+we.vy}function u(we){var Te,Le,Ie=1,_e=1;function fe(){for(var Oe,Ae,Se,Pe,Fe,Be,xe,Me=Te.length,Ce=0;Ce<_e;++Ce)for(Ae=n(Te,o,l).visitAfter(le),Oe=0;Oe<Me;++Oe)Se=Te[Oe],Be=Le[Se.index],xe=Be*Be,Pe=Se.x+Se.vx,Fe=Se.y+Se.vy,Ae.visit(Ne);function Ne(Re,He,Ye,Qe,lt){var ut=Re.data,xt=Re.r,_t=Be+xt;if(!ut)return He>Pe+_t||Qe<Pe-_t||Ye>Fe+_t||lt<Fe-_t;if(ut.index>Se.index){var mt=Pe-ut.x-ut.vx,it=Fe-ut.y-ut.vy,nt=mt*mt+it*it;nt<_t*_t&&(mt===0&&(nt+=(mt=t())*mt),it===0&&(nt+=(it=t())*it),nt=(_t-(nt=Math.sqrt(nt)))/nt*Ie,Se.vx+=(mt*=nt)*(_t=(xt*=xt)/(xe+xt)),Se.vy+=(it*=nt)*_t,ut.vx-=mt*(_t=1-_t),ut.vy-=it*_t)}}}function le(Oe){if(Oe.data)return Oe.r=Le[Oe.data.index];for(var Ae=Oe.r=0;Ae<4;++Ae)Oe[Ae]&&Oe[Ae].r>Oe.r&&(Oe.r=Oe[Ae].r)}function ye(){if(Te){var Oe,Ae,Se=Te.length;for(Le=new Array(Se),Oe=0;Oe<Se;++Oe)Ae=Te[Oe],Le[Ae.index]=+we(Ae,Oe,Te)}}return typeof we!="function"&&(we=x(we==null?1:+we)),fe.initialize=function(Oe){Te=Oe,ye()},fe.iterations=function(Oe){return arguments.length?(_e=+Oe,fe):_e},fe.strength=function(Oe){return arguments.length?(Ie=+Oe,fe):Ie},fe.radius=function(Oe){return arguments.length?(we=typeof Oe=="function"?Oe:x(+Oe),ye(),fe):we},fe}r.copy=function(){var we,Te,Le=new i(this._x,this._y,this._x0,this._y0,this._x1,this._y1),Ie=this._root;if(!Ie)return Le;if(!Ie.length)return Le._root=a(Ie),Le;for(we=[{source:Ie,target:Le._root=new Array(4)}];Ie=we.pop();)for(var _e=0;_e<4;++_e)(Te=Ie.source[_e])&&(Te.length?we.push({source:Te,target:Ie.target[_e]=new Array(4)}):Ie.target[_e]=a(Te));return Le},r.add=function(we){var Te=+this._x.call(null,we),Le=+this._y.call(null,we);return b(this.cover(Te,Le),Te,Le,we)},r.addAll=function(we){var Te,Le,Ie,_e,fe=we.length,le=new Array(fe),ye=new Array(fe),Oe=1/0,Ae=1/0,Se=-1/0,Pe=-1/0;for(Le=0;Le<fe;++Le)isNaN(Ie=+this._x.call(null,Te=we[Le]))||isNaN(_e=+this._y.call(null,Te))||(le[Le]=Ie,ye[Le]=_e,Ie<Oe&&(Oe=Ie),Ie>Se&&(Se=Ie),_e<Ae&&(Ae=_e),_e>Pe&&(Pe=_e));if(Oe>Se||Ae>Pe)return this;for(this.cover(Oe,Ae).cover(Se,Pe),Le=0;Le<fe;++Le)b(this,le[Le],ye[Le],we[Le]);return this},r.cover=function(we,Te){if(isNaN(we=+we)||isNaN(Te=+Te))return this;var Le=this._x0,Ie=this._y0,_e=this._x1,fe=this._y1;if(isNaN(Le))_e=(Le=Math.floor(we))+1,fe=(Ie=Math.floor(Te))+1;else{for(var le,ye,Oe=_e-Le,Ae=this._root;Le>we||we>=_e||Ie>Te||Te>=fe;)switch(ye=(Te<Ie)<<1|we<Le,(le=new Array(4))[ye]=Ae,Ae=le,Oe*=2,ye){case 0:_e=Le+Oe,fe=Ie+Oe;break;case 1:Le=_e-Oe,fe=Ie+Oe;break;case 2:_e=Le+Oe,Ie=fe-Oe;break;case 3:Le=_e-Oe,Ie=fe-Oe}this._root&&this._root.length&&(this._root=Ae)}return this._x0=Le,this._y0=Ie,this._x1=_e,this._y1=fe,this},r.data=function(){var we=[];return this.visit(function(Te){if(!Te.length)do we.push(Te.data);while(Te=Te.next)}),we},r.extent=function(we){return arguments.length?this.cover(+we[0][0],+we[0][1]).cover(+we[1][0],+we[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},r.find=function(we,Te,Le){var Ie,_e,fe,le,ye,Oe,Ae,Se=this._x0,Pe=this._y0,Fe=this._x1,Be=this._y1,xe=[],Me=this._root;for(Me&&xe.push(new g(Me,Se,Pe,Fe,Be)),Le==null?Le=1/0:(Se=we-Le,Pe=Te-Le,Fe=we+Le,Be=Te+Le,Le*=Le);Oe=xe.pop();)if(!(!(Me=Oe.node)||(_e=Oe.x0)>Fe||(fe=Oe.y0)>Be||(le=Oe.x1)<Se||(ye=Oe.y1)<Pe))if(Me.length){var Ce=(_e+le)/2,Ne=(fe+ye)/2;xe.push(new g(Me[3],Ce,Ne,le,ye),new g(Me[2],_e,Ne,Ce,ye),new g(Me[1],Ce,fe,le,Ne),new g(Me[0],_e,fe,Ce,Ne)),(Ae=(Te>=Ne)<<1|we>=Ce)&&(Oe=xe[xe.length-1],xe[xe.length-1]=xe[xe.length-1-Ae],xe[xe.length-1-Ae]=Oe)}else{var Re=we-+this._x.call(null,Me.data),He=Te-+this._y.call(null,Me.data),Ye=Re*Re+He*He;if(Ye<Le){var Qe=Math.sqrt(Le=Ye);Se=we-Qe,Pe=Te-Qe,Fe=we+Qe,Be=Te+Qe,Ie=Me.data}}return Ie},r.remove=function(we){if(isNaN(fe=+this._x.call(null,we))||isNaN(le=+this._y.call(null,we)))return this;var Te,Le,Ie,_e,fe,le,ye,Oe,Ae,Se,Pe,Fe,Be=this._root,xe=this._x0,Me=this._y0,Ce=this._x1,Ne=this._y1;if(!Be)return this;if(Be.length)for(;;){if((Ae=fe>=(ye=(xe+Ce)/2))?xe=ye:Ce=ye,(Se=le>=(Oe=(Me+Ne)/2))?Me=Oe:Ne=Oe,Te=Be,!(Be=Be[Pe=Se<<1|Ae]))return this;if(!Be.length)break;(Te[Pe+1&3]||Te[Pe+2&3]||Te[Pe+3&3])&&(Le=Te,Fe=Pe)}for(;Be.data!==we;)if(Ie=Be,!(Be=Be.next))return this;return(_e=Be.next)&&delete Be.next,Ie?(_e?Ie.next=_e:delete Ie.next,this):Te?(_e?Te[Pe]=_e:delete Te[Pe],(Be=Te[0]||Te[1]||Te[2]||Te[3])&&Be===(Te[3]||Te[2]||Te[1]||Te[0])&&!Be.length&&(Le?Le[Fe]=Be:this._root=Be),this):(this._root=_e,this)},r.removeAll=function(we){for(var Te=0,Le=we.length;Te<Le;++Te)this.remove(we[Te]);return this},r.root=function(){return this._root},r.size=function(){var we=0;return this.visit(function(Te){if(!Te.length)do++we;while(Te=Te.next)}),we},r.visit=function(we){var Te,Le,Ie,_e,fe,le,ye=[],Oe=this._root;for(Oe&&ye.push(new g(Oe,this._x0,this._y0,this._x1,this._y1));Te=ye.pop();)if(!we(Oe=Te.node,Ie=Te.x0,_e=Te.y0,fe=Te.x1,le=Te.y1)&&Oe.length){var Ae=(Ie+fe)/2,Se=(_e+le)/2;(Le=Oe[3])&&ye.push(new g(Le,Ae,Se,fe,le)),(Le=Oe[2])&&ye.push(new g(Le,Ie,Se,Ae,le)),(Le=Oe[1])&&ye.push(new g(Le,Ae,_e,fe,Se)),(Le=Oe[0])&&ye.push(new g(Le,Ie,_e,Ae,Se))}return this},r.visitAfter=function(we){var Te,Le=[],Ie=[];for(this._root&&Le.push(new g(this._root,this._x0,this._y0,this._x1,this._y1));Te=Le.pop();){var _e=Te.node;if(_e.length){var fe,le=Te.x0,ye=Te.y0,Oe=Te.x1,Ae=Te.y1,Se=(le+Oe)/2,Pe=(ye+Ae)/2;(fe=_e[0])&&Le.push(new g(fe,le,ye,Se,Pe)),(fe=_e[1])&&Le.push(new g(fe,Se,ye,Oe,Pe)),(fe=_e[2])&&Le.push(new g(fe,le,Pe,Se,Ae)),(fe=_e[3])&&Le.push(new g(fe,Se,Pe,Oe,Ae))}Ie.push(Te)}for(;Te=Ie.pop();)we(Te.node,Te.x0,Te.y0,Te.x1,Te.y1);return this},r.x=function(we){return arguments.length?(this._x=we,this):this._x},r.y=function(we){return arguments.length?(this._y=we,this):this._y};var h=e(34712);function f(we){return we.index}function T(we,Te){var Le=we.get(Te);if(!Le)throw new Error("missing: "+Te);return Le}function d(we){var Te,Le,Ie,_e,fe,le=f,ye=function(xe){return 1/Math.min(_e[xe.source.index],_e[xe.target.index])},Oe=x(30),Ae=1;function Se(xe){for(var Me=0,Ce=we.length;Me<Ae;++Me)for(var Ne,Re,He,Ye,Qe,lt,ut,xt=0;xt<Ce;++xt)Re=(Ne=we[xt]).source,Ye=(He=Ne.target).x+He.vx-Re.x-Re.vx||t(),Qe=He.y+He.vy-Re.y-Re.vy||t(),Ye*=lt=((lt=Math.sqrt(Ye*Ye+Qe*Qe))-Le[xt])/lt*xe*Te[xt],Qe*=lt,He.vx-=Ye*(ut=fe[xt]),He.vy-=Qe*ut,Re.vx+=Ye*(ut=1-ut),Re.vy+=Qe*ut}function Pe(){if(Ie){var xe,Me,Ce=Ie.length,Ne=we.length,Re=(0,h.kH)(Ie,le);for(xe=0,_e=new Array(Ce);xe<Ne;++xe)(Me=we[xe]).index=xe,typeof Me.source!="object"&&(Me.source=T(Re,Me.source)),typeof Me.target!="object"&&(Me.target=T(Re,Me.target)),_e[Me.source.index]=(_e[Me.source.index]||0)+1,_e[Me.target.index]=(_e[Me.target.index]||0)+1;for(xe=0,fe=new Array(Ne);xe<Ne;++xe)Me=we[xe],fe[xe]=_e[Me.source.index]/(_e[Me.source.index]+_e[Me.target.index]);Te=new Array(Ne),Fe(),Le=new Array(Ne),Be()}}function Fe(){if(Ie)for(var xe=0,Me=we.length;xe<Me;++xe)Te[xe]=+ye(we[xe],xe,we)}function Be(){if(Ie)for(var xe=0,Me=we.length;xe<Me;++xe)Le[xe]=+Oe(we[xe],xe,we)}return we==null&&(we=[]),Se.initialize=function(xe){Ie=xe,Pe()},Se.links=function(xe){return arguments.length?(we=xe,Pe(),Se):we},Se.id=function(xe){return arguments.length?(le=xe,Se):le},Se.iterations=function(xe){return arguments.length?(Ae=+xe,Se):Ae},Se.strength=function(xe){return arguments.length?(ye=typeof xe=="function"?xe:x(+xe),Fe(),Se):ye},Se.distance=function(xe){return arguments.length?(Oe=typeof xe=="function"?xe:x(+xe),Be(),Se):Oe},Se}var y={value:function(){}};function m(){for(var we,Te=0,Le=arguments.length,Ie={};Te<Le;++Te){if(!(we=arguments[Te]+"")||we in Ie||/[\s.]/.test(we))throw new Error("illegal type: "+we);Ie[we]=[]}return new w(Ie)}function w(we){this._=we}function _(we,Te){for(var Le,Ie=0,_e=we.length;Ie<_e;++Ie)if((Le=we[Ie]).name===Te)return Le.value}function A(we,Te,Le){for(var Ie=0,_e=we.length;Ie<_e;++Ie)if(we[Ie].name===Te){we[Ie]=y,we=we.slice(0,Ie).concat(we.slice(Ie+1));break}return Le!=null&&we.push({name:Te,value:Le}),we}w.prototype=m.prototype={constructor:w,on:function(we,Te){var Le,Ie,_e=this._,fe=(Ie=_e,(we+"").trim().split(/^|\s+/).map(function(Oe){var Ae="",Se=Oe.indexOf(".");if(Se>=0&&(Ae=Oe.slice(Se+1),Oe=Oe.slice(0,Se)),Oe&&!Ie.hasOwnProperty(Oe))throw new Error("unknown type: "+Oe);return{type:Oe,name:Ae}})),le=-1,ye=fe.length;if(!(arguments.length<2)){if(Te!=null&&typeof Te!="function")throw new Error("invalid callback: "+Te);for(;++le<ye;)if(Le=(we=fe[le]).type)_e[Le]=A(_e[Le],we.name,Te);else if(Te==null)for(Le in _e)_e[Le]=A(_e[Le],we.name,null);return this}for(;++le<ye;)if((Le=(we=fe[le]).type)&&(Le=_(_e[Le],we.name)))return Le},copy:function(){var we={},Te=this._;for(var Le in Te)we[Le]=Te[Le].slice();return new w(we)},call:function(we,Te){if((Le=arguments.length-2)>0)for(var Le,Ie,_e=new Array(Le),fe=0;fe<Le;++fe)_e[fe]=arguments[fe+2];if(!this._.hasOwnProperty(we))throw new Error("unknown type: "+we);for(fe=0,Le=(Ie=this._[we]).length;fe<Le;++fe)Ie[fe].value.apply(Te,_e)},apply:function(we,Te,Le){if(!this._.hasOwnProperty(we))throw new Error("unknown type: "+we);for(var Ie=this._[we],_e=0,fe=Ie.length;_e<fe;++_e)Ie[_e].value.apply(Te,Le)}};var p,L,M=m,C=0,R=0,I=0,D=1e3,F=0,q=0,z=0,V=typeof performance=="object"&&performance.now?performance:Date,X=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(we){setTimeout(we,17)};function j(){return q||(X(H),q=V.now()+z)}function H(){q=0}function G(){this._call=this._time=this._next=null}function ie(we,Te,Le){var Ie=new G;return Ie.restart(we,Te,Le),Ie}function re(){q=(F=V.now())+z,C=R=0;try{(function(){j(),++C;for(var we,Te=p;Te;)(we=q-Te._time)>=0&&Te._call.call(null,we),Te=Te._next;--C})()}finally{C=0,function(){for(var we,Te,Le=p,Ie=1/0;Le;)Le._call?(Ie>Le._time&&(Ie=Le._time),we=Le,Le=Le._next):(Te=Le._next,Le._next=null,Le=we?we._next=Te:p=Te);L=we,K(Ie)}(),q=0}}function te(){var we=V.now(),Te=we-F;Te>D&&(z-=Te,F=we)}function K(we){C||(R&&(R=clearTimeout(R)),we-q>24?(we<1/0&&(R=setTimeout(re,we-V.now()-z)),I&&(I=clearInterval(I))):(I||(F=V.now(),I=setInterval(te,D)),C=1,X(re)))}function J(we){return we.x}function $(we){return we.y}G.prototype=ie.prototype={constructor:G,restart:function(we,Te,Le){if(typeof we!="function")throw new TypeError("callback is not a function");Le=(Le==null?j():+Le)+(Te==null?0:+Te),this._next||L===this||(L?L._next=this:p=this,L=this),this._call=we,this._time=Le,K()},stop:function(){this._call&&(this._call=null,this._time=1/0,K())}};var ae=10,ue=Math.PI*(3-Math.sqrt(5));function ce(we){var Te,Le=1,Ie=.001,_e=1-Math.pow(Ie,1/300),fe=0,le=.6,ye=(0,h.kH)(),Oe=ie(Se),Ae=M("tick","end");function Se(){Pe(),Ae.call("tick",Te),Le<Ie&&(Oe.stop(),Ae.call("end",Te))}function Pe(xe){var Me,Ce,Ne=we.length;xe===void 0&&(xe=1);for(var Re=0;Re<xe;++Re)for(Le+=(fe-Le)*_e,ye.each(function(He){He(Le)}),Me=0;Me<Ne;++Me)(Ce=we[Me]).fx==null?Ce.x+=Ce.vx*=le:(Ce.x=Ce.fx,Ce.vx=0),Ce.fy==null?Ce.y+=Ce.vy*=le:(Ce.y=Ce.fy,Ce.vy=0);return Te}function Fe(){for(var xe,Me=0,Ce=we.length;Me<Ce;++Me){if((xe=we[Me]).index=Me,xe.fx!=null&&(xe.x=xe.fx),xe.fy!=null&&(xe.y=xe.fy),isNaN(xe.x)||isNaN(xe.y)){var Ne=ae*Math.sqrt(Me),Re=Me*ue;xe.x=Ne*Math.cos(Re),xe.y=Ne*Math.sin(Re)}(isNaN(xe.vx)||isNaN(xe.vy))&&(xe.vx=xe.vy=0)}}function Be(xe){return xe.initialize&&xe.initialize(we),xe}return we==null&&(we=[]),Fe(),Te={tick:Pe,restart:function(){return Oe.restart(Se),Te},stop:function(){return Oe.stop(),Te},nodes:function(xe){return arguments.length?(we=xe,Fe(),ye.each(Be),Te):we},alpha:function(xe){return arguments.length?(Le=+xe,Te):Le},alphaMin:function(xe){return arguments.length?(Ie=+xe,Te):Ie},alphaDecay:function(xe){return arguments.length?(_e=+xe,Te):+_e},alphaTarget:function(xe){return arguments.length?(fe=+xe,Te):fe},velocityDecay:function(xe){return arguments.length?(le=1-xe,Te):1-le},force:function(xe,Me){return arguments.length>1?(Me==null?ye.remove(xe):ye.set(xe,Be(Me)),Te):ye.get(xe)},find:function(xe,Me,Ce){var Ne,Re,He,Ye,Qe,lt=0,ut=we.length;for(Ce==null?Ce=1/0:Ce*=Ce,lt=0;lt<ut;++lt)(He=(Ne=xe-(Ye=we[lt]).x)*Ne+(Re=Me-Ye.y)*Re)<Ce&&(Qe=Ye,Ce=He);return Qe},on:function(xe,Me){return arguments.length>1?(Ae.on(xe,Me),Te):Ae.on(xe)}}}function de(){var we,Te,Le,Ie,_e=x(-30),fe=1,le=1/0,ye=.81;function Oe(Fe){var Be,xe=we.length,Me=n(we,J,$).visitAfter(Se);for(Le=Fe,Be=0;Be<xe;++Be)Te=we[Be],Me.visit(Pe)}function Ae(){if(we){var Fe,Be,xe=we.length;for(Ie=new Array(xe),Fe=0;Fe<xe;++Fe)Be=we[Fe],Ie[Be.index]=+_e(Be,Fe,we)}}function Se(Fe){var Be,xe,Me,Ce,Ne,Re=0,He=0;if(Fe.length){for(Me=Ce=Ne=0;Ne<4;++Ne)(Be=Fe[Ne])&&(xe=Math.abs(Be.value))&&(Re+=Be.value,He+=xe,Me+=xe*Be.x,Ce+=xe*Be.y);Fe.x=Me/He,Fe.y=Ce/He}else{(Be=Fe).x=Be.data.x,Be.y=Be.data.y;do Re+=Ie[Be.data.index];while(Be=Be.next)}Fe.value=Re}function Pe(Fe,Be,xe,Me){if(!Fe.value)return!0;var Ce=Fe.x-Te.x,Ne=Fe.y-Te.y,Re=Me-Be,He=Ce*Ce+Ne*Ne;if(Re*Re/ye<He)return He<le&&(Ce===0&&(He+=(Ce=t())*Ce),Ne===0&&(He+=(Ne=t())*Ne),He<fe&&(He=Math.sqrt(fe*He)),Te.vx+=Ce*Fe.value*Le/He,Te.vy+=Ne*Fe.value*Le/He),!0;if(!(Fe.length||He>=le)){(Fe.data!==Te||Fe.next)&&(Ce===0&&(He+=(Ce=t())*Ce),Ne===0&&(He+=(Ne=t())*Ne),He<fe&&(He=Math.sqrt(fe*He)));do Fe.data!==Te&&(Re=Ie[Fe.data.index]*Le/He,Te.vx+=Ce*Re,Te.vy+=Ne*Re);while(Fe=Fe.next)}}return Oe.initialize=function(Fe){we=Fe,Ae()},Oe.strength=function(Fe){return arguments.length?(_e=typeof Fe=="function"?Fe:x(+Fe),Ae(),Oe):_e},Oe.distanceMin=function(Fe){return arguments.length?(fe=Fe*Fe,Oe):Math.sqrt(fe)},Oe.distanceMax=function(Fe){return arguments.length?(le=Fe*Fe,Oe):Math.sqrt(le)},Oe.theta=function(Fe){return arguments.length?(ye=Fe*Fe,Oe):Math.sqrt(ye)},Oe}function pe(we,Te,Le){var Ie,_e,fe,le=x(.1);function ye(Ae){for(var Se=0,Pe=Ie.length;Se<Pe;++Se){var Fe=Ie[Se],Be=Fe.x-Te||1e-6,xe=Fe.y-Le||1e-6,Me=Math.sqrt(Be*Be+xe*xe),Ce=(fe[Se]-Me)*_e[Se]*Ae/Me;Fe.vx+=Be*Ce,Fe.vy+=xe*Ce}}function Oe(){if(Ie){var Ae,Se=Ie.length;for(_e=new Array(Se),fe=new Array(Se),Ae=0;Ae<Se;++Ae)fe[Ae]=+we(Ie[Ae],Ae,Ie),_e[Ae]=isNaN(fe[Ae])?0:+le(Ie[Ae],Ae,Ie)}}return typeof we!="function"&&(we=x(+we)),Te==null&&(Te=0),Le==null&&(Le=0),ye.initialize=function(Ae){Ie=Ae,Oe()},ye.strength=function(Ae){return arguments.length?(le=typeof Ae=="function"?Ae:x(+Ae),Oe(),ye):le},ye.radius=function(Ae){return arguments.length?(we=typeof Ae=="function"?Ae:x(+Ae),Oe(),ye):we},ye.x=function(Ae){return arguments.length?(Te=+Ae,ye):Te},ye.y=function(Ae){return arguments.length?(Le=+Ae,ye):Le},ye}function me(we){var Te,Le,Ie,_e=x(.1);function fe(ye){for(var Oe,Ae=0,Se=Te.length;Ae<Se;++Ae)(Oe=Te[Ae]).vx+=(Ie[Ae]-Oe.x)*Le[Ae]*ye}function le(){if(Te){var ye,Oe=Te.length;for(Le=new Array(Oe),Ie=new Array(Oe),ye=0;ye<Oe;++ye)Le[ye]=isNaN(Ie[ye]=+we(Te[ye],ye,Te))?0:+_e(Te[ye],ye,Te)}}return typeof we!="function"&&(we=x(we==null?0:+we)),fe.initialize=function(ye){Te=ye,le()},fe.strength=function(ye){return arguments.length?(_e=typeof ye=="function"?ye:x(+ye),le(),fe):_e},fe.x=function(ye){return arguments.length?(we=typeof ye=="function"?ye:x(+ye),le(),fe):we},fe}function be(we){var Te,Le,Ie,_e=x(.1);function fe(ye){for(var Oe,Ae=0,Se=Te.length;Ae<Se;++Ae)(Oe=Te[Ae]).vy+=(Ie[Ae]-Oe.y)*Le[Ae]*ye}function le(){if(Te){var ye,Oe=Te.length;for(Le=new Array(Oe),Ie=new Array(Oe),ye=0;ye<Oe;++ye)Le[ye]=isNaN(Ie[ye]=+we(Te[ye],ye,Te))?0:+_e(Te[ye],ye,Te)}}return typeof we!="function"&&(we=x(we==null?0:+we)),fe.initialize=function(ye){Te=ye,le()},fe.strength=function(ye){return arguments.length?(_e=typeof ye=="function"?ye:x(+ye),le(),fe):_e},fe.y=function(ye){return arguments.length?(we=typeof ye=="function"?ye:x(+ye),le(),fe):we},fe}},57624:function(O,S,e){function v(u,h){if((f=(u=h?u.toExponential(h-1):u.toExponential()).indexOf("e"))<0)return null;var f,T=u.slice(0,f);return[T.length>1?T[0]+T.slice(2):T,+u.slice(f+1)]}e.d(S,{E9:function(){return a},SO:function(){return l}});var x,t=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function b(u){if(!(h=t.exec(u)))throw new Error("invalid format: "+u);var h;return new g({fill:h[1],align:h[2],sign:h[3],symbol:h[4],zero:h[5],width:h[6],comma:h[7],precision:h[8]&&h[8].slice(1),trim:h[9],type:h[10]})}function g(u){this.fill=u.fill===void 0?" ":u.fill+"",this.align=u.align===void 0?">":u.align+"",this.sign=u.sign===void 0?"-":u.sign+"",this.symbol=u.symbol===void 0?"":u.symbol+"",this.zero=!!u.zero,this.width=u.width===void 0?void 0:+u.width,this.comma=!!u.comma,this.precision=u.precision===void 0?void 0:+u.precision,this.trim=!!u.trim,this.type=u.type===void 0?"":u.type+""}function c(u,h){var f=v(u,h);if(!f)return u+"";var T=f[0],d=f[1];return d<0?"0."+new Array(-d).join("0")+T:T.length>d+1?T.slice(0,d+1)+"."+T.slice(d+1):T+new Array(d-T.length+2).join("0")}b.prototype=g.prototype,g.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var s={"%":function(u,h){return(100*u).toFixed(h)},b:function(u){return Math.round(u).toString(2)},c:function(u){return u+""},d:function(u){return Math.abs(u=Math.round(u))>=1e21?u.toLocaleString("en").replace(/,/g,""):u.toString(10)},e:function(u,h){return u.toExponential(h)},f:function(u,h){return u.toFixed(h)},g:function(u,h){return u.toPrecision(h)},o:function(u){return Math.round(u).toString(8)},p:function(u,h){return c(100*u,h)},r:c,s:function(u,h){var f=v(u,h);if(!f)return u+"";var T=f[0],d=f[1],y=d-(x=3*Math.max(-8,Math.min(8,Math.floor(d/3))))+1,m=T.length;return y===m?T:y>m?T+new Array(y-m+1).join("0"):y>0?T.slice(0,y)+"."+T.slice(y):"0."+new Array(1-y).join("0")+v(u,Math.max(0,h+y-1))[0]},X:function(u){return Math.round(u).toString(16).toUpperCase()},x:function(u){return Math.round(u).toString(16)}};function n(u){return u}var i,a,r=Array.prototype.map,o=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function l(u){var h,f,T=u.grouping===void 0||u.thousands===void 0?n:(h=r.call(u.grouping,Number),f=u.thousands+"",function(M,C){for(var R=M.length,I=[],D=0,F=h[0],q=0;R>0&&F>0&&(q+F+1>C&&(F=Math.max(1,C-q)),I.push(M.substring(R-=F,R+F)),!((q+=F+1)>C));)F=h[D=(D+1)%h.length];return I.reverse().join(f)}),d=u.currency===void 0?"":u.currency[0]+"",y=u.currency===void 0?"":u.currency[1]+"",m=u.decimal===void 0?".":u.decimal+"",w=u.numerals===void 0?n:function(M){return function(C){return C.replace(/[0-9]/g,function(R){return M[+R]})}}(r.call(u.numerals,String)),_=u.percent===void 0?"%":u.percent+"",A=u.minus===void 0?"-":u.minus+"",p=u.nan===void 0?"NaN":u.nan+"";function L(M){var C=(M=b(M)).fill,R=M.align,I=M.sign,D=M.symbol,F=M.zero,q=M.width,z=M.comma,V=M.precision,X=M.trim,j=M.type;j==="n"?(z=!0,j="g"):s[j]||(V===void 0&&(V=12),X=!0,j="g"),(F||C==="0"&&R==="=")&&(F=!0,C="0",R="=");var H=D==="$"?d:D==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",G=D==="$"?y:/[%p]/.test(j)?_:"",ie=s[j],re=/[defgprs%]/.test(j);function te(K){var J,$,ae,ue=H,ce=G;if(j==="c")ce=ie(K)+ce,K="";else{var de=(K=+K)<0||1/K<0;if(K=isNaN(K)?p:ie(Math.abs(K),V),X&&(K=function(be){e:for(var we,Te=be.length,Le=1,Ie=-1;Le<Te;++Le)switch(be[Le]){case".":Ie=we=Le;break;case"0":Ie===0&&(Ie=Le),we=Le;break;default:if(!+be[Le])break e;Ie>0&&(Ie=0)}return Ie>0?be.slice(0,Ie)+be.slice(we+1):be}(K)),de&&+K==0&&I!=="+"&&(de=!1),ue=(de?I==="("?I:A:I==="-"||I==="("?"":I)+ue,ce=(j==="s"?o[8+x/3]:"")+ce+(de&&I==="("?")":""),re){for(J=-1,$=K.length;++J<$;)if(48>(ae=K.charCodeAt(J))||ae>57){ce=(ae===46?m+K.slice(J+1):K.slice(J))+ce,K=K.slice(0,J);break}}}z&&!F&&(K=T(K,1/0));var pe=ue.length+K.length+ce.length,me=pe<q?new Array(q-pe+1).join(C):"";switch(z&&F&&(K=T(me+K,me.length?q-ce.length:1/0),me=""),R){case"<":K=ue+K+ce+me;break;case"=":K=ue+me+K+ce;break;case"^":K=me.slice(0,pe=me.length>>1)+ue+K+ce+me.slice(pe);break;default:K=me+ue+K+ce}return w(K)}return V=V===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,V)):Math.max(0,Math.min(20,V)),te.toString=function(){return M+""},te}return{format:L,formatPrefix:function(M,C){var R,I=L(((M=b(M)).type="f",M)),D=3*Math.max(-8,Math.min(8,Math.floor((R=C,((R=v(Math.abs(R)))?R[1]:NaN)/3)))),F=Math.pow(10,-D),q=o[8+D/3];return function(z){return I(F*z)+q}}}}i=l({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),a=i.format,i.formatPrefix},87108:function(O,S,e){e.r(S),e.d(S,{geoAiry:function(){return z},geoAiryRaw:function(){return q},geoAitoff:function(){return X},geoAitoffRaw:function(){return V},geoArmadillo:function(){return H},geoArmadilloRaw:function(){return j},geoAugust:function(){return ie},geoAugustRaw:function(){return G},geoBaker:function(){return J},geoBakerRaw:function(){return K},geoBerghaus:function(){return ue},geoBerghausRaw:function(){return ae},geoBertin1953:function(){return Le},geoBertin1953Raw:function(){return Te},geoBoggs:function(){return Se},geoBoggsRaw:function(){return Ae},geoBonne:function(){return Me},geoBonneRaw:function(){return xe},geoBottomley:function(){return Ne},geoBottomleyRaw:function(){return Ce},geoBromley:function(){return He},geoBromleyRaw:function(){return Re},geoChamberlin:function(){return nt},geoChamberlinAfrica:function(){return it},geoChamberlinRaw:function(){return _t},geoCollignon:function(){return zt},geoCollignonRaw:function(){return Et},geoCraig:function(){return Pt},geoCraigRaw:function(){return Ft},geoCraster:function(){return qe},geoCrasterRaw:function(){return Je},geoCylindricalEqualArea:function(){return ft},geoCylindricalEqualAreaRaw:function(){return Ke},geoCylindricalStereographic:function(){return Ue},geoCylindricalStereographicRaw:function(){return ot},geoEckert1:function(){return st},geoEckert1Raw:function(){return Ve},geoEckert2:function(){return gt},geoEckert2Raw:function(){return Xe},geoEckert3:function(){return bt},geoEckert3Raw:function(){return yt},geoEckert4:function(){return Lt},geoEckert4Raw:function(){return dt},geoEckert5:function(){return Ct},geoEckert5Raw:function(){return wt},geoEckert6:function(){return Dt},geoEckert6Raw:function(){return Rt},geoEisenlohr:function(){return un},geoEisenlohrRaw:function(){return Xt},geoFahey:function(){return Ut},geoFaheyRaw:function(){return Kt},geoFoucaut:function(){return An},geoFoucautRaw:function(){return Rn},geoFoucautSinusoidal:function(){return tn},geoFoucautSinusoidalRaw:function(){return mn},geoGilbert:function(){return kn},geoGingery:function(){return Vn},geoGingeryRaw:function(){return Pn},geoGinzburg4:function(){return rr},geoGinzburg4Raw:function(){return Wn},geoGinzburg5:function(){return Kn},geoGinzburg5Raw:function(){return ir},geoGinzburg6:function(){return nn},geoGinzburg6Raw:function(){return vr},geoGinzburg8:function(){return In},geoGinzburg8Raw:function(){return an},geoGinzburg9:function(){return Dn},geoGinzburg9Raw:function(){return yn},geoGringorten:function(){return Qn},geoGringortenQuincuncial:function(){return Za},geoGringortenRaw:function(){return Hn},geoGuyou:function(){return At},geoGuyouRaw:function(){return xn},geoHammer:function(){return me},geoHammerRaw:function(){return de},geoHammerRetroazimuthal:function(){return gn},geoHammerRetroazimuthalRaw:function(){return en},geoHealpix:function(){return Un},geoHealpixRaw:function(){return sn},geoHill:function(){return tr},geoHillRaw:function(){return qn},geoHomolosine:function(){return Mr},geoHomolosineRaw:function(){return mr},geoHufnagel:function(){return ur},geoHufnagelRaw:function(){return br},geoHyperelliptical:function(){return Ii},geoHyperellipticalRaw:function(){return $r},geoInterrupt:function(){return Li},geoInterruptedBoggs:function(){return Gr},geoInterruptedHomolosine:function(){return $a},geoInterruptedMollweide:function(){return ds},geoInterruptedMollweideHemispheres:function(){return Jo},geoInterruptedQuarticAuthalic:function(){return uf},geoInterruptedSinuMollweide:function(){return Qo},geoInterruptedSinusoidal:function(){return il},geoKavrayskiy7:function(){return Ao},geoKavrayskiy7Raw:function(){return ko},geoLagrange:function(){return Vi},geoLagrangeRaw:function(){return es},geoLarrivee:function(){return ts},geoLarriveeRaw:function(){return vs},geoLaskowski:function(){return Ds},geoLaskowskiRaw:function(){return Fo},geoLittrow:function(){return zs},geoLittrowRaw:function(){return ns},geoLoximuthal:function(){return Fs},geoLoximuthalRaw:function(){return ms},geoMiller:function(){return Yu},geoMillerRaw:function(){return rs},geoModifiedStereographic:function(){return ll},geoModifiedStereographicAlaska:function(){return of},geoModifiedStereographicGs48:function(){return sf},geoModifiedStereographicGs50:function(){return sl},geoModifiedStereographicLee:function(){return Sl},geoModifiedStereographicMiller:function(){return is},geoModifiedStereographicRaw:function(){return Au},geoMollweide:function(){return le},geoMollweideRaw:function(){return fe},geoMtFlatPolarParabolic:function(){return $u},geoMtFlatPolarParabolicRaw:function(){return Bo},geoMtFlatPolarQuartic:function(){return ys},geoMtFlatPolarQuarticRaw:function(){return Bs},geoMtFlatPolarSinusoidal:function(){return Ns},geoMtFlatPolarSinusoidalRaw:function(){return xs},geoNaturalEarth:function(){return ci.c},geoNaturalEarth2:function(){return lf},geoNaturalEarth2Raw:function(){return El},geoNaturalEarthRaw:function(){return ci.g},geoNellHammer:function(){return Ll},geoNellHammerRaw:function(){return Mu},geoNicolosi:function(){return cf},geoNicolosiRaw:function(){return Su},geoPatterson:function(){return Tc},geoPattersonRaw:function(){return Lu},geoPeirceQuincuncial:function(){return vl},geoPierceQuincuncial:function(){return vl},geoPolyconic:function(){return fl},geoPolyconicRaw:function(){return Pl},geoPolyhedral:function(){return Mi},geoPolyhedralButterfly:function(){return Il},geoPolyhedralCollignon:function(){return ru},geoPolyhedralWaterman:function(){return iu},geoProject:function(){return au},geoQuantize:function(){return _s},geoQuincuncial:function(){return qs},geoRectangularPolyconic:function(){return Lo},geoRectangularPolyconicRaw:function(){return Eo},geoRobinson:function(){return Or},geoRobinsonRaw:function(){return Vo},geoSatellite:function(){return Zu},geoSatelliteRaw:function(){return ou},geoSinuMollweide:function(){return er},geoSinuMollweideRaw:function(){return ar},geoSinusoidal:function(){return Be},geoSinusoidalRaw:function(){return Fe},geoStitch:function(){return Ea},geoTimes:function(){return ss},geoTimesRaw:function(){return Xa},geoTwoPointAzimuthal:function(){return Ja},geoTwoPointAzimuthalRaw:function(){return Dl},geoTwoPointAzimuthalUsa:function(){return zl},geoTwoPointEquidistant:function(){return yl},geoTwoPointEquidistantRaw:function(){return pi},geoTwoPointEquidistantUsa:function(){return ls},geoVanDerGrinten:function(){return Fl},geoVanDerGrinten2:function(){return Go},geoVanDerGrinten2Raw:function(){return Bl},geoVanDerGrinten3:function(){return xl},geoVanDerGrinten3Raw:function(){return Fi},geoVanDerGrinten4:function(){return qr},geoVanDerGrinten4Raw:function(){return Dr},geoVanDerGrintenRaw:function(){return qo},geoWagner:function(){return us},geoWagner4:function(){return kc},geoWagner4Raw:function(){return Si},geoWagner6:function(){return Ci},geoWagner6Raw:function(){return vo},geoWagner7:function(){return ks},geoWagnerRaw:function(){return go},geoWiechel:function(){return ao},geoWiechelRaw:function(){return Hi},geoWinkel3:function(){return Xu},geoWinkel3Raw:function(){return Zs}});var v=e(87952),x=Math.abs,t=Math.atan,b=Math.atan2,g=Math.cos,c=Math.exp,s=Math.floor,n=Math.log,i=Math.max,a=Math.min,r=Math.pow,o=Math.round,l=Math.sign||function(et){return et>0?1:et<0?-1:0},u=Math.sin,h=Math.tan,f=1e-6,T=1e-12,d=Math.PI,y=d/2,m=d/4,w=Math.SQRT1_2,_=I(2),A=I(d),p=2*d,L=180/d,M=d/180;function C(et){return et>1?y:et<-1?-y:Math.asin(et)}function R(et){return et>1?0:et<-1?d:Math.acos(et)}function I(et){return et>0?Math.sqrt(et):0}function D(et){return(c(et)-c(-et))/2}function F(et){return(c(et)+c(-et))/2}function q(et){var rt=h(et/2),ct=2*n(g(et/2))/(rt*rt);function U(Z,Y){var P=g(Z),W=g(Y),ne=u(Y),se=W*P,ve=-((1-se?n((1+se)/2)/(1-se):-.5)+ct/(1+se));return[ve*W*u(Z),ve*ne]}return U.invert=function(Z,Y){var P,W=I(Z*Z+Y*Y),ne=-et/2,se=50;if(!W)return[0,0];do{var ve=ne/2,ke=g(ve),De=u(ve),je=De/ke,We=-n(x(ke));ne-=P=(2/je*We-ct*je-W)/(-We/(De*De)+1-ct/(2*ke*ke))*(ke<0?.7:1)}while(x(P)>f&&--se>0);var $e=u(ne);return[b(Z*$e,W*g(ne)),C(Y*$e/W)]},U}function z(){var et=y,rt=(0,v.U)(q),ct=rt(et);return ct.radius=function(U){return arguments.length?rt(et=U*M):et*L},ct.scale(179.976).clipAngle(147)}function V(et,rt){var ct=g(rt),U=function(Z){return Z?Z/Math.sin(Z):1}(R(ct*g(et/=2)));return[2*ct*u(et)*U,u(rt)*U]}function X(){return(0,v.c)(V).scale(152.63)}function j(et){var rt=u(et),ct=g(et),U=et>=0?1:-1,Z=h(U*et),Y=(1+rt-ct)/2;function P(W,ne){var se=g(ne),ve=g(W/=2);return[(1+se)*u(W),(U*ne>-b(ve,Z)-.001?0:10*-U)+Y+u(ne)*ct-(1+se)*rt*ve]}return P.invert=function(W,ne){var se=0,ve=0,ke=50;do{var De=g(se),je=u(se),We=g(ve),$e=u(ve),at=1+We,pt=at*je-W,vt=Y+$e*ct-at*rt*De-ne,kt=at*De/2,Ot=-je*$e,St=rt*at*je/2,jt=ct*We+rt*De*$e,It=Ot*St-jt*kt,Jt=(vt*Ot-pt*jt)/It/2,$t=(pt*St-vt*kt)/It;x($t)>2&&($t/=2),se-=Jt,ve-=$t}while((x(Jt)>f||x($t)>f)&&--ke>0);return U*ve>-b(g(se),Z)-.001?[2*se,ve]:null},P}function H(){var et=20*M,rt=et>=0?1:-1,ct=h(rt*et),U=(0,v.U)(j),Z=U(et),Y=Z.stream;return Z.parallel=function(P){return arguments.length?(ct=h((rt=(et=P*M)>=0?1:-1)*et),U(et)):et*L},Z.stream=function(P){var W=Z.rotate(),ne=Y(P),se=(Z.rotate([0,0]),Y(P)),ve=Z.precision();return Z.rotate(W),ne.sphere=function(){se.polygonStart(),se.lineStart();for(var ke=-180*rt;rt*ke<180;ke+=90*rt)se.point(ke,90*rt);if(et)for(;rt*(ke-=3*rt*ve)>=-180;)se.point(ke,rt*-b(g(ke*M/2),ct)*L);se.lineEnd(),se.polygonEnd()},ne},Z.scale(218.695).center([0,28.0974])}function G(et,rt){var ct=h(rt/2),U=I(1-ct*ct),Z=1+U*g(et/=2),Y=u(et)*U/Z,P=ct/Z,W=Y*Y,ne=P*P;return[1.3333333333333333*Y*(3+W-3*ne),1.3333333333333333*P*(3+3*W-ne)]}function ie(){return(0,v.c)(G).scale(66.1603)}V.invert=function(et,rt){if(!(et*et+4*rt*rt>d*d+f)){var ct=et,U=rt,Z=25;do{var Y,P=u(ct),W=u(ct/2),ne=g(ct/2),se=u(U),ve=g(U),ke=u(2*U),De=se*se,je=ve*ve,We=W*W,$e=1-je*ne*ne,at=$e?R(ve*ne)*I(Y=1/$e):Y=0,pt=2*at*ve*W-et,vt=at*se-rt,kt=Y*(je*We+at*ve*ne*De),Ot=Y*(.5*P*ke-2*at*se*W),St=.25*Y*(ke*W-at*se*je*P),jt=Y*(De*ne+at*We*ve),It=Ot*St-jt*kt;if(!It)break;var Jt=(vt*Ot-pt*jt)/It,$t=(pt*St-vt*kt)/It;ct-=Jt,U-=$t}while((x(Jt)>f||x($t)>f)&&--Z>0);return[ct,U]}},G.invert=function(et,rt){if(rt*=.375,!(et*=.375)&&x(rt)>1)return null;var ct=1+et*et+rt*rt,U=I((ct-I(ct*ct-4*rt*rt))/2),Z=C(U)/3,Y=U?function(se){return n(se+I(se*se-1))}(x(rt/U))/3:function(se){return n(se+I(se*se+1))}(x(et))/3,P=g(Z),W=F(Y),ne=W*W-P*P;return[2*l(et)*b(D(Y)*P,.25-ne),2*l(rt)*b(W*u(Z),.25+ne)]};var re=I(8),te=n(1+_);function K(et,rt){var ct=x(rt);return ct<m?[et,n(h(m+rt/2))]:[et*g(ct)*(2*_-1/u(ct)),l(rt)*(2*_*(ct-m)-n(h(ct/2)))]}function J(){return(0,v.c)(K).scale(112.314)}K.invert=function(et,rt){if((U=x(rt))<te)return[et,2*t(c(rt))-y];var ct,U,Z=m,Y=25;do{var P=g(Z/2),W=h(Z/2);Z-=ct=(re*(Z-m)-n(W)-U)/(re-P*P/(2*W))}while(x(ct)>T&&--Y>0);return[et/(g(Z)*(re-1/u(Z))),l(rt)*Z]};var $=e(69020);function ae(et){var rt=2*d/et;function ct(U,Z){var Y=(0,$.O)(U,Z);if(x(U)>y){var P=b(Y[1],Y[0]),W=I(Y[0]*Y[0]+Y[1]*Y[1]),ne=rt*o((P-y)/rt)+y,se=b(u(P-=ne),2-g(P));P=ne+C(d/W*u(se))-se,Y[0]=W*g(P),Y[1]=W*u(P)}return Y}return ct.invert=function(U,Z){var Y=I(U*U+Z*Z);if(Y>y){var P=b(Z,U),W=rt*o((P-y)/rt)+y,ne=P>W?-1:1,se=Y*g(W-P),ve=1/h(ne*R((se-d)/I(d*(d-2*se)+Y*Y)));P=W+2*t((ve+ne*I(ve*ve-3))/3),U=Y*g(P),Z=Y*u(P)}return $.O.invert(U,Z)},ct}function ue(){var et=5,rt=(0,v.U)(ae),ct=rt(et),U=ct.stream,Z=.01,Y=-g(Z*M),P=u(Z*M);return ct.lobes=function(W){return arguments.length?rt(et=+W):et},ct.stream=function(W){var ne=ct.rotate(),se=U(W),ve=(ct.rotate([0,0]),U(W));return ct.rotate(ne),se.sphere=function(){ve.polygonStart(),ve.lineStart();for(var ke=0,De=360/et,je=2*d/et,We=90-180/et,$e=y;ke<et;++ke,We-=De,$e-=je)ve.point(b(P*g($e),Y)*L,C(P*u($e))*L),We<-90?(ve.point(-90,-180-We-Z),ve.point(-90,-180-We+Z)):(ve.point(90,We+Z),ve.point(90,We-Z));ve.lineEnd(),ve.polygonEnd()},se},ct.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var ce=e(54724);function de(et,rt){if(arguments.length<2&&(rt=et),rt===1)return ce.y;if(rt===1/0)return pe;function ct(U,Z){var Y=(0,ce.y)(U/rt,Z);return Y[0]*=et,Y}return ct.invert=function(U,Z){var Y=ce.y.invert(U/et,Z);return Y[0]*=rt,Y},ct}function pe(et,rt){return[et*g(rt)/g(rt/=2),2*u(rt)]}function me(){var et=2,rt=(0,v.U)(de),ct=rt(et);return ct.coefficient=function(U){return arguments.length?rt(et=+U):et},ct.scale(169.529)}function be(et,rt,ct){var U,Z,Y,P=100;ct=ct===void 0?0:+ct,rt=+rt;do(Z=et(ct))===(Y=et(ct+f))&&(Y=Z+f),ct-=U=-1*f*(Z-rt)/(Z-Y);while(P-- >0&&x(U)>f);return P<0?NaN:ct}function we(et,rt,ct){return rt===void 0&&(rt=40),ct===void 0&&(ct=T),function(U,Z,Y,P){var W,ne,se;Y=Y===void 0?0:+Y,P=P===void 0?0:+P;for(var ve=0;ve<rt;ve++){var ke=et(Y,P),De=ke[0]-U,je=ke[1]-Z;if(x(De)<ct&&x(je)<ct)break;var We=De*De+je*je;if(We>W)Y-=ne/=2,P-=se/=2;else{W=We;var $e=(Y>0?-1:1)*ct,at=(P>0?-1:1)*ct,pt=et(Y+$e,P),vt=et(Y,P+at),kt=(pt[0]-ke[0])/$e,Ot=(pt[1]-ke[1])/$e,St=(vt[0]-ke[0])/at,jt=(vt[1]-ke[1])/at,It=jt*kt-Ot*St,Jt=(x(It)<.5?.5:1)/It;if(Y+=ne=(je*St-De*jt)*Jt,P+=se=(De*Ot-je*kt)*Jt,x(ne)<ct&&x(se)<ct)break}}return[Y,P]}}function Te(){var et=de(1.68,2);function rt(ct,U){if(ct+U<-1.4){var Z=(ct-U+1.6)*(ct+U+1.4)/8;ct+=Z,U-=.8*Z*u(U+d/2)}var Y=et(ct,U),P=(1-g(ct*U))/12;return Y[1]<0&&(Y[0]*=1+P),Y[1]>0&&(Y[1]*=1+P/1.5*Y[0]*Y[0]),Y}return rt.invert=we(rt),rt}function Le(){return(0,v.c)(Te()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Ie(et,rt){var ct,U=et*u(rt),Z=30;do rt-=ct=(rt+u(rt)-U)/(1+g(rt));while(x(ct)>f&&--Z>0);return rt/2}function _e(et,rt,ct){function U(Z,Y){return[et*Z*g(Y=Ie(ct,Y)),rt*u(Y)]}return U.invert=function(Z,Y){return Y=C(Y/rt),[Z/(et*g(Y)),C((2*Y+u(2*Y))/ct)]},U}pe.invert=function(et,rt){var ct=2*C(rt/2);return[et*g(ct/2)/g(ct),ct]};var fe=_e(_/y,_,d);function le(){return(0,v.c)(fe).scale(169.529)}var ye=2.00276,Oe=1.11072;function Ae(et,rt){var ct=Ie(d,rt);return[ye*et/(1/g(rt)+Oe/g(ct)),(rt+_*u(ct))/ye]}function Se(){return(0,v.c)(Ae).scale(160.857)}function Pe(et){var rt=0,ct=(0,v.U)(et),U=ct(rt);return U.parallel=function(Z){return arguments.length?ct(rt=Z*M):rt*L},U}function Fe(et,rt){return[et*g(rt),rt]}function Be(){return(0,v.c)(Fe).scale(152.63)}function xe(et){if(!et)return Fe;var rt=1/h(et);function ct(U,Z){var Y=rt+et-Z,P=Y&&U*g(Z)/Y;return[Y*u(P),rt-Y*g(P)]}return ct.invert=function(U,Z){var Y=I(U*U+(Z=rt-Z)*Z),P=rt+et-Y;return[Y/g(P)*b(U,Z),P]},ct}function Me(){return Pe(xe).scale(123.082).center([0,26.1441]).parallel(45)}function Ce(et){function rt(ct,U){var Z=y-U,Y=Z&&ct*et*u(Z)/Z;return[Z*u(Y)/et,y-Z*g(Y)]}return rt.invert=function(ct,U){var Z=ct*et,Y=y-U,P=I(Z*Z+Y*Y),W=b(Z,Y);return[(P?P/u(P):1)*W/et,y-P]},rt}function Ne(){var et=.5,rt=(0,v.U)(Ce),ct=rt(et);return ct.fraction=function(U){return arguments.length?rt(et=+U):et},ct.scale(158.837)}Ae.invert=function(et,rt){var ct,U,Z=ye*rt,Y=rt<0?-m:m,P=25;do U=Z-_*u(Y),Y-=ct=(u(2*Y)+2*Y-d*u(U))/(2*g(2*Y)+2+d*g(U)*_*g(Y));while(x(ct)>f&&--P>0);return U=Z-_*u(Y),[et*(1/g(U)+Oe/g(Y))/ye,U]},Fe.invert=function(et,rt){return[et/g(rt),rt]};var Re=_e(1,4/d,d);function He(){return(0,v.c)(Re).scale(152.63)}var Ye=e(24052),Qe=e(92992);function lt(et,rt,ct,U,Z,Y){var P,W=g(Y);if(x(et)>1||x(Y)>1)P=R(ct*Z+rt*U*W);else{var ne=u(et/2),se=u(Y/2);P=2*C(I(ne*ne+rt*U*se*se))}return x(P)>f?[P,b(U*u(Y),rt*Z-ct*U*W)]:[0,0]}function ut(et,rt,ct){return R((et*et+rt*rt-ct*ct)/(2*et*rt))}function xt(et){return et-2*d*s((et+d)/(2*d))}function _t(et,rt,ct){for(var U,Z=[[et[0],et[1],u(et[1]),g(et[1])],[rt[0],rt[1],u(rt[1]),g(rt[1])],[ct[0],ct[1],u(ct[1]),g(ct[1])]],Y=Z[2],P=0;P<3;++P,Y=U)U=Z[P],Y.v=lt(U[1]-Y[1],Y[3],Y[2],U[3],U[2],U[0]-Y[0]),Y.point=[0,0];var W=ut(Z[0].v[0],Z[2].v[0],Z[1].v[0]),ne=ut(Z[0].v[0],Z[1].v[0],Z[2].v[0]),se=d-W;Z[2].point[1]=0,Z[0].point[0]=-(Z[1].point[0]=Z[0].v[0]/2);var ve=[Z[2].point[0]=Z[0].point[0]+Z[2].v[0]*g(W),2*(Z[0].point[1]=Z[1].point[1]=Z[2].v[0]*u(W))];return function(ke,De){var je,We=u(De),$e=g(De),at=new Array(3);for(je=0;je<3;++je){var pt=Z[je];if(at[je]=lt(De-pt[1],pt[3],pt[2],$e,We,ke-pt[0]),!at[je][0])return pt.point;at[je][1]=xt(at[je][1]-pt.v[1])}var vt=ve.slice();for(je=0;je<3;++je){var kt=je==2?0:je+1,Ot=ut(Z[je].v[0],at[je][0],at[kt][0]);at[je][1]<0&&(Ot=-Ot),je?je==1?(Ot=ne-Ot,vt[0]-=at[je][0]*g(Ot),vt[1]-=at[je][0]*u(Ot)):(Ot=se-Ot,vt[0]+=at[je][0]*g(Ot),vt[1]+=at[je][0]*u(Ot)):(vt[0]+=at[je][0]*g(Ot),vt[1]-=at[je][0]*u(Ot))}return vt[0]/=3,vt[1]/=3,vt}}function mt(et){return et[0]*=M,et[1]*=M,et}function it(){return nt([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function nt(et,rt,ct){var U=(0,Ye.c)({type:"MultiPoint",coordinates:[et,rt,ct]}),Z=[-U[0],-U[1]],Y=(0,Qe.c)(Z),P=_t(mt(Y(et)),mt(Y(rt)),mt(Y(ct)));P.invert=we(P);var W=(0,v.c)(P).rotate(Z),ne=W.center;return delete W.rotate,W.center=function(se){return arguments.length?ne(Y(se)):Y.invert(ne())},W.clipAngle(90)}function Et(et,rt){var ct=I(1-u(rt));return[2/A*et*ct,A*(1-ct)]}function zt(){return(0,v.c)(Et).scale(95.6464).center([0,30])}function Ft(et){var rt=h(et);function ct(U,Z){return[U,(U?U/u(U):1)*(u(Z)*g(U)-rt*g(Z))]}return ct.invert=rt?function(U,Z){U&&(Z*=u(U)/U);var Y=g(U);return[U,2*b(I(Y*Y+rt*rt-Z*Z)-Y,rt-Z)]}:function(U,Z){return[U,C(U?Z*h(U)/U:Z)]},ct}function Pt(){return Pe(Ft).scale(249.828).clipAngle(90)}Et.invert=function(et,rt){var ct=(ct=rt/A-1)*ct;return[ct>0?et*I(d/ct)/2:0,C(1-ct)]};var Ze=I(3);function Je(et,rt){return[Ze*et*(2*g(2*rt/3)-1)/A,Ze*A*u(rt/3)]}function qe(){return(0,v.c)(Je).scale(156.19)}function Ke(et){var rt=g(et);function ct(U,Z){return[U*rt,u(Z)/rt]}return ct.invert=function(U,Z){return[U/rt,C(Z*rt)]},ct}function ft(){return Pe(Ke).parallel(38.58).scale(195.044)}function ot(et){var rt=g(et);function ct(U,Z){return[U*rt,(1+rt)*h(Z/2)]}return ct.invert=function(U,Z){return[U/rt,2*t(Z/(1+rt))]},ct}function Ue(){return Pe(ot).scale(124.75)}function Ve(et,rt){var ct=I(8/(3*d));return[ct*et*(1-x(rt)/d),ct*rt]}function st(){return(0,v.c)(Ve).scale(165.664)}function Xe(et,rt){var ct=I(4-3*u(x(rt)));return[2/I(6*d)*et*ct,l(rt)*I(2*d/3)*(2-ct)]}function gt(){return(0,v.c)(Xe).scale(165.664)}function yt(et,rt){var ct=I(d*(4+d));return[2/ct*et*(1+I(1-4*rt*rt/(d*d))),4/ct*rt]}function bt(){return(0,v.c)(yt).scale(180.739)}function dt(et,rt){var ct=(2+y)*u(rt);rt/=2;for(var U=0,Z=1/0;U<10&&x(Z)>f;U++){var Y=g(rt);rt-=Z=(rt+u(rt)*(Y+2)-ct)/(2*Y*(1+Y))}return[2/I(d*(4+d))*et*(1+g(rt)),2*I(d/(4+d))*u(rt)]}function Lt(){return(0,v.c)(dt).scale(180.739)}function wt(et,rt){return[et*(1+g(rt))/I(2+d),2*rt/I(2+d)]}function Ct(){return(0,v.c)(wt).scale(173.044)}function Rt(et,rt){for(var ct=(1+y)*u(rt),U=0,Z=1/0;U<10&&x(Z)>f;U++)rt-=Z=(rt+u(rt)-ct)/(1+g(rt));return ct=I(2+d),[et*(1+g(rt))/ct,2*rt/ct]}function Dt(){return(0,v.c)(Rt).scale(173.044)}Je.invert=function(et,rt){var ct=3*C(rt/(Ze*A));return[A*et/(Ze*(2*g(2*ct/3)-1)),ct]},Ve.invert=function(et,rt){var ct=I(8/(3*d)),U=rt/ct;return[et/(ct*(1-x(U)/d)),U]},Xe.invert=function(et,rt){var ct=2-x(rt)/I(2*d/3);return[et*I(6*d)/(2*ct),l(rt)*C((4-ct*ct)/3)]},yt.invert=function(et,rt){var ct=I(d*(4+d))/2;return[et*ct/(1+I(1-rt*rt*(4+d)/(4*d))),rt*ct/2]},dt.invert=function(et,rt){var ct=rt*I((4+d)/d)/2,U=C(ct),Z=g(U);return[et/(2/I(d*(4+d))*(1+Z)),C((U+ct*(Z+2))/(2+y))]},wt.invert=function(et,rt){var ct=I(2+d),U=rt*ct/2;return[ct*et/(1+g(U)),U]},Rt.invert=function(et,rt){var ct=1+y,U=I(ct/2);return[2*et*U/(1+g(rt*=U)),C((rt+u(rt))/ct)]};var Nt=3+2*_;function Xt(et,rt){var ct=u(et/=2),U=g(et),Z=I(g(rt)),Y=g(rt/=2),P=u(rt)/(Y+_*U*Z),W=I(2/(1+P*P)),ne=I((_*Y+(U+ct)*Z)/(_*Y+(U-ct)*Z));return[Nt*(W*(ne-1/ne)-2*n(ne)),Nt*(W*P*(ne+1/ne)-2*t(P))]}function un(){return(0,v.c)(Xt).scale(62.5271)}Xt.invert=function(et,rt){if(!(ct=G.invert(et/1.2,1.065*rt)))return null;var ct,U=ct[0],Z=ct[1],Y=20;et/=Nt,rt/=Nt;do{var P=U/2,W=Z/2,ne=u(P),se=g(P),ve=u(W),ke=g(W),De=g(Z),je=I(De),We=ve/(ke+_*se*je),$e=We*We,at=I(2/(1+$e)),pt=(_*ke+(se+ne)*je)/(_*ke+(se-ne)*je),vt=I(pt),kt=vt-1/vt,Ot=vt+1/vt,St=at*kt-2*n(vt)-et,jt=at*We*Ot-2*t(We)-rt,It=ve&&w*je*ne*$e/ve,Jt=(_*se*ke+je)/(2*(ke+_*se*je)*(ke+_*se*je)*je),$t=-.5*We*at*at*at,Ht=$t*It,vn=$t*Jt,bn=(bn=2*ke+_*je*(se-ne))*bn*vt,Ln=(_*se*ke*je+De)/bn,zn=-_*ne*ve/(je*bn),Gn=kt*Ht-2*Ln/vt+at*(Ln+Ln/pt),or=kt*vn-2*zn/vt+at*(zn+zn/pt),dr=We*Ot*Ht-2*It/(1+$e)+at*Ot*It+at*We*(Ln-Ln/pt),Xn=We*Ot*vn-2*Jt/(1+$e)+at*Ot*Jt+at*We*(zn-zn/pt),hr=or*dr-Xn*Gn;if(!hr)break;var Ar=(jt*or-St*Xn)/hr,zr=(St*dr-jt*Gn)/hr;U-=Ar,Z=i(-y,a(y,Z-zr))}while((x(Ar)>f||x(zr)>f)&&--Y>0);return x(x(Z)-y)<f?[0,Z]:Y&&[U,Z]};var qt=g(35*M);function Kt(et,rt){var ct=h(rt/2);return[et*qt*I(1-ct*ct),(1+qt)*ct]}function Ut(){return(0,v.c)(Kt).scale(137.152)}function Rn(et,rt){var ct=rt/2,U=g(ct);return[2*et/A*g(rt)*U*U,A*h(ct)]}function An(){return(0,v.c)(Rn).scale(135.264)}function mn(et){var rt=1-et,ct=Z(d,0)[0]-Z(-d,0)[0],U=I(2*(Z(0,y)[1]-Z(0,-y)[1])/ct);function Z(W,ne){var se=g(ne),ve=u(ne);return[se/(rt+et*se)*W,rt*ne+et*ve]}function Y(W,ne){var se=Z(W,ne);return[se[0]*U,se[1]/U]}function P(W){return Y(0,W)[1]}return Y.invert=function(W,ne){var se=be(P,ne);return[W/U*(et+rt/g(se)),se]},Y}function tn(){var et=.5,rt=(0,v.U)(mn),ct=rt(et);return ct.alpha=function(U){return arguments.length?rt(et=+U):et},ct.scale(168.725)}Kt.invert=function(et,rt){var ct=rt/(1+qt);return[et&&et/(qt*I(1-ct*ct)),2*t(ct)]},Rn.invert=function(et,rt){var ct=t(rt/A),U=g(ct),Z=2*ct;return[et*A/2/(g(Z)*U*U),Z]};var fn=e(4888),rn=e(69604);function pn(et){return[et[0]/2,C(h(et[1]/2*M))*L]}function wn(et){return[2*et[0],2*t(u(et[1]*M))*L]}function kn(et){et==null&&(et=fn.c);var rt=et(),ct=(0,rn.c)().scale(L).precision(0).clipAngle(null).translate([0,0]);function U(Y){return rt(pn(Y))}function Z(Y){U[Y]=function(){return arguments.length?(rt[Y].apply(rt,arguments),U):rt[Y]()}}return rt.invert&&(U.invert=function(Y){return wn(rt.invert(Y))}),U.stream=function(Y){var P=rt.stream(Y),W=ct.stream({point:function(ne,se){P.point(ne/2,C(h(-se/2*M))*L)},lineStart:function(){P.lineStart()},lineEnd:function(){P.lineEnd()},polygonStart:function(){P.polygonStart()},polygonEnd:function(){P.polygonEnd()}});return W.sphere=P.sphere,W},U.rotate=function(Y){return arguments.length?(ct.rotate(Y),U):ct.rotate()},U.center=function(Y){return arguments.length?(rt.center(pn(Y)),U):wn(rt.center())},Z("angle"),Z("clipAngle"),Z("clipExtent"),Z("fitExtent"),Z("fitHeight"),Z("fitSize"),Z("fitWidth"),Z("scale"),Z("translate"),Z("precision"),U.scale(249.5)}function Pn(et,rt){var ct=2*d/rt,U=et*et;function Z(Y,P){var W=(0,$.O)(Y,P),ne=W[0],se=W[1],ve=ne*ne+se*se;if(ve>U){var ke=I(ve),De=b(se,ne),je=ct*o(De/ct),We=De-je,$e=et*g(We),at=(et*u(We)-We*u($e))/(y-$e),pt=On(We,at),vt=(d-et)/En(pt,$e,d);ne=ke;var kt,Ot=50;do ne-=kt=(et+En(pt,$e,ne)*vt-ke)/(pt(ne)*vt);while(x(kt)>f&&--Ot>0);se=We*u(ne),ne<y&&(se-=at*(ne-y));var St=u(je),jt=g(je);W[0]=ne*jt-se*St,W[1]=ne*St+se*jt}return W}return Z.invert=function(Y,P){var W=Y*Y+P*P;if(W>U){var ne=I(W),se=b(P,Y),ve=ct*o(se/ct),ke=se-ve;Y=ne*g(ke),P=ne*u(ke);for(var De=Y-y,je=u(Y),We=P/je,$e=Y<y?1/0:0,at=10;;){var pt=et*u(We),vt=et*g(We),kt=u(vt),Ot=y-vt,St=(pt-We*kt)/Ot,jt=On(We,St);if(x($e)<T||!--at)break;We-=$e=(We*je-St*De-P)/(je-2*De*(Ot*(vt+We*pt*g(vt)-kt)-pt*(pt-We*kt))/(Ot*Ot))}Y=(ne=et+En(jt,vt,Y)*(d-et)/En(jt,vt,d))*g(se=ve+We),P=ne*u(se)}return $.O.invert(Y,P)},Z}function On(et,rt){return function(ct){var U=et*g(ct);return ct<y&&(U-=rt),I(1+U*U)}}function En(et,rt,ct){for(var U=(ct-rt)/50,Z=et(rt)+et(ct),Y=1,P=rt;Y<50;++Y)Z+=2*et(P+=U);return .5*Z*U}function Vn(){var et=6,rt=30*M,ct=g(rt),U=u(rt),Z=(0,v.U)(Pn),Y=Z(rt,et),P=Y.stream,W=-g(.01*M),ne=u(.01*M);return Y.radius=function(se){return arguments.length?(ct=g(rt=se*M),U=u(rt),Z(rt,et)):rt*L},Y.lobes=function(se){return arguments.length?Z(rt,et=+se):et},Y.stream=function(se){var ve=Y.rotate(),ke=P(se),De=(Y.rotate([0,0]),P(se));return Y.rotate(ve),ke.sphere=function(){De.polygonStart(),De.lineStart();for(var je=0,We=2*d/et,$e=0;je<et;++je,$e-=We)De.point(b(ne*g($e),W)*L,C(ne*u($e))*L),De.point(b(U*g($e-We/2),ct)*L,C(U*u($e-We/2))*L);De.lineEnd(),De.polygonEnd()},ke},Y.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Bn(et,rt,ct,U,Z,Y,P,W){function ne(se,ve){if(!ve)return[et*se/d,0];var ke=ve*ve,De=et+ke*(rt+ke*(ct+ke*U)),je=ve*(Z-1+ke*(Y-W+ke*P)),We=(De*De+je*je)/(2*je),$e=se*C(De/We)/d;return[We*u($e),ve*(1+ke*W)+We*(1-g($e))]}return arguments.length<8&&(W=0),ne.invert=function(se,ve){var ke,De,je=d*se/et,We=ve,$e=50;do{var at=We*We,pt=et+at*(rt+at*(ct+at*U)),vt=We*(Z-1+at*(Y-W+at*P)),kt=pt*pt+vt*vt,Ot=2*vt,St=kt/Ot,jt=St*St,It=C(pt/St)/d,Jt=je*It,$t=pt*pt,Ht=(2*rt+at*(4*ct+6*at*U))*We,vn=Z+at*(3*Y+5*at*P),bn=(2*(pt*Ht+vt*(vn-1))*Ot-kt*(2*(vn-1)))/(Ot*Ot),Ln=g(Jt),zn=u(Jt),Gn=St*Ln,or=St*zn,dr=je/d*(1/I(1-$t/jt))*(Ht*St-pt*bn)/jt,Xn=or-se,hr=We*(1+at*W)+St-Gn-ve,Ar=bn*zn+Gn*dr,zr=Gn*It,nr=1+bn-(bn*Ln-or*dr),fr=or*It,Lr=Ar*fr-nr*zr;if(!Lr)break;je-=ke=(hr*Ar-Xn*nr)/Lr,We-=De=(Xn*fr-hr*zr)/Lr}while((x(ke)>f||x(De)>f)&&--$e>0);return[je,We]},ne}var Wn=Bn(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function rr(){return(0,v.c)(Wn).scale(149.995)}var ir=Bn(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function Kn(){return(0,v.c)(ir).scale(153.93)}var vr=Bn(5/6*d,-.62636,-.0344,0,1.3493,-.05524,0,.045);function nn(){return(0,v.c)(vr).scale(130.945)}function an(et,rt){var ct=et*et,U=rt*rt;return[et*(1-.162388*U)*(.87-952426e-9*ct*ct),rt*(1+U/12)]}function In(){return(0,v.c)(an).scale(131.747)}an.invert=function(et,rt){var ct,U=et,Z=rt,Y=50;do{var P=Z*Z;Z-=ct=(Z*(1+P/12)-rt)/(1+P/4)}while(x(ct)>f&&--Y>0);Y=50,et/=1-.162388*P;do{var W=(W=U*U)*W;U-=ct=(U*(.87-952426e-9*W)-et)/(.87-.00476213*W)}while(x(ct)>f&&--Y>0);return[U,Z]};var yn=Bn(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function Dn(){return(0,v.c)(yn).scale(131.087)}function $n(et){var rt=et(y,0)[0]-et(-y,0)[0];function ct(U,Z){var Y=U>0?-.5:.5,P=et(U+Y*d,Z);return P[0]-=Y*rt,P}return et.invert&&(ct.invert=function(U,Z){var Y=U>0?-.5:.5,P=et.invert(U+Y*rt,Z),W=P[0]-Y*d;return W<-d?W+=2*d:W>d&&(W-=2*d),P[0]=W,P}),ct}function Hn(et,rt){var ct=l(et),U=l(rt),Z=g(rt),Y=g(et)*Z,P=u(et)*Z,W=u(U*rt);et=x(b(P,W)),rt=C(Y),x(et-y)>f&&(et%=y);var ne=function(se,ve){if(ve===y)return[0,0];var ke,De,je=u(ve),We=je*je,$e=We*We,at=1+$e,pt=1+3*$e,vt=1-$e,kt=C(1/I(at)),Ot=vt+We*at*kt,St=(1-je)/Ot,jt=I(St),It=St*at,Jt=I(It),$t=jt*vt;if(se===0)return[0,-($t+We*Jt)];var Ht,vn=g(ve),bn=1/vn,Ln=2*je*vn,zn=(-Ot*vn-(1-je)*((-3*We+kt*pt)*Ln))/(Ot*Ot),Gn=-bn*Ln,or=-bn*(We*at*zn+St*pt*Ln),dr=-2*bn*(vt*(.5*zn/jt)-2*We*jt*Ln),Xn=4*se/d;if(se>.222*d||ve<d/4&&se>.175*d){if(ke=($t+We*I(It*(1+$e)-$t*$t))/(1+$e),se>d/4)return[ke,ke];var hr=ke,Ar=.5*ke;ke=.5*(Ar+hr),De=50;do{var zr=ke*(dr+Gn*I(It-ke*ke))+or*C(ke/Jt)-Xn;if(!zr)break;zr<0?Ar=ke:hr=ke,ke=.5*(Ar+hr)}while(x(hr-Ar)>f&&--De>0)}else{ke=f,De=25;do{var nr=ke*ke,fr=I(It-nr),Lr=dr+Gn*fr,gr=ke*Lr+or*C(ke/Jt)-Xn;ke-=Ht=fr?gr/(Lr+(or-Gn*nr)/fr):0}while(x(Ht)>f&&--De>0)}return[ke,-$t-We*I(It-ke*ke)]}(et>d/4?y-et:et,rt);return et>d/4&&(W=ne[0],ne[0]=-ne[1],ne[1]=-W),ne[0]*=ct,ne[1]*=-U,ne}function Qn(){return(0,v.c)($n(Hn)).scale(239.75)}function xr(et,rt){var ct,U,Z,Y,P,W;if(rt<f)return[(Y=u(et))-(ct=rt*(et-Y*(U=g(et)))/4)*U,U+ct*Y,1-rt*Y*Y/2,et-ct];if(rt>=1-f)return ct=(1-rt)/4,Z=1/(U=F(et)),[(Y=((W=c(2*(W=et)))-1)/(W+1))+ct*((P=U*D(et))-et)/(U*U),Z-ct*Y*Z*(P-et),Z+ct*Y*Z*(P+et),2*t(c(et))-y+ct*(P-et)/U];var ne=[1,0,0,0,0,0,0,0,0],se=[I(rt),0,0,0,0,0,0,0,0],ve=0;for(U=I(1-rt),P=1;x(se[ve]/ne[ve])>f&&ve<8;)ct=ne[ve++],se[ve]=(ct-U)/2,ne[ve]=(ct+U)/2,U=I(ct*U),P*=2;Z=P*ne[ve]*et;do Z=(C(Y=se[ve]*u(U=Z)/ne[ve])+Z)/2;while(--ve);return[u(Z),Y=g(Z),Y/g(Z-U),Z]}function Qt(et,rt){if(!rt)return et;if(rt===1)return n(h(et/2+m));for(var ct=1,U=I(1-rt),Z=I(rt),Y=0;x(Z)>f;Y++){if(et%d){var P=t(U*h(et)/ct);P<0&&(P+=d),et+=P+~~(et/d)*d}else et+=et;Z=(ct+U)/2,U=I(ct*U),Z=((ct=Z)-U)/2}return et/(r(2,Y)*ct)}function xn(et,rt){var ct=(_-1)/(_+1),U=I(1-ct*ct),Z=Qt(y,U*U),Y=n(h(d/4+x(rt)/2)),P=c(-1*Y)/I(ct),W=function(se,ve){var ke=se*se,De=ve+1,je=1-ke-ve*ve;return[.5*((se>=0?y:-y)-b(je,2*se)),-.25*n(je*je+4*ke)+.5*n(De*De+ke)]}(P*g(-1*et),P*u(-1*et)),ne=function(se,ve,ke){var De=x(se),je=D(x(ve));if(De){var We=1/u(De),$e=1/(h(De)*h(De)),at=-($e+ke*(je*je*We*We)-1+ke),pt=(-at+I(at*at-(ke-1)*$e*4))/2;return[Qt(t(1/I(pt)),ke)*l(se),Qt(t(I((pt/$e-1)/ke)),1-ke)*l(ve)]}return[0,Qt(t(je),1-ke)*l(ve)]}(W[0],W[1],U*U);return[-ne[1],(rt>=0?1:-1)*(.5*Z-ne[0])]}function At(){return(0,v.c)($n(xn)).scale(151.496)}Hn.invert=function(et,rt){x(et)>1&&(et=2*l(et)-et),x(rt)>1&&(rt=2*l(rt)-rt);var ct=l(et),U=l(rt),Z=-ct*et,Y=-U*rt,P=Y/Z<1,W=function(ke,De){for(var je=0,We=1,$e=.5,at=50;;){var pt=$e*$e,vt=I($e),kt=C(1/I(1+pt)),Ot=1-pt+$e*(1+pt)*kt,St=(1-vt)/Ot,jt=I(St),It=St*(1+pt),Jt=jt*(1-pt),$t=I(It-ke*ke),Ht=De+Jt+$e*$t;if(x(We-je)<T||--at==0||Ht===0)break;Ht>0?je=$e:We=$e,$e=.5*(je+We)}if(!at)return null;var vn=C(vt),bn=g(vn),Ln=1/bn,zn=2*vt*bn,Gn=(-Ot*bn-(-3*$e+kt*(1+3*pt))*zn*(1-vt))/(Ot*Ot);return[d/4*(ke*(-2*Ln*((1-pt)*(.5*Gn/jt)-2*$e*jt*zn)+-Ln*zn*$t)+-Ln*($e*(1+pt)*Gn+St*(1+3*pt)*zn)*C(ke/I(It))),vn]}(P?Y:Z,P?Z:Y),ne=W[0],se=W[1],ve=g(se);return P&&(ne=-y-ne),[ct*(b(u(ne)*ve,-u(se))+d),U*C(g(ne)*ve)]},xn.invert=function(et,rt){var ct,U,Z,Y,P,W,ne=(_-1)/(_+1),se=I(1-ne*ne),ve=(U=-et,Z=se*se,(ct=.5*Qt(y,se*se)-rt)?(Y=xr(ct,Z),U?(W=(P=xr(U,1-Z))[1]*P[1]+Z*Y[0]*Y[0]*P[0]*P[0],[[Y[0]*P[2]/W,Y[1]*Y[2]*P[0]*P[1]/W],[Y[1]*P[1]/W,-Y[0]*Y[2]*P[0]*P[2]/W],[Y[2]*P[1]*P[2]/W,-Z*Y[0]*Y[1]*P[0]/W]]):[[Y[0],0],[Y[1],0],[Y[2],0]]):[[0,(P=xr(U,1-Z))[0]/P[1]],[1/P[1],0],[P[2]/P[1],0]]),ke=function(De,je){var We=je[0]*je[0]+je[1]*je[1];return[(De[0]*je[0]+De[1]*je[1])/We,(De[1]*je[0]-De[0]*je[1])/We]}(ve[0],ve[1]);return[b(ke[1],ke[0])/-1,2*t(c(-.5*n(ne*ke[0]*ke[0]+ne*ke[1]*ke[1])))-y]};var Wt=e(61780);function en(et){var rt=u(et),ct=g(et),U=dn(et);function Z(Y,P){var W=U(Y,P);Y=W[0],P=W[1];var ne=u(P),se=g(P),ve=g(Y),ke=R(rt*ne+ct*se*ve),De=u(ke),je=x(De)>f?ke/De:1;return[je*ct*u(Y),(x(Y)>y?je:-je)*(rt*se-ct*ne*ve)]}return U.invert=dn(-et),Z.invert=function(Y,P){var W=I(Y*Y+P*P),ne=-u(W),se=g(W),ve=W*se,ke=-P*ne,De=W*rt,je=I(ve*ve+ke*ke-De*De),We=b(ve*De+ke*je,ke*De-ve*je),$e=(W>y?-1:1)*b(Y*ne,W*g(We)*se+P*u(We)*ne);return U.invert($e,We)},Z}function dn(et){var rt=u(et),ct=g(et);return function(U,Z){var Y=g(Z),P=g(U)*Y,W=u(U)*Y,ne=u(Z);return[b(W,P*ct-ne*rt),C(ne*ct+P*rt)]}}function gn(){var et=0,rt=(0,v.U)(en),ct=rt(et),U=ct.rotate,Z=ct.stream,Y=(0,Wt.c)();return ct.parallel=function(P){if(!arguments.length)return et*L;var W=ct.rotate();return rt(et=P*M).rotate(W)},ct.rotate=function(P){return arguments.length?(U.call(ct,[P[0],P[1]-et*L]),Y.center([-P[0],-P[1]]),ct):((P=U.call(ct))[1]+=et*L,P)},ct.stream=function(P){return(P=Z(P)).sphere=function(){P.polygonStart();var W,ne=Y.radius(89.99)().coordinates[0],se=ne.length-1,ve=-1;for(P.lineStart();++ve<se;)P.point((W=ne[ve])[0],W[1]);for(P.lineEnd(),se=(ne=Y.radius(90.01)().coordinates[0]).length-1,P.lineStart();--ve>=0;)P.point((W=ne[ve])[0],W[1]);P.lineEnd(),P.polygonEnd()},P},ct.scale(79.4187).parallel(45).clipAngle(179.999)}var _n=e(84706),on=e(16016),Yt=C(1-1/3)*L,Zt=Ke(0);function sn(et){var rt=Yt*M,ct=Et(d,rt)[0]-Et(-d,rt)[0],U=Zt(0,rt)[1],Z=Et(0,rt)[1],Y=A-Z,P=p/et,W=4/p,ne=U+Y*Y*4/p;function se(ve,ke){var De,je=x(ke);if(je>rt){var We=a(et-1,i(0,s((ve+d)/P)));(De=Et(ve+=d*(et-1)/et-We*P,je))[0]=De[0]*p/ct-p*(et-1)/(2*et)+We*p/et,De[1]=U+4*(De[1]-Z)*Y/p,ke<0&&(De[1]=-De[1])}else De=Zt(ve,ke);return De[0]*=W,De[1]/=ne,De}return se.invert=function(ve,ke){ve/=W;var De=x(ke*=ne);if(De>U){var je=a(et-1,i(0,s((ve+d)/P)));ve=(ve+d*(et-1)/et-je*P)*ct/p;var We=Et.invert(ve,.25*(De-U)*p/Y+Z);return We[0]-=d*(et-1)/et-je*P,ke<0&&(We[1]=-We[1]),We}return Zt.invert(ve,ke)},se}function hn(et,rt){return[et,1&rt?90-f:Yt]}function Sn(et,rt){return[et,1&rt?-90+f:-Yt]}function Cn(et){return[et[0]*(1-f),et[1]]}function Un(){var et=4,rt=(0,v.U)(sn),ct=rt(et),U=ct.stream;return ct.lobes=function(Z){return arguments.length?rt(et=+Z):et},ct.stream=function(Z){var Y=ct.rotate(),P=U(Z),W=(ct.rotate([0,0]),U(Z));return ct.rotate(Y),P.sphere=function(){var ne,se;(0,on.c)((ne=180/et,se=[].concat((0,_n.ik)(-180,180+ne/2,ne).map(hn),(0,_n.ik)(180,-180-ne/2,-ne).map(Sn)),{type:"Polygon",coordinates:[ne===180?se.map(Cn):se]}),W)},P},ct.scale(239.75)}function qn(et){var rt,ct=1+et,U=C(u(1/ct)),Z=2*I(d/(rt=d+4*U*ct)),Y=.5*Z*(ct+I(et*(2+et))),P=et*et,W=ct*ct;function ne(se,ve){var ke,De,je=1-u(ve);if(je&&je<2){var We,$e=y-ve,at=25;do{var pt=u($e),vt=g($e),kt=U+b(pt,ct-vt),Ot=1+W-2*ct*vt;$e-=We=($e-P*U-ct*pt+Ot*kt-.5*je*rt)/(2*ct*pt*kt)}while(x(We)>T&&--at>0);ke=Z*I(Ot),De=se*kt/d}else ke=Z*(et+je),De=se*U/d;return[ke*u(De),Y-ke*g(De)]}return ne.invert=function(se,ve){var ke=se*se+(ve-=Y)*ve,De=(1+W-ke/(Z*Z))/(2*ct),je=R(De),We=u(je),$e=U+b(We,ct-De);return[C(se/I(ke))*d/$e,C(1-2*(je-P*U-ct*We+(1+W-2*ct*De)*$e)/rt)]},ne}function tr(){var et=1,rt=(0,v.U)(qn),ct=rt(et);return ct.ratio=function(U){return arguments.length?rt(et=+U):et},ct.scale(167.774).center([0,18.67])}var Yn=.7109889596207567,sr=.0528035274542;function ar(et,rt){return rt>-Yn?((et=fe(et,rt))[1]+=sr,et):Fe(et,rt)}function er(){return(0,v.c)(ar).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function mr(et,rt){return x(rt)>Yn?((et=fe(et,rt))[1]-=rt>0?sr:-sr,et):Fe(et,rt)}function Mr(){return(0,v.c)(mr).scale(152.63)}function br(et,rt,ct,U){var Z=I(4*d/(2*ct+(1+et-rt/2)*u(2*ct)+(et+rt)/2*u(4*ct)+rt/2*u(6*ct))),Y=I(U*u(ct)*I((1+et*g(2*ct)+rt*g(4*ct))/(1+et+rt))),P=ct*ne(1);function W(ke){return I(1+et*g(2*ke)+rt*g(4*ke))}function ne(ke){var De=ke*ct;return(2*De+(1+et-rt/2)*u(2*De)+(et+rt)/2*u(4*De)+rt/2*u(6*De))/ct}function se(ke){return W(ke)*u(ke)}var ve=function(ke,De){var je=ct*be(ne,P*u(De)/ct,De/d);isNaN(je)&&(je=ct*l(De));var We=Z*W(je);return[We*Y*ke/d*g(je),We/Y*u(je)]};return ve.invert=function(ke,De){var je=be(se,De*Y/Z);return[ke*d/(g(je)*Z*Y*W(je)),C(ct*ne(je/ct)/P)]},ct===0&&(Z=I(U/d),(ve=function(ke,De){return[ke*Z,u(De)/Z]}).invert=function(ke,De){return[ke/Z,C(De*Z)]}),ve}function ur(){var et=1,rt=0,ct=45*M,U=2,Z=(0,v.U)(br),Y=Z(et,rt,ct,U);return Y.a=function(P){return arguments.length?Z(et=+P,rt,ct,U):et},Y.b=function(P){return arguments.length?Z(et,rt=+P,ct,U):rt},Y.psiMax=function(P){return arguments.length?Z(et,rt,ct=+P*M,U):ct*L},Y.ratio=function(P){return arguments.length?Z(et,rt,ct,U=+P):U},Y.scale(180.739)}function kr(et,rt,ct,U,Z,Y,P,W,ne,se,ve){if(ve.nanEncountered)return NaN;var ke,De,je,We,$e,at,pt,vt,kt,Ot;if(De=et(rt+.25*(ke=ct-rt)),je=et(ct-.25*ke),isNaN(De))ve.nanEncountered=!0;else{if(!isNaN(je))return Ot=((at=(We=ke*(U+4*De+Z)/12)+($e=ke*(Z+4*je+Y)/12))-P)/15,se>ne?(ve.maxDepthCount++,at+Ot):Math.abs(Ot)<W?at+Ot:(vt=kr(et,rt,pt=rt+.5*ke,U,De,Z,We,.5*W,ne,se+1,ve),isNaN(vt)?(ve.nanEncountered=!0,NaN):(kt=kr(et,pt,ct,Z,je,Y,$e,.5*W,ne,se+1,ve),isNaN(kt)?(ve.nanEncountered=!0,NaN):vt+kt));ve.nanEncountered=!0}}function Er(et,rt,ct,U,Z){Z===void 0&&(Z=20);var Y=et(rt),P=et(.5*(rt+ct)),W=et(ct);return kr(et,rt,ct,Y,P,W,(Y+4*P+W)*(ct-rt)/6,U,Z,1,{maxDepthCount:0,nanEncountered:!1})}function $r(et,rt,ct){function U(je){return et+(1-et)*r(1-r(je,rt),1/rt)}function Z(je){return Er(U,0,je,1e-4)}for(var Y=1/Z(1),P=1e3,W=1.00000001*Y,ne=[],se=0;se<=P;se++)ne.push(Z(se/P)*W);function ve(je){var We=0,$e=P,at=500;do ne[at]>je?$e=at:We=at,at=We+$e>>1;while(at>We);var pt=ne[at+1]-ne[at];return pt&&(pt=(je-ne[at+1])/pt),(at+1+pt)/P}var ke=2*ve(1)/d*Y/ct,De=function(je,We){var $e=ve(x(u(We))),at=U($e)*je;return $e/=ke,[at,We>=0?$e:-$e]};return De.invert=function(je,We){var $e;return x(We*=ke)<1&&($e=l(We)*C(Z(x(We))*Y)),[je/U(x(We)),$e]},De}function Ii(){var et=0,rt=2.5,ct=1.183136,U=(0,v.U)($r),Z=U(et,rt,ct);return Z.alpha=function(Y){return arguments.length?U(et=+Y,rt,ct):et},Z.k=function(Y){return arguments.length?U(et,rt=+Y,ct):rt},Z.gamma=function(Y){return arguments.length?U(et,rt,ct=+Y):ct},Z.scale(152.63)}function Di(et,rt){return x(et[0]-rt[0])<f&&x(et[1]-rt[1])<f}function Aa(et,rt){for(var ct,U,Z,Y=-1,P=et.length,W=et[0],ne=[];++Y<P;){U=((ct=et[Y])[0]-W[0])/rt,Z=(ct[1]-W[1])/rt;for(var se=0;se<rt;++se)ne.push([W[0]+se*U,W[1]+se*Z]);W=ct}return ne.push(ct),ne}function Li(et,rt,ct){var U,Z;function Y(ne,se){for(var ve=se<0?-1:1,ke=rt[+(se<0)],De=0,je=ke.length-1;De<je&&ne>ke[De][2][0];++De);var We=et(ne-ke[De][1][0],se);return We[0]+=et(ke[De][1][0],ve*se>ve*ke[De][0][1]?ke[De][0][1]:se)[0],We}ct?Y.invert=ct(Y):et.invert&&(Y.invert=function(ne,se){for(var ve=Z[+(se<0)],ke=rt[+(se<0)],De=0,je=ve.length;De<je;++De){var We=ve[De];if(We[0][0]<=ne&&ne<We[1][0]&&We[0][1]<=se&&se<We[1][1]){var $e=et.invert(ne-et(ke[De][1][0],0)[0],se);return $e[0]+=ke[De][1][0],Di(Y($e[0],$e[1]),[ne,se])?$e:null}}});var P=(0,v.c)(Y),W=P.stream;return P.stream=function(ne){var se=P.rotate(),ve=W(ne),ke=(P.rotate([0,0]),W(ne));return P.rotate(se),ve.sphere=function(){(0,on.c)(U,ke)},ve},P.lobes=function(ne){return arguments.length?(U=function(se){var ve,ke,De,je,We,$e,at,pt=[],vt=se[0].length;for(at=0;at<vt;++at)ke=(ve=se[0][at])[0][0],De=ve[0][1],je=ve[1][1],We=ve[2][0],$e=ve[2][1],pt.push(Aa([[ke+f,De+f],[ke+f,je-f],[We-f,je-f],[We-f,$e+f]],30));for(at=se[1].length-1;at>=0;--at)ke=(ve=se[1][at])[0][0],De=ve[0][1],je=ve[1][1],We=ve[2][0],$e=ve[2][1],pt.push(Aa([[We-f,$e-f],[We-f,je+f],[ke+f,je+f],[ke+f,De-f]],30));return{type:"Polygon",coordinates:[(0,_n.Uf)(pt)]}}(ne),rt=ne.map(function(se){return se.map(function(ve){return[[ve[0][0]*M,ve[0][1]*M],[ve[1][0]*M,ve[1][1]*M],[ve[2][0]*M,ve[2][1]*M]]})}),Z=rt.map(function(se){return se.map(function(ve){var ke,De=et(ve[0][0],ve[0][1])[0],je=et(ve[2][0],ve[2][1])[0],We=et(ve[1][0],ve[0][1])[1],$e=et(ve[1][0],ve[1][1])[1];return We>$e&&(ke=We,We=$e,$e=ke),[[De,We],[je,$e]]})}),P):rt.map(function(se){return se.map(function(ve){return[[ve[0][0]*L,ve[0][1]*L],[ve[1][0]*L,ve[1][1]*L],[ve[2][0]*L,ve[2][1]*L]]})})},rt!=null&&P.lobes(rt),P}ar.invert=function(et,rt){return rt>-Yn?fe.invert(et,rt-sr):Fe.invert(et,rt)},mr.invert=function(et,rt){return x(rt)>Yn?fe.invert(et,rt+(rt>0?sr:-sr)):Fe.invert(et,rt)};var ra=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Gr(){return Li(Ae,ra).scale(160.857)}var Ui=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function $a(){return Li(mr,Ui).scale(152.63)}var Da=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function ds(){return Li(fe,Da).scale(169.529)}var gs=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Jo(){return Li(fe,gs).scale(169.529).rotate([20,0])}var za=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Qo(){return Li(ar,za,we).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var Rs=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function il(){return Li(Fe,Rs).scale(152.63).rotate([-20,0])}function ko(et,rt){return[3/p*et*I(d*d/3-rt*rt),rt]}function Ao(){return(0,v.c)(ko).scale(158.837)}function es(et){function rt(ct,U){if(x(x(U)-y)<f)return[0,U<0?-2:2];var Z=u(U),Y=r((1+Z)/(1-Z),et/2),P=.5*(Y+1/Y)+g(ct*=et);return[2*u(ct)/P,(Y-1/Y)/P]}return rt.invert=function(ct,U){var Z=x(U);if(x(Z-2)<f)return ct?null:[0,l(U)*y];if(Z>2)return null;var Y=(ct/=2)*ct,P=(U/=2)*U,W=2*U/(1+Y+P);return W=r((1+W)/(1-W),1/et),[b(2*ct,1-Y-P)/et,C((W-1)/(W+1))]},rt}function Vi(){var et=.5,rt=(0,v.U)(es),ct=rt(et);return ct.spacing=function(U){return arguments.length?rt(et=+U):et},ct.scale(124.75)}ko.invert=function(et,rt){return[p/3*et/I(d*d/3-rt*rt),rt]};var va=d/_;function vs(et,rt){return[et*(1+I(g(rt)))/2,rt/(g(rt/2)*g(et/6))]}function ts(){return(0,v.c)(vs).scale(97.2672)}function Fo(et,rt){var ct=et*et,U=rt*rt;return[et*(.975534+U*(-.0143059*ct-.119161+-.0547009*U)),rt*(1.00384+ct*(.0802894+-.02855*U+199025e-9*ct)+U*(.0998909+-.0491032*U))]}function Ds(){return(0,v.c)(Fo).scale(139.98)}function ns(et,rt){return[u(et)/g(rt),h(rt)*g(et)]}function zs(){return(0,v.c)(ns).scale(144.049).clipAngle(89.999)}function ms(et){var rt=g(et),ct=h(m+et/2);function U(Z,Y){var P=Y-et,W=x(P)<f?Z*rt:x(W=m+Y/2)<f||x(x(W)-y)<f?0:Z*P/n(h(W)/ct);return[W,P]}return U.invert=function(Z,Y){var P,W=Y+et;return[x(Y)<f?Z/rt:x(P=m+W/2)<f||x(x(P)-y)<f?0:Z*n(h(P)/ct)/Y,W]},U}function Fs(){return Pe(ms).parallel(40).scale(158.837)}function rs(et,rt){return[et,1.25*n(h(m+.4*rt))]}function Yu(){return(0,v.c)(rs).scale(108.318)}function Au(et){var rt=et.length-1;function ct(U,Z){for(var Y,P=g(Z),W=2/(1+P*g(U)),ne=W*P*u(U),se=W*u(Z),ve=rt,ke=et[ve],De=ke[0],je=ke[1];--ve>=0;)De=(ke=et[ve])[0]+ne*(Y=De)-se*je,je=ke[1]+ne*je+se*Y;return[De=ne*(Y=De)-se*je,je=ne*je+se*Y]}return ct.invert=function(U,Z){var Y=20,P=U,W=Z;do{for(var ne,se=rt,ve=et[se],ke=ve[0],De=ve[1],je=0,We=0;--se>=0;)je=ke+P*(ne=je)-W*We,We=De+P*We+W*ne,ke=(ve=et[se])[0]+P*(ne=ke)-W*De,De=ve[1]+P*De+W*ne;var $e,at,pt=(je=ke+P*(ne=je)-W*We)*je+(We=De+P*We+W*ne)*We;P-=$e=((ke=P*(ne=ke)-W*De-U)*je+(De=P*De+W*ne-Z)*We)/pt,W-=at=(De*je-ke*We)/pt}while(x($e)+x(at)>f*f&&--Y>0);if(Y){var vt=I(P*P+W*W),kt=2*t(.5*vt),Ot=u(kt);return[b(P*Ot,vt*g(kt)),vt?C(W*Ot/vt):0]}},ct}vs.invert=function(et,rt){var ct=x(et),U=x(rt),Z=f,Y=y;U<va?Y*=U/va:Z+=6*R(va/U);for(var P=0;P<25;P++){var W=u(Y),ne=I(g(Y)),se=u(Y/2),ve=g(Y/2),ke=u(Z/6),De=g(Z/6),je=.5*Z*(1+ne)-ct,We=Y/(ve*De)-U,$e=ne?-.25*Z*W/ne:0,at=.5*(1+ne),pt=(1+.5*Y*se/ve)/(ve*De),vt=Y/ve*(ke/6)/(De*De),kt=$e*vt-pt*at,Ot=(je*vt-We*at)/kt,St=(We*$e-je*pt)/kt;if(Y-=Ot,Z-=St,x(Ot)<f&&x(St)<f)break}return[et<0?-Z:Z,rt<0?-Y:Y]},Fo.invert=function(et,rt){var ct=l(et)*d,U=rt/2,Z=50;do{var Y=ct*ct,P=U*U,W=ct*U,ne=ct*(.975534+P*(-.0143059*Y-.119161+-.0547009*P))-et,se=U*(1.00384+Y*(.0802894+-.02855*P+199025e-9*Y)+P*(.0998909+-.0491032*P))-rt,ve=.975534-P*(.119161+3*Y*.0143059+.0547009*P),ke=-W*(.238322+.2188036*P+.0286118*Y),De=W*(.1605788+7961e-7*Y+-.0571*P),je=1.00384+Y*(.0802894+199025e-9*Y)+P*(3*(.0998909-.02855*Y)-.245516*P),We=ke*De-je*ve,$e=(se*ke-ne*je)/We,at=(ne*De-se*ve)/We;ct-=$e,U-=at}while((x($e)>f||x(at)>f)&&--Z>0);return Z&&[ct,U]},ns.invert=function(et,rt){var ct=et*et,U=rt*rt+1,Z=ct+U,Y=et?w*I((Z-I(Z*Z-4*ct))/ct):1/I(U);return[C(et*Y),l(rt)*R(Y)]},rs.invert=function(et,rt){return[et,2.5*t(c(.8*rt))-.625*d]};var al=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],yc=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],xc=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],ol=[[.9245,0],[0,0],[.01943,0]],bc=[[.721316,0],[0,0],[-.00881625,-.00617325]];function of(){return ll(al,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function sf(){return ll(yc,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function sl(){return ll(xc,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function is(){return ll(ol,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function Sl(){return ll(bc,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function ll(et,rt){var ct=(0,v.c)(Au(et)).rotate(rt).clipAngle(90),U=(0,Qe.c)(rt),Z=ct.center;return delete ct.rotate,ct.center=function(Y){return arguments.length?Z(U(Y)):U.invert(Z())},ct}var Ql=I(6),ul=I(7);function Bo(et,rt){var ct=C(7*u(rt)/(3*Ql));return[Ql*et*(2*g(2*ct/3)-1)/ul,9*u(ct/3)/ul]}function $u(){return(0,v.c)(Bo).scale(164.859)}function Bs(et,rt){for(var ct,U=(1+w)*u(rt),Z=rt,Y=0;Y<25&&(Z-=ct=(u(Z/2)+u(Z)-U)/(.5*g(Z/2)+g(Z)),!(x(ct)<f));Y++);return[et*(1+2*g(Z)/g(Z/2))/(3*_),2*I(3)*u(Z/2)/I(2+_)]}function ys(){return(0,v.c)(Bs).scale(188.209)}function xs(et,rt){for(var ct,U=I(6/(4+d)),Z=(1+d/4)*u(rt),Y=rt/2,P=0;P<25&&(Y-=ct=(Y/2+u(Y)-Z)/(.5+g(Y)),!(x(ct)<f));P++);return[U*(.5+g(Y))*et/1.5,U*Y]}function Ns(){return(0,v.c)(xs).scale(166.518)}Bo.invert=function(et,rt){var ct=3*C(rt*ul/9);return[et*ul/(Ql*(2*g(2*ct/3)-1)),C(3*u(ct)*Ql/7)]},Bs.invert=function(et,rt){var ct=rt*I(2+_)/(2*I(3)),U=2*C(ct);return[3*_*et/(1+2*g(U)/g(U/2)),C((ct+u(U))/(1+w))]},xs.invert=function(et,rt){var ct=I(6/(4+d)),U=rt/ct;return x(x(U)-y)<f&&(U=U<0?-y:y),[1.5*et/(ct*(.5+g(U))),C((U/2+u(U))/(1+d/4))]};var ci=e(47984);function El(et,rt){var ct=rt*rt,U=ct*ct,Z=ct*U;return[et*(.84719-.13063*ct+Z*Z*(.05494*ct-.04515-.02326*U+.00331*Z)),rt*(1.01183+U*U*(.01926*ct-.02625-.00396*U))]}function lf(){return(0,v.c)(El).scale(175.295)}function Mu(et,rt){return[et*(1+g(rt))/2,2*(rt-h(rt/2))]}function Ll(){return(0,v.c)(Mu).scale(152.63)}El.invert=function(et,rt){var ct,U,Z,Y,P=rt,W=25;do P-=ct=(P*(1.01183+(Z=(U=P*P)*U)*Z*(.01926*U-.02625-.00396*Z))-rt)/(1.01183+Z*Z*(.21186*U-.23625+-.05148*Z));while(x(ct)>T&&--W>0);return[et/(.84719-.13063*(U=P*P)+(Y=U*(Z=U*U))*Y*(.05494*U-.04515-.02326*Z+.00331*Y)),P]},Mu.invert=function(et,rt){for(var ct=rt/2,U=0,Z=1/0;U<10&&x(Z)>f;++U){var Y=g(rt/2);rt-=Z=(rt-h(rt/2)-ct)/(1-.5/(Y*Y))}return[2*et/(1+g(rt)),rt]};var _c=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function uf(){return Li(de(1/0),_c).rotate([20,0]).scale(152.63)}function Su(et,rt){var ct=u(rt),U=g(rt),Z=l(et);if(et===0||x(rt)===y)return[0,rt];if(rt===0)return[et,0];if(x(et)===y)return[et*U,y*ct];var Y=d/(2*et)-2*et/d,P=2*rt/d,W=(1-P*P)/(ct-P),ne=Y*Y,se=W*W,ve=1+ne/se,ke=1+se/ne,De=(Y*ct/W-Y/2)/ve,je=(se*ct/ne+W/2)/ke,We=je*je-(se*ct*ct/ne+W*ct-1)/ke;return[y*(De+I(De*De+U*U/ve)*Z),y*(je+I(We<0?0:We)*l(-rt*Y)*Z)]}function cf(){return(0,v.c)(Su).scale(127.267)}Su.invert=function(et,rt){var ct=(et/=y)*et,U=ct+(rt/=y)*rt,Z=d*d;return[et?(U-1+I((1-U)*(1-U)+4*ct))/(2*et)*y:0,be(function(Y){return U*(d*u(Y)-2*Y)*d+4*Y*Y*(rt-u(Y))+2*d*Y-Z*rt},0)]};var js=1.0148,cl=.23185,bs=-.14499,No=.02406,Cl=js,wc=5*cl,eu=7*bs,Eu=9*No,ho=1.790857183;function Lu(et,rt){var ct=rt*rt;return[et,rt*(js+ct*ct*(cl+ct*(bs+No*ct)))]}function Tc(){return(0,v.c)(Lu).scale(139.319)}function Pl(et,rt){if(x(rt)<f)return[et,0];var ct=h(rt),U=et*u(rt);return[u(U)/ct,rt+(1-g(U))/ct]}function fl(){return(0,v.c)(Pl).scale(103.74)}Lu.invert=function(et,rt){rt>ho?rt=ho:rt<-1.790857183&&(rt=-1.790857183);var ct,U=rt;do{var Z=U*U;U-=ct=(U*(js+Z*Z*(cl+Z*(bs+No*Z)))-rt)/(Cl+Z*Z*(wc+Z*(eu+Eu*Z)))}while(x(ct)>f);return[et,U]},Pl.invert=function(et,rt){if(x(rt)<f)return[et,0];var ct,U=et*et+rt*rt,Z=.5*rt,Y=10;do{var P=h(Z),W=1/g(Z),ne=U-2*rt*Z+Z*Z;Z-=ct=(P*ne+2*(Z-rt))/(2+ne*W*W+2*(Z-rt)*P)}while(x(ct)>f&&--Y>0);return P=h(Z),[(x(rt)<x(Z+1/P)?C(et*P):l(rt)*l(et)*(R(x(et*P))+y))/u(Z),Z]};var Ol=e(13696),hl=e(27284);function pl(et,rt){return[et[0]*rt[0]+et[1]*rt[3],et[0]*rt[1]+et[1]*rt[4],et[0]*rt[2]+et[1]*rt[5]+et[2],et[3]*rt[0]+et[4]*rt[3],et[3]*rt[1]+et[4]*rt[4],et[3]*rt[2]+et[4]*rt[5]+et[5]]}function tu(et,rt){return[et[0]-rt[0],et[1]-rt[1]]}function Cu(et){return I(et[0]*et[0]+et[1]*et[1])}function Mi(et,rt,ct){function U(W,ne){var se,ve=rt(W,ne),ke=ve.project([W*L,ne*L]);return(se=ve.transform)?[se[0]*ke[0]+se[1]*ke[1]+se[2],-(se[3]*ke[0]+se[4]*ke[1]+se[5])]:(ke[1]=-ke[1],ke)}function Z(W,ne){var se=W.project.invert,ve=W.transform,ke=ne;if(ve&&(ve=function(at){var pt=1/(at[0]*at[4]-at[1]*at[3]);return[pt*at[4],-pt*at[1],pt*(at[1]*at[5]-at[2]*at[4]),-pt*at[3],pt*at[0],pt*(at[2]*at[3]-at[0]*at[5])]}(ve),ke=[ve[0]*ke[0]+ve[1]*ke[1]+ve[2],ve[3]*ke[0]+ve[4]*ke[1]+ve[5]]),se&&W===function(at){return rt(at[0]*M,at[1]*M)}(De=se(ke)))return De;for(var De,je=W.children,We=0,$e=je&&je.length;We<$e;++We)if(De=Z(je[We],ne))return De}(function W(ne,se){if(ne.edges=function(St){for(var jt=St.length,It=[],Jt=St[jt-1],$t=0;$t<jt;++$t)It.push([Jt,Jt=St[$t]]);return It}(ne.face),se.face){var ve=ne.shared=function(St,jt){for(var It,Jt,$t=St.length,Ht=null,vn=0;vn<$t;++vn){It=St[vn];for(var bn=jt.length;--bn>=0;)if(Jt=jt[bn],It[0]===Jt[0]&&It[1]===Jt[1]){if(Ht)return[Ht,It];Ht=It}}}(ne.face,se.face),ke=($e=ve.map(se.project),at=ve.map(ne.project),pt=tu($e[1],$e[0]),vt=tu(at[1],at[0]),kt=function(St,jt){return b(St[0]*jt[1]-St[1]*jt[0],St[0]*jt[0]+St[1]*jt[1])}(pt,vt),Ot=Cu(pt)/Cu(vt),pl([1,0,$e[0][0],0,1,$e[0][1]],pl([Ot,0,0,0,Ot,0],pl([g(kt),u(kt),0,-u(kt),g(kt),0],[1,0,-at[0][0],0,1,-at[0][1]]))));ne.transform=se.transform?pl(se.transform,ke):ke;for(var De=se.edges,je=0,We=De.length;je<We;++je)Fa(ve[0],De[je][1])&&Fa(ve[1],De[je][0])&&(De[je]=ne),Fa(ve[0],De[je][0])&&Fa(ve[1],De[je][1])&&(De[je]=ne);for(je=0,We=(De=ne.edges).length;je<We;++je)Fa(ve[0],De[je][0])&&Fa(ve[1],De[je][1])&&(De[je]=se),Fa(ve[0],De[je][1])&&Fa(ve[1],De[je][0])&&(De[je]=se)}else ne.transform=se.transform;var $e,at,pt,vt,kt,Ot;return ne.children&&ne.children.forEach(function(St){W(St,ne)}),ne})(et,{transform:null}),jo(et)&&(U.invert=function(W,ne){var se=Z(et,[W,-ne]);return se&&(se[0]*=M,se[1]*=M,se)});var Y=(0,v.c)(U),P=Y.stream;return Y.stream=function(W){var ne=Y.rotate(),se=P(W),ve=(Y.rotate([0,0]),P(W));return Y.rotate(ne),se.sphere=function(){ve.polygonStart(),ve.lineStart(),Us(ve,et),ve.lineEnd(),ve.polygonEnd()},se},Y.angle(ct==null?-30:ct*L)}function Us(et,rt,ct){var U,Z,Y=rt.edges,P=Y.length,W={type:"MultiPoint",coordinates:rt.face},ne=rt.face.filter(function($e){return x($e[1])!==90}),se=(0,Ol.c)({type:"MultiPoint",coordinates:ne}),ve=!1,ke=-1,De=se[1][0]-se[0][0],je=De===180||De===360?[(se[0][0]+se[1][0])/2,(se[0][1]+se[1][1])/2]:(0,Ye.c)(W);if(ct)for(;++ke<P&&Y[ke]!==ct;);++ke;for(var We=0;We<P;++We)Z=Y[(We+ke)%P],Array.isArray(Z)?(ve||(et.point((U=(0,hl.c)(Z[0],je)(f))[0],U[1]),ve=!0),et.point((U=(0,hl.c)(Z[1],je)(f))[0],U[1])):(ve=!1,Z!==ct&&Us(et,Z,rt))}function Fa(et,rt){return et&&rt&&et[0]===rt[0]&&et[1]===rt[1]}function jo(et){return et.project.invert||et.children&&et.children.some(jo)}var mi=e(53285),Ti=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],po=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(et){return et.map(function(rt){return Ti[rt]})});function Il(et){et=et||function(ct){var U=(0,Ye.c)({type:"MultiPoint",coordinates:ct});return(0,mi.c)().scale(1).translate([0,0]).rotate([-U[0],-U[1]])};var rt=po.map(function(ct){return{face:ct,project:et(ct)}});return[-1,0,0,1,0,1,4,5].forEach(function(ct,U){var Z=rt[ct];Z&&(Z.children||(Z.children=[])).push(rt[U])}),Mi(rt[0],function(ct,U){return rt[ct<-d/2?U<0?6:4:ct<0?U<0?2:0:ct<d/2?U<0?3:1:U<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var nu=2/I(3);function Pu(et,rt){var ct=Et(et,rt);return[ct[0]*nu,ct[1]]}function ru(et){et=et||function(ct){var U=(0,Ye.c)({type:"MultiPoint",coordinates:ct});return(0,v.c)(Pu).translate([0,0]).scale(1).rotate(U[1]>0?[-U[0],0]:[180-U[0],180])};var rt=po.map(function(ct){return{face:ct,project:et(ct)}});return[-1,0,0,1,0,1,4,5].forEach(function(ct,U){var Z=rt[ct];Z&&(Z.children||(Z.children=[])).push(rt[U])}),Mi(rt[0],function(ct,U){return rt[ct<-d/2?U<0?6:4:ct<0?U<0?2:0:ct<d/2?U<0?3:1:U<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function iu(et){et=et||function(Y){var P=Y.length===6?(0,Ye.c)({type:"MultiPoint",coordinates:Y}):Y[0];return(0,mi.c)().scale(1).translate([0,0]).rotate([-P[0],-P[1]])};var rt=po.map(function(Y){for(var P,W=Y.map(Hs),ne=W.length,se=W[ne-1],ve=[],ke=0;ke<ne;++ke)P=W[ke],ve.push(Vs([.9486832980505138*se[0]+.31622776601683794*P[0],.9486832980505138*se[1]+.31622776601683794*P[1],.9486832980505138*se[2]+.31622776601683794*P[2]]),Vs([.9486832980505138*P[0]+.31622776601683794*se[0],.9486832980505138*P[1]+.31622776601683794*se[1],.9486832980505138*P[2]+.31622776601683794*se[2]])),se=P;return ve}),ct=[],U=[-1,0,0,1,0,1,4,5];rt.forEach(function(Y,P){for(var W,ne,se=po[P],ve=se.length,ke=ct[P]=[],De=0;De<ve;++De)rt.push([se[De],Y[(2*De+2)%(2*ve)],Y[(2*De+1)%(2*ve)]]),U.push(P),ke.push((W=Hs(Y[(2*De+2)%(2*ve)]),ne=Hs(Y[(2*De+1)%(2*ve)]),[W[1]*ne[2]-W[2]*ne[1],W[2]*ne[0]-W[0]*ne[2],W[0]*ne[1]-W[1]*ne[0]]))});var Z=rt.map(function(Y){return{project:et(Y),face:Y}});return U.forEach(function(Y,P){var W=Z[Y];W&&(W.children||(W.children=[])).push(Z[P])}),Mi(Z[0],function(Y,P){var W=g(P),ne=[W*g(Y),W*u(Y),u(P)],se=Y<-d/2?P<0?6:4:Y<0?P<0?2:0:Y<d/2?P<0?3:1:P<0?7:5,ve=ct[se];return Z[Mo(ve[0],ne)<0?8+3*se:Mo(ve[1],ne)<0?8+3*se+1:Mo(ve[2],ne)<0?8+3*se+2:se]}).angle(-30).scale(110.625).center([0,45])}function Mo(et,rt){for(var ct=0,U=et.length,Z=0;ct<U;++ct)Z+=et[ct]*rt[ct];return Z}function Vs(et){return[b(et[1],et[0])*L,C(i(-1,a(1,et[2])))*L]}function Hs(et){var rt=et[0]*M,ct=et[1]*M,U=g(ct);return[U*g(rt),U*u(rt),u(ct)]}function Ha(){}function au(et,rt){var ct,U=rt.stream;if(!U)throw new Error("invalid projection");switch(et&&et.type){case"Feature":ct=ma;break;case"FeatureCollection":ct=So;break;default:ct=Ma}return ct(et,U)}function So(et,rt){return{type:"FeatureCollection",features:et.features.map(function(ct){return ma(ct,rt)})}}function ma(et,rt){return{type:"Feature",id:et.id,properties:et.properties,geometry:Ma(et.geometry,rt)}}function Ma(et,rt){if(!et)return null;if(et.type==="GeometryCollection")return function(U,Z){return{type:"GeometryCollection",geometries:U.geometries.map(function(Y){return Ma(Y,Z)})}}(et,rt);var ct;switch(et.type){case"Point":case"MultiPoint":ct=as;break;case"LineString":case"MultiLineString":ct=dl;break;case"Polygon":case"MultiPolygon":case"Sphere":ct=Uo;break;default:return null}return(0,on.c)(et,rt(ct)),ct.result()}Pu.invert=function(et,rt){return Et.invert(et/nu,rt)};var Ri=[],Sa=[],as={point:function(et,rt){Ri.push([et,rt])},result:function(){var et=Ri.length?Ri.length<2?{type:"Point",coordinates:Ri[0]}:{type:"MultiPoint",coordinates:Ri}:null;return Ri=[],et}},dl={lineStart:Ha,point:function(et,rt){Ri.push([et,rt])},lineEnd:function(){Ri.length&&(Sa.push(Ri),Ri=[])},result:function(){var et=Sa.length?Sa.length<2?{type:"LineString",coordinates:Sa[0]}:{type:"MultiLineString",coordinates:Sa}:null;return Sa=[],et}},Uo={polygonStart:Ha,lineStart:Ha,point:function(et,rt){Ri.push([et,rt])},lineEnd:function(){var et=Ri.length;if(et){do Ri.push(Ri[0].slice());while(++et<4);Sa.push(Ri),Ri=[]}},polygonEnd:Ha,result:function(){if(!Sa.length)return null;var et=[],rt=[];return Sa.forEach(function(ct){(function(U){if((Z=U.length)<4)return!1;for(var Z,Y=0,P=U[Z-1][1]*U[0][0]-U[Z-1][0]*U[0][1];++Y<Z;)P+=U[Y-1][1]*U[Y][0]-U[Y-1][0]*U[Y][1];return P<=0})(ct)?et.push([ct]):rt.push(ct)}),rt.forEach(function(ct){var U=ct[0];et.some(function(Z){if(function(Y,P){for(var W=P[0],ne=P[1],se=!1,ve=0,ke=Y.length,De=ke-1;ve<ke;De=ve++){var je=Y[ve],We=je[0],$e=je[1],at=Y[De],pt=at[0],vt=at[1];$e>ne^vt>ne&&W<(pt-We)*(ne-$e)/(vt-$e)+We&&(se=!se)}return se}(Z[0],U))return Z.push(ct),!0})||et.push([ct])}),Sa=[],et.length?et.length>1?{type:"MultiPolygon",coordinates:et}:{type:"Polygon",coordinates:et[0]}:null}};function qs(et){var rt=et(y,0)[0]-et(-y,0)[0];function ct(U,Z){var Y=x(U)<y,P=et(Y?U:U>0?U-d:U+d,Z),W=(P[0]-P[1])*w,ne=(P[0]+P[1])*w;if(Y)return[W,ne];var se=rt*w,ve=W>0^ne>0?-1:1;return[ve*W-l(ne)*se,ve*ne-l(W)*se]}return et.invert&&(ct.invert=function(U,Z){var Y=(U+Z)*w,P=(Z-U)*w,W=x(Y)<.5*rt&&x(P)<.5*rt;if(!W){var ne=rt*w,se=Y>0^P>0?-1:1,ve=-se*U+(P>0?1:-1)*ne,ke=-se*Z+(Y>0?1:-1)*ne;Y=(-ve-ke)*w,P=(ve-ke)*w}var De=et.invert(Y,P);return W||(De[0]+=Y>0?d:-d),De}),(0,v.c)(ct).rotate([-90,-90,45]).clipAngle(179.999)}function Za(){return qs(Hn).scale(176.423)}function vl(){return qs(xn).scale(111.48)}function _s(et,rt){if(!(0<=(rt=+rt)&&rt<=20))throw new Error("invalid digits");function ct(se){var ve=se.length,ke=2,De=new Array(ve);for(De[0]=+se[0].toFixed(rt),De[1]=+se[1].toFixed(rt);ke<ve;)De[ke]=se[ke],++ke;return De}function U(se){return se.map(ct)}function Z(se){for(var ve=ct(se[0]),ke=[ve],De=1;De<se.length;De++){var je=ct(se[De]);(je.length>2||je[0]!=ve[0]||je[1]!=ve[1])&&(ke.push(je),ve=je)}return ke.length===1&&se.length>1&&ke.push(ct(se[se.length-1])),ke}function Y(se){return se.map(Z)}function P(se){if(se==null)return se;var ve;switch(se.type){case"GeometryCollection":ve={type:"GeometryCollection",geometries:se.geometries.map(P)};break;case"Point":ve={type:"Point",coordinates:ct(se.coordinates)};break;case"MultiPoint":ve={type:se.type,coordinates:U(se.coordinates)};break;case"LineString":ve={type:se.type,coordinates:Z(se.coordinates)};break;case"MultiLineString":case"Polygon":ve={type:se.type,coordinates:Y(se.coordinates)};break;case"MultiPolygon":ve={type:"MultiPolygon",coordinates:se.coordinates.map(Y)};break;default:return se}return se.bbox!=null&&(ve.bbox=se.bbox),ve}function W(se){var ve={type:"Feature",properties:se.properties,geometry:P(se.geometry)};return se.id!=null&&(ve.id=se.id),se.bbox!=null&&(ve.bbox=se.bbox),ve}if(et!=null)switch(et.type){case"Feature":return W(et);case"FeatureCollection":var ne={type:"FeatureCollection",features:et.features.map(W)};return et.bbox!=null&&(ne.bbox=et.bbox),ne;default:return P(et)}return et}function Eo(et){var rt=u(et);function ct(U,Z){var Y=rt?h(U*rt/2)/rt:U/2;if(!Z)return[2*Y,-et];var P=2*t(Y*u(Z)),W=1/h(Z);return[u(P)*W,Z+(1-g(P))*W-et]}return ct.invert=function(U,Z){if(x(Z+=et)<f)return[rt?2*t(rt*U/2)/rt:U,0];var Y,P=U*U+Z*Z,W=0,ne=10;do{var se=h(W),ve=1/g(W),ke=P-2*Z*W+W*W;W-=Y=(se*ke+2*(W-Z))/(2+ke*ve*ve+2*(W-Z)*se)}while(x(Y)>f&&--ne>0);var De=U*(se=h(W)),je=h(x(Z)<x(W+1/se)?.5*C(De):.5*R(De)+d/4)/u(W);return[rt?2*t(rt*je)/rt:2*je,W]},ct}function Lo(){return Pe(Eo).scale(131.215)}var zi=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function Vo(et,rt){var ct,U=a(18,36*x(rt)/d),Z=s(U),Y=U-Z,P=(ct=zi[Z])[0],W=ct[1],ne=(ct=zi[++Z])[0],se=ct[1],ve=(ct=zi[a(19,++Z)])[0],ke=ct[1];return[et*(ne+Y*(ve-P)/2+Y*Y*(ve-2*ne+P)/2),(rt>0?y:-y)*(se+Y*(ke-W)/2+Y*Y*(ke-2*se+W)/2)]}function Or(){return(0,v.c)(Vo).scale(152.63)}function ou(et,rt){var ct=function(P){function W(ne,se){var ve=g(se),ke=(P-1)/(P-ve*g(ne));return[ke*ve*u(ne),ke*u(se)]}return W.invert=function(ne,se){var ve=ne*ne+se*se,ke=I(ve),De=(P-I(1-ve*(P+1)/(P-1)))/((P-1)/ke+ke/(P-1));return[b(ne*De,ke*I(1-De*De)),ke?C(se*De/ke):0]},W}(et);if(!rt)return ct;var U=g(rt),Z=u(rt);function Y(P,W){var ne=ct(P,W),se=ne[1],ve=se*Z/(et-1)+U;return[ne[0]*U/ve,se/ve]}return Y.invert=function(P,W){var ne=(et-1)/(et-1-W*Z);return ct.invert(ne*P,ne*W*U)},Y}function Zu(){var et=2,rt=0,ct=(0,v.U)(ou),U=ct(et,rt);return U.distance=function(Z){return arguments.length?ct(et=+Z,rt):et},U.tilt=function(Z){return arguments.length?ct(et,rt=Z*M):rt*L},U.scale(432.147).clipAngle(R(1/et)*L-1e-6)}zi.forEach(function(et){et[1]*=1.0144}),Vo.invert=function(et,rt){var ct=rt/y,U=90*ct,Z=a(18,x(U/5)),Y=i(0,s(Z));do{var P=zi[Y][1],W=zi[Y+1][1],ne=zi[a(19,Y+2)][1],se=ne-P,ve=ne-2*W+P,ke=2*(x(ct)-W)/se,De=ve/se,je=ke*(1-De*ke*(1-2*De*ke));if(je>=0||Y===1){U=(rt>=0?5:-5)*(je+Z);var We,$e=50;do je=(Z=a(18,x(U)/5))-(Y=s(Z)),P=zi[Y][1],W=zi[Y+1][1],ne=zi[a(19,Y+2)][1],U-=(We=(rt>=0?y:-y)*(W+je*(ne-P)/2+je*je*(ne-2*W+P)/2)-rt)*L;while(x(We)>T&&--$e>0);break}}while(--Y>=0);var at=zi[Y][0],pt=zi[Y+1][0],vt=zi[a(19,Y+2)][0];return[et/(pt+je*(vt-at)/2+je*je*(vt-2*pt+at)/2),U*M]};var Gs=1e-4,Ws=1e4,ml=-180,Rl=ml+Gs,Tr=180,su=Tr-Gs,ws=-90,ya=ws+Gs,Ys=90,Ho=Ys-Gs;function Co(et){return et.length>0}function qa(et){return et===ws||et===Ys?[0,et]:[ml,(rt=et,Math.floor(rt*Ws)/Ws)];var rt}function os(et){var rt=et[0],ct=et[1],U=!1;return rt<=Rl?(rt=ml,U=!0):rt>=su&&(rt=Tr,U=!0),ct<=ya?(ct=ws,U=!0):ct>=Ho&&(ct=Ys,U=!0),U?[rt,ct]:et}function Po(et){return et.map(os)}function Ts(et,rt,ct){for(var U=0,Z=et.length;U<Z;++U){var Y=et[U].slice();ct.push({index:-1,polygon:rt,ring:Y});for(var P=0,W=Y.length;P<W;++P){var ne=Y[P],se=ne[0],ve=ne[1];if(se<=Rl||se>=su||ve<=ya||ve>=Ho){Y[P]=os(ne);for(var ke=P+1;ke<W;++ke){var De=Y[ke],je=De[0],We=De[1];if(je>Rl&&je<su&&We>ya&&We<Ho)break}if(ke===P+1)continue;if(P){var $e={index:-1,polygon:rt,ring:Y.slice(0,P+1)};$e.ring[$e.ring.length-1]=qa(ve),ct[ct.length-1]=$e}else ct.pop();if(ke>=W)break;ct.push({index:-1,polygon:rt,ring:Y=Y.slice(ke-1)}),Y[0]=qa(Y[0][1]),P=-1,W=Y.length}}}}function lu(et){var rt,ct,U,Z,Y,P,W=et.length,ne={},se={};for(rt=0;rt<W;++rt)U=(ct=et[rt]).ring[0],Y=ct.ring[ct.ring.length-1],U[0]!==Y[0]||U[1]!==Y[1]?(ct.index=rt,ne[U]=se[Y]=ct):(ct.polygon.push(ct.ring),et[rt]=null);for(rt=0;rt<W;++rt)if(ct=et[rt]){if(U=ct.ring[0],Y=ct.ring[ct.ring.length-1],Z=se[U],P=ne[Y],delete ne[U],delete se[Y],U[0]===Y[0]&&U[1]===Y[1]){ct.polygon.push(ct.ring);continue}Z?(delete se[U],delete ne[Z.ring[0]],Z.ring.pop(),et[Z.index]=null,ct={index:-1,polygon:Z.polygon,ring:Z.ring.concat(ct.ring)},Z===P?ct.polygon.push(ct.ring):(ct.index=W++,et.push(ne[ct.ring[0]]=se[ct.ring[ct.ring.length-1]]=ct))):P?(delete ne[Y],delete se[P.ring[P.ring.length-1]],ct.ring.pop(),ct={index:W++,polygon:P.polygon,ring:ct.ring.concat(P.ring)},et[P.index]=null,et.push(ne[ct.ring[0]]=se[ct.ring[ct.ring.length-1]]=ct)):(ct.ring.push(ct.ring[0]),ct.polygon.push(ct.ring))}}function $s(et){var rt={type:"Feature",geometry:gi(et.geometry)};return et.id!=null&&(rt.id=et.id),et.bbox!=null&&(rt.bbox=et.bbox),et.properties!=null&&(rt.properties=et.properties),rt}function gi(et){if(et==null)return et;var rt,ct,U,Z;switch(et.type){case"GeometryCollection":rt={type:"GeometryCollection",geometries:et.geometries.map(gi)};break;case"Point":rt={type:"Point",coordinates:os(et.coordinates)};break;case"MultiPoint":case"LineString":rt={type:et.type,coordinates:Po(et.coordinates)};break;case"MultiLineString":rt={type:"MultiLineString",coordinates:et.coordinates.map(Po)};break;case"Polygon":var Y=[];Ts(et.coordinates,Y,ct=[]),lu(ct),rt={type:"Polygon",coordinates:Y};break;case"MultiPolygon":ct=[],U=-1,Z=et.coordinates.length;for(var P=new Array(Z);++U<Z;)Ts(et.coordinates[U],P[U]=[],ct);lu(ct),rt={type:"MultiPolygon",coordinates:P.filter(Co)};break;default:return et}return et.bbox!=null&&(rt.bbox=et.bbox),rt}function Ea(et){if(et==null)return et;switch(et.type){case"Feature":return $s(et);case"FeatureCollection":var rt={type:"FeatureCollection",features:et.features.map($s)};return et.bbox!=null&&(rt.bbox=et.bbox),rt;default:return gi(et)}}function Xa(et,rt){var ct=h(rt/2),U=u(m*ct);return[et*(.74482-.34588*U*U),1.70711*ct]}function ss(){return(0,v.c)(Xa).scale(146.153)}function Ka(et,rt,ct){var U=(0,hl.c)(rt,ct),Z=U(.5),Y=(0,Qe.c)([-Z[0],-Z[1]])(rt),P=U.distance/2,W=-C(u(Y[1]*M)/u(P)),ne=[-Z[0],-Z[1],-(Y[0]>0?d-W:W)*L],se=(0,v.c)(et(P)).rotate(ne),ve=(0,Qe.c)(ne),ke=se.center;return delete se.rotate,se.center=function(De){return arguments.length?ke(ve(De)):ve.invert(ke())},se.clipAngle(90)}function Dl(et){var rt=g(et);function ct(U,Z){var Y=(0,mi.Y)(U,Z);return Y[0]*=rt,Y}return ct.invert=function(U,Z){return mi.Y.invert(U/rt,Z)},ct}function zl(){return Ja([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Ja(et,rt){return Ka(Dl,et,rt)}function pi(et){if(!(et*=2))return $.O;var rt=-et/2,ct=-rt,U=et*et,Z=h(ct),Y=.5/u(ct);function P(W,ne){var se=R(g(ne)*g(W-rt)),ve=R(g(ne)*g(W-ct));return[((se*=se)-(ve*=ve))/(2*et),(ne<0?-1:1)*I(4*U*ve-(U-se+ve)*(U-se+ve))/(2*et)]}return P.invert=function(W,ne){var se,ve,ke=ne*ne,De=g(I(ke+(se=W+rt)*se)),je=g(I(ke+(se=W+ct)*se));return[b(ve=De-je,se=(De+je)*Z),(ne<0?-1:1)*R(I(se*se+ve*ve)*Y)]},P}function ls(){return yl([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function yl(et,rt){return Ka(pi,et,rt)}function qo(et,rt){if(x(rt)<f)return[et,0];var ct=x(rt/y),U=C(ct);if(x(et)<f||x(x(rt)-y)<f)return[0,l(rt)*d*h(U/2)];var Z=g(U),Y=x(d/et-et/d)/2,P=Y*Y,W=Z/(ct+Z-1),ne=W*(2/ct-1),se=ne*ne,ve=se+P,ke=W-se,De=P+W;return[l(et)*d*(Y*ke+I(P*ke*ke-ve*(W*W-se)))/ve,l(rt)*d*(ne*De-Y*I((P+1)*ve-De*De))/ve]}function Fl(){return(0,v.c)(qo).scale(79.4183)}function Bl(et,rt){if(x(rt)<f)return[et,0];var ct=x(rt/y),U=C(ct);if(x(et)<f||x(x(rt)-y)<f)return[0,l(rt)*d*h(U/2)];var Z=g(U),Y=x(d/et-et/d)/2,P=Y*Y,W=Z*(I(1+P)-Y*Z)/(1+P*ct*ct);return[l(et)*d*W,l(rt)*d*I(1-W*(2*Y+W))]}function Go(){return(0,v.c)(Bl).scale(79.4183)}function Fi(et,rt){if(x(rt)<f)return[et,0];var ct=rt/y,U=C(ct);if(x(et)<f||x(x(rt)-y)<f)return[0,d*h(U/2)];var Z=(d/et-et/d)/2,Y=ct/(1+g(U));return[d*(l(et)*I(Z*Z+1-Y*Y)-Z),d*Y]}function xl(){return(0,v.c)(Fi).scale(79.4183)}function Dr(et,rt){if(!rt)return[et,0];var ct=x(rt);if(!et||ct===y)return[0,rt];var U=ct/y,Z=U*U,Y=(8*U-Z*(Z+2)-5)/(2*Z*(U-1)),P=Y*Y,W=U*Y,ne=Z+P+2*W,se=U+3*Y,ve=et/y,ke=ve+1/ve,De=l(x(et)-y)*I(ke*ke-4),je=De*De,We=(De*(ne+P-1)+2*I(ne*(Z+P*je-1)+(1-Z)*(Z*(se*se+4*P)+12*W*P+4*P*P)))/(4*ne+je);return[l(et)*y*We,l(rt)*y*I(1+De*x(We)-We*We)]}function qr(){return(0,v.c)(Dr).scale(127.16)}function go(et,rt,ct,U){var Z=d/3;et=i(et,f),rt=i(rt,f),et=a(et,y),rt=a(rt,d-f),ct=i(ct,0),ct=a(ct,100-f);var Y=(U=i(U,f))/100,P=R((ct/100+1)*g(Z))/Z,W=u(et)/u(P*y),ne=rt/d,se=I(Y*u(et/2)/u(rt/2));return function(ve,ke,De,je,We){function $e(at,pt){var vt=De*u(je*pt),kt=I(1-vt*vt),Ot=I(2/(1+kt*g(at*=We)));return[ve*kt*Ot*u(at),ke*vt*Ot]}return $e.invert=function(at,pt){var vt=at/ve,kt=pt/ke,Ot=I(vt*vt+kt*kt),St=2*C(Ot/2);return[b(at*h(St),ve*Ot)/We,Ot&&C(pt*u(St)/(ke*De*Ot))/je]},$e}(se/I(ne*W*P),1/(se*I(ne*W*P)),W,P,ne)}function us(){var et=65*M,rt=60*M,ct=20,U=200,Z=(0,v.U)(go),Y=Z(et,rt,ct,U);return Y.poleline=function(P){return arguments.length?Z(et=+P*M,rt,ct,U):et*L},Y.parallels=function(P){return arguments.length?Z(et,rt=+P*M,ct,U):rt*L},Y.inflation=function(P){return arguments.length?Z(et,rt,ct=+P,U):ct},Y.ratio=function(P){return arguments.length?Z(et,rt,ct,U=+P):U},Y.scale(163.775)}function ks(){return us().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}Xa.invert=function(et,rt){var ct=rt/1.70711,U=u(m*ct);return[et/(.74482-.34588*U*U),2*t(ct)]},qo.invert=function(et,rt){if(x(rt)<f)return[et,0];if(x(et)<f)return[0,y*u(2*t(rt/d))];var ct=(et/=d)*et,U=(rt/=d)*rt,Z=ct+U,Y=Z*Z,P=-x(rt)*(1+Z),W=P-2*U+ct,ne=-2*P+1+2*U+Y,se=U/ne+(2*W*W*W/(ne*ne*ne)-9*P*W/(ne*ne))/27,ve=(P-W*W/(3*ne))/ne,ke=2*I(-ve/3),De=R(3*se/(ve*ke))/3;return[d*(Z-1+I(1+2*(ct-U)+Y))/(2*et),l(rt)*d*(-ke*g(De+d/3)-W/(3*ne))]},Bl.invert=function(et,rt){if(!et)return[0,y*u(2*t(rt/d))];var ct=x(et/d),U=(1-ct*ct-(rt/=d)*rt)/(2*ct),Z=I(U*U+1);return[l(et)*d*(Z-U),l(rt)*y*u(2*b(I((1-2*U*ct)*(U+Z)-ct),I(Z+U+ct)))]},Fi.invert=function(et,rt){if(!rt)return[et,0];var ct=rt/d,U=(d*d*(1-ct*ct)-et*et)/(2*d*et);return[et?d*(l(et)*I(U*U+1)-U):0,y*u(2*t(ct))]},Dr.invert=function(et,rt){var ct;if(!et||!rt)return[et,rt];rt/=d;var U=l(et)*et/y,Z=(U*U-1+4*rt*rt)/x(U),Y=Z*Z,P=2*rt,W=50;do{var ne=P*P,se=(8*P-ne*(ne+2)-5)/(2*ne*(P-1)),ve=(3*P-ne*P-10)/(2*ne*P),ke=se*se,De=P*se,je=P+se,We=je*je,$e=P+3*se,at=-2*je*(4*De*ke+(1-4*ne+3*ne*ne)*(1+ve)+ke*(14*ne-6-Y+(8*ne-8-2*Y)*ve)+De*(12*ne-8+(10*ne-10-Y)*ve)),pt=I(We*(ne+ke*Y-1)+(1-ne)*(ne*($e*$e+4*ke)+ke*(12*De+4*ke)));P-=ct=(Z*(We+ke-1)+2*pt-U*(4*We+Y))/(Z*(2*se*ve+2*je*(1+ve))+at/pt-8*je*(Z*(-1+ke+We)+2*pt)*(1+ve)/(Y+4*We))}while(ct>f&&--W>0);return[l(et)*(I(Z*Z+4)+Z)*d/4,y*P]};var ua=4*d+3*I(3),cs=2*I(2*d*I(3)/ua),Si=_e(cs*I(3)/d,cs,ua/6);function kc(){return(0,v.c)(Si).scale(176.84)}function vo(et,rt){return[et*I(1-3*rt*rt/(d*d)),rt]}function Ci(){return(0,v.c)(vo).scale(152.63)}function Hi(et,rt){var ct=g(rt),U=g(et)*ct,Z=1-U,Y=g(et=b(u(et)*ct,-u(rt))),P=u(et);return[P*(ct=I(1-U*U))-Y*Z,-Y*ct-P*Z]}function ao(){return(0,v.c)(Hi).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function Zs(et,rt){var ct=V(et,rt);return[(ct[0]+et/y)/2,(ct[1]+rt)/2]}function Xu(){return(0,v.c)(Zs).scale(158.837)}vo.invert=function(et,rt){return[et/I(1-3*rt*rt/(d*d)),rt]},Hi.invert=function(et,rt){var ct=(et*et+rt*rt)/-2,U=I(-ct*(2+ct)),Z=rt*ct+et*U,Y=et*ct-rt*U,P=I(Y*Y+Z*Z);return[b(U*Z,P*(1+ct)),P?-C(U*Y/P):0]},Zs.invert=function(et,rt){var ct=et,U=rt,Z=25;do{var Y,P=g(U),W=u(U),ne=u(2*U),se=W*W,ve=P*P,ke=u(ct),De=g(ct/2),je=u(ct/2),We=je*je,$e=1-ve*De*De,at=$e?R(P*De)*I(Y=1/$e):Y=0,pt=.5*(2*at*P*je+ct/y)-et,vt=.5*(at*W+U)-rt,kt=.5*Y*(ve*We+at*P*De*se)+.5/y,Ot=Y*(ke*ne/4-at*W*je),St=.125*Y*(ne*je-at*W*ve*ke),jt=.5*Y*(se*De+at*We*P)+.5,It=Ot*St-jt*kt,Jt=(vt*Ot-pt*jt)/It,$t=(pt*St-vt*kt)/It;ct-=Jt,U-=$t}while((x(Jt)>f||x($t)>f)&&--Z>0);return[ct,U]}},88728:function(O,S,e){function v(){return new x}function x(){this.reset()}e.d(S,{c:function(){return v}}),x.prototype={constructor:x,reset:function(){this.s=this.t=0},add:function(g){b(t,g,this.t),b(this,t.s,this.s),this.s?this.t+=t.t:this.s=t.t},valueOf:function(){return this.s}};var t=new x;function b(g,c,s){var n=g.s=c+s,i=n-c,a=n-i;g.t=c-a+(s-i)}},95384:function(O,S,e){e.d(S,{cp:function(){return T},mQ:function(){return a},oB:function(){return o}});var v,x,t,b,g,c=e(88728),s=e(64528),n=e(70932),i=e(16016),a=(0,c.c)(),r=(0,c.c)(),o={point:n.c,lineStart:n.c,lineEnd:n.c,polygonStart:function(){a.reset(),o.lineStart=l,o.lineEnd=u},polygonEnd:function(){var d=+a;r.add(d<0?s.kD+d:d),this.lineStart=this.lineEnd=this.point=n.c},sphere:function(){r.add(s.kD)}};function l(){o.point=h}function u(){f(v,x)}function h(d,y){o.point=f,v=d,x=y,d*=s.qw,y*=s.qw,t=d,b=(0,s.W8)(y=y/2+s.wL),g=(0,s.g$)(y)}function f(d,y){d*=s.qw,y=(y*=s.qw)/2+s.wL;var m=d-t,w=m>=0?1:-1,_=w*m,A=(0,s.W8)(y),p=(0,s.g$)(y),L=g*p,M=b*A+L*(0,s.W8)(_),C=L*w*(0,s.g$)(_);a.add((0,s.WE)(C,M)),t=d,b=A,g=p}function T(d){return r.reset(),(0,i.c)(d,o),2*r}},13696:function(O,S,e){e.d(S,{c:function(){return R}});var v,x,t,b,g,c,s,n,i,a,r=e(88728),o=e(95384),l=e(84220),u=e(64528),h=e(16016),f=(0,r.c)(),T={point:d,lineStart:m,lineEnd:w,polygonStart:function(){T.point=_,T.lineStart=A,T.lineEnd=p,f.reset(),o.oB.polygonStart()},polygonEnd:function(){o.oB.polygonEnd(),T.point=d,T.lineStart=m,T.lineEnd=w,o.mQ<0?(v=-(t=180),x=-(b=90)):f>u.Gg?b=90:f<-u.Gg&&(x=-90),a[0]=v,a[1]=t},sphere:function(){v=-(t=180),x=-(b=90)}};function d(I,D){i.push(a=[v=I,t=I]),D<x&&(x=D),D>b&&(b=D)}function y(I,D){var F=(0,l.ux)([I*u.qw,D*u.qw]);if(n){var q=(0,l.CW)(n,F),z=[q[1],-q[0],0],V=(0,l.CW)(z,q);(0,l.cJ)(V),V=(0,l.G)(V);var X,j=I-g,H=j>0?1:-1,G=V[0]*u.oh*H,ie=(0,u.a2)(j)>180;ie^(H*g<G&&G<H*I)?(X=V[1]*u.oh)>b&&(b=X):ie^(H*g<(G=(G+360)%360-180)&&G<H*I)?(X=-V[1]*u.oh)<x&&(x=X):(D<x&&(x=D),D>b&&(b=D)),ie?I<g?L(v,I)>L(v,t)&&(t=I):L(I,t)>L(v,t)&&(v=I):t>=v?(I<v&&(v=I),I>t&&(t=I)):I>g?L(v,I)>L(v,t)&&(t=I):L(I,t)>L(v,t)&&(v=I)}else i.push(a=[v=I,t=I]);D<x&&(x=D),D>b&&(b=D),n=F,g=I}function m(){T.point=y}function w(){a[0]=v,a[1]=t,T.point=d,n=null}function _(I,D){if(n){var F=I-g;f.add((0,u.a2)(F)>180?F+(F>0?360:-360):F)}else c=I,s=D;o.oB.point(I,D),y(I,D)}function A(){o.oB.lineStart()}function p(){_(c,s),o.oB.lineEnd(),(0,u.a2)(f)>u.Gg&&(v=-(t=180)),a[0]=v,a[1]=t,n=null}function L(I,D){return(D-=I)<0?D+360:D}function M(I,D){return I[0]-D[0]}function C(I,D){return I[0]<=I[1]?I[0]<=D&&D<=I[1]:D<I[0]||I[1]<D}function R(I){var D,F,q,z,V,X,j;if(b=t=-(v=x=1/0),i=[],(0,h.c)(I,T),F=i.length){for(i.sort(M),D=1,V=[q=i[0]];D<F;++D)C(q,(z=i[D])[0])||C(q,z[1])?(L(q[0],z[1])>L(q[0],q[1])&&(q[1]=z[1]),L(z[0],q[1])>L(q[0],q[1])&&(q[0]=z[0])):V.push(q=z);for(X=-1/0,D=0,q=V[F=V.length-1];D<=F;q=z,++D)z=V[D],(j=L(q[1],z[0]))>X&&(X=j,v=z[0],t=q[1])}return i=a=null,v===1/0||x===1/0?[[NaN,NaN],[NaN,NaN]]:[[v,x],[t,b]]}},84220:function(O,S,e){e.d(S,{CW:function(){return g},Ez:function(){return b},G:function(){return x},cJ:function(){return n},mg:function(){return c},ux:function(){return t},wx:function(){return s}});var v=e(64528);function x(i){return[(0,v.WE)(i[1],i[0]),(0,v.qR)(i[2])]}function t(i){var a=i[0],r=i[1],o=(0,v.W8)(r);return[o*(0,v.W8)(a),o*(0,v.g$)(a),(0,v.g$)(r)]}function b(i,a){return i[0]*a[0]+i[1]*a[1]+i[2]*a[2]}function g(i,a){return[i[1]*a[2]-i[2]*a[1],i[2]*a[0]-i[0]*a[2],i[0]*a[1]-i[1]*a[0]]}function c(i,a){i[0]+=a[0],i[1]+=a[1],i[2]+=a[2]}function s(i,a){return[i[0]*a,i[1]*a,i[2]*a]}function n(i){var a=(0,v._I)(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]);i[0]/=a,i[1]/=a,i[2]/=a}},24052:function(O,S,e){e.d(S,{c:function(){return F}});var v,x,t,b,g,c,s,n,i,a,r,o,l,u,h,f,T=e(64528),d=e(70932),y=e(16016),m={sphere:d.c,point:w,lineStart:A,lineEnd:M,polygonStart:function(){m.lineStart=C,m.lineEnd=R},polygonEnd:function(){m.lineStart=A,m.lineEnd=M}};function w(q,z){q*=T.qw,z*=T.qw;var V=(0,T.W8)(z);_(V*(0,T.W8)(q),V*(0,T.g$)(q),(0,T.g$)(z))}function _(q,z,V){++v,t+=(q-t)/v,b+=(z-b)/v,g+=(V-g)/v}function A(){m.point=p}function p(q,z){q*=T.qw,z*=T.qw;var V=(0,T.W8)(z);u=V*(0,T.W8)(q),h=V*(0,T.g$)(q),f=(0,T.g$)(z),m.point=L,_(u,h,f)}function L(q,z){q*=T.qw,z*=T.qw;var V=(0,T.W8)(z),X=V*(0,T.W8)(q),j=V*(0,T.g$)(q),H=(0,T.g$)(z),G=(0,T.WE)((0,T._I)((G=h*H-f*j)*G+(G=f*X-u*H)*G+(G=u*j-h*X)*G),u*X+h*j+f*H);x+=G,c+=G*(u+(u=X)),s+=G*(h+(h=j)),n+=G*(f+(f=H)),_(u,h,f)}function M(){m.point=w}function C(){m.point=I}function R(){D(o,l),m.point=w}function I(q,z){o=q,l=z,q*=T.qw,z*=T.qw,m.point=D;var V=(0,T.W8)(z);u=V*(0,T.W8)(q),h=V*(0,T.g$)(q),f=(0,T.g$)(z),_(u,h,f)}function D(q,z){q*=T.qw,z*=T.qw;var V=(0,T.W8)(z),X=V*(0,T.W8)(q),j=V*(0,T.g$)(q),H=(0,T.g$)(z),G=h*H-f*j,ie=f*X-u*H,re=u*j-h*X,te=(0,T._I)(G*G+ie*ie+re*re),K=(0,T.qR)(te),J=te&&-K/te;i+=J*G,a+=J*ie,r+=J*re,x+=K,c+=K*(u+(u=X)),s+=K*(h+(h=j)),n+=K*(f+(f=H)),_(u,h,f)}function F(q){v=x=t=b=g=c=s=n=i=a=r=0,(0,y.c)(q,m);var z=i,V=a,X=r,j=z*z+V*V+X*X;return j<T.a8&&(z=c,V=s,X=n,x<T.Gg&&(z=t,V=b,X=g),(j=z*z+V*V+X*X)<T.a8)?[NaN,NaN]:[(0,T.WE)(V,z)*T.oh,(0,T.qR)(X/(0,T._I)(j))*T.oh]}},61780:function(O,S,e){e.d(S,{Q:function(){return g},c:function(){return s}});var v=e(84220);function x(n){return function(){return n}}var t=e(64528),b=e(92992);function g(n,i,a,r,o,l){if(a){var u=(0,t.W8)(i),h=(0,t.g$)(i),f=r*a;o==null?(o=i+r*t.kD,l=i-f/2):(o=c(u,o),l=c(u,l),(r>0?o<l:o>l)&&(o+=r*t.kD));for(var T,d=o;r>0?d>l:d<l;d-=f)T=(0,v.G)([u,-h*(0,t.W8)(d),-h*(0,t.g$)(d)]),n.point(T[0],T[1])}}function c(n,i){(i=(0,v.ux)(i))[0]-=n,(0,v.cJ)(i);var a=(0,t.mE)(-i[1]);return((-i[2]<0?-a:a)+t.kD-t.Gg)%t.kD}function s(){var n,i,a=x([0,0]),r=x(90),o=x(6),l={point:function(h,f){n.push(h=i(h,f)),h[0]*=t.oh,h[1]*=t.oh}};function u(){var h=a.apply(this,arguments),f=r.apply(this,arguments)*t.qw,T=o.apply(this,arguments)*t.qw;return n=[],i=(0,b.O)(-h[0]*t.qw,-h[1]*t.qw,0).invert,g(l,f,T,1),h={type:"Polygon",coordinates:[n]},n=i=null,h}return u.center=function(h){return arguments.length?(a=typeof h=="function"?h:x([+h[0],+h[1]]),u):a},u.radius=function(h){return arguments.length?(r=typeof h=="function"?h:x(+h),u):r},u.precision=function(h){return arguments.length?(o=typeof h=="function"?h:x(+h),u):o},u}},78284:function(O,S,e){var v=e(14229),x=e(64528);S.c=(0,v.c)(function(){return!0},function(t){var b,g=NaN,c=NaN,s=NaN;return{lineStart:function(){t.lineStart(),b=1},point:function(n,i){var a=n>0?x.pi:-x.pi,r=(0,x.a2)(n-g);(0,x.a2)(r-x.pi)<x.Gg?(t.point(g,c=(c+i)/2>0?x.or:-x.or),t.point(s,c),t.lineEnd(),t.lineStart(),t.point(a,c),t.point(n,c),b=0):s!==a&&r>=x.pi&&((0,x.a2)(g-s)<x.Gg&&(g-=s*x.Gg),(0,x.a2)(n-a)<x.Gg&&(n-=a*x.Gg),c=function(o,l,u,h){var f,T,d=(0,x.g$)(o-u);return(0,x.a2)(d)>x.Gg?(0,x.MQ)(((0,x.g$)(l)*(T=(0,x.W8)(h))*(0,x.g$)(u)-(0,x.g$)(h)*(f=(0,x.W8)(l))*(0,x.g$)(o))/(f*T*d)):(l+h)/2}(g,c,n,i),t.point(s,c),t.lineEnd(),t.lineStart(),t.point(a,c),b=0),t.point(g=n,c=i),s=a},lineEnd:function(){t.lineEnd(),g=c=NaN},clean:function(){return 2-b}}},function(t,b,g,c){var s;if(t==null)s=g*x.or,c.point(-x.pi,s),c.point(0,s),c.point(x.pi,s),c.point(x.pi,0),c.point(x.pi,-s),c.point(0,-s),c.point(-x.pi,-s),c.point(-x.pi,0),c.point(-x.pi,s);else if((0,x.a2)(t[0]-b[0])>x.Gg){var n=t[0]<b[0]?x.pi:-x.pi;s=g*n/2,c.point(-n,s),c.point(0,s),c.point(n,s)}else c.point(b[0],b[1])},[-x.pi,-x.or])},97208:function(O,S,e){e.d(S,{c:function(){return x}});var v=e(70932);function x(){var t,b=[];return{point:function(g,c,s){t.push([g,c,s])},lineStart:function(){b.push(t=[])},lineEnd:v.c,rejoin:function(){b.length>1&&b.push(b.pop().concat(b.shift()))},result:function(){var g=b;return b=[],t=null,g}}}},2728:function(O,S,e){e.d(S,{c:function(){return c}});var v=e(84220),x=e(61780),t=e(64528),b=e(41860),g=e(14229);function c(s){var n=(0,t.W8)(s),i=6*t.qw,a=n>0,r=(0,t.a2)(n)>t.Gg;function o(h,f){return(0,t.W8)(h)*(0,t.W8)(f)>n}function l(h,f,T){var d=(0,v.ux)(h),y=(0,v.ux)(f),m=[1,0,0],w=(0,v.CW)(d,y),_=(0,v.Ez)(w,w),A=w[0],p=_-A*A;if(!p)return!T&&h;var L=n*_/p,M=-n*A/p,C=(0,v.CW)(m,w),R=(0,v.wx)(m,L),I=(0,v.wx)(w,M);(0,v.mg)(R,I);var D=C,F=(0,v.Ez)(R,D),q=(0,v.Ez)(D,D),z=F*F-q*((0,v.Ez)(R,R)-1);if(!(z<0)){var V=(0,t._I)(z),X=(0,v.wx)(D,(-F-V)/q);if((0,v.mg)(X,R),X=(0,v.G)(X),!T)return X;var j,H=h[0],G=f[0],ie=h[1],re=f[1];G<H&&(j=H,H=G,G=j);var te=G-H,K=(0,t.a2)(te-t.pi)<t.Gg;if(!K&&re<ie&&(j=ie,ie=re,re=j),K||te<t.Gg?K?ie+re>0^X[1]<((0,t.a2)(X[0]-H)<t.Gg?ie:re):ie<=X[1]&&X[1]<=re:te>t.pi^(H<=X[0]&&X[0]<=G)){var J=(0,v.wx)(D,(-F+V)/q);return(0,v.mg)(J,R),[X,(0,v.G)(J)]}}}function u(h,f){var T=a?s:t.pi-s,d=0;return h<-T?d|=1:h>T&&(d|=2),f<-T?d|=4:f>T&&(d|=8),d}return(0,g.c)(o,function(h){var f,T,d,y,m;return{lineStart:function(){y=d=!1,m=1},point:function(w,_){var A,p=[w,_],L=o(w,_),M=a?L?0:u(w,_):L?u(w+(w<0?t.pi:-t.pi),_):0;if(!f&&(y=d=L)&&h.lineStart(),L!==d&&(!(A=l(f,p))||(0,b.c)(f,A)||(0,b.c)(p,A))&&(p[2]=1),L!==d)m=0,L?(h.lineStart(),A=l(p,f),h.point(A[0],A[1])):(A=l(f,p),h.point(A[0],A[1],2),h.lineEnd()),f=A;else if(r&&f&&a^L){var C;M&T||!(C=l(p,f,!0))||(m=0,a?(h.lineStart(),h.point(C[0][0],C[0][1]),h.point(C[1][0],C[1][1]),h.lineEnd()):(h.point(C[1][0],C[1][1]),h.lineEnd(),h.lineStart(),h.point(C[0][0],C[0][1],3)))}!L||f&&(0,b.c)(f,p)||h.point(p[0],p[1]),f=p,d=L,T=M},lineEnd:function(){d&&h.lineEnd(),f=null},clean:function(){return m|(y&&d)<<1}}},function(h,f,T,d){(0,x.Q)(d,s,i,T,h,f)},a?[0,-s]:[-t.pi,s-t.pi])}},14229:function(O,S,e){e.d(S,{c:function(){return c}});var v=e(97208),x=e(32232),t=e(64528),b=e(58196),g=e(84706);function c(i,a,r,o){return function(l){var u,h,f,T=a(l),d=(0,v.c)(),y=a(d),m=!1,w={point:_,lineStart:p,lineEnd:L,polygonStart:function(){w.point=M,w.lineStart=C,w.lineEnd=R,h=[],u=[]},polygonEnd:function(){w.point=_,w.lineStart=p,w.lineEnd=L,h=(0,g.Uf)(h);var I=(0,b.c)(u,o);h.length?(m||(l.polygonStart(),m=!0),(0,x.c)(h,n,I,r,l)):I&&(m||(l.polygonStart(),m=!0),l.lineStart(),r(null,null,1,l),l.lineEnd()),m&&(l.polygonEnd(),m=!1),h=u=null},sphere:function(){l.polygonStart(),l.lineStart(),r(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function _(I,D){i(I,D)&&l.point(I,D)}function A(I,D){T.point(I,D)}function p(){w.point=A,T.lineStart()}function L(){w.point=_,T.lineEnd()}function M(I,D){f.push([I,D]),y.point(I,D)}function C(){y.lineStart(),f=[]}function R(){M(f[0][0],f[0][1]),y.lineEnd();var I,D,F,q,z=y.clean(),V=d.result(),X=V.length;if(f.pop(),u.push(f),f=null,X)if(1&z){if((D=(F=V[0]).length-1)>0){for(m||(l.polygonStart(),m=!0),l.lineStart(),I=0;I<D;++I)l.point((q=F[I])[0],q[1]);l.lineEnd()}}else X>1&&2&z&&V.push(V.pop().concat(V.shift())),h.push(V.filter(s))}return w}}function s(i){return i.length>1}function n(i,a){return((i=i.x)[0]<0?i[1]-t.or-t.Gg:t.or-i[1])-((a=a.x)[0]<0?a[1]-t.or-t.Gg:t.or-a[1])}},21676:function(O,S,e){e.d(S,{c:function(){return s}});var v=e(64528),x=e(97208),t=e(32232),b=e(84706),g=1e9,c=-g;function s(n,i,a,r){function o(T,d){return n<=T&&T<=a&&i<=d&&d<=r}function l(T,d,y,m){var w=0,_=0;if(T==null||(w=u(T,y))!==(_=u(d,y))||f(T,d)<0^y>0)do m.point(w===0||w===3?n:a,w>1?r:i);while((w=(w+y+4)%4)!==_);else m.point(d[0],d[1])}function u(T,d){return(0,v.a2)(T[0]-n)<v.Gg?d>0?0:3:(0,v.a2)(T[0]-a)<v.Gg?d>0?2:1:(0,v.a2)(T[1]-i)<v.Gg?d>0?1:0:d>0?3:2}function h(T,d){return f(T.x,d.x)}function f(T,d){var y=u(T,1),m=u(d,1);return y!==m?y-m:y===0?d[1]-T[1]:y===1?T[0]-d[0]:y===2?T[1]-d[1]:d[0]-T[0]}return function(T){var d,y,m,w,_,A,p,L,M,C,R,I=T,D=(0,x.c)(),F={point:q,lineStart:function(){F.point=z,y&&y.push(m=[]),C=!0,M=!1,p=L=NaN},lineEnd:function(){d&&(z(w,_),A&&M&&D.rejoin(),d.push(D.result())),F.point=q,M&&I.lineEnd()},polygonStart:function(){I=D,d=[],y=[],R=!0},polygonEnd:function(){var V=function(){for(var H=0,G=0,ie=y.length;G<ie;++G)for(var re,te,K=y[G],J=1,$=K.length,ae=K[0],ue=ae[0],ce=ae[1];J<$;++J)re=ue,te=ce,ue=(ae=K[J])[0],ce=ae[1],te<=r?ce>r&&(ue-re)*(r-te)>(ce-te)*(n-re)&&++H:ce<=r&&(ue-re)*(r-te)<(ce-te)*(n-re)&&--H;return H}(),X=R&&V,j=(d=(0,b.Uf)(d)).length;(X||j)&&(T.polygonStart(),X&&(T.lineStart(),l(null,null,1,T),T.lineEnd()),j&&(0,t.c)(d,h,V,l,T),T.polygonEnd()),I=T,d=y=m=null}};function q(V,X){o(V,X)&&I.point(V,X)}function z(V,X){var j=o(V,X);if(y&&m.push([V,X]),C)w=V,_=X,A=j,C=!1,j&&(I.lineStart(),I.point(V,X));else if(j&&M)I.point(V,X);else{var H=[p=Math.max(c,Math.min(g,p)),L=Math.max(c,Math.min(g,L))],G=[V=Math.max(c,Math.min(g,V)),X=Math.max(c,Math.min(g,X))];(function(ie,re,te,K,J,$){var ae,ue=ie[0],ce=ie[1],de=0,pe=1,me=re[0]-ue,be=re[1]-ce;if(ae=te-ue,me||!(ae>0)){if(ae/=me,me<0){if(ae<de)return;ae<pe&&(pe=ae)}else if(me>0){if(ae>pe)return;ae>de&&(de=ae)}if(ae=J-ue,me||!(ae<0)){if(ae/=me,me<0){if(ae>pe)return;ae>de&&(de=ae)}else if(me>0){if(ae<de)return;ae<pe&&(pe=ae)}if(ae=K-ce,be||!(ae>0)){if(ae/=be,be<0){if(ae<de)return;ae<pe&&(pe=ae)}else if(be>0){if(ae>pe)return;ae>de&&(de=ae)}if(ae=$-ce,be||!(ae<0)){if(ae/=be,be<0){if(ae>pe)return;ae>de&&(de=ae)}else if(be>0){if(ae<de)return;ae<pe&&(pe=ae)}return de>0&&(ie[0]=ue+de*me,ie[1]=ce+de*be),pe<1&&(re[0]=ue+pe*me,re[1]=ce+pe*be),!0}}}}})(H,G,n,i,a,r)?(M||(I.lineStart(),I.point(H[0],H[1])),I.point(G[0],G[1]),j||I.lineEnd(),R=!1):j&&(I.lineStart(),I.point(V,X),R=!1)}p=V,L=X,M=j}return F}}},32232:function(O,S,e){e.d(S,{c:function(){return b}});var v=e(41860),x=e(64528);function t(c,s,n,i){this.x=c,this.z=s,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function b(c,s,n,i,a){var r,o,l=[],u=[];if(c.forEach(function(m){if(!((w=m.length-1)<=0)){var w,_,A=m[0],p=m[w];if((0,v.c)(A,p)){if(!A[2]&&!p[2]){for(a.lineStart(),r=0;r<w;++r)a.point((A=m[r])[0],A[1]);return void a.lineEnd()}p[0]+=2*x.Gg}l.push(_=new t(A,m,null,!0)),u.push(_.o=new t(A,null,_,!1)),l.push(_=new t(p,m,null,!1)),u.push(_.o=new t(p,null,_,!0))}}),l.length){for(u.sort(s),g(l),g(u),r=0,o=u.length;r<o;++r)u[r].e=n=!n;for(var h,f,T=l[0];;){for(var d=T,y=!0;d.v;)if((d=d.n)===T)return;h=d.z,a.lineStart();do{if(d.v=d.o.v=!0,d.e){if(y)for(r=0,o=h.length;r<o;++r)a.point((f=h[r])[0],f[1]);else i(d.x,d.n.x,1,a);d=d.n}else{if(y)for(h=d.p.z,r=h.length-1;r>=0;--r)a.point((f=h[r])[0],f[1]);else i(d.x,d.p.x,-1,a);d=d.p}h=(d=d.o).z,y=!y}while(!d.v);a.lineEnd()}}}function g(c){if(s=c.length){for(var s,n,i=0,a=c[0];++i<s;)a.n=n=c[i],n.p=a,a=n;a.n=n=c[0],n.p=a}}},68120:function(O,S,e){function v(x,t){function b(g,c){return g=x(g,c),t(g[0],g[1])}return x.invert&&t.invert&&(b.invert=function(g,c){return(g=t.invert(g,c))&&x.invert(g[0],g[1])}),b}e.d(S,{c:function(){return v}})},7376:function(O,S,e){function v(x){return x}e.d(S,{c:function(){return v}})},83356:function(O,S,e){e.r(S),e.d(S,{geoAlbers:function(){return bt},geoAlbersUsa:function(){return Lt},geoArea:function(){return v.cp},geoAzimuthalEqualArea:function(){return wt.c},geoAzimuthalEqualAreaRaw:function(){return wt.y},geoAzimuthalEquidistant:function(){return Ct.c},geoAzimuthalEquidistantRaw:function(){return Ct.O},geoBounds:function(){return x.c},geoCentroid:function(){return t.c},geoCircle:function(){return b.c},geoClipAntimeridian:function(){return g.c},geoClipCircle:function(){return c.c},geoClipExtent:function(){return n},geoClipRectangle:function(){return s.c},geoConicConformal:function(){return Kt},geoConicConformalRaw:function(){return qt},geoConicEqualArea:function(){return yt},geoConicEqualAreaRaw:function(){return gt},geoConicEquidistant:function(){return An},geoConicEquidistantRaw:function(){return Rn},geoContains:function(){return V},geoDistance:function(){return L},geoEqualEarth:function(){return kn},geoEqualEarthRaw:function(){return wn},geoEquirectangular:function(){return Ut.c},geoEquirectangularRaw:function(){return Ut.u},geoGnomonic:function(){return Pn.c},geoGnomonicRaw:function(){return Pn.Y},geoGraticule:function(){return G},geoGraticule10:function(){return ie},geoIdentity:function(){return En},geoInterpolate:function(){return $.c},geoLength:function(){return _},geoMercator:function(){return Nt},geoMercatorRaw:function(){return Dt},geoNaturalEarth1:function(){return Vn.c},geoNaturalEarth1Raw:function(){return Vn.g},geoOrthographic:function(){return Bn.c},geoOrthographicRaw:function(){return Bn.t},geoPath:function(){return Ve},geoProjection:function(){return st.c},geoProjectionMutator:function(){return st.U},geoRotation:function(){return Rt.c},geoStereographic:function(){return ir},geoStereographicRaw:function(){return rr},geoStream:function(){return f.c},geoTransform:function(){return On.c},geoTransverseMercator:function(){return vr},geoTransverseMercatorRaw:function(){return Kn}});var v=e(95384),x=e(13696),t=e(24052),b=e(61780),g=e(78284),c=e(2728),s=e(21676);function n(){var nn,an,In,yn=0,Dn=0,$n=960,Hn=500;return In={stream:function(Qn){return nn&&an===Qn?nn:nn=(0,s.c)(yn,Dn,$n,Hn)(an=Qn)},extent:function(Qn){return arguments.length?(yn=+Qn[0][0],Dn=+Qn[0][1],$n=+Qn[1][0],Hn=+Qn[1][1],nn=an=null,In):[[yn,Dn],[$n,Hn]]}}}var i,a,r,o=e(58196),l=e(88728),u=e(64528),h=e(70932),f=e(16016),T=(0,l.c)(),d={sphere:h.c,point:h.c,lineStart:function(){d.point=m,d.lineEnd=y},lineEnd:h.c,polygonStart:h.c,polygonEnd:h.c};function y(){d.point=d.lineEnd=h.c}function m(nn,an){nn*=u.qw,an*=u.qw,i=nn,a=(0,u.g$)(an),r=(0,u.W8)(an),d.point=w}function w(nn,an){nn*=u.qw,an*=u.qw;var In=(0,u.g$)(an),yn=(0,u.W8)(an),Dn=(0,u.a2)(nn-i),$n=(0,u.W8)(Dn),Hn=yn*(0,u.g$)(Dn),Qn=r*In-a*yn*$n,xr=a*In+r*yn*$n;T.add((0,u.WE)((0,u._I)(Hn*Hn+Qn*Qn),xr)),i=nn,a=In,r=yn}function _(nn){return T.reset(),(0,f.c)(nn,d),+T}var A=[null,null],p={type:"LineString",coordinates:A};function L(nn,an){return A[0]=nn,A[1]=an,_(p)}var M={Feature:function(nn,an){return R(nn.geometry,an)},FeatureCollection:function(nn,an){for(var In=nn.features,yn=-1,Dn=In.length;++yn<Dn;)if(R(In[yn].geometry,an))return!0;return!1}},C={Sphere:function(){return!0},Point:function(nn,an){return I(nn.coordinates,an)},MultiPoint:function(nn,an){for(var In=nn.coordinates,yn=-1,Dn=In.length;++yn<Dn;)if(I(In[yn],an))return!0;return!1},LineString:function(nn,an){return D(nn.coordinates,an)},MultiLineString:function(nn,an){for(var In=nn.coordinates,yn=-1,Dn=In.length;++yn<Dn;)if(D(In[yn],an))return!0;return!1},Polygon:function(nn,an){return F(nn.coordinates,an)},MultiPolygon:function(nn,an){for(var In=nn.coordinates,yn=-1,Dn=In.length;++yn<Dn;)if(F(In[yn],an))return!0;return!1},GeometryCollection:function(nn,an){for(var In=nn.geometries,yn=-1,Dn=In.length;++yn<Dn;)if(R(In[yn],an))return!0;return!1}};function R(nn,an){return!(!nn||!C.hasOwnProperty(nn.type))&&C[nn.type](nn,an)}function I(nn,an){return L(nn,an)===0}function D(nn,an){for(var In,yn,Dn,$n=0,Hn=nn.length;$n<Hn;$n++){if((yn=L(nn[$n],an))===0||$n>0&&(Dn=L(nn[$n],nn[$n-1]))>0&&In<=Dn&&yn<=Dn&&(In+yn-Dn)*(1-Math.pow((In-yn)/Dn,2))<u.a8*Dn)return!0;In=yn}return!1}function F(nn,an){return!!(0,o.c)(nn.map(q),z(an))}function q(nn){return(nn=nn.map(z)).pop(),nn}function z(nn){return[nn[0]*u.qw,nn[1]*u.qw]}function V(nn,an){return(nn&&M.hasOwnProperty(nn.type)?M[nn.type]:R)(nn,an)}var X=e(84706);function j(nn,an,In){var yn=(0,X.ik)(nn,an-u.Gg,In).concat(an);return function(Dn){return yn.map(function($n){return[Dn,$n]})}}function H(nn,an,In){var yn=(0,X.ik)(nn,an-u.Gg,In).concat(an);return function(Dn){return yn.map(function($n){return[$n,Dn]})}}function G(){var nn,an,In,yn,Dn,$n,Hn,Qn,xr,Qt,xn,At,Wt=10,en=Wt,dn=90,gn=360,_n=2.5;function on(){return{type:"MultiLineString",coordinates:Yt()}}function Yt(){return(0,X.ik)((0,u.Km)(yn/dn)*dn,In,dn).map(xn).concat((0,X.ik)((0,u.Km)(Qn/gn)*gn,Hn,gn).map(At)).concat((0,X.ik)((0,u.Km)(an/Wt)*Wt,nn,Wt).filter(function(Zt){return(0,u.a2)(Zt%dn)>u.Gg}).map(xr)).concat((0,X.ik)((0,u.Km)($n/en)*en,Dn,en).filter(function(Zt){return(0,u.a2)(Zt%gn)>u.Gg}).map(Qt))}return on.lines=function(){return Yt().map(function(Zt){return{type:"LineString",coordinates:Zt}})},on.outline=function(){return{type:"Polygon",coordinates:[xn(yn).concat(At(Hn).slice(1),xn(In).reverse().slice(1),At(Qn).reverse().slice(1))]}},on.extent=function(Zt){return arguments.length?on.extentMajor(Zt).extentMinor(Zt):on.extentMinor()},on.extentMajor=function(Zt){return arguments.length?(yn=+Zt[0][0],In=+Zt[1][0],Qn=+Zt[0][1],Hn=+Zt[1][1],yn>In&&(Zt=yn,yn=In,In=Zt),Qn>Hn&&(Zt=Qn,Qn=Hn,Hn=Zt),on.precision(_n)):[[yn,Qn],[In,Hn]]},on.extentMinor=function(Zt){return arguments.length?(an=+Zt[0][0],nn=+Zt[1][0],$n=+Zt[0][1],Dn=+Zt[1][1],an>nn&&(Zt=an,an=nn,nn=Zt),$n>Dn&&(Zt=$n,$n=Dn,Dn=Zt),on.precision(_n)):[[an,$n],[nn,Dn]]},on.step=function(Zt){return arguments.length?on.stepMajor(Zt).stepMinor(Zt):on.stepMinor()},on.stepMajor=function(Zt){return arguments.length?(dn=+Zt[0],gn=+Zt[1],on):[dn,gn]},on.stepMinor=function(Zt){return arguments.length?(Wt=+Zt[0],en=+Zt[1],on):[Wt,en]},on.precision=function(Zt){return arguments.length?(_n=+Zt,xr=j($n,Dn,90),Qt=H(an,nn,_n),xn=j(Qn,Hn,90),At=H(yn,In,_n),on):_n},on.extentMajor([[-180,-90+u.Gg],[180,90-u.Gg]]).extentMinor([[-180,-80-u.Gg],[180,80+u.Gg]])}function ie(){return G()()}var re,te,K,J,$=e(27284),ae=e(7376),ue=(0,l.c)(),ce=(0,l.c)(),de={point:h.c,lineStart:h.c,lineEnd:h.c,polygonStart:function(){de.lineStart=pe,de.lineEnd=we},polygonEnd:function(){de.lineStart=de.lineEnd=de.point=h.c,ue.add((0,u.a2)(ce)),ce.reset()},result:function(){var nn=ue/2;return ue.reset(),nn}};function pe(){de.point=me}function me(nn,an){de.point=be,re=K=nn,te=J=an}function be(nn,an){ce.add(J*nn-K*an),K=nn,J=an}function we(){be(re,te)}var Te,Le,Ie,_e,fe=de,le=e(73784),ye=0,Oe=0,Ae=0,Se=0,Pe=0,Fe=0,Be=0,xe=0,Me=0,Ce={point:Ne,lineStart:Re,lineEnd:Qe,polygonStart:function(){Ce.lineStart=lt,Ce.lineEnd=ut},polygonEnd:function(){Ce.point=Ne,Ce.lineStart=Re,Ce.lineEnd=Qe},result:function(){var nn=Me?[Be/Me,xe/Me]:Fe?[Se/Fe,Pe/Fe]:Ae?[ye/Ae,Oe/Ae]:[NaN,NaN];return ye=Oe=Ae=Se=Pe=Fe=Be=xe=Me=0,nn}};function Ne(nn,an){ye+=nn,Oe+=an,++Ae}function Re(){Ce.point=He}function He(nn,an){Ce.point=Ye,Ne(Ie=nn,_e=an)}function Ye(nn,an){var In=nn-Ie,yn=an-_e,Dn=(0,u._I)(In*In+yn*yn);Se+=Dn*(Ie+nn)/2,Pe+=Dn*(_e+an)/2,Fe+=Dn,Ne(Ie=nn,_e=an)}function Qe(){Ce.point=Ne}function lt(){Ce.point=xt}function ut(){_t(Te,Le)}function xt(nn,an){Ce.point=_t,Ne(Te=Ie=nn,Le=_e=an)}function _t(nn,an){var In=nn-Ie,yn=an-_e,Dn=(0,u._I)(In*In+yn*yn);Se+=Dn*(Ie+nn)/2,Pe+=Dn*(_e+an)/2,Fe+=Dn,Be+=(Dn=_e*nn-Ie*an)*(Ie+nn),xe+=Dn*(_e+an),Me+=3*Dn,Ne(Ie=nn,_e=an)}var mt=Ce;function it(nn){this._context=nn}it.prototype={_radius:4.5,pointRadius:function(nn){return this._radius=nn,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(nn,an){switch(this._point){case 0:this._context.moveTo(nn,an),this._point=1;break;case 1:this._context.lineTo(nn,an);break;default:this._context.moveTo(nn+this._radius,an),this._context.arc(nn,an,this._radius,0,u.kD)}},result:h.c};var nt,Et,zt,Ft,Pt,Ze=(0,l.c)(),Je={point:h.c,lineStart:function(){Je.point=qe},lineEnd:function(){nt&&Ke(Et,zt),Je.point=h.c},polygonStart:function(){nt=!0},polygonEnd:function(){nt=null},result:function(){var nn=+Ze;return Ze.reset(),nn}};function qe(nn,an){Je.point=Ke,Et=Ft=nn,zt=Pt=an}function Ke(nn,an){Ft-=nn,Pt-=an,Ze.add((0,u._I)(Ft*Ft+Pt*Pt)),Ft=nn,Pt=an}var ft=Je;function ot(){this._string=[]}function Ue(nn){return"m0,"+nn+"a"+nn+","+nn+" 0 1,1 0,"+-2*nn+"a"+nn+","+nn+" 0 1,1 0,"+2*nn+"z"}function Ve(nn,an){var In,yn,Dn=4.5;function $n(Hn){return Hn&&(typeof Dn=="function"&&yn.pointRadius(+Dn.apply(this,arguments)),(0,f.c)(Hn,In(yn))),yn.result()}return $n.area=function(Hn){return(0,f.c)(Hn,In(fe)),fe.result()},$n.measure=function(Hn){return(0,f.c)(Hn,In(ft)),ft.result()},$n.bounds=function(Hn){return(0,f.c)(Hn,In(le.c)),le.c.result()},$n.centroid=function(Hn){return(0,f.c)(Hn,In(mt)),mt.result()},$n.projection=function(Hn){return arguments.length?(In=Hn==null?(nn=null,ae.c):(nn=Hn).stream,$n):nn},$n.context=function(Hn){return arguments.length?(yn=Hn==null?(an=null,new ot):new it(an=Hn),typeof Dn!="function"&&yn.pointRadius(Dn),$n):an},$n.pointRadius=function(Hn){return arguments.length?(Dn=typeof Hn=="function"?Hn:(yn.pointRadius(+Hn),+Hn),$n):Dn},$n.projection(nn).context(an)}ot.prototype={_radius:4.5,_circle:Ue(4.5),pointRadius:function(nn){return(nn=+nn)!==this._radius&&(this._radius=nn,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(nn,an){switch(this._point){case 0:this._string.push("M",nn,",",an),this._point=1;break;case 1:this._string.push("L",nn,",",an);break;default:this._circle==null&&(this._circle=Ue(this._radius)),this._string.push("M",nn,",",an,this._circle)}},result:function(){if(this._string.length){var nn=this._string.join("");return this._string=[],nn}return null}};var st=e(87952);function Xe(nn){var an=0,In=u.pi/3,yn=(0,st.U)(nn),Dn=yn(an,In);return Dn.parallels=function($n){return arguments.length?yn(an=$n[0]*u.qw,In=$n[1]*u.qw):[an*u.oh,In*u.oh]},Dn}function gt(nn,an){var In=(0,u.g$)(nn),yn=(In+(0,u.g$)(an))/2;if((0,u.a2)(yn)<u.Gg)return function(Qn){var xr=(0,u.W8)(Qn);function Qt(xn,At){return[xn*xr,(0,u.g$)(At)/xr]}return Qt.invert=function(xn,At){return[xn/xr,(0,u.qR)(At*xr)]},Qt}(nn);var Dn=1+In*(2*yn-In),$n=(0,u._I)(Dn)/yn;function Hn(Qn,xr){var Qt=(0,u._I)(Dn-2*yn*(0,u.g$)(xr))/yn;return[Qt*(0,u.g$)(Qn*=yn),$n-Qt*(0,u.W8)(Qn)]}return Hn.invert=function(Qn,xr){var Qt=$n-xr,xn=(0,u.WE)(Qn,(0,u.a2)(Qt))*(0,u.kq)(Qt);return Qt*yn<0&&(xn-=u.pi*(0,u.kq)(Qn)*(0,u.kq)(Qt)),[xn/yn,(0,u.qR)((Dn-(Qn*Qn+Qt*Qt)*yn*yn)/(2*yn))]},Hn}function yt(){return Xe(gt).scale(155.424).center([0,33.6442])}function bt(){return yt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var dt=e(86420);function Lt(){var nn,an,In,yn,Dn,$n,Hn=bt(),Qn=yt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),xr=yt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Qt={point:function(Wt,en){$n=[Wt,en]}};function xn(Wt){var en=Wt[0],dn=Wt[1];return $n=null,In.point(en,dn),$n||(yn.point(en,dn),$n)||(Dn.point(en,dn),$n)}function At(){return nn=an=null,xn}return xn.invert=function(Wt){var en=Hn.scale(),dn=Hn.translate(),gn=(Wt[0]-dn[0])/en,_n=(Wt[1]-dn[1])/en;return(_n>=.12&&_n<.234&&gn>=-.425&&gn<-.214?Qn:_n>=.166&&_n<.234&&gn>=-.214&&gn<-.115?xr:Hn).invert(Wt)},xn.stream=function(Wt){return nn&&an===Wt?nn:(en=[Hn.stream(an=Wt),Qn.stream(Wt),xr.stream(Wt)],dn=en.length,nn={point:function(gn,_n){for(var on=-1;++on<dn;)en[on].point(gn,_n)},sphere:function(){for(var gn=-1;++gn<dn;)en[gn].sphere()},lineStart:function(){for(var gn=-1;++gn<dn;)en[gn].lineStart()},lineEnd:function(){for(var gn=-1;++gn<dn;)en[gn].lineEnd()},polygonStart:function(){for(var gn=-1;++gn<dn;)en[gn].polygonStart()},polygonEnd:function(){for(var gn=-1;++gn<dn;)en[gn].polygonEnd()}});var en,dn},xn.precision=function(Wt){return arguments.length?(Hn.precision(Wt),Qn.precision(Wt),xr.precision(Wt),At()):Hn.precision()},xn.scale=function(Wt){return arguments.length?(Hn.scale(Wt),Qn.scale(.35*Wt),xr.scale(Wt),xn.translate(Hn.translate())):Hn.scale()},xn.translate=function(Wt){if(!arguments.length)return Hn.translate();var en=Hn.scale(),dn=+Wt[0],gn=+Wt[1];return In=Hn.translate(Wt).clipExtent([[dn-.455*en,gn-.238*en],[dn+.455*en,gn+.238*en]]).stream(Qt),yn=Qn.translate([dn-.307*en,gn+.201*en]).clipExtent([[dn-.425*en+u.Gg,gn+.12*en+u.Gg],[dn-.214*en-u.Gg,gn+.234*en-u.Gg]]).stream(Qt),Dn=xr.translate([dn-.205*en,gn+.212*en]).clipExtent([[dn-.214*en+u.Gg,gn+.166*en+u.Gg],[dn-.115*en-u.Gg,gn+.234*en-u.Gg]]).stream(Qt),At()},xn.fitExtent=function(Wt,en){return(0,dt.QX)(xn,Wt,en)},xn.fitSize=function(Wt,en){return(0,dt.UV)(xn,Wt,en)},xn.fitWidth=function(Wt,en){return(0,dt.Qx)(xn,Wt,en)},xn.fitHeight=function(Wt,en){return(0,dt.OW)(xn,Wt,en)},xn.scale(1070)}var wt=e(54724),Ct=e(69020),Rt=e(92992);function Dt(nn,an){return[nn,(0,u.Yz)((0,u.a6)((u.or+an)/2))]}function Nt(){return Xt(Dt).scale(961/u.kD)}function Xt(nn){var an,In,yn,Dn=(0,st.c)(nn),$n=Dn.center,Hn=Dn.scale,Qn=Dn.translate,xr=Dn.clipExtent,Qt=null;function xn(){var At=u.pi*Hn(),Wt=Dn((0,Rt.c)(Dn.rotate()).invert([0,0]));return xr(Qt==null?[[Wt[0]-At,Wt[1]-At],[Wt[0]+At,Wt[1]+At]]:nn===Dt?[[Math.max(Wt[0]-At,Qt),an],[Math.min(Wt[0]+At,In),yn]]:[[Qt,Math.max(Wt[1]-At,an)],[In,Math.min(Wt[1]+At,yn)]])}return Dn.scale=function(At){return arguments.length?(Hn(At),xn()):Hn()},Dn.translate=function(At){return arguments.length?(Qn(At),xn()):Qn()},Dn.center=function(At){return arguments.length?($n(At),xn()):$n()},Dn.clipExtent=function(At){return arguments.length?(At==null?Qt=an=In=yn=null:(Qt=+At[0][0],an=+At[0][1],In=+At[1][0],yn=+At[1][1]),xn()):Qt==null?null:[[Qt,an],[In,yn]]},xn()}function un(nn){return(0,u.a6)((u.or+nn)/2)}function qt(nn,an){var In=(0,u.W8)(nn),yn=nn===an?(0,u.g$)(nn):(0,u.Yz)(In/(0,u.W8)(an))/(0,u.Yz)(un(an)/un(nn)),Dn=In*(0,u.g3)(un(nn),yn)/yn;if(!yn)return Dt;function $n(Hn,Qn){Dn>0?Qn<-u.or+u.Gg&&(Qn=-u.or+u.Gg):Qn>u.or-u.Gg&&(Qn=u.or-u.Gg);var xr=Dn/(0,u.g3)(un(Qn),yn);return[xr*(0,u.g$)(yn*Hn),Dn-xr*(0,u.W8)(yn*Hn)]}return $n.invert=function(Hn,Qn){var xr=Dn-Qn,Qt=(0,u.kq)(yn)*(0,u._I)(Hn*Hn+xr*xr),xn=(0,u.WE)(Hn,(0,u.a2)(xr))*(0,u.kq)(xr);return xr*yn<0&&(xn-=u.pi*(0,u.kq)(Hn)*(0,u.kq)(xr)),[xn/yn,2*(0,u.MQ)((0,u.g3)(Dn/Qt,1/yn))-u.or]},$n}function Kt(){return Xe(qt).scale(109.5).parallels([30,30])}Dt.invert=function(nn,an){return[nn,2*(0,u.MQ)((0,u.oN)(an))-u.or]};var Ut=e(69604);function Rn(nn,an){var In=(0,u.W8)(nn),yn=nn===an?(0,u.g$)(nn):(In-(0,u.W8)(an))/(an-nn),Dn=In/yn+nn;if((0,u.a2)(yn)<u.Gg)return Ut.u;function $n(Hn,Qn){var xr=Dn-Qn,Qt=yn*Hn;return[xr*(0,u.g$)(Qt),Dn-xr*(0,u.W8)(Qt)]}return $n.invert=function(Hn,Qn){var xr=Dn-Qn,Qt=(0,u.WE)(Hn,(0,u.a2)(xr))*(0,u.kq)(xr);return xr*yn<0&&(Qt-=u.pi*(0,u.kq)(Hn)*(0,u.kq)(xr)),[Qt/yn,Dn-(0,u.kq)(yn)*(0,u._I)(Hn*Hn+xr*xr)]},$n}function An(){return Xe(Rn).scale(131.154).center([0,13.9389])}var mn=1.340264,tn=-.081106,fn=893e-6,rn=.003796,pn=(0,u._I)(3)/2;function wn(nn,an){var In=(0,u.qR)(pn*(0,u.g$)(an)),yn=In*In,Dn=yn*yn*yn;return[nn*(0,u.W8)(In)/(pn*(mn+3*tn*yn+Dn*(7*fn+9*rn*yn))),In*(mn+tn*yn+Dn*(fn+rn*yn))]}function kn(){return(0,st.c)(wn).scale(177.158)}wn.invert=function(nn,an){for(var In,yn=an,Dn=yn*yn,$n=Dn*Dn*Dn,Hn=0;Hn<12&&($n=(Dn=(yn-=In=(yn*(mn+tn*Dn+$n*(fn+rn*Dn))-an)/(mn+3*tn*Dn+$n*(7*fn+9*rn*Dn)))*yn)*Dn*Dn,!((0,u.a2)(In)<u.a8));++Hn);return[pn*nn*(mn+3*tn*Dn+$n*(7*fn+9*rn*Dn))/(0,u.W8)(yn),(0,u.qR)((0,u.g$)(yn)/pn)]};var Pn=e(53285),On=e(15196);function En(){var nn,an,In,yn,Dn,$n,Hn,Qn=1,xr=0,Qt=0,xn=1,At=1,Wt=0,en=null,dn=1,gn=1,_n=(0,On.s)({point:function(sn,hn){var Sn=Zt([sn,hn]);this.stream.point(Sn[0],Sn[1])}}),on=ae.c;function Yt(){return dn=Qn*xn,gn=Qn*At,$n=Hn=null,Zt}function Zt(sn){var hn=sn[0]*dn,Sn=sn[1]*gn;if(Wt){var Cn=Sn*nn-hn*an;hn=hn*nn+Sn*an,Sn=Cn}return[hn+xr,Sn+Qt]}return Zt.invert=function(sn){var hn=sn[0]-xr,Sn=sn[1]-Qt;if(Wt){var Cn=Sn*nn+hn*an;hn=hn*nn-Sn*an,Sn=Cn}return[hn/dn,Sn/gn]},Zt.stream=function(sn){return $n&&Hn===sn?$n:$n=_n(on(Hn=sn))},Zt.postclip=function(sn){return arguments.length?(on=sn,en=In=yn=Dn=null,Yt()):on},Zt.clipExtent=function(sn){return arguments.length?(on=sn==null?(en=In=yn=Dn=null,ae.c):(0,s.c)(en=+sn[0][0],In=+sn[0][1],yn=+sn[1][0],Dn=+sn[1][1]),Yt()):en==null?null:[[en,In],[yn,Dn]]},Zt.scale=function(sn){return arguments.length?(Qn=+sn,Yt()):Qn},Zt.translate=function(sn){return arguments.length?(xr=+sn[0],Qt=+sn[1],Yt()):[xr,Qt]},Zt.angle=function(sn){return arguments.length?(Wt=sn%360*u.qw,an=(0,u.g$)(Wt),nn=(0,u.W8)(Wt),Yt()):Wt*u.oh},Zt.reflectX=function(sn){return arguments.length?(xn=sn?-1:1,Yt()):xn<0},Zt.reflectY=function(sn){return arguments.length?(At=sn?-1:1,Yt()):At<0},Zt.fitExtent=function(sn,hn){return(0,dt.QX)(Zt,sn,hn)},Zt.fitSize=function(sn,hn){return(0,dt.UV)(Zt,sn,hn)},Zt.fitWidth=function(sn,hn){return(0,dt.Qx)(Zt,sn,hn)},Zt.fitHeight=function(sn,hn){return(0,dt.OW)(Zt,sn,hn)},Zt}var Vn=e(47984),Bn=e(4888),Wn=e(62280);function rr(nn,an){var In=(0,u.W8)(an),yn=1+(0,u.W8)(nn)*In;return[In*(0,u.g$)(nn)/yn,(0,u.g$)(an)/yn]}function ir(){return(0,st.c)(rr).scale(250).clipAngle(142)}function Kn(nn,an){return[(0,u.Yz)((0,u.a6)((u.or+an)/2)),-nn]}function vr(){var nn=Xt(Kn),an=nn.center,In=nn.rotate;return nn.center=function(yn){return arguments.length?an([-yn[1],yn[0]]):[(yn=an())[1],-yn[0]]},nn.rotate=function(yn){return arguments.length?In([yn[0],yn[1],yn.length>2?yn[2]+90:90]):[(yn=In())[0],yn[1],yn[2]-90]},In([0,0,90]).scale(159.155)}rr.invert=(0,Wn.g)(function(nn){return 2*(0,u.MQ)(nn)}),Kn.invert=function(nn,an){return[-an,2*(0,u.MQ)((0,u.oN)(nn))-u.or]}},27284:function(O,S,e){e.d(S,{c:function(){return x}});var v=e(64528);function x(t,b){var g=t[0]*v.qw,c=t[1]*v.qw,s=b[0]*v.qw,n=b[1]*v.qw,i=(0,v.W8)(c),a=(0,v.g$)(c),r=(0,v.W8)(n),o=(0,v.g$)(n),l=i*(0,v.W8)(g),u=i*(0,v.g$)(g),h=r*(0,v.W8)(s),f=r*(0,v.g$)(s),T=2*(0,v.qR)((0,v._I)((0,v.SD)(n-c)+i*r*(0,v.SD)(s-g))),d=(0,v.g$)(T),y=T?function(m){var w=(0,v.g$)(m*=T)/d,_=(0,v.g$)(T-m)/d,A=_*l+w*h,p=_*u+w*f,L=_*a+w*o;return[(0,v.WE)(p,A)*v.oh,(0,v.WE)(L,(0,v._I)(A*A+p*p))*v.oh]}:function(){return[g*v.oh,c*v.oh]};return y.distance=T,y}},64528:function(O,S,e){e.d(S,{Gg:function(){return v},Km:function(){return l},MQ:function(){return a},SD:function(){return A},W8:function(){return o},WE:function(){return r},Yz:function(){return h},_I:function(){return y},a2:function(){return i},a6:function(){return m},a8:function(){return x},g$:function(){return T},g3:function(){return f},kD:function(){return c},kq:function(){return d},mE:function(){return w},oN:function(){return u},oh:function(){return s},or:function(){return b},pi:function(){return t},qR:function(){return _},qw:function(){return n},wL:function(){return g}});var v=1e-6,x=1e-12,t=Math.PI,b=t/2,g=t/4,c=2*t,s=180/t,n=t/180,i=Math.abs,a=Math.atan,r=Math.atan2,o=Math.cos,l=Math.ceil,u=Math.exp,h=Math.log,f=Math.pow,T=Math.sin,d=Math.sign||function(p){return p>0?1:p<0?-1:0},y=Math.sqrt,m=Math.tan;function w(p){return p>1?0:p<-1?t:Math.acos(p)}function _(p){return p>1?b:p<-1?-b:Math.asin(p)}function A(p){return(p=T(p/2))*p}},70932:function(O,S,e){function v(){}e.d(S,{c:function(){return v}})},73784:function(O,S,e){var v=e(70932),x=1/0,t=x,b=-x,g=b,c={point:function(s,n){s<x&&(x=s),s>b&&(b=s),n<t&&(t=n),n>g&&(g=n)},lineStart:v.c,lineEnd:v.c,polygonStart:v.c,polygonEnd:v.c,result:function(){var s=[[x,t],[b,g]];return b=g=-(t=x=1/0),s}};S.c=c},41860:function(O,S,e){e.d(S,{c:function(){return x}});var v=e(64528);function x(t,b){return(0,v.a2)(t[0]-b[0])<v.Gg&&(0,v.a2)(t[1]-b[1])<v.Gg}},58196:function(O,S,e){e.d(S,{c:function(){return c}});var v=e(88728),x=e(84220),t=e(64528),b=(0,v.c)();function g(s){return(0,t.a2)(s[0])<=t.pi?s[0]:(0,t.kq)(s[0])*(((0,t.a2)(s[0])+t.pi)%t.kD-t.pi)}function c(s,n){var i=g(n),a=n[1],r=(0,t.g$)(a),o=[(0,t.g$)(i),-(0,t.W8)(i),0],l=0,u=0;b.reset(),r===1?a=t.or+t.Gg:r===-1&&(a=-t.or-t.Gg);for(var h=0,f=s.length;h<f;++h)if(d=(T=s[h]).length)for(var T,d,y=T[d-1],m=g(y),w=y[1]/2+t.wL,_=(0,t.g$)(w),A=(0,t.W8)(w),p=0;p<d;++p,m=M,_=R,A=I,y=L){var L=T[p],M=g(L),C=L[1]/2+t.wL,R=(0,t.g$)(C),I=(0,t.W8)(C),D=M-m,F=D>=0?1:-1,q=F*D,z=q>t.pi,V=_*R;if(b.add((0,t.WE)(V*F*(0,t.g$)(q),A*I+V*(0,t.W8)(q))),l+=z?D+F*t.kD:D,z^m>=i^M>=i){var X=(0,x.CW)((0,x.ux)(y),(0,x.ux)(L));(0,x.cJ)(X);var j=(0,x.CW)(o,X);(0,x.cJ)(j);var H=(z^D>=0?-1:1)*(0,t.qR)(j[2]);(a>H||a===H&&(X[0]||X[1]))&&(u+=z^D>=0?1:-1)}}return(l<-t.Gg||l<t.Gg&&b<-t.Gg)^1&u}},62280:function(O,S,e){e.d(S,{a:function(){return x},g:function(){return t}});var v=e(64528);function x(b){return function(g,c){var s=(0,v.W8)(g),n=(0,v.W8)(c),i=b(s*n);return[i*n*(0,v.g$)(g),i*(0,v.g$)(c)]}}function t(b){return function(g,c){var s=(0,v._I)(g*g+c*c),n=b(s),i=(0,v.g$)(n),a=(0,v.W8)(n);return[(0,v.WE)(g*i,s*a),(0,v.qR)(s&&c*i/s)]}}},54724:function(O,S,e){e.d(S,{c:function(){return g},y:function(){return b}});var v=e(64528),x=e(62280),t=e(87952),b=(0,x.a)(function(c){return(0,v._I)(2/(1+c))});function g(){return(0,t.c)(b).scale(124.75).clipAngle(179.999)}b.invert=(0,x.g)(function(c){return 2*(0,v.qR)(c/2)})},69020:function(O,S,e){e.d(S,{O:function(){return b},c:function(){return g}});var v=e(64528),x=e(62280),t=e(87952),b=(0,x.a)(function(c){return(c=(0,v.mE)(c))&&c/(0,v.g$)(c)});function g(){return(0,t.c)(b).scale(79.4188).clipAngle(179.999)}b.invert=(0,x.g)(function(c){return c})},69604:function(O,S,e){e.d(S,{c:function(){return t},u:function(){return x}});var v=e(87952);function x(b,g){return[b,g]}function t(){return(0,v.c)(x).scale(152.63)}x.invert=x},86420:function(O,S,e){e.d(S,{OW:function(){return s},QX:function(){return b},Qx:function(){return c},UV:function(){return g}});var v=e(16016),x=e(73784);function t(n,i,a){var r=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),r!=null&&n.clipExtent(null),(0,v.c)(a,n.stream(x.c)),i(x.c.result()),r!=null&&n.clipExtent(r),n}function b(n,i,a){return t(n,function(r){var o=i[1][0]-i[0][0],l=i[1][1]-i[0][1],u=Math.min(o/(r[1][0]-r[0][0]),l/(r[1][1]-r[0][1])),h=+i[0][0]+(o-u*(r[1][0]+r[0][0]))/2,f=+i[0][1]+(l-u*(r[1][1]+r[0][1]))/2;n.scale(150*u).translate([h,f])},a)}function g(n,i,a){return b(n,[[0,0],i],a)}function c(n,i,a){return t(n,function(r){var o=+i,l=o/(r[1][0]-r[0][0]),u=(o-l*(r[1][0]+r[0][0]))/2,h=-l*r[0][1];n.scale(150*l).translate([u,h])},a)}function s(n,i,a){return t(n,function(r){var o=+i,l=o/(r[1][1]-r[0][1]),u=-l*r[0][0],h=(o-l*(r[1][1]+r[0][1]))/2;n.scale(150*l).translate([u,h])},a)}},53285:function(O,S,e){e.d(S,{Y:function(){return b},c:function(){return g}});var v=e(64528),x=e(62280),t=e(87952);function b(c,s){var n=(0,v.W8)(s),i=(0,v.W8)(c)*n;return[n*(0,v.g$)(c)/i,(0,v.g$)(s)/i]}function g(){return(0,t.c)(b).scale(144.049).clipAngle(60)}b.invert=(0,x.g)(v.MQ)},87952:function(O,S,e){e.d(S,{c:function(){return T},U:function(){return d}});var v=e(78284),x=e(2728),t=e(21676),b=e(68120),g=e(7376),c=e(64528),s=e(92992),n=e(15196),i=e(86420),a=e(84220),r=16,o=(0,c.W8)(30*c.qw);function l(y,m){return+m?function(w,_){function A(p,L,M,C,R,I,D,F,q,z,V,X,j,H){var G=D-p,ie=F-L,re=G*G+ie*ie;if(re>4*_&&j--){var te=C+z,K=R+V,J=I+X,$=(0,c._I)(te*te+K*K+J*J),ae=(0,c.qR)(J/=$),ue=(0,c.a2)((0,c.a2)(J)-1)<c.Gg||(0,c.a2)(M-q)<c.Gg?(M+q)/2:(0,c.WE)(K,te),ce=w(ue,ae),de=ce[0],pe=ce[1],me=de-p,be=pe-L,we=ie*me-G*be;(we*we/re>_||(0,c.a2)((G*me+ie*be)/re-.5)>.3||C*z+R*V+I*X<o)&&(A(p,L,M,C,R,I,de,pe,ue,te/=$,K/=$,J,j,H),H.point(de,pe),A(de,pe,ue,te,K,J,D,F,q,z,V,X,j,H))}}return function(p){var L,M,C,R,I,D,F,q,z,V,X,j,H={point:G,lineStart:ie,lineEnd:te,polygonStart:function(){p.polygonStart(),H.lineStart=K},polygonEnd:function(){p.polygonEnd(),H.lineStart=ie}};function G(ae,ue){ae=w(ae,ue),p.point(ae[0],ae[1])}function ie(){q=NaN,H.point=re,p.lineStart()}function re(ae,ue){var ce=(0,a.ux)([ae,ue]),de=w(ae,ue);A(q,z,F,V,X,j,q=de[0],z=de[1],F=ae,V=ce[0],X=ce[1],j=ce[2],r,p),p.point(q,z)}function te(){H.point=G,p.lineEnd()}function K(){ie(),H.point=J,H.lineEnd=$}function J(ae,ue){re(L=ae,ue),M=q,C=z,R=V,I=X,D=j,H.point=re}function $(){A(q,z,F,V,X,j,M,C,L,R,I,D,r,p),H.lineEnd=te,te()}return H}}(y,m):function(w){return(0,n.s)({point:function(_,A){_=w(_,A),this.stream.point(_[0],_[1])}})}(y)}var u=(0,n.s)({point:function(y,m){this.stream.point(y*c.qw,m*c.qw)}});function h(y,m,w,_,A){function p(L,M){return[m+y*(L*=_),w-y*(M*=A)]}return p.invert=function(L,M){return[(L-m)/y*_,(w-M)/y*A]},p}function f(y,m,w,_,A,p){var L=(0,c.W8)(p),M=(0,c.g$)(p),C=L*y,R=M*y,I=L/y,D=M/y,F=(M*w-L*m)/y,q=(M*m+L*w)/y;function z(V,X){return[C*(V*=_)-R*(X*=A)+m,w-R*V-C*X]}return z.invert=function(V,X){return[_*(I*V-D*X+F),A*(q-D*V-I*X)]},z}function T(y){return d(function(){return y})()}function d(y){var m,w,_,A,p,L,M,C,R,I,D=150,F=480,q=250,z=0,V=0,X=0,j=0,H=0,G=0,ie=1,re=1,te=null,K=v.c,J=null,$=g.c,ae=.5;function ue(me){return C(me[0]*c.qw,me[1]*c.qw)}function ce(me){return(me=C.invert(me[0],me[1]))&&[me[0]*c.oh,me[1]*c.oh]}function de(){var me=f(D,0,0,ie,re,G).apply(null,m(z,V)),be=(G?f:h)(D,F-me[0],q-me[1],ie,re,G);return w=(0,s.O)(X,j,H),M=(0,b.c)(m,be),C=(0,b.c)(w,M),L=l(M,ae),pe()}function pe(){return R=I=null,ue}return ue.stream=function(me){return R&&I===me?R:R=u(function(be){return(0,n.s)({point:function(we,Te){var Le=be(we,Te);return this.stream.point(Le[0],Le[1])}})}(w)(K(L($(I=me)))))},ue.preclip=function(me){return arguments.length?(K=me,te=void 0,pe()):K},ue.postclip=function(me){return arguments.length?($=me,J=_=A=p=null,pe()):$},ue.clipAngle=function(me){return arguments.length?(K=+me?(0,x.c)(te=me*c.qw):(te=null,v.c),pe()):te*c.oh},ue.clipExtent=function(me){return arguments.length?($=me==null?(J=_=A=p=null,g.c):(0,t.c)(J=+me[0][0],_=+me[0][1],A=+me[1][0],p=+me[1][1]),pe()):J==null?null:[[J,_],[A,p]]},ue.scale=function(me){return arguments.length?(D=+me,de()):D},ue.translate=function(me){return arguments.length?(F=+me[0],q=+me[1],de()):[F,q]},ue.center=function(me){return arguments.length?(z=me[0]%360*c.qw,V=me[1]%360*c.qw,de()):[z*c.oh,V*c.oh]},ue.rotate=function(me){return arguments.length?(X=me[0]%360*c.qw,j=me[1]%360*c.qw,H=me.length>2?me[2]%360*c.qw:0,de()):[X*c.oh,j*c.oh,H*c.oh]},ue.angle=function(me){return arguments.length?(G=me%360*c.qw,de()):G*c.oh},ue.reflectX=function(me){return arguments.length?(ie=me?-1:1,de()):ie<0},ue.reflectY=function(me){return arguments.length?(re=me?-1:1,de()):re<0},ue.precision=function(me){return arguments.length?(L=l(M,ae=me*me),pe()):(0,c._I)(ae)},ue.fitExtent=function(me,be){return(0,i.QX)(ue,me,be)},ue.fitSize=function(me,be){return(0,i.UV)(ue,me,be)},ue.fitWidth=function(me,be){return(0,i.Qx)(ue,me,be)},ue.fitHeight=function(me,be){return(0,i.OW)(ue,me,be)},function(){return m=y.apply(this,arguments),ue.invert=m.invert&&ce,de()}}},47984:function(O,S,e){e.d(S,{c:function(){return b},g:function(){return t}});var v=e(87952),x=e(64528);function t(g,c){var s=c*c,n=s*s;return[g*(.8707-.131979*s+n*(n*(.003971*s-.001529*n)-.013791)),c*(1.007226+s*(.015085+n*(.028874*s-.044475-.005916*n)))]}function b(){return(0,v.c)(t).scale(175.295)}t.invert=function(g,c){var s,n=c,i=25;do{var a=n*n,r=a*a;n-=s=(n*(1.007226+a*(.015085+r*(.028874*a-.044475-.005916*r)))-c)/(1.007226+a*(.045255+r*(.259866*a-.311325-.06507600000000001*r)))}while((0,x.a2)(s)>x.Gg&&--i>0);return[g/(.8707+(a=n*n)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),n]}},4888:function(O,S,e){e.d(S,{c:function(){return g},t:function(){return b}});var v=e(64528),x=e(62280),t=e(87952);function b(c,s){return[(0,v.W8)(s)*(0,v.g$)(c),(0,v.g$)(s)]}function g(){return(0,t.c)(b).scale(249.5).clipAngle(90+v.Gg)}b.invert=(0,x.g)(v.qR)},92992:function(O,S,e){e.d(S,{O:function(){return b},c:function(){return n}});var v=e(68120),x=e(64528);function t(i,a){return[(0,x.a2)(i)>x.pi?i+Math.round(-i/x.kD)*x.kD:i,a]}function b(i,a,r){return(i%=x.kD)?a||r?(0,v.c)(c(i),s(a,r)):c(i):a||r?s(a,r):t}function g(i){return function(a,r){return[(a+=i)>x.pi?a-x.kD:a<-x.pi?a+x.kD:a,r]}}function c(i){var a=g(i);return a.invert=g(-i),a}function s(i,a){var r=(0,x.W8)(i),o=(0,x.g$)(i),l=(0,x.W8)(a),u=(0,x.g$)(a);function h(f,T){var d=(0,x.W8)(T),y=(0,x.W8)(f)*d,m=(0,x.g$)(f)*d,w=(0,x.g$)(T),_=w*r+y*o;return[(0,x.WE)(m*l-_*u,y*r-w*o),(0,x.qR)(_*l+m*u)]}return h.invert=function(f,T){var d=(0,x.W8)(T),y=(0,x.W8)(f)*d,m=(0,x.g$)(f)*d,w=(0,x.g$)(T),_=w*l-m*u;return[(0,x.WE)(m*l+w*u,y*r+_*o),(0,x.qR)(_*r-y*o)]},h}function n(i){function a(r){return(r=i(r[0]*x.qw,r[1]*x.qw))[0]*=x.oh,r[1]*=x.oh,r}return i=b(i[0]*x.qw,i[1]*x.qw,i.length>2?i[2]*x.qw:0),a.invert=function(r){return(r=i.invert(r[0]*x.qw,r[1]*x.qw))[0]*=x.oh,r[1]*=x.oh,r},a}t.invert=t},16016:function(O,S,e){function v(s,n){s&&t.hasOwnProperty(s.type)&&t[s.type](s,n)}e.d(S,{c:function(){return c}});var x={Feature:function(s,n){v(s.geometry,n)},FeatureCollection:function(s,n){for(var i=s.features,a=-1,r=i.length;++a<r;)v(i[a].geometry,n)}},t={Sphere:function(s,n){n.sphere()},Point:function(s,n){s=s.coordinates,n.point(s[0],s[1],s[2])},MultiPoint:function(s,n){for(var i=s.coordinates,a=-1,r=i.length;++a<r;)s=i[a],n.point(s[0],s[1],s[2])},LineString:function(s,n){b(s.coordinates,n,0)},MultiLineString:function(s,n){for(var i=s.coordinates,a=-1,r=i.length;++a<r;)b(i[a],n,0)},Polygon:function(s,n){g(s.coordinates,n)},MultiPolygon:function(s,n){for(var i=s.coordinates,a=-1,r=i.length;++a<r;)g(i[a],n)},GeometryCollection:function(s,n){for(var i=s.geometries,a=-1,r=i.length;++a<r;)v(i[a],n)}};function b(s,n,i){var a,r=-1,o=s.length-i;for(n.lineStart();++r<o;)a=s[r],n.point(a[0],a[1],a[2]);n.lineEnd()}function g(s,n){var i=-1,a=s.length;for(n.polygonStart();++i<a;)b(s[i],n,1);n.polygonEnd()}function c(s,n){s&&x.hasOwnProperty(s.type)?x[s.type](s,n):v(s,n)}},15196:function(O,S,e){function v(b){return{stream:x(b)}}function x(b){return function(g){var c=new t;for(var s in b)c[s]=b[s];return c.stream=g,c}}function t(){}e.d(S,{c:function(){return v},s:function(){return x}}),t.prototype={constructor:t,point:function(b,g){this.stream.point(b,g)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},74148:function(O,S,e){function v(le,ye){return le.parent===ye.parent?1:2}function x(le,ye){return le+ye.x}function t(le,ye){return Math.max(le,ye.y)}function b(){var le=v,ye=1,Oe=1,Ae=!1;function Se(Pe){var Fe,Be=0;Pe.eachAfter(function(Re){var He=Re.children;He?(Re.x=function(Ye){return Ye.reduce(x,0)/Ye.length}(He),Re.y=function(Ye){return 1+Ye.reduce(t,0)}(He)):(Re.x=Fe?Be+=le(Re,Fe):0,Re.y=0,Fe=Re)});var xe=function(Re){for(var He;He=Re.children;)Re=He[0];return Re}(Pe),Me=function(Re){for(var He;He=Re.children;)Re=He[He.length-1];return Re}(Pe),Ce=xe.x-le(xe,Me)/2,Ne=Me.x+le(Me,xe)/2;return Pe.eachAfter(Ae?function(Re){Re.x=(Re.x-Pe.x)*ye,Re.y=(Pe.y-Re.y)*Oe}:function(Re){Re.x=(Re.x-Ce)/(Ne-Ce)*ye,Re.y=(1-(Pe.y?Re.y/Pe.y:1))*Oe})}return Se.separation=function(Pe){return arguments.length?(le=Pe,Se):le},Se.size=function(Pe){return arguments.length?(Ae=!1,ye=+Pe[0],Oe=+Pe[1],Se):Ae?null:[ye,Oe]},Se.nodeSize=function(Pe){return arguments.length?(Ae=!0,ye=+Pe[0],Oe=+Pe[1],Se):Ae?[ye,Oe]:null},Se}function g(le){var ye=0,Oe=le.children,Ae=Oe&&Oe.length;if(Ae)for(;--Ae>=0;)ye+=Oe[Ae].value;else ye=1;le.value=ye}function c(le,ye){var Oe,Ae,Se,Pe,Fe,Be=new a(le),xe=+le.value&&(Be.value=le.value),Me=[Be];for(ye==null&&(ye=s);Oe=Me.pop();)if(xe&&(Oe.value=+Oe.data.value),(Se=ye(Oe.data))&&(Fe=Se.length))for(Oe.children=new Array(Fe),Pe=Fe-1;Pe>=0;--Pe)Me.push(Ae=Oe.children[Pe]=new a(Se[Pe])),Ae.parent=Oe,Ae.depth=Oe.depth+1;return Be.eachBefore(i)}function s(le){return le.children}function n(le){le.data=le.data.data}function i(le){var ye=0;do le.height=ye;while((le=le.parent)&&le.height<++ye)}function a(le){this.data=le,this.depth=this.height=0,this.parent=null}e.r(S),e.d(S,{cluster:function(){return b},hierarchy:function(){return c},pack:function(){return D},packEnclose:function(){return o},packSiblings:function(){return L},partition:function(){return j},stratify:function(){return K},tree:function(){return pe},treemap:function(){return Le},treemapBinary:function(){return Ie},treemapDice:function(){return X},treemapResquarify:function(){return fe},treemapSlice:function(){return me},treemapSliceDice:function(){return _e},treemapSquarify:function(){return Te}}),a.prototype=c.prototype={constructor:a,count:function(){return this.eachAfter(g)},each:function(le){var ye,Oe,Ae,Se,Pe=this,Fe=[Pe];do for(ye=Fe.reverse(),Fe=[];Pe=ye.pop();)if(le(Pe),Oe=Pe.children)for(Ae=0,Se=Oe.length;Ae<Se;++Ae)Fe.push(Oe[Ae]);while(Fe.length);return this},eachAfter:function(le){for(var ye,Oe,Ae,Se=this,Pe=[Se],Fe=[];Se=Pe.pop();)if(Fe.push(Se),ye=Se.children)for(Oe=0,Ae=ye.length;Oe<Ae;++Oe)Pe.push(ye[Oe]);for(;Se=Fe.pop();)le(Se);return this},eachBefore:function(le){for(var ye,Oe,Ae=this,Se=[Ae];Ae=Se.pop();)if(le(Ae),ye=Ae.children)for(Oe=ye.length-1;Oe>=0;--Oe)Se.push(ye[Oe]);return this},sum:function(le){return this.eachAfter(function(ye){for(var Oe=+le(ye.data)||0,Ae=ye.children,Se=Ae&&Ae.length;--Se>=0;)Oe+=Ae[Se].value;ye.value=Oe})},sort:function(le){return this.eachBefore(function(ye){ye.children&&ye.children.sort(le)})},path:function(le){for(var ye=this,Oe=function(Pe,Fe){if(Pe===Fe)return Pe;var Be=Pe.ancestors(),xe=Fe.ancestors(),Me=null;for(Pe=Be.pop(),Fe=xe.pop();Pe===Fe;)Me=Pe,Pe=Be.pop(),Fe=xe.pop();return Me}(ye,le),Ae=[ye];ye!==Oe;)ye=ye.parent,Ae.push(ye);for(var Se=Ae.length;le!==Oe;)Ae.splice(Se,0,le),le=le.parent;return Ae},ancestors:function(){for(var le=this,ye=[le];le=le.parent;)ye.push(le);return ye},descendants:function(){var le=[];return this.each(function(ye){le.push(ye)}),le},leaves:function(){var le=[];return this.eachBefore(function(ye){ye.children||le.push(ye)}),le},links:function(){var le=this,ye=[];return le.each(function(Oe){Oe!==le&&ye.push({source:Oe.parent,target:Oe})}),ye},copy:function(){return c(this).eachBefore(n)}};var r=Array.prototype.slice;function o(le){for(var ye,Oe,Ae=0,Se=(le=function(Fe){for(var Be,xe,Me=Fe.length;Me;)xe=Math.random()*Me--|0,Be=Fe[Me],Fe[Me]=Fe[xe],Fe[xe]=Be;return Fe}(r.call(le))).length,Pe=[];Ae<Se;)ye=le[Ae],Oe&&h(Oe,ye)?++Ae:(Oe=T(Pe=l(Pe,ye)),Ae=0);return Oe}function l(le,ye){var Oe,Ae;if(f(ye,le))return[ye];for(Oe=0;Oe<le.length;++Oe)if(u(ye,le[Oe])&&f(d(le[Oe],ye),le))return[le[Oe],ye];for(Oe=0;Oe<le.length-1;++Oe)for(Ae=Oe+1;Ae<le.length;++Ae)if(u(d(le[Oe],le[Ae]),ye)&&u(d(le[Oe],ye),le[Ae])&&u(d(le[Ae],ye),le[Oe])&&f(y(le[Oe],le[Ae],ye),le))return[le[Oe],le[Ae],ye];throw new Error}function u(le,ye){var Oe=le.r-ye.r,Ae=ye.x-le.x,Se=ye.y-le.y;return Oe<0||Oe*Oe<Ae*Ae+Se*Se}function h(le,ye){var Oe=le.r-ye.r+1e-6,Ae=ye.x-le.x,Se=ye.y-le.y;return Oe>0&&Oe*Oe>Ae*Ae+Se*Se}function f(le,ye){for(var Oe=0;Oe<ye.length;++Oe)if(!h(le,ye[Oe]))return!1;return!0}function T(le){switch(le.length){case 1:return{x:(ye=le[0]).x,y:ye.y,r:ye.r};case 2:return d(le[0],le[1]);case 3:return y(le[0],le[1],le[2])}var ye}function d(le,ye){var Oe=le.x,Ae=le.y,Se=le.r,Pe=ye.x,Fe=ye.y,Be=ye.r,xe=Pe-Oe,Me=Fe-Ae,Ce=Be-Se,Ne=Math.sqrt(xe*xe+Me*Me);return{x:(Oe+Pe+xe/Ne*Ce)/2,y:(Ae+Fe+Me/Ne*Ce)/2,r:(Ne+Se+Be)/2}}function y(le,ye,Oe){var Ae=le.x,Se=le.y,Pe=le.r,Fe=ye.x,Be=ye.y,xe=ye.r,Me=Oe.x,Ce=Oe.y,Ne=Oe.r,Re=Ae-Fe,He=Ae-Me,Ye=Se-Be,Qe=Se-Ce,lt=xe-Pe,ut=Ne-Pe,xt=Ae*Ae+Se*Se-Pe*Pe,_t=xt-Fe*Fe-Be*Be+xe*xe,mt=xt-Me*Me-Ce*Ce+Ne*Ne,it=He*Ye-Re*Qe,nt=(Ye*mt-Qe*_t)/(2*it)-Ae,Et=(Qe*lt-Ye*ut)/it,zt=(He*_t-Re*mt)/(2*it)-Se,Ft=(Re*ut-He*lt)/it,Pt=Et*Et+Ft*Ft-1,Ze=2*(Pe+nt*Et+zt*Ft),Je=nt*nt+zt*zt-Pe*Pe,qe=-(Pt?(Ze+Math.sqrt(Ze*Ze-4*Pt*Je))/(2*Pt):Je/Ze);return{x:Ae+nt+Et*qe,y:Se+zt+Ft*qe,r:qe}}function m(le,ye,Oe){var Ae,Se,Pe,Fe,Be=le.x-ye.x,xe=le.y-ye.y,Me=Be*Be+xe*xe;Me?(Se=ye.r+Oe.r,Se*=Se,Fe=le.r+Oe.r,Se>(Fe*=Fe)?(Ae=(Me+Fe-Se)/(2*Me),Pe=Math.sqrt(Math.max(0,Fe/Me-Ae*Ae)),Oe.x=le.x-Ae*Be-Pe*xe,Oe.y=le.y-Ae*xe+Pe*Be):(Ae=(Me+Se-Fe)/(2*Me),Pe=Math.sqrt(Math.max(0,Se/Me-Ae*Ae)),Oe.x=ye.x+Ae*Be-Pe*xe,Oe.y=ye.y+Ae*xe+Pe*Be)):(Oe.x=ye.x+Oe.r,Oe.y=ye.y)}function w(le,ye){var Oe=le.r+ye.r-1e-6,Ae=ye.x-le.x,Se=ye.y-le.y;return Oe>0&&Oe*Oe>Ae*Ae+Se*Se}function _(le){var ye=le._,Oe=le.next._,Ae=ye.r+Oe.r,Se=(ye.x*Oe.r+Oe.x*ye.r)/Ae,Pe=(ye.y*Oe.r+Oe.y*ye.r)/Ae;return Se*Se+Pe*Pe}function A(le){this._=le,this.next=null,this.previous=null}function p(le){if(!(Se=le.length))return 0;var ye,Oe,Ae,Se,Pe,Fe,Be,xe,Me,Ce,Ne;if((ye=le[0]).x=0,ye.y=0,!(Se>1))return ye.r;if(Oe=le[1],ye.x=-Oe.r,Oe.x=ye.r,Oe.y=0,!(Se>2))return ye.r+Oe.r;m(Oe,ye,Ae=le[2]),ye=new A(ye),Oe=new A(Oe),Ae=new A(Ae),ye.next=Ae.previous=Oe,Oe.next=ye.previous=Ae,Ae.next=Oe.previous=ye;e:for(Be=3;Be<Se;++Be){m(ye._,Oe._,Ae=le[Be]),Ae=new A(Ae),xe=Oe.next,Me=ye.previous,Ce=Oe._.r,Ne=ye._.r;do if(Ce<=Ne){if(w(xe._,Ae._)){Oe=xe,ye.next=Oe,Oe.previous=ye,--Be;continue e}Ce+=xe._.r,xe=xe.next}else{if(w(Me._,Ae._)){(ye=Me).next=Oe,Oe.previous=ye,--Be;continue e}Ne+=Me._.r,Me=Me.previous}while(xe!==Me.next);for(Ae.previous=ye,Ae.next=Oe,ye.next=Oe.previous=Oe=Ae,Pe=_(ye);(Ae=Ae.next)!==Oe;)(Fe=_(Ae))<Pe&&(ye=Ae,Pe=Fe);Oe=ye.next}for(ye=[Oe._],Ae=Oe;(Ae=Ae.next)!==Oe;)ye.push(Ae._);for(Ae=o(ye),Be=0;Be<Se;++Be)(ye=le[Be]).x-=Ae.x,ye.y-=Ae.y;return Ae.r}function L(le){return p(le),le}function M(le){if(typeof le!="function")throw new Error;return le}function C(){return 0}function R(le){return function(){return le}}function I(le){return Math.sqrt(le.value)}function D(){var le=null,ye=1,Oe=1,Ae=C;function Se(Pe){return Pe.x=ye/2,Pe.y=Oe/2,le?Pe.eachBefore(F(le)).eachAfter(q(Ae,.5)).eachBefore(z(1)):Pe.eachBefore(F(I)).eachAfter(q(C,1)).eachAfter(q(Ae,Pe.r/Math.min(ye,Oe))).eachBefore(z(Math.min(ye,Oe)/(2*Pe.r))),Pe}return Se.radius=function(Pe){return arguments.length?(le=(Fe=Pe)==null?null:M(Fe),Se):le;var Fe},Se.size=function(Pe){return arguments.length?(ye=+Pe[0],Oe=+Pe[1],Se):[ye,Oe]},Se.padding=function(Pe){return arguments.length?(Ae=typeof Pe=="function"?Pe:R(+Pe),Se):Ae},Se}function F(le){return function(ye){ye.children||(ye.r=Math.max(0,+le(ye)||0))}}function q(le,ye){return function(Oe){if(Ae=Oe.children){var Ae,Se,Pe,Fe=Ae.length,Be=le(Oe)*ye||0;if(Be)for(Se=0;Se<Fe;++Se)Ae[Se].r+=Be;if(Pe=p(Ae),Be)for(Se=0;Se<Fe;++Se)Ae[Se].r-=Be;Oe.r=Pe+Be}}}function z(le){return function(ye){var Oe=ye.parent;ye.r*=le,Oe&&(ye.x=Oe.x+le*ye.x,ye.y=Oe.y+le*ye.y)}}function V(le){le.x0=Math.round(le.x0),le.y0=Math.round(le.y0),le.x1=Math.round(le.x1),le.y1=Math.round(le.y1)}function X(le,ye,Oe,Ae,Se){for(var Pe,Fe=le.children,Be=-1,xe=Fe.length,Me=le.value&&(Ae-ye)/le.value;++Be<xe;)(Pe=Fe[Be]).y0=Oe,Pe.y1=Se,Pe.x0=ye,Pe.x1=ye+=Pe.value*Me}function j(){var le=1,ye=1,Oe=0,Ae=!1;function Se(Pe){var Fe=Pe.height+1;return Pe.x0=Pe.y0=Oe,Pe.x1=le,Pe.y1=ye/Fe,Pe.eachBefore(function(Be,xe){return function(Me){Me.children&&X(Me,Me.x0,Be*(Me.depth+1)/xe,Me.x1,Be*(Me.depth+2)/xe);var Ce=Me.x0,Ne=Me.y0,Re=Me.x1-Oe,He=Me.y1-Oe;Re<Ce&&(Ce=Re=(Ce+Re)/2),He<Ne&&(Ne=He=(Ne+He)/2),Me.x0=Ce,Me.y0=Ne,Me.x1=Re,Me.y1=He}}(ye,Fe)),Ae&&Pe.eachBefore(V),Pe}return Se.round=function(Pe){return arguments.length?(Ae=!!Pe,Se):Ae},Se.size=function(Pe){return arguments.length?(le=+Pe[0],ye=+Pe[1],Se):[le,ye]},Se.padding=function(Pe){return arguments.length?(Oe=+Pe,Se):Oe},Se}var H="$",G={depth:-1},ie={};function re(le){return le.id}function te(le){return le.parentId}function K(){var le=re,ye=te;function Oe(Ae){var Se,Pe,Fe,Be,xe,Me,Ce,Ne=Ae.length,Re=new Array(Ne),He={};for(Pe=0;Pe<Ne;++Pe)Se=Ae[Pe],xe=Re[Pe]=new a(Se),(Me=le(Se,Pe,Ae))!=null&&(Me+="")&&(He[Ce=H+(xe.id=Me)]=Ce in He?ie:xe);for(Pe=0;Pe<Ne;++Pe)if(xe=Re[Pe],(Me=ye(Ae[Pe],Pe,Ae))!=null&&(Me+="")){if(!(Be=He[H+Me]))throw new Error("missing: "+Me);if(Be===ie)throw new Error("ambiguous: "+Me);Be.children?Be.children.push(xe):Be.children=[xe],xe.parent=Be}else{if(Fe)throw new Error("multiple roots");Fe=xe}if(!Fe)throw new Error("no root");if(Fe.parent=G,Fe.eachBefore(function(Ye){Ye.depth=Ye.parent.depth+1,--Ne}).eachBefore(i),Fe.parent=null,Ne>0)throw new Error("cycle");return Fe}return Oe.id=function(Ae){return arguments.length?(le=M(Ae),Oe):le},Oe.parentId=function(Ae){return arguments.length?(ye=M(Ae),Oe):ye},Oe}function J(le,ye){return le.parent===ye.parent?1:2}function $(le){var ye=le.children;return ye?ye[0]:le.t}function ae(le){var ye=le.children;return ye?ye[ye.length-1]:le.t}function ue(le,ye,Oe){var Ae=Oe/(ye.i-le.i);ye.c-=Ae,ye.s+=Oe,le.c+=Ae,ye.z+=Oe,ye.m+=Oe}function ce(le,ye,Oe){return le.a.parent===ye.parent?le.a:Oe}function de(le,ye){this._=le,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=ye}function pe(){var le=J,ye=1,Oe=1,Ae=null;function Se(xe){var Me=function(ut){for(var xt,_t,mt,it,nt,Et=new de(ut,0),zt=[Et];xt=zt.pop();)if(mt=xt._.children)for(xt.children=new Array(nt=mt.length),it=nt-1;it>=0;--it)zt.push(_t=xt.children[it]=new de(mt[it],it)),_t.parent=xt;return(Et.parent=new de(null,0)).children=[Et],Et}(xe);if(Me.eachAfter(Pe),Me.parent.m=-Me.z,Me.eachBefore(Fe),Ae)xe.eachBefore(Be);else{var Ce=xe,Ne=xe,Re=xe;xe.eachBefore(function(ut){ut.x<Ce.x&&(Ce=ut),ut.x>Ne.x&&(Ne=ut),ut.depth>Re.depth&&(Re=ut)});var He=Ce===Ne?1:le(Ce,Ne)/2,Ye=He-Ce.x,Qe=ye/(Ne.x+He+Ye),lt=Oe/(Re.depth||1);xe.eachBefore(function(ut){ut.x=(ut.x+Ye)*Qe,ut.y=ut.depth*lt})}return xe}function Pe(xe){var Me=xe.children,Ce=xe.parent.children,Ne=xe.i?Ce[xe.i-1]:null;if(Me){(function(He){for(var Ye,Qe=0,lt=0,ut=He.children,xt=ut.length;--xt>=0;)(Ye=ut[xt]).z+=Qe,Ye.m+=Qe,Qe+=Ye.s+(lt+=Ye.c)})(xe);var Re=(Me[0].z+Me[Me.length-1].z)/2;Ne?(xe.z=Ne.z+le(xe._,Ne._),xe.m=xe.z-Re):xe.z=Re}else Ne&&(xe.z=Ne.z+le(xe._,Ne._));xe.parent.A=function(He,Ye,Qe){if(Ye){for(var lt,ut=He,xt=He,_t=Ye,mt=ut.parent.children[0],it=ut.m,nt=xt.m,Et=_t.m,zt=mt.m;_t=ae(_t),ut=$(ut),_t&&ut;)mt=$(mt),(xt=ae(xt)).a=He,(lt=_t.z+Et-ut.z-it+le(_t._,ut._))>0&&(ue(ce(_t,He,Qe),He,lt),it+=lt,nt+=lt),Et+=_t.m,it+=ut.m,zt+=mt.m,nt+=xt.m;_t&&!ae(xt)&&(xt.t=_t,xt.m+=Et-nt),ut&&!$(mt)&&(mt.t=ut,mt.m+=it-zt,Qe=He)}return Qe}(xe,Ne,xe.parent.A||Ce[0])}function Fe(xe){xe._.x=xe.z+xe.parent.m,xe.m+=xe.parent.m}function Be(xe){xe.x*=ye,xe.y=xe.depth*Oe}return Se.separation=function(xe){return arguments.length?(le=xe,Se):le},Se.size=function(xe){return arguments.length?(Ae=!1,ye=+xe[0],Oe=+xe[1],Se):Ae?null:[ye,Oe]},Se.nodeSize=function(xe){return arguments.length?(Ae=!0,ye=+xe[0],Oe=+xe[1],Se):Ae?[ye,Oe]:null},Se}function me(le,ye,Oe,Ae,Se){for(var Pe,Fe=le.children,Be=-1,xe=Fe.length,Me=le.value&&(Se-Oe)/le.value;++Be<xe;)(Pe=Fe[Be]).x0=ye,Pe.x1=Ae,Pe.y0=Oe,Pe.y1=Oe+=Pe.value*Me}de.prototype=Object.create(a.prototype);var be=(1+Math.sqrt(5))/2;function we(le,ye,Oe,Ae,Se,Pe){for(var Fe,Be,xe,Me,Ce,Ne,Re,He,Ye,Qe,lt,ut=[],xt=ye.children,_t=0,mt=0,it=xt.length,nt=ye.value;_t<it;){xe=Se-Oe,Me=Pe-Ae;do Ce=xt[mt++].value;while(!Ce&&mt<it);for(Ne=Re=Ce,lt=Ce*Ce*(Qe=Math.max(Me/xe,xe/Me)/(nt*le)),Ye=Math.max(Re/lt,lt/Ne);mt<it;++mt){if(Ce+=Be=xt[mt].value,Be<Ne&&(Ne=Be),Be>Re&&(Re=Be),lt=Ce*Ce*Qe,(He=Math.max(Re/lt,lt/Ne))>Ye){Ce-=Be;break}Ye=He}ut.push(Fe={value:Ce,dice:xe<Me,children:xt.slice(_t,mt)}),Fe.dice?X(Fe,Oe,Ae,Se,nt?Ae+=Me*Ce/nt:Pe):me(Fe,Oe,Ae,nt?Oe+=xe*Ce/nt:Se,Pe),nt-=Ce,_t=mt}return ut}var Te=function le(ye){function Oe(Ae,Se,Pe,Fe,Be){we(ye,Ae,Se,Pe,Fe,Be)}return Oe.ratio=function(Ae){return le((Ae=+Ae)>1?Ae:1)},Oe}(be);function Le(){var le=Te,ye=!1,Oe=1,Ae=1,Se=[0],Pe=C,Fe=C,Be=C,xe=C,Me=C;function Ce(Re){return Re.x0=Re.y0=0,Re.x1=Oe,Re.y1=Ae,Re.eachBefore(Ne),Se=[0],ye&&Re.eachBefore(V),Re}function Ne(Re){var He=Se[Re.depth],Ye=Re.x0+He,Qe=Re.y0+He,lt=Re.x1-He,ut=Re.y1-He;lt<Ye&&(Ye=lt=(Ye+lt)/2),ut<Qe&&(Qe=ut=(Qe+ut)/2),Re.x0=Ye,Re.y0=Qe,Re.x1=lt,Re.y1=ut,Re.children&&(He=Se[Re.depth+1]=Pe(Re)/2,Ye+=Me(Re)-He,Qe+=Fe(Re)-He,(lt-=Be(Re)-He)<Ye&&(Ye=lt=(Ye+lt)/2),(ut-=xe(Re)-He)<Qe&&(Qe=ut=(Qe+ut)/2),le(Re,Ye,Qe,lt,ut))}return Ce.round=function(Re){return arguments.length?(ye=!!Re,Ce):ye},Ce.size=function(Re){return arguments.length?(Oe=+Re[0],Ae=+Re[1],Ce):[Oe,Ae]},Ce.tile=function(Re){return arguments.length?(le=M(Re),Ce):le},Ce.padding=function(Re){return arguments.length?Ce.paddingInner(Re).paddingOuter(Re):Ce.paddingInner()},Ce.paddingInner=function(Re){return arguments.length?(Pe=typeof Re=="function"?Re:R(+Re),Ce):Pe},Ce.paddingOuter=function(Re){return arguments.length?Ce.paddingTop(Re).paddingRight(Re).paddingBottom(Re).paddingLeft(Re):Ce.paddingTop()},Ce.paddingTop=function(Re){return arguments.length?(Fe=typeof Re=="function"?Re:R(+Re),Ce):Fe},Ce.paddingRight=function(Re){return arguments.length?(Be=typeof Re=="function"?Re:R(+Re),Ce):Be},Ce.paddingBottom=function(Re){return arguments.length?(xe=typeof Re=="function"?Re:R(+Re),Ce):xe},Ce.paddingLeft=function(Re){return arguments.length?(Me=typeof Re=="function"?Re:R(+Re),Ce):Me},Ce}function Ie(le,ye,Oe,Ae,Se){var Pe,Fe,Be=le.children,xe=Be.length,Me=new Array(xe+1);for(Me[0]=Fe=Pe=0;Pe<xe;++Pe)Me[Pe+1]=Fe+=Be[Pe].value;(function Ce(Ne,Re,He,Ye,Qe,lt,ut){if(Ne>=Re-1){var xt=Be[Ne];return xt.x0=Ye,xt.y0=Qe,xt.x1=lt,void(xt.y1=ut)}for(var _t=Me[Ne],mt=He/2+_t,it=Ne+1,nt=Re-1;it<nt;){var Et=it+nt>>>1;Me[Et]<mt?it=Et+1:nt=Et}mt-Me[it-1]<Me[it]-mt&&Ne+1<it&&--it;var zt=Me[it]-_t,Ft=He-zt;if(lt-Ye>ut-Qe){var Pt=(Ye*Ft+lt*zt)/He;Ce(Ne,it,zt,Ye,Qe,Pt,ut),Ce(it,Re,Ft,Pt,Qe,lt,ut)}else{var Ze=(Qe*Ft+ut*zt)/He;Ce(Ne,it,zt,Ye,Qe,lt,Ze),Ce(it,Re,Ft,Ye,Ze,lt,ut)}})(0,xe,le.value,ye,Oe,Ae,Se)}function _e(le,ye,Oe,Ae,Se){(1&le.depth?me:X)(le,ye,Oe,Ae,Se)}var fe=function le(ye){function Oe(Ae,Se,Pe,Fe,Be){if((xe=Ae._squarify)&&xe.ratio===ye)for(var xe,Me,Ce,Ne,Re,He=-1,Ye=xe.length,Qe=Ae.value;++He<Ye;){for(Ce=(Me=xe[He]).children,Ne=Me.value=0,Re=Ce.length;Ne<Re;++Ne)Me.value+=Ce[Ne].value;Me.dice?X(Me,Se,Pe,Fe,Pe+=(Be-Pe)*Me.value/Qe):me(Me,Se,Pe,Se+=(Fe-Se)*Me.value/Qe,Be),Qe-=Me.value}else Ae._squarify=xe=we(ye,Ae,Se,Pe,Fe,Be),xe.ratio=ye}return Oe.ratio=function(Ae){return le((Ae=+Ae)>1?Ae:1)},Oe}(be)},10132:function(O,S,e){e.d(S,{ak:function(){return h}});var v=Math.PI,x=2*v,t=1e-6,b=x-t;function g(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function c(){return new g}g.prototype=c.prototype={constructor:g,moveTo:function(f,T){this._+="M"+(this._x0=this._x1=+f)+","+(this._y0=this._y1=+T)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(f,T){this._+="L"+(this._x1=+f)+","+(this._y1=+T)},quadraticCurveTo:function(f,T,d,y){this._+="Q"+ +f+","+ +T+","+(this._x1=+d)+","+(this._y1=+y)},bezierCurveTo:function(f,T,d,y,m,w){this._+="C"+ +f+","+ +T+","+ +d+","+ +y+","+(this._x1=+m)+","+(this._y1=+w)},arcTo:function(f,T,d,y,m){f=+f,T=+T,d=+d,y=+y,m=+m;var w=this._x1,_=this._y1,A=d-f,p=y-T,L=w-f,M=_-T,C=L*L+M*M;if(m<0)throw new Error("negative radius: "+m);if(this._x1===null)this._+="M"+(this._x1=f)+","+(this._y1=T);else if(C>t)if(Math.abs(M*A-p*L)>t&&m){var R=d-w,I=y-_,D=A*A+p*p,F=R*R+I*I,q=Math.sqrt(D),z=Math.sqrt(C),V=m*Math.tan((v-Math.acos((D+C-F)/(2*q*z)))/2),X=V/z,j=V/q;Math.abs(X-1)>t&&(this._+="L"+(f+X*L)+","+(T+X*M)),this._+="A"+m+","+m+",0,0,"+ +(M*R>L*I)+","+(this._x1=f+j*A)+","+(this._y1=T+j*p)}else this._+="L"+(this._x1=f)+","+(this._y1=T)},arc:function(f,T,d,y,m,w){f=+f,T=+T,w=!!w;var _=(d=+d)*Math.cos(y),A=d*Math.sin(y),p=f+_,L=T+A,M=1^w,C=w?y-m:m-y;if(d<0)throw new Error("negative radius: "+d);this._x1===null?this._+="M"+p+","+L:(Math.abs(this._x1-p)>t||Math.abs(this._y1-L)>t)&&(this._+="L"+p+","+L),d&&(C<0&&(C=C%x+x),C>b?this._+="A"+d+","+d+",0,1,"+M+","+(f-_)+","+(T-A)+"A"+d+","+d+",0,1,"+M+","+(this._x1=p)+","+(this._y1=L):C>t&&(this._+="A"+d+","+d+",0,"+ +(C>=v)+","+M+","+(this._x1=f+d*Math.cos(m))+","+(this._y1=T+d*Math.sin(m))))},rect:function(f,T,d,y){this._+="M"+(this._x0=this._x1=+f)+","+(this._y0=this._y1=+T)+"h"+ +d+"v"+ +y+"h"+-d+"Z"},toString:function(){return this._}};var s=c,n=Array.prototype.slice;function i(f){return function(){return f}}function a(f){return f[0]}function r(f){return f[1]}function o(f){return f.source}function l(f){return f.target}function u(f,T,d,y,m){f.moveTo(T,d),f.bezierCurveTo(T=(T+y)/2,d,T,m,y,m)}function h(){return function(f){var T=o,d=l,y=a,m=r,w=null;function _(){var A,p=n.call(arguments),L=T.apply(this,p),M=d.apply(this,p);if(w||(w=A=s()),f(w,+y.apply(this,(p[0]=L,p)),+m.apply(this,p),+y.apply(this,(p[0]=M,p)),+m.apply(this,p)),A)return w=null,A+""||null}return _.source=function(A){return arguments.length?(T=A,_):T},_.target=function(A){return arguments.length?(d=A,_):d},_.x=function(A){return arguments.length?(y=typeof A=="function"?A:i(+A),_):y},_.y=function(A){return arguments.length?(m=typeof A=="function"?A:i(+A),_):m},_.context=function(A){return arguments.length?(w=A??null,_):w},_}(u)}},94336:function(O,S,e){e.d(S,{Yn:function(){return o},m_:function(){return a},E9:function(){return l}});var v=e(8208),x=e(58931),t=e(46192),b=e(68936),g=e(32171),c=e(53528);function s(it){if(0<=it.y&&it.y<100){var nt=new Date(-1,it.m,it.d,it.H,it.M,it.S,it.L);return nt.setFullYear(it.y),nt}return new Date(it.y,it.m,it.d,it.H,it.M,it.S,it.L)}function n(it){if(0<=it.y&&it.y<100){var nt=new Date(Date.UTC(-1,it.m,it.d,it.H,it.M,it.S,it.L));return nt.setUTCFullYear(it.y),nt}return new Date(Date.UTC(it.y,it.m,it.d,it.H,it.M,it.S,it.L))}function i(it,nt,Et){return{y:it,m:nt,d:Et,H:0,M:0,S:0,L:0}}function a(it){var nt=it.dateTime,Et=it.date,zt=it.time,Ft=it.periods,Pt=it.days,Ze=it.shortDays,Je=it.months,qe=it.shortMonths,Ke=m(Ft),ft=w(Ft),ot=m(Pt),Ue=w(Pt),Ve=m(Ze),st=w(Ze),Xe=m(Je),gt=w(Je),yt=m(qe),bt=w(qe),dt={a:function(Nt){return Ze[Nt.getDay()]},A:function(Nt){return Pt[Nt.getDay()]},b:function(Nt){return qe[Nt.getMonth()]},B:function(Nt){return Je[Nt.getMonth()]},c:null,d:K,e:K,f:ce,H:J,I:$,j:ae,L:ue,m:de,M:pe,p:function(Nt){return Ft[+(Nt.getHours()>=12)]},q:function(Nt){return 1+~~(Nt.getMonth()/3)},Q:_t,s:mt,S:me,u:be,U:we,V:Te,w:Le,W:Ie,x:null,X:null,y:_e,Y:fe,Z:le,"%":xt},Lt={a:function(Nt){return Ze[Nt.getUTCDay()]},A:function(Nt){return Pt[Nt.getUTCDay()]},b:function(Nt){return qe[Nt.getUTCMonth()]},B:function(Nt){return Je[Nt.getUTCMonth()]},c:null,d:ye,e:ye,f:Fe,H:Oe,I:Ae,j:Se,L:Pe,m:Be,M:xe,p:function(Nt){return Ft[+(Nt.getUTCHours()>=12)]},q:function(Nt){return 1+~~(Nt.getUTCMonth()/3)},Q:_t,s:mt,S:Me,u:Ce,U:Ne,V:Re,w:He,W:Ye,x:null,X:null,y:Qe,Y:lt,Z:ut,"%":xt},wt={a:function(Nt,Xt,un){var qt=Ve.exec(Xt.slice(un));return qt?(Nt.w=st[qt[0].toLowerCase()],un+qt[0].length):-1},A:function(Nt,Xt,un){var qt=ot.exec(Xt.slice(un));return qt?(Nt.w=Ue[qt[0].toLowerCase()],un+qt[0].length):-1},b:function(Nt,Xt,un){var qt=yt.exec(Xt.slice(un));return qt?(Nt.m=bt[qt[0].toLowerCase()],un+qt[0].length):-1},B:function(Nt,Xt,un){var qt=Xe.exec(Xt.slice(un));return qt?(Nt.m=gt[qt[0].toLowerCase()],un+qt[0].length):-1},c:function(Nt,Xt,un){return Dt(Nt,nt,Xt,un)},d:q,e:q,f:G,H:V,I:V,j:z,L:H,m:F,M:X,p:function(Nt,Xt,un){var qt=Ke.exec(Xt.slice(un));return qt?(Nt.p=ft[qt[0].toLowerCase()],un+qt[0].length):-1},q:D,Q:re,s:te,S:j,u:A,U:p,V:L,w:_,W:M,x:function(Nt,Xt,un){return Dt(Nt,Et,Xt,un)},X:function(Nt,Xt,un){return Dt(Nt,zt,Xt,un)},y:R,Y:C,Z:I,"%":ie};function Ct(Nt,Xt){return function(un){var qt,Kt,Ut,Rn=[],An=-1,mn=0,tn=Nt.length;for(un instanceof Date||(un=new Date(+un));++An<tn;)Nt.charCodeAt(An)===37&&(Rn.push(Nt.slice(mn,An)),(Kt=u[qt=Nt.charAt(++An)])!=null?qt=Nt.charAt(++An):Kt=qt==="e"?" ":"0",(Ut=Xt[qt])&&(qt=Ut(un,Kt)),Rn.push(qt),mn=An+1);return Rn.push(Nt.slice(mn,An)),Rn.join("")}}function Rt(Nt,Xt){return function(un){var qt,Kt,Ut=i(1900,void 0,1);if(Dt(Ut,Nt,un+="",0)!=un.length)return null;if("Q"in Ut)return new Date(Ut.Q);if("s"in Ut)return new Date(1e3*Ut.s+("L"in Ut?Ut.L:0));if(Xt&&!("Z"in Ut)&&(Ut.Z=0),"p"in Ut&&(Ut.H=Ut.H%12+12*Ut.p),Ut.m===void 0&&(Ut.m="q"in Ut?Ut.q:0),"V"in Ut){if(Ut.V<1||Ut.V>53)return null;"w"in Ut||(Ut.w=1),"Z"in Ut?(Kt=(qt=n(i(Ut.y,0,1))).getUTCDay(),qt=Kt>4||Kt===0?v.ot.ceil(qt):(0,v.ot)(qt),qt=x.c.offset(qt,7*(Ut.V-1)),Ut.y=qt.getUTCFullYear(),Ut.m=qt.getUTCMonth(),Ut.d=qt.getUTCDate()+(Ut.w+6)%7):(Kt=(qt=s(i(Ut.y,0,1))).getDay(),qt=Kt>4||Kt===0?t.qT.ceil(qt):(0,t.qT)(qt),qt=b.c.offset(qt,7*(Ut.V-1)),Ut.y=qt.getFullYear(),Ut.m=qt.getMonth(),Ut.d=qt.getDate()+(Ut.w+6)%7)}else("W"in Ut||"U"in Ut)&&("w"in Ut||(Ut.w="u"in Ut?Ut.u%7:"W"in Ut?1:0),Kt="Z"in Ut?n(i(Ut.y,0,1)).getUTCDay():s(i(Ut.y,0,1)).getDay(),Ut.m=0,Ut.d="W"in Ut?(Ut.w+6)%7+7*Ut.W-(Kt+5)%7:Ut.w+7*Ut.U-(Kt+6)%7);return"Z"in Ut?(Ut.H+=Ut.Z/100|0,Ut.M+=Ut.Z%100,n(Ut)):s(Ut)}}function Dt(Nt,Xt,un,qt){for(var Kt,Ut,Rn=0,An=Xt.length,mn=un.length;Rn<An;){if(qt>=mn)return-1;if((Kt=Xt.charCodeAt(Rn++))===37){if(Kt=Xt.charAt(Rn++),!(Ut=wt[Kt in u?Xt.charAt(Rn++):Kt])||(qt=Ut(Nt,un,qt))<0)return-1}else if(Kt!=un.charCodeAt(qt++))return-1}return qt}return dt.x=Ct(Et,dt),dt.X=Ct(zt,dt),dt.c=Ct(nt,dt),Lt.x=Ct(Et,Lt),Lt.X=Ct(zt,Lt),Lt.c=Ct(nt,Lt),{format:function(Nt){var Xt=Ct(Nt+="",dt);return Xt.toString=function(){return Nt},Xt},parse:function(Nt){var Xt=Rt(Nt+="",!1);return Xt.toString=function(){return Nt},Xt},utcFormat:function(Nt){var Xt=Ct(Nt+="",Lt);return Xt.toString=function(){return Nt},Xt},utcParse:function(Nt){var Xt=Rt(Nt+="",!0);return Xt.toString=function(){return Nt},Xt}}}var r,o,l,u={"-":"",_:" ",0:"0"},h=/^\s*\d+/,f=/^%/,T=/[\\^$*+?|[\]().{}]/g;function d(it,nt,Et){var zt=it<0?"-":"",Ft=(zt?-it:it)+"",Pt=Ft.length;return zt+(Pt<Et?new Array(Et-Pt+1).join(nt)+Ft:Ft)}function y(it){return it.replace(T,"\\$&")}function m(it){return new RegExp("^(?:"+it.map(y).join("|")+")","i")}function w(it){for(var nt={},Et=-1,zt=it.length;++Et<zt;)nt[it[Et].toLowerCase()]=Et;return nt}function _(it,nt,Et){var zt=h.exec(nt.slice(Et,Et+1));return zt?(it.w=+zt[0],Et+zt[0].length):-1}function A(it,nt,Et){var zt=h.exec(nt.slice(Et,Et+1));return zt?(it.u=+zt[0],Et+zt[0].length):-1}function p(it,nt,Et){var zt=h.exec(nt.slice(Et,Et+2));return zt?(it.U=+zt[0],Et+zt[0].length):-1}function L(it,nt,Et){var zt=h.exec(nt.slice(Et,Et+2));return zt?(it.V=+zt[0],Et+zt[0].length):-1}function M(it,nt,Et){var zt=h.exec(nt.slice(Et,Et+2));return zt?(it.W=+zt[0],Et+zt[0].length):-1}function C(it,nt,Et){var zt=h.exec(nt.slice(Et,Et+4));return zt?(it.y=+zt[0],Et+zt[0].length):-1}function R(it,nt,Et){var zt=h.exec(nt.slice(Et,Et+2));return zt?(it.y=+zt[0]+(+zt[0]>68?1900:2e3),Et+zt[0].length):-1}function I(it,nt,Et){var zt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(nt.slice(Et,Et+6));return zt?(it.Z=zt[1]?0:-(zt[2]+(zt[3]||"00")),Et+zt[0].length):-1}function D(it,nt,Et){var zt=h.exec(nt.slice(Et,Et+1));return zt?(it.q=3*zt[0]-3,Et+zt[0].length):-1}function F(it,nt,Et){var zt=h.exec(nt.slice(Et,Et+2));return zt?(it.m=zt[0]-1,Et+zt[0].length):-1}function q(it,nt,Et){var zt=h.exec(nt.slice(Et,Et+2));return zt?(it.d=+zt[0],Et+zt[0].length):-1}function z(it,nt,Et){var zt=h.exec(nt.slice(Et,Et+3));return zt?(it.m=0,it.d=+zt[0],Et+zt[0].length):-1}function V(it,nt,Et){var zt=h.exec(nt.slice(Et,Et+2));return zt?(it.H=+zt[0],Et+zt[0].length):-1}function X(it,nt,Et){var zt=h.exec(nt.slice(Et,Et+2));return zt?(it.M=+zt[0],Et+zt[0].length):-1}function j(it,nt,Et){var zt=h.exec(nt.slice(Et,Et+2));return zt?(it.S=+zt[0],Et+zt[0].length):-1}function H(it,nt,Et){var zt=h.exec(nt.slice(Et,Et+3));return zt?(it.L=+zt[0],Et+zt[0].length):-1}function G(it,nt,Et){var zt=h.exec(nt.slice(Et,Et+6));return zt?(it.L=Math.floor(zt[0]/1e3),Et+zt[0].length):-1}function ie(it,nt,Et){var zt=f.exec(nt.slice(Et,Et+1));return zt?Et+zt[0].length:-1}function re(it,nt,Et){var zt=h.exec(nt.slice(Et));return zt?(it.Q=+zt[0],Et+zt[0].length):-1}function te(it,nt,Et){var zt=h.exec(nt.slice(Et));return zt?(it.s=+zt[0],Et+zt[0].length):-1}function K(it,nt){return d(it.getDate(),nt,2)}function J(it,nt){return d(it.getHours(),nt,2)}function $(it,nt){return d(it.getHours()%12||12,nt,2)}function ae(it,nt){return d(1+b.c.count((0,g.c)(it),it),nt,3)}function ue(it,nt){return d(it.getMilliseconds(),nt,3)}function ce(it,nt){return ue(it,nt)+"000"}function de(it,nt){return d(it.getMonth()+1,nt,2)}function pe(it,nt){return d(it.getMinutes(),nt,2)}function me(it,nt){return d(it.getSeconds(),nt,2)}function be(it){var nt=it.getDay();return nt===0?7:nt}function we(it,nt){return d(t.uU.count((0,g.c)(it)-1,it),nt,2)}function Te(it,nt){var Et=it.getDay();return it=Et>=4||Et===0?(0,t.kD)(it):t.kD.ceil(it),d(t.kD.count((0,g.c)(it),it)+((0,g.c)(it).getDay()===4),nt,2)}function Le(it){return it.getDay()}function Ie(it,nt){return d(t.qT.count((0,g.c)(it)-1,it),nt,2)}function _e(it,nt){return d(it.getFullYear()%100,nt,2)}function fe(it,nt){return d(it.getFullYear()%1e4,nt,4)}function le(it){var nt=it.getTimezoneOffset();return(nt>0?"-":(nt*=-1,"+"))+d(nt/60|0,"0",2)+d(nt%60,"0",2)}function ye(it,nt){return d(it.getUTCDate(),nt,2)}function Oe(it,nt){return d(it.getUTCHours(),nt,2)}function Ae(it,nt){return d(it.getUTCHours()%12||12,nt,2)}function Se(it,nt){return d(1+x.c.count((0,c.c)(it),it),nt,3)}function Pe(it,nt){return d(it.getUTCMilliseconds(),nt,3)}function Fe(it,nt){return Pe(it,nt)+"000"}function Be(it,nt){return d(it.getUTCMonth()+1,nt,2)}function xe(it,nt){return d(it.getUTCMinutes(),nt,2)}function Me(it,nt){return d(it.getUTCSeconds(),nt,2)}function Ce(it){var nt=it.getUTCDay();return nt===0?7:nt}function Ne(it,nt){return d(v.EV.count((0,c.c)(it)-1,it),nt,2)}function Re(it,nt){var Et=it.getUTCDay();return it=Et>=4||Et===0?(0,v.yA)(it):v.yA.ceil(it),d(v.yA.count((0,c.c)(it),it)+((0,c.c)(it).getUTCDay()===4),nt,2)}function He(it){return it.getUTCDay()}function Ye(it,nt){return d(v.ot.count((0,c.c)(it)-1,it),nt,2)}function Qe(it,nt){return d(it.getUTCFullYear()%100,nt,2)}function lt(it,nt){return d(it.getUTCFullYear()%1e4,nt,4)}function ut(){return"+0000"}function xt(){return"%"}function _t(it){return+it}function mt(it){return Math.floor(+it/1e3)}r=a({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),o=r.format,r.parse,l=r.utcFormat,r.utcParse},68936:function(O,S,e){e.d(S,{m:function(){return b}});var v=e(81628),x=e(69792),t=(0,v.c)(function(g){g.setHours(0,0,0,0)},function(g,c){g.setDate(g.getDate()+c)},function(g,c){return(c-g-(c.getTimezoneOffset()-g.getTimezoneOffset())*x.iy)/x.SK},function(g){return g.getDate()-1});S.c=t;var b=t.range},69792:function(O,S,e){e.d(S,{KK:function(){return g},SK:function(){return b},cg:function(){return t},iy:function(){return x},yc:function(){return v}});var v=1e3,x=6e4,t=36e5,b=864e5,g=6048e5},73220:function(O,S,e){e.r(S),e.d(S,{timeDay:function(){return h.c},timeDays:function(){return h.m},timeFriday:function(){return f.iB},timeFridays:function(){return f.sJ},timeHour:function(){return l},timeHours:function(){return u},timeInterval:function(){return v.c},timeMillisecond:function(){return t},timeMilliseconds:function(){return b},timeMinute:function(){return a},timeMinutes:function(){return r},timeMonday:function(){return f.qT},timeMondays:function(){return f.QP},timeMonth:function(){return d},timeMonths:function(){return y},timeSaturday:function(){return f.Wc},timeSaturdays:function(){return f.aI},timeSecond:function(){return s},timeSeconds:function(){return n},timeSunday:function(){return f.uU},timeSundays:function(){return f.Ab},timeThursday:function(){return f.kD},timeThursdays:function(){return f.eC},timeTuesday:function(){return f.Mf},timeTuesdays:function(){return f.Oc},timeWednesday:function(){return f.eg},timeWednesdays:function(){return f.sn},timeWeek:function(){return f.uU},timeWeeks:function(){return f.Ab},timeYear:function(){return m.c},timeYears:function(){return m.Q},utcDay:function(){return C.c},utcDays:function(){return C.o},utcFriday:function(){return R.od},utcFridays:function(){return R.iG},utcHour:function(){return L},utcHours:function(){return M},utcMillisecond:function(){return t},utcMilliseconds:function(){return b},utcMinute:function(){return _},utcMinutes:function(){return A},utcMonday:function(){return R.ot},utcMondays:function(){return R.iO},utcMonth:function(){return D},utcMonths:function(){return F},utcSaturday:function(){return R.Ad},utcSaturdays:function(){return R.K8},utcSecond:function(){return s},utcSeconds:function(){return n},utcSunday:function(){return R.EV},utcSundays:function(){return R.Wq},utcThursday:function(){return R.yA},utcThursdays:function(){return R.ob},utcTuesday:function(){return R.sG},utcTuesdays:function(){return R.kl},utcWednesday:function(){return R._6},utcWednesdays:function(){return R.W_},utcWeek:function(){return R.EV},utcWeeks:function(){return R.Wq},utcYear:function(){return q.c},utcYears:function(){return q.i}});var v=e(81628),x=(0,v.c)(function(){},function(z,V){z.setTime(+z+V)},function(z,V){return V-z});x.every=function(z){return z=Math.floor(z),isFinite(z)&&z>0?z>1?(0,v.c)(function(V){V.setTime(Math.floor(V/z)*z)},function(V,X){V.setTime(+V+X*z)},function(V,X){return(X-V)/z}):x:null};var t=x,b=x.range,g=e(69792),c=(0,v.c)(function(z){z.setTime(z-z.getMilliseconds())},function(z,V){z.setTime(+z+V*g.yc)},function(z,V){return(V-z)/g.yc},function(z){return z.getUTCSeconds()}),s=c,n=c.range,i=(0,v.c)(function(z){z.setTime(z-z.getMilliseconds()-z.getSeconds()*g.yc)},function(z,V){z.setTime(+z+V*g.iy)},function(z,V){return(V-z)/g.iy},function(z){return z.getMinutes()}),a=i,r=i.range,o=(0,v.c)(function(z){z.setTime(z-z.getMilliseconds()-z.getSeconds()*g.yc-z.getMinutes()*g.iy)},function(z,V){z.setTime(+z+V*g.cg)},function(z,V){return(V-z)/g.cg},function(z){return z.getHours()}),l=o,u=o.range,h=e(68936),f=e(46192),T=(0,v.c)(function(z){z.setDate(1),z.setHours(0,0,0,0)},function(z,V){z.setMonth(z.getMonth()+V)},function(z,V){return V.getMonth()-z.getMonth()+12*(V.getFullYear()-z.getFullYear())},function(z){return z.getMonth()}),d=T,y=T.range,m=e(32171),w=(0,v.c)(function(z){z.setUTCSeconds(0,0)},function(z,V){z.setTime(+z+V*g.iy)},function(z,V){return(V-z)/g.iy},function(z){return z.getUTCMinutes()}),_=w,A=w.range,p=(0,v.c)(function(z){z.setUTCMinutes(0,0,0)},function(z,V){z.setTime(+z+V*g.cg)},function(z,V){return(V-z)/g.cg},function(z){return z.getUTCHours()}),L=p,M=p.range,C=e(58931),R=e(8208),I=(0,v.c)(function(z){z.setUTCDate(1),z.setUTCHours(0,0,0,0)},function(z,V){z.setUTCMonth(z.getUTCMonth()+V)},function(z,V){return V.getUTCMonth()-z.getUTCMonth()+12*(V.getUTCFullYear()-z.getUTCFullYear())},function(z){return z.getUTCMonth()}),D=I,F=I.range,q=e(53528)},81628:function(O,S,e){e.d(S,{c:function(){return t}});var v=new Date,x=new Date;function t(b,g,c,s){function n(i){return b(i=arguments.length===0?new Date:new Date(+i)),i}return n.floor=function(i){return b(i=new Date(+i)),i},n.ceil=function(i){return b(i=new Date(i-1)),g(i,1),b(i),i},n.round=function(i){var a=n(i),r=n.ceil(i);return i-a<r-i?a:r},n.offset=function(i,a){return g(i=new Date(+i),a==null?1:Math.floor(a)),i},n.range=function(i,a,r){var o,l=[];if(i=n.ceil(i),r=r==null?1:Math.floor(r),!(i<a&&r>0))return l;do l.push(o=new Date(+i)),g(i,r),b(i);while(o<i&&i<a);return l},n.filter=function(i){return t(function(a){if(a>=a)for(;b(a),!i(a);)a.setTime(a-1)},function(a,r){if(a>=a)if(r<0)for(;++r<=0;)for(;g(a,-1),!i(a););else for(;--r>=0;)for(;g(a,1),!i(a););})},c&&(n.count=function(i,a){return v.setTime(+i),x.setTime(+a),b(v),b(x),Math.floor(c(v,x))},n.every=function(i){return i=Math.floor(i),isFinite(i)&&i>0?i>1?n.filter(s?function(a){return s(a)%i==0}:function(a){return n.count(0,a)%i==0}):n:null}),n}},58931:function(O,S,e){e.d(S,{o:function(){return b}});var v=e(81628),x=e(69792),t=(0,v.c)(function(g){g.setUTCHours(0,0,0,0)},function(g,c){g.setUTCDate(g.getUTCDate()+c)},function(g,c){return(c-g)/x.SK},function(g){return g.getUTCDate()-1});S.c=t;var b=t.range},8208:function(O,S,e){e.d(S,{Ad:function(){return a},EV:function(){return b},K8:function(){return T},W_:function(){return u},Wq:function(){return r},_6:function(){return s},iG:function(){return f},iO:function(){return o},kl:function(){return l},ob:function(){return h},od:function(){return i},ot:function(){return g},sG:function(){return c},yA:function(){return n}});var v=e(81628),x=e(69792);function t(d){return(0,v.c)(function(y){y.setUTCDate(y.getUTCDate()-(y.getUTCDay()+7-d)%7),y.setUTCHours(0,0,0,0)},function(y,m){y.setUTCDate(y.getUTCDate()+7*m)},function(y,m){return(m-y)/x.KK})}var b=t(0),g=t(1),c=t(2),s=t(3),n=t(4),i=t(5),a=t(6),r=b.range,o=g.range,l=c.range,u=s.range,h=n.range,f=i.range,T=a.range},53528:function(O,S,e){e.d(S,{i:function(){return t}});var v=e(81628),x=(0,v.c)(function(b){b.setUTCMonth(0,1),b.setUTCHours(0,0,0,0)},function(b,g){b.setUTCFullYear(b.getUTCFullYear()+g)},function(b,g){return g.getUTCFullYear()-b.getUTCFullYear()},function(b){return b.getUTCFullYear()});x.every=function(b){return isFinite(b=Math.floor(b))&&b>0?(0,v.c)(function(g){g.setUTCFullYear(Math.floor(g.getUTCFullYear()/b)*b),g.setUTCMonth(0,1),g.setUTCHours(0,0,0,0)},function(g,c){g.setUTCFullYear(g.getUTCFullYear()+c*b)}):null},S.c=x;var t=x.range},46192:function(O,S,e){e.d(S,{Ab:function(){return r},Mf:function(){return c},Oc:function(){return l},QP:function(){return o},Wc:function(){return a},aI:function(){return T},eC:function(){return h},eg:function(){return s},iB:function(){return i},kD:function(){return n},qT:function(){return g},sJ:function(){return f},sn:function(){return u},uU:function(){return b}});var v=e(81628),x=e(69792);function t(d){return(0,v.c)(function(y){y.setDate(y.getDate()-(y.getDay()+7-d)%7),y.setHours(0,0,0,0)},function(y,m){y.setDate(y.getDate()+7*m)},function(y,m){return(m-y-(m.getTimezoneOffset()-y.getTimezoneOffset())*x.iy)/x.KK})}var b=t(0),g=t(1),c=t(2),s=t(3),n=t(4),i=t(5),a=t(6),r=b.range,o=g.range,l=c.range,u=s.range,h=n.range,f=i.range,T=a.range},32171:function(O,S,e){e.d(S,{Q:function(){return t}});var v=e(81628),x=(0,v.c)(function(b){b.setMonth(0,1),b.setHours(0,0,0,0)},function(b,g){b.setFullYear(b.getFullYear()+g)},function(b,g){return g.getFullYear()-b.getFullYear()},function(b){return b.getFullYear()});x.every=function(b){return isFinite(b=Math.floor(b))&&b>0?(0,v.c)(function(g){g.setFullYear(Math.floor(g.getFullYear()/b)*b),g.setMonth(0,1),g.setHours(0,0,0,0)},function(g,c){g.setFullYear(g.getFullYear()+c*b)}):null},S.c=x;var t=x.range},64348:function(O,S,e){var v=e(39640)(),x=e(53664),t=v&&x("%Object.defineProperty%",!0);if(t)try{t({},"a",{value:1})}catch{t=!1}var b=x("%SyntaxError%"),g=x("%TypeError%"),c=e(2304);O.exports=function(s,n,i){if(!s||typeof s!="object"&&typeof s!="function")throw new g("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new g("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new g("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new g("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new g("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new g("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,r=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,l=arguments.length>6&&arguments[6],u=!!c&&c(s,n);if(t)t(s,n,{configurable:o===null&&u?u.configurable:!o,enumerable:a===null&&u?u.enumerable:!a,value:i,writable:r===null&&u?u.writable:!r});else{if(!l&&(a||r||o))throw new b("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");s[n]=i}}},81288:function(O,S,e){var v=e(41820),x=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",t=Object.prototype.toString,b=Array.prototype.concat,g=Object.defineProperty,c=e(39640)(),s=g&&c,n=function(a,r,o,l){if(r in a){if(l===!0){if(a[r]===o)return}else if(typeof(u=l)!="function"||t.call(u)!=="[object Function]"||!l())return}var u;s?g(a,r,{configurable:!0,enumerable:!1,value:o,writable:!0}):a[r]=o},i=function(a,r){var o=arguments.length>2?arguments[2]:{},l=v(r);x&&(l=b.call(l,Object.getOwnPropertySymbols(r)));for(var u=0;u<l.length;u+=1)n(a,l[u],r[l[u]],o[l[u]])};i.supportsDescriptors=!!s,O.exports=i},31264:function(O){O.exports=function(){for(var S=0;S<arguments.length;S++)if(arguments[S]!==void 0)return arguments[S]}},63768:function(O){O.exports=v;var S=(v.canvas=document.createElement("canvas")).getContext("2d"),e=x([32,126]);function v(t,b){Array.isArray(t)&&(t=t.join(", "));var g,c={},s=16,n=.05;b&&(b.length===2&&typeof b[0]=="number"?g=x(b):Array.isArray(b)?g=b:(b.o?g=x(b.o):b.pairs&&(g=b.pairs),b.fontSize&&(s=b.fontSize),b.threshold!=null&&(n=b.threshold))),g||(g=e),S.font=s+"px "+t;for(var i=0;i<g.length;i++){var a=g[i],r=S.measureText(a[0]).width+S.measureText(a[1]).width,o=S.measureText(a).width;if(Math.abs(r-o)>s*n){var l=(o-r)/s;c[a]=1e3*l}}return c}function x(t){for(var b=[],g=t[0];g<=t[1];g++)for(var c=String.fromCharCode(g),s=t[0];s<t[1];s++){var n=c+String.fromCharCode(s);b.push(n)}return b}v.createPairs=x,v.ascii=e},22235:function(O,S,e){var v=e(49972),x=e(48816),t={M:"moveTo",C:"bezierCurveTo"};O.exports=function(b,g){b.beginPath(),x(v(g)).forEach(function(c){var s=c[0],n=c.slice(1);b[t[s]].apply(b,n)}),b.closePath()}},72512:function(O){O.exports=function(S){switch(S){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},10352:function(O){function S(e,v,x){var t=0|e[x];if(t<=0)return[];var b,g=new Array(t);if(x===e.length-1)for(b=0;b<t;++b)g[b]=v;else for(b=0;b<t;++b)g[b]=S(e,v,x+1);return g}O.exports=function(e,v){switch(v===void 0&&(v=0),typeof e){case"number":if(e>0)return function(x,t){var b,g;for(b=new Array(x),g=0;g<x;++g)b[g]=t;return b}(0|e,v);break;case"object":if(typeof e.length=="number")return S(e,v,0)}return[]}},28912:function(O){function S(L,M,C){C=C||2;var R,I,D,F,q,z,V,X=M&&M.length,j=X?M[0]*C:L.length,H=e(L,0,j,C,!0),G=[];if(!H||H.next===H.prev)return G;if(X&&(H=function(re,te,K,J){var $,ae,ue,ce=[];for($=0,ae=te.length;$<ae;$++)(ue=e(re,te[$]*J,$<ae-1?te[$+1]*J:re.length,J,!1))===ue.next&&(ue.steiner=!0),ce.push(r(ue));for(ce.sort(s),$=0;$<ce.length;$++)n(ce[$],K),K=v(K,K.next);return K}(L,M,H,C)),L.length>80*C){R=D=L[0],I=F=L[1];for(var ie=C;ie<j;ie+=C)(q=L[ie])<R&&(R=q),(z=L[ie+1])<I&&(I=z),q>D&&(D=q),z>F&&(F=z);V=(V=Math.max(D-R,F-I))!==0?1/V:0}return x(H,G,C,R,I,V),G}function e(L,M,C,R,I){var D,F;if(I===p(L,M,C,R)>0)for(D=M;D<C;D+=R)F=w(D,L[D],L[D+1],F);else for(D=C-R;D>=M;D-=R)F=w(D,L[D],L[D+1],F);return F&&h(F,F.next)&&(_(F),F=F.next),F}function v(L,M){if(!L)return L;M||(M=L);var C,R=L;do if(C=!1,R.steiner||!h(R,R.next)&&u(R.prev,R,R.next)!==0)R=R.next;else{if(_(R),(R=M=R.prev)===R.next)break;C=!0}while(C||R!==M);return M}function x(L,M,C,R,I,D,F){if(L){!F&&D&&function(X,j,H,G){var ie=X;do ie.z===null&&(ie.z=a(ie.x,ie.y,j,H,G)),ie.prevZ=ie.prev,ie.nextZ=ie.next,ie=ie.next;while(ie!==X);ie.prevZ.nextZ=null,ie.prevZ=null,function(re){var te,K,J,$,ae,ue,ce,de,pe=1;do{for(K=re,re=null,ae=null,ue=0;K;){for(ue++,J=K,ce=0,te=0;te<pe&&(ce++,J=J.nextZ);te++);for(de=pe;ce>0||de>0&&J;)ce!==0&&(de===0||!J||K.z<=J.z)?($=K,K=K.nextZ,ce--):($=J,J=J.nextZ,de--),ae?ae.nextZ=$:re=$,$.prevZ=ae,ae=$;K=J}ae.nextZ=null,pe*=2}while(ue>1)}(ie)}(L,R,I,D);for(var q,z,V=L;L.prev!==L.next;)if(q=L.prev,z=L.next,D?b(L,R,I,D):t(L))M.push(q.i/C),M.push(L.i/C),M.push(z.i/C),_(L),L=z.next,V=z.next;else if((L=z)===V){F?F===1?x(L=g(v(L),M,C),M,C,R,I,D,2):F===2&&c(L,M,C,R,I,D):x(v(L),M,C,R,I,D,1);break}}}function t(L){var M=L.prev,C=L,R=L.next;if(u(M,C,R)>=0)return!1;for(var I=L.next.next;I!==L.prev;){if(o(M.x,M.y,C.x,C.y,R.x,R.y,I.x,I.y)&&u(I.prev,I,I.next)>=0)return!1;I=I.next}return!0}function b(L,M,C,R){var I=L.prev,D=L,F=L.next;if(u(I,D,F)>=0)return!1;for(var q=I.x<D.x?I.x<F.x?I.x:F.x:D.x<F.x?D.x:F.x,z=I.y<D.y?I.y<F.y?I.y:F.y:D.y<F.y?D.y:F.y,V=I.x>D.x?I.x>F.x?I.x:F.x:D.x>F.x?D.x:F.x,X=I.y>D.y?I.y>F.y?I.y:F.y:D.y>F.y?D.y:F.y,j=a(q,z,M,C,R),H=a(V,X,M,C,R),G=L.prevZ,ie=L.nextZ;G&&G.z>=j&&ie&&ie.z<=H;){if(G!==L.prev&&G!==L.next&&o(I.x,I.y,D.x,D.y,F.x,F.y,G.x,G.y)&&u(G.prev,G,G.next)>=0||(G=G.prevZ,ie!==L.prev&&ie!==L.next&&o(I.x,I.y,D.x,D.y,F.x,F.y,ie.x,ie.y)&&u(ie.prev,ie,ie.next)>=0))return!1;ie=ie.nextZ}for(;G&&G.z>=j;){if(G!==L.prev&&G!==L.next&&o(I.x,I.y,D.x,D.y,F.x,F.y,G.x,G.y)&&u(G.prev,G,G.next)>=0)return!1;G=G.prevZ}for(;ie&&ie.z<=H;){if(ie!==L.prev&&ie!==L.next&&o(I.x,I.y,D.x,D.y,F.x,F.y,ie.x,ie.y)&&u(ie.prev,ie,ie.next)>=0)return!1;ie=ie.nextZ}return!0}function g(L,M,C){var R=L;do{var I=R.prev,D=R.next.next;!h(I,D)&&f(I,R,R.next,D)&&y(I,D)&&y(D,I)&&(M.push(I.i/C),M.push(R.i/C),M.push(D.i/C),_(R),_(R.next),R=L=D),R=R.next}while(R!==L);return v(R)}function c(L,M,C,R,I,D){var F=L;do{for(var q=F.next.next;q!==F.prev;){if(F.i!==q.i&&l(F,q)){var z=m(F,q);return F=v(F,F.next),z=v(z,z.next),x(F,M,C,R,I,D),void x(z,M,C,R,I,D)}q=q.next}F=F.next}while(F!==L)}function s(L,M){return L.x-M.x}function n(L,M){if(M=function(R,I){var D,F=I,q=R.x,z=R.y,V=-1/0;do{if(z<=F.y&&z>=F.next.y&&F.next.y!==F.y){var X=F.x+(z-F.y)*(F.next.x-F.x)/(F.next.y-F.y);if(X<=q&&X>V){if(V=X,X===q){if(z===F.y)return F;if(z===F.next.y)return F.next}D=F.x<F.next.x?F:F.next}}F=F.next}while(F!==I);if(!D)return null;if(q===V)return D;var j,H=D,G=D.x,ie=D.y,re=1/0;F=D;do q>=F.x&&F.x>=G&&q!==F.x&&o(z<ie?q:V,z,G,ie,z<ie?V:q,z,F.x,F.y)&&(j=Math.abs(z-F.y)/(q-F.x),y(F,R)&&(j<re||j===re&&(F.x>D.x||F.x===D.x&&i(D,F)))&&(D=F,re=j)),F=F.next;while(F!==H);return D}(L,M),M){var C=m(M,L);v(M,M.next),v(C,C.next)}}function i(L,M){return u(L.prev,L,M.prev)<0&&u(M.next,L,L.next)<0}function a(L,M,C,R,I){return(L=1431655765&((L=858993459&((L=252645135&((L=16711935&((L=32767*(L-C)*I)|L<<8))|L<<4))|L<<2))|L<<1))|(M=1431655765&((M=858993459&((M=252645135&((M=16711935&((M=32767*(M-R)*I)|M<<8))|M<<4))|M<<2))|M<<1))<<1}function r(L){var M=L,C=L;do(M.x<C.x||M.x===C.x&&M.y<C.y)&&(C=M),M=M.next;while(M!==L);return C}function o(L,M,C,R,I,D,F,q){return(I-F)*(M-q)-(L-F)*(D-q)>=0&&(L-F)*(R-q)-(C-F)*(M-q)>=0&&(C-F)*(D-q)-(I-F)*(R-q)>=0}function l(L,M){return L.next.i!==M.i&&L.prev.i!==M.i&&!function(C,R){var I=C;do{if(I.i!==C.i&&I.next.i!==C.i&&I.i!==R.i&&I.next.i!==R.i&&f(I,I.next,C,R))return!0;I=I.next}while(I!==C);return!1}(L,M)&&(y(L,M)&&y(M,L)&&function(C,R){var I=C,D=!1,F=(C.x+R.x)/2,q=(C.y+R.y)/2;do I.y>q!=I.next.y>q&&I.next.y!==I.y&&F<(I.next.x-I.x)*(q-I.y)/(I.next.y-I.y)+I.x&&(D=!D),I=I.next;while(I!==C);return D}(L,M)&&(u(L.prev,L,M.prev)||u(L,M.prev,M))||h(L,M)&&u(L.prev,L,L.next)>0&&u(M.prev,M,M.next)>0)}function u(L,M,C){return(M.y-L.y)*(C.x-M.x)-(M.x-L.x)*(C.y-M.y)}function h(L,M){return L.x===M.x&&L.y===M.y}function f(L,M,C,R){var I=d(u(L,M,C)),D=d(u(L,M,R)),F=d(u(C,R,L)),q=d(u(C,R,M));return I!==D&&F!==q||!(I!==0||!T(L,C,M))||!(D!==0||!T(L,R,M))||!(F!==0||!T(C,L,R))||!(q!==0||!T(C,M,R))}function T(L,M,C){return M.x<=Math.max(L.x,C.x)&&M.x>=Math.min(L.x,C.x)&&M.y<=Math.max(L.y,C.y)&&M.y>=Math.min(L.y,C.y)}function d(L){return L>0?1:L<0?-1:0}function y(L,M){return u(L.prev,L,L.next)<0?u(L,M,L.next)>=0&&u(L,L.prev,M)>=0:u(L,M,L.prev)<0||u(L,L.next,M)<0}function m(L,M){var C=new A(L.i,L.x,L.y),R=new A(M.i,M.x,M.y),I=L.next,D=M.prev;return L.next=M,M.prev=L,C.next=I,I.prev=C,R.next=C,C.prev=R,D.next=R,R.prev=D,R}function w(L,M,C,R){var I=new A(L,M,C);return R?(I.next=R.next,I.prev=R,R.next.prev=I,R.next=I):(I.prev=I,I.next=I),I}function _(L){L.next.prev=L.prev,L.prev.next=L.next,L.prevZ&&(L.prevZ.nextZ=L.nextZ),L.nextZ&&(L.nextZ.prevZ=L.prevZ)}function A(L,M,C){this.i=L,this.x=M,this.y=C,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function p(L,M,C,R){for(var I=0,D=M,F=C-R;D<C;D+=R)I+=(L[F]-L[D])*(L[D+1]+L[F+1]),F=D;return I}O.exports=S,O.exports.default=S,S.deviation=function(L,M,C,R){var I=M&&M.length,D=I?M[0]*C:L.length,F=Math.abs(p(L,0,D,C));if(I)for(var q=0,z=M.length;q<z;q++){var V=M[q]*C,X=q<z-1?M[q+1]*C:L.length;F-=Math.abs(p(L,V,X,C))}var j=0;for(q=0;q<R.length;q+=3){var H=R[q]*C,G=R[q+1]*C,ie=R[q+2]*C;j+=Math.abs((L[H]-L[ie])*(L[G+1]-L[H+1])-(L[H]-L[G])*(L[ie+1]-L[H+1]))}return F===0&&j===0?0:Math.abs((j-F)/F)},S.flatten=function(L){for(var M=L[0][0].length,C={vertices:[],holes:[],dimensions:M},R=0,I=0;I<L.length;I++){for(var D=0;D<L[I].length;D++)for(var F=0;F<M;F++)C.vertices.push(L[I][D][F]);I>0&&(R+=L[I-1].length,C.holes.push(R))}return C}},6688:function(O,S,e){var v=e(78484);O.exports=function(x,t){var b,g=[],c=[],s=[],n={},i=[];function a(y){s[y]=!1,n.hasOwnProperty(y)&&Object.keys(n[y]).forEach(function(m){delete n[y][m],s[m]&&a(m)})}function r(y){var m,w,_=!1;for(c.push(y),s[y]=!0,m=0;m<i[y].length;m++)(w=i[y][m])===b?(o(b,c),_=!0):s[w]||(_=r(w));if(_)a(y);else for(m=0;m<i[y].length;m++){w=i[y][m];var A=n[w];A||(A={},n[w]=A),A[w]=!0}return c.pop(),_}function o(y,m){var w=[].concat(m).concat(y);t?t(r):g.push(w)}function l(y){(function(C){for(var R=0;R<x.length;R++)R<C&&(x[R]=[]),x[R]=x[R].filter(function(I){return I>=C})})(y);for(var m,w=v(x).components.filter(function(C){return C.length>1}),_=1/0,A=0;A<w.length;A++)for(var p=0;p<w[A].length;p++)w[A][p]<_&&(_=w[A][p],m=A);var L=w[m];if(!L)return!1;var M=x.map(function(C,R){return L.indexOf(R)===-1?[]:C.filter(function(I){return L.indexOf(I)!==-1})});return{leastVertex:_,adjList:M}}b=0;for(var u=x.length;b<u;){var h=l(b);if(b=h.leastVertex,i=h.adjList){for(var f=0;f<i.length;f++)for(var T=0;T<i[f].length;T++){var d=i[f][T];s[+d]=!1,n[d]={}}r(b),b+=1}else b=u}return t?void 0:g}},41476:function(O,S,e){var v=e(9252);O.exports=function(){return v(this).length=0,this}},74772:function(O,S,e){O.exports=e(44716)()?Array.from:e(80816)},44716:function(O){O.exports=function(){var S,e,v=Array.from;return typeof v=="function"&&(e=v(S=["raz","dwa"]),!!(e&&e!==S&&e[1]==="dwa"))}},80816:function(O,S,e){var v=e(92664).iterator,x=e(60948),t=e(17024),b=e(81304),g=e(34044),c=e(9252),s=e(42584),n=e(29768),i=Array.isArray,a=Function.prototype.call,r={configurable:!0,enumerable:!0,writable:!0,value:null},o=Object.defineProperty;O.exports=function(l){var u,h,f,T,d,y,m,w,_,A,p=arguments[1],L=arguments[2];if(l=Object(c(l)),s(p)&&g(p),this&&this!==Array&&t(this))u=this;else{if(!p){if(x(l))return(d=l.length)!==1?Array.apply(null,l):((T=new Array(1))[0]=l[0],T);if(i(l)){for(T=new Array(d=l.length),h=0;h<d;++h)T[h]=l[h];return T}}T=[]}if(!i(l)){if((_=l[v])!==void 0){for(m=g(_).call(l),u&&(T=new u),w=m.next(),h=0;!w.done;)A=p?a.call(p,L,w.value,h):w.value,u?(r.value=A,o(T,h,r)):T[h]=A,w=m.next(),++h;d=h}else if(n(l)){for(d=l.length,u&&(T=new u),h=0,f=0;h<d;++h)A=l[h],h+1<d&&(y=A.charCodeAt(0))>=55296&&y<=56319&&(A+=l[++h]),A=p?a.call(p,L,A,f):A,u?(r.value=A,o(T,f,r)):T[f]=A,++f;d=f}}if(d===void 0)for(d=b(l.length),u&&(T=new u(d)),h=0;h<d;++h)A=p?a.call(p,L,l[h],h):l[h],u?(r.value=A,o(T,h,r)):T[h]=A;return u&&(r.value=null,T.length=d),T}},60948:function(O){var S=Object.prototype.toString,e=S.call(function(){return arguments}());O.exports=function(v){return S.call(v)===e}},17024:function(O){var S=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);O.exports=function(v){return typeof v=="function"&&e(S.call(v))}},33208:function(O){O.exports=function(){}},85608:function(O,S,e){O.exports=e(37328)()?Math.sign:e(92928)},37328:function(O){O.exports=function(){var S=Math.sign;return typeof S=="function"&&S(10)===1&&S(-20)===-1}},92928:function(O){O.exports=function(S){return S=Number(S),isNaN(S)||S===0?S:S>0?1:-1}},96936:function(O,S,e){var v=e(85608),x=Math.abs,t=Math.floor;O.exports=function(b){return isNaN(b)?0:(b=Number(b))!==0&&isFinite(b)?v(b)*t(x(b)):b}},81304:function(O,S,e){var v=e(96936),x=Math.max;O.exports=function(t){return x(0,v(t))}},14428:function(O,S,e){var v=e(34044),x=e(9252),t=Function.prototype.bind,b=Function.prototype.call,g=Object.keys,c=Object.prototype.propertyIsEnumerable;O.exports=function(s,n){return function(i,a){var r,o=arguments[2],l=arguments[3];return i=Object(x(i)),v(a),r=g(i),l&&r.sort(typeof l=="function"?t.call(l,i):void 0),typeof s!="function"&&(s=r[s]),b.call(s,r,function(u,h){return c.call(i,u)?b.call(a,o,i[u],u,i,h):n})}}},38452:function(O,S,e){O.exports=e(96276)()?Object.assign:e(81892)},96276:function(O){O.exports=function(){var S,e=Object.assign;return typeof e=="function"&&(e(S={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),S.foo+S.bar+S.trzy==="razdwatrzy")}},81892:function(O,S,e){var v=e(54768),x=e(9252),t=Math.max;O.exports=function(b,g){var c,s,n,i=t(arguments.length,2);for(b=Object(x(b)),n=function(a){try{b[a]=g[a]}catch(r){c||(c=r)}},s=1;s<i;++s)v(g=arguments[s]).forEach(n);if(c!==void 0)throw c;return b}},95920:function(O,S,e){var v=e(74772),x=e(38452),t=e(9252);O.exports=function(b){var g=Object(t(b)),c=arguments[1],s=Object(arguments[2]);if(g!==b&&!c)return g;var n={};return c?v(c,function(i){(s.ensure||i in b)&&(n[i]=b[i])}):x(n,b),n}},14452:function(O,S,e){var v,x,t,b,g=Object.create;e(63092)()||(v=e(8672)),O.exports=v?v.level!==1?g:(x={},t={},b={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(c){t[c]=c!=="__proto__"?b:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(x,t),Object.defineProperty(v,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:x}),function(c,s){return g(c===null?x:c,s)}):g},42748:function(O,S,e){O.exports=e(14428)("forEach")},69127:function(O,S,e){var v=e(42584),x={function:!0,object:!0};O.exports=function(t){return v(t)&&x[typeof t]||!1}},42584:function(O,S,e){var v=e(33208)();O.exports=function(x){return x!==v&&x!==null}},54768:function(O,S,e){O.exports=e(87888)()?Object.keys:e(89592)},87888:function(O){O.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},89592:function(O,S,e){var v=e(42584),x=Object.keys;O.exports=function(t){return x(v(t)?Object(t):t)}},84323:function(O,S,e){var v=e(34044),x=e(42748),t=Function.prototype.call;O.exports=function(b,g){var c={},s=arguments[2];return v(g),x(b,function(n,i,a,r){c[i]=t.call(g,s,n,i,a,r)}),c}},50868:function(O,S,e){var v=e(42584),x=Array.prototype.forEach,t=Object.create;O.exports=function(b){var g=t(null);return x.call(arguments,function(c){v(c)&&function(s,n){var i;for(i in s)n[i]=s[i]}(Object(c),g)}),g}},69932:function(O,S,e){O.exports=e(63092)()?Object.setPrototypeOf:e(8672)},63092:function(O){var S=Object.create,e=Object.getPrototypeOf,v={};O.exports=function(){var x=Object.setPrototypeOf;return typeof x=="function"&&e(x((arguments[0]||S)(null),v))===v}},8672:function(O,S,e){var v,x,t,b,g=e(69127),c=e(9252),s=Object.prototype.isPrototypeOf,n=Object.defineProperty,i={configurable:!0,enumerable:!1,writable:!0,value:void 0};v=function(a,r){if(c(a),r===null||g(r))return a;throw new TypeError("Prototype must be null or an object")},O.exports=(x=function(){var a,r=Object.create(null),o={},l=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(l){try{(a=l.set).call(r,o)}catch{}if(Object.getPrototypeOf(r)===o)return{set:a,level:2}}return r.__proto__=o,Object.getPrototypeOf(r)===o?{level:2}:((r={}).__proto__=o,Object.getPrototypeOf(r)===o&&{level:1})}(),x?(x.level===2?x.set?(b=x.set,t=function(a,r){return b.call(v(a,r),r),a}):t=function(a,r){return v(a,r).__proto__=r,a}:t=function a(r,o){var l;return v(r,o),(l=s.call(a.nullPolyfill,r))&&delete a.nullPolyfill.__proto__,o===null&&(o=a.nullPolyfill),r.__proto__=o,l&&n(a.nullPolyfill,"__proto__",i),r},Object.defineProperty(t,"level",{configurable:!1,enumerable:!1,writable:!1,value:x.level})):null),e(14452)},34044:function(O){O.exports=function(S){if(typeof S!="function")throw new TypeError(S+" is not a function");return S}},92584:function(O,S,e){var v=e(69127);O.exports=function(x){if(!v(x))throw new TypeError(x+" is not an Object");return x}},9252:function(O,S,e){var v=e(42584);O.exports=function(x){if(!v(x))throw new TypeError("Cannot use null or undefined");return x}},71056:function(O,S,e){O.exports=e(42976)()?String.prototype.contains:e(93040)},42976:function(O){var S="razdwatrzy";O.exports=function(){return typeof S.contains=="function"&&S.contains("dwa")===!0&&S.contains("foo")===!1}},93040:function(O){var S=String.prototype.indexOf;O.exports=function(e){return S.call(this,e,arguments[1])>-1}},29768:function(O){var S=Object.prototype.toString,e=S.call("");O.exports=function(v){return typeof v=="string"||v&&typeof v=="object"&&(v instanceof String||S.call(v)===e)||!1}},82252:function(O){var S=Object.create(null),e=Math.random;O.exports=function(){var v;do v=e().toString(36).slice(2);while(S[v]);return v}},52104:function(O,S,e){var v,x=e(69932),t=e(71056),b=e(21092),g=e(92664),c=e(85512),s=Object.defineProperty;v=O.exports=function(n,i){if(!(this instanceof v))throw new TypeError("Constructor requires 'new'");c.call(this,n),i=i?t.call(i,"key+value")?"key+value":t.call(i,"key")?"key":"value":"value",s(this,"__kind__",b("",i))},x&&x(v,c),delete v.prototype.constructor,v.prototype=Object.create(c.prototype,{_resolve:b(function(n){return this.__kind__==="value"?this.__list__[n]:this.__kind__==="key+value"?[n,this.__list__[n]]:n})}),s(v.prototype,g.toStringTag,b("c","Array Iterator"))},76024:function(O,S,e){var v=e(60948),x=e(34044),t=e(29768),b=e(76252),g=Array.isArray,c=Function.prototype.call,s=Array.prototype.some;O.exports=function(n,i){var a,r,o,l,u,h,f,T,d=arguments[2];if(g(n)||v(n)?a="array":t(n)?a="string":n=b(n),x(i),o=function(){l=!0},a!=="array")if(a!=="string")for(r=n.next();!r.done;){if(c.call(i,d,r.value,o),l)return;r=n.next()}else for(h=n.length,u=0;u<h&&(f=n[u],u+1<h&&(T=f.charCodeAt(0))>=55296&&T<=56319&&(f+=n[++u]),c.call(i,d,f,o),!l);++u);else s.call(n,function(y){return c.call(i,d,y,o),l})}},76252:function(O,S,e){var v=e(60948),x=e(29768),t=e(52104),b=e(80940),g=e(52891),c=e(92664).iterator;O.exports=function(s){return typeof g(s)[c]=="function"?s[c]():v(s)?new t(s):x(s)?new b(s):new t(s)}},85512:function(O,S,e){var v,x=e(41476),t=e(38452),b=e(34044),g=e(9252),c=e(21092),s=e(27940),n=e(92664),i=Object.defineProperty,a=Object.defineProperties;O.exports=v=function(r,o){if(!(this instanceof v))throw new TypeError("Constructor requires 'new'");a(this,{__list__:c("w",g(r)),__context__:c("w",o),__nextIndex__:c("w",0)}),o&&(b(o.on),o.on("_add",this._onAdd),o.on("_delete",this._onDelete),o.on("_clear",this._onClear))},delete v.prototype.constructor,a(v.prototype,t({_next:c(function(){var r;if(this.__list__)return this.__redo__&&(r=this.__redo__.shift())!==void 0?r:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:c(function(){return this._createResult(this._next())}),_createResult:c(function(r){return r===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(r)}}),_resolve:c(function(r){return this.__list__[r]}),_unBind:c(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:c(function(){return"[object "+(this[n.toStringTag]||"Object")+"]"})},s({_onAdd:c(function(r){r>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(o,l){o>=r&&(this.__redo__[l]=++o)},this),this.__redo__.push(r)):i(this,"__redo__",c("c",[r])))}),_onDelete:c(function(r){var o;r>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&((o=this.__redo__.indexOf(r))!==-1&&this.__redo__.splice(o,1),this.__redo__.forEach(function(l,u){l>r&&(this.__redo__[u]=--l)},this)))}),_onClear:c(function(){this.__redo__&&x.call(this.__redo__),this.__nextIndex__=0})}))),i(v.prototype,n.iterator,c(function(){return this}))},76368:function(O,S,e){var v=e(60948),x=e(42584),t=e(29768),b=e(92664).iterator,g=Array.isArray;O.exports=function(c){return!(!x(c)||!g(c)&&!t(c)&&!v(c)&&typeof c[b]!="function")}},80940:function(O,S,e){var v,x=e(69932),t=e(21092),b=e(92664),g=e(85512),c=Object.defineProperty;v=O.exports=function(s){if(!(this instanceof v))throw new TypeError("Constructor requires 'new'");s=String(s),g.call(this,s),c(this,"__length__",t("",s.length))},x&&x(v,g),delete v.prototype.constructor,v.prototype=Object.create(g.prototype,{_next:t(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:t(function(s){var n,i=this.__list__[s];return this.__nextIndex__===this.__length__?i:(n=i.charCodeAt(0))>=55296&&n<=56319?i+this.__list__[this.__nextIndex__++]:i})}),c(v.prototype,b.toStringTag,t("c","String Iterator"))},52891:function(O,S,e){var v=e(76368);O.exports=function(x){if(!v(x))throw new TypeError(x+" is not iterable");return x}},60964:function(O){function S(e,v){if(e==null)throw new TypeError("Cannot convert first argument to object");for(var x=Object(e),t=1;t<arguments.length;t++){var b=arguments[t];if(b!=null)for(var g=Object.keys(Object(b)),c=0,s=g.length;c<s;c++){var n=g[c],i=Object.getOwnPropertyDescriptor(b,n);i!==void 0&&i.enumerable&&(x[n]=b[n])}}return x}O.exports={assign:S,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:S})}}},92664:function(O,S,e){O.exports=e(43580)()?e(12296).Symbol:e(18376)},43580:function(O,S,e){var v=e(12296),x={object:!0,symbol:!0};O.exports=function(){var t,b=v.Symbol;if(typeof b!="function")return!1;t=b("test symbol");try{String(t)}catch{return!1}return!!x[typeof b.iterator]&&!!x[typeof b.toPrimitive]&&!!x[typeof b.toStringTag]}},53908:function(O){O.exports=function(S){return!!S&&(typeof S=="symbol"||!!S.constructor&&S.constructor.name==="Symbol"&&S[S.constructor.toStringTag]==="Symbol")}},96863:function(O,S,e){var v=e(21092),x=Object.create,t=Object.defineProperty,b=Object.prototype,g=x(null);O.exports=function(c){for(var s,n,i=0;g[c+(i||"")];)++i;return g[c+=i||""]=!0,t(b,s="@@"+c,v.gs(null,function(a){n||(n=!0,t(this,s,v(a)),n=!1)})),s}},53540:function(O,S,e){var v=e(21092),x=e(12296).Symbol;O.exports=function(t){return Object.defineProperties(t,{hasInstance:v("",x&&x.hasInstance||t("hasInstance")),isConcatSpreadable:v("",x&&x.isConcatSpreadable||t("isConcatSpreadable")),iterator:v("",x&&x.iterator||t("iterator")),match:v("",x&&x.match||t("match")),replace:v("",x&&x.replace||t("replace")),search:v("",x&&x.search||t("search")),species:v("",x&&x.species||t("species")),split:v("",x&&x.split||t("split")),toPrimitive:v("",x&&x.toPrimitive||t("toPrimitive")),toStringTag:v("",x&&x.toStringTag||t("toStringTag")),unscopables:v("",x&&x.unscopables||t("unscopables"))})}},73852:function(O,S,e){var v=e(21092),x=e(63948),t=Object.create(null);O.exports=function(b){return Object.defineProperties(b,{for:v(function(g){return t[g]?t[g]:t[g]=b(String(g))}),keyFor:v(function(g){var c;for(c in x(g),t)if(t[c]===g)return c})})}},18376:function(O,S,e){var v,x,t,b=e(21092),g=e(63948),c=e(12296).Symbol,s=e(96863),n=e(53540),i=e(73852),a=Object.create,r=Object.defineProperties,o=Object.defineProperty;if(typeof c=="function")try{String(c()),t=!0}catch{}else c=null;x=function(l){if(this instanceof x)throw new TypeError("Symbol is not a constructor");return v(l)},O.exports=v=function l(u){var h;if(this instanceof l)throw new TypeError("Symbol is not a constructor");return t?c(u):(h=a(x.prototype),u=u===void 0?"":String(u),r(h,{__description__:b("",u),__name__:b("",s(u))}))},n(v),i(v),r(x.prototype,{constructor:b(v),toString:b("",function(){return this.__name__})}),r(v.prototype,{toString:b(function(){return"Symbol ("+g(this).__description__+")"}),valueOf:b(function(){return g(this)})}),o(v.prototype,v.toPrimitive,b("",function(){var l=g(this);return typeof l=="symbol"?l:l.toString()})),o(v.prototype,v.toStringTag,b("c","Symbol")),o(x.prototype,v.toStringTag,b("c",v.prototype[v.toStringTag])),o(x.prototype,v.toPrimitive,b("c",v.prototype[v.toPrimitive]))},63948:function(O,S,e){var v=e(53908);O.exports=function(x){if(!v(x))throw new TypeError(x+" is not a symbol");return x}},60463:function(O,S,e){O.exports=e(96979)()?WeakMap:e(64864)},96979:function(O){O.exports=function(){var S,e;if(typeof WeakMap!="function")return!1;try{S=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return String(S)==="[object WeakMap]"&&typeof S.set=="function"&&S.set({},1)===S&&typeof S.delete=="function"&&typeof S.has=="function"&&S.get(e)==="one"}},69876:function(O){O.exports=typeof WeakMap=="function"&&Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"},64864:function(O,S,e){var v,x=e(42584),t=e(69932),b=e(92584),g=e(9252),c=e(82252),s=e(21092),n=e(76252),i=e(76024),a=e(92664).toStringTag,r=e(69876),o=Array.isArray,l=Object.defineProperty,u=Object.prototype.hasOwnProperty,h=Object.getPrototypeOf;O.exports=v=function(){var f,T=arguments[0];if(!(this instanceof v))throw new TypeError("Constructor requires 'new'");return f=r&&t&&WeakMap!==v?t(new WeakMap,h(this)):this,x(T)&&(o(T)||(T=n(T))),l(f,"__weakMapData__",s("c","$weakMap$"+c())),T&&i(T,function(d){g(d),f.set(d[0],d[1])}),f},r&&(t&&t(v,WeakMap),v.prototype=Object.create(WeakMap.prototype,{constructor:s(v)})),Object.defineProperties(v.prototype,{delete:s(function(f){return!!u.call(b(f),this.__weakMapData__)&&(delete f[this.__weakMapData__],!0)}),get:s(function(f){if(u.call(b(f),this.__weakMapData__))return f[this.__weakMapData__]}),has:s(function(f){return u.call(b(f),this.__weakMapData__)}),set:s(function(f,T){return l(b(f),this.__weakMapData__,s("c",T)),this}),toString:s(function(){return"[object WeakMap]"})}),l(v.prototype,a,s("c","WeakMap"))},61252:function(O){var S,e=typeof Reflect=="object"?Reflect:null,v=e&&typeof e.apply=="function"?e.apply:function(u,h,f){return Function.prototype.apply.call(u,h,f)};S=e&&typeof e.ownKeys=="function"?e.ownKeys:Object.getOwnPropertySymbols?function(u){return Object.getOwnPropertyNames(u).concat(Object.getOwnPropertySymbols(u))}:function(u){return Object.getOwnPropertyNames(u)};var x=Number.isNaN||function(u){return u!=u};function t(){t.init.call(this)}O.exports=t,O.exports.once=function(u,h){return new Promise(function(f,T){function d(m){u.removeListener(h,y),T(m)}function y(){typeof u.removeListener=="function"&&u.removeListener("error",d),f([].slice.call(arguments))}l(u,h,y,{once:!0}),h!=="error"&&function(m,w,_){typeof m.on=="function"&&l(m,"error",w,{once:!0})}(u,d)})},t.EventEmitter=t,t.prototype._events=void 0,t.prototype._eventsCount=0,t.prototype._maxListeners=void 0;var b=10;function g(u){if(typeof u!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof u)}function c(u){return u._maxListeners===void 0?t.defaultMaxListeners:u._maxListeners}function s(u,h,f,T){var d,y,m,w;if(g(f),(y=u._events)===void 0?(y=u._events=Object.create(null),u._eventsCount=0):(y.newListener!==void 0&&(u.emit("newListener",h,f.listener?f.listener:f),y=u._events),m=y[h]),m===void 0)m=y[h]=f,++u._eventsCount;else if(typeof m=="function"?m=y[h]=T?[f,m]:[m,f]:T?m.unshift(f):m.push(f),(d=c(u))>0&&m.length>d&&!m.warned){m.warned=!0;var _=new Error("Possible EventEmitter memory leak detected. "+m.length+" "+String(h)+" listeners added. Use emitter.setMaxListeners() to increase limit");_.name="MaxListenersExceededWarning",_.emitter=u,_.type=h,_.count=m.length,w=_,console&&console.warn&&console.warn(w)}return u}function n(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function i(u,h,f){var T={fired:!1,wrapFn:void 0,target:u,type:h,listener:f},d=n.bind(T);return d.listener=f,T.wrapFn=d,d}function a(u,h,f){var T=u._events;if(T===void 0)return[];var d=T[h];return d===void 0?[]:typeof d=="function"?f?[d.listener||d]:[d]:f?function(y){for(var m=new Array(y.length),w=0;w<m.length;++w)m[w]=y[w].listener||y[w];return m}(d):o(d,d.length)}function r(u){var h=this._events;if(h!==void 0){var f=h[u];if(typeof f=="function")return 1;if(f!==void 0)return f.length}return 0}function o(u,h){for(var f=new Array(h),T=0;T<h;++T)f[T]=u[T];return f}function l(u,h,f,T){if(typeof u.on=="function")T.once?u.once(h,f):u.on(h,f);else{if(typeof u.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof u);u.addEventListener(h,function d(y){T.once&&u.removeEventListener(h,d),f(y)})}}Object.defineProperty(t,"defaultMaxListeners",{enumerable:!0,get:function(){return b},set:function(u){if(typeof u!="number"||u<0||x(u))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+u+".");b=u}}),t.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},t.prototype.setMaxListeners=function(u){if(typeof u!="number"||u<0||x(u))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+u+".");return this._maxListeners=u,this},t.prototype.getMaxListeners=function(){return c(this)},t.prototype.emit=function(u){for(var h=[],f=1;f<arguments.length;f++)h.push(arguments[f]);var T=u==="error",d=this._events;if(d!==void 0)T=T&&d.error===void 0;else if(!T)return!1;if(T){var y;if(h.length>0&&(y=h[0]),y instanceof Error)throw y;var m=new Error("Unhandled error."+(y?" ("+y.message+")":""));throw m.context=y,m}var w=d[u];if(w===void 0)return!1;if(typeof w=="function")v(w,this,h);else{var _=w.length,A=o(w,_);for(f=0;f<_;++f)v(A[f],this,h)}return!0},t.prototype.addListener=function(u,h){return s(this,u,h,!1)},t.prototype.on=t.prototype.addListener,t.prototype.prependListener=function(u,h){return s(this,u,h,!0)},t.prototype.once=function(u,h){return g(h),this.on(u,i(this,u,h)),this},t.prototype.prependOnceListener=function(u,h){return g(h),this.prependListener(u,i(this,u,h)),this},t.prototype.removeListener=function(u,h){var f,T,d,y,m;if(g(h),(T=this._events)===void 0)return this;if((f=T[u])===void 0)return this;if(f===h||f.listener===h)--this._eventsCount==0?this._events=Object.create(null):(delete T[u],T.removeListener&&this.emit("removeListener",u,f.listener||h));else if(typeof f!="function"){for(d=-1,y=f.length-1;y>=0;y--)if(f[y]===h||f[y].listener===h){m=f[y].listener,d=y;break}if(d<0)return this;d===0?f.shift():function(w,_){for(;_+1<w.length;_++)w[_]=w[_+1];w.pop()}(f,d),f.length===1&&(T[u]=f[0]),T.removeListener!==void 0&&this.emit("removeListener",u,m||h)}return this},t.prototype.off=t.prototype.removeListener,t.prototype.removeAllListeners=function(u){var h,f,T;if((f=this._events)===void 0)return this;if(f.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):f[u]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete f[u]),this;if(arguments.length===0){var d,y=Object.keys(f);for(T=0;T<y.length;++T)(d=y[T])!=="removeListener"&&this.removeAllListeners(d);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(h=f[u])=="function")this.removeListener(u,h);else if(h!==void 0)for(T=h.length-1;T>=0;T--)this.removeListener(u,h[T]);return this},t.prototype.listeners=function(u){return a(this,u,!0)},t.prototype.rawListeners=function(u){return a(this,u,!1)},t.listenerCount=function(u,h){return typeof u.listenerCount=="function"?u.listenerCount(h):r.call(u,h)},t.prototype.listenerCount=r,t.prototype.eventNames=function(){return this._eventsCount>0?S(this._events):[]}},39072:function(O){var S=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};O.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return S()}try{return __global__||S()}finally{delete Object.prototype.__global__}}()},12296:function(O,S,e){O.exports=e(45072)()?globalThis:e(39072)},45072:function(O){O.exports=function(){return typeof globalThis=="object"&&!!globalThis&&globalThis.Array===Array}},38248:function(O,S,e){var v=e(94576);O.exports=function(x){var t=typeof x;if(t==="string"){var b=x;if((x=+x)==0&&v(b))return!1}else if(t!=="number")return!1;return x-x<1}},47520:function(O,S,e){var v=e(72512);O.exports=function(x,t,b){if(!x)throw new TypeError("must specify data as first parameter");if(b=0|+(b||0),Array.isArray(x)&&x[0]&&typeof x[0][0]=="number"){var g,c,s,n,i=x[0].length,a=x.length*i;t&&typeof t!="string"||(t=new(v(t||"float32"))(a+b));var r=t.length-b;if(a!==r)throw new Error("source length "+a+" ("+i+"x"+x.length+") does not match destination length "+r);for(g=0,s=b;g<x.length;g++)for(c=0;c<i;c++)t[s++]=x[g][c]===null?NaN:x[g][c]}else if(t&&typeof t!="string")t.set(x,b);else{var o=v(t||"float32");if(Array.isArray(x)||t==="array")for(g=0,s=b,n=(t=new o(x.length+b)).length;s<n;s++,g++)t[s]=x[g]===null?NaN:x[g];else b===0?t=new o(x):(t=new o(x.length+b)).set(x,b)}return t}},33888:function(O,S,e){var v=e(49395),x=[32,126];O.exports=function(t){var b=(t=t||{}).shape?t.shape:t.canvas?[t.canvas.width,t.canvas.height]:[512,512],g=t.canvas||document.createElement("canvas"),c=t.font,s=typeof t.step=="number"?[t.step,t.step]:t.step||[32,32],n=t.chars||x;if(c&&typeof c!="string"&&(c=v(c)),Array.isArray(n)){if(n.length===2&&typeof n[0]=="number"&&typeof n[1]=="number"){for(var i=[],a=n[0],r=0;a<=n[1];a++)i[r++]=String.fromCharCode(a);n=i}}else n=String(n).split("");b=b.slice(),g.width=b[0],g.height=b[1];var o=g.getContext("2d");o.fillStyle="#000",o.fillRect(0,0,g.width,g.height),o.font=c,o.textAlign="center",o.textBaseline="middle",o.fillStyle="#fff";var l=s[0]/2,u=s[1]/2;for(a=0;a<n.length;a++)o.fillText(n[a],l,u),(l+=s[0])>b[0]-s[0]/2&&(l=s[0]/2,u+=s[1]);return g}},71920:function(O){function S(t,b){b||(b={}),(typeof t=="string"||Array.isArray(t))&&(b.family=t);var g=Array.isArray(b.family)?b.family.join(", "):b.family;if(!g)throw Error("`family` must be defined");var c=b.size||b.fontSize||b.em||48,s=b.weight||b.fontWeight||"",n=(t=[b.style||b.fontStyle||"",s,c].join(" ")+"px "+g,b.origin||"top");if(S.cache[g]&&c<=S.cache[g].em)return e(S.cache[g],n);var i=b.canvas||S.canvas,a=i.getContext("2d"),r={upper:b.upper!==void 0?b.upper:"H",lower:b.lower!==void 0?b.lower:"x",descent:b.descent!==void 0?b.descent:"p",ascent:b.ascent!==void 0?b.ascent:"h",tittle:b.tittle!==void 0?b.tittle:"i",overshoot:b.overshoot!==void 0?b.overshoot:"O"},o=Math.ceil(1.5*c);i.height=o,i.width=.5*o,a.font=t;var l="H",u={top:0};a.clearRect(0,0,o,o),a.textBaseline="top",a.fillStyle="black",a.fillText(l,0,0);var h=v(a.getImageData(0,0,o,o));a.clearRect(0,0,o,o),a.textBaseline="bottom",a.fillText(l,0,o);var f=v(a.getImageData(0,0,o,o));u.lineHeight=u.bottom=o-f+h,a.clearRect(0,0,o,o),a.textBaseline="alphabetic",a.fillText(l,0,o);var T=o-v(a.getImageData(0,0,o,o))-1+h;u.baseline=u.alphabetic=T,a.clearRect(0,0,o,o),a.textBaseline="middle",a.fillText(l,0,.5*o);var d=v(a.getImageData(0,0,o,o));u.median=u.middle=o-d-1+h-.5*o,a.clearRect(0,0,o,o),a.textBaseline="hanging",a.fillText(l,0,.5*o);var y=v(a.getImageData(0,0,o,o));u.hanging=o-y-1+h-.5*o,a.clearRect(0,0,o,o),a.textBaseline="ideographic",a.fillText(l,0,o);var m=v(a.getImageData(0,0,o,o));if(u.ideographic=o-m-1+h,r.upper&&(a.clearRect(0,0,o,o),a.textBaseline="top",a.fillText(r.upper,0,0),u.upper=v(a.getImageData(0,0,o,o)),u.capHeight=u.baseline-u.upper),r.lower&&(a.clearRect(0,0,o,o),a.textBaseline="top",a.fillText(r.lower,0,0),u.lower=v(a.getImageData(0,0,o,o)),u.xHeight=u.baseline-u.lower),r.tittle&&(a.clearRect(0,0,o,o),a.textBaseline="top",a.fillText(r.tittle,0,0),u.tittle=v(a.getImageData(0,0,o,o))),r.ascent&&(a.clearRect(0,0,o,o),a.textBaseline="top",a.fillText(r.ascent,0,0),u.ascent=v(a.getImageData(0,0,o,o))),r.descent&&(a.clearRect(0,0,o,o),a.textBaseline="top",a.fillText(r.descent,0,0),u.descent=x(a.getImageData(0,0,o,o))),r.overshoot){a.clearRect(0,0,o,o),a.textBaseline="top",a.fillText(r.overshoot,0,0);var w=x(a.getImageData(0,0,o,o));u.overshoot=w-T}for(var _ in u)u[_]/=c;return u.em=c,S.cache[g]=u,e(u,n)}function e(t,b){var g={};for(var c in typeof b=="string"&&(b=t[b]),t)c!=="em"&&(g[c]=t[c]-b);return g}function v(t){for(var b=t.height,g=t.data,c=3;c<g.length;c+=4)if(g[c]!==0)return Math.floor(.25*(c-3)/b)}function x(t){for(var b=t.height,g=t.data,c=g.length-1;c>0;c-=4)if(g[c]!==0)return Math.floor(.25*(c-3)/b)}O.exports=S,S.canvas=document.createElement("canvas"),S.cache={}},46492:function(O,S,e){var v=e(90720),x=Object.prototype.toString,t=Object.prototype.hasOwnProperty;O.exports=function(b,g,c){if(!v(g))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=c),x.call(b)==="[object Array]"?function(n,i,a){for(var r=0,o=n.length;r<o;r++)t.call(n,r)&&(a==null?i(n[r],r,n):i.call(a,n[r],r,n))}(b,g,s):typeof b=="string"?function(n,i,a){for(var r=0,o=n.length;r<o;r++)a==null?i(n.charAt(r),r,n):i.call(a,n.charAt(r),r,n)}(b,g,s):function(n,i,a){for(var r in n)t.call(n,r)&&(a==null?i(n[r],r,n):i.call(a,n[r],r,n))}(b,g,s)}},74336:function(O){var S=Object.prototype.toString,e=Math.max,v=function(x,t){for(var b=[],g=0;g<x.length;g+=1)b[g]=x[g];for(var c=0;c<t.length;c+=1)b[c+x.length]=t[c];return b};O.exports=function(x){var t=this;if(typeof t!="function"||S.apply(t)!=="[object Function]")throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var b,g=function(a,r){for(var o=[],l=1,u=0;l<a.length;l+=1,u+=1)o[u]=a[l];return o}(arguments),c=e(0,t.length-g.length),s=[],n=0;n<c;n++)s[n]="$"+n;if(b=Function("binder","return function ("+function(a,r){for(var o="",l=0;l<a.length;l+=1)o+=a[l],l+1<a.length&&(o+=",");return o}(s)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof b){var a=t.apply(this,v(g,arguments));return Object(a)===a?a:this}return t.apply(x,v(g,arguments))}),t.prototype){var i=function(){};i.prototype=t.prototype,b.prototype=new i,i.prototype=null}return b}},8844:function(O,S,e){var v=e(74336);O.exports=Function.prototype.bind||v},13380:function(O){O.exports=function(S,e){if(typeof S!="string")throw new TypeError("must specify type string");if(e=e||{},typeof document>"u"&&!e.canvas)return null;var v=e.canvas||document.createElement("canvas");typeof e.width=="number"&&(v.width=e.width),typeof e.height=="number"&&(v.height=e.height);var x,t=e;try{var b=[S];S.indexOf("webgl")===0&&b.push("experimental-"+S);for(var g=0;g<b.length;g++)if(x=v.getContext(b[g],t))return x}catch{x=null}return x||null}},53664:function(O,S,e){var v,x=SyntaxError,t=Function,b=TypeError,g=function(R){try{return t('"use strict"; return ('+R+").constructor;")()}catch{}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch{c=null}var s=function(){throw new b},n=c?function(){try{return s}catch{try{return c(arguments,"callee").get}catch{return s}}}():s,i=e(71080)(),a=e(69572)(),r=Object.getPrototypeOf||(a?function(R){return R.__proto__}:null),o={},l=typeof Uint8Array<"u"&&r?r(Uint8Array):v,u={"%AggregateError%":typeof AggregateError>"u"?v:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?v:ArrayBuffer,"%ArrayIteratorPrototype%":i&&r?r([][Symbol.iterator]()):v,"%AsyncFromSyncIteratorPrototype%":v,"%AsyncFunction%":o,"%AsyncGenerator%":o,"%AsyncGeneratorFunction%":o,"%AsyncIteratorPrototype%":o,"%Atomics%":typeof Atomics>"u"?v:Atomics,"%BigInt%":typeof BigInt>"u"?v:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?v:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?v:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?v:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?v:Float32Array,"%Float64Array%":typeof Float64Array>"u"?v:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?v:FinalizationRegistry,"%Function%":t,"%GeneratorFunction%":o,"%Int8Array%":typeof Int8Array>"u"?v:Int8Array,"%Int16Array%":typeof Int16Array>"u"?v:Int16Array,"%Int32Array%":typeof Int32Array>"u"?v:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":i&&r?r(r([][Symbol.iterator]())):v,"%JSON%":typeof JSON=="object"?JSON:v,"%Map%":typeof Map>"u"?v:Map,"%MapIteratorPrototype%":typeof Map<"u"&&i&&r?r(new Map()[Symbol.iterator]()):v,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?v:Promise,"%Proxy%":typeof Proxy>"u"?v:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?v:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?v:Set,"%SetIteratorPrototype%":typeof Set<"u"&&i&&r?r(new Set()[Symbol.iterator]()):v,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?v:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":i&&r?r(""[Symbol.iterator]()):v,"%Symbol%":i?Symbol:v,"%SyntaxError%":x,"%ThrowTypeError%":n,"%TypedArray%":l,"%TypeError%":b,"%Uint8Array%":typeof Uint8Array>"u"?v:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?v:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?v:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?v:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?v:WeakMap,"%WeakRef%":typeof WeakRef>"u"?v:WeakRef,"%WeakSet%":typeof WeakSet>"u"?v:WeakSet};if(r)try{null.error}catch(R){var h=r(r(R));u["%Error.prototype%"]=h}var f=function R(I){var D;if(I==="%AsyncFunction%")D=g("async function () {}");else if(I==="%GeneratorFunction%")D=g("function* () {}");else if(I==="%AsyncGeneratorFunction%")D=g("async function* () {}");else if(I==="%AsyncGenerator%"){var F=R("%AsyncGeneratorFunction%");F&&(D=F.prototype)}else if(I==="%AsyncIteratorPrototype%"){var q=R("%AsyncGenerator%");q&&r&&(D=r(q.prototype))}return u[I]=D,D},T={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},d=e(8844),y=e(92064),m=d.call(Function.call,Array.prototype.concat),w=d.call(Function.apply,Array.prototype.splice),_=d.call(Function.call,String.prototype.replace),A=d.call(Function.call,String.prototype.slice),p=d.call(Function.call,RegExp.prototype.exec),L=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,M=/\\(\\)?/g,C=function(R,I){var D,F=R;if(y(T,F)&&(F="%"+(D=T[F])[0]+"%"),y(u,F)){var q=u[F];if(q===o&&(q=f(F)),q===void 0&&!I)throw new b("intrinsic "+R+" exists, but is not available. Please file an issue!");return{alias:D,name:F,value:q}}throw new x("intrinsic "+R+" does not exist!")};O.exports=function(R,I){if(typeof R!="string"||R.length===0)throw new b("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof I!="boolean")throw new b('"allowMissing" argument must be a boolean');if(p(/^%?[^%]*%?$/,R)===null)throw new x("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var D=function(J){var $=A(J,0,1),ae=A(J,-1);if($==="%"&&ae!=="%")throw new x("invalid intrinsic syntax, expected closing `%`");if(ae==="%"&&$!=="%")throw new x("invalid intrinsic syntax, expected opening `%`");var ue=[];return _(J,L,function(ce,de,pe,me){ue[ue.length]=pe?_(me,M,"$1"):de||ce}),ue}(R),F=D.length>0?D[0]:"",q=C("%"+F+"%",I),z=q.name,V=q.value,X=!1,j=q.alias;j&&(F=j[0],w(D,m([0,1],j)));for(var H=1,G=!0;H<D.length;H+=1){var ie=D[H],re=A(ie,0,1),te=A(ie,-1);if((re==='"'||re==="'"||re==="`"||te==='"'||te==="'"||te==="`")&&re!==te)throw new x("property names with quotes must have matching quotes");if(ie!=="constructor"&&G||(X=!0),y(u,z="%"+(F+="."+ie)+"%"))V=u[z];else if(V!=null){if(!(ie in V)){if(!I)throw new b("base intrinsic for "+R+" exists, but the property is not available.");return}if(c&&H+1>=D.length){var K=c(V,ie);V=(G=!!K)&&"get"in K&&!("originalValue"in K.get)?K.get:V[ie]}else G=y(V,ie),V=V[ie];G&&!X&&(u[z]=V)}}return V}},12408:function(O){O.exports=function(S,e){var v=e[0],x=e[1],t=e[2],b=e[3],g=e[4],c=e[5],s=e[6],n=e[7],i=e[8],a=e[9],r=e[10],o=e[11],l=e[12],u=e[13],h=e[14],f=e[15];return S[0]=c*(r*f-o*h)-a*(s*f-n*h)+u*(s*o-n*r),S[1]=-(x*(r*f-o*h)-a*(t*f-b*h)+u*(t*o-b*r)),S[2]=x*(s*f-n*h)-c*(t*f-b*h)+u*(t*n-b*s),S[3]=-(x*(s*o-n*r)-c*(t*o-b*r)+a*(t*n-b*s)),S[4]=-(g*(r*f-o*h)-i*(s*f-n*h)+l*(s*o-n*r)),S[5]=v*(r*f-o*h)-i*(t*f-b*h)+l*(t*o-b*r),S[6]=-(v*(s*f-n*h)-g*(t*f-b*h)+l*(t*n-b*s)),S[7]=v*(s*o-n*r)-g*(t*o-b*r)+i*(t*n-b*s),S[8]=g*(a*f-o*u)-i*(c*f-n*u)+l*(c*o-n*a),S[9]=-(v*(a*f-o*u)-i*(x*f-b*u)+l*(x*o-b*a)),S[10]=v*(c*f-n*u)-g*(x*f-b*u)+l*(x*n-b*c),S[11]=-(v*(c*o-n*a)-g*(x*o-b*a)+i*(x*n-b*c)),S[12]=-(g*(a*h-r*u)-i*(c*h-s*u)+l*(c*r-s*a)),S[13]=v*(a*h-r*u)-i*(x*h-t*u)+l*(x*r-t*a),S[14]=-(v*(c*h-s*u)-g*(x*h-t*u)+l*(x*s-t*c)),S[15]=v*(c*r-s*a)-g*(x*r-t*a)+i*(x*s-t*c),S}},76860:function(O){O.exports=function(S){var e=new Float32Array(16);return e[0]=S[0],e[1]=S[1],e[2]=S[2],e[3]=S[3],e[4]=S[4],e[5]=S[5],e[6]=S[6],e[7]=S[7],e[8]=S[8],e[9]=S[9],e[10]=S[10],e[11]=S[11],e[12]=S[12],e[13]=S[13],e[14]=S[14],e[15]=S[15],e}},64492:function(O){O.exports=function(S,e){return S[0]=e[0],S[1]=e[1],S[2]=e[2],S[3]=e[3],S[4]=e[4],S[5]=e[5],S[6]=e[6],S[7]=e[7],S[8]=e[8],S[9]=e[9],S[10]=e[10],S[11]=e[11],S[12]=e[12],S[13]=e[13],S[14]=e[14],S[15]=e[15],S}},54212:function(O){O.exports=function(){var S=new Float32Array(16);return S[0]=1,S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=1,S[6]=0,S[7]=0,S[8]=0,S[9]=0,S[10]=1,S[11]=0,S[12]=0,S[13]=0,S[14]=0,S[15]=1,S}},70800:function(O){O.exports=function(S){var e=S[0],v=S[1],x=S[2],t=S[3],b=S[4],g=S[5],c=S[6],s=S[7],n=S[8],i=S[9],a=S[10],r=S[11],o=S[12],l=S[13],u=S[14],h=S[15];return(e*g-v*b)*(a*h-r*u)-(e*c-x*b)*(i*h-r*l)+(e*s-t*b)*(i*u-a*l)+(v*c-x*g)*(n*h-r*o)-(v*s-t*g)*(n*u-a*o)+(x*s-t*c)*(n*l-i*o)}},61784:function(O){O.exports=function(S,e){var v=e[0],x=e[1],t=e[2],b=e[3],g=v+v,c=x+x,s=t+t,n=v*g,i=x*g,a=x*c,r=t*g,o=t*c,l=t*s,u=b*g,h=b*c,f=b*s;return S[0]=1-a-l,S[1]=i+f,S[2]=r-h,S[3]=0,S[4]=i-f,S[5]=1-n-l,S[6]=o+u,S[7]=0,S[8]=r+h,S[9]=o-u,S[10]=1-n-a,S[11]=0,S[12]=0,S[13]=0,S[14]=0,S[15]=1,S}},91616:function(O){O.exports=function(S,e,v){var x,t,b,g=v[0],c=v[1],s=v[2],n=Math.sqrt(g*g+c*c+s*s);return Math.abs(n)<1e-6?null:(g*=n=1/n,c*=n,s*=n,x=Math.sin(e),b=1-(t=Math.cos(e)),S[0]=g*g*b+t,S[1]=c*g*b+s*x,S[2]=s*g*b-c*x,S[3]=0,S[4]=g*c*b-s*x,S[5]=c*c*b+t,S[6]=s*c*b+g*x,S[7]=0,S[8]=g*s*b+c*x,S[9]=c*s*b-g*x,S[10]=s*s*b+t,S[11]=0,S[12]=0,S[13]=0,S[14]=0,S[15]=1,S)}},51944:function(O){O.exports=function(S,e,v){var x=e[0],t=e[1],b=e[2],g=e[3],c=x+x,s=t+t,n=b+b,i=x*c,a=x*s,r=x*n,o=t*s,l=t*n,u=b*n,h=g*c,f=g*s,T=g*n;return S[0]=1-(o+u),S[1]=a+T,S[2]=r-f,S[3]=0,S[4]=a-T,S[5]=1-(i+u),S[6]=l+h,S[7]=0,S[8]=r+f,S[9]=l-h,S[10]=1-(i+o),S[11]=0,S[12]=v[0],S[13]=v[1],S[14]=v[2],S[15]=1,S}},69444:function(O){O.exports=function(S,e){return S[0]=e[0],S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=e[1],S[6]=0,S[7]=0,S[8]=0,S[9]=0,S[10]=e[2],S[11]=0,S[12]=0,S[13]=0,S[14]=0,S[15]=1,S}},48268:function(O){O.exports=function(S,e){return S[0]=1,S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=1,S[6]=0,S[7]=0,S[8]=0,S[9]=0,S[10]=1,S[11]=0,S[12]=e[0],S[13]=e[1],S[14]=e[2],S[15]=1,S}},21856:function(O){O.exports=function(S,e){var v=Math.sin(e),x=Math.cos(e);return S[0]=1,S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=x,S[6]=v,S[7]=0,S[8]=0,S[9]=-v,S[10]=x,S[11]=0,S[12]=0,S[13]=0,S[14]=0,S[15]=1,S}},79216:function(O){O.exports=function(S,e){var v=Math.sin(e),x=Math.cos(e);return S[0]=x,S[1]=0,S[2]=-v,S[3]=0,S[4]=0,S[5]=1,S[6]=0,S[7]=0,S[8]=v,S[9]=0,S[10]=x,S[11]=0,S[12]=0,S[13]=0,S[14]=0,S[15]=1,S}},57736:function(O){O.exports=function(S,e){var v=Math.sin(e),x=Math.cos(e);return S[0]=x,S[1]=v,S[2]=0,S[3]=0,S[4]=-v,S[5]=x,S[6]=0,S[7]=0,S[8]=0,S[9]=0,S[10]=1,S[11]=0,S[12]=0,S[13]=0,S[14]=0,S[15]=1,S}},38848:function(O){O.exports=function(S,e,v,x,t,b,g){var c=1/(v-e),s=1/(t-x),n=1/(b-g);return S[0]=2*b*c,S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=2*b*s,S[6]=0,S[7]=0,S[8]=(v+e)*c,S[9]=(t+x)*s,S[10]=(g+b)*n,S[11]=-1,S[12]=0,S[13]=0,S[14]=g*b*2*n,S[15]=0,S}},36635:function(O){O.exports=function(S){return S[0]=1,S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=1,S[6]=0,S[7]=0,S[8]=0,S[9]=0,S[10]=1,S[11]=0,S[12]=0,S[13]=0,S[14]=0,S[15]=1,S}},36524:function(O,S,e){O.exports={create:e(54212),clone:e(76860),copy:e(64492),identity:e(36635),transpose:e(86520),invert:e(4308),adjoint:e(12408),determinant:e(70800),multiply:e(80944),translate:e(35176),scale:e(68152),rotate:e(30016),rotateX:e(15456),rotateY:e(64840),rotateZ:e(4192),fromRotation:e(91616),fromRotationTranslation:e(51944),fromScaling:e(69444),fromTranslation:e(48268),fromXRotation:e(21856),fromYRotation:e(79216),fromZRotation:e(57736),fromQuat:e(61784),frustum:e(38848),perspective:e(51296),perspectiveFromFieldOfView:e(63688),ortho:e(97688),lookAt:e(56508),str:e(89412)}},4308:function(O){O.exports=function(S,e){var v=e[0],x=e[1],t=e[2],b=e[3],g=e[4],c=e[5],s=e[6],n=e[7],i=e[8],a=e[9],r=e[10],o=e[11],l=e[12],u=e[13],h=e[14],f=e[15],T=v*c-x*g,d=v*s-t*g,y=v*n-b*g,m=x*s-t*c,w=x*n-b*c,_=t*n-b*s,A=i*u-a*l,p=i*h-r*l,L=i*f-o*l,M=a*h-r*u,C=a*f-o*u,R=r*f-o*h,I=T*R-d*C+y*M+m*L-w*p+_*A;return I?(I=1/I,S[0]=(c*R-s*C+n*M)*I,S[1]=(t*C-x*R-b*M)*I,S[2]=(u*_-h*w+f*m)*I,S[3]=(r*w-a*_-o*m)*I,S[4]=(s*L-g*R-n*p)*I,S[5]=(v*R-t*L+b*p)*I,S[6]=(h*y-l*_-f*d)*I,S[7]=(i*_-r*y+o*d)*I,S[8]=(g*C-c*L+n*A)*I,S[9]=(x*L-v*C-b*A)*I,S[10]=(l*w-u*y+f*T)*I,S[11]=(a*y-i*w-o*T)*I,S[12]=(c*p-g*M-s*A)*I,S[13]=(v*M-x*p+t*A)*I,S[14]=(u*d-l*m-h*T)*I,S[15]=(i*m-a*d+r*T)*I,S):null}},56508:function(O,S,e){var v=e(36635);O.exports=function(x,t,b,g){var c,s,n,i,a,r,o,l,u,h,f=t[0],T=t[1],d=t[2],y=g[0],m=g[1],w=g[2],_=b[0],A=b[1],p=b[2];return Math.abs(f-_)<1e-6&&Math.abs(T-A)<1e-6&&Math.abs(d-p)<1e-6?v(x):(o=f-_,l=T-A,u=d-p,c=m*(u*=h=1/Math.sqrt(o*o+l*l+u*u))-w*(l*=h),s=w*(o*=h)-y*u,n=y*l-m*o,(h=Math.sqrt(c*c+s*s+n*n))?(c*=h=1/h,s*=h,n*=h):(c=0,s=0,n=0),i=l*n-u*s,a=u*c-o*n,r=o*s-l*c,(h=Math.sqrt(i*i+a*a+r*r))?(i*=h=1/h,a*=h,r*=h):(i=0,a=0,r=0),x[0]=c,x[1]=i,x[2]=o,x[3]=0,x[4]=s,x[5]=a,x[6]=l,x[7]=0,x[8]=n,x[9]=r,x[10]=u,x[11]=0,x[12]=-(c*f+s*T+n*d),x[13]=-(i*f+a*T+r*d),x[14]=-(o*f+l*T+u*d),x[15]=1,x)}},80944:function(O){O.exports=function(S,e,v){var x=e[0],t=e[1],b=e[2],g=e[3],c=e[4],s=e[5],n=e[6],i=e[7],a=e[8],r=e[9],o=e[10],l=e[11],u=e[12],h=e[13],f=e[14],T=e[15],d=v[0],y=v[1],m=v[2],w=v[3];return S[0]=d*x+y*c+m*a+w*u,S[1]=d*t+y*s+m*r+w*h,S[2]=d*b+y*n+m*o+w*f,S[3]=d*g+y*i+m*l+w*T,d=v[4],y=v[5],m=v[6],w=v[7],S[4]=d*x+y*c+m*a+w*u,S[5]=d*t+y*s+m*r+w*h,S[6]=d*b+y*n+m*o+w*f,S[7]=d*g+y*i+m*l+w*T,d=v[8],y=v[9],m=v[10],w=v[11],S[8]=d*x+y*c+m*a+w*u,S[9]=d*t+y*s+m*r+w*h,S[10]=d*b+y*n+m*o+w*f,S[11]=d*g+y*i+m*l+w*T,d=v[12],y=v[13],m=v[14],w=v[15],S[12]=d*x+y*c+m*a+w*u,S[13]=d*t+y*s+m*r+w*h,S[14]=d*b+y*n+m*o+w*f,S[15]=d*g+y*i+m*l+w*T,S}},97688:function(O){O.exports=function(S,e,v,x,t,b,g){var c=1/(e-v),s=1/(x-t),n=1/(b-g);return S[0]=-2*c,S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=-2*s,S[6]=0,S[7]=0,S[8]=0,S[9]=0,S[10]=2*n,S[11]=0,S[12]=(e+v)*c,S[13]=(t+x)*s,S[14]=(g+b)*n,S[15]=1,S}},51296:function(O){O.exports=function(S,e,v,x,t){var b=1/Math.tan(e/2),g=1/(x-t);return S[0]=b/v,S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=b,S[6]=0,S[7]=0,S[8]=0,S[9]=0,S[10]=(t+x)*g,S[11]=-1,S[12]=0,S[13]=0,S[14]=2*t*x*g,S[15]=0,S}},63688:function(O){O.exports=function(S,e,v,x){var t=Math.tan(e.upDegrees*Math.PI/180),b=Math.tan(e.downDegrees*Math.PI/180),g=Math.tan(e.leftDegrees*Math.PI/180),c=Math.tan(e.rightDegrees*Math.PI/180),s=2/(g+c),n=2/(t+b);return S[0]=s,S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=n,S[6]=0,S[7]=0,S[8]=-(g-c)*s*.5,S[9]=(t-b)*n*.5,S[10]=x/(v-x),S[11]=-1,S[12]=0,S[13]=0,S[14]=x*v/(v-x),S[15]=0,S}},30016:function(O){O.exports=function(S,e,v,x){var t,b,g,c,s,n,i,a,r,o,l,u,h,f,T,d,y,m,w,_,A,p,L,M,C=x[0],R=x[1],I=x[2],D=Math.sqrt(C*C+R*R+I*I);return Math.abs(D)<1e-6?null:(C*=D=1/D,R*=D,I*=D,t=Math.sin(v),g=1-(b=Math.cos(v)),c=e[0],s=e[1],n=e[2],i=e[3],a=e[4],r=e[5],o=e[6],l=e[7],u=e[8],h=e[9],f=e[10],T=e[11],d=C*C*g+b,y=R*C*g+I*t,m=I*C*g-R*t,w=C*R*g-I*t,_=R*R*g+b,A=I*R*g+C*t,p=C*I*g+R*t,L=R*I*g-C*t,M=I*I*g+b,S[0]=c*d+a*y+u*m,S[1]=s*d+r*y+h*m,S[2]=n*d+o*y+f*m,S[3]=i*d+l*y+T*m,S[4]=c*w+a*_+u*A,S[5]=s*w+r*_+h*A,S[6]=n*w+o*_+f*A,S[7]=i*w+l*_+T*A,S[8]=c*p+a*L+u*M,S[9]=s*p+r*L+h*M,S[10]=n*p+o*L+f*M,S[11]=i*p+l*L+T*M,e!==S&&(S[12]=e[12],S[13]=e[13],S[14]=e[14],S[15]=e[15]),S)}},15456:function(O){O.exports=function(S,e,v){var x=Math.sin(v),t=Math.cos(v),b=e[4],g=e[5],c=e[6],s=e[7],n=e[8],i=e[9],a=e[10],r=e[11];return e!==S&&(S[0]=e[0],S[1]=e[1],S[2]=e[2],S[3]=e[3],S[12]=e[12],S[13]=e[13],S[14]=e[14],S[15]=e[15]),S[4]=b*t+n*x,S[5]=g*t+i*x,S[6]=c*t+a*x,S[7]=s*t+r*x,S[8]=n*t-b*x,S[9]=i*t-g*x,S[10]=a*t-c*x,S[11]=r*t-s*x,S}},64840:function(O){O.exports=function(S,e,v){var x=Math.sin(v),t=Math.cos(v),b=e[0],g=e[1],c=e[2],s=e[3],n=e[8],i=e[9],a=e[10],r=e[11];return e!==S&&(S[4]=e[4],S[5]=e[5],S[6]=e[6],S[7]=e[7],S[12]=e[12],S[13]=e[13],S[14]=e[14],S[15]=e[15]),S[0]=b*t-n*x,S[1]=g*t-i*x,S[2]=c*t-a*x,S[3]=s*t-r*x,S[8]=b*x+n*t,S[9]=g*x+i*t,S[10]=c*x+a*t,S[11]=s*x+r*t,S}},4192:function(O){O.exports=function(S,e,v){var x=Math.sin(v),t=Math.cos(v),b=e[0],g=e[1],c=e[2],s=e[3],n=e[4],i=e[5],a=e[6],r=e[7];return e!==S&&(S[8]=e[8],S[9]=e[9],S[10]=e[10],S[11]=e[11],S[12]=e[12],S[13]=e[13],S[14]=e[14],S[15]=e[15]),S[0]=b*t+n*x,S[1]=g*t+i*x,S[2]=c*t+a*x,S[3]=s*t+r*x,S[4]=n*t-b*x,S[5]=i*t-g*x,S[6]=a*t-c*x,S[7]=r*t-s*x,S}},68152:function(O){O.exports=function(S,e,v){var x=v[0],t=v[1],b=v[2];return S[0]=e[0]*x,S[1]=e[1]*x,S[2]=e[2]*x,S[3]=e[3]*x,S[4]=e[4]*t,S[5]=e[5]*t,S[6]=e[6]*t,S[7]=e[7]*t,S[8]=e[8]*b,S[9]=e[9]*b,S[10]=e[10]*b,S[11]=e[11]*b,S[12]=e[12],S[13]=e[13],S[14]=e[14],S[15]=e[15],S}},89412:function(O){O.exports=function(S){return"mat4("+S[0]+", "+S[1]+", "+S[2]+", "+S[3]+", "+S[4]+", "+S[5]+", "+S[6]+", "+S[7]+", "+S[8]+", "+S[9]+", "+S[10]+", "+S[11]+", "+S[12]+", "+S[13]+", "+S[14]+", "+S[15]+")"}},35176:function(O){O.exports=function(S,e,v){var x,t,b,g,c,s,n,i,a,r,o,l,u=v[0],h=v[1],f=v[2];return e===S?(S[12]=e[0]*u+e[4]*h+e[8]*f+e[12],S[13]=e[1]*u+e[5]*h+e[9]*f+e[13],S[14]=e[2]*u+e[6]*h+e[10]*f+e[14],S[15]=e[3]*u+e[7]*h+e[11]*f+e[15]):(x=e[0],t=e[1],b=e[2],g=e[3],c=e[4],s=e[5],n=e[6],i=e[7],a=e[8],r=e[9],o=e[10],l=e[11],S[0]=x,S[1]=t,S[2]=b,S[3]=g,S[4]=c,S[5]=s,S[6]=n,S[7]=i,S[8]=a,S[9]=r,S[10]=o,S[11]=l,S[12]=x*u+c*h+a*f+e[12],S[13]=t*u+s*h+r*f+e[13],S[14]=b*u+n*h+o*f+e[14],S[15]=g*u+i*h+l*f+e[15]),S}},86520:function(O){O.exports=function(S,e){if(S===e){var v=e[1],x=e[2],t=e[3],b=e[6],g=e[7],c=e[11];S[1]=e[4],S[2]=e[8],S[3]=e[12],S[4]=v,S[6]=e[9],S[7]=e[13],S[8]=x,S[9]=b,S[11]=e[14],S[12]=t,S[13]=g,S[14]=c}else S[0]=e[0],S[1]=e[4],S[2]=e[8],S[3]=e[12],S[4]=e[1],S[5]=e[5],S[6]=e[9],S[7]=e[13],S[8]=e[2],S[9]=e[6],S[10]=e[10],S[11]=e[14],S[12]=e[3],S[13]=e[7],S[14]=e[11],S[15]=e[15];return S}},23352:function(O,S,e){var v=e(42771),x=e(55616),t=e(28624),b=e(55212),g=e(60463),c=e(72160),s=e(33888),n=e(14144),i=e(51160),a=e(58908),r=e(65819),o=e(23464),l=e(63768),u=e(50896),h=e(71920),f=e(47520),T=e(308).nextPow2,d=new g,y=!1;if(document.body){var m=document.body.appendChild(document.createElement("div"));m.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(m).fontStretch&&(y=!0),document.body.removeChild(m)}var w=function(_){(function(A){return typeof A=="function"&&A._gl&&A.prop&&A.texture&&A.buffer})(_)?(_={regl:_},this.gl=_.regl._gl):this.gl=b(_),this.shader=d.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=_.regl||t({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),d.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(a(_)?_:{})};w.prototype.createShader=function(){var _=this.regl,A=_({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:_.prop("count"),offset:_.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:_.this("sizeBuffer")},width:{offset:0,stride:8,buffer:_.this("sizeBuffer")},char:_.this("charBuffer"),position:_.this("position")},uniforms:{atlasSize:function(p,L){return[L.atlas.width,L.atlas.height]},atlasDim:function(p,L){return[L.atlas.cols,L.atlas.rows]},atlas:function(p,L){return L.atlas.texture},charStep:function(p,L){return L.atlas.step},em:function(p,L){return L.atlas.em},color:_.prop("color"),opacity:_.prop("opacity"),viewport:_.this("viewportArray"),scale:_.this("scale"),align:_.prop("align"),baseline:_.prop("baseline"),translate:_.this("translate"),positionOffset:_.prop("positionOffset")},primitive:"points",viewport:_.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`});return{regl:_,draw:A,atlas:{}}},w.prototype.update=function(_){var A=this;if(typeof _=="string")_={text:_};else if(!_)return;(_=x(_,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0)).opacity!=null&&(Array.isArray(_.opacity)?this.opacity=_.opacity.map(function(ye){return parseFloat(ye)}):this.opacity=parseFloat(_.opacity)),_.viewport!=null&&(this.viewport=i(_.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),_.kerning!=null&&(this.kerning=_.kerning),_.offset!=null&&(typeof _.offset=="number"&&(_.offset=[_.offset,0]),this.positionOffset=f(_.offset)),_.direction&&(this.direction=_.direction),_.range&&(this.range=_.range,this.scale=[1/(_.range[2]-_.range[0]),1/(_.range[3]-_.range[1])],this.translate=[-_.range[0],-_.range[1]]),_.scale&&(this.scale=_.scale),_.translate&&(this.translate=_.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),this.font.length||_.font||(_.font=w.baseFontSize+"px sans-serif");var p,L=!1,M=!1;if(_.font&&(Array.isArray(_.font)?_.font:[_.font]).forEach(function(ye,Oe){if(typeof ye=="string")try{ye=v.parse(ye)}catch{ye=v.parse(w.baseFontSize+"px "+ye)}else{var Ae=ye.style,Se=ye.weight,Pe=ye.stretch,Fe=ye.variant;ye=v.parse(v.stringify(ye)),Ae&&(ye.style=Ae),Se&&(ye.weight=Se),Pe&&(ye.stretch=Pe),Fe&&(ye.variant=Fe)}var Be=v.stringify({size:w.baseFontSize,family:ye.family,stretch:y?ye.stretch:void 0,variant:ye.variant,weight:ye.weight,style:ye.style}),xe=r(ye.size),Me=Math.round(xe[0]*o(xe[1]));if(Me!==A.fontSize[Oe]&&(M=!0,A.fontSize[Oe]=Me),!(A.font[Oe]&&Be==A.font[Oe].baseString||(L=!0,A.font[Oe]=w.fonts[Be],A.font[Oe]))){var Ce=ye.family.join(", "),Ne=[ye.style];ye.style!=ye.variant&&Ne.push(ye.variant),ye.variant!=ye.weight&&Ne.push(ye.weight),y&&ye.weight!=ye.stretch&&Ne.push(ye.stretch),A.font[Oe]={baseString:Be,family:Ce,weight:ye.weight,stretch:ye.stretch,style:ye.style,variant:ye.variant,width:{},kerning:{},metrics:h(Ce,{origin:"top",fontSize:w.baseFontSize,fontStyle:Ne.join(" ")})},w.fonts[Be]=A.font[Oe]}}),(L||M)&&this.font.forEach(function(ye,Oe){var Ae=v.stringify({size:A.fontSize[Oe],family:ye.family,stretch:y?ye.stretch:void 0,variant:ye.variant,weight:ye.weight,style:ye.style});if(A.fontAtlas[Oe]=A.shader.atlas[Ae],!A.fontAtlas[Oe]){var Se=ye.metrics;A.shader.atlas[Ae]=A.fontAtlas[Oe]={fontString:Ae,step:2*Math.ceil(A.fontSize[Oe]*Se.bottom*.5),em:A.fontSize[Oe],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:A.regl.texture()}}_.text==null&&(_.text=A.text)}),typeof _.text=="string"&&_.position&&_.position.length>2){for(var C=Array(.5*_.position.length),R=0;R<C.length;R++)C[R]=_.text;_.text=C}if(_.text!=null||L){if(this.textOffsets=[0],Array.isArray(_.text)){this.count=_.text[0].length,this.counts=[this.count];for(var I=1;I<_.text.length;I++)this.textOffsets[I]=this.textOffsets[I-1]+_.text[I-1].length,this.count+=_.text[I].length,this.counts.push(_.text[I].length);this.text=_.text.join("")}else this.text=_.text,this.count=this.text.length,this.counts=[this.count];p=[],this.font.forEach(function(ye,Oe){w.atlasContext.font=ye.baseString;for(var Ae=A.fontAtlas[Oe],Se=0;Se<A.text.length;Se++){var Pe=A.text.charAt(Se);if(Ae.ids[Pe]==null&&(Ae.ids[Pe]=Ae.chars.length,Ae.chars.push(Pe),p.push(Pe)),ye.width[Pe]==null&&(ye.width[Pe]=w.atlasContext.measureText(Pe).width/w.baseFontSize,A.kerning)){var Fe=[];for(var Be in ye.width)Fe.push(Be+Pe,Pe+Be);u(ye.kerning,l(ye.family,{pairs:Fe}))}}})}if(_.position)if(_.position.length>2){for(var D=!_.position[0].length,F=n.mallocFloat(2*this.count),q=0,z=0;q<this.counts.length;q++){var V=this.counts[q];if(D)for(var X=0;X<V;X++)F[z++]=_.position[2*q],F[z++]=_.position[2*q+1];else for(var j=0;j<V;j++)F[z++]=_.position[q][0],F[z++]=_.position[q][1]}this.position.call?this.position({type:"float",data:F}):this.position=this.regl.buffer({type:"float",data:F}),n.freeFloat(F)}else this.position.destroy&&this.position.destroy(),this.position={constant:_.position};if(_.text||L){var H=n.mallocUint8(this.count),G=n.mallocFloat(2*this.count);this.textWidth=[];for(var ie=0,re=0;ie<this.counts.length;ie++){for(var te=this.counts[ie],K=this.font[ie]||this.font[0],J=this.fontAtlas[ie]||this.fontAtlas[0],$=0;$<te;$++){var ae=this.text.charAt(re),ue=this.text.charAt(re-1);if(H[re]=J.ids[ae],G[2*re]=K.width[ae],$){var ce=G[2*re-2],de=G[2*re],pe=G[2*re-1]+.5*ce+.5*de;if(this.kerning){var me=K.kerning[ue+ae];me&&(pe+=.001*me)}G[2*re+1]=pe}else G[2*re+1]=.5*G[2*re];re++}this.textWidth.push(G.length?.5*G[2*re-2]+G[2*re-1]:0)}_.align||(_.align=this.align),this.charBuffer({data:H,type:"uint8",usage:"stream"}),this.sizeBuffer({data:G,type:"float",usage:"stream"}),n.freeUint8(H),n.freeFloat(G),p.length&&this.font.forEach(function(ye,Oe){var Ae=A.fontAtlas[Oe],Se=Ae.step,Pe=Math.floor(w.maxAtlasSize/Se),Fe=Math.min(Pe,Ae.chars.length),Be=Math.ceil(Ae.chars.length/Fe),xe=T(Fe*Se),Me=T(Be*Se);Ae.width=xe,Ae.height=Me,Ae.rows=Be,Ae.cols=Fe,Ae.em&&Ae.texture({data:s({canvas:w.atlasCanvas,font:Ae.fontString,chars:Ae.chars,shape:[xe,Me],step:[Se,Se]})})})}if(_.align&&(this.align=_.align,this.alignOffset=this.textWidth.map(function(ye,Oe){var Ae=Array.isArray(A.align)?A.align.length>1?A.align[Oe]:A.align[0]:A.align;if(typeof Ae=="number")return Ae;switch(Ae){case"right":case"end":return-ye;case"center":case"centre":case"middle":return .5*-ye}return 0})),this.baseline==null&&_.baseline==null&&(_.baseline=0),_.baseline!=null&&(this.baseline=_.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(ye,Oe){var Ae=(A.font[Oe]||A.font[0]).metrics,Se=0;return Se+=.5*Ae.bottom,-1*(Se+=typeof ye=="number"?ye-Ae.baseline:-Ae[ye])})),_.color!=null)if(_.color||(_.color="transparent"),typeof _.color!="string"&&isNaN(_.color)){var be;if(typeof _.color[0]=="number"&&_.color.length>this.counts.length){var we=_.color.length;be=n.mallocUint8(we);for(var Te=(_.color.subarray||_.color.slice).bind(_.color),Le=0;Le<we;Le+=4)be.set(c(Te(Le,Le+4),"uint8"),Le)}else{var Ie=_.color.length;be=n.mallocUint8(4*Ie);for(var _e=0;_e<Ie;_e++)be.set(c(_.color[_e]||0,"uint8"),4*_e)}this.color=be}else this.color=c(_.color,"uint8");if(_.position||_.text||_.color||_.baseline||_.align||_.font||_.offset||_.opacity)if(this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2){var fe=Math.max(.5*this.position.length||0,.25*this.color.length||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,.5*this.positionOffset.length||0);this.batch=Array(fe);for(var le=0;le<this.batch.length;le++)this.batch[le]={count:this.counts.length>1?this.counts[le]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[le]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(4*le,4*le+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[le]:this.opacity,baseline:this.baselineOffset[le]!=null?this.baselineOffset[le]:this.baselineOffset[0],align:this.align?this.alignOffset[le]!=null?this.alignOffset[le]:this.alignOffset[0]:0,atlas:this.fontAtlas[le]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(2*le,2*le+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]},w.prototype.destroy=function(){},w.prototype.kerning=!0,w.prototype.position={constant:new Float32Array(2)},w.prototype.translate=null,w.prototype.scale=null,w.prototype.font=null,w.prototype.text="",w.prototype.positionOffset=[0,0],w.prototype.opacity=1,w.prototype.color=new Uint8Array([0,0,0,255]),w.prototype.alignOffset=[0,0],w.maxAtlasSize=1024,w.atlasCanvas=document.createElement("canvas"),w.atlasContext=w.atlasCanvas.getContext("2d",{alpha:!1}),w.baseFontSize=64,w.fonts={},O.exports=w},55212:function(O,S,e){var v=e(55616);function x(g){if(g.container)if(g.container==document.body)document.body.style.width||(g.canvas.width=g.width||g.pixelRatio*e.g.innerWidth),document.body.style.height||(g.canvas.height=g.height||g.pixelRatio*e.g.innerHeight);else{var c=g.container.getBoundingClientRect();g.canvas.width=g.width||c.right-c.left,g.canvas.height=g.height||c.bottom-c.top}}function t(g){return typeof g.getContext=="function"&&"width"in g&&"height"in g}function b(){var g=document.createElement("canvas");return g.style.position="absolute",g.style.top=0,g.style.left=0,g}O.exports=function(g){var c;if(g?typeof g=="string"&&(g={container:g}):g={},(g=t(g)||typeof(c=g).nodeName=="string"&&typeof c.appendChild=="function"&&typeof c.getBoundingClientRect=="function"?{container:g}:function(n){return typeof n.drawArrays=="function"||typeof n.drawElements=="function"}(g)?{gl:g}:v(g,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0)).pixelRatio||(g.pixelRatio=e.g.pixelRatio||1),g.gl)return g.gl;if(g.canvas&&(g.container=g.canvas.parentNode),g.container){if(typeof g.container=="string"){var s=document.querySelector(g.container);if(!s)throw Error("Element "+g.container+" is not found");g.container=s}t(g.container)?(g.canvas=g.container,g.container=g.canvas.parentNode):g.canvas||(g.canvas=b(),g.container.appendChild(g.canvas),x(g))}else if(!g.canvas){if(typeof document>"u")throw Error("Not DOM environment. Use headless-gl.");g.container=document.body||document.documentElement,g.canvas=b(),g.container.appendChild(g.canvas),x(g)}return g.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(n){try{g.gl=g.canvas.getContext(n,g.attrs)}catch{}return g.gl}),g.gl}},26444:function(O){O.exports=function(S){typeof S=="string"&&(S=[S]);for(var e=[].slice.call(arguments,1),v=[],x=0;x<S.length-1;x++)v.push(S[x],e[x]||"");return v.push(S[x]),v.join("")}},2304:function(O,S,e){var v=e(53664)("%Object.getOwnPropertyDescriptor%",!0);if(v)try{v([],"length")}catch{v=null}O.exports=v},52264:function(O,S,e){var v,x=e(24200);v=typeof e.g.matchMedia=="function"?!e.g.matchMedia("(hover: none)").matches:x,O.exports=v},89184:function(O,S,e){var v=e(24200);O.exports=v&&function(){var x=!1;try{var t=Object.defineProperty({},"passive",{get:function(){x=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{x=!1}return x}()},39640:function(O,S,e){var v=e(53664)("%Object.defineProperty%",!0),x=function(){if(v)try{return v({},"a",{value:1}),!0}catch{return!1}return!1};x.hasArrayLengthDefineBug=function(){if(!x())return null;try{return v([],"length",{value:1}).length!==1}catch{return!0}},O.exports=x},69572:function(O){var S={foo:{}},e=Object;O.exports=function(){return{__proto__:S}.foo===S.foo&&!({__proto__:null}instanceof e)}},71080:function(O,S,e){var v=typeof Symbol<"u"&&Symbol,x=e(89320);O.exports=function(){return typeof v=="function"&&typeof Symbol=="function"&&typeof v("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&x()}},89320:function(O){O.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var S={},e=Symbol("test"),v=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(v)!=="[object Symbol]")return!1;for(e in S[e]=42,S)return!1;if(typeof Object.keys=="function"&&Object.keys(S).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(S).length!==0)return!1;var x=Object.getOwnPropertySymbols(S);if(x.length!==1||x[0]!==e||!Object.prototype.propertyIsEnumerable.call(S,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var t=Object.getOwnPropertyDescriptor(S,e);if(t.value!==42||t.enumerable!==!0)return!1}return!0}},46672:function(O,S,e){var v=e(89320);O.exports=function(){return v()&&!!Symbol.toStringTag}},92064:function(O,S,e){var v=Function.prototype.call,x=Object.prototype.hasOwnProperty,t=e(8844);O.exports=t.call(v,x)},35984:function(O,S){S.read=function(e,v,x,t,b){var g,c,s=8*b-t-1,n=(1<<s)-1,i=n>>1,a=-7,r=x?b-1:0,o=x?-1:1,l=e[v+r];for(r+=o,g=l&(1<<-a)-1,l>>=-a,a+=s;a>0;g=256*g+e[v+r],r+=o,a-=8);for(c=g&(1<<-a)-1,g>>=-a,a+=t;a>0;c=256*c+e[v+r],r+=o,a-=8);if(g===0)g=1-i;else{if(g===n)return c?NaN:1/0*(l?-1:1);c+=Math.pow(2,t),g-=i}return(l?-1:1)*c*Math.pow(2,g-t)},S.write=function(e,v,x,t,b,g){var c,s,n,i=8*g-b-1,a=(1<<i)-1,r=a>>1,o=b===23?Math.pow(2,-24)-Math.pow(2,-77):0,l=t?0:g-1,u=t?1:-1,h=v<0||v===0&&1/v<0?1:0;for(v=Math.abs(v),isNaN(v)||v===1/0?(s=isNaN(v)?1:0,c=a):(c=Math.floor(Math.log(v)/Math.LN2),v*(n=Math.pow(2,-c))<1&&(c--,n*=2),(v+=c+r>=1?o/n:o*Math.pow(2,1-r))*n>=2&&(c++,n/=2),c+r>=a?(s=0,c=a):c+r>=1?(s=(v*n-1)*Math.pow(2,b),c+=r):(s=v*Math.pow(2,r-1)*Math.pow(2,b),c=0));b>=8;e[x+l]=255&s,l+=u,s/=256,b-=8);for(c=c<<b|s,i+=b;i>0;e[x+l]=255&c,l+=u,c/=256,i-=8);e[x+l-u]|=128*h}},6768:function(O){typeof Object.create=="function"?O.exports=function(S,e){e&&(S.super_=e,S.prototype=Object.create(e.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}))}:O.exports=function(S,e){if(e){S.super_=e;var v=function(){};v.prototype=e.prototype,S.prototype=new v,S.prototype.constructor=S}}},91148:function(O,S,e){var v=e(46672)(),x=e(99676)("Object.prototype.toString"),t=function(c){return!(v&&c&&typeof c=="object"&&Symbol.toStringTag in c)&&x(c)==="[object Arguments]"},b=function(c){return!!t(c)||c!==null&&typeof c=="object"&&typeof c.length=="number"&&c.length>=0&&x(c)!=="[object Array]"&&x(c.callee)==="[object Function]"},g=function(){return t(arguments)}();t.isLegacyArguments=b,O.exports=g?t:b},24200:function(O){O.exports=!0},90720:function(O){var S,e,v=Function.prototype.toString,x=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply;if(typeof x=="function"&&typeof Object.defineProperty=="function")try{S=Object.defineProperty({},"length",{get:function(){throw e}}),e={},x(function(){throw 42},null,S)}catch(r){r!==e&&(x=null)}else x=null;var t=/^\s*class\b/,b=function(r){try{var o=v.call(r);return t.test(o)}catch{return!1}},g=function(r){try{return!b(r)&&(v.call(r),!0)}catch{return!1}},c=Object.prototype.toString,s=typeof Symbol=="function"&&!!Symbol.toStringTag,n=!(0 in[,]),i=function(){return!1};if(typeof document=="object"){var a=document.all;c.call(a)===c.call(document.all)&&(i=function(r){if((n||!r)&&(r===void 0||typeof r=="object"))try{var o=c.call(r);return(o==="[object HTMLAllCollection]"||o==="[object HTML document.all class]"||o==="[object HTMLCollection]"||o==="[object Object]")&&r("")==null}catch{}return!1})}O.exports=x?function(r){if(i(r))return!0;if(!r||typeof r!="function"&&typeof r!="object")return!1;try{x(r,null,S)}catch(o){if(o!==e)return!1}return!b(r)&&g(r)}:function(r){if(i(r))return!0;if(!r||typeof r!="function"&&typeof r!="object")return!1;if(s)return g(r);if(b(r))return!1;var o=c.call(r);return!(o!=="[object Function]"&&o!=="[object GeneratorFunction]"&&!/^\[object HTML/.test(o))&&g(r)}},84420:function(O,S,e){var v,x=Object.prototype.toString,t=Function.prototype.toString,b=/^\s*(?:function)?\*/,g=e(46672)(),c=Object.getPrototypeOf;O.exports=function(s){if(typeof s!="function")return!1;if(b.test(t.call(s)))return!0;if(!g)return x.call(s)==="[object GeneratorFunction]";if(!c)return!1;if(v===void 0){var n=function(){if(!g)return!1;try{return Function("return function*() {}")()}catch{}}();v=!!n&&c(n)}return c(s)===v}},96604:function(O){O.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},85992:function(O){O.exports=function(S){return S!=S}},1560:function(O,S,e){var v=e(57916),x=e(81288),t=e(85992),b=e(57740),g=e(59736),c=v(b(),Number);x(c,{getPolyfill:b,implementation:t,shim:g}),O.exports=c},57740:function(O,S,e){var v=e(85992);O.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:v}},59736:function(O,S,e){var v=e(81288),x=e(57740);O.exports=function(){var t=x();return v(Number,{isNaN:t},{isNaN:function(){return Number.isNaN!==t}}),t}},18400:function(O){O.exports=function(S){var e=typeof S;return S!==null&&(e==="object"||e==="function")}},58908:function(O){var S=Object.prototype.toString;O.exports=function(e){var v;return S.call(e)==="[object Object]"&&((v=Object.getPrototypeOf(e))===null||v===Object.getPrototypeOf({}))}},94576:function(O){O.exports=function(S){for(var e,v=S.length,x=0;x<v;x++)if(((e=S.charCodeAt(x))<9||e>13)&&e!==32&&e!==133&&e!==160&&e!==5760&&e!==6158&&(e<8192||e>8205)&&e!==8232&&e!==8233&&e!==8239&&e!==8287&&e!==8288&&e!==12288&&e!==65279)return!1;return!0}},53520:function(O){O.exports=function(S){return typeof S=="string"&&(S=S.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(S)&&/[\dz]$/i.test(S)&&S.length>4))}},7728:function(O,S,e){var v=e(46492),x=e(63436),t=e(99676),b=t("Object.prototype.toString"),g=e(46672)(),c=e(2304),s=typeof globalThis>"u"?e.g:globalThis,n=x(),i=t("Array.prototype.indexOf",!0)||function(l,u){for(var h=0;h<l.length;h+=1)if(l[h]===u)return h;return-1},a=t("String.prototype.slice"),r={},o=Object.getPrototypeOf;g&&c&&o&&v(n,function(l){var u=new s[l];if(Symbol.toStringTag in u){var h=o(u),f=c(h,Symbol.toStringTag);if(!f){var T=o(h);f=c(T,Symbol.toStringTag)}r[l]=f.get}}),O.exports=function(l){if(!l||typeof l!="object")return!1;if(!g||!(Symbol.toStringTag in l)){var u=a(b(l),8,-1);return i(n,u)>-1}return!!c&&function(h){var f=!1;return v(r,function(T,d){if(!f)try{f=T.call(h)===d}catch{}}),f}(l)}},76244:function(O){O.exports=Math.log2||function(S){return Math.log(S)*Math.LOG2E}},62644:function(O,S,e){O.exports=function(x,t){t||(t=x,x=window);var b=0,g=0,c=0,s={shift:!1,alt:!1,control:!1,meta:!1},n=!1;function i(y){var m=!1;return"altKey"in y&&(m=m||y.altKey!==s.alt,s.alt=!!y.altKey),"shiftKey"in y&&(m=m||y.shiftKey!==s.shift,s.shift=!!y.shiftKey),"ctrlKey"in y&&(m=m||y.ctrlKey!==s.control,s.control=!!y.ctrlKey),"metaKey"in y&&(m=m||y.metaKey!==s.meta,s.meta=!!y.metaKey),m}function a(y,m){var w=v.x(m),_=v.y(m);"buttons"in m&&(y=0|m.buttons),(y!==b||w!==g||_!==c||i(m))&&(b=0|y,g=w||0,c=_||0,t&&t(b,g,c,s))}function r(y){a(0,y)}function o(){(b||g||c||s.shift||s.alt||s.meta||s.control)&&(g=c=0,b=0,s.shift=s.alt=s.control=s.meta=!1,t&&t(0,0,0,s))}function l(y){i(y)&&t&&t(b,g,c,s)}function u(y){v.buttons(y)===0?a(0,y):a(b,y)}function h(y){a(b|v.buttons(y),y)}function f(y){a(b&~v.buttons(y),y)}function T(){n||(n=!0,x.addEventListener("mousemove",u),x.addEventListener("mousedown",h),x.addEventListener("mouseup",f),x.addEventListener("mouseleave",r),x.addEventListener("mouseenter",r),x.addEventListener("mouseout",r),x.addEventListener("mouseover",r),x.addEventListener("blur",o),x.addEventListener("keyup",l),x.addEventListener("keydown",l),x.addEventListener("keypress",l),x!==window&&(window.addEventListener("blur",o),window.addEventListener("keyup",l),window.addEventListener("keydown",l),window.addEventListener("keypress",l)))}T();var d={element:x};return Object.defineProperties(d,{enabled:{get:function(){return n},set:function(y){y?T():n&&(n=!1,x.removeEventListener("mousemove",u),x.removeEventListener("mousedown",h),x.removeEventListener("mouseup",f),x.removeEventListener("mouseleave",r),x.removeEventListener("mouseenter",r),x.removeEventListener("mouseout",r),x.removeEventListener("mouseover",r),x.removeEventListener("blur",o),x.removeEventListener("keyup",l),x.removeEventListener("keydown",l),x.removeEventListener("keypress",l),x!==window&&(window.removeEventListener("blur",o),window.removeEventListener("keyup",l),window.removeEventListener("keydown",l),window.removeEventListener("keypress",l)))},enumerable:!0},buttons:{get:function(){return b},enumerable:!0},x:{get:function(){return g},enumerable:!0},y:{get:function(){return c},enumerable:!0},mods:{get:function(){return s},enumerable:!0}}),d};var v=e(93784)},29128:function(O){var S={left:0,top:0};O.exports=function(e,v,x){v=v||e.currentTarget||e.srcElement,Array.isArray(x)||(x=[0,0]);var t,b=e.clientX||0,g=e.clientY||0,c=(t=v)===window||t===document||t===document.body?S:t.getBoundingClientRect();return x[0]=b-c.left,x[1]=g-c.top,x}},93784:function(O,S){function e(v){return v.target||v.srcElement||window}S.buttons=function(v){if(typeof v=="object"){if("buttons"in v)return v.buttons;if("which"in v){if((x=v.which)===2)return 4;if(x===3)return 2;if(x>0)return 1<<x-1}else if("button"in v){var x;if((x=v.button)===1)return 4;if(x===2)return 2;if(x>=0)return 1<<x}}return 0},S.element=e,S.x=function(v){if(typeof v=="object"){if("offsetX"in v)return v.offsetX;var x=e(v).getBoundingClientRect();return v.clientX-x.left}return 0},S.y=function(v){if(typeof v=="object"){if("offsetY"in v)return v.offsetY;var x=e(v).getBoundingClientRect();return v.clientY-x.top}return 0}},97264:function(O,S,e){var v=e(23464);O.exports=function(x,t,b){typeof x=="function"&&(b=!!t,t=x,x=window);var g=v("ex",x),c=function(s){b&&s.preventDefault();var n=s.deltaX||0,i=s.deltaY||0,a=s.deltaZ||0,r=1;switch(s.deltaMode){case 1:r=g;break;case 2:r=window.innerHeight}if(i*=r,a*=r,(n*=r)||i||a)return t(n,i,a,s)};return x.addEventListener("wheel",c),c}},88324:function(O,S,e){var v;(function(x,t,b){t[x]=t[x]||function(){var g,c,s,n=Object.prototype.toString,i=typeof setImmediate<"u"?function(w){return setImmediate(w)}:setTimeout;try{Object.defineProperty({},"x",{}),g=function(w,_,A,p){return Object.defineProperty(w,_,{value:A,writable:!0,configurable:p!==!1})}}catch{g=function(_,A,p){return _[A]=p,_}}function a(w,_){s.add(w,_),c||(c=i(s.drain))}function r(w){var _,A=typeof w;return w==null||A!="object"&&A!="function"||(_=w.then),typeof _=="function"&&_}function o(){for(var w=0;w<this.chain.length;w++)l(this,this.state===1?this.chain[w].success:this.chain[w].failure,this.chain[w]);this.chain.length=0}function l(w,_,A){var p,L;try{_===!1?A.reject(w.msg):(p=_===!0?w.msg:_.call(void 0,w.msg))===A.promise?A.reject(TypeError("Promise-chain cycle")):(L=r(p))?L.call(p,A.resolve,A.reject):A.resolve(p)}catch(M){A.reject(M)}}function u(w){var _,A=this;if(!A.triggered){A.triggered=!0,A.def&&(A=A.def);try{(_=r(w))?a(function(){var p=new T(A);try{_.call(w,function(){u.apply(p,arguments)},function(){h.apply(p,arguments)})}catch(L){h.call(p,L)}}):(A.msg=w,A.state=1,A.chain.length>0&&a(o,A))}catch(p){h.call(new T(A),p)}}}function h(w){var _=this;_.triggered||(_.triggered=!0,_.def&&(_=_.def),_.msg=w,_.state=2,_.chain.length>0&&a(o,_))}function f(w,_,A,p){for(var L=0;L<_.length;L++)(function(M){w.resolve(_[M]).then(function(C){A(M,C)},p)})(L)}function T(w){this.def=w,this.triggered=!1}function d(w){this.promise=w,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function y(w){if(typeof w!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var _=new d(this);this.then=function(A,p){var L={success:typeof A!="function"||A,failure:typeof p=="function"&&p};return L.promise=new this.constructor(function(M,C){if(typeof M!="function"||typeof C!="function")throw TypeError("Not a function");L.resolve=M,L.reject=C}),_.chain.push(L),_.state!==0&&a(o,_),L.promise},this.catch=function(A){return this.then(void 0,A)};try{w.call(void 0,function(A){u.call(_,A)},function(A){h.call(_,A)})}catch(A){h.call(_,A)}}s=function(){var w,_,A;function p(L,M){this.fn=L,this.self=M,this.next=void 0}return{add:function(L,M){A=new p(L,M),_?_.next=A:w=A,_=A,A=void 0},drain:function(){var L=w;for(w=_=c=void 0;L;)L.fn.call(L.self),L=L.next}}}();var m=g({},"constructor",y,!1);return y.prototype=m,g(m,"__NPO__",0,!1),g(y,"resolve",function(w){return w&&typeof w=="object"&&w.__NPO__===1?w:new this(function(_,A){if(typeof _!="function"||typeof A!="function")throw TypeError("Not a function");_(w)})}),g(y,"reject",function(w){return new this(function(_,A){if(typeof _!="function"||typeof A!="function")throw TypeError("Not a function");A(w)})}),g(y,"all",function(w){var _=this;return n.call(w)!="[object Array]"?_.reject(TypeError("Not an array")):w.length===0?_.resolve([]):new _(function(A,p){if(typeof A!="function"||typeof p!="function")throw TypeError("Not a function");var L=w.length,M=Array(L),C=0;f(_,w,function(R,I){M[R]=I,++C===L&&A(M)},p)})}),g(y,"race",function(w){var _=this;return n.call(w)!="[object Array]"?_.reject(TypeError("Not an array")):new _(function(A,p){if(typeof A!="function"||typeof p!="function")throw TypeError("Not a function");f(_,w,function(L,M){A(M)},p)})}),y}(),O.exports?O.exports=t[x]:(v=(function(){return t[x]}).call(S,e,S,O))===void 0||(O.exports=v)})("Promise",e.g!==void 0?e.g:this)},48816:function(O){var S=Math.PI,e=g(120);function v(c,s,n,i){return["C",c,s,n,i,n,i]}function x(c,s,n,i,a,r){return["C",c/3+.6666666666666666*n,s/3+.6666666666666666*i,a/3+.6666666666666666*n,r/3+.6666666666666666*i,a,r]}function t(c,s,n,i,a,r,o,l,u,h){if(h)L=h[0],M=h[1],A=h[2],p=h[3];else{var f=b(c,s,-a);c=f.x,s=f.y;var T=(c-(l=(f=b(l,u,-a)).x))/2,d=(s-(u=f.y))/2,y=T*T/(n*n)+d*d/(i*i);y>1&&(n*=y=Math.sqrt(y),i*=y);var m=n*n,w=i*i,_=(r==o?-1:1)*Math.sqrt(Math.abs((m*w-m*d*d-w*T*T)/(m*d*d+w*T*T)));_==1/0&&(_=1);var A=_*n*d/i+(c+l)/2,p=_*-i*T/n+(s+u)/2,L=Math.asin(((s-p)/i).toFixed(9)),M=Math.asin(((u-p)/i).toFixed(9));(L=c<A?S-L:L)<0&&(L=2*S+L),(M=l<A?S-M:M)<0&&(M=2*S+M),o&&L>M&&(L-=2*S),!o&&M>L&&(M-=2*S)}if(Math.abs(M-L)>e){var C=M,R=l,I=u;M=L+e*(o&&M>L?1:-1);var D=t(l=A+n*Math.cos(M),u=p+i*Math.sin(M),n,i,a,0,o,R,I,[M,C,A,p])}var F=Math.tan((M-L)/4),q=4/3*n*F,z=4/3*i*F,V=[2*c-(c+q*Math.sin(L)),2*s-(s-z*Math.cos(L)),l+q*Math.sin(M),u-z*Math.cos(M),l,u];if(h)return V;D&&(V=V.concat(D));for(var X=0;X<V.length;){var j=b(V[X],V[X+1],a);V[X++]=j.x,V[X++]=j.y}return V}function b(c,s,n){return{x:c*Math.cos(n)-s*Math.sin(n),y:c*Math.sin(n)+s*Math.cos(n)}}function g(c){return c*(S/180)}O.exports=function(c){for(var s,n=[],i=0,a=0,r=0,o=0,l=null,u=null,h=0,f=0,T=0,d=c.length;T<d;T++){var y=c[T],m=y[0];switch(m){case"M":r=y[1],o=y[2];break;case"A":(y=t(h,f,y[1],y[2],g(y[3]),y[4],y[5],y[6],y[7])).unshift("C"),y.length>7&&(n.push(y.splice(0,7)),y.unshift("C"));break;case"S":var w=h,_=f;s!="C"&&s!="S"||(w+=w-i,_+=_-a),y=["C",w,_,y[1],y[2],y[3],y[4]];break;case"T":s=="Q"||s=="T"?(l=2*h-l,u=2*f-u):(l=h,u=f),y=x(h,f,l,u,y[1],y[2]);break;case"Q":l=y[1],u=y[2],y=x(h,f,y[1],y[2],y[3],y[4]);break;case"L":y=v(h,f,y[1],y[2]);break;case"H":y=v(h,f,y[1],f);break;case"V":y=v(h,f,h,y[1]);break;case"Z":y=v(h,f,r,o)}s=m,h=y[y.length-2],f=y[y.length-1],y.length>4?(i=y[y.length-4],a=y[y.length-3]):(i=h,a=f),n.push(y)}return n}},50896:function(O){var S=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;O.exports=function(){try{if(!Object.assign)return!1;var x=new String("abc");if(x[5]="de",Object.getOwnPropertyNames(x)[0]==="5")return!1;for(var t={},b=0;b<10;b++)t["_"+String.fromCharCode(b)]=b;if(Object.getOwnPropertyNames(t).map(function(c){return t[c]}).join("")!=="0123456789")return!1;var g={};return"abcdefghijklmnopqrst".split("").forEach(function(c){g[c]=c}),Object.keys(Object.assign({},g)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(x,t){for(var b,g,c=function(a){if(a==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}(x),s=1;s<arguments.length;s++){for(var n in b=Object(arguments[s]))e.call(b,n)&&(c[n]=b[n]);if(S){g=S(b);for(var i=0;i<g.length;i++)v.call(b,g[i])&&(c[g[i]]=b[g[i]])}}return c}},76835:function(O){var S=function(e){return e!=e};O.exports=function(e,v){return e===0&&v===0?1/e==1/v:e===v||!(!S(e)||!S(v))}},39896:function(O,S,e){var v=e(81288),x=e(57916),t=e(76835),b=e(66148),g=e(16408),c=x(b(),Object);v(c,{getPolyfill:b,implementation:t,shim:g}),O.exports=c},66148:function(O,S,e){var v=e(76835);O.exports=function(){return typeof Object.is=="function"?Object.is:v}},16408:function(O,S,e){var v=e(66148),x=e(81288);O.exports=function(){var t=v();return x(Object,{is:t},{is:function(){return Object.is!==t}}),t}},32764:function(O,S,e){var v;if(!Object.keys){var x=Object.prototype.hasOwnProperty,t=Object.prototype.toString,b=e(97344),g=Object.prototype.propertyIsEnumerable,c=!g.call({toString:null},"toString"),s=g.call(function(){},"prototype"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=function(o){var l=o.constructor;return l&&l.prototype===o},a={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},r=function(){if(typeof window>"u")return!1;for(var o in window)try{if(!a["$"+o]&&x.call(window,o)&&window[o]!==null&&typeof window[o]=="object")try{i(window[o])}catch{return!0}}catch{return!0}return!1}();v=function(o){var l=o!==null&&typeof o=="object",u=t.call(o)==="[object Function]",h=b(o),f=l&&t.call(o)==="[object String]",T=[];if(!l&&!u&&!h)throw new TypeError("Object.keys called on a non-object");var d=s&&u;if(f&&o.length>0&&!x.call(o,0))for(var y=0;y<o.length;++y)T.push(String(y));if(h&&o.length>0)for(var m=0;m<o.length;++m)T.push(String(m));else for(var w in o)d&&w==="prototype"||!x.call(o,w)||T.push(String(w));if(c)for(var _=function(p){if(typeof window>"u"||!r)return i(p);try{return i(p)}catch{return!1}}(o),A=0;A<n.length;++A)_&&n[A]==="constructor"||!x.call(o,n[A])||T.push(n[A]);return T}}O.exports=v},41820:function(O,S,e){var v=Array.prototype.slice,x=e(97344),t=Object.keys,b=t?function(c){return t(c)}:e(32764),g=Object.keys;b.shim=function(){if(Object.keys){var c=function(){var s=Object.keys(arguments);return s&&s.length===arguments.length}(1,2);c||(Object.keys=function(s){return x(s)?g(v.call(s)):g(s)})}else Object.keys=b;return Object.keys||b},O.exports=b},97344:function(O){var S=Object.prototype.toString;O.exports=function(e){var v=S.call(e),x=v==="[object Arguments]";return x||(x=v!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&S.call(e.callee)==="[object Function]"),x}},32868:function(O){function S(x,t){if(typeof x!="string")return[x];var b=[x];typeof t=="string"||Array.isArray(t)?t={brackets:t}:t||(t={});var g=t.brackets?Array.isArray(t.brackets)?t.brackets:[t.brackets]:["{}","[]","()"],c=t.escape||"___",s=!!t.flat;g.forEach(function(i){var a=new RegExp(["\\",i[0],"[^\\",i[0],"\\",i[1],"]*\\",i[1]].join("")),r=[];function o(l,u,h){var f=b.push(l.slice(i[0].length,-i[1].length))-1;return r.push(f),c+f+c}b.forEach(function(l,u){for(var h,f=0;l!=h;)if(h=l,l=l.replace(a,o),f++>1e4)throw Error("References have circular dependency. Please, check them.");b[u]=l}),r=r.reverse(),b=b.map(function(l){return r.forEach(function(u){l=l.replace(new RegExp("(\\"+c+u+"\\"+c+")","g"),i[0]+"$1"+i[1])}),l})});var n=new RegExp("\\"+c+"([0-9]+)\\"+c);return s?b:function i(a,r,o){for(var l,u=[],h=0;l=n.exec(a);){if(h++>1e4)throw Error("Circular references in parenthesis");u.push(a.slice(0,l.index)),u.push(i(r[l[1]],r)),a=a.slice(l.index+l[0].length)}return u.push(a),u}(b[0],b)}function e(x,t){if(t&&t.flat){var b,g=t&&t.escape||"___",c=x[0];if(!c)return"";for(var s=new RegExp("\\"+g+"([0-9]+)\\"+g),n=0;c!=b;){if(n++>1e4)throw Error("Circular references in "+x);b=c,c=c.replace(s,i)}return c}return x.reduce(function a(r,o){return Array.isArray(o)&&(o=o.reduce(a,"")),r+o},"");function i(a,r){if(x[r]==null)throw Error("Reference "+r+"is undefined");return x[r]}}function v(x,t){return Array.isArray(x)?e(x,t):S(x,t)}v.parse=S,v.stringify=e,O.exports=v},51160:function(O,S,e){var v=e(55616);O.exports=function(x){var t;return arguments.length>1&&(x=arguments),typeof x=="string"?x=x.split(/\s/).map(parseFloat):typeof x=="number"&&(x=[x]),x.length&&typeof x[0]=="number"?t=x.length===1?{width:x[0],height:x[0],x:0,y:0}:x.length===2?{width:x[0],height:x[1],x:0,y:0}:{x:x[0],y:x[1],width:x[2]-x[0]||0,height:x[3]-x[1]||0}:x&&(t={x:(x=v(x,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"})).left||0,y:x.top||0},x.width==null?x.right?t.width=x.right-t.x:t.width=0:t.width=x.width,x.height==null?x.bottom?t.height=x.bottom-t.y:t.height=0:t.height=x.height),t}},21984:function(O){O.exports=function(x){var t=[];return x.replace(e,function(b,g,c){var s=g.toLowerCase();for(c=function(n){var i=n.match(v);return i?i.map(Number):[]}(c),s=="m"&&c.length>2&&(t.push([g].concat(c.splice(0,2))),s="l",g=g=="m"?"l":"L");;){if(c.length==S[s])return c.unshift(g),t.push(c);if(c.length<S[s])throw new Error("malformed path data");t.push([g].concat(c.splice(0,S[s])))}}),t};var S={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/gi,v=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},65819:function(O){O.exports=function(S,e){e||(e=[0,""]),S=String(S);var v=parseFloat(S,10);return e[0]=v,e[1]=S.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},41984:function(O,S,e){var v=e(4168);(function(){var x,t,b,g,c,s;typeof performance<"u"&&performance!==null&&performance.now?O.exports=function(){return performance.now()}:v!=null&&v.hrtime?(O.exports=function(){return(x()-c)/1e6},t=v.hrtime,g=(x=function(){var n;return 1e9*(n=t())[0]+n[1]})(),s=1e9*v.uptime(),c=g-s):Date.now?(O.exports=function(){return Date.now()-b},b=Date.now()):(O.exports=function(){return new Date().getTime()-b},b=new Date().getTime())}).call(this)},55616:function(O){O.exports=function(v,x,t){var b,g,c={};if(typeof x=="string"&&(x=e(x)),Array.isArray(x)){var s={};for(g=0;g<x.length;g++)s[x[g]]=!0;x=s}for(b in x)x[b]=e(x[b]);var n={};for(b in x){var i=x[b];if(Array.isArray(i))for(g=0;g<i.length;g++){var a=i[g];if(t&&(n[a]=!0),a in v){if(c[b]=v[a],t)for(var r=g;r<i.length;r++)n[i[r]]=!0;break}}else b in v&&(x[b]&&(c[b]=v[b]),t&&(n[b]=!0))}if(t)for(b in v)n[b]||(c[b]=v[b]);return c};var S={};function e(v){return S[v]?S[v]:(typeof v=="string"&&(v=S[v]=v.split(/\s*,\s*|\s+/)),v)}},61456:function(O){O.exports=function(S,e,v,x){var t=S[0],b=S[1],g=!1;v===void 0&&(v=0),x===void 0&&(x=e.length);for(var c=x-v,s=0,n=c-1;s<c;n=s++){var i=e[s+v][0],a=e[s+v][1],r=e[n+v][0],o=e[n+v][1];a>b!=o>b&&t<(r-i)*(b-a)/(o-a)+i&&(g=!g)}return g}},14756:function(O,S,e){var v,x=e(7688),t=e(28648),b=e(72200),g=e(11403),c=e(82368),s=e(17792),n=!1,i=t();function a(r,o,l){var u=v.segments(r),h=v.segments(o),f=l(v.combine(u,h));return v.polygon(f)}v={buildLog:function(r){return r===!0?n=x():r===!1&&(n=!1),n!==!1&&n.list},epsilon:function(r){return i.epsilon(r)},segments:function(r){var o=b(!0,i,n);return r.regions.forEach(o.addRegion),{segments:o.calculate(r.inverted),inverted:r.inverted}},combine:function(r,o){return{combined:b(!1,i,n).calculate(r.segments,r.inverted,o.segments,o.inverted),inverted1:r.inverted,inverted2:o.inverted}},selectUnion:function(r){return{segments:c.union(r.combined,n),inverted:r.inverted1||r.inverted2}},selectIntersect:function(r){return{segments:c.intersect(r.combined,n),inverted:r.inverted1&&r.inverted2}},selectDifference:function(r){return{segments:c.difference(r.combined,n),inverted:r.inverted1&&!r.inverted2}},selectDifferenceRev:function(r){return{segments:c.differenceRev(r.combined,n),inverted:!r.inverted1&&r.inverted2}},selectXor:function(r){return{segments:c.xor(r.combined,n),inverted:r.inverted1!==r.inverted2}},polygon:function(r){return{regions:g(r.segments,i,n),inverted:r.inverted}},polygonFromGeoJSON:function(r){return s.toPolygon(v,r)},polygonToGeoJSON:function(r){return s.fromPolygon(v,i,r)},union:function(r,o){return a(r,o,v.selectUnion)},intersect:function(r,o){return a(r,o,v.selectIntersect)},difference:function(r,o){return a(r,o,v.selectDifference)},differenceRev:function(r,o){return a(r,o,v.selectDifferenceRev)},xor:function(r,o){return a(r,o,v.selectXor)}},typeof window=="object"&&(window.PolyBool=v),O.exports=v},7688:function(O){O.exports=function(){var S,e=0,v=!1;function x(t,b){return S.list.push({type:t,data:b?JSON.parse(JSON.stringify(b)):void 0}),S}return S={list:[],segmentId:function(){return e++},checkIntersection:function(t,b){return x("check",{seg1:t,seg2:b})},segmentChop:function(t,b){return x("div_seg",{seg:t,pt:b}),x("chop",{seg:t,pt:b})},statusRemove:function(t){return x("pop_seg",{seg:t})},segmentUpdate:function(t){return x("seg_update",{seg:t})},segmentNew:function(t,b){return x("new_seg",{seg:t,primary:b})},segmentRemove:function(t){return x("rem_seg",{seg:t})},tempStatus:function(t,b,g){return x("temp_status",{seg:t,above:b,below:g})},rewind:function(t){return x("rewind",{seg:t})},status:function(t,b,g){return x("status",{seg:t,above:b,below:g})},vert:function(t){return t===v?S:(v=t,x("vert",{x:t}))},log:function(t){return typeof t!="string"&&(t=JSON.stringify(t,!1,"  ")),x("log",{txt:t})},reset:function(){return x("reset")},selected:function(t){return x("selected",{segs:t})},chainStart:function(t){return x("chain_start",{seg:t})},chainRemoveHead:function(t,b){return x("chain_rem_head",{index:t,pt:b})},chainRemoveTail:function(t,b){return x("chain_rem_tail",{index:t,pt:b})},chainNew:function(t,b){return x("chain_new",{pt1:t,pt2:b})},chainMatch:function(t){return x("chain_match",{index:t})},chainClose:function(t){return x("chain_close",{index:t})},chainAddHead:function(t,b){return x("chain_add_head",{index:t,pt:b})},chainAddTail:function(t,b){return x("chain_add_tail",{index:t,pt:b})},chainConnect:function(t,b){return x("chain_con",{index1:t,index2:b})},chainReverse:function(t){return x("chain_rev",{index:t})},chainJoin:function(t,b){return x("chain_join",{index1:t,index2:b})},done:function(){return x("done")}}}},28648:function(O){O.exports=function(S){typeof S!="number"&&(S=1e-10);var e={epsilon:function(v){return typeof v=="number"&&(S=v),S},pointAboveOrOnLine:function(v,x,t){var b=x[0],g=x[1],c=t[0],s=t[1],n=v[0];return(c-b)*(v[1]-g)-(s-g)*(n-b)>=-S},pointBetween:function(v,x,t){var b=v[1]-x[1],g=t[0]-x[0],c=v[0]-x[0],s=t[1]-x[1],n=c*g+b*s;return!(n<S||n-(g*g+s*s)>-S)},pointsSameX:function(v,x){return Math.abs(v[0]-x[0])<S},pointsSameY:function(v,x){return Math.abs(v[1]-x[1])<S},pointsSame:function(v,x){return e.pointsSameX(v,x)&&e.pointsSameY(v,x)},pointsCompare:function(v,x){return e.pointsSameX(v,x)?e.pointsSameY(v,x)?0:v[1]<x[1]?-1:1:v[0]<x[0]?-1:1},pointsCollinear:function(v,x,t){var b=v[0]-x[0],g=v[1]-x[1],c=x[0]-t[0],s=x[1]-t[1];return Math.abs(b*s-c*g)<S},linesIntersect:function(v,x,t,b){var g=x[0]-v[0],c=x[1]-v[1],s=b[0]-t[0],n=b[1]-t[1],i=g*n-c*s;if(Math.abs(i)<S)return!1;var a=v[0]-t[0],r=v[1]-t[1],o=(s*r-n*a)/i,l=(g*r-c*a)/i,u={alongA:0,alongB:0,pt:[v[0]+o*g,v[1]+o*c]};return u.alongA=o<=-S?-2:o<S?-1:o-1<=-S?0:o-1<S?1:2,u.alongB=l<=-S?-2:l<S?-1:l-1<=-S?0:l-1<S?1:2,u},pointInsideRegion:function(v,x){for(var t=v[0],b=v[1],g=x[x.length-1][0],c=x[x.length-1][1],s=!1,n=0;n<x.length;n++){var i=x[n][0],a=x[n][1];a-b>S!=c-b>S&&(g-i)*(b-a)/(c-a)+i-t>S&&(s=!s),g=i,c=a}return s}};return e}},17792:function(O){var S={toPolygon:function(e,v){function x(g){if(g.length<=0)return e.segments({inverted:!1,regions:[]});function c(i){var a=i.slice(0,i.length-1);return e.segments({inverted:!1,regions:[a]})}for(var s=c(g[0]),n=1;n<g.length;n++)s=e.selectDifference(e.combine(s,c(g[n])));return s}if(v.type==="Polygon")return e.polygon(x(v.coordinates));if(v.type==="MultiPolygon"){for(var t=e.segments({inverted:!1,regions:[]}),b=0;b<v.coordinates.length;b++)t=e.selectUnion(e.combine(t,x(v.coordinates[b])));return e.polygon(t)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,v,x){function t(l,u){return v.pointInsideRegion([.5*(l[0][0]+l[1][0]),.5*(l[0][1]+l[1][1])],u)}function b(l){return{region:l,children:[]}}x=e.polygon(e.segments(x));var g=b(null);function c(l,u){for(var h=0;h<l.children.length;h++)if(t(u,(T=l.children[h]).region))return void c(T,u);var f=b(u);for(h=0;h<l.children.length;h++){var T;t((T=l.children[h]).region,u)&&(f.children.push(T),l.children.splice(h,1),h--)}l.children.push(f)}for(var s=0;s<x.regions.length;s++){var n=x.regions[s];n.length<3||c(g,n)}function i(l,u){for(var h=0,f=l[l.length-1][0],T=l[l.length-1][1],d=[],y=0;y<l.length;y++){var m=l[y][0],w=l[y][1];d.push([m,w]),h+=w*f-m*T,f=m,T=w}return h<0!==u&&d.reverse(),d.push([d[0][0],d[0][1]]),d}var a=[];function r(l){var u=[i(l.region,!1)];a.push(u);for(var h=0;h<l.children.length;h++)u.push(o(l.children[h]))}function o(l){for(var u=0;u<l.children.length;u++)r(l.children[u]);return i(l.region,!0)}for(s=0;s<g.children.length;s++)r(g.children[s]);return a.length<=0?{type:"Polygon",coordinates:[]}:a.length==1?{type:"Polygon",coordinates:a[0]}:{type:"MultiPolygon",coordinates:a}}};O.exports=S},72200:function(O,S,e){var v=e(48088);O.exports=function(x,t,b){function g(r,o,l){return{id:b?b.segmentId():-1,start:r,end:o,myFill:{above:l.myFill.above,below:l.myFill.below},otherFill:null}}var c=v.create();function s(r,o){c.insertBefore(r,function(l){return u=r.isStart,h=r.pt,f=o,T=l.isStart,d=l.pt,y=l.other.pt,((m=t.pointsCompare(h,d))!==0?m:t.pointsSame(f,y)?0:u!==T?u?1:-1:t.pointAboveOrOnLine(f,T?d:y,T?y:d)?1:-1)<0;var u,h,f,T,d,y,m})}function n(r,o){var l=function(u,h){var f=v.node({isStart:!0,pt:u.start,seg:u,primary:h,other:null,status:null});return s(f,u.end),f}(r,o);return function(u,h,f){var T=v.node({isStart:!1,pt:h.end,seg:h,primary:f,other:u,status:null});u.other=T,s(T,u.pt)}(l,r,o),l}function i(r,o){var l=g(o,r.seg.end,r.seg);return function(u,h){b&&b.segmentChop(u.seg,h),u.other.remove(),u.seg.end=h,u.other.pt=h,s(u.other,u.pt)}(r,o),n(l,r.primary)}function a(r,o){var l=v.create();function u(M){return l.findTransition(function(C){var R,I,D,F,q,z;return R=M,I=C.ev,D=R.seg.start,F=R.seg.end,q=I.seg.start,z=I.seg.end,(t.pointsCollinear(D,q,z)?t.pointsCollinear(F,q,z)||t.pointAboveOrOnLine(F,q,z)?1:-1:t.pointAboveOrOnLine(D,q,z)?1:-1)>0})}function h(M,C){var R=M.seg,I=C.seg,D=R.start,F=R.end,q=I.start,z=I.end;b&&b.checkIntersection(R,I);var V=t.linesIntersect(D,F,q,z);if(V===!1){if(!t.pointsCollinear(D,F,q)||t.pointsSame(D,z)||t.pointsSame(F,q))return!1;var X=t.pointsSame(D,q),j=t.pointsSame(F,z);if(X&&j)return C;var H=!X&&t.pointBetween(D,q,z),G=!j&&t.pointBetween(F,q,z);if(X)return G?i(C,F):i(M,z),C;H&&(j||(G?i(C,F):i(M,z)),i(C,D))}else V.alongA===0&&(V.alongB===-1?i(M,q):V.alongB===0?i(M,V.pt):V.alongB===1&&i(M,z)),V.alongB===0&&(V.alongA===-1?i(C,D):V.alongA===0?i(C,V.pt):V.alongA===1&&i(C,F));return!1}for(var f=[];!c.isEmpty();){var T=c.getHead();if(b&&b.vert(T.pt[0]),T.isStart){let M=function(){if(y){var C=h(T,y);if(C)return C}return!!m&&h(T,m)};b&&b.segmentNew(T.seg,T.primary);var d=u(T),y=d.before?d.before.ev:null,m=d.after?d.after.ev:null;b&&b.tempStatus(T.seg,!!y&&y.seg,!!m&&m.seg);var w,_,A=M();if(A&&(x?(_=T.seg.myFill.below===null||T.seg.myFill.above!==T.seg.myFill.below)&&(A.seg.myFill.above=!A.seg.myFill.above):A.seg.otherFill=T.seg.myFill,b&&b.segmentUpdate(A.seg),T.other.remove(),T.remove()),c.getHead()!==T){b&&b.rewind(T.seg);continue}x?(_=T.seg.myFill.below===null||T.seg.myFill.above!==T.seg.myFill.below,T.seg.myFill.below=m?m.seg.myFill.above:r,T.seg.myFill.above=_?!T.seg.myFill.below:T.seg.myFill.below):T.seg.otherFill===null&&(w=m?T.primary===m.primary?m.seg.otherFill.above:m.seg.myFill.above:T.primary?o:r,T.seg.otherFill={above:w,below:w}),b&&b.status(T.seg,!!y&&y.seg,!!m&&m.seg),T.other.status=d.insert(v.node({ev:T}))}else{var p=T.status;if(p===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(l.exists(p.prev)&&l.exists(p.next)&&h(p.prev.ev,p.next.ev),b&&b.statusRemove(p.ev.seg),p.remove(),!T.primary){var L=T.seg.myFill;T.seg.myFill=T.seg.otherFill,T.seg.otherFill=L}f.push(T.seg)}c.getHead().remove()}return b&&b.done(),f}return x?{addRegion:function(r){for(var o,l,u,h=r[r.length-1],f=0;f<r.length;f++){o=h,h=r[f];var T=t.pointsCompare(o,h);T!==0&&n((l=T<0?o:h,u=T<0?h:o,{id:b?b.segmentId():-1,start:l,end:u,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(r){return a(r,!1)}}:{calculate:function(r,o,l,u){return r.forEach(function(h){n(g(h.start,h.end,h),!0)}),l.forEach(function(h){n(g(h.start,h.end,h),!1)}),a(o,u)}}}},48088:function(O){O.exports={create:function(){var S={root:{root:!0,next:null},exists:function(e){return e!==null&&e!==S.root},isEmpty:function(){return S.root.next===null},getHead:function(){return S.root.next},insertBefore:function(e,v){for(var x=S.root,t=S.root.next;t!==null;){if(v(t))return e.prev=t.prev,e.next=t,t.prev.next=e,void(t.prev=e);x=t,t=t.next}x.next=e,e.prev=x,e.next=null},findTransition:function(e){for(var v=S.root,x=S.root.next;x!==null&&!e(x);)v=x,x=x.next;return{before:v===S.root?null:v,after:x,insert:function(t){return t.prev=v,t.next=x,v.next=t,x!==null&&(x.prev=t),t}}}};return S},node:function(S){return S.prev=null,S.next=null,S.remove=function(){S.prev.next=S.next,S.next&&(S.next.prev=S.prev),S.prev=null,S.next=null},S}}},11403:function(O){O.exports=function(S,e,v){var x=[],t=[];return S.forEach(function(b){var g=b.start,c=b.end;if(e.pointsSame(g,c))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{v&&v.chainStart(b);for(var s={index:0,matches_head:!1,matches_pt1:!1},n={index:0,matches_head:!1,matches_pt1:!1},i=s,a=0;a<x.length;a++){var r=(f=x[a])[0],o=(f[1],f[f.length-1]);if(f[f.length-2],e.pointsSame(r,g)){if(p(a,!0,!0))break}else if(e.pointsSame(r,c)){if(p(a,!0,!1))break}else if(e.pointsSame(o,g)){if(p(a,!1,!0))break}else if(e.pointsSame(o,c)&&p(a,!1,!1))break}if(i===s)return x.push([g,c]),void(v&&v.chainNew(g,c));if(i===n){v&&v.chainMatch(s.index);var l=s.index,u=s.matches_pt1?c:g,h=s.matches_head,f=x[l],T=h?f[0]:f[f.length-1],d=h?f[1]:f[f.length-2],y=h?f[f.length-1]:f[0],m=h?f[f.length-2]:f[1];return e.pointsCollinear(d,T,u)&&(h?(v&&v.chainRemoveHead(s.index,u),f.shift()):(v&&v.chainRemoveTail(s.index,u),f.pop()),T=d),e.pointsSame(y,u)?(x.splice(l,1),e.pointsCollinear(m,y,T)&&(h?(v&&v.chainRemoveTail(s.index,T),f.pop()):(v&&v.chainRemoveHead(s.index,T),f.shift())),v&&v.chainClose(s.index),void t.push(f)):void(h?(v&&v.chainAddHead(s.index,u),f.unshift(u)):(v&&v.chainAddTail(s.index,u),f.push(u)))}var w=s.index,_=n.index;v&&v.chainConnect(w,_);var A=x[w].length<x[_].length;s.matches_head?n.matches_head?A?(L(w),M(w,_)):(L(_),M(_,w)):M(_,w):n.matches_head?M(w,_):A?(L(w),M(_,w)):(L(_),M(w,_))}function p(C,R,I){return i.index=C,i.matches_head=R,i.matches_pt1=I,i===s?(i=n,!1):(i=null,!0)}function L(C){v&&v.chainReverse(C),x[C].reverse()}function M(C,R){var I=x[C],D=x[R],F=I[I.length-1],q=I[I.length-2],z=D[0],V=D[1];e.pointsCollinear(q,F,z)&&(v&&v.chainRemoveTail(C,F),I.pop(),F=q),e.pointsCollinear(F,z,V)&&(v&&v.chainRemoveHead(R,z),D.shift()),v&&v.chainJoin(C,R),x[C]=I.concat(D),x.splice(R,1)}}),t}},82368:function(O){function S(v,x,t){var b=[];return v.forEach(function(g){var c=(g.myFill.above?8:0)+(g.myFill.below?4:0)+(g.otherFill&&g.otherFill.above?2:0)+(g.otherFill&&g.otherFill.below?1:0);x[c]!==0&&b.push({id:t?t.segmentId():-1,start:g.start,end:g.end,myFill:{above:x[c]===1,below:x[c]===2},otherFill:null})}),t&&t.selected(b),b}var e={union:function(v,x){return S(v,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],x)},intersect:function(v,x){return S(v,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],x)},difference:function(v,x){return S(v,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],x)},differenceRev:function(v,x){return S(v,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],x)},xor:function(v,x){return S(v,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],x)}};O.exports=e},9696:function(O,S,e){var v=e(29936).Transform,x=e(55619);function t(){v.call(this,{readableObjectMode:!0})}function b(g,c,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=g,c&&(this.code=c),s&&(this.statusCode=s)}t.prototype=Object.create(v.prototype),t.prototype.constructor=t,x(t.prototype),S.gS=function(g,c,s){for(var n=c,i=0;i<s.length;)if(g[n++]!==s[i++])return!1;return!0},S.wR=function(g,c){var s=[],n=0;if(c&&c==="hex")for(;n<g.length;)s.push(parseInt(g.slice(n,n+2),16)),n+=2;else for(;n<g.length;n++)s.push(255&g.charCodeAt(n));return s},S.Bz=function(g,c){return g[c]|g[c+1]<<8},S.eW=function(g,c){return g[c+1]|g[c]<<8},S.st=function(g,c){return g[c]|g[c+1]<<8|g[c+2]<<16|16777216*g[c+3]},S.eI=function(g,c){return g[c+3]|g[c+2]<<8|g[c+1]<<16|16777216*g[c]},b.prototype=Object.create(Error.prototype),b.prototype.constructor=b},11688:function(O){function S(x,t){var b=new Error(x);return b.code=t,b}function e(x){try{return decodeURIComponent(escape(x))}catch{return x}}function v(x,t,b){this.input=x.subarray(t,b),this.start=t;var g=String.fromCharCode.apply(null,this.input.subarray(0,4));if(g!=="II*\0"&&g!=="MM\0*")throw S("invalid TIFF signature","EBADDATA");this.big_endian=g[0]==="M"}v.prototype.each=function(x){this.aborted=!1;var t=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:t}];this.ifds_to_read.length>0&&!this.aborted;){var b=this.ifds_to_read.shift();b.offset&&this.scan_ifd(b.id,b.offset,x)}},v.prototype.read_uint16=function(x){var t=this.input;if(x+2>t.length)throw S("unexpected EOF","EBADDATA");return this.big_endian?256*t[x]+t[x+1]:t[x]+256*t[x+1]},v.prototype.read_uint32=function(x){var t=this.input;if(x+4>t.length)throw S("unexpected EOF","EBADDATA");return this.big_endian?16777216*t[x]+65536*t[x+1]+256*t[x+2]+t[x+3]:t[x]+256*t[x+1]+65536*t[x+2]+16777216*t[x+3]},v.prototype.is_subifd_link=function(x,t){return x===0&&t===34665||x===0&&t===34853||x===34665&&t===40965},v.prototype.exif_format_length=function(x){switch(x){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},v.prototype.exif_format_read=function(x,t){var b;switch(x){case 1:case 2:return this.input[t];case 6:return(b=this.input[t])|33554430*(128&b);case 3:return this.read_uint16(t);case 8:return(b=this.read_uint16(t))|131070*(32768&b);case 4:return this.read_uint32(t);case 9:return 0|this.read_uint32(t);default:return null}},v.prototype.scan_ifd=function(x,t,b){var g=this.read_uint16(t);t+=2;for(var c=0;c<g;c++){var s=this.read_uint16(t),n=this.read_uint16(t+2),i=this.read_uint32(t+4),a=this.exif_format_length(n),r=i*a,o=r<=4?t+8:this.read_uint32(t+8),l=!1;if(o+r>this.input.length)throw S("unexpected EOF","EBADDATA");for(var u=[],h=o,f=0;f<i;f++,h+=a){var T=this.exif_format_read(n,h);if(T===null){u=null;break}u.push(T)}if(Array.isArray(u)&&n===2&&(u=e(String.fromCharCode.apply(null,u)))&&u[u.length-1]==="\0"&&(u=u.slice(0,-1)),this.is_subifd_link(x,s)&&Array.isArray(u)&&Number.isInteger(u[0])&&u[0]>0&&(this.ifds_to_read.push({id:s,offset:u[0]}),l=!0),b({is_big_endian:this.big_endian,ifd:x,tag:s,format:n,count:i,entry_offset:t+this.start,data_length:r,data_offset:o+this.start,value:u,is_subifd_link:l})===!1)return void(this.aborted=!0);t+=12}x===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(t)})},O.exports.ExifParser=v,O.exports.get_orientation=function(x){var t=0;try{return new v(x,0,x.length).each(function(b){if(b.ifd===0&&b.tag===274&&Array.isArray(b.value))return t=b.value[0],!1}),t}catch{return-1}}},44600:function(O,S,e){var v=e(9696).eW,x=e(9696).eI;function t(i,a){if(i.length<4+a)return null;var r=x(i,a);return i.length<r+a||r<8?null:{boxtype:String.fromCharCode.apply(null,i.slice(a+4,a+8)),data:i.slice(a+8,a+r),end:a+r}}function b(i,a){for(var r=0;;){var o=t(i,r);if(!o)break;switch(o.boxtype){case"ispe":a.sizes.push({width:x(o.data,4),height:x(o.data,8)});break;case"irot":a.transforms.push({type:"irot",value:3&o.data[0]});break;case"imir":a.transforms.push({type:"imir",value:1&o.data[0]})}r=o.end}}function g(i,a,r){for(var o=0,l=0;l<r;l++)o=256*o+(i[a+l]||0);return o}function c(i,a){for(var r=i[4]>>4&15,o=15&i[4],l=i[5]>>4&15,u=v(i,6),h=8,f=0;f<u;f++){var T=v(i,h),d=v(i,h+=2),y=g(i,h+=2,l),m=v(i,h+=l);if(h+=2,d===0&&m===1){var w=g(i,h,r),_=g(i,h+r,o);a.item_loc[T]={length:_,offset:w+y}}h+=m*(r+o)}}function s(i,a){for(var r=v(i,4),o=6,l=0;l<r;l++){var u=t(i,o);if(!u)break;if(u.boxtype==="infe"){for(var h=v(u.data,4),f="",T=8;T<u.data.length&&u.data[T];T++)f+=String.fromCharCode(u.data[T]);a.item_inf[f]=h}o=u.end}}function n(i,a){for(var r=0;;){var o=t(i,r);if(!o)break;o.boxtype==="ipco"&&b(o.data,a),r=o.end}}O.exports.unbox=t,O.exports.readSizeFromMeta=function(i){var a={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(function(T,d){for(var y=4;;){var m=t(T,y);if(!m)break;m.boxtype==="iprp"&&n(m.data,d),m.boxtype==="iloc"&&c(m.data,d),m.boxtype==="iinf"&&s(m.data,d),y=m.end}}(i,a),a.sizes.length){var r,o,l,u=(o=(r=a.sizes).reduce(function(T,d){return T.width>d.width||T.width===d.width&&T.height>d.height?T:d}),l=r.reduce(function(T,d){return T.height>d.height||T.height===d.height&&T.width>d.width?T:d}),o.width>l.height||o.width===l.height&&o.height>l.width?o:l),h=1;a.transforms.forEach(function(T){var d={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},y={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(T.type==="imir"&&(h=T.value===0?y[h]:d[h=d[h=y[h]]]),T.type==="irot")for(var m=0;m<T.value;m++)h=d[h]});var f=null;return a.item_inf.Exif&&(f=a.item_loc[a.item_inf.Exif]),{width:u.width,height:u.height,orientation:a.transforms.length?h:null,variants:a.sizes,exif_location:f}}},O.exports.getMimeType=function(i){var a=String.fromCharCode.apply(null,i.slice(0,4)),r={};r[a]=!0;for(var o=8;o<i.length;o+=4)r[String.fromCharCode.apply(null,i.slice(o,o+4))]=!0;if(r.mif1||r.msf1||r.miaf)return a==="avif"||a==="avis"||a==="avio"?{type:"avif",mime:"image/avif"}:a==="heic"||a==="heix"?{type:"heic",mime:"image/heic"}:a==="hevc"||a==="hevx"?{type:"heic",mime:"image/heic-sequence"}:r.avif||r.avis?{type:"avif",mime:"image/avif"}:r.heic||r.heix||r.hevc||r.hevx||r.heis?r.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},40528:function(O,S,e){var v=e(9696).wR,x=e(9696).gS,t=e(9696).eI,b=e(44600),g=e(11688),c=v("ftyp");O.exports=function(s){if(x(s,4,c)){var n=b.unbox(s,0);if(n){var i=b.getMimeType(n.data);if(i){for(var a,r=n.end;;){var o=b.unbox(s,r);if(!o)break;if(r=o.end,o.boxtype==="mdat")return;if(o.boxtype==="meta"){a=o.data;break}}if(a){var l=b.readSizeFromMeta(a);if(l){var u={width:l.width,height:l.height,type:i.type,mime:i.mime,wUnits:"px",hUnits:"px"};if(l.variants.length>1&&(u.variants=l.variants),l.orientation&&(u.orientation=l.orientation),l.exif_location&&l.exif_location.offset+l.exif_location.length<=s.length){var h=t(s,l.exif_location.offset),f=s.slice(l.exif_location.offset+h+4,l.exif_location.offset+l.exif_location.length),T=g.get_orientation(f);T>0&&(u.orientation=T)}return u}}}}}}},38728:function(O,S,e){var v=e(9696).wR,x=e(9696).gS,t=e(9696).Bz,b=v("BM");O.exports=function(g){if(!(g.length<26)&&x(g,0,b))return{width:t(g,18),height:t(g,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},5588:function(O,S,e){var v=e(9696).wR,x=e(9696).gS,t=e(9696).Bz,b=v("GIF87a"),g=v("GIF89a");O.exports=function(c){if(!(c.length<10)&&(x(c,0,b)||x(c,0,g)))return{width:t(c,6),height:t(c,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},41924:function(O,S,e){var v=e(9696).Bz;O.exports=function(x){var t=v(x,0),b=v(x,2),g=v(x,4);if(t===0&&b===1&&g){for(var c=[],s={width:0,height:0},n=0;n<g;n++){var i=x[6+16*n]||256,a=x[6+16*n+1]||256,r={width:i,height:a};c.push(r),(i>s.width||a>s.height)&&(s=r)}return{width:s.width,height:s.height,variants:c,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},87968:function(O,S,e){var v=e(9696).eW,x=e(9696).wR,t=e(9696).gS,b=e(11688),g=x("Exif\0\0");O.exports=function(c){if(!(c.length<2)&&c[0]===255&&c[1]===216&&c[2]===255)for(var s=2;;){for(;;){if(c.length-s<2)return;if(c[s++]===255)break}for(var n,i,a=c[s++];a===255;)a=c[s++];if(208<=a&&a<=217||a===1)n=0;else{if(!(192<=a&&a<=254)||c.length-s<2)return;n=v(c,s)-2,s+=2}if(a===217||a===218)return;if(a===225&&n>=10&&t(c,s,g)&&(i=b.get_orientation(c.slice(s+6,s+n))),n>=5&&192<=a&&a<=207&&a!==196&&a!==200&&a!==204){if(c.length-s<n)return;var r={width:v(c,s+3),height:v(c,s+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return i>0&&(r.orientation=i),r}s+=n}}},37276:function(O,S,e){var v=e(9696).wR,x=e(9696).gS,t=e(9696).eI,b=v(`PNG\r

`),g=v("IHDR");O.exports=function(c){if(!(c.length<24)&&x(c,0,b)&&x(c,12,g))return{width:t(c,16),height:t(c,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},90328:function(O,S,e){var v=e(9696).wR,x=e(9696).gS,t=e(9696).eI,b=v("8BPS\0");O.exports=function(g){if(!(g.length<22)&&x(g,0,b))return{width:t(g,18),height:t(g,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},16024:function(O){function S(s){return typeof s=="number"&&isFinite(s)&&s>0}var e=/<[-_.:a-zA-Z0-9][^>]*>/,v=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,x=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,t=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,b=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,g=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function c(s){return g.test(s)?s.match(g)[0]:"px"}O.exports=function(s){if(function(y){var m,w=0,_=y.length;for(y[0]===239&&y[1]===187&&y[2]===191&&(w=3);w<_&&((m=y[w])===32||m===9||m===13||m===10);)w++;return w!==_&&y[w]===60}(s)){for(var n="",i=0;i<s.length;i++)n+=String.fromCharCode(s[i]);var a=(n.match(e)||[""])[0];if(v.test(a)){var r=function(y){var m=y.match(x),w=y.match(t),_=y.match(b);return{width:m&&(m[1]||m[2]),height:w&&(w[1]||w[2]),viewbox:_&&(_[1]||_[2])}}(a),o=parseFloat(r.width),l=parseFloat(r.height);if(r.width&&r.height)return!S(o)||!S(l)?void 0:{width:o,height:l,type:"svg",mime:"image/svg+xml",wUnits:c(r.width),hUnits:c(r.height)};var u=(r.viewbox||"").split(" "),h={width:u[2],height:u[3]},f=parseFloat(h.width),T=parseFloat(h.height);if(S(f)&&S(T)&&c(h.width)===c(h.height)){var d=f/T;return r.width?S(o)?{width:o,height:o/d,type:"svg",mime:"image/svg+xml",wUnits:c(r.width),hUnits:c(r.width)}:void 0:r.height?S(l)?{width:l*d,height:l,type:"svg",mime:"image/svg+xml",wUnits:c(r.height),hUnits:c(r.height)}:void 0:{width:f,height:T,type:"svg",mime:"image/svg+xml",wUnits:c(h.width),hUnits:c(h.height)}}}}}},98792:function(O,S,e){var v=e(9696).wR,x=e(9696).gS,t=e(9696).Bz,b=e(9696).eW,g=e(9696).st,c=e(9696).eI,s=v("II*\0"),n=v("MM\0*");function i(o,l,u){return u?b(o,l):t(o,l)}function a(o,l,u){return u?c(o,l):g(o,l)}function r(o,l,u){var h=i(o,l+2,u);return a(o,l+4,u)!==1||h!==3&&h!==4?null:h===3?i(o,l+8,u):a(o,l+8,u)}O.exports=function(o){if(!(o.length<8)&&(x(o,0,s)||x(o,0,n))){var l=o[0]===77,u=a(o,4,l)-8;if(!(u<0)){var h=u+8;if(!(o.length-h<2)){var f=12*i(o,h+0,l);if(!(f<=0||(h+=2,o.length-h<f))){var T,d,y,m;for(T=0;T<f;T+=12)(m=i(o,h+T,l))===256?d=r(o,h+T,l):m===257&&(y=r(o,h+T,l));return d&&y?{width:d,height:y,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}:void 0}}}}}},20704:function(O,S,e){var v=e(9696).wR,x=e(9696).gS,t=e(9696).Bz,b=e(9696).st,g=e(11688),c=v("RIFF"),s=v("WEBP");function n(r,o){if(r[o+3]===157&&r[o+4]===1&&r[o+5]===42)return{width:16383&t(r,o+6),height:16383&t(r,o+8),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function i(r,o){if(r[o]===47){var l=b(r,o+1);return{width:1+(16383&l),height:1+(l>>14&16383),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function a(r,o){return{width:1+(r[o+6]<<16|r[o+5]<<8|r[o+4]),height:1+(r[o+9]<<o|r[o+8]<<8|r[o+7]),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}O.exports=function(r){if(!(r.length<16)&&(x(r,0,c)||x(r,8,s))){var o=12,l=null,u=0,h=b(r,4)+8;if(!(h>r.length)){for(;o+8<h;)if(r[o]!==0){var f=String.fromCharCode.apply(null,r.slice(o,o+4)),T=b(r,o+4);f==="VP8 "&&T>=10?l=l||n(r,o+8):f==="VP8L"&&T>=9?l=l||i(r,o+8):f==="VP8X"&&T>=10?l=l||a(r,o+8):f==="EXIF"&&(u=g.get_orientation(r.slice(o+8,o+8+T)),o=1/0),o+=8+T}else o++;if(l)return u>0&&(l.orientation=u),l}}}},87480:function(O,S,e){O.exports={avif:e(40528),bmp:e(38728),gif:e(5588),ico:e(41924),jpeg:e(87968),png:e(37276),psd:e(90328),svg:e(16024),tiff:e(98792),webp:e(20704)}},19480:function(O,S,e){var v=e(87480);O.exports=function(x){return function(t){for(var b=Object.keys(v),g=0;g<b.length;g++){var c=v[b[g]](t);if(c)return c}return null}(x)},O.exports.parsers=v},4168:function(O){var S,e,v=O.exports={};function x(){throw new Error("setTimeout has not been defined")}function t(){throw new Error("clearTimeout has not been defined")}function b(l){if(S===setTimeout)return setTimeout(l,0);if((S===x||!S)&&setTimeout)return S=setTimeout,setTimeout(l,0);try{return S(l,0)}catch{try{return S.call(null,l,0)}catch{return S.call(this,l,0)}}}(function(){try{S=typeof setTimeout=="function"?setTimeout:x}catch{S=x}try{e=typeof clearTimeout=="function"?clearTimeout:t}catch{e=t}})();var g,c=[],s=!1,n=-1;function i(){s&&g&&(s=!1,g.length?c=g.concat(c):n=-1,c.length&&a())}function a(){if(!s){var l=b(i);s=!0;for(var u=c.length;u;){for(g=c,c=[];++n<u;)g&&g[n].run();n=-1,u=c.length}g=null,s=!1,function(h){if(e===clearTimeout)return clearTimeout(h);if((e===t||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(h);try{return e(h)}catch{try{return e.call(null,h)}catch{return e.call(this,h)}}}(l)}}function r(l,u){this.fun=l,this.array=u}function o(){}v.nextTick=function(l){var u=new Array(arguments.length-1);if(arguments.length>1)for(var h=1;h<arguments.length;h++)u[h-1]=arguments[h];c.push(new r(l,u)),c.length!==1||s||b(a)},r.prototype.run=function(){this.fun.apply(null,this.array)},v.title="browser",v.browser=!0,v.env={},v.argv=[],v.version="",v.versions={},v.on=o,v.addListener=o,v.once=o,v.off=o,v.removeListener=o,v.removeAllListeners=o,v.emit=o,v.prependListener=o,v.prependOnceListener=o,v.listeners=function(l){return[]},v.binding=function(l){throw new Error("process.binding is not supported")},v.cwd=function(){return"/"},v.chdir=function(l){throw new Error("process.chdir is not supported")},v.umask=function(){return 0}},3951:function(O,S,e){for(var v=e(41984),x=typeof window>"u"?e.g:window,t=["moz","webkit"],b="AnimationFrame",g=x["request"+b],c=x["cancel"+b]||x["cancelRequest"+b],s=0;!g&&s<t.length;s++)g=x[t[s]+"Request"+b],c=x[t[s]+"Cancel"+b]||x[t[s]+"CancelRequest"+b];if(!g||!c){var n=0,i=0,a=[];g=function(r){if(a.length===0){var o=v(),l=Math.max(0,16.666666666666668-(o-n));n=l+o,setTimeout(function(){var u=a.slice(0);a.length=0;for(var h=0;h<u.length;h++)if(!u[h].cancelled)try{u[h].callback(n)}catch(f){setTimeout(function(){throw f},0)}},Math.round(l))}return a.push({handle:++i,callback:r,cancelled:!1}),i},c=function(r){for(var o=0;o<a.length;o++)a[o].handle===r&&(a[o].cancelled=!0)}}O.exports=function(r){return g.call(x,r)},O.exports.cancel=function(){c.apply(x,arguments)},O.exports.polyfill=function(r){r||(r=x),r.requestAnimationFrame=g,r.cancelAnimationFrame=c}},24544:function(O,S,e){var v=e(76752),x=e(72160),t=e(45223),b=e(55616),g=e(50896),c=e(47520),s=e(37816),n=s.float32,i=s.fract32;O.exports=function(r,o){if(typeof r=="function"?(o||(o={}),o.regl=r):o=r,o.length&&(o.positions=o),!(r=o.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var l,u,h,f,T,d,y=r._gl,m={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},w=[];return f=r.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),u=r.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),h=r.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),T=r.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),d=r.buffer({usage:"static",type:"float",data:a}),L(o),l=r({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:r.prop("range"),lineWidth:r.prop("lineWidth"),capSize:r.prop("capSize"),opacity:r.prop("opacity"),scale:r.prop("scale"),translate:r.prop("translate"),scaleFract:r.prop("scaleFract"),translateFract:r.prop("translateFract"),viewport:function(C,R){return[R.viewport.x,R.viewport.y,C.viewportWidth,C.viewportHeight]}},attributes:{color:{buffer:f,offset:function(C,R){return 4*R.offset},divisor:1},position:{buffer:u,offset:function(C,R){return 8*R.offset},divisor:1},positionFract:{buffer:h,offset:function(C,R){return 8*R.offset},divisor:1},error:{buffer:T,offset:function(C,R){return 16*R.offset},divisor:1},direction:{buffer:d,stride:24,offset:0},lineOffset:{buffer:d,stride:24,offset:8},capOffset:{buffer:d,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:r.prop("viewport")},viewport:r.prop("viewport"),stencil:!1,instances:r.prop("count"),count:a.length}),g(_,{update:L,draw:A,destroy:M,regl:r,gl:y,canvas:y.canvas,groups:w}),_;function _(C){C?L(C):C===null&&M(),A()}function A(C){if(typeof C=="number")return p(C);C&&!Array.isArray(C)&&(C=[C]),r._refresh(),w.forEach(function(R,I){R&&(C&&(C[I]?R.draw=!0:R.draw=!1),R.draw?p(I):R.draw=!0)})}function p(C){typeof C=="number"&&(C=w[C]),C!=null&&C&&C.count&&C.color&&C.opacity&&C.positions&&C.positions.length>1&&(C.scaleRatio=[C.scale[0]*C.viewport.width,C.scale[1]*C.viewport.height],l(C),C.after&&C.after(C))}function L(C){if(C){C.length!=null?typeof C[0]=="number"&&(C=[{positions:C}]):Array.isArray(C)||(C=[C]);var R=0,I=0;if(_.groups=w=C.map(function(j,H){var G=w[H];return j&&(typeof j=="function"?j={after:j}:typeof j[0]=="number"&&(j={positions:j}),j=b(j,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),G||(w[H]=G={id:H,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},j=g({},m,j)),t(G,j,[{lineWidth:function(ie){return .5*+ie},capSize:function(ie){return .5*+ie},opacity:parseFloat,errors:function(ie){return ie=c(ie),I+=ie.length,ie},positions:function(ie,re){return ie=c(ie,"float64"),re.count=Math.floor(ie.length/2),re.bounds=v(ie,2),re.offset=R,R+=re.count,ie}},{color:function(ie,re){var te=re.count;if(ie||(ie="transparent"),!Array.isArray(ie)||typeof ie[0]=="number"){var K=ie;ie=Array(te);for(var J=0;J<te;J++)ie[J]=K}if(ie.length<te)throw Error("Not enough colors");for(var $=new Uint8Array(4*te),ae=0;ae<te;ae++){var ue=x(ie[ae],"uint8");$.set(ue,4*ae)}return $},range:function(ie,re,te){var K=re.bounds;return ie||(ie=K),re.scale=[1/(ie[2]-ie[0]),1/(ie[3]-ie[1])],re.translate=[-ie[0],-ie[1]],re.scaleFract=i(re.scale),re.translateFract=i(re.translate),ie},viewport:function(ie){var re;return Array.isArray(ie)?re={x:ie[0],y:ie[1],width:ie[2]-ie[0],height:ie[3]-ie[1]}:ie?(re={x:ie.x||ie.left||0,y:ie.y||ie.top||0},ie.right?re.width=ie.right-re.x:re.width=ie.w||ie.width||0,ie.bottom?re.height=ie.bottom-re.y:re.height=ie.h||ie.height||0):re={x:0,y:0,width:y.drawingBufferWidth,height:y.drawingBufferHeight},re}}])),G}),R||I){var D=w.reduce(function(j,H,G){return j+(H?H.count:0)},0),F=new Float64Array(2*D),q=new Uint8Array(4*D),z=new Float32Array(4*D);w.forEach(function(j,H){if(j){var G=j.positions,ie=j.count,re=j.offset,te=j.color,K=j.errors;ie&&(q.set(te,4*re),z.set(K,4*re),F.set(G,2*re))}});var V=n(F);u(V);var X=i(F,V);h(X),f(q),T(z)}}}function M(){u.destroy(),h.destroy(),f.destroy(),T.destroy(),d.destroy()}};var a=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]]},13472:function(O,S,e){var v=e(72160),x=e(76752),t=e(50896),b=e(55616),g=e(47520),c=e(28912),s=e(71152),n=e(37816),i=n.float32,a=n.fract32,r=e(60463),o=e(51160),l=e(10272);function u(h,f){if(!(this instanceof u))return new u(h,f);if(typeof h=="function"?(f||(f={}),f.regl=h):f=h,f.length&&(f.positions=f),!(h=f.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=h._gl,this.regl=h,this.passes=[],this.shaders=u.shaders.has(h)?u.shaders.get(h):u.shaders.set(h,u.createShaders(h)).get(h),this.update(f)}O.exports=u,u.dashMult=2,u.maxPatternLength=256,u.precisionThreshold=3e6,u.maxPoints=1e4,u.maxLines=2048,u.shaders=new r,u.createShaders=function(h){var f,T=h.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),d={primitive:"triangle strip",instances:h.prop("count"),count:4,offset:0,uniforms:{miterMode:function(m,w){return w.join==="round"?2:1},miterLimit:h.prop("miterLimit"),scale:h.prop("scale"),scaleFract:h.prop("scaleFract"),translateFract:h.prop("translateFract"),translate:h.prop("translate"),thickness:h.prop("thickness"),dashTexture:h.prop("dashTexture"),opacity:h.prop("opacity"),pixelRatio:h.context("pixelRatio"),id:h.prop("id"),dashLength:h.prop("dashLength"),viewport:function(m,w){return[w.viewport.x,w.viewport.y,m.viewportWidth,m.viewportHeight]},depth:h.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(m,w){return!w.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:h.prop("viewport")},viewport:h.prop("viewport")},y=h(t({vert:`
precision highp float;

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`,frag:`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,attributes:{lineEnd:{buffer:T,divisor:0,stride:8,offset:0},lineTop:{buffer:T,divisor:0,stride:8,offset:4},aCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:h.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},d));try{f=h(t({cull:{enable:!0,face:"back"},vert:`
precision highp float;

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);


	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`,frag:`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,attributes:{lineEnd:{buffer:T,divisor:0,stride:8,offset:0},lineTop:{buffer:T,divisor:0,stride:8,offset:4},aColor:{buffer:h.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:h.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},d))}catch{f=y}return{fill:h({primitive:"triangle",elements:function(m,w){return w.triangles},offset:0,vert:`
precision highp float;

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`,frag:`
precision highp float;
varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`,uniforms:{scale:h.prop("scale"),color:h.prop("fill"),scaleFract:h.prop("scaleFract"),translateFract:h.prop("translateFract"),translate:h.prop("translate"),opacity:h.prop("opacity"),pixelRatio:h.context("pixelRatio"),id:h.prop("id"),viewport:function(m,w){return[w.viewport.x,w.viewport.y,m.viewportWidth,m.viewportHeight]}},attributes:{position:{buffer:h.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:8}},blend:d.blend,depth:{enable:!1},scissor:d.scissor,stencil:d.stencil,viewport:d.viewport}),rect:y,miter:f}},u.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},u.prototype.render=function(){for(var h,f=[],T=arguments.length;T--;)f[T]=arguments[T];f.length&&(h=this).update.apply(h,f),this.draw()},u.prototype.draw=function(){for(var h=this,f=[],T=arguments.length;T--;)f[T]=arguments[T];return(f.length?f:this.passes).forEach(function(d,y){var m;if(d&&Array.isArray(d))return(m=h).draw.apply(m,d);typeof d=="number"&&(d=h.passes[d]),d&&d.count>1&&d.opacity&&(h.regl._refresh(),d.fill&&d.triangles&&d.triangles.length>2&&h.shaders.fill(d),d.thickness&&(d.scale[0]*d.viewport.width>u.precisionThreshold||d.scale[1]*d.viewport.height>u.precisionThreshold||d.join==="rect"||!d.join&&(d.thickness<=2||d.count>=u.maxPoints)?h.shaders.rect(d):h.shaders.miter(d)))}),this},u.prototype.update=function(h){var f=this;if(h){h.length!=null?typeof h[0]=="number"&&(h=[{positions:h}]):Array.isArray(h)||(h=[h]);var T=this.regl,d=this.gl;if(h.forEach(function(A,p){var L=f.passes[p];if(A!==void 0)if(A!==null){if(typeof A[0]=="number"&&(A={positions:A}),A=b(A,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),L||(f.passes[p]=L={id:p,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:T.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:T.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:T.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:T.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},A=t({},u.defaults,A)),A.thickness!=null&&(L.thickness=parseFloat(A.thickness)),A.opacity!=null&&(L.opacity=parseFloat(A.opacity)),A.miterLimit!=null&&(L.miterLimit=parseFloat(A.miterLimit)),A.overlay!=null&&(L.overlay=!!A.overlay,p<u.maxLines&&(L.depth=2*(u.maxLines-1-p%u.maxLines)/u.maxLines-1)),A.join!=null&&(L.join=A.join),A.hole!=null&&(L.hole=A.hole),A.fill!=null&&(L.fill=A.fill?v(A.fill,"uint8"):null),A.viewport!=null&&(L.viewport=o(A.viewport)),L.viewport||(L.viewport=o([d.drawingBufferWidth,d.drawingBufferHeight])),A.close!=null&&(L.close=A.close),A.positions===null&&(A.positions=[]),A.positions){var M,C;if(A.positions.x&&A.positions.y){var R=A.positions.x,I=A.positions.y;C=L.count=Math.max(R.length,I.length),M=new Float64Array(2*C);for(var D=0;D<C;D++)M[2*D]=R[D],M[2*D+1]=I[D]}else M=g(A.positions,"float64"),C=L.count=Math.floor(M.length/2);var F=L.bounds=x(M,2);if(L.fill){for(var q=[],z={},V=0,X=0,j=0,H=L.count;X<H;X++){var G=M[2*X],ie=M[2*X+1];isNaN(G)||isNaN(ie)||G==null||ie==null?(G=M[2*V],ie=M[2*V+1],z[X]=V):V=X,q[j++]=G,q[j++]=ie}if(A.splitNull){L.count-1 in z||(z[L.count]=L.count-1);var re=Object.keys(z).map(Number).sort(function(_t,mt){return _t-mt}),te=[],K=0,J=L.hole!=null?L.hole[0]:null;if(J!=null){var $=l(re,function(_t){return _t>=J});(re=re.slice(0,$)).push(J)}for(var ae=function(_t){var mt=q.slice(2*K,2*re[_t]).concat(J?q.slice(2*J):[]),it=(L.hole||[]).map(function(Et){return Et-J+(re[_t]-K)}),nt=c(mt,it);nt=nt.map(function(Et){return Et+K+(Et+K<re[_t]?0:J-re[_t])}),te.push.apply(te,nt),K=re[_t]+1},ue=0;ue<re.length;ue++)ae(ue);for(var ce=0,de=te.length;ce<de;ce++)z[te[ce]]!=null&&(te[ce]=z[te[ce]]);L.triangles=te}else{for(var pe=c(q,L.hole||[]),me=0,be=pe.length;me<be;me++)z[pe[me]]!=null&&(pe[me]=z[pe[me]]);L.triangles=pe}}var we=new Float64Array(M);s(we,2,F);var Te=new Float64Array(2*C+6);L.close?M[0]===M[2*C-2]&&M[1]===M[2*C-1]?(Te[0]=we[2*C-4],Te[1]=we[2*C-3]):(Te[0]=we[2*C-2],Te[1]=we[2*C-1]):(Te[0]=we[0],Te[1]=we[1]),Te.set(we,2),L.close?M[0]===M[2*C-2]&&M[1]===M[2*C-1]?(Te[2*C+2]=we[2],Te[2*C+3]=we[3],L.count-=1):(Te[2*C+2]=we[0],Te[2*C+3]=we[1],Te[2*C+4]=we[2],Te[2*C+5]=we[3]):(Te[2*C+2]=we[2*C-2],Te[2*C+3]=we[2*C-1],Te[2*C+4]=we[2*C-2],Te[2*C+5]=we[2*C-1]);var Le=i(Te);L.positionBuffer(Le);var Ie=a(Te,Le);L.positionFractBuffer(Ie)}if(A.range?L.range=A.range:L.range||(L.range=L.bounds),(A.range||A.positions)&&L.count){var _e=L.bounds,fe=_e[2]-_e[0],le=_e[3]-_e[1],ye=L.range[2]-L.range[0],Oe=L.range[3]-L.range[1];L.scale=[fe/ye,le/Oe],L.translate=[-L.range[0]/ye+_e[0]/ye||0,-L.range[1]/Oe+_e[1]/Oe||0],L.scaleFract=a(L.scale),L.translateFract=a(L.translate)}if(A.dashes){var Ae,Se=0;if(!A.dashes||A.dashes.length<2)Se=1,Ae=new Uint8Array([255,255,255,255,255,255,255,255]);else{Se=0;for(var Pe=0;Pe<A.dashes.length;++Pe)Se+=A.dashes[Pe];Ae=new Uint8Array(Se*u.dashMult);for(var Fe=0,Be=255,xe=0;xe<2;xe++)for(var Me=0;Me<A.dashes.length;++Me){for(var Ce=0,Ne=A.dashes[Me]*u.dashMult*.5;Ce<Ne;++Ce)Ae[Fe++]=Be;Be^=255}}L.dashLength=Se,L.dashTexture({channels:1,data:Ae,width:Ae.length,height:1,mag:"linear",min:"linear"},0,0)}if(A.color){var Re=L.count,He=A.color;He||(He="transparent");var Ye=new Uint8Array(4*Re+4);if(Array.isArray(He)&&typeof He[0]!="number"){for(var Qe=0;Qe<Re;Qe++){var lt=v(He[Qe],"uint8");Ye.set(lt,4*Qe)}Ye.set(v(He[0],"uint8"),4*Re)}else for(var ut=v(He,"uint8"),xt=0;xt<Re+1;xt++)Ye.set(ut,4*xt);L.colorBuffer({usage:"dynamic",type:"uint8",data:Ye})}}else f.passes[p]=null}),h.length<this.passes.length){for(var y=h.length;y<this.passes.length;y++){var m=this.passes[y];m&&(m.colorBuffer.destroy(),m.positionBuffer.destroy(),m.dashTexture.destroy())}this.passes.length=h.length}for(var w=[],_=0;_<this.passes.length;_++)this.passes[_]!==null&&w.push(this.passes[_]);return this.passes=w,this}},u.prototype.destroy=function(){return this.passes.forEach(function(h){h.colorBuffer.destroy(),h.positionBuffer.destroy(),h.dashTexture.destroy()}),this.passes.length=0,this}},38540:function(O,S,e){function v(y,m){return function(w){if(Array.isArray(w))return w}(y)||function(w,_){var A=w==null?null:typeof Symbol<"u"&&w[Symbol.iterator]||w["@@iterator"];if(A!=null){var p,L,M,C,R=[],I=!0,D=!1;try{if(M=(A=A.call(w)).next,_!==0)for(;!(I=(p=M.call(A)).done)&&(R.push(p.value),R.length!==_);I=!0);}catch(F){D=!0,L=F}finally{try{if(!I&&A.return!=null&&(C=A.return(),Object(C)!==C))return}finally{if(D)throw L}}return R}}(y,m)||x(y,m)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function x(y,m){if(y){if(typeof y=="string")return t(y,m);var w=Object.prototype.toString.call(y).slice(8,-1);return w==="Object"&&y.constructor&&(w=y.constructor.name),w==="Map"||w==="Set"?Array.from(y):w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w)?t(y,m):void 0}}function t(y,m){(m==null||m>y.length)&&(m=y.length);for(var w=0,_=new Array(m);w<m;w++)_[w]=y[w];return _}var b=e(72160),g=e(76752),c=e(3808),s=e(3108),n=e(50896),i=e(26444),a=e(55616),r=e(45223),o=e(47520),l=e(96604),u=e(37816),h=e(51160),f=T;function T(y,m){var w=this;if(!(this instanceof T))return new T(y,m);typeof y=="function"?(m||(m={}),m.regl=y):(m=y,y=null),m&&m.length&&(m.positions=m);var _,A=(y=m.regl)._gl,p=[];this.tooManyColors=l,_=y.texture({data:new Uint8Array(1020),width:255,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),n(this,{regl:y,gl:A,groups:[],markerCache:[null],markerTextures:[null],palette:p,paletteIds:{},paletteTexture:_,maxColors:255,maxSize:100,canvas:A.canvas}),this.update(m);var L={uniforms:{constPointSize:!!m.constPointSize,opacity:y.prop("opacity"),paletteSize:function(R,I){return[w.tooManyColors?0:255,_.height]},pixelRatio:y.context("pixelRatio"),scale:y.prop("scale"),scaleFract:y.prop("scaleFract"),translate:y.prop("translate"),translateFract:y.prop("translateFract"),markerTexture:y.prop("markerTexture"),paletteTexture:_},attributes:{x:function(R,I){return I.xAttr||{buffer:I.positionBuffer,stride:8,offset:0}},y:function(R,I){return I.yAttr||{buffer:I.positionBuffer,stride:8,offset:4}},xFract:function(R,I){return I.xAttr?{constant:[0,0]}:{buffer:I.positionFractBuffer,stride:8,offset:0}},yFract:function(R,I){return I.yAttr?{constant:[0,0]}:{buffer:I.positionFractBuffer,stride:8,offset:4}},size:function(R,I){return I.size.length?{buffer:I.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(255*I.size/w.maxSize)]}},borderSize:function(R,I){return I.borderSize.length?{buffer:I.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(255*I.borderSize/w.maxSize)]}},colorId:function(R,I){return I.color.length?{buffer:I.colorBuffer,stride:w.tooManyColors?8:4,offset:0}:{constant:w.tooManyColors?p.slice(4*I.color,4*I.color+4):[I.color]}},borderColorId:function(R,I){return I.borderColor.length?{buffer:I.colorBuffer,stride:w.tooManyColors?8:4,offset:w.tooManyColors?4:2}:{constant:w.tooManyColors?p.slice(4*I.borderColor,4*I.borderColor+4):[I.borderColor]}},isActive:function(R,I){return I.activation===!0?{constant:[1]}:I.activation?I.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:y.prop("viewport")},viewport:y.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:y.prop("elements"),count:y.prop("count"),offset:y.prop("offset"),primitive:"points"},M=n({},L);M.frag=i([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),M.vert=i([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=y(M);var C=n({},L);C.frag=i([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),C.vert=i([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),l&&(C.frag=C.frag.replace("smoothstep","smoothStep"),M.frag=M.frag.replace("smoothstep","smoothStep")),this.drawCircle=y(C)}T.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},T.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},T.prototype.draw=function(){for(var y=this,m=arguments.length,w=new Array(m),_=0;_<m;_++)w[_]=arguments[_];var A=this.groups;if(w.length===1&&Array.isArray(w[0])&&(w[0][0]===null||Array.isArray(w[0][0]))&&(w=w[0]),this.regl._refresh(),w.length)for(var p=0;p<w.length;p++)this.drawItem(p,w[p]);else A.forEach(function(L,M){y.drawItem(M)});return this},T.prototype.drawItem=function(y,m){var w,_=this.groups,A=_[y];if(typeof m=="number"&&(y=m,A=_[m],m=null),A&&A.count&&A.opacity){A.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,A,m));for(var p=[],L=1;L<A.activation.length;L++)A.activation[L]&&(A.activation[L]===!0||A.activation[L].data.length)&&p.push.apply(p,function(M){if(Array.isArray(M))return t(M)}(w=this.getMarkerDrawOptions(L,A,m))||function(M){if(typeof Symbol<"u"&&M[Symbol.iterator]!=null||M["@@iterator"]!=null)return Array.from(M)}(w)||x(w)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}());p.length&&this.drawMarker(p)}},T.prototype.getMarkerDrawOptions=function(y,m,w){var _=m.range,A=m.tree,p=m.viewport,L=m.activation,M=m.selectionBuffer,C=m.count;if(this.regl,!A)return w?[n({},m,{markerTexture:this.markerTextures[y],activation:L[y],count:w.length,elements:w,offset:0})]:[n({},m,{markerTexture:this.markerTextures[y],activation:L[y],offset:0})];var R=[],I=A.range(_,{lod:!0,px:[(_[2]-_[0])/p.width,(_[3]-_[1])/p.height]});if(w){for(var D=L[y].data,F=new Uint8Array(C),q=0;q<w.length;q++){var z=w[q];F[z]=D?D[z]:1}M.subdata(F)}for(var V=I.length;V--;){var X=v(I[V],2),j=X[0],H=X[1];R.push(n({},m,{markerTexture:this.markerTextures[y],activation:w?M:L[y],offset:j,count:H-j}))}return R},T.prototype.update=function(){for(var y=this,m=arguments.length,w=new Array(m),_=0;_<m;_++)w[_]=arguments[_];if(w.length){w.length===1&&Array.isArray(w[0])&&(w=w[0]);var A=this.groups,p=this.gl,L=this.regl,M=this.maxSize,C=this.maxColors,R=this.palette;this.groups=A=w.map(function(I,D){var F=A[D];if(I===void 0)return F;I===null?I={positions:null}:typeof I=="function"?I={ondraw:I}:typeof I[0]=="number"&&(I={positions:I}),(I=a(I,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"})).positions===null&&(I.positions=[]),I.tooManyColors!=null&&(y.tooManyColors=I.tooManyColors),F||(A[D]=F={id:D,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:L.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:L.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:L.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:L.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:L.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},I=n({},T.defaults,I)),I.positions&&!("marker"in I)&&(I.marker=F.marker,delete F.marker),I.marker&&!("positions"in I)&&(I.positions=F.positions,delete F.positions);var q=0,z=0;if(r(F,I,[{snap:!0,size:function(be,we){return be==null&&(be=T.defaults.size),q+=be&&be.length?1:0,be},borderSize:function(be,we){return be==null&&(be=T.defaults.borderSize),q+=be&&be.length?1:0,be},opacity:parseFloat,color:function(be,we){return be==null&&(be=T.defaults.color),be=y.updateColor(be),z++,be},borderColor:function(be,we){return be==null&&(be=T.defaults.borderColor),be=y.updateColor(be),z++,be},bounds:function(be,we,Te){return"range"in Te||(Te.range=null),be},positions:function(be,we,Te){var Le=we.snap,Ie=we.positionBuffer,_e=we.positionFractBuffer,fe=we.selectionBuffer;if(be.x||be.y)return be.x.length?we.xAttr={buffer:L.buffer(be.x),offset:0,stride:4,count:be.x.length}:we.xAttr={buffer:be.x.buffer,offset:4*be.x.offset||0,stride:4*(be.x.stride||1),count:be.x.count},be.y.length?we.yAttr={buffer:L.buffer(be.y),offset:0,stride:4,count:be.y.length}:we.yAttr={buffer:be.y.buffer,offset:4*be.y.offset||0,stride:4*(be.y.stride||1),count:be.y.count},we.count=Math.max(we.xAttr.count,we.yAttr.count),be;be=o(be,"float64");var le=we.count=Math.floor(be.length/2),ye=we.bounds=le?g(be,2):null;if(Te.range||we.range||(delete we.range,Te.range=ye),Te.marker||we.marker||(delete we.marker,Te.marker=null),Le&&(Le===!0||le>Le)?we.tree=s(be,{bounds:ye}):Le&&Le.length&&(we.tree=Le),we.tree){var Oe={primitive:"points",usage:"static",data:we.tree,type:"uint32"};we.elements?we.elements(Oe):we.elements=L.elements(Oe)}var Ae=u.float32(be);return Ie({data:Ae,usage:"dynamic"}),_e({data:u.fract32(be,Ae),usage:"dynamic"}),fe({data:new Uint8Array(le),type:"uint8",usage:"stream"}),be}},{marker:function(be,we,Te){var Le=we.activation;if(Le.forEach(function(Ae){return Ae&&Ae.destroy&&Ae.destroy()}),Le.length=0,be&&typeof be[0]!="number"){for(var Ie=[],_e=0,fe=Math.min(be.length,we.count);_e<fe;_e++){var le=y.addMarker(be[_e]);Ie[le]||(Ie[le]=new Uint8Array(we.count)),Ie[le][_e]=1}for(var ye=0;ye<Ie.length;ye++)if(Ie[ye]){var Oe={data:Ie[ye],type:"uint8",usage:"static"};Le[ye]?Le[ye](Oe):Le[ye]=L.buffer(Oe),Le[ye].data=Ie[ye]}}else Le[y.addMarker(be)]=!0;return be},range:function(be,we,Te){var Le=we.bounds;if(Le)return be||(be=Le),we.scale=[1/(be[2]-be[0]),1/(be[3]-be[1])],we.translate=[-be[0],-be[1]],we.scaleFract=u.fract(we.scale),we.translateFract=u.fract(we.translate),be},viewport:function(be){return h(be||[p.drawingBufferWidth,p.drawingBufferHeight])}}]),q){var V=F,X=V.count,j=V.size,H=V.borderSize,G=V.sizeBuffer,ie=new Uint8Array(2*X);if(j.length||H.length)for(var re=0;re<X;re++)ie[2*re]=Math.round(255*(j[re]==null?j:j[re])/M),ie[2*re+1]=Math.round(255*(H[re]==null?H:H[re])/M);G({data:ie,usage:"dynamic"})}if(z){var te,K=F,J=K.count,$=K.color,ae=K.borderColor,ue=K.colorBuffer;if(y.tooManyColors){if($.length||ae.length){te=new Uint8Array(8*J);for(var ce=0;ce<J;ce++){var de=$[ce];te[8*ce]=R[4*de],te[8*ce+1]=R[4*de+1],te[8*ce+2]=R[4*de+2],te[8*ce+3]=R[4*de+3];var pe=ae[ce];te[8*ce+4]=R[4*pe],te[8*ce+5]=R[4*pe+1],te[8*ce+6]=R[4*pe+2],te[8*ce+7]=R[4*pe+3]}}}else if($.length||ae.length){te=new Uint8Array(4*J+2);for(var me=0;me<J;me++)$[me]!=null&&(te[4*me]=$[me]%C,te[4*me+1]=Math.floor($[me]/C)),ae[me]!=null&&(te[4*me+2]=ae[me]%C,te[4*me+3]=Math.floor(ae[me]/C))}ue({data:te||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return F})}},T.prototype.addMarker=function(y){var m,w=this.markerTextures,_=this.regl,A=this.markerCache,p=y==null?0:A.indexOf(y);if(p>=0)return p;if(y instanceof Uint8Array||y instanceof Uint8ClampedArray)m=y;else{m=new Uint8Array(y.length);for(var L=0,M=y.length;L<M;L++)m[L]=255*y[L]}var C=Math.floor(Math.sqrt(m.length));return p=w.length,A.push(y),w.push(_.texture({channels:1,data:m,radius:C,mag:"linear",min:"linear"})),p},T.prototype.updateColor=function(y){var m=this.paletteIds,w=this.palette,_=this.maxColors;Array.isArray(y)||(y=[y]);var A=[];if(typeof y[0]=="number"){var p=[];if(Array.isArray(y))for(var L=0;L<y.length;L+=4)p.push(y.slice(L,L+4));else for(var M=0;M<y.length;M+=4)p.push(y.subarray(M,M+4));y=p}for(var C=0;C<y.length;C++){var R=y[C];R=b(R,"uint8");var I=c(R,!1);if(m[I]==null){var D=w.length;m[I]=Math.floor(D/4),w[D]=R[0],w[D+1]=R[1],w[D+2]=R[2],w[D+3]=R[3]}A[C]=m[I]}return!this.tooManyColors&&w.length>4*_&&(this.tooManyColors=!0),this.updatePalette(w),A.length===1?A[0]:A},T.prototype.updatePalette=function(y){if(!this.tooManyColors){var m=this.maxColors,w=this.paletteTexture,_=Math.ceil(.25*y.length/m);if(_>1)for(var A=.25*(y=y.slice()).length%m;A<_*m;A++)y.push(0,0,0,0);w.height<_&&w.resize(m,_),w.subimage({width:Math.min(.25*y.length,m),height:_,data:y},0,0)}},T.prototype.destroy=function(){return this.groups.forEach(function(y){y.sizeBuffer.destroy(),y.positionBuffer.destroy(),y.positionFractBuffer.destroy(),y.colorBuffer.destroy(),y.activation.forEach(function(m){return m&&m.destroy&&m.destroy()}),y.selectionBuffer.destroy(),y.elements&&y.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(y){return y&&y.destroy&&y.destroy()}),this};var d=e(50896);O.exports=function(y,m){var w=new f(y,m),_=w.render.bind(w);return d(_,{render:_,update:w.update.bind(w),draw:w.draw.bind(w),destroy:w.destroy.bind(w),regl:w.regl,gl:w.gl,canvas:w.gl.canvas,groups:w.groups,markers:w.markerCache,palette:w.palette}),_}},55795:function(O,S,e){var v=e(38540),x=e(55616),t=e(76752),b=e(3951),g=e(67752),c=e(51160),s=e(47520);function n(o,l){if(!(this instanceof n))return new n(o);this.traces=[],this.passes={},this.regl=o,this.scatter=v(o),this.canvas=this.scatter.canvas}function i(o,l,u){return(o.id!=null?o.id:o)<<16|(255&l)<<8|255&u}function a(o,l,u){var h,f,T,d,y=o[l],m=o[u];return y.length>2?(y[0],y[2],h=y[1],f=y[3]):y.length?(h=y[0],f=y[1]):(y.x,h=y.y,y.x,y.width,f=y.y+y.height),m.length>2?(T=m[0],d=m[2],m[1],m[3]):m.length?(T=m[0],d=m[1]):(T=m.x,m.y,d=m.x+m.width,m.y,m.height),[T,h,d,f]}function r(o){if(typeof o=="number")return[o,o,o,o];if(o.length===2)return[o[0],o[1],o[0],o[1]];var l=c(o);return[l.x,l.y,l.x+l.width,l.y+l.height]}O.exports=n,n.prototype.render=function(){for(var o,l=this,u=[],h=arguments.length;h--;)u[h]=arguments[h];return u.length&&(o=this).update.apply(o,u),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=b(function(){l.draw(),l.dirty=!0,l.planned=null})):(this.draw(),this.dirty=!0,b(function(){l.dirty=!1})),this)},n.prototype.update=function(){for(var o,l=[],u=arguments.length;u--;)l[u]=arguments[u];if(l.length){for(var h=0;h<l.length;h++)this.updateItem(h,l[h]);this.traces=this.traces.filter(Boolean);for(var f=[],T=0,d=0;d<this.traces.length;d++){for(var y=this.traces[d],m=this.traces[d].passes,w=0;w<m.length;w++)f.push(this.passes[m[w]]);y.passOffset=T,T+=y.passes.length}return(o=this.scatter).update.apply(o,f),this}},n.prototype.updateItem=function(o,l){var u=this.regl;if(l===null)return this.traces[o]=null,this;if(!l)return this;var h,f=x(l,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),T=this.traces[o]||(this.traces[o]={id:o,buffer:u.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:c([u._gl.drawingBufferWidth,u._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(f.color!=null&&(T.color=f.color),f.size!=null&&(T.size=f.size),f.marker!=null&&(T.marker=f.marker),f.borderColor!=null&&(T.borderColor=f.borderColor),f.borderSize!=null&&(T.borderSize=f.borderSize),f.opacity!=null&&(T.opacity=f.opacity),f.viewport&&(T.viewport=c(f.viewport)),f.diagonal!=null&&(T.diagonal=f.diagonal),f.upper!=null&&(T.upper=f.upper),f.lower!=null&&(T.lower=f.lower),f.data){T.buffer(s(f.data)),T.columns=f.data.length,T.count=f.data[0].length,T.bounds=[];for(var d=0;d<T.columns;d++)T.bounds[d]=t(f.data[d],1)}f.range&&(T.range=f.range,h=T.range&&typeof T.range[0]!="number"),f.domain&&(T.domain=f.domain);var y=!1;f.padding!=null&&(Array.isArray(f.padding)&&f.padding.length===T.columns&&typeof f.padding[f.padding.length-1]=="number"?(T.padding=f.padding.map(r),y=!0):T.padding=r(f.padding));var m=T.columns,w=T.count,_=T.viewport.width,A=T.viewport.height,p=T.viewport.x,L=T.viewport.y,M=_/m,C=A/m;T.passes=[];for(var R=0;R<m;R++)for(var I=0;I<m;I++)if((T.diagonal||I!==R)&&(T.upper||!(R>I))&&(T.lower||!(R<I))){var D=i(T.id,R,I),F=this.passes[D]||(this.passes[D]={});if(f.data&&(f.transpose?F.positions={x:{buffer:T.buffer,offset:I,count:w,stride:m},y:{buffer:T.buffer,offset:R,count:w,stride:m}}:F.positions={x:{buffer:T.buffer,offset:I*w,count:w},y:{buffer:T.buffer,offset:R*w,count:w}},F.bounds=a(T.bounds,R,I)),f.domain||f.viewport||f.data){var q=y?a(T.padding,R,I):T.padding;if(T.domain){var z=a(T.domain,R,I),V=z[0],X=z[1],j=z[2],H=z[3];F.viewport=[p+V*_+q[0],L+X*A+q[1],p+j*_-q[2],L+H*A-q[3]]}else F.viewport=[p+I*M+M*q[0],L+R*C+C*q[1],p+(I+1)*M-M*q[2],L+(R+1)*C-C*q[3]]}f.color&&(F.color=T.color),f.size&&(F.size=T.size),f.marker&&(F.marker=T.marker),f.borderSize&&(F.borderSize=T.borderSize),f.borderColor&&(F.borderColor=T.borderColor),f.opacity&&(F.opacity=T.opacity),f.range&&(F.range=h?a(T.range,R,I):T.range||F.bounds),T.passes.push(D)}return this},n.prototype.draw=function(){for(var o,l=[],u=arguments.length;u--;)l[u]=arguments[u];if(l.length){for(var h=[],f=0;f<l.length;f++)if(typeof l[f]=="number"){var T=this.traces[l[f]],d=T.passes,y=T.passOffset;h.push.apply(h,g(y,y+d.length))}else if(l[f].length){var m=l[f],w=this.traces[f],_=w.passes,A=w.passOffset;_=_.map(function(p,L){h[A+L]=m})}(o=this.scatter).draw.apply(o,h)}else this.scatter.draw();return this},n.prototype.destroy=function(){return this.traces.forEach(function(o){o.buffer&&o.buffer.destroy&&o.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this}},28624:function(O){O.exports=function(){function S(qe,Ke){this.id=ae++,this.type=qe,this.data=Ke}function e(qe){if(qe.length===0)return[];var Ke=qe.charAt(0),ft=qe.charAt(qe.length-1);if(1<qe.length&&Ke===ft&&(Ke==='"'||Ke==="'"))return['"'+qe.substr(1,qe.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Ke=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(qe))return e(qe.substr(0,Ke.index)).concat(e(Ke[1])).concat(e(qe.substr(Ke.index+Ke[0].length)));if((Ke=qe.split(".")).length===1)return['"'+qe.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(qe=[],ft=0;ft<Ke.length;++ft)qe=qe.concat(e(Ke[ft]));return qe}function v(qe){return"["+e(qe).join("][")+"]"}function x(qe){return typeof qe=="string"?qe.split():qe}function t(qe){return typeof qe=="string"?document.querySelector(qe):qe}function b(qe){var Ke,ft,ot,Ue,Ve=qe||{};qe={};var st=[],Xe=[],gt=typeof window>"u"?1:window.devicePixelRatio,yt=!1,bt={},dt=function(wt){},Lt=function(){};if(typeof Ve=="string"?Ke=document.querySelector(Ve):typeof Ve=="object"&&(typeof Ve.nodeName=="string"&&typeof Ve.appendChild=="function"&&typeof Ve.getBoundingClientRect=="function"?Ke=Ve:typeof Ve.drawArrays=="function"||typeof Ve.drawElements=="function"?ot=(Ue=Ve).canvas:("gl"in Ve?Ue=Ve.gl:"canvas"in Ve?ot=t(Ve.canvas):"container"in Ve&&(ft=t(Ve.container)),"attributes"in Ve&&(qe=Ve.attributes),"extensions"in Ve&&(st=x(Ve.extensions)),"optionalExtensions"in Ve&&(Xe=x(Ve.optionalExtensions)),"onDone"in Ve&&(dt=Ve.onDone),"profile"in Ve&&(yt=!!Ve.profile),"pixelRatio"in Ve&&(gt=+Ve.pixelRatio),"cachedCode"in Ve&&(bt=Ve.cachedCode))),Ke&&(Ke.nodeName.toLowerCase()==="canvas"?ot=Ke:ft=Ke),!Ue){if(!ot){if(!(Ke=function(wt,Ct,Rt){function Dt(){var un=window.innerWidth,qt=window.innerHeight;wt!==document.body&&(un=(qt=Xt.getBoundingClientRect()).right-qt.left,qt=qt.bottom-qt.top),Xt.width=Rt*un,Xt.height=Rt*qt}var Nt,Xt=document.createElement("canvas");return $(Xt.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),wt.appendChild(Xt),wt===document.body&&(Xt.style.position="absolute",$(wt.style,{margin:0,padding:0})),wt!==document.body&&typeof ResizeObserver=="function"?(Nt=new ResizeObserver(function(){setTimeout(Dt)})).observe(wt):window.addEventListener("resize",Dt,!1),Dt(),{canvas:Xt,onDestroy:function(){Nt?Nt.disconnect():window.removeEventListener("resize",Dt),wt.removeChild(Xt)}}}(ft||document.body,0,gt)))return null;ot=Ke.canvas,Lt=Ke.onDestroy}qe.premultipliedAlpha===void 0&&(qe.premultipliedAlpha=!0),Ue=function(wt,Ct){function Rt(Dt){try{return wt.getContext(Dt,Ct)}catch{return null}}return Rt("webgl")||Rt("experimental-webgl")||Rt("webgl-experimental")}(ot,qe)}return Ue?{gl:Ue,canvas:ot,container:ft,extensions:st,optionalExtensions:Xe,pixelRatio:gt,profile:yt,cachedCode:bt,onDone:dt,onDestroy:Lt}:(Lt(),dt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function g(qe,Ke){for(var ft=Array(qe),ot=0;ot<qe;++ot)ft[ot]=Ke(ot);return ft}function c(qe){var Ke,ft;return Ke=(65535<qe)<<4,Ke|=ft=(255<(qe>>>=Ke))<<3,(Ke|=ft=(15<(qe>>>=ft))<<2)|(ft=(3<(qe>>>=ft))<<1)|qe>>>ft>>1}function s(){function qe(ot){e:{for(var Ue=16;268435456>=Ue;Ue*=16)if(ot<=Ue){ot=Ue;break e}ot=0}return 0<(Ue=ft[c(ot)>>2]).length?Ue.pop():new ArrayBuffer(ot)}function Ke(ot){ft[c(ot.byteLength)>>2].push(ot)}var ft=g(8,function(){return[]});return{alloc:qe,free:Ke,allocType:function(ot,Ue){var Ve=null;switch(ot){case 5120:Ve=new Int8Array(qe(Ue),0,Ue);break;case 5121:Ve=new Uint8Array(qe(Ue),0,Ue);break;case 5122:Ve=new Int16Array(qe(2*Ue),0,Ue);break;case 5123:Ve=new Uint16Array(qe(2*Ue),0,Ue);break;case 5124:Ve=new Int32Array(qe(4*Ue),0,Ue);break;case 5125:Ve=new Uint32Array(qe(4*Ue),0,Ue);break;case 5126:Ve=new Float32Array(qe(4*Ue),0,Ue);break;default:return null}return Ve.length!==Ue?Ve.subarray(0,Ue):Ve},freeType:function(ot){Ke(ot.buffer)}}}function n(qe){return!!qe&&typeof qe=="object"&&Array.isArray(qe.shape)&&Array.isArray(qe.stride)&&typeof qe.offset=="number"&&qe.shape.length===qe.stride.length&&(Array.isArray(qe.data)||be(qe.data))}function i(qe,Ke,ft,ot,Ue,Ve){for(var st=0;st<Ke;++st)for(var Xe=qe[st],gt=0;gt<ft;++gt)for(var yt=Xe[gt],bt=0;bt<ot;++bt)Ue[Ve++]=yt[bt]}function a(qe,Ke,ft,ot,Ue){for(var Ve=1,st=ft+1;st<Ke.length;++st)Ve*=Ke[st];var Xe=Ke[ft];if(Ke.length-ft==4){var gt=Ke[ft+1],yt=Ke[ft+2];for(Ke=Ke[ft+3],st=0;st<Xe;++st)i(qe[st],gt,yt,Ke,ot,Ue),Ue+=Ve}else for(st=0;st<Xe;++st)a(qe[st],Ke,ft+1,ot,Ue),Ue+=Ve}function r(qe){return 0|Le[Object.prototype.toString.call(qe)]}function o(qe,Ke){for(var ft=0;ft<Ke.length;++ft)qe[ft]=Ke[ft]}function l(qe,Ke,ft,ot,Ue,Ve,st){for(var Xe=0,gt=0;gt<ft;++gt)for(var yt=0;yt<ot;++yt)qe[Xe++]=Ke[Ue*gt+Ve*yt+st]}function u(qe,Ke,ft,ot){function Ue(dt){this.id=gt++,this.buffer=qe.createBuffer(),this.type=dt,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,ft.profile&&(this.stats={size:0})}function Ve(dt,Lt,wt){dt.byteLength=Lt.byteLength,qe.bufferData(dt.type,Lt,wt)}function st(dt,Lt,wt,Ct,Rt,Dt){if(dt.usage=wt,Array.isArray(Lt)){if(dt.dtype=Ct||5126,0<Lt.length)if(Array.isArray(Lt[0])){Rt=le(Lt);for(var Nt=Ct=1;Nt<Rt.length;++Nt)Ct*=Rt[Nt];dt.dimension=Ct,Ve(dt,Lt=fe(Lt,Rt,dt.dtype),wt),Dt?dt.persistentData=Lt:pe.freeType(Lt)}else typeof Lt[0]=="number"?(dt.dimension=Rt,o(Rt=pe.allocType(dt.dtype,Lt.length),Lt),Ve(dt,Rt,wt),Dt?dt.persistentData=Rt:pe.freeType(Rt)):be(Lt[0])&&(dt.dimension=Lt[0].length,dt.dtype=Ct||r(Lt[0])||5126,Ve(dt,Lt=fe(Lt,[Lt.length,Lt[0].length],dt.dtype),wt),Dt?dt.persistentData=Lt:pe.freeType(Lt))}else if(be(Lt))dt.dtype=Ct||r(Lt),dt.dimension=Rt,Ve(dt,Lt,wt),Dt&&(dt.persistentData=new Uint8Array(new Uint8Array(Lt.buffer)));else if(n(Lt)){Rt=Lt.shape;var Xt=Lt.stride,un=(Nt=Lt.offset,0),qt=0,Kt=0,Ut=0;Rt.length===1?(un=Rt[0],qt=1,Kt=Xt[0],Ut=0):Rt.length===2&&(un=Rt[0],qt=Rt[1],Kt=Xt[0],Ut=Xt[1]),dt.dtype=Ct||r(Lt.data)||5126,dt.dimension=qt,l(Rt=pe.allocType(dt.dtype,un*qt),Lt.data,un,qt,Kt,Ut,Nt),Ve(dt,Rt,wt),Dt?dt.persistentData=Rt:pe.freeType(Rt)}else Lt instanceof ArrayBuffer&&(dt.dtype=5121,dt.dimension=Rt,Ve(dt,Lt,wt),Dt&&(dt.persistentData=new Uint8Array(new Uint8Array(Lt))))}function Xe(dt){Ke.bufferCount--,ot(dt),qe.deleteBuffer(dt.buffer),dt.buffer=null,delete yt[dt.id]}var gt=0,yt={};Ue.prototype.bind=function(){qe.bindBuffer(this.type,this.buffer)},Ue.prototype.destroy=function(){Xe(this)};var bt=[];return ft.profile&&(Ke.getTotalBufferSize=function(){var dt=0;return Object.keys(yt).forEach(function(Lt){dt+=yt[Lt].stats.size}),dt}),{create:function(dt,Lt,wt,Ct){function Rt(Nt){var Xt=35044,un=null,qt=0,Kt=0,Ut=1;return Array.isArray(Nt)||be(Nt)||n(Nt)||Nt instanceof ArrayBuffer?un=Nt:typeof Nt=="number"?qt=0|Nt:Nt&&("data"in Nt&&(un=Nt.data),"usage"in Nt&&(Xt=_e[Nt.usage]),"type"in Nt&&(Kt=Ie[Nt.type]),"dimension"in Nt&&(Ut=0|Nt.dimension),"length"in Nt&&(qt=0|Nt.length)),Dt.bind(),un?st(Dt,un,Xt,Kt,Ut,Ct):(qt&&qe.bufferData(Dt.type,qt,Xt),Dt.dtype=Kt||5121,Dt.usage=Xt,Dt.dimension=Ut,Dt.byteLength=qt),ft.profile&&(Dt.stats.size=Dt.byteLength*ye[Dt.dtype]),Rt}Ke.bufferCount++;var Dt=new Ue(Lt);return yt[Dt.id]=Dt,wt||Rt(dt),Rt._reglType="buffer",Rt._buffer=Dt,Rt.subdata=function(Nt,Xt){var un,qt=0|(Xt||0);if(Dt.bind(),be(Nt)||Nt instanceof ArrayBuffer)qe.bufferSubData(Dt.type,qt,Nt);else if(Array.isArray(Nt)){if(0<Nt.length)if(typeof Nt[0]=="number"){var Kt=pe.allocType(Dt.dtype,Nt.length);o(Kt,Nt),qe.bufferSubData(Dt.type,qt,Kt),pe.freeType(Kt)}else(Array.isArray(Nt[0])||be(Nt[0]))&&(un=le(Nt),Kt=fe(Nt,un,Dt.dtype),qe.bufferSubData(Dt.type,qt,Kt),pe.freeType(Kt))}else if(n(Nt)){un=Nt.shape;var Ut=Nt.stride,Rn=Kt=0,An=0,mn=0;un.length===1?(Kt=un[0],Rn=1,An=Ut[0],mn=0):un.length===2&&(Kt=un[0],Rn=un[1],An=Ut[0],mn=Ut[1]),un=Array.isArray(Nt.data)?Dt.dtype:r(Nt.data),l(un=pe.allocType(un,Kt*Rn),Nt.data,Kt,Rn,An,mn,Nt.offset),qe.bufferSubData(Dt.type,qt,un),pe.freeType(un)}return Rt},ft.profile&&(Rt.stats=Dt.stats),Rt.destroy=function(){Xe(Dt)},Rt},createStream:function(dt,Lt){var wt=bt.pop();return wt||(wt=new Ue(dt)),wt.bind(),st(wt,Lt,35040,0,1,!1),wt},destroyStream:function(dt){bt.push(dt)},clear:function(){we(yt).forEach(Xe),bt.forEach(Xe)},getBuffer:function(dt){return dt&&dt._buffer instanceof Ue?dt._buffer:null},restore:function(){we(yt).forEach(function(dt){dt.buffer=qe.createBuffer(),qe.bindBuffer(dt.type,dt.buffer),qe.bufferData(dt.type,dt.persistentData||dt.byteLength,dt.usage)})},_initBuffer:st}}function h(qe,Ke,ft,ot){function Ue(dt){this.id=gt++,Xe[this.id]=this,this.buffer=dt,this.primType=4,this.type=this.vertCount=0}function Ve(dt,Lt,wt,Ct,Rt,Dt,Nt){var Xt;if(dt.buffer.bind(),Lt?((Xt=Nt)||be(Lt)&&(!n(Lt)||be(Lt.data))||(Xt=Ke.oes_element_index_uint?5125:5123),ft._initBuffer(dt.buffer,Lt,wt,Xt,3)):(qe.bufferData(34963,Dt,wt),dt.buffer.dtype=Xt||5121,dt.buffer.usage=wt,dt.buffer.dimension=3,dt.buffer.byteLength=Dt),Xt=Nt,!Nt){switch(dt.buffer.dtype){case 5121:case 5120:Xt=5121;break;case 5123:case 5122:Xt=5123;break;case 5125:case 5124:Xt=5125}dt.buffer.dtype=Xt}dt.type=Xt,0>(Lt=Rt)&&(Lt=dt.buffer.byteLength,Xt===5123?Lt>>=1:Xt===5125&&(Lt>>=2)),dt.vertCount=Lt,Lt=Ct,0>Ct&&(Lt=4,(Ct=dt.buffer.dimension)===1&&(Lt=0),Ct===2&&(Lt=1),Ct===3&&(Lt=4)),dt.primType=Lt}function st(dt){ot.elementsCount--,delete Xe[dt.id],dt.buffer.destroy(),dt.buffer=null}var Xe={},gt=0,yt={uint8:5121,uint16:5123};Ke.oes_element_index_uint&&(yt.uint32=5125),Ue.prototype.bind=function(){this.buffer.bind()};var bt=[];return{create:function(dt,Lt){function wt(Dt){if(Dt)if(typeof Dt=="number")Ct(Dt),Rt.primType=4,Rt.vertCount=0|Dt,Rt.type=5121;else{var Nt=null,Xt=35044,un=-1,qt=-1,Kt=0,Ut=0;Array.isArray(Dt)||be(Dt)||n(Dt)?Nt=Dt:("data"in Dt&&(Nt=Dt.data),"usage"in Dt&&(Xt=_e[Dt.usage]),"primitive"in Dt&&(un=Oe[Dt.primitive]),"count"in Dt&&(qt=0|Dt.count),"type"in Dt&&(Ut=yt[Dt.type]),"length"in Dt?Kt=0|Dt.length:(Kt=qt,Ut===5123||Ut===5122?Kt*=2:Ut!==5125&&Ut!==5124||(Kt*=4))),Ve(Rt,Nt,Xt,un,qt,Kt,Ut)}else Ct(),Rt.primType=4,Rt.vertCount=0,Rt.type=5121;return wt}var Ct=ft.create(null,34963,!0),Rt=new Ue(Ct._buffer);return ot.elementsCount++,wt(dt),wt._reglType="elements",wt._elements=Rt,wt.subdata=function(Dt,Nt){return Ct.subdata(Dt,Nt),wt},wt.destroy=function(){st(Rt)},wt},createStream:function(dt){var Lt=bt.pop();return Lt||(Lt=new Ue(ft.create(null,34963,!0,!1)._buffer)),Ve(Lt,dt,35040,-1,-1,0,0),Lt},destroyStream:function(dt){bt.push(dt)},getElements:function(dt){return typeof dt=="function"&&dt._elements instanceof Ue?dt._elements:null},clear:function(){we(Xe).forEach(st)}}}function f(qe){for(var Ke=pe.allocType(5123,qe.length),ft=0;ft<qe.length;++ft)if(isNaN(qe[ft]))Ke[ft]=65535;else if(qe[ft]===1/0)Ke[ft]=31744;else if(qe[ft]===-1/0)Ke[ft]=64512;else{Ae[0]=qe[ft];var ot=(Ve=Se[0])>>>31<<15,Ue=(Ve<<1>>>24)-127,Ve=Ve>>13&1023;Ke[ft]=-24>Ue?ot:-14>Ue?ot+(Ve+1024>>-14-Ue):15<Ue?ot+31744:ot+(Ue+15<<10)+Ve}return Ke}function T(qe){return Array.isArray(qe)||be(qe)}function d(qe){return"[object "+qe+"]"}function y(qe){return Array.isArray(qe)&&(qe.length===0||typeof qe[0]=="number")}function m(qe){return!(!Array.isArray(qe)||qe.length===0||!T(qe[0]))}function w(qe){return Object.prototype.toString.call(qe)}function _(qe){if(!qe)return!1;var Ke=w(qe);return 0<=Ye.indexOf(Ke)||y(qe)||m(qe)||n(qe)}function A(qe,Ke){qe.type===36193?(qe.data=f(Ke),pe.freeType(Ke)):qe.data=Ke}function p(qe,Ke,ft,ot,Ue,Ve){if(qe=lt[qe]!==void 0?lt[qe]:Be[qe]*Qe[Ke],Ve&&(qe*=6),Ue){for(ot=0;1<=ft;)ot+=qe*ft*ft,ft/=2;return ot}return qe*ft*ot}function L(qe,Ke,ft,ot,Ue,Ve,st){function Xe(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function gt(Qt,xn){Qt.internalformat=xn.internalformat,Qt.format=xn.format,Qt.type=xn.type,Qt.compressed=xn.compressed,Qt.premultiplyAlpha=xn.premultiplyAlpha,Qt.flipY=xn.flipY,Qt.unpackAlignment=xn.unpackAlignment,Qt.colorSpace=xn.colorSpace,Qt.width=xn.width,Qt.height=xn.height,Qt.channels=xn.channels}function yt(Qt,xn){if(typeof xn=="object"&&xn){"premultiplyAlpha"in xn&&(Qt.premultiplyAlpha=xn.premultiplyAlpha),"flipY"in xn&&(Qt.flipY=xn.flipY),"alignment"in xn&&(Qt.unpackAlignment=xn.alignment),"colorSpace"in xn&&(Qt.colorSpace=On[xn.colorSpace]),"type"in xn&&(Qt.type=En[xn.type]);var At=Qt.width,Wt=Qt.height,en=Qt.channels,dn=!1;"shape"in xn?(At=xn.shape[0],Wt=xn.shape[1],xn.shape.length===3&&(en=xn.shape[2],dn=!0)):("radius"in xn&&(At=Wt=xn.radius),"width"in xn&&(At=xn.width),"height"in xn&&(Wt=xn.height),"channels"in xn&&(en=xn.channels,dn=!0)),Qt.width=0|At,Qt.height=0|Wt,Qt.channels=0|en,At=!1,"format"in xn&&(At=xn.format,Wt=Qt.internalformat=Vn[At],Qt.format=In[Wt],At in En&&!("type"in xn)&&(Qt.type=En[At]),At in Bn&&(Qt.compressed=!0),At=!0),!dn&&At?Qt.channels=Be[Qt.format]:dn&&!At&&Qt.channels!==Fe[Qt.format]&&(Qt.format=Qt.internalformat=Fe[Qt.channels])}}function bt(Qt){qe.pixelStorei(37440,Qt.flipY),qe.pixelStorei(37441,Qt.premultiplyAlpha),qe.pixelStorei(37443,Qt.colorSpace),qe.pixelStorei(3317,Qt.unpackAlignment)}function dt(){Xe.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Lt(Qt,xn){var At=null;if(_(xn)?At=xn:xn&&(yt(Qt,xn),"x"in xn&&(Qt.xOffset=0|xn.x),"y"in xn&&(Qt.yOffset=0|xn.y),_(xn.data)&&(At=xn.data)),xn.copy){var Wt=Ue.viewportWidth,en=Ue.viewportHeight;Qt.width=Qt.width||Wt-Qt.xOffset,Qt.height=Qt.height||en-Qt.yOffset,Qt.needsCopy=!0}else if(At){if(be(At))Qt.channels=Qt.channels||4,Qt.data=At,"type"in xn||Qt.type!==5121||(Qt.type=0|Le[Object.prototype.toString.call(At)]);else if(y(At)){switch(Qt.channels=Qt.channels||4,en=(Wt=At).length,Qt.type){case 5121:case 5123:case 5125:case 5126:(en=pe.allocType(Qt.type,en)).set(Wt),Qt.data=en;break;case 36193:Qt.data=f(Wt)}Qt.alignment=1,Qt.needsFree=!0}else if(n(At)){Wt=At.data,Array.isArray(Wt)||Qt.type!==5121||(Qt.type=0|Le[Object.prototype.toString.call(Wt)]),en=At.shape;var dn,gn,_n,on,Yt=At.stride;en.length===3?(_n=en[2],on=Yt[2]):on=_n=1,dn=en[0],gn=en[1],en=Yt[0],Yt=Yt[1],Qt.alignment=1,Qt.width=dn,Qt.height=gn,Qt.channels=_n,Qt.format=Qt.internalformat=Fe[_n],Qt.needsFree=!0,dn=on,At=At.offset,_n=Qt.width,on=Qt.height,gn=Qt.channels;for(var Zt=pe.allocType(Qt.type===36193?5126:Qt.type,_n*on*gn),sn=0,hn=0;hn<on;++hn)for(var Sn=0;Sn<_n;++Sn)for(var Cn=0;Cn<gn;++Cn)Zt[sn++]=Wt[en*Sn+Yt*hn+dn*Cn+At];A(Qt,Zt)}else if(w(At)===xe||w(At)===Me||w(At)===Ce)w(At)===xe||w(At)===Me?Qt.element=At:Qt.element=At.canvas,Qt.width=Qt.element.width,Qt.height=Qt.element.height,Qt.channels=4;else if(w(At)===Ne)Qt.element=At,Qt.width=At.width,Qt.height=At.height,Qt.channels=4;else if(w(At)===Re)Qt.element=At,Qt.width=At.naturalWidth,Qt.height=At.naturalHeight,Qt.channels=4;else if(w(At)===He)Qt.element=At,Qt.width=At.videoWidth,Qt.height=At.videoHeight,Qt.channels=4;else if(m(At)){for(Wt=Qt.width||At[0].length,en=Qt.height||At.length,Yt=Qt.channels,Yt=T(At[0][0])?Yt||At[0][0].length:Yt||1,dn=Te.shape(At),_n=1,on=0;on<dn.length;++on)_n*=dn[on];_n=pe.allocType(Qt.type===36193?5126:Qt.type,_n),Te.flatten(At,dn,"",_n),A(Qt,_n),Qt.alignment=1,Qt.width=Wt,Qt.height=en,Qt.channels=Yt,Qt.format=Qt.internalformat=Fe[Yt],Qt.needsFree=!0}}else Qt.width=Qt.width||1,Qt.height=Qt.height||1,Qt.channels=Qt.channels||4}function wt(Qt,xn,At,Wt,en){var dn=Qt.element,gn=Qt.data,_n=Qt.internalformat,on=Qt.format,Yt=Qt.type,Zt=Qt.width,sn=Qt.height;bt(Qt),dn?qe.texSubImage2D(xn,en,At,Wt,on,Yt,dn):Qt.compressed?qe.compressedTexSubImage2D(xn,en,At,Wt,_n,Zt,sn,gn):Qt.needsCopy?(ot(),qe.copyTexSubImage2D(xn,en,At,Wt,Qt.xOffset,Qt.yOffset,Zt,sn)):qe.texSubImage2D(xn,en,At,Wt,Zt,sn,on,Yt,gn)}function Ct(){return yn.pop()||new dt}function Rt(Qt){Qt.needsFree&&pe.freeType(Qt.data),dt.call(Qt),yn.push(Qt)}function Dt(){Xe.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Nt(Qt,xn,At){var Wt=Qt.images[0]=Ct();Qt.mipmask=1,Wt.width=Qt.width=xn,Wt.height=Qt.height=At,Wt.channels=Qt.channels=4}function Xt(Qt,xn){var At=null;if(_(xn))gt(At=Qt.images[0]=Ct(),Qt),Lt(At,xn),Qt.mipmask=1;else if(yt(Qt,xn),Array.isArray(xn.mipmap))for(var Wt=xn.mipmap,en=0;en<Wt.length;++en)gt(At=Qt.images[en]=Ct(),Qt),At.width>>=en,At.height>>=en,Lt(At,Wt[en]),Qt.mipmask|=1<<en;else gt(At=Qt.images[0]=Ct(),Qt),Lt(At,xn),Qt.mipmask=1;gt(Qt,Qt.images[0])}function un(Qt,xn){for(var At=Qt.images,Wt=0;Wt<At.length&&At[Wt];++Wt){var en=At[Wt],dn=xn,gn=Wt,_n=en.element,on=en.data,Yt=en.internalformat,Zt=en.format,sn=en.type,hn=en.width,Sn=en.height;bt(en),_n?qe.texImage2D(dn,gn,Zt,Zt,sn,_n):en.compressed?qe.compressedTexImage2D(dn,gn,Yt,hn,Sn,0,on):en.needsCopy?(ot(),qe.copyTexImage2D(dn,gn,Zt,en.xOffset,en.yOffset,hn,Sn,0)):qe.texImage2D(dn,gn,Zt,hn,Sn,0,Zt,sn,on||null)}}function qt(){var Qt=Dn.pop()||new Dt;Xe.call(Qt);for(var xn=Qt.mipmask=0;16>xn;++xn)Qt.images[xn]=null;return Qt}function Kt(Qt){for(var xn=Qt.images,At=0;At<xn.length;++At)xn[At]&&Rt(xn[At]),xn[At]=null;Dn.push(Qt)}function Ut(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function Rn(Qt,xn){"min"in xn&&(Qt.minFilter=Pn[xn.min],0<=Pe.indexOf(Qt.minFilter)&&!("faces"in xn)&&(Qt.genMipmaps=!0)),"mag"in xn&&(Qt.magFilter=kn[xn.mag]);var At=Qt.wrapS,Wt=Qt.wrapT;if("wrap"in xn){var en=xn.wrap;typeof en=="string"?At=Wt=wn[en]:Array.isArray(en)&&(At=wn[en[0]],Wt=wn[en[1]])}else"wrapS"in xn&&(At=wn[xn.wrapS]),"wrapT"in xn&&(Wt=wn[xn.wrapT]);if(Qt.wrapS=At,Qt.wrapT=Wt,"anisotropic"in xn&&(Qt.anisotropic=xn.anisotropic),"mipmap"in xn){switch(At=!1,typeof xn.mipmap){case"string":Qt.mipmapHint=pn[xn.mipmap],At=Qt.genMipmaps=!0;break;case"boolean":At=Qt.genMipmaps=xn.mipmap;break;case"object":Qt.genMipmaps=!1,At=!0}!At||"min"in xn||(Qt.minFilter=9984)}}function An(Qt,xn){qe.texParameteri(xn,10241,Qt.minFilter),qe.texParameteri(xn,10240,Qt.magFilter),qe.texParameteri(xn,10242,Qt.wrapS),qe.texParameteri(xn,10243,Qt.wrapT),Ke.ext_texture_filter_anisotropic&&qe.texParameteri(xn,34046,Qt.anisotropic),Qt.genMipmaps&&(qe.hint(33170,Qt.mipmapHint),qe.generateMipmap(xn))}function mn(Qt){Xe.call(this),this.mipmask=0,this.internalformat=6408,this.id=$n++,this.refCount=1,this.target=Qt,this.texture=qe.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new Ut,st.profile&&(this.stats={size:0})}function tn(Qt){qe.activeTexture(33984),qe.bindTexture(Qt.target,Qt.texture)}function fn(){var Qt=xr[0];Qt?qe.bindTexture(Qt.target,Qt.texture):qe.bindTexture(3553,null)}function rn(Qt){var xn=Qt.texture,At=Qt.unit,Wt=Qt.target;0<=At&&(qe.activeTexture(33984+At),qe.bindTexture(Wt,null),xr[At]=null),qe.deleteTexture(xn),Qt.texture=null,Qt.params=null,Qt.pixels=null,Qt.refCount=0,delete Hn[Qt.id],Ve.textureCount--}var pn={"don't care":4352,"dont care":4352,nice:4354,fast:4353},wn={repeat:10497,clamp:33071,mirror:33648},kn={nearest:9728,linear:9729},Pn=$({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},kn),On={none:0,browser:37444},En={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Vn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},Bn={};Ke.ext_srgb&&(Vn.srgb=35904,Vn.srgba=35906),Ke.oes_texture_float&&(En.float32=En.float=5126),Ke.oes_texture_half_float&&(En.float16=En["half float"]=36193),Ke.webgl_depth_texture&&($(Vn,{depth:6402,"depth stencil":34041}),$(En,{uint16:5123,uint32:5125,"depth stencil":34042})),Ke.webgl_compressed_texture_s3tc&&$(Bn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Ke.webgl_compressed_texture_atc&&$(Bn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Ke.webgl_compressed_texture_pvrtc&&$(Bn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Ke.webgl_compressed_texture_etc1&&(Bn["rgb etc1"]=36196);var Wn=Array.prototype.slice.call(qe.getParameter(34467));Object.keys(Bn).forEach(function(Qt){var xn=Bn[Qt];0<=Wn.indexOf(xn)&&(Vn[Qt]=xn)});var rr=Object.keys(Vn);ft.textureFormats=rr;var ir=[];Object.keys(Vn).forEach(function(Qt){ir[Vn[Qt]]=Qt});var Kn=[];Object.keys(En).forEach(function(Qt){Kn[En[Qt]]=Qt});var vr=[];Object.keys(kn).forEach(function(Qt){vr[kn[Qt]]=Qt});var nn=[];Object.keys(Pn).forEach(function(Qt){nn[Pn[Qt]]=Qt});var an=[];Object.keys(wn).forEach(function(Qt){an[wn[Qt]]=Qt});var In=rr.reduce(function(Qt,xn){var At=Vn[xn];return At===6409||At===6406||At===6409||At===6410||At===6402||At===34041||Ke.ext_srgb&&(At===35904||At===35906)?Qt[At]=At:At===32855||0<=xn.indexOf("rgba")?Qt[At]=6408:Qt[At]=6407,Qt},{}),yn=[],Dn=[],$n=0,Hn={},Qn=ft.maxTextureUnits,xr=Array(Qn).map(function(){return null});return $(mn.prototype,{bind:function(){this.bindCount+=1;var Qt=this.unit;if(0>Qt){for(var xn=0;xn<Qn;++xn){var At=xr[xn];if(At){if(0<At.bindCount)continue;At.unit=-1}xr[xn]=this,Qt=xn;break}st.profile&&Ve.maxTextureUnits<Qt+1&&(Ve.maxTextureUnits=Qt+1),this.unit=Qt,qe.activeTexture(33984+Qt),qe.bindTexture(this.target,this.texture)}return Qt},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&rn(this)}}),st.profile&&(Ve.getTotalTextureSize=function(){var Qt=0;return Object.keys(Hn).forEach(function(xn){Qt+=Hn[xn].stats.size}),Qt}),{create2D:function(Qt,xn){function At(en,dn){var gn=Wt.texInfo;Ut.call(gn);var _n=qt();return typeof en=="number"?Nt(_n,0|en,typeof dn=="number"?0|dn:0|en):en?(Rn(gn,en),Xt(_n,en)):Nt(_n,1,1),gn.genMipmaps&&(_n.mipmask=(_n.width<<1)-1),Wt.mipmask=_n.mipmask,gt(Wt,_n),Wt.internalformat=_n.internalformat,At.width=_n.width,At.height=_n.height,tn(Wt),un(_n,3553),An(gn,3553),fn(),Kt(_n),st.profile&&(Wt.stats.size=p(Wt.internalformat,Wt.type,_n.width,_n.height,gn.genMipmaps,!1)),At.format=ir[Wt.internalformat],At.type=Kn[Wt.type],At.mag=vr[gn.magFilter],At.min=nn[gn.minFilter],At.wrapS=an[gn.wrapS],At.wrapT=an[gn.wrapT],At}var Wt=new mn(3553);return Hn[Wt.id]=Wt,Ve.textureCount++,At(Qt,xn),At.subimage=function(en,dn,gn,_n){dn|=0,gn|=0,_n|=0;var on=Ct();return gt(on,Wt),on.width=0,on.height=0,Lt(on,en),on.width=on.width||(Wt.width>>_n)-dn,on.height=on.height||(Wt.height>>_n)-gn,tn(Wt),wt(on,3553,dn,gn,_n),fn(),Rt(on),At},At.resize=function(en,dn){var gn=0|en,_n=0|dn||gn;if(gn===Wt.width&&_n===Wt.height)return At;At.width=Wt.width=gn,At.height=Wt.height=_n,tn(Wt);for(var on=0;Wt.mipmask>>on;++on){var Yt=gn>>on,Zt=_n>>on;if(!Yt||!Zt)break;qe.texImage2D(3553,on,Wt.format,Yt,Zt,0,Wt.format,Wt.type,null)}return fn(),st.profile&&(Wt.stats.size=p(Wt.internalformat,Wt.type,gn,_n,!1,!1)),At},At._reglType="texture2d",At._texture=Wt,st.profile&&(At.stats=Wt.stats),At.destroy=function(){Wt.decRef()},At},createCube:function(Qt,xn,At,Wt,en,dn){function gn(Yt,Zt,sn,hn,Sn,Cn){var Un,qn=_n.texInfo;for(Ut.call(qn),Un=0;6>Un;++Un)on[Un]=qt();if(typeof Yt!="number"&&Yt){if(typeof Yt=="object")if(Zt)Xt(on[0],Yt),Xt(on[1],Zt),Xt(on[2],sn),Xt(on[3],hn),Xt(on[4],Sn),Xt(on[5],Cn);else if(Rn(qn,Yt),yt(_n,Yt),"faces"in Yt)for(Yt=Yt.faces,Un=0;6>Un;++Un)gt(on[Un],_n),Xt(on[Un],Yt[Un]);else for(Un=0;6>Un;++Un)Xt(on[Un],Yt)}else for(Yt=0|Yt||1,Un=0;6>Un;++Un)Nt(on[Un],Yt,Yt);for(gt(_n,on[0]),_n.mipmask=qn.genMipmaps?(on[0].width<<1)-1:on[0].mipmask,_n.internalformat=on[0].internalformat,gn.width=on[0].width,gn.height=on[0].height,tn(_n),Un=0;6>Un;++Un)un(on[Un],34069+Un);for(An(qn,34067),fn(),st.profile&&(_n.stats.size=p(_n.internalformat,_n.type,gn.width,gn.height,qn.genMipmaps,!0)),gn.format=ir[_n.internalformat],gn.type=Kn[_n.type],gn.mag=vr[qn.magFilter],gn.min=nn[qn.minFilter],gn.wrapS=an[qn.wrapS],gn.wrapT=an[qn.wrapT],Un=0;6>Un;++Un)Kt(on[Un]);return gn}var _n=new mn(34067);Hn[_n.id]=_n,Ve.cubeCount++;var on=Array(6);return gn(Qt,xn,At,Wt,en,dn),gn.subimage=function(Yt,Zt,sn,hn,Sn){sn|=0,hn|=0,Sn|=0;var Cn=Ct();return gt(Cn,_n),Cn.width=0,Cn.height=0,Lt(Cn,Zt),Cn.width=Cn.width||(_n.width>>Sn)-sn,Cn.height=Cn.height||(_n.height>>Sn)-hn,tn(_n),wt(Cn,34069+Yt,sn,hn,Sn),fn(),Rt(Cn),gn},gn.resize=function(Yt){if((Yt|=0)!==_n.width){gn.width=_n.width=Yt,gn.height=_n.height=Yt,tn(_n);for(var Zt=0;6>Zt;++Zt)for(var sn=0;_n.mipmask>>sn;++sn)qe.texImage2D(34069+Zt,sn,_n.format,Yt>>sn,Yt>>sn,0,_n.format,_n.type,null);return fn(),st.profile&&(_n.stats.size=p(_n.internalformat,_n.type,gn.width,gn.height,!1,!0)),gn}},gn._reglType="textureCube",gn._texture=_n,st.profile&&(gn.stats=_n.stats),gn.destroy=function(){_n.decRef()},gn},clear:function(){for(var Qt=0;Qt<Qn;++Qt)qe.activeTexture(33984+Qt),qe.bindTexture(3553,null),xr[Qt]=null;we(Hn).forEach(rn),Ve.cubeCount=0,Ve.textureCount=0},getTexture:function(Qt){return null},restore:function(){for(var Qt=0;Qt<Qn;++Qt){var xn=xr[Qt];xn&&(xn.bindCount=0,xn.unit=-1,xr[Qt]=null)}we(Hn).forEach(function(At){At.texture=qe.createTexture(),qe.bindTexture(At.target,At.texture);for(var Wt=0;32>Wt;++Wt)if(At.mipmask&1<<Wt)if(At.target===3553)qe.texImage2D(3553,Wt,At.internalformat,At.width>>Wt,At.height>>Wt,0,At.internalformat,At.type,null);else for(var en=0;6>en;++en)qe.texImage2D(34069+en,Wt,At.internalformat,At.width>>Wt,At.height>>Wt,0,At.internalformat,At.type,null);An(At.texInfo,At.target)})},refresh:function(){for(var Qt=0;Qt<Qn;++Qt){var xn=xr[Qt];xn&&(xn.bindCount=0,xn.unit=-1,xr[Qt]=null),qe.activeTexture(33984+Qt),qe.bindTexture(3553,null),qe.bindTexture(34067,null)}}}}function M(qe,Ke,ft,ot,Ue,Ve){function st(mn,tn,fn){this.target=mn,this.texture=tn,this.renderbuffer=fn;var rn=mn=0;tn?(mn=tn.width,rn=tn.height):fn&&(mn=fn.width,rn=fn.height),this.width=mn,this.height=rn}function Xe(mn){mn&&(mn.texture&&mn.texture._texture.decRef(),mn.renderbuffer&&mn.renderbuffer._renderbuffer.decRef())}function gt(mn,tn,fn){mn&&(mn.texture?mn.texture._texture.refCount+=1:mn.renderbuffer._renderbuffer.refCount+=1)}function yt(mn,tn){tn&&(tn.texture?qe.framebufferTexture2D(36160,mn,tn.target,tn.texture._texture.texture,0):qe.framebufferRenderbuffer(36160,mn,36161,tn.renderbuffer._renderbuffer.renderbuffer))}function bt(mn){var tn=3553,fn=null,rn=null,pn=mn;return typeof mn=="object"&&(pn=mn.data,"target"in mn&&(tn=0|mn.target)),(mn=pn._reglType)==="texture2d"||mn==="textureCube"?fn=pn:mn==="renderbuffer"&&(rn=pn,tn=36161),new st(tn,fn,rn)}function dt(mn,tn,fn,rn,pn){return fn?((mn=ot.create2D({width:mn,height:tn,format:rn,type:pn}))._texture.refCount=0,new st(3553,mn,null)):((mn=Ue.create({width:mn,height:tn,format:rn}))._renderbuffer.refCount=0,new st(36161,null,mn))}function Lt(mn){return mn&&(mn.texture||mn.renderbuffer)}function wt(mn,tn,fn){mn&&(mn.texture?mn.texture.resize(tn,fn):mn.renderbuffer&&mn.renderbuffer.resize(tn,fn),mn.width=tn,mn.height=fn)}function Ct(){this.id=Rn++,An[this.id]=this,this.framebuffer=qe.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function Rt(mn){mn.colorAttachments.forEach(Xe),Xe(mn.depthAttachment),Xe(mn.stencilAttachment),Xe(mn.depthStencilAttachment)}function Dt(mn){qe.deleteFramebuffer(mn.framebuffer),mn.framebuffer=null,Ve.framebufferCount--,delete An[mn.id]}function Nt(mn){var tn;qe.bindFramebuffer(36160,mn.framebuffer);var fn=mn.colorAttachments;for(tn=0;tn<fn.length;++tn)yt(36064+tn,fn[tn]);for(tn=fn.length;tn<ft.maxColorAttachments;++tn)qe.framebufferTexture2D(36160,36064+tn,3553,null,0);qe.framebufferTexture2D(36160,33306,3553,null,0),qe.framebufferTexture2D(36160,36096,3553,null,0),qe.framebufferTexture2D(36160,36128,3553,null,0),yt(36096,mn.depthAttachment),yt(36128,mn.stencilAttachment),yt(33306,mn.depthStencilAttachment),qe.checkFramebufferStatus(36160),qe.isContextLost(),qe.bindFramebuffer(36160,un.next?un.next.framebuffer:null),un.cur=un.next,qe.getError()}function Xt(mn,tn){function fn(pn,wn){var kn,Pn=0,On=0,En=!0,Vn=!0;kn=null;var Bn=!0,Wn="rgba",rr="uint8",ir=1,Kn=null,vr=null,nn=null,an=!1;typeof pn=="number"?(Pn=0|pn,On=0|wn||Pn):pn?("shape"in pn?(Pn=(On=pn.shape)[0],On=On[1]):("radius"in pn&&(Pn=On=pn.radius),"width"in pn&&(Pn=pn.width),"height"in pn&&(On=pn.height)),("color"in pn||"colors"in pn)&&(kn=pn.color||pn.colors,Array.isArray(kn)),kn||("colorCount"in pn&&(ir=0|pn.colorCount),"colorTexture"in pn&&(Bn=!!pn.colorTexture,Wn="rgba4"),"colorType"in pn&&(rr=pn.colorType,!Bn)&&(rr==="half float"||rr==="float16"?Wn="rgba16f":rr!=="float"&&rr!=="float32"||(Wn="rgba32f")),"colorFormat"in pn&&(Wn=pn.colorFormat,0<=qt.indexOf(Wn)?Bn=!0:0<=Kt.indexOf(Wn)&&(Bn=!1))),("depthTexture"in pn||"depthStencilTexture"in pn)&&(an=!(!pn.depthTexture&&!pn.depthStencilTexture)),"depth"in pn&&(typeof pn.depth=="boolean"?En=pn.depth:(Kn=pn.depth,Vn=!1)),"stencil"in pn&&(typeof pn.stencil=="boolean"?Vn=pn.stencil:(vr=pn.stencil,En=!1)),"depthStencil"in pn&&(typeof pn.depthStencil=="boolean"?En=Vn=pn.depthStencil:(nn=pn.depthStencil,Vn=En=!1))):Pn=On=1;var In=null,yn=null,Dn=null,$n=null;if(Array.isArray(kn))In=kn.map(bt);else if(kn)In=[bt(kn)];else for(In=Array(ir),kn=0;kn<ir;++kn)In[kn]=dt(Pn,On,Bn,Wn,rr);for(Pn=Pn||In[0].width,On=On||In[0].height,Kn?yn=bt(Kn):En&&!Vn&&(yn=dt(Pn,On,an,"depth","uint32")),vr?Dn=bt(vr):Vn&&!En&&(Dn=dt(Pn,On,!1,"stencil","uint8")),nn?$n=bt(nn):!Kn&&!vr&&Vn&&En&&($n=dt(Pn,On,an,"depth stencil","depth stencil")),En=null,kn=0;kn<In.length;++kn)gt(In[kn]),In[kn]&&In[kn].texture&&(Vn=_t[In[kn].texture._texture.format]*mt[In[kn].texture._texture.type],En===null&&(En=Vn));return gt(yn),gt(Dn),gt($n),Rt(rn),rn.width=Pn,rn.height=On,rn.colorAttachments=In,rn.depthAttachment=yn,rn.stencilAttachment=Dn,rn.depthStencilAttachment=$n,fn.color=In.map(Lt),fn.depth=Lt(yn),fn.stencil=Lt(Dn),fn.depthStencil=Lt($n),fn.width=rn.width,fn.height=rn.height,Nt(rn),fn}var rn=new Ct;return Ve.framebufferCount++,fn(mn,tn),$(fn,{resize:function(pn,wn){var kn=Math.max(0|pn,1),Pn=Math.max(0|wn||kn,1);if(kn===rn.width&&Pn===rn.height)return fn;for(var On=rn.colorAttachments,En=0;En<On.length;++En)wt(On[En],kn,Pn);return wt(rn.depthAttachment,kn,Pn),wt(rn.stencilAttachment,kn,Pn),wt(rn.depthStencilAttachment,kn,Pn),rn.width=fn.width=kn,rn.height=fn.height=Pn,Nt(rn),fn},_reglType:"framebuffer",_framebuffer:rn,destroy:function(){Dt(rn),Rt(rn)},use:function(pn){un.setFBO({framebuffer:fn},pn)}})}var un={cur:null,next:null,dirty:!1,setFBO:null},qt=["rgba"],Kt=["rgba4","rgb565","rgb5 a1"];Ke.ext_srgb&&Kt.push("srgba"),Ke.ext_color_buffer_half_float&&Kt.push("rgba16f","rgb16f"),Ke.webgl_color_buffer_float&&Kt.push("rgba32f");var Ut=["uint8"];Ke.oes_texture_half_float&&Ut.push("half float","float16"),Ke.oes_texture_float&&Ut.push("float","float32");var Rn=0,An={};return $(un,{getFramebuffer:function(mn){return typeof mn=="function"&&mn._reglType==="framebuffer"&&(mn=mn._framebuffer)instanceof Ct?mn:null},create:Xt,createCube:function(mn){function tn(rn){var pn,wn={color:null},kn=0,Pn=null;pn="rgba";var On="uint8",En=1;if(typeof rn=="number"?kn=0|rn:rn?("shape"in rn?kn=rn.shape[0]:("radius"in rn&&(kn=0|rn.radius),"width"in rn?kn=0|rn.width:"height"in rn&&(kn=0|rn.height)),("color"in rn||"colors"in rn)&&(Pn=rn.color||rn.colors,Array.isArray(Pn)),Pn||("colorCount"in rn&&(En=0|rn.colorCount),"colorType"in rn&&(On=rn.colorType),"colorFormat"in rn&&(pn=rn.colorFormat)),"depth"in rn&&(wn.depth=rn.depth),"stencil"in rn&&(wn.stencil=rn.stencil),"depthStencil"in rn&&(wn.depthStencil=rn.depthStencil)):kn=1,Pn)if(Array.isArray(Pn))for(rn=[],pn=0;pn<Pn.length;++pn)rn[pn]=Pn[pn];else rn=[Pn];else for(rn=Array(En),Pn={radius:kn,format:pn,type:On},pn=0;pn<En;++pn)rn[pn]=ot.createCube(Pn);for(wn.color=Array(rn.length),pn=0;pn<rn.length;++pn)En=rn[pn],kn=kn||En.width,wn.color[pn]={target:34069,data:rn[pn]};for(pn=0;6>pn;++pn){for(En=0;En<rn.length;++En)wn.color[En].target=34069+pn;0<pn&&(wn.depth=fn[0].depth,wn.stencil=fn[0].stencil,wn.depthStencil=fn[0].depthStencil),fn[pn]?fn[pn](wn):fn[pn]=Xt(wn)}return $(tn,{width:kn,height:kn,color:rn})}var fn=Array(6);return tn(mn),$(tn,{faces:fn,resize:function(rn){var pn=0|rn;if(pn===tn.width)return tn;var wn=tn.color;for(rn=0;rn<wn.length;++rn)wn[rn].resize(pn);for(rn=0;6>rn;++rn)fn[rn].resize(pn);return tn.width=tn.height=pn,tn},_reglType:"framebufferCube",destroy:function(){fn.forEach(function(rn){rn.destroy()})}})},clear:function(){we(An).forEach(Dt)},restore:function(){un.cur=null,un.next=null,un.dirty=!0,we(An).forEach(function(mn){mn.framebuffer=qe.createFramebuffer(),Nt(mn)})}})}function C(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function R(qe,Ke,ft,ot,Ue,Ve,st){function Xe(){this.id=++bt,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var wt=Ke.oes_vertex_array_object;this.vao=wt?wt.createVertexArrayOES():null,dt[this.id]=this,this.buffers=[]}var gt=ft.maxAttributes,yt=Array(gt);for(ft=0;ft<gt;++ft)yt[ft]=new C;var bt=0,dt={},Lt={Record:C,scope:{},state:yt,currentVAO:null,targetVAO:null,restore:Ke.oes_vertex_array_object?function(){Ke.oes_vertex_array_object&&we(dt).forEach(function(wt){wt.refresh()})}:function(){},createVAO:function(wt){function Ct(Dt){var Nt;Array.isArray(Dt)?(Nt=Dt,Rt.elements&&Rt.ownsElements&&Rt.elements.destroy(),Rt.elements=null,Rt.ownsElements=!1,Rt.offset=0,Rt.count=0,Rt.instances=-1,Rt.primitive=4):(Dt.elements?(Nt=Dt.elements,Rt.ownsElements?(typeof Nt=="function"&&Nt._reglType==="elements"?Rt.elements.destroy():Rt.elements(Nt),Rt.ownsElements=!1):Ve.getElements(Dt.elements)?(Rt.elements=Dt.elements,Rt.ownsElements=!1):(Rt.elements=Ve.create(Dt.elements),Rt.ownsElements=!0)):(Rt.elements=null,Rt.ownsElements=!1),Nt=Dt.attributes,Rt.offset=0,Rt.count=-1,Rt.instances=-1,Rt.primitive=4,Rt.elements&&(Rt.count=Rt.elements._elements.vertCount,Rt.primitive=Rt.elements._elements.primType),"offset"in Dt&&(Rt.offset=0|Dt.offset),"count"in Dt&&(Rt.count=0|Dt.count),"instances"in Dt&&(Rt.instances=0|Dt.instances),"primitive"in Dt&&(Rt.primitive=Oe[Dt.primitive])),Dt={};var Xt=Rt.attributes;Xt.length=Nt.length;for(var un=0;un<Nt.length;++un){var qt,Kt=Nt[un],Ut=Xt[un]=new C,Rn=Kt.data||Kt;Array.isArray(Rn)||be(Rn)||n(Rn)?(Rt.buffers[un]&&(qt=Rt.buffers[un],be(Rn)&&qt._buffer.byteLength>=Rn.byteLength?qt.subdata(Rn):(qt.destroy(),Rt.buffers[un]=null)),Rt.buffers[un]||(qt=Rt.buffers[un]=Ue.create(Kt,34962,!1,!0)),Ut.buffer=Ue.getBuffer(qt),Ut.size=0|Ut.buffer.dimension,Ut.normalized=!1,Ut.type=Ut.buffer.dtype,Ut.offset=0,Ut.stride=0,Ut.divisor=0,Ut.state=1,Dt[un]=1):Ue.getBuffer(Kt)?(Ut.buffer=Ue.getBuffer(Kt),Ut.size=0|Ut.buffer.dimension,Ut.normalized=!1,Ut.type=Ut.buffer.dtype,Ut.offset=0,Ut.stride=0,Ut.divisor=0,Ut.state=1):Ue.getBuffer(Kt.buffer)?(Ut.buffer=Ue.getBuffer(Kt.buffer),Ut.size=0|(+Kt.size||Ut.buffer.dimension),Ut.normalized=!!Kt.normalized||!1,Ut.type="type"in Kt?Ie[Kt.type]:Ut.buffer.dtype,Ut.offset=0|(Kt.offset||0),Ut.stride=0|(Kt.stride||0),Ut.divisor=0|(Kt.divisor||0),Ut.state=1):"x"in Kt&&(Ut.x=+Kt.x||0,Ut.y=+Kt.y||0,Ut.z=+Kt.z||0,Ut.w=+Kt.w||0,Ut.state=2)}for(qt=0;qt<Rt.buffers.length;++qt)!Dt[qt]&&Rt.buffers[qt]&&(Rt.buffers[qt].destroy(),Rt.buffers[qt]=null);return Rt.refresh(),Ct}var Rt=new Xe;return ot.vaoCount+=1,Ct.destroy=function(){for(var Dt=0;Dt<Rt.buffers.length;++Dt)Rt.buffers[Dt]&&Rt.buffers[Dt].destroy();Rt.buffers.length=0,Rt.ownsElements&&(Rt.elements.destroy(),Rt.elements=null,Rt.ownsElements=!1),Rt.destroy()},Ct._vao=Rt,Ct._reglType="vao",Ct(wt)},getVAO:function(wt){return typeof wt=="function"&&wt._vao?wt._vao:null},destroyBuffer:function(wt){for(var Ct=0;Ct<yt.length;++Ct){var Rt=yt[Ct];Rt.buffer===wt&&(qe.disableVertexAttribArray(Ct),Rt.buffer=null)}},setVAO:Ke.oes_vertex_array_object?function(wt){if(wt!==Lt.currentVAO){var Ct=Ke.oes_vertex_array_object;wt?Ct.bindVertexArrayOES(wt.vao):Ct.bindVertexArrayOES(null),Lt.currentVAO=wt}}:function(wt){if(wt!==Lt.currentVAO){if(wt)wt.bindAttrs();else{for(var Ct=Ke.angle_instanced_arrays,Rt=0;Rt<yt.length;++Rt){var Dt=yt[Rt];Dt.buffer?(qe.enableVertexAttribArray(Rt),Dt.buffer.bind(),qe.vertexAttribPointer(Rt,Dt.size,Dt.type,Dt.normalized,Dt.stride,Dt.offfset),Ct&&Dt.divisor&&Ct.vertexAttribDivisorANGLE(Rt,Dt.divisor)):(qe.disableVertexAttribArray(Rt),qe.vertexAttrib4f(Rt,Dt.x,Dt.y,Dt.z,Dt.w))}st.elements?qe.bindBuffer(34963,st.elements.buffer.buffer):qe.bindBuffer(34963,null)}Lt.currentVAO=wt}},clear:Ke.oes_vertex_array_object?function(){we(dt).forEach(function(wt){wt.destroy()})}:function(){}};return Xe.prototype.bindAttrs=function(){for(var wt=Ke.angle_instanced_arrays,Ct=this.attributes,Rt=0;Rt<Ct.length;++Rt){var Dt=Ct[Rt];Dt.buffer?(qe.enableVertexAttribArray(Rt),qe.bindBuffer(34962,Dt.buffer.buffer),qe.vertexAttribPointer(Rt,Dt.size,Dt.type,Dt.normalized,Dt.stride,Dt.offset),wt&&Dt.divisor&&wt.vertexAttribDivisorANGLE(Rt,Dt.divisor)):(qe.disableVertexAttribArray(Rt),qe.vertexAttrib4f(Rt,Dt.x,Dt.y,Dt.z,Dt.w))}for(wt=Ct.length;wt<gt;++wt)qe.disableVertexAttribArray(wt);(wt=Ve.getElements(this.elements))?qe.bindBuffer(34963,wt.buffer.buffer):qe.bindBuffer(34963,null)},Xe.prototype.refresh=function(){var wt=Ke.oes_vertex_array_object;wt&&(wt.bindVertexArrayOES(this.vao),this.bindAttrs(),Lt.currentVAO=null,wt.bindVertexArrayOES(null))},Xe.prototype.destroy=function(){if(this.vao){var wt=Ke.oes_vertex_array_object;this===Lt.currentVAO&&(Lt.currentVAO=null,wt.bindVertexArrayOES(null)),wt.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),dt[this.id]&&(delete dt[this.id],--ot.vaoCount)},Lt}function I(qe,Ke,ft,ot){function Ue(Ct,Rt,Dt,Nt){this.name=Ct,this.id=Rt,this.location=Dt,this.info=Nt}function Ve(Ct,Rt){for(var Dt=0;Dt<Ct.length;++Dt)if(Ct[Dt].id===Rt.id)return void(Ct[Dt].location=Rt.location);Ct.push(Rt)}function st(Ct,Rt,Dt){if(!(Xt=(Dt=Ct===35632?yt:bt)[Rt])){var Nt=Ke.str(Rt),Xt=qe.createShader(Ct);qe.shaderSource(Xt,Nt),qe.compileShader(Xt),Dt[Rt]=Xt}return Xt}function Xe(Ct,Rt){this.id=wt++,this.fragId=Ct,this.vertId=Rt,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,ot.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function gt(Ct,Rt,Dt){var Nt;Nt=st(35632,Ct.fragId);var Xt=st(35633,Ct.vertId);if(Rt=Ct.program=qe.createProgram(),qe.attachShader(Rt,Nt),qe.attachShader(Rt,Xt),Dt)for(Nt=0;Nt<Dt.length;++Nt)Xt=Dt[Nt],qe.bindAttribLocation(Rt,Xt[0],Xt[1]);qe.linkProgram(Rt),Xt=qe.getProgramParameter(Rt,35718),ot.profile&&(Ct.stats.uniformsCount=Xt);var un=Ct.uniforms;for(Nt=0;Nt<Xt;++Nt)if(Dt=qe.getActiveUniform(Rt,Nt))if(1<Dt.size)for(var qt=0;qt<Dt.size;++qt){var Kt=Dt.name.replace("[0]","["+qt+"]");Ve(un,new Ue(Kt,Ke.id(Kt),qe.getUniformLocation(Rt,Kt),Dt))}else Ve(un,new Ue(Dt.name,Ke.id(Dt.name),qe.getUniformLocation(Rt,Dt.name),Dt));for(Xt=qe.getProgramParameter(Rt,35721),ot.profile&&(Ct.stats.attributesCount=Xt),Ct=Ct.attributes,Nt=0;Nt<Xt;++Nt)(Dt=qe.getActiveAttrib(Rt,Nt))&&Ve(Ct,new Ue(Dt.name,Ke.id(Dt.name),qe.getAttribLocation(Rt,Dt.name),Dt))}var yt={},bt={},dt={},Lt=[],wt=0;return ot.profile&&(ft.getMaxUniformsCount=function(){var Ct=0;return Lt.forEach(function(Rt){Rt.stats.uniformsCount>Ct&&(Ct=Rt.stats.uniformsCount)}),Ct},ft.getMaxAttributesCount=function(){var Ct=0;return Lt.forEach(function(Rt){Rt.stats.attributesCount>Ct&&(Ct=Rt.stats.attributesCount)}),Ct}),{clear:function(){var Ct=qe.deleteShader.bind(qe);we(yt).forEach(Ct),yt={},we(bt).forEach(Ct),bt={},Lt.forEach(function(Rt){qe.deleteProgram(Rt.program)}),Lt.length=0,dt={},ft.shaderCount=0},program:function(Ct,Rt,Dt,Nt){var Xt=dt[Rt];Xt||(Xt=dt[Rt]={});var un=Xt[Ct];if(un&&(un.refCount++,!Nt))return un;var qt=new Xe(Rt,Ct);return ft.shaderCount++,gt(qt,Dt,Nt),un||(Xt[Ct]=qt),Lt.push(qt),$(qt,{destroy:function(){if(qt.refCount--,0>=qt.refCount){qe.deleteProgram(qt.program);var Kt=Lt.indexOf(qt);Lt.splice(Kt,1),ft.shaderCount--}0>=Xt[qt.vertId].refCount&&(qe.deleteShader(bt[qt.vertId]),delete bt[qt.vertId],delete dt[qt.fragId][qt.vertId]),Object.keys(dt[qt.fragId]).length||(qe.deleteShader(yt[qt.fragId]),delete yt[qt.fragId],delete dt[qt.fragId])}})},restore:function(){yt={},bt={};for(var Ct=0;Ct<Lt.length;++Ct)gt(Lt[Ct],null,Lt[Ct].attributes.map(function(Rt){return[Rt.location,Rt.name]}))},shader:st,frag:-1,vert:-1}}function D(qe,Ke,ft,ot,Ue,Ve,st){function Xe(gt){var yt;yt=Ke.next===null?5121:Ke.next.colorAttachments[0].texture._texture.type;var bt=0,dt=0,Lt=ot.framebufferWidth,wt=ot.framebufferHeight,Ct=null;return be(gt)?Ct=gt:gt&&(bt=0|gt.x,dt=0|gt.y,Lt=0|(gt.width||ot.framebufferWidth-bt),wt=0|(gt.height||ot.framebufferHeight-dt),Ct=gt.data||null),ft(),gt=Lt*wt*4,Ct||(yt===5121?Ct=new Uint8Array(gt):yt===5126&&(Ct=Ct||new Float32Array(gt))),qe.pixelStorei(3333,4),qe.readPixels(bt,dt,Lt,wt,6408,yt,Ct),Ct}return function(gt){return gt&&"framebuffer"in gt?function(yt){var bt;return Ke.setFBO({framebuffer:yt.framebuffer},function(){bt=Xe(yt)}),bt}(gt):Xe(gt)}}function F(qe,Ke){return qe>>>Ke|qe<<32-Ke}function q(qe,Ke){var ft=(65535&qe)+(65535&Ke);return(qe>>16)+(Ke>>16)+(ft>>16)<<16|65535&ft}function z(qe){return Array.prototype.slice.call(qe)}function V(qe){return z(qe).join("")}function X(qe){function Ke(){var bt=[],dt=[];return $(function(){bt.push.apply(bt,z(arguments))},{def:function(){var Lt="v"+Ue++;return dt.push(Lt),0<arguments.length&&(bt.push(Lt,"="),bt.push.apply(bt,z(arguments)),bt.push(";")),Lt},toString:function(){return V([0<dt.length?"var "+dt.join(",")+";":"",V(bt)])}})}function ft(){function bt(Rt,Dt){Lt(Rt,Dt,"=",dt.def(Rt,Dt),";")}var dt=Ke(),Lt=Ke(),wt=dt.toString,Ct=Lt.toString;return $(function(){dt.apply(dt,z(arguments))},{def:dt.def,entry:dt,exit:Lt,save:bt,set:function(Rt,Dt,Nt){bt(Rt,Dt),dt(Rt,Dt,"=",Nt,";")},toString:function(){return wt()+Ct()}})}var ot=qe&&qe.cache,Ue=0,Ve=[],st=[],Xe=[],gt=Ke(),yt={};return{global:gt,link:function(bt,dt){var Lt=dt&&dt.stable;if(!Lt){for(var wt=0;wt<st.length;++wt)if(st[wt]===bt&&!Xe[wt])return Ve[wt]}return wt="g"+Ue++,Ve.push(wt),st.push(bt),Xe.push(Lt),wt},block:Ke,proc:function(bt,dt){function Lt(){var Dt="a"+wt.length;return wt.push(Dt),Dt}var wt=[];dt=dt||0;for(var Ct=0;Ct<dt;++Ct)Lt();var Rt=(Ct=ft()).toString;return yt[bt]=$(Ct,{arg:Lt,toString:function(){return V(["function(",wt.join(),"){",Rt(),"}"])}})},scope:ft,cond:function(){var bt=V(arguments),dt=ft(),Lt=ft(),wt=dt.toString,Ct=Lt.toString;return $(dt,{then:function(){return dt.apply(dt,z(arguments)),this},else:function(){return Lt.apply(Lt,z(arguments)),this},toString:function(){var Rt=Ct();return Rt&&(Rt="else{"+Rt+"}"),V(["if(",bt,"){",wt(),"}",Rt])}})},compile:function(){var bt=['"use strict";',gt,"return {"];Object.keys(yt).forEach(function(wt){bt.push('"',wt,'":',yt[wt].toString(),",")}),bt.push("}");var dt,Lt=V(bt).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`);return ot&&(dt=function(wt){for(var Ct,Rt="",Dt=0;Dt<wt.length;Dt++)Ct=wt.charCodeAt(Dt),Rt+="0123456789abcdef".charAt(Ct>>>4&15)+"0123456789abcdef".charAt(15&Ct);return Rt}(function(wt){for(var Ct=Array(wt.length>>2),Rt=0;Rt<Ct.length;Rt++)Ct[Rt]=0;for(Rt=0;Rt<8*wt.length;Rt+=8)Ct[Rt>>5]|=(255&wt.charCodeAt(Rt/8))<<24-Rt%32;var Dt,Nt,Xt,un,qt,Kt,Ut,Rn,An,mn,tn,fn=8*wt.length;for(wt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Rt=Array(64),Ct[fn>>5]|=128<<24-fn%32,Ct[15+(fn+64>>9<<4)]=fn,Rn=0;Rn<Ct.length;Rn+=16){for(fn=wt[0],Dt=wt[1],Nt=wt[2],Xt=wt[3],un=wt[4],qt=wt[5],Kt=wt[6],Ut=wt[7],An=0;64>An;An++){var rn;16>An?Rt[An]=Ct[An+Rn]:(mn=An,tn=q(tn=F(tn=Rt[An-2],17)^F(tn,19)^tn>>>10,Rt[An-7]),rn=F(rn=Rt[An-15],7)^F(rn,18)^rn>>>3,Rt[mn]=q(q(tn,rn),Rt[An-16])),mn=q(q(q(q(Ut,mn=F(mn=un,6)^F(mn,11)^F(mn,25)),un&qt^~un&Kt),it[An]),Rt[An]),tn=q(Ut=F(Ut=fn,2)^F(Ut,13)^F(Ut,22),fn&Dt^fn&Nt^Dt&Nt),Ut=Kt,Kt=qt,qt=un,un=q(Xt,mn),Xt=Nt,Nt=Dt,Dt=fn,fn=q(mn,tn)}wt[0]=q(fn,wt[0]),wt[1]=q(Dt,wt[1]),wt[2]=q(Nt,wt[2]),wt[3]=q(Xt,wt[3]),wt[4]=q(un,wt[4]),wt[5]=q(qt,wt[5]),wt[6]=q(Kt,wt[6]),wt[7]=q(Ut,wt[7])}for(Ct="",Rt=0;Rt<32*wt.length;Rt+=8)Ct+=String.fromCharCode(wt[Rt>>5]>>>24-Rt%32&255);return Ct}(function(wt){for(var Ct,Rt,Dt="",Nt=-1;++Nt<wt.length;)Ct=wt.charCodeAt(Nt),Rt=Nt+1<wt.length?wt.charCodeAt(Nt+1):0,55296<=Ct&&56319>=Ct&&56320<=Rt&&57343>=Rt&&(Ct=65536+((1023&Ct)<<10)+(1023&Rt),Nt++),127>=Ct?Dt+=String.fromCharCode(Ct):2047>=Ct?Dt+=String.fromCharCode(192|Ct>>>6&31,128|63&Ct):65535>=Ct?Dt+=String.fromCharCode(224|Ct>>>12&15,128|Ct>>>6&63,128|63&Ct):2097151>=Ct&&(Dt+=String.fromCharCode(240|Ct>>>18&7,128|Ct>>>12&63,128|Ct>>>6&63,128|63&Ct));return Dt}(Lt))),ot[dt])?ot[dt].apply(null,st):(Lt=Function.apply(null,Ve.concat(Lt)),ot&&(ot[dt]=Lt),Lt.apply(null,st))}}}function j(qe){return Array.isArray(qe)||be(qe)||n(qe)}function H(qe){return qe.sort(function(Ke,ft){return Ke==="viewport"?-1:ft==="viewport"?1:Ke<ft?-1:1})}function G(qe,Ke,ft,ot){this.thisDep=qe,this.contextDep=Ke,this.propDep=ft,this.append=ot}function ie(qe){return qe&&!(qe.thisDep||qe.contextDep||qe.propDep)}function re(qe){return new G(!1,!1,!1,qe)}function te(qe,Ke){var ft=qe.type;if(ft===0)return new G(!0,1<=(ft=qe.data.length),2<=ft,Ke);if(ft===4)return new G((ft=qe.data).thisDep,ft.contextDep,ft.propDep,Ke);if(ft===5)return new G(!1,!1,!1,Ke);if(ft===6){for(var ot=ft=!1,Ue=!1,Ve=0;Ve<qe.data.length;++Ve){var st=qe.data[Ve];st.type===1?Ue=!0:st.type===2?ot=!0:st.type===3?ft=!0:st.type===0?(ft=!0,1<=(st=st.data)&&(ot=!0),2<=st&&(Ue=!0)):st.type===4&&(ft=ft||st.data.thisDep,ot=ot||st.data.contextDep,Ue=Ue||st.data.propDep)}return new G(ft,ot,Ue,Ke)}return new G(ft===3,ft===2,ft===1,Ke)}function K(qe,Ke,ft,ot,Ue,Ve,st,Xe,gt,yt,bt,dt,Lt,wt,Ct,Rt){function Dt(At){return At.replace(".","_")}function Nt(At,Wt,en){var dn=Dt(At);$n.push(At),Dn[dn]=yn[dn]=!!en,Hn[dn]=Wt}function Xt(At,Wt,en){var dn=Dt(At);$n.push(At),Array.isArray(en)?(yn[dn]=en.slice(),Dn[dn]=en.slice()):yn[dn]=Dn[dn]=en,Qn[dn]=Wt}function un(){var At=X({cache:Ct}),Wt=At.link,en=At.global;At.id=xn++,At.batchId="0";var dn=Wt(xr),gn=At.shared={props:"a0"};Object.keys(xr).forEach(function(sn){gn[sn]=en.def(dn,".",sn)});var _n=At.next={},on=At.current={};Object.keys(Qn).forEach(function(sn){Array.isArray(yn[sn])&&(_n[sn]=en.def(gn.next,".",sn),on[sn]=en.def(gn.current,".",sn))});var Yt=At.constants={};Object.keys(Qt).forEach(function(sn){Yt[sn]=en.def(JSON.stringify(Qt[sn]))}),At.invoke=function(sn,hn){switch(hn.type){case 0:var Sn=["this",gn.context,gn.props,At.batchId];return sn.def(Wt(hn.data),".call(",Sn.slice(0,Math.max(hn.data.length+1,4)),")");case 1:return sn.def(gn.props,hn.data);case 2:return sn.def(gn.context,hn.data);case 3:return sn.def("this",hn.data);case 4:return hn.data.append(At,sn),hn.data.ref;case 5:return hn.data.toString();case 6:return hn.data.map(function(Cn){return At.invoke(sn,Cn)})}},At.attribCache={};var Zt={};return At.scopeAttrib=function(sn){if((sn=Ke.id(sn))in Zt)return Zt[sn];var hn=yt.scope[sn];return hn||(hn=yt.scope[sn]=new Kn),Zt[sn]=Wt(hn)},At}function qt(At,Wt){var en=At.static,dn=At.dynamic;if("framebuffer"in en){var gn=en.framebuffer;return gn?(gn=Xe.getFramebuffer(gn),re(function(on,Yt){var Zt=on.link(gn),sn=on.shared;return Yt.set(sn.framebuffer,".next",Zt),sn=sn.context,Yt.set(sn,".framebufferWidth",Zt+".width"),Yt.set(sn,".framebufferHeight",Zt+".height"),Zt})):re(function(on,Yt){var Zt=on.shared;return Yt.set(Zt.framebuffer,".next","null"),Zt=Zt.context,Yt.set(Zt,".framebufferWidth",Zt+".drawingBufferWidth"),Yt.set(Zt,".framebufferHeight",Zt+".drawingBufferHeight"),"null"})}if("framebuffer"in dn){var _n=dn.framebuffer;return te(_n,function(on,Yt){var Zt=on.invoke(Yt,_n),sn=on.shared,hn=sn.framebuffer;return Zt=Yt.def(hn,".getFramebuffer(",Zt,")"),Yt.set(hn,".next",Zt),sn=sn.context,Yt.set(sn,".framebufferWidth",Zt+"?"+Zt+".width:"+sn+".drawingBufferWidth"),Yt.set(sn,".framebufferHeight",Zt+"?"+Zt+".height:"+sn+".drawingBufferHeight"),Zt})}return null}function Kt(At,Wt,en){function dn(sn){if(sn in gn){var hn=Ke.id(gn[sn]);return(sn=re(function(){return hn})).id=hn,sn}if(sn in _n){var Sn=_n[sn];return te(Sn,function(Cn,Un){var qn=Cn.invoke(Un,Sn);return Un.def(Cn.shared.strings,".id(",qn,")")})}return null}var gn=At.static,_n=At.dynamic,on=dn("frag"),Yt=dn("vert"),Zt=null;return ie(on)&&ie(Yt)?(Zt=bt.program(Yt.id,on.id,null,en),At=re(function(sn,hn){return sn.link(Zt)})):At=new G(on&&on.thisDep||Yt&&Yt.thisDep,on&&on.contextDep||Yt&&Yt.contextDep,on&&on.propDep||Yt&&Yt.propDep,function(sn,hn){var Sn,Cn,Un=sn.shared.shader;return Sn=on?on.append(sn,hn):hn.def(Un,".","frag"),Cn=Yt?Yt.append(sn,hn):hn.def(Un,".","vert"),hn.def(Un+".program("+Cn+","+Sn+")")}),{frag:on,vert:Yt,progVar:At,program:Zt}}function Ut(At,Wt){function en(qn,tr){if(qn in dn){var Yn=0|dn[qn];return tr?_n.offset=Yn:_n.instances=Yn,re(function(ar,er){return tr&&(ar.OFFSET=Yn),Yn})}if(qn in gn){var sr=gn[qn];return te(sr,function(ar,er){var mr=ar.invoke(er,sr);return tr&&(ar.OFFSET=mr),mr})}if(tr){if(Zt)return re(function(ar,er){return ar.OFFSET=0});if(on)return new G(Yt.thisDep,Yt.contextDep,Yt.propDep,function(ar,er){return er.def(ar.shared.vao+".currentVAO?"+ar.shared.vao+".currentVAO.offset:0")})}else if(on)return new G(Yt.thisDep,Yt.contextDep,Yt.propDep,function(ar,er){return er.def(ar.shared.vao+".currentVAO?"+ar.shared.vao+".currentVAO.instances:-1")});return null}var dn=At.static,gn=At.dynamic,_n={},on=!1,Yt=function(){if("vao"in dn){var qn=dn.vao;return qn!==null&&yt.getVAO(qn)===null&&(qn=yt.createVAO(qn)),on=!0,_n.vao=qn,re(function(Yn){var sr=yt.getVAO(qn);return sr?Yn.link(sr):"null"})}if("vao"in gn){on=!0;var tr=gn.vao;return te(tr,function(Yn,sr){var ar=Yn.invoke(sr,tr);return sr.def(Yn.shared.vao+".getVAO("+ar+")")})}return null}(),Zt=!1,sn=function(){if("elements"in dn){var qn=dn.elements;if(_n.elements=qn,j(qn)){var tr=_n.elements=Ve.create(qn,!0);qn=Ve.getElements(tr),Zt=!0}else qn&&(qn=Ve.getElements(qn),Zt=!0);return tr=re(function(sr,ar){if(qn){var er=sr.link(qn);return sr.ELEMENTS=er}return sr.ELEMENTS=null}),tr.value=qn,tr}if("elements"in gn){Zt=!0;var Yn=gn.elements;return te(Yn,function(sr,ar){var er=(mr=sr.shared).isBufferArgs,mr=mr.elements,Mr=sr.invoke(ar,Yn),br=ar.def("null");return er=ar.def(er,"(",Mr,")"),Mr=sr.cond(er).then(br,"=",mr,".createStream(",Mr,");").else(br,"=",mr,".getElements(",Mr,");"),ar.entry(Mr),ar.exit(sr.cond(er).then(mr,".destroyStream(",br,");")),sr.ELEMENTS=br})}return on?new G(Yt.thisDep,Yt.contextDep,Yt.propDep,function(sr,ar){return ar.def(sr.shared.vao+".currentVAO?"+sr.shared.elements+".getElements("+sr.shared.vao+".currentVAO.elements):null")}):null}(),hn=en("offset",!0),Sn=function(){if("primitive"in dn){var qn=dn.primitive;return _n.primitive=qn,re(function(Yn,sr){return Oe[qn]})}if("primitive"in gn){var tr=gn.primitive;return te(tr,function(Yn,sr){var ar=Yn.constants.primTypes,er=Yn.invoke(sr,tr);return sr.def(ar,"[",er,"]")})}return Zt?ie(sn)?sn.value?re(function(Yn,sr){return sr.def(Yn.ELEMENTS,".primType")}):re(function(){return 4}):new G(sn.thisDep,sn.contextDep,sn.propDep,function(Yn,sr){var ar=Yn.ELEMENTS;return sr.def(ar,"?",ar,".primType:",4)}):on?new G(Yt.thisDep,Yt.contextDep,Yt.propDep,function(Yn,sr){return sr.def(Yn.shared.vao+".currentVAO?"+Yn.shared.vao+".currentVAO.primitive:4")}):null}(),Cn=function(){if("count"in dn){var qn=0|dn.count;return _n.count=qn,re(function(){return qn})}if("count"in gn){var tr=gn.count;return te(tr,function(Yn,sr){return Yn.invoke(sr,tr)})}return Zt?ie(sn)?sn?hn?new G(hn.thisDep,hn.contextDep,hn.propDep,function(Yn,sr){return sr.def(Yn.ELEMENTS,".vertCount-",Yn.OFFSET)}):re(function(Yn,sr){return sr.def(Yn.ELEMENTS,".vertCount")}):re(function(){return-1}):new G(sn.thisDep||hn.thisDep,sn.contextDep||hn.contextDep,sn.propDep||hn.propDep,function(Yn,sr){var ar=Yn.ELEMENTS;return Yn.OFFSET?sr.def(ar,"?",ar,".vertCount-",Yn.OFFSET,":-1"):sr.def(ar,"?",ar,".vertCount:-1")}):on?new G(Yt.thisDep,Yt.contextDep,Yt.propDep,function(Yn,sr){return sr.def(Yn.shared.vao,".currentVAO?",Yn.shared.vao,".currentVAO.count:-1")}):null}(),Un=en("instances",!1);return{elements:sn,primitive:Sn,count:Cn,instances:Un,offset:hn,vao:Yt,vaoActive:on,elementsActive:Zt,static:_n}}function Rn(At,Wt){var en=At.static,dn=At.dynamic,gn={};return Object.keys(en).forEach(function(_n){var on=en[_n],Yt=Ke.id(_n),Zt=new Kn;if(j(on))Zt.state=1,Zt.buffer=Ue.getBuffer(Ue.create(on,34962,!1,!0)),Zt.type=0;else if(hn=Ue.getBuffer(on))Zt.state=1,Zt.buffer=hn,Zt.type=0;else if("constant"in on){var sn=on.constant;Zt.buffer="null",Zt.state=2,typeof sn=="number"?Zt.x=sn:nt.forEach(function(Yn,sr){sr<sn.length&&(Zt[Yn]=sn[sr])})}else{var hn=j(on.buffer)?Ue.getBuffer(Ue.create(on.buffer,34962,!1,!0)):Ue.getBuffer(on.buffer),Sn=0|on.offset,Cn=0|on.stride,Un=0|on.size,qn=!!on.normalized,tr=0;"type"in on&&(tr=Ie[on.type]),on=0|on.divisor,Zt.buffer=hn,Zt.state=1,Zt.size=Un,Zt.normalized=qn,Zt.type=tr||hn.dtype,Zt.offset=Sn,Zt.stride=Cn,Zt.divisor=on}gn[_n]=re(function(Yn,sr){var ar=Yn.attribCache;if(Yt in ar)return ar[Yt];var er={isStream:!1};return Object.keys(Zt).forEach(function(mr){er[mr]=Zt[mr]}),Zt.buffer&&(er.buffer=Yn.link(Zt.buffer),er.type=er.type||er.buffer+".dtype"),ar[Yt]=er})}),Object.keys(dn).forEach(function(_n){var on=dn[_n];gn[_n]=te(on,function(Yt,Zt){function sn(ar){Zt(qn[ar],"=",hn,".",ar,"|0;")}var hn=Yt.invoke(Zt,on),Sn=Yt.shared,Cn=Yt.constants,Un=Sn.isBufferArgs,qn=(Sn=Sn.buffer,{isStream:Zt.def(!1)}),tr=new Kn;tr.state=1,Object.keys(tr).forEach(function(ar){qn[ar]=Zt.def(""+tr[ar])});var Yn=qn.buffer,sr=qn.type;return Zt("if(",Un,"(",hn,")){",qn.isStream,"=true;",Yn,"=",Sn,".createStream(",34962,",",hn,");",sr,"=",Yn,".dtype;","}else{",Yn,"=",Sn,".getBuffer(",hn,");","if(",Yn,"){",sr,"=",Yn,".dtype;",'}else if("constant" in ',hn,"){",qn.state,"=",2,";","if(typeof "+hn+'.constant === "number"){',qn[nt[0]],"=",hn,".constant;",nt.slice(1).map(function(ar){return qn[ar]}).join("="),"=0;","}else{",nt.map(function(ar,er){return qn[ar]+"="+hn+".constant.length>"+er+"?"+hn+".constant["+er+"]:0;"}).join(""),"}}else{","if(",Un,"(",hn,".buffer)){",Yn,"=",Sn,".createStream(",34962,",",hn,".buffer);","}else{",Yn,"=",Sn,".getBuffer(",hn,".buffer);","}",sr,'="type" in ',hn,"?",Cn.glTypes,"[",hn,".type]:",Yn,".dtype;",qn.normalized,"=!!",hn,".normalized;"),sn("size"),sn("offset"),sn("stride"),sn("divisor"),Zt("}}"),Zt.exit("if(",qn.isStream,"){",Sn,".destroyStream(",Yn,");","}"),qn})}),gn}function An(At,Wt,en,dn,gn){function _n(tr){var Yn=Yt[tr];Yn&&(sn[tr]=Yn)}var on=function(tr,Yn){if(typeof(sr=tr.static).frag=="string"&&typeof sr.vert=="string"){if(0<Object.keys(Yn.dynamic).length)return null;var sr=Yn.static,ar=Object.keys(sr);if(0<ar.length&&typeof sr[ar[0]]=="number"){for(var er=[],mr=0;mr<ar.length;++mr)er.push([0|sr[ar[mr]],ar[mr]]);return er}}return null}(At,Wt),Yt=function(tr,Yn,sr){function ar(br){if(br in er){var ur=er[br];br=!0;var kr,Er,$r=0|ur.x,Ii=0|ur.y;return"width"in ur?kr=0|ur.width:br=!1,"height"in ur?Er=0|ur.height:br=!1,new G(!br&&Yn&&Yn.thisDep,!br&&Yn&&Yn.contextDep,!br&&Yn&&Yn.propDep,function(Aa,Li){var ra=Aa.shared.context,Gr=kr;"width"in ur||(Gr=Li.def(ra,".","framebufferWidth","-",$r));var Ui=Er;return"height"in ur||(Ui=Li.def(ra,".","framebufferHeight","-",Ii)),[$r,Ii,Gr,Ui]})}if(br in mr){var Di=mr[br];return br=te(Di,function(Aa,Li){var ra=Aa.invoke(Li,Di),Gr=Aa.shared.context,Ui=Li.def(ra,".x|0"),$a=Li.def(ra,".y|0");return[Ui,$a,Li.def('"width" in ',ra,"?",ra,".width|0:","(",Gr,".","framebufferWidth","-",Ui,")"),ra=Li.def('"height" in ',ra,"?",ra,".height|0:","(",Gr,".","framebufferHeight","-",$a,")")]}),Yn&&(br.thisDep=br.thisDep||Yn.thisDep,br.contextDep=br.contextDep||Yn.contextDep,br.propDep=br.propDep||Yn.propDep),br}return Yn?new G(Yn.thisDep,Yn.contextDep,Yn.propDep,function(Aa,Li){var ra=Aa.shared.context;return[0,0,Li.def(ra,".","framebufferWidth"),Li.def(ra,".","framebufferHeight")]}):null}var er=tr.static,mr=tr.dynamic;if(tr=ar("viewport")){var Mr=tr;tr=new G(tr.thisDep,tr.contextDep,tr.propDep,function(br,ur){var kr=Mr.append(br,ur),Er=br.shared.context;return ur.set(Er,".viewportWidth",kr[2]),ur.set(Er,".viewportHeight",kr[3]),kr})}return{viewport:tr,scissor_box:ar("scissor.box")}}(At,Sn=qt(At)),Zt=Ut(At),sn=function(tr,Yn){var sr=tr.static,ar=tr.dynamic,er={};return $n.forEach(function(mr){function Mr(ur,kr){if(mr in sr){var Er=ur(sr[mr]);er[br]=re(function(){return Er})}else if(mr in ar){var $r=ar[mr];er[br]=te($r,function(Ii,Di){return kr(Ii,Di,Ii.invoke(Di,$r))})}}var br=Dt(mr);switch(mr){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":case"lineWidth":return Mr(function(ur){return ur},function(ur,kr,Er){return Er});case"depth.func":return Mr(function(ur){return Ft[ur]},function(ur,kr,Er){return kr.def(ur.constants.compareFuncs,"[",Er,"]")});case"depth.range":return Mr(function(ur){return ur},function(ur,kr,Er){return[kr.def("+",Er,"[0]"),kr=kr.def("+",Er,"[1]")]});case"blend.func":return Mr(function(ur){return[zt["srcRGB"in ur?ur.srcRGB:ur.src],zt["dstRGB"in ur?ur.dstRGB:ur.dst],zt["srcAlpha"in ur?ur.srcAlpha:ur.src],zt["dstAlpha"in ur?ur.dstAlpha:ur.dst]]},function(ur,kr,Er){function $r(Li,ra){return kr.def('"',Li,ra,'" in ',Er,"?",Er,".",Li,ra,":",Er,".",Li)}ur=ur.constants.blendFuncs;var Ii=$r("src","RGB"),Di=$r("dst","RGB"),Aa=(Ii=kr.def(ur,"[",Ii,"]"),kr.def(ur,"[",$r("src","Alpha"),"]"));return[Ii,Di=kr.def(ur,"[",Di,"]"),Aa,ur=kr.def(ur,"[",$r("dst","Alpha"),"]")]});case"blend.equation":return Mr(function(ur){return typeof ur=="string"?[vr[ur],vr[ur]]:typeof ur=="object"?[vr[ur.rgb],vr[ur.alpha]]:void 0},function(ur,kr,Er){var $r=ur.constants.blendEquations,Ii=kr.def(),Di=kr.def();return(ur=ur.cond("typeof ",Er,'==="string"')).then(Ii,"=",Di,"=",$r,"[",Er,"];"),ur.else(Ii,"=",$r,"[",Er,".rgb];",Di,"=",$r,"[",Er,".alpha];"),kr(ur),[Ii,Di]});case"blend.color":return Mr(function(ur){return g(4,function(kr){return+ur[kr]})},function(ur,kr,Er){return g(4,function($r){return kr.def("+",Er,"[",$r,"]")})});case"stencil.mask":return Mr(function(ur){return 0|ur},function(ur,kr,Er){return kr.def(Er,"|0")});case"stencil.func":return Mr(function(ur){return[Ft[ur.cmp||"keep"],ur.ref||0,"mask"in ur?ur.mask:-1]},function(ur,kr,Er){return[ur=kr.def('"cmp" in ',Er,"?",ur.constants.compareFuncs,"[",Er,".cmp]",":",7680),kr.def(Er,".ref|0"),kr=kr.def('"mask" in ',Er,"?",Er,".mask|0:-1")]});case"stencil.opFront":case"stencil.opBack":return Mr(function(ur){return[mr==="stencil.opBack"?1029:1028,Pt[ur.fail||"keep"],Pt[ur.zfail||"keep"],Pt[ur.zpass||"keep"]]},function(ur,kr,Er){function $r(Di){return kr.def('"',Di,'" in ',Er,"?",Ii,"[",Er,".",Di,"]:",7680)}var Ii=ur.constants.stencilOps;return[mr==="stencil.opBack"?1029:1028,$r("fail"),$r("zfail"),$r("zpass")]});case"polygonOffset.offset":return Mr(function(ur){return[0|ur.factor,0|ur.units]},function(ur,kr,Er){return[kr.def(Er,".factor|0"),kr=kr.def(Er,".units|0")]});case"cull.face":return Mr(function(ur){var kr=0;return ur==="front"?kr=1028:ur==="back"&&(kr=1029),kr},function(ur,kr,Er){return kr.def(Er,'==="front"?',1028,":",1029)});case"frontFace":return Mr(function(ur){return Ze[ur]},function(ur,kr,Er){return kr.def(Er+'==="cw"?2304:2305')});case"colorMask":return Mr(function(ur){return ur.map(function(kr){return!!kr})},function(ur,kr,Er){return g(4,function($r){return"!!"+Er+"["+$r+"]"})});case"sample.coverage":return Mr(function(ur){return["value"in ur?ur.value:1,!!ur.invert]},function(ur,kr,Er){return[kr.def('"value" in ',Er,"?+",Er,".value:1"),kr=kr.def("!!",Er,".invert")]})}}),er}(At),hn=Kt(At,0,on);_n("viewport"),_n(Dt("scissor.box"));var Sn,Cn=0<Object.keys(sn).length;if((Sn={framebuffer:Sn,draw:Zt,shader:hn,state:sn,dirty:Cn,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}}).profile=function(tr){var Yn,sr=tr.static;if(tr=tr.dynamic,"profile"in sr){var ar=!!sr.profile;(Yn=re(function(mr,Mr){return ar})).enable=ar}else if("profile"in tr){var er=tr.profile;Yn=te(er,function(mr,Mr){return mr.invoke(Mr,er)})}return Yn}(At),Sn.uniforms=function(tr,Yn){var sr=tr.static,ar=tr.dynamic,er={};return Object.keys(sr).forEach(function(mr){var Mr,br=sr[mr];if(typeof br=="number"||typeof br=="boolean")Mr=re(function(){return br});else if(typeof br=="function"){var ur=br._reglType;ur==="texture2d"||ur==="textureCube"?Mr=re(function(kr){return kr.link(br)}):ur!=="framebuffer"&&ur!=="framebufferCube"||(Mr=re(function(kr){return kr.link(br.color[0])}))}else T(br)&&(Mr=re(function(kr){return kr.global.def("[",g(br.length,function(Er){return br[Er]}),"]")}));Mr.value=br,er[mr]=Mr}),Object.keys(ar).forEach(function(mr){var Mr=ar[mr];er[mr]=te(Mr,function(br,ur){return br.invoke(ur,Mr)})}),er}(en),Sn.drawVAO=Sn.scopeVAO=Zt.vao,!Sn.drawVAO&&hn.program&&!on&&ft.angle_instanced_arrays&&Zt.static.elements){var Un=!0;if(At=hn.program.attributes.map(function(tr){return tr=Wt.static[tr],Un=Un&&!!tr,tr}),Un&&0<At.length){var qn=yt.getVAO(yt.createVAO({attributes:At,elements:Zt.static.elements}));Sn.drawVAO=new G(null,null,null,function(tr,Yn){return tr.link(qn)}),Sn.useVAO=!0}}return on?Sn.useVAO=!0:Sn.attributes=Rn(Wt),Sn.context=function(tr){var Yn=tr.static,sr=tr.dynamic,ar={};return Object.keys(Yn).forEach(function(er){var mr=Yn[er];ar[er]=re(function(Mr,br){return typeof mr=="number"||typeof mr=="boolean"?""+mr:Mr.link(mr)})}),Object.keys(sr).forEach(function(er){var mr=sr[er];ar[er]=te(mr,function(Mr,br){return Mr.invoke(br,mr)})}),ar}(dn),Sn}function mn(At,Wt,en){var dn=At.shared.context,gn=At.scope();Object.keys(en).forEach(function(_n){Wt.save(dn,"."+_n);var on=en[_n].append(At,Wt);Array.isArray(on)?gn(dn,".",_n,"=[",on.join(),"];"):gn(dn,".",_n,"=",on,";")}),Wt(gn)}function tn(At,Wt,en,dn){var gn,_n=(Yt=At.shared).gl,on=Yt.framebuffer;an&&(gn=Wt.def(Yt.extensions,".webgl_draw_buffers"));var Yt=(Zt=At.constants).drawBuffer,Zt=Zt.backBuffer;At=en?en.append(At,Wt):Wt.def(on,".next"),dn||Wt("if(",At,"!==",on,".cur){"),Wt("if(",At,"){",_n,".bindFramebuffer(",36160,",",At,".framebuffer);"),an&&Wt(gn,".drawBuffersWEBGL(",Yt,"[",At,".colorAttachments.length]);"),Wt("}else{",_n,".bindFramebuffer(",36160,",null);"),an&&Wt(gn,".drawBuffersWEBGL(",Zt,");"),Wt("}",on,".cur=",At,";"),dn||Wt("}")}function fn(At,Wt,en){var dn=At.shared,gn=dn.gl,_n=At.current,on=At.next,Yt=dn.current,Zt=dn.next,sn=At.cond(Yt,".dirty");$n.forEach(function(hn){var Sn,Cn;if(!((hn=Dt(hn))in en.state))if(hn in on){Sn=on[hn],Cn=_n[hn];var Un=g(yn[hn].length,function(qn){return sn.def(Sn,"[",qn,"]")});sn(At.cond(Un.map(function(qn,tr){return qn+"!=="+Cn+"["+tr+"]"}).join("||")).then(gn,".",Qn[hn],"(",Un,");",Un.map(function(qn,tr){return Cn+"["+tr+"]="+qn}).join(";"),";"))}else Sn=sn.def(Zt,".",hn),Un=At.cond(Sn,"!==",Yt,".",hn),sn(Un),hn in Hn?Un(At.cond(Sn).then(gn,".enable(",Hn[hn],");").else(gn,".disable(",Hn[hn],");"),Yt,".",hn,"=",Sn,";"):Un(gn,".",Qn[hn],"(",Sn,");",Yt,".",hn,"=",Sn,";")}),Object.keys(en.state).length===0&&sn(Yt,".dirty=false;"),Wt(sn)}function rn(At,Wt,en,dn){var gn,_n=At.shared,on=At.current,Yt=_n.current,Zt=_n.gl;H(Object.keys(en)).forEach(function(sn){var hn=en[sn];if(!dn||dn(hn)){var Sn=hn.append(At,Wt);if(Hn[sn]){var Cn=Hn[sn];ie(hn)?(gn=At.link(Sn,{stable:!0}),Wt(At.cond(gn).then(Zt,".enable(",Cn,");").else(Zt,".disable(",Cn,");")),Wt(Yt,".",sn,"=",gn,";")):(Wt(At.cond(Sn).then(Zt,".enable(",Cn,");").else(Zt,".disable(",Cn,");")),Wt(Yt,".",sn,"=",Sn,";"))}else if(T(Sn)){var Un=on[sn];Wt(Zt,".",Qn[sn],"(",Sn,");",Sn.map(function(qn,tr){return Un+"["+tr+"]="+qn}).join(";"),";")}else ie(hn)?(gn=At.link(Sn,{stable:!0}),Wt(Zt,".",Qn[sn],"(",gn,");",Yt,".",sn,"=",gn,";")):Wt(Zt,".",Qn[sn],"(",Sn,");",Yt,".",sn,"=",Sn,";")}})}function pn(At,Wt){nn&&(At.instancing=Wt.def(At.shared.extensions,".angle_instanced_arrays"))}function wn(At,Wt,en,dn,gn){function _n(){return typeof performance>"u"?"Date.now()":"performance.now()"}function on(tr){tr(sn=Wt.def(),"=",_n(),";"),typeof gn=="string"?tr(Cn,".count+=",gn,";"):tr(Cn,".count++;"),wt&&(dn?tr(hn=Wt.def(),"=",qn,".getNumPendingQueries();"):tr(qn,".beginQuery(",Cn,");"))}function Yt(tr){tr(Cn,".cpuTime+=",_n(),"-",sn,";"),wt&&(dn?tr(qn,".pushScopeStats(",hn,",",qn,".getNumPendingQueries(),",Cn,");"):tr(qn,".endQuery();"))}function Zt(tr){var Yn=Wt.def(Un,".profile");Wt(Un,".profile=",tr,";"),Wt.exit(Un,".profile=",Yn,";")}var sn,hn,Sn=At.shared,Cn=At.stats,Un=Sn.current,qn=Sn.timer;if(en=en.profile){if(ie(en))return void(en.enable?(on(Wt),Yt(Wt.exit),Zt("true")):Zt("false"));Zt(en=en.append(At,Wt))}else en=Wt.def(Un,".profile");on(Sn=At.block()),Wt("if(",en,"){",Sn,"}"),Yt(At=At.block()),Wt.exit("if(",en,"){",At,"}")}function kn(At,Wt,en,dn,gn){function _n(Yt,Zt,sn){function hn(){Wt("if(!",qn,".buffer){",Cn,".enableVertexAttribArray(",Un,");}");var ar,er=sn.type;ar=sn.size?Wt.def(sn.size,"||",Zt):Zt,Wt("if(",qn,".type!==",er,"||",qn,".size!==",ar,"||",sr.map(function(mr){return qn+"."+mr+"!=="+sn[mr]}).join("||"),"){",Cn,".bindBuffer(",34962,",",tr,".buffer);",Cn,".vertexAttribPointer(",[Un,ar,er,sn.normalized,sn.stride,sn.offset],");",qn,".type=",er,";",qn,".size=",ar,";",sr.map(function(mr){return qn+"."+mr+"="+sn[mr]+";"}).join(""),"}"),nn&&(er=sn.divisor,Wt("if(",qn,".divisor!==",er,"){",At.instancing,".vertexAttribDivisorANGLE(",[Un,er],");",qn,".divisor=",er,";}"))}function Sn(){Wt("if(",qn,".buffer){",Cn,".disableVertexAttribArray(",Un,");",qn,".buffer=null;","}if(",nt.map(function(ar,er){return qn+"."+ar+"!=="+Yn[er]}).join("||"),"){",Cn,".vertexAttrib4f(",Un,",",Yn,");",nt.map(function(ar,er){return qn+"."+ar+"="+Yn[er]+";"}).join(""),"}")}var Cn=on.gl,Un=Wt.def(Yt,".location"),qn=Wt.def(on.attributes,"[",Un,"]");Yt=sn.state;var tr=sn.buffer,Yn=[sn.x,sn.y,sn.z,sn.w],sr=["buffer","normalized","offset","stride"];Yt===1?hn():Yt===2?Sn():(Wt("if(",Yt,"===",1,"){"),hn(),Wt("}else{"),Sn(),Wt("}"))}var on=At.shared;dn.forEach(function(Yt){var Zt,sn=Yt.name,hn=en.attributes[sn];if(hn){if(!gn(hn))return;Zt=hn.append(At,Wt)}else{if(!gn(Je))return;var Sn=At.scopeAttrib(sn);Zt={},Object.keys(new Kn).forEach(function(Cn){Zt[Cn]=Wt.def(Sn,".",Cn)})}_n(At.link(Yt),function(Cn){switch(Cn){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(Yt.info.type),Zt)})}function Pn(At,Wt,en,dn,gn,_n){for(var on,Yt=At.shared,Zt=Yt.gl,sn=0;sn<dn.length;++sn){var hn,Sn=(qn=dn[sn]).name,Cn=qn.info.type,Un=en.uniforms[Sn],qn=At.link(qn)+".location";if(Un){if(!gn(Un))continue;if(ie(Un)){if(Sn=Un.value,Cn===35678||Cn===35680)Wt(Zt,".uniform1i(",qn,",",(Cn=At.link(Sn._texture||Sn.color[0]._texture))+".bind());"),Wt.exit(Cn,".unbind();");else if(Cn===35674||Cn===35675||Cn===35676)Un=2,Cn===35675?Un=3:Cn===35676&&(Un=4),Wt(Zt,".uniformMatrix",Un,"fv(",qn,",false,",Sn=At.global.def("new Float32Array(["+Array.prototype.slice.call(Sn)+"])"),");");else{switch(Cn){case 5126:on="1f";break;case 35664:on="2f";break;case 35665:on="3f";break;case 35666:on="4f";break;case 35670:case 5124:on="1i";break;case 35671:case 35667:on="2i";break;case 35672:case 35668:on="3i";break;case 35673:case 35669:on="4i"}Wt(Zt,".uniform",on,"(",qn,",",T(Sn)?Array.prototype.slice.call(Sn):Sn,");")}continue}hn=Un.append(At,Wt)}else{if(!gn(Je))continue;hn=Wt.def(Yt.uniforms,"[",Ke.id(Sn),"]")}switch(Cn===35678?Wt("if(",hn,"&&",hn,'._reglType==="framebuffer"){',hn,"=",hn,".color[0];","}"):Cn===35680&&Wt("if(",hn,"&&",hn,'._reglType==="framebufferCube"){',hn,"=",hn,".color[0];","}"),Sn=1,Cn){case 35678:case 35680:Cn=Wt.def(hn,"._texture"),Wt(Zt,".uniform1i(",qn,",",Cn,".bind());"),Wt.exit(Cn,".unbind();");continue;case 5124:case 35670:on="1i";break;case 35667:case 35671:on="2i",Sn=2;break;case 35668:case 35672:on="3i",Sn=3;break;case 35669:case 35673:on="4i",Sn=4;break;case 5126:on="1f";break;case 35664:on="2f",Sn=2;break;case 35665:on="3f",Sn=3;break;case 35666:on="4f",Sn=4;break;case 35674:on="Matrix2fv";break;case 35675:on="Matrix3fv";break;case 35676:on="Matrix4fv"}if(on.charAt(0)==="M"){Wt(Zt,".uniform",on,"(",qn,","),qn=Math.pow(Cn-35674+2,2);var tr=At.global.def("new Float32Array(",qn,")");Array.isArray(hn)?Wt("false,(",g(qn,function(sr){return tr+"["+sr+"]="+hn[sr]}),",",tr,")"):Wt("false,(Array.isArray(",hn,")||",hn," instanceof Float32Array)?",hn,":(",g(qn,function(sr){return tr+"["+sr+"]="+hn+"["+sr+"]"}),",",tr,")"),Wt(");")}else{if(1<Sn){Cn=[];var Yn=[];for(Un=0;Un<Sn;++Un)Array.isArray(hn)?Yn.push(hn[Un]):Yn.push(Wt.def(hn+"["+Un+"]")),_n&&Cn.push(Wt.def());_n&&Wt("if(!",At.batchId,"||",Cn.map(function(sr,ar){return sr+"!=="+Yn[ar]}).join("||"),"){",Cn.map(function(sr,ar){return sr+"="+Yn[ar]+";"}).join("")),Wt(Zt,".uniform",on,"(",qn,",",Yn.join(","),");")}else _n&&(Cn=Wt.def(),Wt("if(!",At.batchId,"||",Cn,"!==",hn,"){",Cn,"=",hn,";")),Wt(Zt,".uniform",on,"(",qn,",",hn,");");_n&&Wt("}")}}}function On(At,Wt,en,dn){function gn(er){var mr=Cn[er];return mr?mr.contextDep&&dn.contextDynamic||mr.propDep?mr.append(At,en):mr.append(At,Wt):Wt.def(Sn,".",er)}function _n(){function er(){en(Zt,".drawElementsInstancedANGLE(",[qn,Yn,sr,tr+"<<(("+sr+"-5121)>>1)",Yt],");")}function mr(){en(Zt,".drawArraysInstancedANGLE(",[qn,tr,Yn,Yt],");")}Un&&Un!=="null"?ar?er():(en("if(",Un,"){"),er(),en("}else{"),mr(),en("}")):mr()}function on(){function er(){en(hn+".drawElements("+[qn,Yn,sr,tr+"<<(("+sr+"-5121)>>1)"]+");")}function mr(){en(hn+".drawArrays("+[qn,tr,Yn]+");")}Un&&Un!=="null"?ar?er():(en("if(",Un,"){"),er(),en("}else{"),mr(),en("}")):mr()}var Yt,Zt,sn=At.shared,hn=sn.gl,Sn=sn.draw,Cn=dn.draw,Un=function(){var er=Cn.elements,mr=Wt;return er?((er.contextDep&&dn.contextDynamic||er.propDep)&&(mr=en),er=er.append(At,mr),Cn.elementsActive&&mr("if("+er+")"+hn+".bindBuffer(34963,"+er+".buffer.buffer);")):(er=mr.def(),mr(er,"=",Sn,".","elements",";","if(",er,"){",hn,".bindBuffer(",34963,",",er,".buffer.buffer);}","else if(",sn.vao,".currentVAO){",er,"=",At.shared.elements+".getElements("+sn.vao,".currentVAO.elements);",In?"":"if("+er+")"+hn+".bindBuffer(34963,"+er+".buffer.buffer);","}")),er}(),qn=gn("primitive"),tr=gn("offset"),Yn=function(){var er=Cn.count,mr=Wt;return er?((er.contextDep&&dn.contextDynamic||er.propDep)&&(mr=en),er=er.append(At,mr)):er=mr.def(Sn,".","count"),er}();if(typeof Yn=="number"){if(Yn===0)return}else en("if(",Yn,"){"),en.exit("}");nn&&(Yt=gn("instances"),Zt=At.instancing);var sr=Un+".type",ar=Cn.elements&&ie(Cn.elements)&&!Cn.vaoActive;nn&&(typeof Yt!="number"||0<=Yt)?typeof Yt=="string"?(en("if(",Yt,">0){"),_n(),en("}else if(",Yt,"<0){"),on(),en("}")):_n():on()}function En(At,Wt,en,dn,gn){return gn=(Wt=un()).proc("body",gn),nn&&(Wt.instancing=gn.def(Wt.shared.extensions,".angle_instanced_arrays")),At(Wt,gn,en,dn),Wt.compile().body}function Vn(At,Wt,en,dn){pn(At,Wt),en.useVAO?en.drawVAO?Wt(At.shared.vao,".setVAO(",en.drawVAO.append(At,Wt),");"):Wt(At.shared.vao,".setVAO(",At.shared.vao,".targetVAO);"):(Wt(At.shared.vao,".setVAO(null);"),kn(At,Wt,en,dn.attributes,function(){return!0})),Pn(At,Wt,en,dn.uniforms,function(){return!0},!1),On(At,Wt,Wt,en)}function Bn(At,Wt,en,dn){function gn(){return!0}At.batchId="a1",pn(At,Wt),kn(At,Wt,en,dn.attributes,gn),Pn(At,Wt,en,dn.uniforms,gn,!1),On(At,Wt,Wt,en)}function Wn(At,Wt,en,dn){function gn(Sn){return Sn.contextDep&&on||Sn.propDep}function _n(Sn){return!gn(Sn)}pn(At,Wt);var on=en.contextDep,Yt=Wt.def(),Zt=Wt.def();At.shared.props=Zt,At.batchId=Yt;var sn=At.scope(),hn=At.scope();Wt(sn.entry,"for(",Yt,"=0;",Yt,"<","a1",";++",Yt,"){",Zt,"=","a0","[",Yt,"];",hn,"}",sn.exit),en.needsContext&&mn(At,hn,en.context),en.needsFramebuffer&&tn(At,hn,en.framebuffer),rn(At,hn,en.state,gn),en.profile&&gn(en.profile)&&wn(At,hn,en,!1,!0),dn?(en.useVAO?en.drawVAO?gn(en.drawVAO)?hn(At.shared.vao,".setVAO(",en.drawVAO.append(At,hn),");"):sn(At.shared.vao,".setVAO(",en.drawVAO.append(At,sn),");"):sn(At.shared.vao,".setVAO(",At.shared.vao,".targetVAO);"):(sn(At.shared.vao,".setVAO(null);"),kn(At,sn,en,dn.attributes,_n),kn(At,hn,en,dn.attributes,gn)),Pn(At,sn,en,dn.uniforms,_n,!1),Pn(At,hn,en,dn.uniforms,gn,!0),On(At,sn,hn,en)):(Wt=At.global.def("{}"),dn=en.shader.progVar.append(At,hn),Zt=hn.def(dn,".id"),sn=hn.def(Wt,"[",Zt,"]"),hn(At.shared.gl,".useProgram(",dn,".program);","if(!",sn,"){",sn,"=",Wt,"[",Zt,"]=",At.link(function(Sn){return En(Bn,At,en,Sn,2)}),"(",dn,");}",sn,".call(this,a0[",Yt,"],",Yt,");"))}function rr(At,Wt){function en(Yt){var Zt=Wt.shader[Yt];Zt&&(Zt=Zt.append(At,dn),isNaN(Zt)?dn.set(gn.shader,"."+Yt,Zt):dn.set(gn.shader,"."+Yt,At.link(Zt,{stable:!0})))}var dn=At.proc("scope",3);At.batchId="a2";var gn=At.shared,_n=gn.current;if(mn(At,dn,Wt.context),Wt.framebuffer&&Wt.framebuffer.append(At,dn),H(Object.keys(Wt.state)).forEach(function(Yt){var Zt=Wt.state[Yt],sn=Zt.append(At,dn);T(sn)?sn.forEach(function(hn,Sn){isNaN(hn)?dn.set(At.next[Yt],"["+Sn+"]",hn):dn.set(At.next[Yt],"["+Sn+"]",At.link(hn,{stable:!0}))}):ie(Zt)?dn.set(gn.next,"."+Yt,At.link(sn,{stable:!0})):dn.set(gn.next,"."+Yt,sn)}),wn(At,dn,Wt,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(Yt){var Zt=Wt.draw[Yt];Zt&&(Zt=Zt.append(At,dn),isNaN(Zt)?dn.set(gn.draw,"."+Yt,Zt):dn.set(gn.draw,"."+Yt,At.link(Zt),{stable:!0}))}),Object.keys(Wt.uniforms).forEach(function(Yt){var Zt=Wt.uniforms[Yt].append(At,dn);Array.isArray(Zt)&&(Zt="["+Zt.map(function(sn){return isNaN(sn)?sn:At.link(sn,{stable:!0})})+"]"),dn.set(gn.uniforms,"["+At.link(Ke.id(Yt),{stable:!0})+"]",Zt)}),Object.keys(Wt.attributes).forEach(function(Yt){var Zt=Wt.attributes[Yt].append(At,dn),sn=At.scopeAttrib(Yt);Object.keys(new Kn).forEach(function(hn){dn.set(sn,"."+hn,Zt[hn])})}),Wt.scopeVAO){var on=Wt.scopeVAO.append(At,dn);isNaN(on)?dn.set(gn.vao,".targetVAO",on):dn.set(gn.vao,".targetVAO",At.link(on,{stable:!0}))}en("vert"),en("frag"),0<Object.keys(Wt.state).length&&(dn(_n,".dirty=true;"),dn.exit(_n,".dirty=true;")),dn("a1(",At.shared.context,",a0,",At.batchId,");")}function ir(At,Wt,en){var dn=Wt.static[en];if(dn&&function(hn){if(typeof hn=="object"&&!T(hn)){for(var Sn=Object.keys(hn),Cn=0;Cn<Sn.length;++Cn)if(ue.isDynamic(hn[Sn[Cn]]))return!0;return!1}}(dn)){var gn=At.global,_n=Object.keys(dn),on=!1,Yt=!1,Zt=!1,sn=At.global.def("{}");_n.forEach(function(hn){var Sn=dn[hn];if(ue.isDynamic(Sn))typeof Sn=="function"&&(Sn=dn[hn]=ue.unbox(Sn)),hn=te(Sn,null),on=on||hn.thisDep,Zt=Zt||hn.propDep,Yt=Yt||hn.contextDep;else{switch(gn(sn,".",hn,"="),typeof Sn){case"number":gn(Sn);break;case"string":gn('"',Sn,'"');break;case"object":Array.isArray(Sn)&&gn("[",Sn.join(),"]");break;default:gn(At.link(Sn))}gn(";")}}),Wt.dynamic[en]=new ue.DynamicVariable(4,{thisDep:on,contextDep:Yt,propDep:Zt,ref:sn,append:function(hn,Sn){_n.forEach(function(Cn){var Un=dn[Cn];ue.isDynamic(Un)&&(Un=hn.invoke(Sn,Un),Sn(sn,".",Cn,"=",Un,";"))})}}),delete Wt.static[en]}}var Kn=yt.Record,vr={add:32774,subtract:32778,"reverse subtract":32779};ft.ext_blend_minmax&&(vr.min=32775,vr.max=32776);var nn=ft.angle_instanced_arrays,an=ft.webgl_draw_buffers,In=ft.oes_vertex_array_object,yn={dirty:!0,profile:Rt.profile},Dn={},$n=[],Hn={},Qn={};Nt("dither",3024),Nt("blend.enable",3042),Xt("blend.color","blendColor",[0,0,0,0]),Xt("blend.equation","blendEquationSeparate",[32774,32774]),Xt("blend.func","blendFuncSeparate",[1,0,1,0]),Nt("depth.enable",2929,!0),Xt("depth.func","depthFunc",513),Xt("depth.range","depthRange",[0,1]),Xt("depth.mask","depthMask",!0),Xt("colorMask","colorMask",[!0,!0,!0,!0]),Nt("cull.enable",2884),Xt("cull.face","cullFace",1029),Xt("frontFace","frontFace",2305),Xt("lineWidth","lineWidth",1),Nt("polygonOffset.enable",32823),Xt("polygonOffset.offset","polygonOffset",[0,0]),Nt("sample.alpha",32926),Nt("sample.enable",32928),Xt("sample.coverage","sampleCoverage",[1,!1]),Nt("stencil.enable",2960),Xt("stencil.mask","stencilMask",-1),Xt("stencil.func","stencilFunc",[519,0,-1]),Xt("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Xt("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Nt("scissor.enable",3089),Xt("scissor.box","scissor",[0,0,qe.drawingBufferWidth,qe.drawingBufferHeight]),Xt("viewport","viewport",[0,0,qe.drawingBufferWidth,qe.drawingBufferHeight]);var xr={gl:qe,context:Lt,strings:Ke,next:Dn,current:yn,draw:dt,elements:Ve,buffer:Ue,shader:bt,attributes:yt.state,vao:yt,uniforms:gt,framebuffer:Xe,extensions:ft,timer:wt,isBufferArgs:j},Qt={primTypes:Oe,compareFuncs:Ft,blendFuncs:zt,blendEquations:vr,stencilOps:Pt,glTypes:Ie,orientationType:Ze};an&&(Qt.backBuffer=[1029],Qt.drawBuffer=g(ot.maxDrawbuffers,function(At){return At===0?[0]:g(At,function(Wt){return 36064+Wt})}));var xn=0;return{next:Dn,current:yn,procs:function(){var At=un(),Wt=At.proc("poll"),en=At.proc("refresh"),dn=At.block();Wt(dn),en(dn);var gn,_n=(Zt=At.shared).gl,on=Zt.next,Yt=Zt.current;dn(Yt,".dirty=false;"),tn(At,Wt),tn(At,en,null,!0),nn&&(gn=At.link(nn)),ft.oes_vertex_array_object&&en(At.link(ft.oes_vertex_array_object),".bindVertexArrayOES(null);");var Zt=en.def(Zt.attributes),sn=en.def(0),hn=At.cond(sn,".buffer");hn.then(_n,".enableVertexAttribArray(i);",_n,".bindBuffer(",34962,",",sn,".buffer.buffer);",_n,".vertexAttribPointer(i,",sn,".size,",sn,".type,",sn,".normalized,",sn,".stride,",sn,".offset);").else(_n,".disableVertexAttribArray(i);",_n,".vertexAttrib4f(i,",sn,".x,",sn,".y,",sn,".z,",sn,".w);",sn,".buffer=null;");var Sn=At.link(ot.maxAttributes,{stable:!0});return en("for(var i=0;i<",Sn,";++i){",sn,"=",Zt,"[i];",hn,"}"),nn&&en("for(var i=0;i<",Sn,";++i){",gn,".vertexAttribDivisorANGLE(i,",Zt,"[i].divisor);","}"),en(At.shared.vao,".currentVAO=null;",At.shared.vao,".setVAO(",At.shared.vao,".targetVAO);"),Object.keys(Hn).forEach(function(Cn){var Un=Hn[Cn],qn=dn.def(on,".",Cn),tr=At.block();tr("if(",qn,"){",_n,".enable(",Un,")}else{",_n,".disable(",Un,")}",Yt,".",Cn,"=",qn,";"),en(tr),Wt("if(",qn,"!==",Yt,".",Cn,"){",tr,"}")}),Object.keys(Qn).forEach(function(Cn){var Un,qn,tr=Qn[Cn],Yn=yn[Cn],sr=At.block();sr(_n,".",tr,"("),T(Yn)?(tr=Yn.length,Un=At.global.def(on,".",Cn),qn=At.global.def(Yt,".",Cn),sr(g(tr,function(ar){return Un+"["+ar+"]"}),");",g(tr,function(ar){return qn+"["+ar+"]="+Un+"["+ar+"];"}).join("")),Wt("if(",g(tr,function(ar){return Un+"["+ar+"]!=="+qn+"["+ar+"]"}).join("||"),"){",sr,"}")):(Un=dn.def(on,".",Cn),qn=dn.def(Yt,".",Cn),sr(Un,");",Yt,".",Cn,"=",Un,";"),Wt("if(",Un,"!==",qn,"){",sr,"}")),en(sr)}),At.compile()}(),compile:function(At,Wt,en,dn,gn){var _n=un();_n.stats=_n.link(gn),Object.keys(Wt.static).forEach(function(Yt){ir(_n,Wt,Yt)}),Et.forEach(function(Yt){ir(_n,At,Yt)});var on=An(At,Wt,en,dn);return on.shader.program&&(on.shader.program.attributes.sort(function(Yt,Zt){return Yt.name<Zt.name?-1:1}),on.shader.program.uniforms.sort(function(Yt,Zt){return Yt.name<Zt.name?-1:1})),function(Yt,Zt){var sn=Yt.proc("draw",1);pn(Yt,sn),mn(Yt,sn,Zt.context),tn(Yt,sn,Zt.framebuffer),fn(Yt,sn,Zt),rn(Yt,sn,Zt.state),wn(Yt,sn,Zt,!1,!0);var hn=Zt.shader.progVar.append(Yt,sn);if(sn(Yt.shared.gl,".useProgram(",hn,".program);"),Zt.shader.program)Vn(Yt,sn,Zt,Zt.shader.program);else{sn(Yt.shared.vao,".setVAO(null);");var Sn=Yt.global.def("{}"),Cn=sn.def(hn,".id"),Un=sn.def(Sn,"[",Cn,"]");sn(Yt.cond(Un).then(Un,".call(this,a0);").else(Un,"=",Sn,"[",Cn,"]=",Yt.link(function(qn){return En(Vn,Yt,Zt,qn,1)}),"(",hn,");",Un,".call(this,a0);"))}0<Object.keys(Zt.state).length&&sn(Yt.shared.current,".dirty=true;"),Yt.shared.vao&&sn(Yt.shared.vao,".setVAO(null);")}(_n,on),rr(_n,on),function(Yt,Zt){function sn(Yn){return Yn.contextDep&&Sn||Yn.propDep}var hn=Yt.proc("batch",2);Yt.batchId="0",pn(Yt,hn);var Sn=!1,Cn=!0;Object.keys(Zt.context).forEach(function(Yn){Sn=Sn||Zt.context[Yn].propDep}),Sn||(mn(Yt,hn,Zt.context),Cn=!1);var Un=!1;if((qn=Zt.framebuffer)?(qn.propDep?Sn=Un=!0:qn.contextDep&&Sn&&(Un=!0),Un||tn(Yt,hn,qn)):tn(Yt,hn,null),Zt.state.viewport&&Zt.state.viewport.propDep&&(Sn=!0),fn(Yt,hn,Zt),rn(Yt,hn,Zt.state,function(Yn){return!sn(Yn)}),Zt.profile&&sn(Zt.profile)||wn(Yt,hn,Zt,!1,"a1"),Zt.contextDep=Sn,Zt.needsContext=Cn,Zt.needsFramebuffer=Un,(Cn=Zt.shader.progVar).contextDep&&Sn||Cn.propDep)Wn(Yt,hn,Zt,null);else if(Cn=Cn.append(Yt,hn),hn(Yt.shared.gl,".useProgram(",Cn,".program);"),Zt.shader.program)Wn(Yt,hn,Zt,Zt.shader.program);else{hn(Yt.shared.vao,".setVAO(null);");var qn=Yt.global.def("{}"),tr=(Un=hn.def(Cn,".id"),hn.def(qn,"[",Un,"]"));hn(Yt.cond(tr).then(tr,".call(this,a0,a1);").else(tr,"=",qn,"[",Un,"]=",Yt.link(function(Yn){return En(Wn,Yt,Zt,Yn,2)}),"(",Cn,");",tr,".call(this,a0,a1);"))}0<Object.keys(Zt.state).length&&hn(Yt.shared.current,".dirty=true;"),Yt.shared.vao&&hn(Yt.shared.vao,".setVAO(null);")}(_n,on),$(_n.compile(),{destroy:function(){on.shader.program.destroy()}})}}}function J(qe,Ke){for(var ft=0;ft<qe.length;++ft)if(qe[ft]===Ke)return ft;return-1}var $=function(qe,Ke){for(var ft=Object.keys(Ke),ot=0;ot<ft.length;++ot)qe[ft[ot]]=Ke[ft[ot]];return qe},ae=0,ue={DynamicVariable:S,define:function(qe,Ke){return new S(qe,v(Ke+""))},isDynamic:function(qe){return typeof qe=="function"&&!qe._reglType||qe instanceof S},unbox:function qe(Ke,ft){return typeof Ke=="function"?new S(0,Ke):typeof Ke=="number"||typeof Ke=="boolean"?new S(5,Ke):Array.isArray(Ke)?new S(6,Ke.map(function(ot,Ue){return qe(ot)})):Ke instanceof S?Ke:void 0},accessor:v},ce={next:typeof requestAnimationFrame=="function"?function(qe){return requestAnimationFrame(qe)}:function(qe){return setTimeout(qe,16)},cancel:typeof cancelAnimationFrame=="function"?function(qe){return cancelAnimationFrame(qe)}:clearTimeout},de=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},pe=s();pe.zero=s();var me=function(qe,Ke){var ft=1;Ke.ext_texture_filter_anisotropic&&(ft=qe.getParameter(34047));var ot=1,Ue=1;Ke.webgl_draw_buffers&&(ot=qe.getParameter(34852),Ue=qe.getParameter(36063));var Ve=!!Ke.oes_texture_float;if(Ve){Ve=qe.createTexture(),qe.bindTexture(3553,Ve),qe.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var st=qe.createFramebuffer();if(qe.bindFramebuffer(36160,st),qe.framebufferTexture2D(36160,36064,3553,Ve,0),qe.bindTexture(3553,null),qe.checkFramebufferStatus(36160)!==36053)Ve=!1;else{qe.viewport(0,0,1,1),qe.clearColor(1,0,0,1),qe.clear(16384);var Xe=pe.allocType(5126,4);qe.readPixels(0,0,1,1,6408,5126,Xe),qe.getError()?Ve=!1:(qe.deleteFramebuffer(st),qe.deleteTexture(Ve),Ve=Xe[0]===1),pe.freeType(Xe)}}return Xe=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(Xe=qe.createTexture(),st=pe.allocType(5121,36),qe.activeTexture(33984),qe.bindTexture(34067,Xe),qe.texImage2D(34069,0,6408,3,3,0,6408,5121,st),pe.freeType(st),qe.bindTexture(34067,null),qe.deleteTexture(Xe),Xe=!qe.getError()),{colorBits:[qe.getParameter(3410),qe.getParameter(3411),qe.getParameter(3412),qe.getParameter(3413)],depthBits:qe.getParameter(3414),stencilBits:qe.getParameter(3415),subpixelBits:qe.getParameter(3408),extensions:Object.keys(Ke).filter(function(gt){return!!Ke[gt]}),maxAnisotropic:ft,maxDrawbuffers:ot,maxColorAttachments:Ue,pointSizeDims:qe.getParameter(33901),lineWidthDims:qe.getParameter(33902),maxViewportDims:qe.getParameter(3386),maxCombinedTextureUnits:qe.getParameter(35661),maxCubeMapSize:qe.getParameter(34076),maxRenderbufferSize:qe.getParameter(34024),maxTextureUnits:qe.getParameter(34930),maxTextureSize:qe.getParameter(3379),maxAttributes:qe.getParameter(34921),maxVertexUniforms:qe.getParameter(36347),maxVertexTextureUnits:qe.getParameter(35660),maxVaryingVectors:qe.getParameter(36348),maxFragmentUniforms:qe.getParameter(36349),glsl:qe.getParameter(35724),renderer:qe.getParameter(7937),vendor:qe.getParameter(7936),version:qe.getParameter(7938),readFloat:Ve,npotTextureCube:Xe}},be=function(qe){return qe instanceof Uint8Array||qe instanceof Uint16Array||qe instanceof Uint32Array||qe instanceof Int8Array||qe instanceof Int16Array||qe instanceof Int32Array||qe instanceof Float32Array||qe instanceof Float64Array||qe instanceof Uint8ClampedArray},we=function(qe){return Object.keys(qe).map(function(Ke){return qe[Ke]})},Te={shape:function(qe){for(var Ke=[];qe.length;qe=qe[0])Ke.push(qe.length);return Ke},flatten:function(qe,Ke,ft,ot){var Ue=1;if(Ke.length)for(var Ve=0;Ve<Ke.length;++Ve)Ue*=Ke[Ve];else Ue=0;switch(ft=ot||pe.allocType(ft,Ue),Ke.length){case 0:break;case 1:for(ot=Ke[0],Ke=0;Ke<ot;++Ke)ft[Ke]=qe[Ke];break;case 2:for(ot=Ke[0],Ke=Ke[1],Ve=Ue=0;Ve<ot;++Ve)for(var st=qe[Ve],Xe=0;Xe<Ke;++Xe)ft[Ue++]=st[Xe];break;case 3:i(qe,Ke[0],Ke[1],Ke[2],ft,0);break;default:a(qe,Ke,0,ft,0)}return ft}},Le={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Ie={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},_e={dynamic:35048,stream:35040,static:35044},fe=Te.flatten,le=Te.shape,ye=[];ye[5120]=1,ye[5122]=2,ye[5124]=4,ye[5121]=1,ye[5123]=2,ye[5125]=4,ye[5126]=4;var Oe={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Ae=new Float32Array(1),Se=new Uint32Array(Ae.buffer),Pe=[9984,9986,9985,9987],Fe=[0,6409,6410,6407,6408],Be={};Be[6409]=Be[6406]=Be[6402]=1,Be[34041]=Be[6410]=2,Be[6407]=Be[35904]=3,Be[6408]=Be[35906]=4;var xe=d("HTMLCanvasElement"),Me=d("OffscreenCanvas"),Ce=d("CanvasRenderingContext2D"),Ne=d("ImageBitmap"),Re=d("HTMLImageElement"),He=d("HTMLVideoElement"),Ye=Object.keys(Le).concat([xe,Me,Ce,Ne,Re,He]),Qe=[];Qe[5121]=1,Qe[5126]=4,Qe[36193]=2,Qe[5123]=2,Qe[5125]=4;var lt=[];lt[32854]=2,lt[32855]=2,lt[36194]=2,lt[34041]=4,lt[33776]=.5,lt[33777]=.5,lt[33778]=1,lt[33779]=1,lt[35986]=.5,lt[35987]=1,lt[34798]=1,lt[35840]=.5,lt[35841]=.25,lt[35842]=.5,lt[35843]=.25,lt[36196]=.5;var ut=[];ut[32854]=2,ut[32855]=2,ut[36194]=2,ut[33189]=2,ut[36168]=1,ut[34041]=4,ut[35907]=4,ut[34836]=16,ut[34842]=8,ut[34843]=6;var xt=function(qe,Ke,ft,ot,Ue){function Ve(dt){this.id=yt++,this.refCount=1,this.renderbuffer=dt,this.format=32854,this.height=this.width=0,Ue.profile&&(this.stats={size:0})}function st(dt){var Lt=dt.renderbuffer;qe.bindRenderbuffer(36161,null),qe.deleteRenderbuffer(Lt),dt.renderbuffer=null,dt.refCount=0,delete bt[dt.id],ot.renderbufferCount--}var Xe={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Ke.ext_srgb&&(Xe.srgba=35907),Ke.ext_color_buffer_half_float&&(Xe.rgba16f=34842,Xe.rgb16f=34843),Ke.webgl_color_buffer_float&&(Xe.rgba32f=34836);var gt=[];Object.keys(Xe).forEach(function(dt){gt[Xe[dt]]=dt});var yt=0,bt={};return Ve.prototype.decRef=function(){0>=--this.refCount&&st(this)},Ue.profile&&(ot.getTotalRenderbufferSize=function(){var dt=0;return Object.keys(bt).forEach(function(Lt){dt+=bt[Lt].stats.size}),dt}),{create:function(dt,Lt){function wt(Rt,Dt){var Nt=0,Xt=0,un=32854;if(typeof Rt=="object"&&Rt?("shape"in Rt?(Nt=0|(Xt=Rt.shape)[0],Xt=0|Xt[1]):("radius"in Rt&&(Nt=Xt=0|Rt.radius),"width"in Rt&&(Nt=0|Rt.width),"height"in Rt&&(Xt=0|Rt.height)),"format"in Rt&&(un=Xe[Rt.format])):typeof Rt=="number"?(Nt=0|Rt,Xt=typeof Dt=="number"?0|Dt:Nt):Rt||(Nt=Xt=1),Nt!==Ct.width||Xt!==Ct.height||un!==Ct.format)return wt.width=Ct.width=Nt,wt.height=Ct.height=Xt,Ct.format=un,qe.bindRenderbuffer(36161,Ct.renderbuffer),qe.renderbufferStorage(36161,un,Nt,Xt),Ue.profile&&(Ct.stats.size=ut[Ct.format]*Ct.width*Ct.height),wt.format=gt[Ct.format],wt}var Ct=new Ve(qe.createRenderbuffer());return bt[Ct.id]=Ct,ot.renderbufferCount++,wt(dt,Lt),wt.resize=function(Rt,Dt){var Nt=0|Rt,Xt=0|Dt||Nt;return Nt===Ct.width&&Xt===Ct.height||(wt.width=Ct.width=Nt,wt.height=Ct.height=Xt,qe.bindRenderbuffer(36161,Ct.renderbuffer),qe.renderbufferStorage(36161,Ct.format,Nt,Xt),Ue.profile&&(Ct.stats.size=ut[Ct.format]*Ct.width*Ct.height)),wt},wt._reglType="renderbuffer",wt._renderbuffer=Ct,Ue.profile&&(wt.stats=Ct.stats),wt.destroy=function(){Ct.decRef()},wt},clear:function(){we(bt).forEach(st)},restore:function(){we(bt).forEach(function(dt){dt.renderbuffer=qe.createRenderbuffer(),qe.bindRenderbuffer(36161,dt.renderbuffer),qe.renderbufferStorage(36161,dt.format,dt.width,dt.height)}),qe.bindRenderbuffer(36161,null)}}},_t=[];_t[6408]=4,_t[6407]=3;var mt=[];mt[5121]=1,mt[5126]=4,mt[36193]=2;var it=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],nt=["x","y","z","w"],Et="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),zt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Ft={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Pt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Ze={cw:2304,ccw:2305},Je=new G(!1,!1,!1,function(){});return function(qe){function Ke(){if(Bn.length===0)qt&&qt.update(),Kn=null;else{Kn=ce.next(Ke),bt();for(var nn=Bn.length-1;0<=nn;--nn){var an=Bn[nn];an&&an(An,null,0)}wt.flush(),qt&&qt.update()}}function ft(){!Kn&&0<Bn.length&&(Kn=ce.next(Ke))}function ot(){Kn&&(ce.cancel(Ke),Kn=null)}function Ue(nn){nn.preventDefault(),ot(),Wn.forEach(function(an){an()})}function Ve(nn){wt.getError(),Rt.restore(),pn.restore(),tn.restore(),wn.restore(),kn.restore(),Pn.restore(),rn.restore(),qt&&qt.restore(),On.procs.refresh(),ft(),rr.forEach(function(an){an()})}function st(nn){function an(At,Wt){var en={},dn={};return Object.keys(At).forEach(function(gn){var _n=At[gn];if(ue.isDynamic(_n))dn[gn]=ue.unbox(_n,gn);else{if(Wt&&Array.isArray(_n)){for(var on=0;on<_n.length;++on)if(ue.isDynamic(_n[on]))return void(dn[gn]=ue.unbox(_n,gn))}en[gn]=_n}}),{dynamic:dn,static:en}}var In=an(nn.context||{},!0),yn=an(nn.uniforms||{},!0),Dn=an(nn.attributes||{},!1);nn=an(function(At){function Wt(dn){if(dn in en){var gn=en[dn];delete en[dn],Object.keys(gn).forEach(function(_n){en[dn+"."+_n]=gn[_n]})}}var en=$({},At);return delete en.uniforms,delete en.attributes,delete en.context,delete en.vao,"stencil"in en&&en.stencil.op&&(en.stencil.opBack=en.stencil.opFront=en.stencil.op,delete en.stencil.op),Wt("blend"),Wt("depth"),Wt("cull"),Wt("stencil"),Wt("polygonOffset"),Wt("scissor"),Wt("sample"),"vao"in At&&(en.vao=At.vao),en}(nn),!1);var $n={gpuTime:0,cpuTime:0,count:0},Hn=On.compile(nn,Dn,yn,In,$n),Qn=Hn.draw,xr=Hn.batch,Qt=Hn.scope,xn=[];return $(function(At,Wt){var en;if(typeof At=="function")return Qt.call(this,null,At,0);if(typeof Wt=="function")if(typeof At=="number")for(en=0;en<At;++en)Qt.call(this,null,Wt,en);else{if(!Array.isArray(At))return Qt.call(this,At,Wt,0);for(en=0;en<At.length;++en)Qt.call(this,At[en],Wt,en)}else if(typeof At=="number"){if(0<At)return xr.call(this,function(dn){for(;xn.length<dn;)xn.push(null);return xn}(0|At),0|At)}else{if(!Array.isArray(At))return Qn.call(this,At);if(At.length)return xr.call(this,At,At.length)}},{stats:$n,destroy:function(){Hn.destroy()}})}function Xe(nn,an){var In=0;On.procs.poll();var yn=an.color;yn&&(wt.clearColor(+yn[0]||0,+yn[1]||0,+yn[2]||0,+yn[3]||0),In|=16384),"depth"in an&&(wt.clearDepth(+an.depth),In|=256),"stencil"in an&&(wt.clearStencil(0|an.stencil),In|=1024),wt.clear(In)}function gt(nn){return Bn.push(nn),ft(),{cancel:function(){var an=J(Bn,nn);Bn[an]=function In(){var yn=J(Bn,In);Bn[yn]=Bn[Bn.length-1],--Bn.length,0>=Bn.length&&ot()}}}}function yt(){var nn=En.viewport,an=En.scissor_box;nn[0]=nn[1]=an[0]=an[1]=0,An.viewportWidth=An.framebufferWidth=An.drawingBufferWidth=nn[2]=an[2]=wt.drawingBufferWidth,An.viewportHeight=An.framebufferHeight=An.drawingBufferHeight=nn[3]=an[3]=wt.drawingBufferHeight}function bt(){An.tick+=1,An.time=Lt(),yt(),On.procs.poll()}function dt(){wn.refresh(),yt(),On.procs.refresh(),qt&&qt.update()}function Lt(){return(de()-Kt)/1e3}if(!(qe=b(qe)))return null;var wt=qe.gl,Ct=wt.getContextAttributes();wt.isContextLost();var Rt=function(nn,an){function In(Hn){var Qn;Hn=Hn.toLowerCase();try{Qn=yn[Hn]=nn.getExtension(Hn)}catch{}return!!Qn}for(var yn={},Dn=0;Dn<an.extensions.length;++Dn){var $n=an.extensions[Dn];if(!In($n))return an.onDestroy(),an.onDone('"'+$n+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return an.optionalExtensions.forEach(In),{extensions:yn,restore:function(){Object.keys(yn).forEach(function(Hn){if(yn[Hn]&&!In(Hn))throw Error("(regl): error restoring extension "+Hn)})}}}(wt,qe);if(!Rt)return null;var Dt=function(){var nn={"":0},an=[""];return{id:function(In){var yn=nn[In];return yn||(yn=nn[In]=an.length,an.push(In),yn)},str:function(In){return an[In]}}}(),Nt={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Xt=qe.cachedCode||{},un=Rt.extensions,qt=function(nn,an){function In(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function yn(xn,At,Wt){var en=Hn.pop()||new In;en.startQueryIndex=xn,en.endQueryIndex=At,en.sum=0,en.stats=Wt,Qn.push(en)}if(!an.ext_disjoint_timer_query)return null;var Dn=[],$n=[],Hn=[],Qn=[],xr=[],Qt=[];return{beginQuery:function(xn){var At=Dn.pop()||an.ext_disjoint_timer_query.createQueryEXT();an.ext_disjoint_timer_query.beginQueryEXT(35007,At),$n.push(At),yn($n.length-1,$n.length,xn)},endQuery:function(){an.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:yn,update:function(){var xn,At;if((xn=$n.length)!==0){Qt.length=Math.max(Qt.length,xn+1),xr.length=Math.max(xr.length,xn+1),xr[0]=0;var Wt=Qt[0]=0;for(At=xn=0;At<$n.length;++At){var en=$n[At];an.ext_disjoint_timer_query.getQueryObjectEXT(en,34919)?(Wt+=an.ext_disjoint_timer_query.getQueryObjectEXT(en,34918),Dn.push(en)):$n[xn++]=en,xr[At+1]=Wt,Qt[At+1]=xn}for($n.length=xn,At=xn=0;At<Qn.length;++At){var dn=(Wt=Qn[At]).startQueryIndex;en=Wt.endQueryIndex,Wt.sum+=xr[en]-xr[dn],dn=Qt[dn],(en=Qt[en])===dn?(Wt.stats.gpuTime+=Wt.sum/1e6,Hn.push(Wt)):(Wt.startQueryIndex=dn,Wt.endQueryIndex=en,Qn[xn++]=Wt)}Qn.length=xn}},getNumPendingQueries:function(){return $n.length},clear:function(){Dn.push.apply(Dn,$n);for(var xn=0;xn<Dn.length;xn++)an.ext_disjoint_timer_query.deleteQueryEXT(Dn[xn]);$n.length=0,Dn.length=0},restore:function(){$n.length=0,Dn.length=0}}}(0,un),Kt=de(),Ut=wt.drawingBufferWidth,Rn=wt.drawingBufferHeight,An={tick:0,time:0,viewportWidth:Ut,viewportHeight:Rn,framebufferWidth:Ut,framebufferHeight:Rn,drawingBufferWidth:Ut,drawingBufferHeight:Rn,pixelRatio:qe.pixelRatio},mn=(Ut={elements:null,primitive:4,count:-1,offset:0,instances:-1},me(wt,un)),tn=u(wt,Nt,qe,function(nn){return rn.destroyBuffer(nn)}),fn=h(wt,un,tn,Nt),rn=R(wt,un,mn,Nt,tn,fn,Ut),pn=I(wt,Dt,Nt,qe),wn=L(wt,un,mn,function(){On.procs.poll()},An,Nt,qe),kn=xt(wt,un,0,Nt,qe),Pn=M(wt,un,mn,wn,kn,Nt),On=K(wt,Dt,un,mn,tn,fn,0,Pn,{},rn,pn,Ut,An,qt,Xt,qe),En=(Dt=D(wt,Pn,On.procs.poll,An),On.next),Vn=wt.canvas,Bn=[],Wn=[],rr=[],ir=[qe.onDestroy],Kn=null;Vn&&(Vn.addEventListener("webglcontextlost",Ue,!1),Vn.addEventListener("webglcontextrestored",Ve,!1));var vr=Pn.setFBO=st({framebuffer:ue.define.call(null,1,"framebuffer")});return dt(),Ct=$(st,{clear:function(nn){if("framebuffer"in nn)if(nn.framebuffer&&nn.framebuffer_reglType==="framebufferCube")for(var an=0;6>an;++an)vr($({framebuffer:nn.framebuffer.faces[an]},nn),Xe);else vr(nn,Xe);else Xe(0,nn)},prop:ue.define.bind(null,1),context:ue.define.bind(null,2),this:ue.define.bind(null,3),draw:st({}),buffer:function(nn){return tn.create(nn,34962,!1,!1)},elements:function(nn){return fn.create(nn,!1)},texture:wn.create2D,cube:wn.createCube,renderbuffer:kn.create,framebuffer:Pn.create,framebufferCube:Pn.createCube,vao:rn.createVAO,attributes:Ct,frame:gt,on:function(nn,an){var In;switch(nn){case"frame":return gt(an);case"lost":In=Wn;break;case"restore":In=rr;break;case"destroy":In=ir}return In.push(an),{cancel:function(){for(var yn=0;yn<In.length;++yn)if(In[yn]===an){In[yn]=In[In.length-1],In.pop();break}}}},limits:mn,hasExtension:function(nn){return 0<=mn.extensions.indexOf(nn.toLowerCase())},read:Dt,destroy:function(){Bn.length=0,ot(),Vn&&(Vn.removeEventListener("webglcontextlost",Ue),Vn.removeEventListener("webglcontextrestored",Ve)),pn.clear(),Pn.clear(),kn.clear(),rn.clear(),wn.clear(),fn.clear(),tn.clear(),qt&&qt.clear(),ir.forEach(function(nn){nn()})},_gl:wt,_refresh:dt,poll:function(){bt(),qt&&qt.update()},now:Lt,stats:Nt,getCachedCode:function(){return Xt},preloadCachedCode:function(nn){Object.entries(nn).forEach(function(an){Xt[an[0]]=an[1]})}}),qe.onDone(null,Ct),Ct}}()},30456:function(O,S,e){var v=e(33576),x=v.Buffer;function t(g,c){for(var s in g)c[s]=g[s]}function b(g,c,s){return x(g,c,s)}x.from&&x.alloc&&x.allocUnsafe&&x.allocUnsafeSlow?O.exports=v:(t(v,S),S.Buffer=b),b.prototype=Object.create(x.prototype),t(x,b),b.from=function(g,c,s){if(typeof g=="number")throw new TypeError("Argument must not be a number");return x(g,c,s)},b.alloc=function(g,c,s){if(typeof g!="number")throw new TypeError("Argument must be a number");var n=x(g);return c!==void 0?typeof s=="string"?n.fill(c,s):n.fill(c):n.fill(0),n},b.allocUnsafe=function(g){if(typeof g!="number")throw new TypeError("Argument must be a number");return x(g)},b.allocUnsafeSlow=function(g){if(typeof g!="number")throw new TypeError("Argument must be a number");return v.SlowBuffer(g)}},14500:function(O,S,e){var v=e(53664),x=e(64348),t=e(39640)(),b=e(2304),g=v("%TypeError%"),c=v("%Math.floor%");O.exports=function(s,n){if(typeof s!="function")throw new g("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||c(n)!==n)throw new g("`length` must be a positive 32-bit integer");var i=arguments.length>2&&!!arguments[2],a=!0,r=!0;if("length"in s&&b){var o=b(s,"length");o&&!o.configurable&&(a=!1),o&&!o.writable&&(r=!1)}return(a||r||!i)&&(t?x(s,"length",n,!0,!0):x(s,"length",n)),s}},29936:function(O,S,e){O.exports=x;var v=e(61252).EventEmitter;function x(){v.call(this)}e(6768)(x,v),x.Readable=e(12348),x.Writable=e(11288),x.Duplex=e(15316),x.Transform=e(22477),x.PassThrough=e(27136),x.finished=e(15932),x.pipeline=e(38180),x.Stream=x,x.prototype.pipe=function(t,b){var g=this;function c(l){t.writable&&t.write(l)===!1&&g.pause&&g.pause()}function s(){g.readable&&g.resume&&g.resume()}g.on("data",c),t.on("drain",s),t._isStdio||b&&b.end===!1||(g.on("end",i),g.on("close",a));var n=!1;function i(){n||(n=!0,t.end())}function a(){n||(n=!0,typeof t.destroy=="function"&&t.destroy())}function r(l){if(o(),v.listenerCount(this,"error")===0)throw l}function o(){g.removeListener("data",c),t.removeListener("drain",s),g.removeListener("end",i),g.removeListener("close",a),g.removeListener("error",r),t.removeListener("error",r),g.removeListener("end",o),g.removeListener("close",o),t.removeListener("close",o)}return g.on("error",r),t.on("error",r),g.on("end",o),g.on("close",o),t.on("close",o),t.emit("pipe",g),t}},92784:function(O){var S={};function e(x,t,b){b||(b=Error);var g=function(c){var s,n;function i(a,r,o){return c.call(this,function(l,u,h){return typeof t=="string"?t:t(l,u,h)}(a,r,o))||this}return n=c,(s=i).prototype=Object.create(n.prototype),s.prototype.constructor=s,s.__proto__=n,i}(b);g.prototype.name=b.name,g.prototype.code=x,S[x]=g}function v(x,t){if(Array.isArray(x)){var b=x.length;return x=x.map(function(g){return String(g)}),b>2?"one of ".concat(t," ").concat(x.slice(0,b-1).join(", "),", or ")+x[b-1]:b===2?"one of ".concat(t," ").concat(x[0]," or ").concat(x[1]):"of ".concat(t," ").concat(x[0])}return"of ".concat(t," ").concat(String(x))}e("ERR_INVALID_OPT_VALUE",function(x,t){return'The value "'+t+'" is invalid for option "'+x+'"'},TypeError),e("ERR_INVALID_ARG_TYPE",function(x,t,b){var g,c,s,n,i;if(typeof t=="string"&&(c="not ",t.substr(0,4)===c)?(g="must not be",t=t.replace(/^not /,"")):g="must be",function(r,o,l){return(l===void 0||l>r.length)&&(l=r.length),r.substring(l-9,l)===o}(x," argument"))s="The ".concat(x," ").concat(g," ").concat(v(t,"type"));else{var a=(typeof i!="number"&&(i=0),i+1>(n=x).length||n.indexOf(".",i)===-1?"argument":"property");s='The "'.concat(x,'" ').concat(a," ").concat(g," ").concat(v(t,"type"))}return s+". Received type ".concat(typeof b)},TypeError),e("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),e("ERR_METHOD_NOT_IMPLEMENTED",function(x){return"The "+x+" method is not implemented"}),e("ERR_STREAM_PREMATURE_CLOSE","Premature close"),e("ERR_STREAM_DESTROYED",function(x){return"Cannot call "+x+" after a stream was destroyed"}),e("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),e("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),e("ERR_STREAM_WRITE_AFTER_END","write after end"),e("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),e("ERR_UNKNOWN_ENCODING",function(x){return"Unknown encoding: "+x},TypeError),e("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),O.exports.i=S},15316:function(O,S,e){var v=e(4168),x=Object.keys||function(r){var o=[];for(var l in r)o.push(l);return o};O.exports=n;var t=e(12348),b=e(11288);e(6768)(n,t);for(var g=x(b.prototype),c=0;c<g.length;c++){var s=g[c];n.prototype[s]||(n.prototype[s]=b.prototype[s])}function n(r){if(!(this instanceof n))return new n(r);t.call(this,r),b.call(this,r),this.allowHalfOpen=!0,r&&(r.readable===!1&&(this.readable=!1),r.writable===!1&&(this.writable=!1),r.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",i)))}function i(){this._writableState.ended||v.nextTick(a,this)}function a(r){r.end()}Object.defineProperty(n.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(n.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(n.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(n.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(r){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=r,this._writableState.destroyed=r)}})},27136:function(O,S,e){O.exports=x;var v=e(22477);function x(t){if(!(this instanceof x))return new x(t);v.call(this,t)}e(6768)(x,v),x.prototype._transform=function(t,b,g){g(null,t)}},12348:function(O,S,e){var v,x=e(4168);O.exports=A,A.ReadableState=_,e(61252).EventEmitter;var t,b=function(re,te){return re.listeners(te).length},g=e(4776),c=e(33576).Buffer,s=e.g.Uint8Array||function(){},n=e(19768);t=n&&n.debuglog?n.debuglog("stream"):function(){};var i,a,r,o=e(47264),l=e(55324),u=e(24888).getHighWaterMark,h=e(92784).i,f=h.ERR_INVALID_ARG_TYPE,T=h.ERR_STREAM_PUSH_AFTER_EOF,d=h.ERR_METHOD_NOT_IMPLEMENTED,y=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e(6768)(A,g);var m=l.errorOrDestroy,w=["error","close","destroy","pause","resume"];function _(re,te,K){v=v||e(15316),re=re||{},typeof K!="boolean"&&(K=te instanceof v),this.objectMode=!!re.objectMode,K&&(this.objectMode=this.objectMode||!!re.readableObjectMode),this.highWaterMark=u(this,re,"readableHighWaterMark",K),this.buffer=new o,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=re.emitClose!==!1,this.autoDestroy=!!re.autoDestroy,this.destroyed=!1,this.defaultEncoding=re.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,re.encoding&&(i||(i=e(86032).o),this.decoder=new i(re.encoding),this.encoding=re.encoding)}function A(re){if(v=v||e(15316),!(this instanceof A))return new A(re);var te=this instanceof v;this._readableState=new _(re,this,te),this.readable=!0,re&&(typeof re.read=="function"&&(this._read=re.read),typeof re.destroy=="function"&&(this._destroy=re.destroy)),g.call(this)}function p(re,te,K,J,$){t("readableAddChunk",te);var ae,ue=re._readableState;if(te===null)ue.reading=!1,function(ce,de){if(t("onEofChunk"),!de.ended){if(de.decoder){var pe=de.decoder.end();pe&&pe.length&&(de.buffer.push(pe),de.length+=de.objectMode?1:pe.length)}de.ended=!0,de.sync?R(ce):(de.needReadable=!1,de.emittedReadable||(de.emittedReadable=!0,I(ce)))}}(re,ue);else if($||(ae=function(ce,de){var pe,me;return me=de,c.isBuffer(me)||me instanceof s||typeof de=="string"||de===void 0||ce.objectMode||(pe=new f("chunk",["string","Buffer","Uint8Array"],de)),pe}(ue,te)),ae)m(re,ae);else if(ue.objectMode||te&&te.length>0)if(typeof te=="string"||ue.objectMode||Object.getPrototypeOf(te)===c.prototype||(te=function(ce){return c.from(ce)}(te)),J)ue.endEmitted?m(re,new y):L(re,ue,te,!0);else if(ue.ended)m(re,new T);else{if(ue.destroyed)return!1;ue.reading=!1,ue.decoder&&!K?(te=ue.decoder.write(te),ue.objectMode||te.length!==0?L(re,ue,te,!1):D(re,ue)):L(re,ue,te,!1)}else J||(ue.reading=!1,D(re,ue));return!ue.ended&&(ue.length<ue.highWaterMark||ue.length===0)}function L(re,te,K,J){te.flowing&&te.length===0&&!te.sync?(te.awaitDrain=0,re.emit("data",K)):(te.length+=te.objectMode?1:K.length,J?te.buffer.unshift(K):te.buffer.push(K),te.needReadable&&R(re)),D(re,te)}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(re){this._readableState&&(this._readableState.destroyed=re)}}),A.prototype.destroy=l.destroy,A.prototype._undestroy=l.undestroy,A.prototype._destroy=function(re,te){te(re)},A.prototype.push=function(re,te){var K,J=this._readableState;return J.objectMode?K=!0:typeof re=="string"&&((te=te||J.defaultEncoding)!==J.encoding&&(re=c.from(re,te),te=""),K=!0),p(this,re,te,!1,K)},A.prototype.unshift=function(re){return p(this,re,null,!0,!1)},A.prototype.isPaused=function(){return this._readableState.flowing===!1},A.prototype.setEncoding=function(re){i||(i=e(86032).o);var te=new i(re);this._readableState.decoder=te,this._readableState.encoding=this._readableState.decoder.encoding;for(var K=this._readableState.buffer.head,J="";K!==null;)J+=te.write(K.data),K=K.next;return this._readableState.buffer.clear(),J!==""&&this._readableState.buffer.push(J),this._readableState.length=J.length,this};var M=1073741824;function C(re,te){return re<=0||te.length===0&&te.ended?0:te.objectMode?1:re!=re?te.flowing&&te.length?te.buffer.head.data.length:te.length:(re>te.highWaterMark&&(te.highWaterMark=function(K){return K>=M?K=M:(K--,K|=K>>>1,K|=K>>>2,K|=K>>>4,K|=K>>>8,K|=K>>>16,K++),K}(re)),re<=te.length?re:te.ended?te.length:(te.needReadable=!0,0))}function R(re){var te=re._readableState;t("emitReadable",te.needReadable,te.emittedReadable),te.needReadable=!1,te.emittedReadable||(t("emitReadable",te.flowing),te.emittedReadable=!0,x.nextTick(I,re))}function I(re){var te=re._readableState;t("emitReadable_",te.destroyed,te.length,te.ended),te.destroyed||!te.length&&!te.ended||(re.emit("readable"),te.emittedReadable=!1),te.needReadable=!te.flowing&&!te.ended&&te.length<=te.highWaterMark,X(re)}function D(re,te){te.readingMore||(te.readingMore=!0,x.nextTick(F,re,te))}function F(re,te){for(;!te.reading&&!te.ended&&(te.length<te.highWaterMark||te.flowing&&te.length===0);){var K=te.length;if(t("maybeReadMore read 0"),re.read(0),K===te.length)break}te.readingMore=!1}function q(re){var te=re._readableState;te.readableListening=re.listenerCount("readable")>0,te.resumeScheduled&&!te.paused?te.flowing=!0:re.listenerCount("data")>0&&re.resume()}function z(re){t("readable nexttick read 0"),re.read(0)}function V(re,te){t("resume",te.reading),te.reading||re.read(0),te.resumeScheduled=!1,re.emit("resume"),X(re),te.flowing&&!te.reading&&re.read(0)}function X(re){var te=re._readableState;for(t("flow",te.flowing);te.flowing&&re.read()!==null;);}function j(re,te){return te.length===0?null:(te.objectMode?K=te.buffer.shift():!re||re>=te.length?(K=te.decoder?te.buffer.join(""):te.buffer.length===1?te.buffer.first():te.buffer.concat(te.length),te.buffer.clear()):K=te.buffer.consume(re,te.decoder),K);var K}function H(re){var te=re._readableState;t("endReadable",te.endEmitted),te.endEmitted||(te.ended=!0,x.nextTick(G,te,re))}function G(re,te){if(t("endReadableNT",re.endEmitted,re.length),!re.endEmitted&&re.length===0&&(re.endEmitted=!0,te.readable=!1,te.emit("end"),re.autoDestroy)){var K=te._writableState;(!K||K.autoDestroy&&K.finished)&&te.destroy()}}function ie(re,te){for(var K=0,J=re.length;K<J;K++)if(re[K]===te)return K;return-1}A.prototype.read=function(re){t("read",re),re=parseInt(re,10);var te=this._readableState,K=re;if(re!==0&&(te.emittedReadable=!1),re===0&&te.needReadable&&((te.highWaterMark!==0?te.length>=te.highWaterMark:te.length>0)||te.ended))return t("read: emitReadable",te.length,te.ended),te.length===0&&te.ended?H(this):R(this),null;if((re=C(re,te))===0&&te.ended)return te.length===0&&H(this),null;var J,$=te.needReadable;return t("need readable",$),(te.length===0||te.length-re<te.highWaterMark)&&t("length less than watermark",$=!0),te.ended||te.reading?t("reading or ended",$=!1):$&&(t("do read"),te.reading=!0,te.sync=!0,te.length===0&&(te.needReadable=!0),this._read(te.highWaterMark),te.sync=!1,te.reading||(re=C(K,te))),(J=re>0?j(re,te):null)===null?(te.needReadable=te.length<=te.highWaterMark,re=0):(te.length-=re,te.awaitDrain=0),te.length===0&&(te.ended||(te.needReadable=!0),K!==re&&te.ended&&H(this)),J!==null&&this.emit("data",J),J},A.prototype._read=function(re){m(this,new d("_read()"))},A.prototype.pipe=function(re,te){var K=this,J=this._readableState;switch(J.pipesCount){case 0:J.pipes=re;break;case 1:J.pipes=[J.pipes,re];break;default:J.pipes.push(re)}J.pipesCount+=1,t("pipe count=%d opts=%j",J.pipesCount,te);var $=te&&te.end===!1||re===x.stdout||re===x.stderr?we:ae;function ae(){t("onend"),re.end()}J.endEmitted?x.nextTick($):K.once("end",$),re.on("unpipe",function Te(Le,Ie){t("onunpipe"),Le===K&&Ie&&Ie.hasUnpiped===!1&&(Ie.hasUnpiped=!0,t("cleanup"),re.removeListener("close",me),re.removeListener("finish",be),re.removeListener("drain",ue),re.removeListener("error",pe),re.removeListener("unpipe",Te),K.removeListener("end",ae),K.removeListener("end",we),K.removeListener("data",de),ce=!0,!J.awaitDrain||re._writableState&&!re._writableState.needDrain||ue())});var ue=function(Te){return function(){var Le=Te._readableState;t("pipeOnDrain",Le.awaitDrain),Le.awaitDrain&&Le.awaitDrain--,Le.awaitDrain===0&&b(Te,"data")&&(Le.flowing=!0,X(Te))}}(K);re.on("drain",ue);var ce=!1;function de(Te){t("ondata");var Le=re.write(Te);t("dest.write",Le),Le===!1&&((J.pipesCount===1&&J.pipes===re||J.pipesCount>1&&ie(J.pipes,re)!==-1)&&!ce&&(t("false write response, pause",J.awaitDrain),J.awaitDrain++),K.pause())}function pe(Te){t("onerror",Te),we(),re.removeListener("error",pe),b(re,"error")===0&&m(re,Te)}function me(){re.removeListener("finish",be),we()}function be(){t("onfinish"),re.removeListener("close",me),we()}function we(){t("unpipe"),K.unpipe(re)}return K.on("data",de),function(Te,Le,Ie){if(typeof Te.prependListener=="function")return Te.prependListener(Le,Ie);Te._events&&Te._events[Le]?Array.isArray(Te._events[Le])?Te._events[Le].unshift(Ie):Te._events[Le]=[Ie,Te._events[Le]]:Te.on(Le,Ie)}(re,"error",pe),re.once("close",me),re.once("finish",be),re.emit("pipe",K),J.flowing||(t("pipe resume"),K.resume()),re},A.prototype.unpipe=function(re){var te=this._readableState,K={hasUnpiped:!1};if(te.pipesCount===0)return this;if(te.pipesCount===1)return re&&re!==te.pipes||(re||(re=te.pipes),te.pipes=null,te.pipesCount=0,te.flowing=!1,re&&re.emit("unpipe",this,K)),this;if(!re){var J=te.pipes,$=te.pipesCount;te.pipes=null,te.pipesCount=0,te.flowing=!1;for(var ae=0;ae<$;ae++)J[ae].emit("unpipe",this,{hasUnpiped:!1});return this}var ue=ie(te.pipes,re);return ue===-1||(te.pipes.splice(ue,1),te.pipesCount-=1,te.pipesCount===1&&(te.pipes=te.pipes[0]),re.emit("unpipe",this,K)),this},A.prototype.on=function(re,te){var K=g.prototype.on.call(this,re,te),J=this._readableState;return re==="data"?(J.readableListening=this.listenerCount("readable")>0,J.flowing!==!1&&this.resume()):re==="readable"&&(J.endEmitted||J.readableListening||(J.readableListening=J.needReadable=!0,J.flowing=!1,J.emittedReadable=!1,t("on readable",J.length,J.reading),J.length?R(this):J.reading||x.nextTick(z,this))),K},A.prototype.addListener=A.prototype.on,A.prototype.removeListener=function(re,te){var K=g.prototype.removeListener.call(this,re,te);return re==="readable"&&x.nextTick(q,this),K},A.prototype.removeAllListeners=function(re){var te=g.prototype.removeAllListeners.apply(this,arguments);return re!=="readable"&&re!==void 0||x.nextTick(q,this),te},A.prototype.resume=function(){var re=this._readableState;return re.flowing||(t("resume"),re.flowing=!re.readableListening,function(te,K){K.resumeScheduled||(K.resumeScheduled=!0,x.nextTick(V,te,K))}(this,re)),re.paused=!1,this},A.prototype.pause=function(){return t("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(t("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},A.prototype.wrap=function(re){var te=this,K=this._readableState,J=!1;for(var $ in re.on("end",function(){if(t("wrapped end"),K.decoder&&!K.ended){var ue=K.decoder.end();ue&&ue.length&&te.push(ue)}te.push(null)}),re.on("data",function(ue){t("wrapped data"),K.decoder&&(ue=K.decoder.write(ue)),K.objectMode&&ue==null||(K.objectMode||ue&&ue.length)&&(te.push(ue)||(J=!0,re.pause()))}),re)this[$]===void 0&&typeof re[$]=="function"&&(this[$]=function(ue){return function(){return re[ue].apply(re,arguments)}}($));for(var ae=0;ae<w.length;ae++)re.on(w[ae],this.emit.bind(this,w[ae]));return this._read=function(ue){t("wrapped _read",ue),J&&(J=!1,re.resume())},this},typeof Symbol=="function"&&(A.prototype[Symbol.asyncIterator]=function(){return a===void 0&&(a=e(60328)),a(this)}),Object.defineProperty(A.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(A.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(A.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(re){this._readableState&&(this._readableState.flowing=re)}}),A._fromList=j,Object.defineProperty(A.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(A.from=function(re,te){return r===void 0&&(r=e(90555)),r(A,re,te)})},22477:function(O,S,e){O.exports=n;var v=e(92784).i,x=v.ERR_METHOD_NOT_IMPLEMENTED,t=v.ERR_MULTIPLE_CALLBACK,b=v.ERR_TRANSFORM_ALREADY_TRANSFORMING,g=v.ERR_TRANSFORM_WITH_LENGTH_0,c=e(15316);function s(r,o){var l=this._transformState;l.transforming=!1;var u=l.writecb;if(u===null)return this.emit("error",new t);l.writechunk=null,l.writecb=null,o!=null&&this.push(o),u(r);var h=this._readableState;h.reading=!1,(h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}function n(r){if(!(this instanceof n))return new n(r);c.call(this,r),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&(typeof r.transform=="function"&&(this._transform=r.transform),typeof r.flush=="function"&&(this._flush=r.flush)),this.on("prefinish",i)}function i(){var r=this;typeof this._flush!="function"||this._readableState.destroyed?a(this,null,null):this._flush(function(o,l){a(r,o,l)})}function a(r,o,l){if(o)return r.emit("error",o);if(l!=null&&r.push(l),r._writableState.length)throw new g;if(r._transformState.transforming)throw new b;return r.push(null)}e(6768)(n,c),n.prototype.push=function(r,o){return this._transformState.needTransform=!1,c.prototype.push.call(this,r,o)},n.prototype._transform=function(r,o,l){l(new x("_transform()"))},n.prototype._write=function(r,o,l){var u=this._transformState;if(u.writecb=l,u.writechunk=r,u.writeencoding=o,!u.transforming){var h=this._readableState;(u.needTransform||h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}},n.prototype._read=function(r){var o=this._transformState;o.writechunk===null||o.transforming?o.needTransform=!0:(o.transforming=!0,this._transform(o.writechunk,o.writeencoding,o.afterTransform))},n.prototype._destroy=function(r,o){c.prototype._destroy.call(this,r,function(l){o(l)})}},11288:function(O,S,e){var v,x=e(4168);function t(D){var F=this;this.next=null,this.entry=null,this.finish=function(){(function(q,z,V){var X=q.entry;for(q.entry=null;X;){var j=X.callback;z.pendingcb--,j(void 0),X=X.next}z.corkedRequestsFree.next=q})(F,D)}}O.exports=A,A.WritableState=_;var b,g={deprecate:e(96656)},c=e(4776),s=e(33576).Buffer,n=e.g.Uint8Array||function(){},i=e(55324),a=e(24888).getHighWaterMark,r=e(92784).i,o=r.ERR_INVALID_ARG_TYPE,l=r.ERR_METHOD_NOT_IMPLEMENTED,u=r.ERR_MULTIPLE_CALLBACK,h=r.ERR_STREAM_CANNOT_PIPE,f=r.ERR_STREAM_DESTROYED,T=r.ERR_STREAM_NULL_VALUES,d=r.ERR_STREAM_WRITE_AFTER_END,y=r.ERR_UNKNOWN_ENCODING,m=i.errorOrDestroy;function w(){}function _(D,F,q){v=v||e(15316),D=D||{},typeof q!="boolean"&&(q=F instanceof v),this.objectMode=!!D.objectMode,q&&(this.objectMode=this.objectMode||!!D.writableObjectMode),this.highWaterMark=a(this,D,"writableHighWaterMark",q),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var z=D.decodeStrings===!1;this.decodeStrings=!z,this.defaultEncoding=D.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(V){(function(X,j){var H=X._writableState,G=H.sync,ie=H.writecb;if(typeof ie!="function")throw new u;if(function(te){te.writing=!1,te.writecb=null,te.length-=te.writelen,te.writelen=0}(H),j)(function(te,K,J,$,ae){--K.pendingcb,J?(x.nextTick(ae,$),x.nextTick(I,te,K),te._writableState.errorEmitted=!0,m(te,$)):(ae($),te._writableState.errorEmitted=!0,m(te,$),I(te,K))})(X,H,G,j,ie);else{var re=C(H)||X.destroyed;re||H.corked||H.bufferProcessing||!H.bufferedRequest||M(X,H),G?x.nextTick(L,X,H,re,ie):L(X,H,re,ie)}})(F,V)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=D.emitClose!==!1,this.autoDestroy=!!D.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}function A(D){var F=this instanceof(v=v||e(15316));if(!F&&!b.call(A,this))return new A(D);this._writableState=new _(D,this,F),this.writable=!0,D&&(typeof D.write=="function"&&(this._write=D.write),typeof D.writev=="function"&&(this._writev=D.writev),typeof D.destroy=="function"&&(this._destroy=D.destroy),typeof D.final=="function"&&(this._final=D.final)),c.call(this)}function p(D,F,q,z,V,X,j){F.writelen=z,F.writecb=j,F.writing=!0,F.sync=!0,F.destroyed?F.onwrite(new f("write")):q?D._writev(V,F.onwrite):D._write(V,X,F.onwrite),F.sync=!1}function L(D,F,q,z){q||function(V,X){X.length===0&&X.needDrain&&(X.needDrain=!1,V.emit("drain"))}(D,F),F.pendingcb--,z(),I(D,F)}function M(D,F){F.bufferProcessing=!0;var q=F.bufferedRequest;if(D._writev&&q&&q.next){var z=F.bufferedRequestCount,V=new Array(z),X=F.corkedRequestsFree;X.entry=q;for(var j=0,H=!0;q;)V[j]=q,q.isBuf||(H=!1),q=q.next,j+=1;V.allBuffers=H,p(D,F,!0,F.length,V,"",X.finish),F.pendingcb++,F.lastBufferedRequest=null,X.next?(F.corkedRequestsFree=X.next,X.next=null):F.corkedRequestsFree=new t(F),F.bufferedRequestCount=0}else{for(;q;){var G=q.chunk,ie=q.encoding,re=q.callback;if(p(D,F,!1,F.objectMode?1:G.length,G,ie,re),q=q.next,F.bufferedRequestCount--,F.writing)break}q===null&&(F.lastBufferedRequest=null)}F.bufferedRequest=q,F.bufferProcessing=!1}function C(D){return D.ending&&D.length===0&&D.bufferedRequest===null&&!D.finished&&!D.writing}function R(D,F){D._final(function(q){F.pendingcb--,q&&m(D,q),F.prefinished=!0,D.emit("prefinish"),I(D,F)})}function I(D,F){var q=C(F);if(q&&(function(V,X){X.prefinished||X.finalCalled||(typeof V._final!="function"||X.destroyed?(X.prefinished=!0,V.emit("prefinish")):(X.pendingcb++,X.finalCalled=!0,x.nextTick(R,V,X)))}(D,F),F.pendingcb===0&&(F.finished=!0,D.emit("finish"),F.autoDestroy))){var z=D._readableState;(!z||z.autoDestroy&&z.endEmitted)&&D.destroy()}return q}e(6768)(A,c),_.prototype.getBuffer=function(){for(var D=this.bufferedRequest,F=[];D;)F.push(D),D=D.next;return F},function(){try{Object.defineProperty(_.prototype,"buffer",{get:g.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(b=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(D){return!!b.call(this,D)||this===A&&D&&D._writableState instanceof _}})):b=function(D){return D instanceof this},A.prototype.pipe=function(){m(this,new h)},A.prototype.write=function(D,F,q){var z,V=this._writableState,X=!1,j=!V.objectMode&&(z=D,s.isBuffer(z)||z instanceof n);return j&&!s.isBuffer(D)&&(D=function(H){return s.from(H)}(D)),typeof F=="function"&&(q=F,F=null),j?F="buffer":F||(F=V.defaultEncoding),typeof q!="function"&&(q=w),V.ending?function(H,G){var ie=new d;m(H,ie),x.nextTick(G,ie)}(this,q):(j||function(H,G,ie,re){var te;return ie===null?te=new T:typeof ie=="string"||G.objectMode||(te=new o("chunk",["string","Buffer"],ie)),!te||(m(H,te),x.nextTick(re,te),!1)}(this,V,D,q))&&(V.pendingcb++,X=function(H,G,ie,re,te,K){if(!ie){var J=function(ce,de,pe){return ce.objectMode||ce.decodeStrings===!1||typeof de!="string"||(de=s.from(de,pe)),de}(G,re,te);re!==J&&(ie=!0,te="buffer",re=J)}var $=G.objectMode?1:re.length;G.length+=$;var ae=G.length<G.highWaterMark;if(ae||(G.needDrain=!0),G.writing||G.corked){var ue=G.lastBufferedRequest;G.lastBufferedRequest={chunk:re,encoding:te,isBuf:ie,callback:K,next:null},ue?ue.next=G.lastBufferedRequest:G.bufferedRequest=G.lastBufferedRequest,G.bufferedRequestCount+=1}else p(H,G,!1,$,re,te,K);return ae}(this,V,j,D,F,q)),X},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var D=this._writableState;D.corked&&(D.corked--,D.writing||D.corked||D.bufferProcessing||!D.bufferedRequest||M(this,D))},A.prototype.setDefaultEncoding=function(D){if(typeof D=="string"&&(D=D.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((D+"").toLowerCase())>-1))throw new y(D);return this._writableState.defaultEncoding=D,this},Object.defineProperty(A.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),A.prototype._write=function(D,F,q){q(new l("_write()"))},A.prototype._writev=null,A.prototype.end=function(D,F,q){var z=this._writableState;return typeof D=="function"?(q=D,D=null,F=null):typeof F=="function"&&(q=F,F=null),D!=null&&this.write(D,F),z.corked&&(z.corked=1,this.uncork()),z.ending||function(V,X,j){X.ending=!0,I(V,X),j&&(X.finished?x.nextTick(j):V.once("finish",j)),X.ended=!0,V.writable=!1}(this,z,q),this},Object.defineProperty(A.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(D){this._writableState&&(this._writableState.destroyed=D)}}),A.prototype.destroy=i.destroy,A.prototype._undestroy=i.undestroy,A.prototype._destroy=function(D,F){F(D)}},60328:function(O,S,e){var v,x=e(4168);function t(T,d,y){return d in T?Object.defineProperty(T,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):T[d]=y,T}var b=e(15932),g=Symbol("lastResolve"),c=Symbol("lastReject"),s=Symbol("error"),n=Symbol("ended"),i=Symbol("lastPromise"),a=Symbol("handlePromise"),r=Symbol("stream");function o(T,d){return{value:T,done:d}}function l(T){var d=T[g];if(d!==null){var y=T[r].read();y!==null&&(T[i]=null,T[g]=null,T[c]=null,d(o(y,!1)))}}function u(T){x.nextTick(l,T)}var h=Object.getPrototypeOf(function(){}),f=Object.setPrototypeOf((t(v={get stream(){return this[r]},next:function(){var T=this,d=this[s];if(d!==null)return Promise.reject(d);if(this[n])return Promise.resolve(o(void 0,!0));if(this[r].destroyed)return new Promise(function(_,A){x.nextTick(function(){T[s]?A(T[s]):_(o(void 0,!0))})});var y,m=this[i];if(m)y=new Promise(function(_,A){return function(p,L){_.then(function(){A[n]?p(o(void 0,!0)):A[a](p,L)},L)}}(m,this));else{var w=this[r].read();if(w!==null)return Promise.resolve(o(w,!1));y=new Promise(this[a])}return this[i]=y,y}},Symbol.asyncIterator,function(){return this}),t(v,"return",function(){var T=this;return new Promise(function(d,y){T[r].destroy(null,function(m){m?y(m):d(o(void 0,!0))})})}),v),h);O.exports=function(T){var d,y=Object.create(f,(t(d={},r,{value:T,writable:!0}),t(d,g,{value:null,writable:!0}),t(d,c,{value:null,writable:!0}),t(d,s,{value:null,writable:!0}),t(d,n,{value:T._readableState.endEmitted,writable:!0}),t(d,a,{value:function(m,w){var _=y[r].read();_?(y[i]=null,y[g]=null,y[c]=null,m(o(_,!1))):(y[g]=m,y[c]=w)},writable:!0}),d));return y[i]=null,b(T,function(m){if(m&&m.code!=="ERR_STREAM_PREMATURE_CLOSE"){var w=y[c];return w!==null&&(y[i]=null,y[g]=null,y[c]=null,w(m)),void(y[s]=m)}var _=y[g];_!==null&&(y[i]=null,y[g]=null,y[c]=null,_(o(void 0,!0))),y[n]=!0}),T.on("readable",u.bind(null,y)),y}},47264:function(O,S,e){function v(s,n){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);n&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(s,r).enumerable})),i.push.apply(i,a)}return i}function x(s,n,i){return n in s?Object.defineProperty(s,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[n]=i,s}function t(s,n){for(var i=0;i<n.length;i++){var a=n[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,a.key,a)}}var b=e(33576).Buffer,g=e(21576).inspect,c=g&&g.custom||"inspect";O.exports=function(){function s(){(function(a,r){if(!(a instanceof r))throw new TypeError("Cannot call a class as a function")})(this,s),this.head=null,this.tail=null,this.length=0}var n,i;return n=s,i=[{key:"push",value:function(a){var r={data:a,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}},{key:"unshift",value:function(a){var r={data:a,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}},{key:"shift",value:function(){if(this.length!==0){var a=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,a}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(a){if(this.length===0)return"";for(var r=this.head,o=""+r.data;r=r.next;)o+=a+r.data;return o}},{key:"concat",value:function(a){if(this.length===0)return b.alloc(0);for(var r,o,l,u=b.allocUnsafe(a>>>0),h=this.head,f=0;h;)r=h.data,o=u,l=f,b.prototype.copy.call(r,o,l),f+=h.data.length,h=h.next;return u}},{key:"consume",value:function(a,r){var o;return a<this.head.data.length?(o=this.head.data.slice(0,a),this.head.data=this.head.data.slice(a)):o=a===this.head.data.length?this.shift():r?this._getString(a):this._getBuffer(a),o}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(a){var r=this.head,o=1,l=r.data;for(a-=l.length;r=r.next;){var u=r.data,h=a>u.length?u.length:a;if(h===u.length?l+=u:l+=u.slice(0,a),(a-=h)==0){h===u.length?(++o,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=u.slice(h));break}++o}return this.length-=o,l}},{key:"_getBuffer",value:function(a){var r=b.allocUnsafe(a),o=this.head,l=1;for(o.data.copy(r),a-=o.data.length;o=o.next;){var u=o.data,h=a>u.length?u.length:a;if(u.copy(r,r.length-a,0,h),(a-=h)==0){h===u.length?(++l,o.next?this.head=o.next:this.head=this.tail=null):(this.head=o,o.data=u.slice(h));break}++l}return this.length-=l,r}},{key:c,value:function(a,r){return g(this,function(o){for(var l=1;l<arguments.length;l++){var u=arguments[l]!=null?arguments[l]:{};l%2?v(Object(u),!0).forEach(function(h){x(o,h,u[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(u)):v(Object(u)).forEach(function(h){Object.defineProperty(o,h,Object.getOwnPropertyDescriptor(u,h))})}return o}({},r,{depth:0,customInspect:!1}))}}],i&&t(n.prototype,i),s}()},55324:function(O,S,e){var v=e(4168);function x(g,c){b(g,c),t(g)}function t(g){g._writableState&&!g._writableState.emitClose||g._readableState&&!g._readableState.emitClose||g.emit("close")}function b(g,c){g.emit("error",c)}O.exports={destroy:function(g,c){var s=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(c?c(g):g&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,v.nextTick(b,this,g)):v.nextTick(b,this,g)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(g||null,function(a){!c&&a?s._writableState?s._writableState.errorEmitted?v.nextTick(t,s):(s._writableState.errorEmitted=!0,v.nextTick(x,s,a)):v.nextTick(x,s,a):c?(v.nextTick(t,s),c(a)):v.nextTick(t,s)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(g,c){var s=g._readableState,n=g._writableState;s&&s.autoDestroy||n&&n.autoDestroy?g.destroy(c):g.emit("error",c)}}},15932:function(O,S,e){var v=e(92784).i.ERR_STREAM_PREMATURE_CLOSE;function x(){}O.exports=function t(b,g,c){if(typeof g=="function")return t(b,null,g);g||(g={}),c=function(T){var d=!1;return function(){if(!d){d=!0;for(var y=arguments.length,m=new Array(y),w=0;w<y;w++)m[w]=arguments[w];T.apply(this,m)}}}(c||x);var s=g.readable||g.readable!==!1&&b.readable,n=g.writable||g.writable!==!1&&b.writable,i=function(){b.writable||r()},a=b._writableState&&b._writableState.finished,r=function(){n=!1,a=!0,s||c.call(b)},o=b._readableState&&b._readableState.endEmitted,l=function(){s=!1,o=!0,n||c.call(b)},u=function(T){c.call(b,T)},h=function(){var T;return s&&!o?(b._readableState&&b._readableState.ended||(T=new v),c.call(b,T)):n&&!a?(b._writableState&&b._writableState.ended||(T=new v),c.call(b,T)):void 0},f=function(){b.req.on("finish",r)};return function(T){return T.setHeader&&typeof T.abort=="function"}(b)?(b.on("complete",r),b.on("abort",h),b.req?f():b.on("request",f)):n&&!b._writableState&&(b.on("end",i),b.on("close",i)),b.on("end",l),b.on("finish",r),g.error!==!1&&b.on("error",u),b.on("close",h),function(){b.removeListener("complete",r),b.removeListener("abort",h),b.removeListener("request",f),b.req&&b.req.removeListener("finish",r),b.removeListener("end",i),b.removeListener("close",i),b.removeListener("finish",r),b.removeListener("end",l),b.removeListener("error",u),b.removeListener("close",h)}}},90555:function(O){O.exports=function(){throw new Error("Readable.from is not available in the browser")}},38180:function(O,S,e){var v,x=e(92784).i,t=x.ERR_MISSING_ARGS,b=x.ERR_STREAM_DESTROYED;function g(n){if(n)throw n}function c(n){n()}function s(n,i){return n.pipe(i)}O.exports=function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var r,o=function(u){return u.length?typeof u[u.length-1]!="function"?g:u.pop():g}(i);if(Array.isArray(i[0])&&(i=i[0]),i.length<2)throw new t("streams");var l=i.map(function(u,h){var f=h<i.length-1;return function(T,d,y,m){m=function(A){var p=!1;return function(){p||(p=!0,A.apply(void 0,arguments))}}(m);var w=!1;T.on("close",function(){w=!0}),v===void 0&&(v=e(15932)),v(T,{readable:d,writable:y},function(A){if(A)return m(A);w=!0,m()});var _=!1;return function(A){if(!w&&!_)return _=!0,function(p){return p.setHeader&&typeof p.abort=="function"}(T)?T.abort():typeof T.destroy=="function"?T.destroy():void m(A||new b("pipe"))}}(u,f,h>0,function(T){r||(r=T),T&&l.forEach(c),f||(l.forEach(c),o(r))})});return i.reduce(s)}},24888:function(O,S,e){var v=e(92784).i.ERR_INVALID_OPT_VALUE;O.exports={getHighWaterMark:function(x,t,b,g){var c=function(s,n,i){return s.highWaterMark!=null?s.highWaterMark:n?s[i]:null}(t,g,b);if(c!=null){if(!isFinite(c)||Math.floor(c)!==c||c<0)throw new v(g?b:"highWaterMark",c);return Math.floor(c)}return x.objectMode?16:16384}}},4776:function(O,S,e){O.exports=e(61252).EventEmitter},86032:function(O,S,e){var v=e(30456).Buffer,x=v.isEncoding||function(o){switch((o=""+o)&&o.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function t(o){var l;switch(this.encoding=function(u){var h=function(f){if(!f)return"utf8";for(var T;;)switch(f){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return f;default:if(T)return;f=(""+f).toLowerCase(),T=!0}}(u);if(typeof h!="string"&&(v.isEncoding===x||!x(u)))throw new Error("Unknown encoding: "+u);return h||u}(o),this.encoding){case"utf16le":this.text=c,this.end=s,l=4;break;case"utf8":this.fillLast=g,l=4;break;case"base64":this.text=n,this.end=i,l=3;break;default:return this.write=a,void(this.end=r)}this.lastNeed=0,this.lastTotal=0,this.lastChar=v.allocUnsafe(l)}function b(o){return o<=127?0:o>>5==6?2:o>>4==14?3:o>>3==30?4:o>>6==2?-1:-2}function g(o){var l=this.lastTotal-this.lastNeed,u=function(h,f,T){if((192&f[0])!=128)return h.lastNeed=0,"";if(h.lastNeed>1&&f.length>1){if((192&f[1])!=128)return h.lastNeed=1,"";if(h.lastNeed>2&&f.length>2&&(192&f[2])!=128)return h.lastNeed=2,""}}(this,o);return u!==void 0?u:this.lastNeed<=o.length?(o.copy(this.lastChar,l,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(o.copy(this.lastChar,l,0,o.length),void(this.lastNeed-=o.length))}function c(o,l){if((o.length-l)%2==0){var u=o.toString("utf16le",l);if(u){var h=u.charCodeAt(u.length-1);if(h>=55296&&h<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=o[o.length-2],this.lastChar[1]=o[o.length-1],u.slice(0,-1)}return u}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=o[o.length-1],o.toString("utf16le",l,o.length-1)}function s(o){var l=o&&o.length?this.write(o):"";if(this.lastNeed){var u=this.lastTotal-this.lastNeed;return l+this.lastChar.toString("utf16le",0,u)}return l}function n(o,l){var u=(o.length-l)%3;return u===0?o.toString("base64",l):(this.lastNeed=3-u,this.lastTotal=3,u===1?this.lastChar[0]=o[o.length-1]:(this.lastChar[0]=o[o.length-2],this.lastChar[1]=o[o.length-1]),o.toString("base64",l,o.length-u))}function i(o){var l=o&&o.length?this.write(o):"";return this.lastNeed?l+this.lastChar.toString("base64",0,3-this.lastNeed):l}function a(o){return o.toString(this.encoding)}function r(o){return o&&o.length?this.write(o):""}S.o=t,t.prototype.write=function(o){if(o.length===0)return"";var l,u;if(this.lastNeed){if((l=this.fillLast(o))===void 0)return"";u=this.lastNeed,this.lastNeed=0}else u=0;return u<o.length?l?l+this.text(o,u):this.text(o,u):l||""},t.prototype.end=function(o){var l=o&&o.length?this.write(o):"";return this.lastNeed?l+"":l},t.prototype.text=function(o,l){var u=function(f,T,d){var y=T.length-1;if(y<d)return 0;var m=b(T[y]);return m>=0?(m>0&&(f.lastNeed=m-1),m):--y<d||m===-2?0:(m=b(T[y]))>=0?(m>0&&(f.lastNeed=m-2),m):--y<d||m===-2?0:(m=b(T[y]))>=0?(m>0&&(m===2?m=0:f.lastNeed=m-3),m):0}(this,o,l);if(!this.lastNeed)return o.toString("utf8",l);this.lastTotal=u;var h=o.length-(u-this.lastNeed);return o.copy(this.lastChar,0,h),o.toString("utf8",l,h)},t.prototype.fillLast=function(o){if(this.lastNeed<=o.length)return o.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);o.copy(this.lastChar,this.lastTotal-this.lastNeed,0,o.length),this.lastNeed-=o.length}},55619:function(O,S,e){var v=e(45408),x=e(86844)("stream-parser");O.exports=function(f){var T=f&&typeof f._transform=="function",d=f&&typeof f._write=="function";if(!T&&!d)throw new Error("must pass a Writable or Transform stream in");x("extending Parser into stream"),f._bytes=n,f._skipBytes=i,T&&(f._passthrough=a),T?f._transform=o:f._write=r};var t=-1,b=0,g=1,c=2;function s(f){x("initializing parser stream"),f._parserBytesLeft=0,f._parserBuffers=[],f._parserBuffered=0,f._parserState=t,f._parserCallback=null,typeof f.push=="function"&&(f._parserOutput=f.push.bind(f)),f._parserInit=!0}function n(f,T){v(!this._parserCallback,'there is already a "callback" set!'),v(isFinite(f)&&f>0,'can only buffer a finite number of bytes > 0, got "'+f+'"'),this._parserInit||s(this),x("buffering %o bytes",f),this._parserBytesLeft=f,this._parserCallback=T,this._parserState=b}function i(f,T){v(!this._parserCallback,'there is already a "callback" set!'),v(f>0,'can only skip > 0 bytes, got "'+f+'"'),this._parserInit||s(this),x("skipping %o bytes",f),this._parserBytesLeft=f,this._parserCallback=T,this._parserState=g}function a(f,T){v(!this._parserCallback,'There is already a "callback" set!'),v(f>0,'can only pass through > 0 bytes, got "'+f+'"'),this._parserInit||s(this),x("passing through %o bytes",f),this._parserBytesLeft=f,this._parserCallback=T,this._parserState=c}function r(f,T,d){this._parserInit||s(this),x("write(%o bytes)",f.length),typeof T=="function"&&(d=T),u(this,f,null,d)}function o(f,T,d){this._parserInit||s(this),x("transform(%o bytes)",f.length),typeof T!="function"&&(T=this._parserOutput),u(this,f,T,d)}function l(f,T,d,y){if(f._parserBytesLeft-=T.length,x("%o bytes left for stream piece",f._parserBytesLeft),f._parserState===b?(f._parserBuffers.push(T),f._parserBuffered+=T.length):f._parserState===c&&d(T),f._parserBytesLeft!==0)return y;var m=f._parserCallback;if(m&&f._parserState===b&&f._parserBuffers.length>1&&(T=Buffer.concat(f._parserBuffers,f._parserBuffered)),f._parserState!==b&&(T=null),f._parserCallback=null,f._parserBuffered=0,f._parserState=t,f._parserBuffers.splice(0),m){var w=[];T&&w.push(T),d&&w.push(d);var _=m.length>w.length;_&&w.push(h(y));var A=m.apply(f,w);if(!_||y===A)return y}}var u=h(function f(T,d,y,m){return T._parserBytesLeft<=0?m(new Error("got data but not currently parsing anything")):d.length<=T._parserBytesLeft?function(){return l(T,d,y,m)}:function(){var w=d.slice(0,T._parserBytesLeft);return l(T,w,y,function(_){return _?m(_):d.length>w.length?function(){return f(T,d.slice(w.length),y,m)}:void 0})}});function h(f){return function(){for(var T=f.apply(this,arguments);typeof T=="function";)T=T();return T}}},86844:function(O,S,e){var v=e(4168);function x(){var t;try{t=S.storage.debug}catch{}return!t&&v!==void 0&&"env"in v&&(t=v.env.DEBUG),t}(S=O.exports=e(89416)).log=function(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},S.formatArgs=function(t){var b=this.useColors;if(t[0]=(b?"%c":"")+this.namespace+(b?" %c":" ")+t[0]+(b?"%c ":" ")+"+"+S.humanize(this.diff),b){var g="color: "+this.color;t.splice(1,0,g,"color: inherit");var c=0,s=0;t[0].replace(/%[a-zA-Z%]/g,function(n){n!=="%%"&&(c++,n==="%c"&&(s=c))}),t.splice(s,0,g)}},S.save=function(t){try{t==null?S.storage.removeItem("debug"):S.storage.debug=t}catch{}},S.load=x,S.useColors=function(){return!(typeof window>"u"||!window.process||window.process.type!=="renderer")||typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},S.storage=typeof chrome<"u"&&chrome.storage!==void 0?chrome.storage.local:function(){try{return window.localStorage}catch{}}(),S.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],S.formatters.j=function(t){try{return JSON.stringify(t)}catch(b){return"[UnexpectedJSONParseError]: "+b.message}},S.enable(x())},89416:function(O,S,e){var v;function x(t){function b(){if(b.enabled){var g=b,c=+new Date,s=c-(v||c);g.diff=s,g.prev=v,g.curr=c,v=c;for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];n[0]=S.coerce(n[0]),typeof n[0]!="string"&&n.unshift("%O");var a=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,function(r,o){if(r==="%%")return r;a++;var l=S.formatters[o];if(typeof l=="function"){var u=n[a];r=l.call(g,u),n.splice(a,1),a--}return r}),S.formatArgs.call(g,n),(b.log||S.log||console.log.bind(console)).apply(g,n)}}return b.namespace=t,b.enabled=S.enabled(t),b.useColors=S.useColors(),b.color=function(g){var c,s=0;for(c in g)s=(s<<5)-s+g.charCodeAt(c),s|=0;return S.colors[Math.abs(s)%S.colors.length]}(t),typeof S.init=="function"&&S.init(b),b}(S=O.exports=x.debug=x.default=x).coerce=function(t){return t instanceof Error?t.stack||t.message:t},S.disable=function(){S.enable("")},S.enable=function(t){S.save(t),S.names=[],S.skips=[];for(var b=(typeof t=="string"?t:"").split(/[\s,]+/),g=b.length,c=0;c<g;c++)b[c]&&((t=b[c].replace(/\*/g,".*?"))[0]==="-"?S.skips.push(new RegExp("^"+t.substr(1)+"$")):S.names.push(new RegExp("^"+t+"$")))},S.enabled=function(t){var b,g;for(b=0,g=S.skips.length;b<g;b++)if(S.skips[b].test(t))return!1;for(b=0,g=S.names.length;b<g;b++)if(S.names[b].test(t))return!0;return!1},S.humanize=e(93744),S.names=[],S.skips=[],S.formatters={}},93744:function(O){var S=1e3,e=60*S,v=60*e,x=24*v;function t(b,g,c){if(!(b<g))return b<1.5*g?Math.floor(b/g)+" "+c:Math.ceil(b/g)+" "+c+"s"}O.exports=function(b,g){g=g||{};var c,s=typeof b;if(s==="string"&&b.length>0)return function(n){if(!((n=String(n)).length>100)){var i=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(n);if(i){var a=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"days":case"day":case"d":return a*x;case"hours":case"hour":case"hrs":case"hr":case"h":return a*v;case"minutes":case"minute":case"mins":case"min":case"m":return a*e;case"seconds":case"second":case"secs":case"sec":case"s":return a*S;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(b);if(s==="number"&&isNaN(b)===!1)return g.long?t(c=b,x,"day")||t(c,v,"hour")||t(c,e,"minute")||t(c,S,"second")||c+" ms":function(n){return n>=x?Math.round(n/x)+"d":n>=v?Math.round(n/v)+"h":n>=e?Math.round(n/e)+"m":n>=S?Math.round(n/S)+"s":n+"ms"}(b);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(b))}},39956:function(O,S,e){var v=e(32868);O.exports=function(x,t,b){if(x==null)throw Error("First argument should be a string");if(t==null)throw Error("Separator should be a string or a RegExp");b?(typeof b=="string"||Array.isArray(b))&&(b={ignore:b}):b={},b.escape==null&&(b.escape=!0),b.ignore==null?b.ignore=["[]","()","{}","<>",'""',"''","``","",""]:(typeof b.ignore=="string"&&(b.ignore=[b.ignore]),b.ignore=b.ignore.map(function(r){return r.length===1&&(r+=r),r}));var g=v.parse(x,{flat:!0,brackets:b.ignore}),c=g[0].split(t);if(b.escape){for(var s=[],n=0;n<c.length;n++){var i=c[n],a=c[n+1];i[i.length-1]==="\\"&&i[i.length-2]!=="\\"?(s.push(i+t+a),n++):s.push(i)}c=s}for(n=0;n<c.length;n++)g[0]=c[n],c[n]=v.stringify(g,{flat:!0});return c}},78484:function(O){O.exports=function(S){for(var e=S.length,v=new Array(e),x=new Array(e),t=new Array(e),b=new Array(e),g=new Array(e),c=new Array(e),s=0;s<e;++s)v[s]=-1,x[s]=0,t[s]=!1,b[s]=0,g[s]=-1,c[s]=[];var n,i=0,a=[],r=[];function o(h){var f=[h],T=[h];for(v[h]=x[h]=i,t[h]=!0,i+=1;T.length>0;){h=T[T.length-1];var d=S[h];if(b[h]<d.length){for(var y=b[h];y<d.length;++y){var m=d[y];if(v[m]<0){v[m]=x[m]=i,t[m]=!0,i+=1,f.push(m),T.push(m);break}t[m]&&(x[h]=0|Math.min(x[h],x[m])),g[m]>=0&&c[h].push(g[m])}b[h]=y}else{if(x[h]===v[h]){var w=[],_=[],A=0;for(y=f.length-1;y>=0;--y){var p=f[y];if(t[p]=!1,w.push(p),_.push(c[p]),A+=c[p].length,g[p]=a.length,p===h){f.length=y;break}}a.push(w);var L=new Array(A);for(y=0;y<_.length;y++)for(var M=0;M<_[y].length;M++)L[--A]=_[y][M];r.push(L)}T.pop()}}}for(s=0;s<e;++s)v[s]<0&&o(s);for(s=0;s<r.length;s++){var l=r[s];if(l.length!==0){l.sort(function(h,f){return h-f}),n=[l[0]];for(var u=1;u<l.length;u++)l[u]!==l[u-1]&&n.push(l[u]);r[s]=n}}return{components:a,adjacencyList:r}}},92848:function(O,S,e){e.r(S);var v=2*Math.PI,x=function(g,c,s,n,i,a,r){var o=g.x,l=g.y;return{x:n*(o*=c)-i*(l*=s)+a,y:i*o+n*l+r}},t=function(g,c){var s=c===1.5707963267948966?.551915024494:c===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(c/4),n=Math.cos(g),i=Math.sin(g),a=Math.cos(g+c),r=Math.sin(g+c);return[{x:n-i*s,y:i+n*s},{x:a+r*s,y:r-a*s},{x:a,y:r}]},b=function(g,c,s,n){var i=g*s+c*n;return i>1&&(i=1),i<-1&&(i=-1),(g*n-c*s<0?-1:1)*Math.acos(i)};S.default=function(g){var c=g.px,s=g.py,n=g.cx,i=g.cy,a=g.rx,r=g.ry,o=g.xAxisRotation,l=o===void 0?0:o,u=g.largeArcFlag,h=u===void 0?0:u,f=g.sweepFlag,T=f===void 0?0:f,d=[];if(a===0||r===0)return[];var y=Math.sin(l*v/360),m=Math.cos(l*v/360),w=m*(c-n)/2+y*(s-i)/2,_=-y*(c-n)/2+m*(s-i)/2;if(w===0&&_===0)return[];a=Math.abs(a),r=Math.abs(r);var A=Math.pow(w,2)/Math.pow(a,2)+Math.pow(_,2)/Math.pow(r,2);A>1&&(a*=Math.sqrt(A),r*=Math.sqrt(A));var p=function(z,V,X,j,H,G,ie,re,te,K,J,$){var ae=Math.pow(H,2),ue=Math.pow(G,2),ce=Math.pow(J,2),de=Math.pow($,2),pe=ae*ue-ae*de-ue*ce;pe<0&&(pe=0),pe/=ae*de+ue*ce;var me=(pe=Math.sqrt(pe)*(ie===re?-1:1))*H/G*$,be=pe*-G/H*J,we=K*me-te*be+(z+X)/2,Te=te*me+K*be+(V+j)/2,Le=(J-me)/H,Ie=($-be)/G,_e=(-J-me)/H,fe=(-$-be)/G,le=b(1,0,Le,Ie),ye=b(Le,Ie,_e,fe);return re===0&&ye>0&&(ye-=v),re===1&&ye<0&&(ye+=v),[we,Te,le,ye]}(c,s,n,i,a,r,h,T,y,m,w,_),L=function(z,V){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return function(X,j){var H=[],G=!0,ie=!1,re=void 0;try{for(var te,K=X[Symbol.iterator]();!(G=(te=K.next()).done)&&(H.push(te.value),!j||H.length!==j);G=!0);}catch(J){ie=!0,re=J}finally{try{!G&&K.return&&K.return()}finally{if(ie)throw re}}return H}(z,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(p,4),M=L[0],C=L[1],R=L[2],I=L[3],D=Math.abs(I)/(v/4);Math.abs(1-D)<1e-7&&(D=1);var F=Math.max(Math.ceil(D),1);I/=F;for(var q=0;q<F;q++)d.push(t(R,I)),R+=I;return d.map(function(z){var V=x(z[0],a,r,m,y,M,C),X=V.x,j=V.y,H=x(z[1],a,r,m,y,M,C),G=H.x,ie=H.y,re=x(z[2],a,r,m,y,M,C);return{x1:X,y1:j,x2:G,y2:ie,x:re.x,y:re.y}})}},74840:function(O,S,e){var v=e(21984),x=e(49972),t=e(41976),b=e(53520),g=e(45408);O.exports=function(c){if(Array.isArray(c)&&c.length===1&&typeof c[0]=="string"&&(c=c[0]),typeof c=="string"&&(g(b(c),"String is not an SVG path."),c=v(c)),g(Array.isArray(c),"Argument should be a string or an array of path segments."),c=x(c),!(c=t(c)).length)return[0,0,0,0];for(var s=[1/0,1/0,-1/0,-1/0],n=0,i=c.length;n<i;n++)for(var a=c[n].slice(1),r=0;r<a.length;r+=2)a[r+0]<s[0]&&(s[0]=a[r+0]),a[r+1]<s[1]&&(s[1]=a[r+1]),a[r+0]>s[2]&&(s[2]=a[r+0]),a[r+1]>s[3]&&(s[3]=a[r+1]);return s}},41976:function(O,S,e){O.exports=function(b){for(var g,c=[],s=0,n=0,i=0,a=0,r=null,o=null,l=0,u=0,h=0,f=b.length;h<f;h++){var T=b[h],d=T[0];switch(d){case"M":i=T[1],a=T[2];break;case"A":var y=v({px:l,py:u,cx:T[6],cy:T[7],rx:T[1],ry:T[2],xAxisRotation:T[3],largeArcFlag:T[4],sweepFlag:T[5]});if(!y.length)continue;for(var m,w=0;w<y.length;w++)T=["C",(m=y[w]).x1,m.y1,m.x2,m.y2,m.x,m.y],w<y.length-1&&c.push(T);break;case"S":var _=l,A=u;g!="C"&&g!="S"||(_+=_-s,A+=A-n),T=["C",_,A,T[1],T[2],T[3],T[4]];break;case"T":g=="Q"||g=="T"?(r=2*l-r,o=2*u-o):(r=l,o=u),T=t(l,u,r,o,T[1],T[2]);break;case"Q":r=T[1],o=T[2],T=t(l,u,T[1],T[2],T[3],T[4]);break;case"L":T=x(l,u,T[1],T[2]);break;case"H":T=x(l,u,T[1],u);break;case"V":T=x(l,u,l,T[1]);break;case"Z":T=x(l,u,i,a)}g=d,l=T[T.length-2],u=T[T.length-1],T.length>4?(s=T[T.length-4],n=T[T.length-3]):(s=l,n=u),c.push(T)}return c};var v=e(92848);function x(b,g,c,s){return["C",b,g,c,s,c,s]}function t(b,g,c,s,n,i){return["C",b/3+.6666666666666666*c,g/3+.6666666666666666*s,n/3+.6666666666666666*c,i/3+.6666666666666666*s,n,i]}},20472:function(O,S,e){var v,x=e(74840),t=e(21984),b=e(22235),g=e(53520),c=e(29620),s=document.createElement("canvas"),n=s.getContext("2d");O.exports=function(i,a){if(!g(i))throw Error("Argument should be valid svg path string");var r,o;a||(a={}),a.shape?(r=a.shape[0],o=a.shape[1]):(r=s.width=a.w||a.width||200,o=s.height=a.h||a.height||200);var l=Math.min(r,o),u=a.stroke||0,h=a.viewbox||a.viewBox||x(i),f=[r/(h[2]-h[0]),o/(h[3]-h[1])],T=Math.min(f[0]||0,f[1]||0)/2;if(n.fillStyle="black",n.fillRect(0,0,r,o),n.fillStyle="white",u&&(typeof u!="number"&&(u=1),n.strokeStyle=u>0?"white":"black",n.lineWidth=Math.abs(u)),n.translate(.5*r,.5*o),n.scale(T,T),function(){if(v!=null)return v;var m=document.createElement("canvas").getContext("2d");if(m.canvas.width=m.canvas.height=1,!window.Path2D)return v=!1;var w=new Path2D("M0,0h1v1h-1v-1Z");m.fillStyle="black",m.fill(w);var _=m.getImageData(0,0,1,1);return v=_&&_.data&&_.data[3]===255}()){var d=new Path2D(i);n.fill(d),u&&n.stroke(d)}else{var y=t(i);b(n,y),n.fill(),u&&n.stroke()}return n.setTransform(1,0,0,1,0,0),c(n,{cutoff:a.cutoff!=null?a.cutoff:.5,radius:a.radius!=null?a.radius:.5*l})}},49760:function(O,S,e){var v;(function(x){var t=/^\s+/,b=/\s+$/,g=0,c=x.round,s=x.min,n=x.max,i=x.random;function a(J,$){if($=$||{},(J=J||"")instanceof a)return J;if(!(this instanceof a))return new a(J,$);var ae=function(ue){var ce,de,pe,me={r:0,g:0,b:0},be=1,we=null,Te=null,Le=null,Ie=!1,_e=!1;return typeof ue=="string"&&(ue=function(fe){fe=fe.replace(t,"").replace(b,"").toLowerCase();var le,ye=!1;if(R[fe])fe=R[fe],ye=!0;else if(fe=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(le=te.rgb.exec(fe))?{r:le[1],g:le[2],b:le[3]}:(le=te.rgba.exec(fe))?{r:le[1],g:le[2],b:le[3],a:le[4]}:(le=te.hsl.exec(fe))?{h:le[1],s:le[2],l:le[3]}:(le=te.hsla.exec(fe))?{h:le[1],s:le[2],l:le[3],a:le[4]}:(le=te.hsv.exec(fe))?{h:le[1],s:le[2],v:le[3]}:(le=te.hsva.exec(fe))?{h:le[1],s:le[2],v:le[3],a:le[4]}:(le=te.hex8.exec(fe))?{r:z(le[1]),g:z(le[2]),b:z(le[3]),a:H(le[4]),format:ye?"name":"hex8"}:(le=te.hex6.exec(fe))?{r:z(le[1]),g:z(le[2]),b:z(le[3]),format:ye?"name":"hex"}:(le=te.hex4.exec(fe))?{r:z(le[1]+""+le[1]),g:z(le[2]+""+le[2]),b:z(le[3]+""+le[3]),a:H(le[4]+""+le[4]),format:ye?"name":"hex8"}:!!(le=te.hex3.exec(fe))&&{r:z(le[1]+""+le[1]),g:z(le[2]+""+le[2]),b:z(le[3]+""+le[3]),format:ye?"name":"hex"}}(ue)),typeof ue=="object"&&(K(ue.r)&&K(ue.g)&&K(ue.b)?(ce=ue.r,de=ue.g,pe=ue.b,me={r:255*F(ce,255),g:255*F(de,255),b:255*F(pe,255)},Ie=!0,_e=String(ue.r).substr(-1)==="%"?"prgb":"rgb"):K(ue.h)&&K(ue.s)&&K(ue.v)?(we=X(ue.s),Te=X(ue.v),me=function(fe,le,ye){fe=6*F(fe,360),le=F(le,100),ye=F(ye,100);var Oe=x.floor(fe),Ae=fe-Oe,Se=ye*(1-le),Pe=ye*(1-Ae*le),Fe=ye*(1-(1-Ae)*le),Be=Oe%6;return{r:255*[ye,Pe,Se,Se,Fe,ye][Be],g:255*[Fe,ye,ye,Pe,Se,Se][Be],b:255*[Se,Se,Fe,ye,ye,Pe][Be]}}(ue.h,we,Te),Ie=!0,_e="hsv"):K(ue.h)&&K(ue.s)&&K(ue.l)&&(we=X(ue.s),Le=X(ue.l),me=function(fe,le,ye){var Oe,Ae,Se;function Pe(xe,Me,Ce){return Ce<0&&(Ce+=1),Ce>1&&(Ce-=1),Ce<1/6?xe+6*(Me-xe)*Ce:Ce<.5?Me:Ce<2/3?xe+(Me-xe)*(2/3-Ce)*6:xe}if(fe=F(fe,360),le=F(le,100),ye=F(ye,100),le===0)Oe=Ae=Se=ye;else{var Fe=ye<.5?ye*(1+le):ye+le-ye*le,Be=2*ye-Fe;Oe=Pe(Be,Fe,fe+1/3),Ae=Pe(Be,Fe,fe),Se=Pe(Be,Fe,fe-1/3)}return{r:255*Oe,g:255*Ae,b:255*Se}}(ue.h,we,Le),Ie=!0,_e="hsl"),ue.hasOwnProperty("a")&&(be=ue.a)),be=D(be),{ok:Ie,format:ue.format||_e,r:s(255,n(me.r,0)),g:s(255,n(me.g,0)),b:s(255,n(me.b,0)),a:be}}(J);this._originalInput=J,this._r=ae.r,this._g=ae.g,this._b=ae.b,this._a=ae.a,this._roundA=c(100*this._a)/100,this._format=$.format||ae.format,this._gradientType=$.gradientType,this._r<1&&(this._r=c(this._r)),this._g<1&&(this._g=c(this._g)),this._b<1&&(this._b=c(this._b)),this._ok=ae.ok,this._tc_id=g++}function r(J,$,ae){J=F(J,255),$=F($,255),ae=F(ae,255);var ue,ce,de=n(J,$,ae),pe=s(J,$,ae),me=(de+pe)/2;if(de==pe)ue=ce=0;else{var be=de-pe;switch(ce=me>.5?be/(2-de-pe):be/(de+pe),de){case J:ue=($-ae)/be+($<ae?6:0);break;case $:ue=(ae-J)/be+2;break;case ae:ue=(J-$)/be+4}ue/=6}return{h:ue,s:ce,l:me}}function o(J,$,ae){J=F(J,255),$=F($,255),ae=F(ae,255);var ue,ce,de=n(J,$,ae),pe=s(J,$,ae),me=de,be=de-pe;if(ce=de===0?0:be/de,de==pe)ue=0;else{switch(de){case J:ue=($-ae)/be+($<ae?6:0);break;case $:ue=(ae-J)/be+2;break;case ae:ue=(J-$)/be+4}ue/=6}return{h:ue,s:ce,v:me}}function l(J,$,ae,ue){var ce=[V(c(J).toString(16)),V(c($).toString(16)),V(c(ae).toString(16))];return ue&&ce[0].charAt(0)==ce[0].charAt(1)&&ce[1].charAt(0)==ce[1].charAt(1)&&ce[2].charAt(0)==ce[2].charAt(1)?ce[0].charAt(0)+ce[1].charAt(0)+ce[2].charAt(0):ce.join("")}function u(J,$,ae,ue){return[V(j(ue)),V(c(J).toString(16)),V(c($).toString(16)),V(c(ae).toString(16))].join("")}function h(J,$){$=$===0?0:$||10;var ae=a(J).toHsl();return ae.s-=$/100,ae.s=q(ae.s),a(ae)}function f(J,$){$=$===0?0:$||10;var ae=a(J).toHsl();return ae.s+=$/100,ae.s=q(ae.s),a(ae)}function T(J){return a(J).desaturate(100)}function d(J,$){$=$===0?0:$||10;var ae=a(J).toHsl();return ae.l+=$/100,ae.l=q(ae.l),a(ae)}function y(J,$){$=$===0?0:$||10;var ae=a(J).toRgb();return ae.r=n(0,s(255,ae.r-c(-$/100*255))),ae.g=n(0,s(255,ae.g-c(-$/100*255))),ae.b=n(0,s(255,ae.b-c(-$/100*255))),a(ae)}function m(J,$){$=$===0?0:$||10;var ae=a(J).toHsl();return ae.l-=$/100,ae.l=q(ae.l),a(ae)}function w(J,$){var ae=a(J).toHsl(),ue=(ae.h+$)%360;return ae.h=ue<0?360+ue:ue,a(ae)}function _(J){var $=a(J).toHsl();return $.h=($.h+180)%360,a($)}function A(J){var $=a(J).toHsl(),ae=$.h;return[a(J),a({h:(ae+120)%360,s:$.s,l:$.l}),a({h:(ae+240)%360,s:$.s,l:$.l})]}function p(J){var $=a(J).toHsl(),ae=$.h;return[a(J),a({h:(ae+90)%360,s:$.s,l:$.l}),a({h:(ae+180)%360,s:$.s,l:$.l}),a({h:(ae+270)%360,s:$.s,l:$.l})]}function L(J){var $=a(J).toHsl(),ae=$.h;return[a(J),a({h:(ae+72)%360,s:$.s,l:$.l}),a({h:(ae+216)%360,s:$.s,l:$.l})]}function M(J,$,ae){$=$||6,ae=ae||30;var ue=a(J).toHsl(),ce=360/ae,de=[a(J)];for(ue.h=(ue.h-(ce*$>>1)+720)%360;--$;)ue.h=(ue.h+ce)%360,de.push(a(ue));return de}function C(J,$){$=$||6;for(var ae=a(J).toHsv(),ue=ae.h,ce=ae.s,de=ae.v,pe=[],me=1/$;$--;)pe.push(a({h:ue,s:ce,v:de})),de=(de+me)%1;return pe}a.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var J=this.toRgb();return(299*J.r+587*J.g+114*J.b)/1e3},getLuminance:function(){var J,$,ae,ue=this.toRgb();return J=ue.r/255,$=ue.g/255,ae=ue.b/255,.2126*(J<=.03928?J/12.92:x.pow((J+.055)/1.055,2.4))+.7152*($<=.03928?$/12.92:x.pow(($+.055)/1.055,2.4))+.0722*(ae<=.03928?ae/12.92:x.pow((ae+.055)/1.055,2.4))},setAlpha:function(J){return this._a=D(J),this._roundA=c(100*this._a)/100,this},toHsv:function(){var J=o(this._r,this._g,this._b);return{h:360*J.h,s:J.s,v:J.v,a:this._a}},toHsvString:function(){var J=o(this._r,this._g,this._b),$=c(360*J.h),ae=c(100*J.s),ue=c(100*J.v);return this._a==1?"hsv("+$+", "+ae+"%, "+ue+"%)":"hsva("+$+", "+ae+"%, "+ue+"%, "+this._roundA+")"},toHsl:function(){var J=r(this._r,this._g,this._b);return{h:360*J.h,s:J.s,l:J.l,a:this._a}},toHslString:function(){var J=r(this._r,this._g,this._b),$=c(360*J.h),ae=c(100*J.s),ue=c(100*J.l);return this._a==1?"hsl("+$+", "+ae+"%, "+ue+"%)":"hsla("+$+", "+ae+"%, "+ue+"%, "+this._roundA+")"},toHex:function(J){return l(this._r,this._g,this._b,J)},toHexString:function(J){return"#"+this.toHex(J)},toHex8:function(J){return function($,ae,ue,ce,de){var pe=[V(c($).toString(16)),V(c(ae).toString(16)),V(c(ue).toString(16)),V(j(ce))];return de&&pe[0].charAt(0)==pe[0].charAt(1)&&pe[1].charAt(0)==pe[1].charAt(1)&&pe[2].charAt(0)==pe[2].charAt(1)&&pe[3].charAt(0)==pe[3].charAt(1)?pe[0].charAt(0)+pe[1].charAt(0)+pe[2].charAt(0)+pe[3].charAt(0):pe.join("")}(this._r,this._g,this._b,this._a,J)},toHex8String:function(J){return"#"+this.toHex8(J)},toRgb:function(){return{r:c(this._r),g:c(this._g),b:c(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+c(this._r)+", "+c(this._g)+", "+c(this._b)+")":"rgba("+c(this._r)+", "+c(this._g)+", "+c(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:c(100*F(this._r,255))+"%",g:c(100*F(this._g,255))+"%",b:c(100*F(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+c(100*F(this._r,255))+"%, "+c(100*F(this._g,255))+"%, "+c(100*F(this._b,255))+"%)":"rgba("+c(100*F(this._r,255))+"%, "+c(100*F(this._g,255))+"%, "+c(100*F(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(I[l(this._r,this._g,this._b,!0)]||!1)},toFilter:function(J){var $="#"+u(this._r,this._g,this._b,this._a),ae=$,ue=this._gradientType?"GradientType = 1, ":"";if(J){var ce=a(J);ae="#"+u(ce._r,ce._g,ce._b,ce._a)}return"progid:DXImageTransform.Microsoft.gradient("+ue+"startColorstr="+$+",endColorstr="+ae+")"},toString:function(J){var $=!!J;J=J||this._format;var ae=!1,ue=this._a<1&&this._a>=0;return $||!ue||J!=="hex"&&J!=="hex6"&&J!=="hex3"&&J!=="hex4"&&J!=="hex8"&&J!=="name"?(J==="rgb"&&(ae=this.toRgbString()),J==="prgb"&&(ae=this.toPercentageRgbString()),J!=="hex"&&J!=="hex6"||(ae=this.toHexString()),J==="hex3"&&(ae=this.toHexString(!0)),J==="hex4"&&(ae=this.toHex8String(!0)),J==="hex8"&&(ae=this.toHex8String()),J==="name"&&(ae=this.toName()),J==="hsl"&&(ae=this.toHslString()),J==="hsv"&&(ae=this.toHsvString()),ae||this.toHexString()):J==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return a(this.toString())},_applyModification:function(J,$){var ae=J.apply(null,[this].concat([].slice.call($)));return this._r=ae._r,this._g=ae._g,this._b=ae._b,this.setAlpha(ae._a),this},lighten:function(){return this._applyModification(d,arguments)},brighten:function(){return this._applyModification(y,arguments)},darken:function(){return this._applyModification(m,arguments)},desaturate:function(){return this._applyModification(h,arguments)},saturate:function(){return this._applyModification(f,arguments)},greyscale:function(){return this._applyModification(T,arguments)},spin:function(){return this._applyModification(w,arguments)},_applyCombination:function(J,$){return J.apply(null,[this].concat([].slice.call($)))},analogous:function(){return this._applyCombination(M,arguments)},complement:function(){return this._applyCombination(_,arguments)},monochromatic:function(){return this._applyCombination(C,arguments)},splitcomplement:function(){return this._applyCombination(L,arguments)},triad:function(){return this._applyCombination(A,arguments)},tetrad:function(){return this._applyCombination(p,arguments)}},a.fromRatio=function(J,$){if(typeof J=="object"){var ae={};for(var ue in J)J.hasOwnProperty(ue)&&(ae[ue]=ue==="a"?J[ue]:X(J[ue]));J=ae}return a(J,$)},a.equals=function(J,$){return!(!J||!$)&&a(J).toRgbString()==a($).toRgbString()},a.random=function(){return a.fromRatio({r:i(),g:i(),b:i()})},a.mix=function(J,$,ae){ae=ae===0?0:ae||50;var ue=a(J).toRgb(),ce=a($).toRgb(),de=ae/100;return a({r:(ce.r-ue.r)*de+ue.r,g:(ce.g-ue.g)*de+ue.g,b:(ce.b-ue.b)*de+ue.b,a:(ce.a-ue.a)*de+ue.a})},a.readability=function(J,$){var ae=a(J),ue=a($);return(x.max(ae.getLuminance(),ue.getLuminance())+.05)/(x.min(ae.getLuminance(),ue.getLuminance())+.05)},a.isReadable=function(J,$,ae){var ue,ce,de,pe,me,be=a.readability(J,$);switch(ce=!1,(de=ae,(pe=((de=de||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&pe!=="AAA"&&(pe="AA"),(me=(de.size||"small").toLowerCase())!=="small"&&me!=="large"&&(me="small"),ue={level:pe,size:me}).level+ue.size){case"AAsmall":case"AAAlarge":ce=be>=4.5;break;case"AAlarge":ce=be>=3;break;case"AAAsmall":ce=be>=7}return ce},a.mostReadable=function(J,$,ae){var ue,ce,de,pe,me=null,be=0;ce=(ae=ae||{}).includeFallbackColors,de=ae.level,pe=ae.size;for(var we=0;we<$.length;we++)(ue=a.readability(J,$[we]))>be&&(be=ue,me=a($[we]));return a.isReadable(J,me,{level:de,size:pe})||!ce?me:(ae.includeFallbackColors=!1,a.mostReadable(J,["#fff","#000"],ae))};var R=a.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},I=a.hexNames=function(J){var $={};for(var ae in J)J.hasOwnProperty(ae)&&($[J[ae]]=ae);return $}(R);function D(J){return J=parseFloat(J),(isNaN(J)||J<0||J>1)&&(J=1),J}function F(J,$){(function(ue){return typeof ue=="string"&&ue.indexOf(".")!=-1&&parseFloat(ue)===1})(J)&&(J="100%");var ae=function(ue){return typeof ue=="string"&&ue.indexOf("%")!=-1}(J);return J=s($,n(0,parseFloat(J))),ae&&(J=parseInt(J*$,10)/100),x.abs(J-$)<1e-6?1:J%$/parseFloat($)}function q(J){return s(1,n(0,J))}function z(J){return parseInt(J,16)}function V(J){return J.length==1?"0"+J:""+J}function X(J){return J<=1&&(J=100*J+"%"),J}function j(J){return x.round(255*parseFloat(J)).toString(16)}function H(J){return z(J)/255}var G,ie,re,te=(ie="[\\s|\\(]+("+(G="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+G+")[,|\\s]+("+G+")\\s*\\)?",re="[\\s|\\(]+("+G+")[,|\\s]+("+G+")[,|\\s]+("+G+")[,|\\s]+("+G+")\\s*\\)?",{CSS_UNIT:new RegExp(G),rgb:new RegExp("rgb"+ie),rgba:new RegExp("rgba"+re),hsl:new RegExp("hsl"+ie),hsla:new RegExp("hsla"+re),hsv:new RegExp("hsv"+ie),hsva:new RegExp("hsva"+re),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function K(J){return!!te.CSS_UNIT.exec(J)}O.exports?O.exports=a:(v=(function(){return a}).call(S,e,S,O))===void 0||(O.exports=v)})(Math)},37816:function(O){O.exports=e,O.exports.float32=O.exports.float=e,O.exports.fract32=O.exports.fract=function(v,x){if(v.length){if(v instanceof Float32Array)return new Float32Array(v.length);x instanceof Float32Array||(x=e(v));for(var t=0,b=x.length;t<b;t++)x[t]=v[t]-x[t];return x}return e(v-e(v))};var S=new Float32Array(1);function e(v){return v.length?v instanceof Float32Array?v:new Float32Array(v):(S[0]=v,S[0])}},23464:function(O,S,e){var v=e(65819);O.exports=b;var x=96;function t(g,c){var s=v(getComputedStyle(g).getPropertyValue(c));return s[0]*b(s[1],g)}function b(g,c){switch(c=c||document.body,g=(g||"px").trim().toLowerCase(),c!==window&&c!==document||(c=document.body),g){case"%":return c.clientHeight/100;case"ch":case"ex":return function(s,n){var i=document.createElement("div");i.style["font-size"]="128"+s,n.appendChild(i);var a=t(i,"font-size")/128;return n.removeChild(i),a}(g,c);case"em":return t(c,"font-size");case"rem":return t(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return x;case"cm":return x/2.54;case"mm":return x/25.4;case"pt":return x/72;case"pc":return x/6}return 1}},55712:function(O,S,e){function v(b){return b}function x(b,g){return typeof g=="string"&&(g=b.objects[g]),g.type==="GeometryCollection"?{type:"FeatureCollection",features:g.geometries.map(function(c){return t(b,c)})}:t(b,g)}function t(b,g){var c=g.id,s=g.bbox,n=g.properties==null?{}:g.properties,i=function(a,r){var o=function(y){if(y==null)return v;var m,w,_=y.scale[0],A=y.scale[1],p=y.translate[0],L=y.translate[1];return function(M,C){C||(m=w=0);var R=2,I=M.length,D=new Array(I);for(D[0]=(m+=M[0])*_+p,D[1]=(w+=M[1])*A+L;R<I;)D[R]=M[R],++R;return D}}(a.transform),l=a.arcs;function u(y,m){m.length&&m.pop();for(var w=l[y<0?~y:y],_=0,A=w.length;_<A;++_)m.push(o(w[_],_));y<0&&function(p,L){for(var M,C=p.length,R=C-L;R<--C;)M=p[R],p[R++]=p[C],p[C]=M}(m,A)}function h(y){return o(y)}function f(y){for(var m=[],w=0,_=y.length;w<_;++w)u(y[w],m);return m.length<2&&m.push(m[0]),m}function T(y){for(var m=f(y);m.length<4;)m.push(m[0]);return m}function d(y){return y.map(T)}return function y(m){var w,_=m.type;switch(_){case"GeometryCollection":return{type:_,geometries:m.geometries.map(y)};case"Point":w=h(m.coordinates);break;case"MultiPoint":w=m.coordinates.map(h);break;case"LineString":w=f(m.arcs);break;case"MultiLineString":w=m.arcs.map(f);break;case"Polygon":w=d(m.arcs);break;case"MultiPolygon":w=m.arcs.map(d);break;default:return null}return{type:_,coordinates:w}}(r)}(b,g);return c==null&&s==null?{type:"Feature",properties:n,geometry:i}:s==null?{type:"Feature",id:c,properties:n,geometry:i}:{type:"Feature",id:c,bbox:s,properties:n,geometry:i}}e.d(S,{NO:function(){return x}})},73384:function(O,S,e){var v=e(54612);O.exports=function(x){if(typeof x!="function"||!hasOwnProperty.call(x,"length"))return!1;try{if(typeof x.length!="number"||typeof x.call!="function"||typeof x.apply!="function")return!1}catch{return!1}return!v(x)}},57980:function(O,S,e){var v=e(81680),x=e(7328),t=e(33940),b=e(18856),g=function(c,s){return c.replace("%v",b(s))};O.exports=function(c,s,n){if(!x(n))throw new TypeError(g(s,c));if(!v(c)){if("default"in n)return n.default;if(n.isOptional)return null}var i=t(n.errorMessage);throw v(i)||(i=s),new TypeError(g(i,c))}},32336:function(O){O.exports=function(S){try{return S.toString()}catch{try{return String(S)}catch{return null}}}},18856:function(O,S,e){var v=e(32336),x=/[\n\r\u2028\u2029]/g;O.exports=function(t){var b=v(t);return b===null?"<Non-coercible to string value>":(b.length>100&&(b=b.slice(0,99)+""),b=b.replace(x,function(g){switch(g){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}))}},7328:function(O,S,e){var v=e(81680),x={object:!0,function:!0,undefined:!0};O.exports=function(t){return!!v(t)&&hasOwnProperty.call(x,typeof t)}},87396:function(O,S,e){var v=e(57980),x=e(85488);O.exports=function(t){return x(t)?t:v(t,"%v is not a plain function",arguments[1])}},85488:function(O,S,e){var v=e(73384),x=/^\s*class[\s{/}]/,t=Function.prototype.toString;O.exports=function(b){return!!v(b)&&!x.test(t.call(b))}},54612:function(O,S,e){var v=e(7328);O.exports=function(x){if(!v(x))return!1;try{return!!x.constructor&&x.constructor.prototype===x}catch{return!1}}},33940:function(O,S,e){var v=e(81680),x=e(7328),t=Object.prototype.toString;O.exports=function(b){if(!v(b))return null;if(x(b)){var g=b.toString;if(typeof g!="function"||g===t)return null}try{return""+b}catch{return null}}},18496:function(O,S,e){var v=e(57980),x=e(81680);O.exports=function(t){return x(t)?t:v(t,"Cannot use %v",arguments[1])}},81680:function(O){O.exports=function(S){return S!=null}},14144:function(O,S,e){var v=e(308),x=e(10352),t=e(33576).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:x([32,0]),UINT16:x([32,0]),UINT32:x([32,0]),BIGUINT64:x([32,0]),INT8:x([32,0]),INT16:x([32,0]),INT32:x([32,0]),BIGINT64:x([32,0]),FLOAT:x([32,0]),DOUBLE:x([32,0]),DATA:x([32,0]),UINT8C:x([32,0]),BUFFER:x([32,0])});var b=typeof Uint8ClampedArray<"u",g=typeof BigUint64Array<"u",c=typeof BigInt64Array<"u",s=e.g.__TYPEDARRAY_POOL;s.UINT8C||(s.UINT8C=x([32,0])),s.BIGUINT64||(s.BIGUINT64=x([32,0])),s.BIGINT64||(s.BIGINT64=x([32,0])),s.BUFFER||(s.BUFFER=x([32,0]));var n=s.DATA,i=s.BUFFER;function a(L){if(L){var M=L.length||L.byteLength,C=v.log2(M);n[C].push(L)}}function r(L){L=v.nextPow2(L);var M=v.log2(L),C=n[M];return C.length>0?C.pop():new ArrayBuffer(L)}function o(L){return new Uint8Array(r(L),0,L)}function l(L){return new Uint16Array(r(2*L),0,L)}function u(L){return new Uint32Array(r(4*L),0,L)}function h(L){return new Int8Array(r(L),0,L)}function f(L){return new Int16Array(r(2*L),0,L)}function T(L){return new Int32Array(r(4*L),0,L)}function d(L){return new Float32Array(r(4*L),0,L)}function y(L){return new Float64Array(r(8*L),0,L)}function m(L){return b?new Uint8ClampedArray(r(L),0,L):o(L)}function w(L){return g?new BigUint64Array(r(8*L),0,L):null}function _(L){return c?new BigInt64Array(r(8*L),0,L):null}function A(L){return new DataView(r(L),0,L)}function p(L){L=v.nextPow2(L);var M=v.log2(L),C=i[M];return C.length>0?C.pop():new t(L)}S.free=function(L){if(t.isBuffer(L))i[v.log2(L.length)].push(L);else{if(Object.prototype.toString.call(L)!=="[object ArrayBuffer]"&&(L=L.buffer),!L)return;var M=L.length||L.byteLength,C=0|v.log2(M);n[C].push(L)}},S.freeUint8=S.freeUint16=S.freeUint32=S.freeBigUint64=S.freeInt8=S.freeInt16=S.freeInt32=S.freeBigInt64=S.freeFloat32=S.freeFloat=S.freeFloat64=S.freeDouble=S.freeUint8Clamped=S.freeDataView=function(L){a(L.buffer)},S.freeArrayBuffer=a,S.freeBuffer=function(L){i[v.log2(L.length)].push(L)},S.malloc=function(L,M){if(M===void 0||M==="arraybuffer")return r(L);switch(M){case"uint8":return o(L);case"uint16":return l(L);case"uint32":return u(L);case"int8":return h(L);case"int16":return f(L);case"int32":return T(L);case"float":case"float32":return d(L);case"double":case"float64":return y(L);case"uint8_clamped":return m(L);case"bigint64":return _(L);case"biguint64":return w(L);case"buffer":return p(L);case"data":case"dataview":return A(L);default:return null}return null},S.mallocArrayBuffer=r,S.mallocUint8=o,S.mallocUint16=l,S.mallocUint32=u,S.mallocInt8=h,S.mallocInt16=f,S.mallocInt32=T,S.mallocFloat32=S.mallocFloat=d,S.mallocFloat64=S.mallocDouble=y,S.mallocUint8Clamped=m,S.mallocBigUint64=w,S.mallocBigInt64=_,S.mallocDataView=A,S.mallocBuffer=p,S.clearCache=function(){for(var L=0;L<32;++L)s.UINT8[L].length=0,s.UINT16[L].length=0,s.UINT32[L].length=0,s.INT8[L].length=0,s.INT16[L].length=0,s.INT32[L].length=0,s.FLOAT[L].length=0,s.DOUBLE[L].length=0,s.BIGUINT64[L].length=0,s.BIGINT64[L].length=0,s.UINT8C[L].length=0,n[L].length=0,i[L].length=0}},92384:function(O){var S=/[\'\"]/;O.exports=function(e){return e?(S.test(e.charAt(0))&&(e=e.substr(1)),S.test(e.charAt(e.length-1))&&(e=e.substr(0,e.length-1)),e):""}},45223:function(O){O.exports=function(S,e,v){Array.isArray(v)||(v=[].slice.call(arguments,2));for(var x=0,t=v.length;x<t;x++){var b=v[x];for(var g in b)if((e[g]===void 0||Array.isArray(e[g])||S[g]!==e[g])&&g in e){var c;if(b[g]===!0)c=e[g];else if(b[g]===!1||typeof b[g]=="function"&&(c=b[g](e[g],S,e))===void 0)continue;S[g]=c}}return S}},96656:function(O,S,e){function v(x){try{if(!e.g.localStorage)return!1}catch{return!1}var t=e.g.localStorage[x];return t!=null&&String(t).toLowerCase()==="true"}O.exports=function(x,t){if(v("noDeprecation"))return x;var b=!1;return function(){if(!b){if(v("throwDeprecation"))throw new Error(t);v("traceDeprecation")?console.trace(t):console.warn(t),b=!0}return x.apply(this,arguments)}}},75272:function(O){O.exports=function(S){return S&&typeof S=="object"&&typeof S.copy=="function"&&typeof S.fill=="function"&&typeof S.readUInt8=="function"}},41088:function(O,S,e){var v=e(91148),x=e(84420),t=e(96632),b=e(7728);function g(F){return F.call.bind(F)}var c=typeof BigInt<"u",s=typeof Symbol<"u",n=g(Object.prototype.toString),i=g(Number.prototype.valueOf),a=g(String.prototype.valueOf),r=g(Boolean.prototype.valueOf);if(c)var o=g(BigInt.prototype.valueOf);if(s)var l=g(Symbol.prototype.valueOf);function u(F,q){if(typeof F!="object")return!1;try{return q(F),!0}catch{return!1}}function h(F){return n(F)==="[object Map]"}function f(F){return n(F)==="[object Set]"}function T(F){return n(F)==="[object WeakMap]"}function d(F){return n(F)==="[object WeakSet]"}function y(F){return n(F)==="[object ArrayBuffer]"}function m(F){return typeof ArrayBuffer<"u"&&(y.working?y(F):F instanceof ArrayBuffer)}function w(F){return n(F)==="[object DataView]"}function _(F){return typeof DataView<"u"&&(w.working?w(F):F instanceof DataView)}S.isArgumentsObject=v,S.isGeneratorFunction=x,S.isTypedArray=b,S.isPromise=function(F){return typeof Promise<"u"&&F instanceof Promise||F!==null&&typeof F=="object"&&typeof F.then=="function"&&typeof F.catch=="function"},S.isArrayBufferView=function(F){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(F):b(F)||_(F)},S.isUint8Array=function(F){return t(F)==="Uint8Array"},S.isUint8ClampedArray=function(F){return t(F)==="Uint8ClampedArray"},S.isUint16Array=function(F){return t(F)==="Uint16Array"},S.isUint32Array=function(F){return t(F)==="Uint32Array"},S.isInt8Array=function(F){return t(F)==="Int8Array"},S.isInt16Array=function(F){return t(F)==="Int16Array"},S.isInt32Array=function(F){return t(F)==="Int32Array"},S.isFloat32Array=function(F){return t(F)==="Float32Array"},S.isFloat64Array=function(F){return t(F)==="Float64Array"},S.isBigInt64Array=function(F){return t(F)==="BigInt64Array"},S.isBigUint64Array=function(F){return t(F)==="BigUint64Array"},h.working=typeof Map<"u"&&h(new Map),S.isMap=function(F){return typeof Map<"u"&&(h.working?h(F):F instanceof Map)},f.working=typeof Set<"u"&&f(new Set),S.isSet=function(F){return typeof Set<"u"&&(f.working?f(F):F instanceof Set)},T.working=typeof WeakMap<"u"&&T(new WeakMap),S.isWeakMap=function(F){return typeof WeakMap<"u"&&(T.working?T(F):F instanceof WeakMap)},d.working=typeof WeakSet<"u"&&d(new WeakSet),S.isWeakSet=function(F){return d(F)},y.working=typeof ArrayBuffer<"u"&&y(new ArrayBuffer),S.isArrayBuffer=m,w.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&w(new DataView(new ArrayBuffer(1),0,1)),S.isDataView=_;var A=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function p(F){return n(F)==="[object SharedArrayBuffer]"}function L(F){return A!==void 0&&(p.working===void 0&&(p.working=p(new A)),p.working?p(F):F instanceof A)}function M(F){return u(F,i)}function C(F){return u(F,a)}function R(F){return u(F,r)}function I(F){return c&&u(F,o)}function D(F){return s&&u(F,l)}S.isSharedArrayBuffer=L,S.isAsyncFunction=function(F){return n(F)==="[object AsyncFunction]"},S.isMapIterator=function(F){return n(F)==="[object Map Iterator]"},S.isSetIterator=function(F){return n(F)==="[object Set Iterator]"},S.isGeneratorObject=function(F){return n(F)==="[object Generator]"},S.isWebAssemblyCompiledModule=function(F){return n(F)==="[object WebAssembly.Module]"},S.isNumberObject=M,S.isStringObject=C,S.isBooleanObject=R,S.isBigIntObject=I,S.isSymbolObject=D,S.isBoxedPrimitive=function(F){return M(F)||C(F)||R(F)||I(F)||D(F)},S.isAnyArrayBuffer=function(F){return typeof Uint8Array<"u"&&(m(F)||L(F))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(F){Object.defineProperty(S,F,{enumerable:!1,value:function(){throw new Error(F+" is not supported in userland")}})})},35840:function(O,S,e){var v=e(4168),x=Object.getOwnPropertyDescriptors||function(D){for(var F=Object.keys(D),q={},z=0;z<F.length;z++)q[F[z]]=Object.getOwnPropertyDescriptor(D,F[z]);return q},t=/%[sdj%]/g;S.format=function(D){if(!T(D)){for(var F=[],q=0;q<arguments.length;q++)F.push(s(arguments[q]));return F.join(" ")}q=1;for(var z=arguments,V=z.length,X=String(D).replace(t,function(H){if(H==="%%")return"%";if(q>=V)return H;switch(H){case"%s":return String(z[q++]);case"%d":return Number(z[q++]);case"%j":try{return JSON.stringify(z[q++])}catch{return"[Circular]"}default:return H}}),j=z[q];q<V;j=z[++q])h(j)||!m(j)?X+=" "+j:X+=" "+s(j);return X},S.deprecate=function(D,F){if(v!==void 0&&v.noDeprecation===!0)return D;if(v===void 0)return function(){return S.deprecate(D,F).apply(this,arguments)};var q=!1;return function(){if(!q){if(v.throwDeprecation)throw new Error(F);v.traceDeprecation?console.trace(F):console.error(F),q=!0}return D.apply(this,arguments)}};var b={},g=/^$/;if(v.env.NODE_DEBUG){var c=v.env.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),g=new RegExp("^"+c+"$","i")}function s(D,F){var q={seen:[],stylize:i};return arguments.length>=3&&(q.depth=arguments[2]),arguments.length>=4&&(q.colors=arguments[3]),u(F)?q.showHidden=F:F&&S._extend(q,F),d(q.showHidden)&&(q.showHidden=!1),d(q.depth)&&(q.depth=2),d(q.colors)&&(q.colors=!1),d(q.customInspect)&&(q.customInspect=!0),q.colors&&(q.stylize=n),a(q,D,q.depth)}function n(D,F){var q=s.styles[F];return q?"\x1B["+s.colors[q][0]+"m"+D+"\x1B["+s.colors[q][1]+"m":D}function i(D,F){return D}function a(D,F,q){if(D.customInspect&&F&&A(F.inspect)&&F.inspect!==S.inspect&&(!F.constructor||F.constructor.prototype!==F)){var z=F.inspect(q,D);return T(z)||(z=a(D,z,q)),z}var V=function(K,J){if(d(J))return K.stylize("undefined","undefined");if(T(J)){var $="'"+JSON.stringify(J).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return K.stylize($,"string")}return f(J)?K.stylize(""+J,"number"):u(J)?K.stylize(""+J,"boolean"):h(J)?K.stylize("null","null"):void 0}(D,F);if(V)return V;var X=Object.keys(F),j=function(K){var J={};return K.forEach(function($,ae){J[$]=!0}),J}(X);if(D.showHidden&&(X=Object.getOwnPropertyNames(F)),_(F)&&(X.indexOf("message")>=0||X.indexOf("description")>=0))return r(F);if(X.length===0){if(A(F)){var H=F.name?": "+F.name:"";return D.stylize("[Function"+H+"]","special")}if(y(F))return D.stylize(RegExp.prototype.toString.call(F),"regexp");if(w(F))return D.stylize(Date.prototype.toString.call(F),"date");if(_(F))return r(F)}var G,ie="",re=!1,te=["{","}"];return l(F)&&(re=!0,te=["[","]"]),A(F)&&(ie=" [Function"+(F.name?": "+F.name:"")+"]"),y(F)&&(ie=" "+RegExp.prototype.toString.call(F)),w(F)&&(ie=" "+Date.prototype.toUTCString.call(F)),_(F)&&(ie=" "+r(F)),X.length!==0||re&&F.length!=0?q<0?y(F)?D.stylize(RegExp.prototype.toString.call(F),"regexp"):D.stylize("[Object]","special"):(D.seen.push(F),G=re?function(K,J,$,ae,ue){for(var ce=[],de=0,pe=J.length;de<pe;++de)C(J,String(de))?ce.push(o(K,J,$,ae,String(de),!0)):ce.push("");return ue.forEach(function(me){me.match(/^\d+$/)||ce.push(o(K,J,$,ae,me,!0))}),ce}(D,F,q,j,X):X.map(function(K){return o(D,F,q,j,K,re)}),D.seen.pop(),function(K,J,$){return K.reduce(function(ae,ue){return ue.indexOf(`
`),ae+ue.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?$[0]+(J===""?"":J+`
 `)+" "+K.join(`,
  `)+" "+$[1]:$[0]+J+" "+K.join(", ")+" "+$[1]}(G,ie,te)):te[0]+ie+te[1]}function r(D){return"["+Error.prototype.toString.call(D)+"]"}function o(D,F,q,z,V,X){var j,H,G;if((G=Object.getOwnPropertyDescriptor(F,V)||{value:F[V]}).get?H=G.set?D.stylize("[Getter/Setter]","special"):D.stylize("[Getter]","special"):G.set&&(H=D.stylize("[Setter]","special")),C(z,V)||(j="["+V+"]"),H||(D.seen.indexOf(G.value)<0?(H=h(q)?a(D,G.value,null):a(D,G.value,q-1)).indexOf(`
`)>-1&&(H=X?H.split(`
`).map(function(ie){return"  "+ie}).join(`
`).slice(2):`
`+H.split(`
`).map(function(ie){return"   "+ie}).join(`
`)):H=D.stylize("[Circular]","special")),d(j)){if(X&&V.match(/^\d+$/))return H;(j=JSON.stringify(""+V)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(j=j.slice(1,-1),j=D.stylize(j,"name")):(j=j.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),j=D.stylize(j,"string"))}return j+": "+H}function l(D){return Array.isArray(D)}function u(D){return typeof D=="boolean"}function h(D){return D===null}function f(D){return typeof D=="number"}function T(D){return typeof D=="string"}function d(D){return D===void 0}function y(D){return m(D)&&p(D)==="[object RegExp]"}function m(D){return typeof D=="object"&&D!==null}function w(D){return m(D)&&p(D)==="[object Date]"}function _(D){return m(D)&&(p(D)==="[object Error]"||D instanceof Error)}function A(D){return typeof D=="function"}function p(D){return Object.prototype.toString.call(D)}function L(D){return D<10?"0"+D.toString(10):D.toString(10)}S.debuglog=function(D){if(D=D.toUpperCase(),!b[D])if(g.test(D)){var F=v.pid;b[D]=function(){var q=S.format.apply(S,arguments);console.error("%s %d: %s",D,F,q)}}else b[D]=function(){};return b[D]},S.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},S.types=e(41088),S.isArray=l,S.isBoolean=u,S.isNull=h,S.isNullOrUndefined=function(D){return D==null},S.isNumber=f,S.isString=T,S.isSymbol=function(D){return typeof D=="symbol"},S.isUndefined=d,S.isRegExp=y,S.types.isRegExp=y,S.isObject=m,S.isDate=w,S.types.isDate=w,S.isError=_,S.types.isNativeError=_,S.isFunction=A,S.isPrimitive=function(D){return D===null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||typeof D=="symbol"||D===void 0},S.isBuffer=e(75272);var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function C(D,F){return Object.prototype.hasOwnProperty.call(D,F)}S.log=function(){var D,F;console.log("%s - %s",(F=[L((D=new Date).getHours()),L(D.getMinutes()),L(D.getSeconds())].join(":"),[D.getDate(),M[D.getMonth()],F].join(" ")),S.format.apply(S,arguments))},S.inherits=e(6768),S._extend=function(D,F){if(!F||!m(F))return D;for(var q=Object.keys(F),z=q.length;z--;)D[q[z]]=F[q[z]];return D};var R=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function I(D,F){if(!D){var q=new Error("Promise was rejected with a falsy value");q.reason=D,D=q}return F(D)}S.promisify=function(D){if(typeof D!="function")throw new TypeError('The "original" argument must be of type Function');if(R&&D[R]){var F;if(typeof(F=D[R])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(F,R,{value:F,enumerable:!1,writable:!1,configurable:!0}),F}function F(){for(var q,z,V=new Promise(function(H,G){q=H,z=G}),X=[],j=0;j<arguments.length;j++)X.push(arguments[j]);X.push(function(H,G){H?z(H):q(G)});try{D.apply(this,X)}catch(H){z(H)}return V}return Object.setPrototypeOf(F,Object.getPrototypeOf(D)),R&&Object.defineProperty(F,R,{value:F,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(F,x(D))},S.promisify.custom=R,S.callbackify=function(D){if(typeof D!="function")throw new TypeError('The "original" argument must be of type Function');function F(){for(var q=[],z=0;z<arguments.length;z++)q.push(arguments[z]);var V=q.pop();if(typeof V!="function")throw new TypeError("The last argument must be of type Function");var X=this,j=function(){return V.apply(X,arguments)};D.apply(this,q).then(function(H){v.nextTick(j.bind(null,null,H))},function(H){v.nextTick(I.bind(null,H,j))})}return Object.setPrototypeOf(F,Object.getPrototypeOf(D)),Object.defineProperties(F,x(D)),F}},5408:function(O,S,e){var v=e(13380);O.exports=function(x){return v("webgl",x)}},96632:function(O,S,e){var v=e(46492),x=e(63436),t=e(57916),b=e(99676),g=e(2304),c=b("Object.prototype.toString"),s=e(46672)(),n=typeof globalThis>"u"?e.g:globalThis,i=x(),a=b("String.prototype.slice"),r=Object.getPrototypeOf,o=b("Array.prototype.indexOf",!0)||function(u,h){for(var f=0;f<u.length;f+=1)if(u[f]===h)return f;return-1},l={__proto__:null};v(i,s&&g&&r?function(u){var h=new n[u];if(Symbol.toStringTag in h){var f=r(h),T=g(f,Symbol.toStringTag);if(!T){var d=r(f);T=g(d,Symbol.toStringTag)}l["$"+u]=t(T.get)}}:function(u){var h=new n[u],f=h.slice||h.set;f&&(l["$"+u]=t(f))}),O.exports=function(u){if(!u||typeof u!="object")return!1;if(!s){var h=a(c(u),8,-1);return o(i,h)>-1?h:h==="Object"&&function(f){var T=!1;return v(l,function(d,y){if(!T)try{d(f),T=a(y,1)}catch{}}),T}(u)}return g?function(f){var T=!1;return v(l,function(d,y){if(!T)try{"$"+d(f)===y&&(T=a(y,1))}catch{}}),T}(u):null}},67020:function(O,S,e){var v=e(38700),x=e(50896),t=v.instance();function b(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}b.prototype=new v.baseCalendar,x(b.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(r,o){if(typeof r=="string"){var l=r.match(c);return l?l[0]:""}var u=this._validateYear(r),h=r.month(),f=""+this.toChineseMonth(u,h);return o&&f.length<2&&(f="0"+f),this.isIntercalaryMonth(u,h)&&(f+="i"),f},monthNames:function(r){if(typeof r=="string"){var o=r.match(s);return o?o[0]:""}var l=this._validateYear(r),u=r.month(),h=["","","","","","","","","","","",""][this.toChineseMonth(l,u)-1];return this.isIntercalaryMonth(l,u)&&(h=""+h),h},monthNamesShort:function(r){if(typeof r=="string"){var o=r.match(n);return o?o[0]:""}var l=this._validateYear(r),u=r.month(),h=["","","","","","","","","","","",""][this.toChineseMonth(l,u)-1];return this.isIntercalaryMonth(l,u)&&(h=""+h),h},parseMonth:function(r,o){r=this._validateYear(r);var l,u=parseInt(o);if(isNaN(u))o[0]===""&&(l=!0,o=o.substring(1)),o[o.length-1]===""&&(o=o.substring(0,o.length-1)),u=1+["","","","","","","","","","","",""].indexOf(o);else{var h=o[o.length-1];l=h==="i"||h==="I"}return this.toMonthIndex(r,u,l)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(r,o){if(r.year&&(r=r.year()),typeof r!="number"||r<1888||r>2111)throw o.replace(/\{0\}/,this.local.name);return r},toMonthIndex:function(r,o,l){var u=this.intercalaryMonth(r);if(l&&o!==u||o<1||o>12)throw v.local.invalidMonth.replace(/\{0\}/,this.local.name);return u?!l&&o<=u?o-1:o:o-1},toChineseMonth:function(r,o){r.year&&(o=(r=r.year()).month());var l=this.intercalaryMonth(r);if(o<0||o>(l?12:11))throw v.local.invalidMonth.replace(/\{0\}/,this.local.name);return l?o<l?o+1:o:o+1},intercalaryMonth:function(r){return r=this._validateYear(r),i[r-i[0]]>>13},isIntercalaryMonth:function(r,o){r.year&&(o=(r=r.year()).month());var l=this.intercalaryMonth(r);return!!l&&l===o},leapYear:function(r){return this.intercalaryMonth(r)!==0},weekOfYear:function(r,o,l){var u,h=this._validateYear(r,v.local.invalidyear),f=a[h-a[0]],T=f>>9&4095,d=f>>5&15,y=31&f;(u=t.newDate(T,d,y)).add(4-(u.dayOfWeek()||7),"d");var m=this.toJD(r,o,l)-u.toJD();return 1+Math.floor(m/7)},monthsInYear:function(r){return this.leapYear(r)?13:12},daysInMonth:function(r,o){r.year&&(o=r.month(),r=r.year()),r=this._validateYear(r);var l=i[r-i[0]];if(o>(l>>13?12:11))throw v.local.invalidMonth.replace(/\{0\}/,this.local.name);return l&1<<12-o?30:29},weekDay:function(r,o,l){return(this.dayOfWeek(r,o,l)||7)<6},toJD:function(r,o,l){var u=this._validate(r,f,l,v.local.invalidDate);r=this._validateYear(u.year()),o=u.month(),l=u.day();var h=this.isIntercalaryMonth(r,o),f=this.toChineseMonth(r,o),T=function(d,y,m,w,_){var A,p,L;if(typeof d=="object")p=d,A=y||{};else{var M;if(!(typeof d=="number"&&d>=1888&&d<=2111))throw new Error("Lunar year outside range 1888-2111");if(!(typeof y=="number"&&y>=1&&y<=12))throw new Error("Lunar month outside range 1 - 12");if(!(typeof m=="number"&&m>=1&&m<=30))throw new Error("Lunar day outside range 1 - 30");typeof w=="object"?(M=!1,A=w):(M=!!w,A={}),p={year:d,month:y,day:m,isIntercalary:M}}L=p.day-1;var C,R=i[p.year-i[0]],I=R>>13;C=I&&(p.month>I||p.isIntercalary)?p.month:p.month-1;for(var D=0;D<C;D++)L+=R&1<<12-D?30:29;var F=a[p.year-a[0]],q=new Date(F>>9&4095,(F>>5&15)-1,(31&F)+L);return A.year=q.getFullYear(),A.month=1+q.getMonth(),A.day=q.getDate(),A}(r,f,l,h);return t.toJD(T.year,T.month,T.day)},fromJD:function(r){var o=t.fromJD(r),l=function(h,f,T,d){var y,m;if(typeof h=="object")y=h,m=f||{};else{if(!(typeof h=="number"&&h>=1888&&h<=2111))throw new Error("Solar year outside range 1888-2111");if(!(typeof f=="number"&&f>=1&&f<=12))throw new Error("Solar month outside range 1 - 12");if(!(typeof T=="number"&&T>=1&&T<=31))throw new Error("Solar day outside range 1 - 31");y={year:h,month:f,day:T},m={}}var w=a[y.year-a[0]],_=y.year<<9|y.month<<5|y.day;m.year=_>=w?y.year:y.year-1,w=a[m.year-a[0]];var A,p=new Date(w>>9&4095,(w>>5&15)-1,31&w),L=new Date(y.year,y.month-1,y.day);A=Math.round((L-p)/864e5);var M,C=i[m.year-i[0]];for(M=0;M<13;M++){var R=C&1<<12-M?30:29;if(A<R)break;A-=R}var I=C>>13;return!I||M<I?(m.isIntercalary=!1,m.month=1+M):M===I?(m.isIntercalary=!0,m.month=M):(m.isIntercalary=!1,m.month=M),m.day=1+A,m}(o.year(),o.month(),o.day()),u=this.toMonthIndex(l.year,l.month,l.isIntercalary);return this.newDate(l.year,u,l.day)},fromString:function(r){var o=r.match(g),l=this._validateYear(+o[1]),u=+o[2],h=!!o[3],f=this.toMonthIndex(l,u,h),T=+o[4];return this.newDate(l,f,T)},add:function(r,o,l){var u=r.year(),h=r.month(),f=this.isIntercalaryMonth(u,h),T=this.toChineseMonth(u,h),d=Object.getPrototypeOf(b.prototype).add.call(this,r,o,l);if(l==="y"){var y=d.year(),m=d.month(),w=this.isIntercalaryMonth(y,T),_=f&&w?this.toMonthIndex(y,T,!0):this.toMonthIndex(y,T,!1);_!==m&&d.month(_)}return d}});var g=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,c=/^\d?\d[iI]?/m,s=/^??[]?/m,n=/^??[]?/m;v.calendars.chinese=b;var i=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],a=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},89792:function(O,S,e){var v=e(38700),x=e(50896);function t(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}t.prototype=new v.baseCalendar,x(t.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(b){var g=this._validate(b,this.minMonth,this.minDay,v.local.invalidYear);return(b=g.year()+(g.year()<0?1:0))%4==3||b%4==-1},monthsInYear:function(b){return this._validate(b,this.minMonth,this.minDay,v.local.invalidYear||v.regionalOptions[""].invalidYear),13},weekOfYear:function(b,g,c){var s=this.newDate(b,g,c);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(b,g){var c=this._validate(b,g,this.minDay,v.local.invalidMonth);return this.daysPerMonth[c.month()-1]+(c.month()===13&&this.leapYear(c.year())?1:0)},weekDay:function(b,g,c){return(this.dayOfWeek(b,g,c)||7)<6},toJD:function(b,g,c){var s=this._validate(b,g,c,v.local.invalidDate);return(b=s.year())<0&&b++,s.day()+30*(s.month()-1)+365*(b-1)+Math.floor(b/4)+this.jdEpoch-1},fromJD:function(b){var g=Math.floor(b)+.5-this.jdEpoch,c=Math.floor((g-Math.floor((g+366)/1461))/365)+1;c<=0&&c--,g=Math.floor(b)+.5-this.newDate(c,1,1).toJD();var s=Math.floor(g/30)+1,n=g-30*(s-1)+1;return this.newDate(c,s,n)}}),v.calendars.coptic=t},55668:function(O,S,e){var v=e(38700),x=e(50896);function t(g){this.local=this.regionalOptions[g||""]||this.regionalOptions[""]}t.prototype=new v.baseCalendar,x(t.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(g){return this._validate(g,this.minMonth,this.minDay,v.local.invalidYear),!1},monthsInYear:function(g){return this._validate(g,this.minMonth,this.minDay,v.local.invalidYear),13},daysInYear:function(g){return this._validate(g,this.minMonth,this.minDay,v.local.invalidYear),400},weekOfYear:function(g,c,s){var n=this.newDate(g,c,s);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/8)+1},daysInMonth:function(g,c){var s=this._validate(g,c,this.minDay,v.local.invalidMonth);return this.daysPerMonth[s.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(g,c,s){return(this._validate(g,c,s,v.local.invalidDate).day()+1)%8},weekDay:function(g,c,s){var n=this.dayOfWeek(g,c,s);return n>=2&&n<=6},extraInfo:function(g,c,s){var n=this._validate(g,c,s,v.local.invalidDate);return{century:b[Math.floor((n.year()-1)/100)+1]||""}},toJD:function(g,c,s){var n=this._validate(g,c,s,v.local.invalidDate);return g=n.year()+(n.year()<0?1:0),c=n.month(),(s=n.day())+(c>1?16:0)+(c>2?32*(c-2):0)+400*(g-1)+this.jdEpoch-1},fromJD:function(g){g=Math.floor(g+.5)-Math.floor(this.jdEpoch)-1;var c=Math.floor(g/400)+1;g-=400*(c-1),g+=g>15?16:0;var s=Math.floor(g/32)+1,n=g-32*(s-1)+1;return this.newDate(c<=0?c-1:c,s,n)}});var b={20:"Fruitbat",21:"Anchovy"};v.calendars.discworld=t},65168:function(O,S,e){var v=e(38700),x=e(50896);function t(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}t.prototype=new v.baseCalendar,x(t.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(b){var g=this._validate(b,this.minMonth,this.minDay,v.local.invalidYear);return(b=g.year()+(g.year()<0?1:0))%4==3||b%4==-1},monthsInYear:function(b){return this._validate(b,this.minMonth,this.minDay,v.local.invalidYear||v.regionalOptions[""].invalidYear),13},weekOfYear:function(b,g,c){var s=this.newDate(b,g,c);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(b,g){var c=this._validate(b,g,this.minDay,v.local.invalidMonth);return this.daysPerMonth[c.month()-1]+(c.month()===13&&this.leapYear(c.year())?1:0)},weekDay:function(b,g,c){return(this.dayOfWeek(b,g,c)||7)<6},toJD:function(b,g,c){var s=this._validate(b,g,c,v.local.invalidDate);return(b=s.year())<0&&b++,s.day()+30*(s.month()-1)+365*(b-1)+Math.floor(b/4)+this.jdEpoch-1},fromJD:function(b){var g=Math.floor(b)+.5-this.jdEpoch,c=Math.floor((g-Math.floor((g+366)/1461))/365)+1;c<=0&&c--,g=Math.floor(b)+.5-this.newDate(c,1,1).toJD();var s=Math.floor(g/30)+1,n=g-30*(s-1)+1;return this.newDate(c,s,n)}}),v.calendars.ethiopian=t},2084:function(O,S,e){var v=e(38700),x=e(50896);function t(g){this.local=this.regionalOptions[g||""]||this.regionalOptions[""]}function b(g,c){return g-c*Math.floor(g/c)}t.prototype=new v.baseCalendar,x(t.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(g){var c=this._validate(g,this.minMonth,this.minDay,v.local.invalidYear);return this._leapYear(c.year())},_leapYear:function(g){return b(7*(g=g<0?g+1:g)+1,19)<7},monthsInYear:function(g){return this._validate(g,this.minMonth,this.minDay,v.local.invalidYear),this._leapYear(g.year?g.year():g)?13:12},weekOfYear:function(g,c,s){var n=this.newDate(g,c,s);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(g){return g=this._validate(g,this.minMonth,this.minDay,v.local.invalidYear).year(),this.toJD(g===-1?1:g+1,7,1)-this.toJD(g,7,1)},daysInMonth:function(g,c){return g.year&&(c=g.month(),g=g.year()),this._validate(g,c,this.minDay,v.local.invalidMonth),c===12&&this.leapYear(g)||c===8&&b(this.daysInYear(g),10)===5?30:c===9&&b(this.daysInYear(g),10)===3?29:this.daysPerMonth[c-1]},weekDay:function(g,c,s){return this.dayOfWeek(g,c,s)!==6},extraInfo:function(g,c,s){var n=this._validate(g,c,s,v.local.invalidDate);return{yearType:(this.leapYear(n)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(n)%10-3]}},toJD:function(g,c,s){var n=this._validate(g,c,s,v.local.invalidDate);g=n.year(),c=n.month(),s=n.day();var i=g<=0?g+1:g,a=this.jdEpoch+this._delay1(i)+this._delay2(i)+s+1;if(c<7){for(var r=7;r<=this.monthsInYear(g);r++)a+=this.daysInMonth(g,r);for(r=1;r<c;r++)a+=this.daysInMonth(g,r)}else for(r=7;r<c;r++)a+=this.daysInMonth(g,r);return a},_delay1:function(g){var c=Math.floor((235*g-234)/19),s=12084+13753*c,n=29*c+Math.floor(s/25920);return b(3*(n+1),7)<3&&n++,n},_delay2:function(g){var c=this._delay1(g-1),s=this._delay1(g);return this._delay1(g+1)-s==356?2:s-c==382?1:0},fromJD:function(g){g=Math.floor(g)+.5;for(var c=Math.floor(98496*(g-this.jdEpoch)/35975351)-1;g>=this.toJD(c===-1?1:c+1,7,1);)c++;for(var s=g<this.toJD(c,1,1)?7:1;g>this.toJD(c,s,this.daysInMonth(c,s));)s++;var n=g-this.toJD(c,s,1)+1;return this.newDate(c,s,n)}}),v.calendars.hebrew=t},26368:function(O,S,e){var v=e(38700),x=e(50896);function t(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}t.prototype=new v.baseCalendar,x(t.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(b){return(11*this._validate(b,this.minMonth,this.minDay,v.local.invalidYear).year()+14)%30<11},weekOfYear:function(b,g,c){var s=this.newDate(b,g,c);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInYear:function(b){return this.leapYear(b)?355:354},daysInMonth:function(b,g){var c=this._validate(b,g,this.minDay,v.local.invalidMonth);return this.daysPerMonth[c.month()-1]+(c.month()===12&&this.leapYear(c.year())?1:0)},weekDay:function(b,g,c){return this.dayOfWeek(b,g,c)!==5},toJD:function(b,g,c){var s=this._validate(b,g,c,v.local.invalidDate);return b=s.year(),g=s.month(),b=b<=0?b+1:b,(c=s.day())+Math.ceil(29.5*(g-1))+354*(b-1)+Math.floor((3+11*b)/30)+this.jdEpoch-1},fromJD:function(b){b=Math.floor(b)+.5;var g=Math.floor((30*(b-this.jdEpoch)+10646)/10631);g=g<=0?g-1:g;var c=Math.min(12,Math.ceil((b-29-this.toJD(g,1,1))/29.5)+1),s=b-this.toJD(g,c,1)+1;return this.newDate(g,c,s)}}),v.calendars.islamic=t},24747:function(O,S,e){var v=e(38700),x=e(50896);function t(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}t.prototype=new v.baseCalendar,x(t.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(b){var g=this._validate(b,this.minMonth,this.minDay,v.local.invalidYear);return(b=g.year()<0?g.year()+1:g.year())%4==0},weekOfYear:function(b,g,c){var s=this.newDate(b,g,c);return s.add(4-(s.dayOfWeek()||7),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(b,g){var c=this._validate(b,g,this.minDay,v.local.invalidMonth);return this.daysPerMonth[c.month()-1]+(c.month()===2&&this.leapYear(c.year())?1:0)},weekDay:function(b,g,c){return(this.dayOfWeek(b,g,c)||7)<6},toJD:function(b,g,c){var s=this._validate(b,g,c,v.local.invalidDate);return b=s.year(),g=s.month(),c=s.day(),b<0&&b++,g<=2&&(b--,g+=12),Math.floor(365.25*(b+4716))+Math.floor(30.6001*(g+1))+c-1524.5},fromJD:function(b){var g=Math.floor(b+.5)+1524,c=Math.floor((g-122.1)/365.25),s=Math.floor(365.25*c),n=Math.floor((g-s)/30.6001),i=n-Math.floor(n<14?1:13),a=c-Math.floor(i>2?4716:4715),r=g-s-Math.floor(30.6001*n);return a<=0&&a--,this.newDate(a,i,r)}}),v.calendars.julian=t},65616:function(O,S,e){var v=e(38700),x=e(50896);function t(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}function b(c,s){return c-s*Math.floor(c/s)}function g(c,s){return b(c-1,s)+1}t.prototype=new v.baseCalendar,x(t.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(c){return this._validate(c,this.minMonth,this.minDay,v.local.invalidYear),!1},formatYear:function(c){c=this._validate(c,this.minMonth,this.minDay,v.local.invalidYear).year();var s=Math.floor(c/400);return c%=400,c+=c<0?400:0,s+"."+Math.floor(c/20)+"."+c%20},forYear:function(c){if((c=c.split(".")).length<3)throw"Invalid Mayan year";for(var s=0,n=0;n<c.length;n++){var i=parseInt(c[n],10);if(Math.abs(i)>19||n>0&&i<0)throw"Invalid Mayan year";s=20*s+i}return s},monthsInYear:function(c){return this._validate(c,this.minMonth,this.minDay,v.local.invalidYear),18},weekOfYear:function(c,s,n){return this._validate(c,s,n,v.local.invalidDate),0},daysInYear:function(c){return this._validate(c,this.minMonth,this.minDay,v.local.invalidYear),360},daysInMonth:function(c,s){return this._validate(c,s,this.minDay,v.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(c,s,n){return this._validate(c,s,n,v.local.invalidDate).day()},weekDay:function(c,s,n){return this._validate(c,s,n,v.local.invalidDate),!0},extraInfo:function(c,s,n){var i=this._validate(c,s,n,v.local.invalidDate).toJD(),a=this._toHaab(i),r=this._toTzolkin(i);return{haabMonthName:this.local.haabMonths[a[0]-1],haabMonth:a[0],haabDay:a[1],tzolkinDayName:this.local.tzolkinMonths[r[0]-1],tzolkinDay:r[0],tzolkinTrecena:r[1]}},_toHaab:function(c){var s=b(8+(c-=this.jdEpoch)+340,365);return[Math.floor(s/20)+1,b(s,20)]},_toTzolkin:function(c){return[g(20+(c-=this.jdEpoch),20),g(c+4,13)]},toJD:function(c,s,n){var i=this._validate(c,s,n,v.local.invalidDate);return i.day()+20*i.month()+360*i.year()+this.jdEpoch},fromJD:function(c){c=Math.floor(c)+.5-this.jdEpoch;var s=Math.floor(c/360);c%=360,c+=c<0?360:0;var n=Math.floor(c/20),i=c%20;return this.newDate(s,n,i)}}),v.calendars.mayan=t},30632:function(O,S,e){var v=e(38700),x=e(50896);function t(g){this.local=this.regionalOptions[g||""]||this.regionalOptions[""]}t.prototype=new v.baseCalendar;var b=v.instance("gregorian");x(t.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(g){var c=this._validate(g,this.minMonth,this.minDay,v.local.invalidYear||v.regionalOptions[""].invalidYear);return b.leapYear(c.year()+(c.year()<1?1:0)+1469)},weekOfYear:function(g,c,s){var n=this.newDate(g,c,s);return n.add(1-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(g,c){var s=this._validate(g,c,this.minDay,v.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===12&&this.leapYear(s.year())?1:0)},weekDay:function(g,c,s){return(this.dayOfWeek(g,c,s)||7)<6},toJD:function(g,c,s){var n=this._validate(g,c,s,v.local.invalidMonth);(g=n.year())<0&&g++;for(var i=n.day(),a=1;a<n.month();a++)i+=this.daysPerMonth[a-1];return i+b.toJD(g+1468,3,13)},fromJD:function(g){g=Math.floor(g+.5);for(var c=Math.floor((g-(this.jdEpoch-1))/366);g>=this.toJD(c+1,1,1);)c++;for(var s=g-Math.floor(this.toJD(c,1,1)+.5)+1,n=1;s>this.daysInMonth(c,n);)s-=this.daysInMonth(c,n),n++;return this.newDate(c,n,s)}}),v.calendars.nanakshahi=t},73040:function(O,S,e){var v=e(38700),x=e(50896);function t(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}t.prototype=new v.baseCalendar,x(t.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(b){return this.daysInYear(b)!==this.daysPerYear},weekOfYear:function(b,g,c){var s=this.newDate(b,g,c);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInYear:function(b){if(b=this._validate(b,this.minMonth,this.minDay,v.local.invalidYear).year(),this.NEPALI_CALENDAR_DATA[b]===void 0)return this.daysPerYear;for(var g=0,c=this.minMonth;c<=12;c++)g+=this.NEPALI_CALENDAR_DATA[b][c];return g},daysInMonth:function(b,g){return b.year&&(g=b.month(),b=b.year()),this._validate(b,g,this.minDay,v.local.invalidMonth),this.NEPALI_CALENDAR_DATA[b]===void 0?this.daysPerMonth[g-1]:this.NEPALI_CALENDAR_DATA[b][g]},weekDay:function(b,g,c){return this.dayOfWeek(b,g,c)!==6},toJD:function(b,g,c){var s=this._validate(b,g,c,v.local.invalidDate);b=s.year(),g=s.month(),c=s.day();var n=v.instance(),i=0,a=g,r=b;this._createMissingCalendarData(b);var o=b-(a>9||a===9&&c>=this.NEPALI_CALENDAR_DATA[r][0]?56:57);for(g!==9&&(i=c,a--);a!==9;)a<=0&&(a=12,r--),i+=this.NEPALI_CALENDAR_DATA[r][a],a--;return g===9?(i+=c-this.NEPALI_CALENDAR_DATA[r][0])<0&&(i+=n.daysInYear(o)):i+=this.NEPALI_CALENDAR_DATA[r][9]-this.NEPALI_CALENDAR_DATA[r][0],n.newDate(o,1,1).add(i,"d").toJD()},fromJD:function(b){var g=v.instance().fromJD(b),c=g.year(),s=g.dayOfYear(),n=c+56;this._createMissingCalendarData(n);for(var i=9,a=this.NEPALI_CALENDAR_DATA[n][0],r=this.NEPALI_CALENDAR_DATA[n][i]-a+1;s>r;)++i>12&&(i=1,n++),r+=this.NEPALI_CALENDAR_DATA[n][i];var o=this.NEPALI_CALENDAR_DATA[n][i]-(r-s);return this.newDate(n,i,o)},_createMissingCalendarData:function(b){var g=this.daysPerMonth.slice(0);g.unshift(17);for(var c=b-1;c<b+2;c++)this.NEPALI_CALENDAR_DATA[c]===void 0&&(this.NEPALI_CALENDAR_DATA[c]=g)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),v.calendars.nepali=t},1104:function(O,S,e){var v=e(38700),x=e(50896);function t(g){this.local=this.regionalOptions[g||""]||this.regionalOptions[""]}function b(g,c){return g-c*Math.floor(g/c)}t.prototype=new v.baseCalendar,x(t.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(g){var c=this._validate(g,this.minMonth,this.minDay,v.local.invalidYear);return 682*((c.year()-(c.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(g,c,s){var n=this.newDate(g,c,s);return n.add(-(n.dayOfWeek()+1)%7,"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(g,c){var s=this._validate(g,c,this.minDay,v.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===12&&this.leapYear(s.year())?1:0)},weekDay:function(g,c,s){return this.dayOfWeek(g,c,s)!==5},toJD:function(g,c,s){var n=this._validate(g,c,s,v.local.invalidDate);g=n.year(),c=n.month(),s=n.day();var i=g-(g>=0?474:473),a=474+b(i,2820);return s+(c<=7?31*(c-1):30*(c-1)+6)+Math.floor((682*a-110)/2816)+365*(a-1)+1029983*Math.floor(i/2820)+this.jdEpoch-1},fromJD:function(g){var c=(g=Math.floor(g)+.5)-this.toJD(475,1,1),s=Math.floor(c/1029983),n=b(c,1029983),i=2820;if(n!==1029982){var a=Math.floor(n/366),r=b(n,366);i=Math.floor((2134*a+2816*r+2815)/1028522)+a+1}var o=i+2820*s+474;o=o<=0?o-1:o;var l=g-this.toJD(o,1,1)+1,u=l<=186?Math.ceil(l/31):Math.ceil((l-6)/30),h=g-this.toJD(o,u,1)+1;return this.newDate(o,u,h)}}),v.calendars.persian=t,v.calendars.jalali=t},51456:function(O,S,e){var v=e(38700),x=e(50896),t=v.instance();function b(g){this.local=this.regionalOptions[g||""]||this.regionalOptions[""]}b.prototype=new v.baseCalendar,x(b.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(g){var c=this._validate(g,this.minMonth,this.minDay,v.local.invalidYear);return g=this._t2gYear(c.year()),t.leapYear(g)},weekOfYear:function(g,c,s){var n=this._validate(g,this.minMonth,this.minDay,v.local.invalidYear);return g=this._t2gYear(n.year()),t.weekOfYear(g,n.month(),n.day())},daysInMonth:function(g,c){var s=this._validate(g,c,this.minDay,v.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===2&&this.leapYear(s.year())?1:0)},weekDay:function(g,c,s){return(this.dayOfWeek(g,c,s)||7)<6},toJD:function(g,c,s){var n=this._validate(g,c,s,v.local.invalidDate);return g=this._t2gYear(n.year()),t.toJD(g,n.month(),n.day())},fromJD:function(g){var c=t.fromJD(g),s=this._g2tYear(c.year());return this.newDate(s,c.month(),c.day())},_t2gYear:function(g){return g+this.yearsOffset+(g>=-this.yearsOffset&&g<=-1?1:0)},_g2tYear:function(g){return g-this.yearsOffset-(g>=1&&g<=this.yearsOffset?1:0)}}),v.calendars.taiwan=b},4592:function(O,S,e){var v=e(38700),x=e(50896),t=v.instance();function b(g){this.local=this.regionalOptions[g||""]||this.regionalOptions[""]}b.prototype=new v.baseCalendar,x(b.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(g){var c=this._validate(g,this.minMonth,this.minDay,v.local.invalidYear);return g=this._t2gYear(c.year()),t.leapYear(g)},weekOfYear:function(g,c,s){var n=this._validate(g,this.minMonth,this.minDay,v.local.invalidYear);return g=this._t2gYear(n.year()),t.weekOfYear(g,n.month(),n.day())},daysInMonth:function(g,c){var s=this._validate(g,c,this.minDay,v.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===2&&this.leapYear(s.year())?1:0)},weekDay:function(g,c,s){return(this.dayOfWeek(g,c,s)||7)<6},toJD:function(g,c,s){var n=this._validate(g,c,s,v.local.invalidDate);return g=this._t2gYear(n.year()),t.toJD(g,n.month(),n.day())},fromJD:function(g){var c=t.fromJD(g),s=this._g2tYear(c.year());return this.newDate(s,c.month(),c.day())},_t2gYear:function(g){return g-this.yearsOffset-(g>=1&&g<=this.yearsOffset?1:0)},_g2tYear:function(g){return g+this.yearsOffset+(g>=-this.yearsOffset&&g<=-1?1:0)}}),v.calendars.thai=b},45348:function(O,S,e){var v=e(38700),x=e(50896);function t(g){this.local=this.regionalOptions[g||""]||this.regionalOptions[""]}t.prototype=new v.baseCalendar,x(t.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(g){var c=this._validate(g,this.minMonth,this.minDay,v.local.invalidYear);return this.daysInYear(c.year())===355},weekOfYear:function(g,c,s){var n=this.newDate(g,c,s);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(g){for(var c=0,s=1;s<=12;s++)c+=this.daysInMonth(g,s);return c},daysInMonth:function(g,c){for(var s=this._validate(g,c,this.minDay,v.local.invalidMonth).toJD()-24e5+.5,n=0,i=0;i<b.length;i++){if(b[i]>s)return b[n]-b[n-1];n++}return 30},weekDay:function(g,c,s){return this.dayOfWeek(g,c,s)!==5},toJD:function(g,c,s){var n=this._validate(g,c,s,v.local.invalidDate),i=12*(n.year()-1)+n.month()-15292;return n.day()+b[i-1]-1+24e5-.5},fromJD:function(g){for(var c=g-24e5+.5,s=0,n=0;n<b.length&&!(b[n]>c);n++)s++;var i=s+15292,a=Math.floor((i-1)/12),r=a+1,o=i-12*a,l=c-b[s-1]+1;return this.newDate(r,o,l)},isValid:function(g,c,s){var n=v.baseCalendar.prototype.isValid.apply(this,arguments);return n&&(n=(g=g.year!=null?g.year:g)>=1276&&g<=1500),n},_validate:function(g,c,s,n){var i=v.baseCalendar.prototype._validate.apply(this,arguments);if(i.year<1276||i.year>1500)throw n.replace(/\{0\}/,this.local.name);return i}}),v.calendars.ummalqura=t;var b=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},38700:function(O,S,e){var v=e(50896);function x(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function t(n,i,a,r){if(this._calendar=n,this._year=i,this._month=a,this._day=r,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(s.local.invalidDate||s.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function b(n,i){return"000000".substring(0,i-(n=""+n).length)+n}function g(){this.shortYearCutoff="+10"}function c(n){this.local=this.regionalOptions[n]||this.regionalOptions[""]}v(x.prototype,{instance:function(n,i){n=(n||"gregorian").toLowerCase(),i=i||"";var a=this._localCals[n+"-"+i];if(!a&&this.calendars[n]&&(a=new this.calendars[n](i),this._localCals[n+"-"+i]=a),!a)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,n);return a},newDate:function(n,i,a,r,o){return(r=(n!=null&&n.year?n.calendar():typeof r=="string"?this.instance(r,o):r)||this.instance()).newDate(n,i,a)},substituteDigits:function(n){return function(i){return(i+"").replace(/[0-9]/g,function(a){return n[a]})}},substituteChineseDigits:function(n,i){return function(a){for(var r="",o=0;a>0;){var l=a%10;r=(l===0?"":n[l]+i[o])+r,o++,a=Math.floor(a/10)}return r.indexOf(n[1]+i[1])===0&&(r=r.substr(1)),r||n[0]}}}),v(t.prototype,{newDate:function(n,i,a){return this._calendar.newDate(n??this,i,a)},year:function(n){return arguments.length===0?this._year:this.set(n,"y")},month:function(n){return arguments.length===0?this._month:this.set(n,"m")},day:function(n){return arguments.length===0?this._day:this.set(n,"d")},date:function(n,i,a){if(!this._calendar.isValid(n,i,a))throw(s.local.invalidDate||s.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=n,this._month=i,this._day=a,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(n,i){return this._calendar.add(this,n,i)},set:function(n,i){return this._calendar.set(this,n,i)},compareTo:function(n){if(this._calendar.name!==n._calendar.name)throw(s.local.differentCalendars||s.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,n._calendar.local.name);var i=this._year!==n._year?this._year-n._year:this._month!==n._month?this.monthOfYear()-n.monthOfYear():this._day-n._day;return i===0?0:i<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(n){return this._calendar.fromJD(n)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(n){return this._calendar.fromJSDate(n)},toString:function(){return(this.year()<0?"-":"")+b(Math.abs(this.year()),4)+"-"+b(this.month(),2)+"-"+b(this.day(),2)}}),v(g.prototype,{_validateLevel:0,newDate:function(n,i,a){return n==null?this.today():(n.year&&(this._validate(n,i,a,s.local.invalidDate||s.regionalOptions[""].invalidDate),a=n.day(),i=n.month(),n=n.year()),new t(this,n,i,a))},today:function(){return this.fromJSDate(new Date)},epoch:function(n){return this._validate(n,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(n){var i=this._validate(n,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return(i.year()<0?"-":"")+b(Math.abs(i.year()),4)},monthsInYear:function(n){return this._validate(n,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear),12},monthOfYear:function(n,i){var a=this._validate(n,i,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth);return(a.month()+this.monthsInYear(a)-this.firstMonth)%this.monthsInYear(a)+this.minMonth},fromMonthOfYear:function(n,i){var a=(i+this.firstMonth-2*this.minMonth)%this.monthsInYear(n)+this.minMonth;return this._validate(n,a,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth),a},daysInYear:function(n){var i=this._validate(n,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return this.leapYear(i)?366:365},dayOfYear:function(n,i,a){var r=this._validate(n,i,a,s.local.invalidDate||s.regionalOptions[""].invalidDate);return r.toJD()-this.newDate(r.year(),this.fromMonthOfYear(r.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(n,i,a){var r=this._validate(n,i,a,s.local.invalidDate||s.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(r))+2)%this.daysInWeek()},extraInfo:function(n,i,a){return this._validate(n,i,a,s.local.invalidDate||s.regionalOptions[""].invalidDate),{}},add:function(n,i,a){return this._validate(n,this.minMonth,this.minDay,s.local.invalidDate||s.regionalOptions[""].invalidDate),this._correctAdd(n,this._add(n,i,a),i,a)},_add:function(n,i,a){if(this._validateLevel++,a==="d"||a==="w"){var r=n.toJD()+i*(a==="w"?this.daysInWeek():1),o=n.calendar().fromJD(r);return this._validateLevel--,[o.year(),o.month(),o.day()]}try{var l=n.year()+(a==="y"?i:0),u=n.monthOfYear()+(a==="m"?i:0);o=n.day(),a==="y"?(n.month()!==this.fromMonthOfYear(l,u)&&(u=this.newDate(l,n.month(),this.minDay).monthOfYear()),u=Math.min(u,this.monthsInYear(l)),o=Math.min(o,this.daysInMonth(l,this.fromMonthOfYear(l,u)))):a==="m"&&(function(f){for(;u<f.minMonth;)l--,u+=f.monthsInYear(l);for(var T=f.monthsInYear(l);u>T-1+f.minMonth;)l++,u-=T,T=f.monthsInYear(l)}(this),o=Math.min(o,this.daysInMonth(l,this.fromMonthOfYear(l,u))));var h=[l,this.fromMonthOfYear(l,u),o];return this._validateLevel--,h}catch(f){throw this._validateLevel--,f}},_correctAdd:function(n,i,a,r){if(!(this.hasYearZero||r!=="y"&&r!=="m"||i[0]!==0&&n.year()>0==i[0]>0)){var o={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[r],l=a<0?-1:1;i=this._add(n,a*o[0]+l*o[1],o[2])}return n.date(i[0],i[1],i[2])},set:function(n,i,a){this._validate(n,this.minMonth,this.minDay,s.local.invalidDate||s.regionalOptions[""].invalidDate);var r=a==="y"?i:n.year(),o=a==="m"?i:n.month(),l=a==="d"?i:n.day();return a!=="y"&&a!=="m"||(l=Math.min(l,this.daysInMonth(r,o))),n.date(r,o,l)},isValid:function(n,i,a){this._validateLevel++;var r=this.hasYearZero||n!==0;if(r){var o=this.newDate(n,i,this.minDay);r=i>=this.minMonth&&i-this.minMonth<this.monthsInYear(o)&&a>=this.minDay&&a-this.minDay<this.daysInMonth(o)}return this._validateLevel--,r},toJSDate:function(n,i,a){var r=this._validate(n,i,a,s.local.invalidDate||s.regionalOptions[""].invalidDate);return s.instance().fromJD(this.toJD(r)).toJSDate()},fromJSDate:function(n){return this.fromJD(s.instance().fromJSDate(n).toJD())},_validate:function(n,i,a,r){if(n.year){if(this._validateLevel===0&&this.name!==n.calendar().name)throw(s.local.differentCalendars||s.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,n.calendar().local.name);return n}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(n,i,a))throw r.replace(/\{0\}/,this.local.name);var o=this.newDate(n,i,a);return this._validateLevel--,o}catch(l){throw this._validateLevel--,l}}}),c.prototype=new g,v(c.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(n){var i=this._validate(n,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return(n=i.year()+(i.year()<0?1:0))%4==0&&(n%100!=0||n%400==0)},weekOfYear:function(n,i,a){var r=this.newDate(n,i,a);return r.add(4-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(n,i){var a=this._validate(n,i,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth);return this.daysPerMonth[a.month()-1]+(a.month()===2&&this.leapYear(a.year())?1:0)},weekDay:function(n,i,a){return(this.dayOfWeek(n,i,a)||7)<6},toJD:function(n,i,a){var r=this._validate(n,i,a,s.local.invalidDate||s.regionalOptions[""].invalidDate);n=r.year(),i=r.month(),a=r.day(),n<0&&n++,i<3&&(i+=12,n--);var o=Math.floor(n/100),l=2-o+Math.floor(o/4);return Math.floor(365.25*(n+4716))+Math.floor(30.6001*(i+1))+a+l-1524.5},fromJD:function(n){var i=Math.floor(n+.5),a=Math.floor((i-186721625e-2)/36524.25),r=1524+(a=i+1+a-Math.floor(a/4)),o=Math.floor((r-122.1)/365.25),l=Math.floor(365.25*o),u=Math.floor((r-l)/30.6001),h=r-l-Math.floor(30.6001*u),f=u-(u>13.5?13:1),T=o-(f>2.5?4716:4715);return T<=0&&T--,this.newDate(T,f,h)},toJSDate:function(n,i,a){var r=this._validate(n,i,a,s.local.invalidDate||s.regionalOptions[""].invalidDate),o=new Date(r.year(),r.month()-1,r.day());return o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0),o.setHours(o.getHours()>12?o.getHours()+2:0),o},fromJSDate:function(n){return this.newDate(n.getFullYear(),n.getMonth()+1,n.getDate())}});var s=O.exports=new x;s.cdate=t,s.baseCalendar=g,s.calendars.gregorian=c},15168:function(O,S,e){var v=e(50896),x=e(38700);v(x.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),x.local=x.regionalOptions[""],v(x.cdate.prototype,{formatDate:function(t,b){return typeof t!="string"&&(b=t,t=""),this._calendar.formatDate(t||"",this,b)}}),v(x.baseCalendar.prototype,{UNIX_EPOCH:x.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:x.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(t,b,g){if(typeof t!="string"&&(g=b,b=t,t=""),!b)return"";if(b.calendar()!==this)throw x.local.invalidFormat||x.regionalOptions[""].invalidFormat;t=t||this.local.dateFormat;for(var c,s,n,i=(g=g||{}).dayNamesShort||this.local.dayNamesShort,a=g.dayNames||this.local.dayNames,r=g.monthNumbers||this.local.monthNumbers,o=g.monthNamesShort||this.local.monthNamesShort,l=g.monthNames||this.local.monthNames,u=(g.calculateWeek||this.local.calculateWeek,function(p,L){for(var M=1;A+M<t.length&&t.charAt(A+M)===p;)M++;return A+=M-1,Math.floor(M/(L||1))>1}),h=function(p,L,M,C){var R=""+L;if(u(p,C))for(;R.length<M;)R="0"+R;return R},f=this,T=function(p){return typeof r=="function"?r.call(f,p,u("m")):m(h("m",p.month(),2))},d=function(p,L){return L?typeof l=="function"?l.call(f,p):l[p.month()-f.minMonth]:typeof o=="function"?o.call(f,p):o[p.month()-f.minMonth]},y=this.local.digits,m=function(p){return g.localNumbers&&y?y(p):p},w="",_=!1,A=0;A<t.length;A++)if(_)t.charAt(A)!=="'"||u("'")?w+=t.charAt(A):_=!1;else switch(t.charAt(A)){case"d":w+=m(h("d",b.day(),2));break;case"D":w+=(c=b.dayOfWeek(),s=i,n=a,u("D")?n[c]:s[c]);break;case"o":w+=h("o",b.dayOfYear(),3);break;case"w":w+=h("w",b.weekOfYear(),2);break;case"m":w+=T(b);break;case"M":w+=d(b,u("M"));break;case"y":w+=u("y",2)?b.year():(b.year()%100<10?"0":"")+b.year()%100;break;case"Y":u("Y",2),w+=b.formatYear();break;case"J":w+=b.toJD();break;case"@":w+=(b.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":w+=(b.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":u("'")?w+="'":_=!0;break;default:w+=t.charAt(A)}return w},parseDate:function(t,b,g){if(b==null)throw x.local.invalidArguments||x.regionalOptions[""].invalidArguments;if((b=typeof b=="object"?b.toString():b+"")==="")return null;t=t||this.local.dateFormat;var c=(g=g||{}).shortYearCutoff||this.shortYearCutoff;c=typeof c!="string"?c:this.today().year()%100+parseInt(c,10);for(var s=g.dayNamesShort||this.local.dayNamesShort,n=g.dayNames||this.local.dayNames,i=g.parseMonth||this.local.parseMonth,a=g.monthNumbers||this.local.monthNumbers,r=g.monthNamesShort||this.local.monthNamesShort,o=g.monthNames||this.local.monthNames,l=-1,u=-1,h=-1,f=-1,T=-1,d=!1,y=!1,m=function(F,q){for(var z=1;R+z<t.length&&t.charAt(R+z)===F;)z++;return R+=z-1,Math.floor(z/(q||1))>1},w=function(F,q){var z=m(F,q),V=[2,3,z?4:2,z?4:2,10,11,20]["oyYJ@!".indexOf(F)+1],X=new RegExp("^-?\\d{1,"+V+"}"),j=b.substring(C).match(X);if(!j)throw(x.local.missingNumberAt||x.regionalOptions[""].missingNumberAt).replace(/\{0\}/,C);return C+=j[0].length,parseInt(j[0],10)},_=this,A=function(){if(typeof a=="function"){m("m");var F=a.call(_,b.substring(C));return C+=F.length,F}return w("m")},p=function(F,q,z,V){for(var X=m(F,V)?z:q,j=0;j<X.length;j++)if(b.substr(C,X[j].length).toLowerCase()===X[j].toLowerCase())return C+=X[j].length,j+_.minMonth;throw(x.local.unknownNameAt||x.regionalOptions[""].unknownNameAt).replace(/\{0\}/,C)},L=function(){if(typeof o=="function"){var F=m("M")?o.call(_,b.substring(C)):r.call(_,b.substring(C));return C+=F.length,F}return p("M",r,o)},M=function(){if(b.charAt(C)!==t.charAt(R))throw(x.local.unexpectedLiteralAt||x.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,C);C++},C=0,R=0;R<t.length;R++)if(y)t.charAt(R)!=="'"||m("'")?M():y=!1;else switch(t.charAt(R)){case"d":f=w("d");break;case"D":p("D",s,n);break;case"o":T=w("o");break;case"w":w("w");break;case"m":h=A();break;case"M":h=L();break;case"y":var I=R;d=!m("y",2),R=I,u=w("y",2);break;case"Y":u=w("Y",2);break;case"J":l=w("J")+.5,b.charAt(C)==="."&&(C++,w("J"));break;case"@":l=w("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":l=w("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":C=b.length;break;case"'":m("'")?M():y=!0;break;default:M()}if(C<b.length)throw x.local.unexpectedText||x.regionalOptions[""].unexpectedText;if(u===-1?u=this.today().year():u<100&&d&&(u+=c===-1?1900:this.today().year()-this.today().year()%100-(u<=c?0:100)),typeof h=="string"&&(h=i.call(this,u,h)),T>-1){h=1,f=T;for(var D=this.daysInMonth(u,h);f>D;D=this.daysInMonth(u,h))h++,f-=D}return l>-1?this.fromJD(l):this.newDate(u,h,f)},determineDate:function(t,b,g,c,s){g&&typeof g!="object"&&(s=c,c=g,g=null),typeof c!="string"&&(s=c,c="");var n=this;return b=b?b.newDate():null,t==null?b:typeof t=="string"?function(i){try{return n.parseDate(c,i,s)}catch{}for(var a=((i=i.toLowerCase()).match(/^c/)&&g?g.newDate():null)||n.today(),r=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,o=r.exec(i);o;)a.add(parseInt(o[1],10),o[2]||"d"),o=r.exec(i);return a}(t):typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?b:n.today().add(t,"d"):n.newDate(t)}})},21576:function(){},19768:function(){},63436:function(O,S,e){var v=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],x=typeof globalThis>"u"?e.g:globalThis;O.exports=function(){for(var t=[],b=0;b<v.length;b++)typeof x[v[b]]=="function"&&(t[t.length]=v[b]);return t}},67756:function(O,S,e){function v(pe,me,be){pe.prototype=me.prototype=be,be.constructor=pe}function x(pe,me){var be=Object.create(pe.prototype);for(var we in me)be[we]=me[we];return be}function t(){}e.d(S,{qy:function(){return de},Gz:function(){return re}});var b=.7,g=1/b,c="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",n="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",i=/^#([0-9a-f]{3,8})$/,a=new RegExp("^rgb\\(".concat(c,",").concat(c,",").concat(c,"\\)$")),r=new RegExp("^rgb\\(".concat(n,",").concat(n,",").concat(n,"\\)$")),o=new RegExp("^rgba\\(".concat(c,",").concat(c,",").concat(c,",").concat(s,"\\)$")),l=new RegExp("^rgba\\(".concat(n,",").concat(n,",").concat(n,",").concat(s,"\\)$")),u=new RegExp("^hsl\\(".concat(s,",").concat(n,",").concat(n,"\\)$")),h=new RegExp("^hsla\\(".concat(s,",").concat(n,",").concat(n,",").concat(s,"\\)$")),f={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function T(){return this.rgb().formatHex()}function d(){return this.rgb().formatRgb()}function y(pe){var me,be;return pe=(pe+"").trim().toLowerCase(),(me=i.exec(pe))?(be=me[1].length,me=parseInt(me[1],16),be===6?m(me):be===3?new A(me>>8&15|me>>4&240,me>>4&15|240&me,(15&me)<<4|15&me,1):be===8?w(me>>24&255,me>>16&255,me>>8&255,(255&me)/255):be===4?w(me>>12&15|me>>8&240,me>>8&15|me>>4&240,me>>4&15|240&me,((15&me)<<4|15&me)/255):null):(me=a.exec(pe))?new A(me[1],me[2],me[3],1):(me=r.exec(pe))?new A(255*me[1]/100,255*me[2]/100,255*me[3]/100,1):(me=o.exec(pe))?w(me[1],me[2],me[3],me[4]):(me=l.exec(pe))?w(255*me[1]/100,255*me[2]/100,255*me[3]/100,me[4]):(me=u.exec(pe))?I(me[1],me[2]/100,me[3]/100,1):(me=h.exec(pe))?I(me[1],me[2]/100,me[3]/100,me[4]):f.hasOwnProperty(pe)?m(f[pe]):pe==="transparent"?new A(NaN,NaN,NaN,0):null}function m(pe){return new A(pe>>16&255,pe>>8&255,255&pe,1)}function w(pe,me,be,we){return we<=0&&(pe=me=be=NaN),new A(pe,me,be,we)}function _(pe,me,be,we){return arguments.length===1?((Te=pe)instanceof t||(Te=y(Te)),Te?new A((Te=Te.rgb()).r,Te.g,Te.b,Te.opacity):new A):new A(pe,me,be,we??1);var Te}function A(pe,me,be,we){this.r=+pe,this.g=+me,this.b=+be,this.opacity=+we}function p(){return"#".concat(R(this.r)).concat(R(this.g)).concat(R(this.b))}function L(){var pe=M(this.opacity);return"".concat(pe===1?"rgb(":"rgba(").concat(C(this.r),", ").concat(C(this.g),", ").concat(C(this.b)).concat(pe===1?")":", ".concat(pe,")"))}function M(pe){return isNaN(pe)?1:Math.max(0,Math.min(1,pe))}function C(pe){return Math.max(0,Math.min(255,Math.round(pe)||0))}function R(pe){return((pe=C(pe))<16?"0":"")+pe.toString(16)}function I(pe,me,be,we){return we<=0?pe=me=be=NaN:be<=0||be>=1?pe=me=NaN:me<=0&&(pe=NaN),new F(pe,me,be,we)}function D(pe){if(pe instanceof F)return new F(pe.h,pe.s,pe.l,pe.opacity);if(pe instanceof t||(pe=y(pe)),!pe)return new F;if(pe instanceof F)return pe;var me=(pe=pe.rgb()).r/255,be=pe.g/255,we=pe.b/255,Te=Math.min(me,be,we),Le=Math.max(me,be,we),Ie=NaN,_e=Le-Te,fe=(Le+Te)/2;return _e?(Ie=me===Le?(be-we)/_e+6*(be<we):be===Le?(we-me)/_e+2:(me-be)/_e+4,_e/=fe<.5?Le+Te:2-Le-Te,Ie*=60):_e=fe>0&&fe<1?0:Ie,new F(Ie,_e,fe,pe.opacity)}function F(pe,me,be,we){this.h=+pe,this.s=+me,this.l=+be,this.opacity=+we}function q(pe){return(pe=(pe||0)%360)<0?pe+360:pe}function z(pe){return Math.max(0,Math.min(1,pe||0))}function V(pe,me,be){return 255*(pe<60?me+(be-me)*pe/60:pe<180?be:pe<240?me+(be-me)*(240-pe)/60:me)}v(t,y,{copy:function(pe){return Object.assign(new this.constructor,this,pe)},displayable:function(){return this.rgb().displayable()},hex:T,formatHex:T,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return D(this).formatHsl()},formatRgb:d,toString:d}),v(A,_,x(t,{brighter:function(pe){return pe=pe==null?g:Math.pow(g,pe),new A(this.r*pe,this.g*pe,this.b*pe,this.opacity)},darker:function(pe){return pe=pe==null?b:Math.pow(b,pe),new A(this.r*pe,this.g*pe,this.b*pe,this.opacity)},rgb:function(){return this},clamp:function(){return new A(C(this.r),C(this.g),C(this.b),M(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:p,formatHex:p,formatHex8:function(){return"#".concat(R(this.r)).concat(R(this.g)).concat(R(this.b)).concat(R(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:L,toString:L})),v(F,function(pe,me,be,we){return arguments.length===1?D(pe):new F(pe,me,be,we??1)},x(t,{brighter:function(pe){return pe=pe==null?g:Math.pow(g,pe),new F(this.h,this.s,this.l*pe,this.opacity)},darker:function(pe){return pe=pe==null?b:Math.pow(b,pe),new F(this.h,this.s,this.l*pe,this.opacity)},rgb:function(){var pe=this.h%360+360*(this.h<0),me=isNaN(pe)||isNaN(this.s)?0:this.s,be=this.l,we=be+(be<.5?be:1-be)*me,Te=2*be-we;return new A(V(pe>=240?pe-240:pe+120,Te,we),V(pe,Te,we),V(pe<120?pe+240:pe-120,Te,we),this.opacity)},clamp:function(){return new F(q(this.h),z(this.s),z(this.l),M(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var pe=M(this.opacity);return"".concat(pe===1?"hsl(":"hsla(").concat(q(this.h),", ").concat(100*z(this.s),"%, ").concat(100*z(this.l),"%").concat(pe===1?")":", ".concat(pe,")"))}}));var X=function(pe){return function(){return pe}};function j(pe,me){var be=me-pe;return be?function(we,Te){return function(Le){return we+Le*Te}}(pe,be):X(isNaN(pe)?me:pe)}var H=function pe(me){var be=function(Te){return(Te=+Te)==1?j:function(Le,Ie){return Ie-Le?function(_e,fe,le){return _e=Math.pow(_e,le),fe=Math.pow(fe,le)-_e,le=1/le,function(ye){return Math.pow(_e+ye*fe,le)}}(Le,Ie,Te):X(isNaN(Le)?Ie:Le)}}(me);function we(Te,Le){var Ie=be((Te=_(Te)).r,(Le=_(Le)).r),_e=be(Te.g,Le.g),fe=be(Te.b,Le.b),le=j(Te.opacity,Le.opacity);return function(ye){return Te.r=Ie(ye),Te.g=_e(ye),Te.b=fe(ye),Te.opacity=le(ye),Te+""}}return we.gamma=pe,we}(1);function G(pe,me){var be,we=me?me.length:0,Te=pe?Math.min(we,pe.length):0,Le=new Array(Te),Ie=new Array(we);for(be=0;be<Te;++be)Le[be]=de(pe[be],me[be]);for(;be<we;++be)Ie[be]=me[be];return function(_e){for(be=0;be<Te;++be)Ie[be]=Le[be](_e);return Ie}}function ie(pe,me){var be=new Date;return pe=+pe,me=+me,function(we){return be.setTime(pe*(1-we)+me*we),be}}function re(pe,me){return pe=+pe,me=+me,function(be){return pe*(1-be)+me*be}}function te(pe){return te=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(me){return typeof me}:function(me){return me&&typeof Symbol=="function"&&me.constructor===Symbol&&me!==Symbol.prototype?"symbol":typeof me},te(pe)}function K(pe,me){var be,we={},Te={};for(be in pe!==null&&te(pe)==="object"||(pe={}),me!==null&&te(me)==="object"||(me={}),me)be in pe?we[be]=de(pe[be],me[be]):Te[be]=me[be];return function(Le){for(be in we)Te[be]=we[be](Le);return Te}}var J=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$=new RegExp(J.source,"g");function ae(pe,me){var be,we,Te,Le=J.lastIndex=$.lastIndex=0,Ie=-1,_e=[],fe=[];for(pe+="",me+="";(be=J.exec(pe))&&(we=$.exec(me));)(Te=we.index)>Le&&(Te=me.slice(Le,Te),_e[Ie]?_e[Ie]+=Te:_e[++Ie]=Te),(be=be[0])===(we=we[0])?_e[Ie]?_e[Ie]+=we:_e[++Ie]=we:(_e[++Ie]=null,fe.push({i:Ie,x:re(be,we)})),Le=$.lastIndex;return Le<me.length&&(Te=me.slice(Le),_e[Ie]?_e[Ie]+=Te:_e[++Ie]=Te),_e.length<2?fe[0]?function(le){return function(ye){return le(ye)+""}}(fe[0].x):function(le){return function(){return le}}(me):(me=fe.length,function(le){for(var ye,Oe=0;Oe<me;++Oe)_e[(ye=fe[Oe]).i]=ye.x(le);return _e.join("")})}function ue(pe,me){me||(me=[]);var be,we=pe?Math.min(me.length,pe.length):0,Te=me.slice();return function(Le){for(be=0;be<we;++be)Te[be]=pe[be]*(1-Le)+me[be]*Le;return Te}}function ce(pe){return ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(me){return typeof me}:function(me){return me&&typeof Symbol=="function"&&me.constructor===Symbol&&me!==Symbol.prototype?"symbol":typeof me},ce(pe)}function de(pe,me){var be,we,Te=ce(me);return me==null||Te==="boolean"?X(me):(Te==="number"?re:Te==="string"?(be=y(me))?(me=be,H):ae:me instanceof y?H:me instanceof Date?ie:(we=me,!ArrayBuffer.isView(we)||we instanceof DataView?Array.isArray(me)?G:typeof me.valueOf!="function"&&typeof me.toString!="function"||isNaN(me)?K:re:ue))(pe,me)}},30584:function(O){O.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},7294:function(O){O.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},47916:function(O){O.exports=JSON.parse('["normal","italic","oblique"]')},2904:function(O){O.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},68194:function(O){O.exports=JSON.parse('["inherit","initial","unset"]')},3748:function(O){O.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},oe={};function he(O){var S=oe[O];if(S!==void 0)return S.exports;var e=oe[O]={exports:{}};return Q[O].call(e.exports,e,e.exports,he),e.exports}return he.n=function(O){var S=O&&O.__esModule?function(){return O.default}:function(){return O};return he.d(S,{a:S}),S},he.d=function(O,S){for(var e in S)he.o(S,e)&&!he.o(O,e)&&Object.defineProperty(O,e,{enumerable:!0,get:S[e]})},he.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),he.o=function(O,S){return Object.prototype.hasOwnProperty.call(O,S)},he.r=function(O){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(O,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(O,"__esModule",{value:!0})},he(13792)}()})})(O3);var H9=O3.exports;const q9=V9(H9),G9=zo(()=>({provide:{plotly:q9}}));function Fu(k){if(typeof k!="object")return k;var N,Q,oe=Object.prototype.toString.call(k);if(oe==="[object Object]"){if(k.constructor!==Object&&typeof k.constructor=="function"){Q=new k.constructor;for(N in k)k.hasOwnProperty(N)&&Q[N]!==k[N]&&(Q[N]=Fu(k[N]))}else{Q={};for(N in k)N==="__proto__"?Object.defineProperty(Q,N,{value:Fu(k[N]),configurable:!0,enumerable:!0,writable:!0}):Q[N]=Fu(k[N])}return Q}if(oe==="[object Array]"){for(N=k.length,Q=Array(N);N--;)Q[N]=Fu(k[N]);return Q}return oe==="[object Set]"?(Q=new Set,k.forEach(function(he){Q.add(Fu(he))}),Q):oe==="[object Map]"?(Q=new Map,k.forEach(function(he,O){Q.set(Fu(O),Fu(he))}),Q):oe==="[object Date]"?new Date(+k):oe==="[object RegExp]"?(Q=new RegExp(k.source,k.flags),Q.lastIndex=k.lastIndex,Q):oe==="[object DataView]"?new k.constructor(Fu(k.buffer)):oe==="[object ArrayBuffer]"?k.slice(0):oe.slice(-6)==="Array]"?new k.constructor(k):k}const W9={path:"/",watch:!0,decode:k=>Wp(decodeURIComponent(k)),encode:k=>encodeURIComponent(typeof k=="string"?k:JSON.stringify(k))},Pv=window.cookieStore;function I0(k,N){var v;const Q={...W9,...N},oe=_b(Q)||{};let he;Q.maxAge!==void 0?he=Q.maxAge*1e3:Q.expires&&(he=Q.expires.getTime()-Date.now());const O=he!==void 0&&he<=0,S=Fu(O?void 0:oe[k]??((v=Q.default)==null?void 0:v.call(Q))),e=he&&!O?Z9(S,he,Q.watch&&Q.watch!=="shallow"):wr(S);{let x=null;try{!Pv&&typeof BroadcastChannel<"u"&&(x=new BroadcastChannel(`nuxt:cookies:${k}`))}catch{}const t=()=>{Q.readonly||$w(e.value,oe[k])||($9(k,e.value,Q),oe[k]=Fu(e.value),x==null||x.postMessage({value:Q.encode(e.value)}))},b=c=>{var n;const s=c.refresh?(n=_b(Q))==null?void 0:n[k]:Q.decode(c.value);g=!0,oe[k]=e.value=s,gc(()=>{g=!1})};let g=!1;Hf()&&Ah(()=>{g=!0,t(),x==null||x.close()}),Pv?Pv.onchange=c=>{const s=c.changed.find(n=>n.name===k);s&&b({value:s.value})}:x&&(x.onmessage=({data:c})=>b(c)),Q.watch?na(e,()=>{g||t()},{deep:Q.watch!=="shallow"}):t()}return e}function _b(k={}){return jA(document.cookie,k)}function Y9(k,N,Q={}){return N==null?N2(k,N,{...Q,maxAge:-1}):N2(k,N,Q)}function $9(k,N,Q={}){document.cookie=Y9(k,N,Q)}const wb=2147483647;function Z9(k,N,Q){let oe,he,O=0;const S=Q?wr(k):{value:k};return Hf()&&Ah(()=>{he==null||he(),clearTimeout(oe)}),BT((e,v)=>{Q&&(he=na(S,v));function x(){O=0,clearTimeout(oe);const t=N-O,b=t<wb?t:wb;oe=setTimeout(()=>{if(O+=b,O<N)return x();S.value=void 0,v()},b)}return{get(){return e(),S.value},set(t){x(),S.value=t,v()}}})}const X9="$s";function jh(...k){const N=typeof k[k.length-1]=="string"?k.pop():void 0;typeof k[0]!="string"&&k.unshift(N);const[Q,oe]=k;if(!Q||typeof Q!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+Q);if(oe!==void 0&&typeof oe!="function")throw new Error("[nuxt] [useState] init must be a function: "+oe);const he=X9+Q,O=Yi(),S=Ai(O.payload.state,he);if(S.value===void 0&&oe){const e=oe();if(_o(e))return O.payload.state[he]=e,e;S.value=e}return S}const K9=zo(k=>{const N=wu().public.studio||{},Q=pc(),oe=I0("previewToken",{sameSite:"none",secure:!0}),he=jh("studio-client-db",()=>null);async function O(){const S=await Ur(()=>import("./C-1QmcaX.js"),__vite__mapDeps([52,53]),import.meta.url).then(x=>x.useStudio),{mountPreviewUI:e,initiateIframeCommunication:v}=S();e(),v()}if(N.apiURL){if(Object.prototype.hasOwnProperty.call(Q.query,"preview")&&!Q.query.preview||!Q.query.preview&&!oe.value)return;Q.query.preview&&(oe.value=String(Q.query.preview)),window.sessionStorage.setItem("previewToken",String(oe.value)),window.sessionStorage.setItem("previewAPI",typeof Q.query.staging<"u"?"https://dev-api.nuxt.studio":N.apiURL),k.hook("content:storage",S=>{he.value=S}),k.hook("app:mounted",async()=>{await O()})}});function Qc(k){return Hf()?(Ah(k),!0):!1}function I3(k){let N=0,Q,oe;const he=()=>{N-=1,oe&&N<=0&&(oe.stop(),Q=void 0,oe=void 0)};return(...O)=>(N+=1,Q||(oe=x_(!0),Q=oe.run(()=>k(...O))),Qc(he),Q)}function Kl(k){return typeof k=="function"?k():Fn(k)}const Kp=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const J9=k=>k!=null,Q9=Object.prototype.toString,eE=k=>Q9.call(k)==="[object Object]",Tb=()=>+Date.now(),Jp=()=>{};function R3(k,N){function Q(...oe){return new Promise((he,O)=>{Promise.resolve(k(()=>N.apply(this,oe),{fn:N,thisArg:this,args:oe})).then(he).catch(O)})}return Q}const tE=k=>k();function nE(k,N={}){let Q,oe,he=Jp;const O=e=>{clearTimeout(e),he(),he=Jp};return e=>{const v=Kl(k),x=Kl(N.maxWait);return Q&&O(Q),v<=0||x!==void 0&&x<=0?(oe&&(O(oe),oe=null),Promise.resolve(e())):new Promise((t,b)=>{he=N.rejectOnCancel?b:t,x&&!oe&&(oe=setTimeout(()=>{Q&&O(Q),oe=null,t(e())},x)),Q=setTimeout(()=>{oe&&O(oe),oe=null,t(e())},v)})}}function rE(...k){let N=0,Q,oe=!0,he=Jp,O,S,e,v,x;!_o(k[0])&&typeof k[0]=="object"?{delay:S,trailing:e=!0,leading:v=!0,rejectOnCancel:x=!1}=k[0]:[S,e=!0,v=!0,x=!1]=k;const t=()=>{Q&&(clearTimeout(Q),Q=void 0,he(),he=Jp)};return g=>{const c=Kl(S),s=Date.now()-N,n=()=>O=g();return t(),c<=0?(N=Date.now(),n()):(s>c&&(v||!oe)?(N=Date.now(),n()):e&&(O=new Promise((i,a)=>{he=x?a:i,Q=setTimeout(()=>{N=Date.now(),oe=!0,i(n()),t()},Math.max(0,c-s))})),!v&&!Q&&(Q=setTimeout(()=>oe=!0,c)),oe=!1,O)}}function iE(k){let N;function Q(){return N||(N=k()),N}return Q.reset=async()=>{const oe=N;N=void 0,oe&&await oe},Q}function aE(k,N){var Q;if(typeof k=="number")return k+N;const oe=((Q=k.match(/^-?\d+\.?\d*/))==null?void 0:Q[0])||"",he=k.slice(oe.length),O=Number.parseFloat(oe)+N;return Number.isNaN(O)?k:O+he}function MD(k,N=200,Q={}){return R3(nE(N,Q),k)}function oE(k,N,Q={}){const{eventFilter:oe=tE,...he}=Q;return na(k,R3(oe,N),he)}function sE(k,N=1e3,Q={}){const{immediate:oe=!0,immediateCallback:he=!1}=Q;let O=null;const S=wr(!1);function e(){O&&(clearInterval(O),O=null)}function v(){S.value=!1,e()}function x(){const t=Kl(N);t<=0||(S.value=!0,he&&k(),e(),O=setInterval(k,t))}if(oe&&Kp&&x(),_o(N)||typeof N=="function"){const t=na(N,()=>{S.value&&Kp&&x()});Qc(t)}return Qc(v),{isActive:S,pause:v,resume:x}}function lE(k,N,Q={}){const{immediate:oe=!0}=Q,he=wr(!1);let O=null;function S(){O&&(clearTimeout(O),O=null)}function e(){he.value=!1,S()}function v(...x){S(),he.value=!0,O=setTimeout(()=>{he.value=!1,O=null,k(...x)},Kl(N))}return oe&&(he.value=!0,Kp&&v()),Qc(e),{isPending:sg(he),start:v,stop:e}}function SD(k,N,Q={}){const{throttle:oe=0,trailing:he=!0,leading:O=!0,...S}=Q;return oE(k,N,{...S,eventFilter:rE(oe,he,O)})}function eg(k){var N;const Q=Kl(k);return(N=Q==null?void 0:Q.$el)!=null?N:Q}const qf=Kp?window:void 0,D3=Kp?window.navigator:void 0;function qc(...k){let N,Q,oe,he;if(typeof k[0]=="string"||Array.isArray(k[0])?([Q,oe,he]=k,N=qf):[N,Q,oe,he]=k,!N)return Jp;Array.isArray(Q)||(Q=[Q]),Array.isArray(oe)||(oe=[oe]);const O=[],S=()=>{O.forEach(t=>t()),O.length=0},e=(t,b,g,c)=>(t.addEventListener(b,g,c),()=>t.removeEventListener(b,g,c)),v=na(()=>[eg(N),Kl(he)],([t,b])=>{if(S(),!t)return;const g=eE(b)?{...b}:b;O.push(...Q.flatMap(c=>oe.map(s=>e(t,c,s,g))))},{immediate:!0,flush:"post"}),x=()=>{v(),S()};return Qc(x),x}function uE(){const k=wr(!1),N=Ml();return N&&la(()=>{k.value=!0},N),k}function xg(k){const N=uE();return cr(()=>(N.value,!!k()))}function cE(k,N,Q={}){const{window:oe=qf,...he}=Q;let O;const S=xg(()=>oe&&"MutationObserver"in oe),e=()=>{O&&(O.disconnect(),O=void 0)},v=cr(()=>{const g=Kl(k),c=(Array.isArray(g)?g:[g]).map(eg).filter(J9);return new Set(c)}),x=na(()=>v.value,g=>{e(),S.value&&g.size&&(O=new MutationObserver(N),g.forEach(c=>O.observe(c,he)))},{immediate:!0,flush:"post"}),t=()=>O==null?void 0:O.takeRecords(),b=()=>{e(),x()};return Qc(b),{isSupported:S,stop:b,takeRecords:t}}function fE(k={}){var N;const{window:Q=qf,deep:oe=!0,triggerOnRemoval:he=!1}=k,O=(N=k.document)!=null?N:Q==null?void 0:Q.document,S=()=>{var x;let t=O==null?void 0:O.activeElement;if(oe)for(;t!=null&&t.shadowRoot;)t=(x=t==null?void 0:t.shadowRoot)==null?void 0:x.activeElement;return t},e=wr(),v=()=>{e.value=S()};return Q&&(qc(Q,"blur",x=>{x.relatedTarget===null&&v()},!0),qc(Q,"focus",v,!0)),he&&cE(O,x=>{x.filter(t=>t.removedNodes.length).map(t=>Array.from(t.removedNodes)).flat().forEach(t=>{t===e.value&&v()})},{childList:!0,subtree:!0}),v(),e}function hE(k,N={}){const{immediate:Q=!0,fpsLimit:oe=void 0,window:he=qf}=N,O=wr(!1),S=oe?1e3/oe:null;let e=0,v=null;function x(g){if(!O.value||!he)return;e||(e=g);const c=g-e;if(S&&c<S){v=he.requestAnimationFrame(x);return}e=g,k({delta:c,timestamp:g}),v=he.requestAnimationFrame(x)}function t(){!O.value&&he&&(O.value=!0,e=0,v=he.requestAnimationFrame(x))}function b(){O.value=!1,v!=null&&he&&(he.cancelAnimationFrame(v),v=null)}return Q&&t(),Qc(b),{isActive:sg(O),pause:b,resume:t}}function yp(k,N={}){const{window:Q=qf}=N,oe=xg(()=>Q&&"matchMedia"in Q&&typeof Q.matchMedia=="function");let he;const O=wr(!1),S=x=>{O.value=x.matches},e=()=>{he&&("removeEventListener"in he?he.removeEventListener("change",S):he.removeListener(S))},v=fo(()=>{oe.value&&(e(),he=Q.matchMedia(Kl(k)),"addEventListener"in he?he.addEventListener("change",S):he.addListener(S),O.value=he.matches)});return Qc(()=>{v(),e(),he=void 0}),O}const ED={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};function LD(k,N={}){function Q(t,b){let g=Kl(k[Kl(t)]);return b!=null&&(g=aE(g,b)),typeof g=="number"&&(g=`${g}px`),g}const{window:oe=qf,strategy:he="min-width"}=N;function O(t){return oe?oe.matchMedia(t).matches:!1}const S=t=>yp(()=>`(min-width: ${Q(t)})`,N),e=t=>yp(()=>`(max-width: ${Q(t)})`,N),v=Object.keys(k).reduce((t,b)=>(Object.defineProperty(t,b,{get:()=>he==="min-width"?S(b):e(b),enumerable:!0,configurable:!0}),t),{});function x(){const t=Object.keys(k).map(b=>[b,S(b)]);return cr(()=>t.filter(([,b])=>b.value).map(([b])=>b))}return Object.assign(v,{greaterOrEqual:S,smallerOrEqual:e,greater(t){return yp(()=>`(min-width: ${Q(t,.1)})`,N)},smaller(t){return yp(()=>`(max-width: ${Q(t,-.1)})`,N)},between(t,b){return yp(()=>`(min-width: ${Q(t)}) and (max-width: ${Q(b,-.1)})`,N)},isGreater(t){return O(`(min-width: ${Q(t,.1)})`)},isGreaterOrEqual(t){return O(`(min-width: ${Q(t)})`)},isSmaller(t){return O(`(max-width: ${Q(t,-.1)})`)},isSmallerOrEqual(t){return O(`(max-width: ${Q(t)})`)},isInBetween(t,b){return O(`(min-width: ${Q(t)}) and (max-width: ${Q(b,-.1)})`)},current:x,active(){const t=x();return cr(()=>t.value.length===0?"":t.value.at(-1))}})}function kb(k,N={}){const{controls:Q=!1,navigator:oe=D3}=N,he=xg(()=>oe&&"permissions"in oe);let O;const S=typeof k=="string"?{name:k}:k,e=wr(),v=()=>{O&&(e.value=O.state)},x=iE(async()=>{if(he.value){if(!O)try{O=await oe.permissions.query(S),qc(O,"change",v),v()}catch{e.value="prompt"}return O}});return x(),Q?{state:e,isSupported:he,query:x}:e}function CD(k={}){const{navigator:N=D3,read:Q=!1,source:oe,copiedDuring:he=1500,legacy:O=!1}=k,S=xg(()=>N&&"clipboard"in N),e=kb("clipboard-read"),v=kb("clipboard-write"),x=cr(()=>S.value||O),t=wr(""),b=wr(!1),g=lE(()=>b.value=!1,he);function c(){S.value&&a(e.value)?N.clipboard.readText().then(r=>{t.value=r}):t.value=i()}x.value&&Q&&qc(["copy","cut"],c);async function s(r=Kl(oe)){x.value&&r!=null&&(S.value&&a(v.value)?await N.clipboard.writeText(r):n(r),t.value=r,b.value=!0,g.start())}function n(r){const o=document.createElement("textarea");o.value=r??"",o.style.position="absolute",o.style.opacity="0",document.body.appendChild(o),o.select(),document.execCommand("copy"),o.remove()}function i(){var r,o,l;return(l=(o=(r=document==null?void 0:document.getSelection)==null?void 0:r.call(document))==null?void 0:o.toString())!=null?l:""}function a(r){return r==="granted"||r==="prompt"}return{isSupported:x,text:t,copied:b,copy:s}}const pE={page:k=>[k.pageX,k.pageY],client:k=>[k.clientX,k.clientY],screen:k=>[k.screenX,k.screenY],movement:k=>k instanceof Touch?null:[k.movementX,k.movementY]};function PD(k={}){const{type:N="page",touch:Q=!0,resetOnTouchEnds:oe=!1,initialValue:he={x:0,y:0},window:O=qf,target:S=O,scroll:e=!0,eventFilter:v}=k;let x=null;const t=wr(he.x),b=wr(he.y),g=wr(null),c=typeof N=="function"?N:pE[N],s=u=>{const h=c(u);x=u,h&&([t.value,b.value]=h,g.value="mouse")},n=u=>{if(u.touches.length>0){const h=c(u.touches[0]);h&&([t.value,b.value]=h,g.value="touch")}},i=()=>{if(!x||!O)return;const u=c(x);x instanceof MouseEvent&&u&&(t.value=u[0]+O.scrollX,b.value=u[1]+O.scrollY)},a=()=>{t.value=he.x,b.value=he.y},r=v?u=>v(()=>s(u),{}):u=>s(u),o=v?u=>v(()=>n(u),{}):u=>n(u),l=v?()=>v(()=>i(),{}):()=>i();if(S){const u={passive:!0};qc(S,["mousemove","dragover"],r,u),Q&&N!=="movement"&&(qc(S,["touchstart","touchmove"],o,u),oe&&qc(S,"touchend",a,u)),e&&N==="page"&&qc(O,"scroll",l,{passive:!0})}return{x:t,y:b,sourceType:g}}function dE(k={}){const{controls:N=!1,offset:Q=0,immediate:oe=!0,interval:he="requestAnimationFrame",callback:O}=k,S=wr(Tb()+Q),e=()=>S.value=Tb()+Q,v=O?()=>{e(),O(S.value)}:e,x=he==="requestAnimationFrame"?hE(v,{immediate:oe}):sE(v,he,{immediate:oe});return N?{timestamp:S,...x}:S}const gE=Symbol("nuxt-ui.slideover"),vE=zo(k=>{const N=hc({component:"div",props:{}});k.vueApp.provide(gE,N)}),mE=Symbol("nuxt-ui.modal"),yE=zo(k=>{const N=hc({component:"div",props:{}});k.vueApp.provide(mE,N)}),xE={ui:{primary:"",gray:"slate",footer:{bottom:{left:"text-sm text-gray-500 dark:text-gray-500",wrapper:"border-t border-gray-200 dark:border-gray-800"}}},seo:{siteName:"Longitudinal Analysis - Examples and templates"},header:{logo:{alt:"",light:"",dark:""},search:!0,colorMode:!0,links:[{icon:"i-simple-icons-github",to:"https://github.com/OpenDevSci/LongDev-ABCD",target:"_blank","aria-label":"Longitudinal.dev on GitHub"},{icon:"i-simple-icons-discord",to:"https://discord.com/channels/1288111827649171456/1288111940820013139",target:"_blank","aria-label":"Longitudinal.dev on Discord"},{icon:"i-simple-icons-slack",to:"https://longitudinaldev.slack.com",target:"_blank","aria-label":"Longitudinal.dev on Slack"}]},footer:{colorMode:!1,links:[{icon:"i-simple-icons-github",to:"https://github.com/OpenDevSci/LongDev-ABCD",target:"_blank","aria-label":"Longitudinal.dev on GitHub"},{icon:"i-simple-icons-discord",to:"https://discord.com/channels/1288111827649171456/1288111940820013139",target:"_blank","aria-label":"Longitudinal.dev on Discord"},{icon:"i-simple-icons-slack",to:"https://longitudinaldev.slack.com",target:"_blank","aria-label":"Longitudinal.dev on Slack"}]},toc:{title:"Table of Contents",bottom:{title:"Community",edit:"https://github.com/OpenDevSci/LongDev-ABCD/discussions",links:[{icon:"i-heroicons-star",label:"Star on GitHub",to:"https://github.com/OpenDevSci/LongDev-ABCD",target:"_blank"},{icon:"i-heroicons-book-open",label:"Project docs",to:"https://github.com/OpenDevSci/LongDev-ABCD/docs",target:"_blank"}]}}},bE={ui:{variables:{light:{background:"255 255 255",foreground:"var(--color-gray-700)"},dark:{background:"var(--color-gray-900)",foreground:"var(--color-gray-200)"},header:{height:"4rem"}},icons:{dark:"i-heroicons-moon-20-solid",light:"i-heroicons-sun-20-solid",system:"i-heroicons-computer-desktop-20-solid",search:"i-heroicons-magnifying-glass-20-solid",external:"i-heroicons-arrow-up-right-20-solid",chevron:"i-heroicons-chevron-down-20-solid",hash:"i-heroicons-hashtag-20-solid",menu:"i-heroicons-bars-3-20-solid",close:"i-heroicons-x-mark-20-solid",check:"i-heroicons-check-circle-20-solid"},presets:{button:{primary:{color:"white",variant:"solid"},secondary:{color:"gray",variant:"ghost"},input:{color:"white",variant:"outline",ui:{font:"",color:{white:{outline:"ring-1 ring-inset ring-gray-300 dark:ring-gray-700 hover:ring-gray-300 dark:hover:ring-gray-700 hover:bg-gray-100/50 dark:hover:bg-gray-800/50 text-gray-400 dark:text-gray-500 hover:text-gray-700 dark:hover:text-gray-200 focus-visible:ring-2 focus-visible:ring-primary-500 dark:focus-visible:ring-primary-400"}}}}}}}},_E={nuxt:{},ui:{primary:"green",gray:"cool",colors:["red","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","purple","fuchsia","pink","rose","primary"],strategy:"merge"}},Ia=iM(xE,bE,_E);function Ko(){const k=Yi();return k._appConfig||(k._appConfig=_u(Ia)),k._appConfig}const Cy="-";function wE(k){const N=kE(k),{conflictingClassGroups:Q,conflictingClassGroupModifiers:oe}=k;function he(S){const e=S.split(Cy);return e[0]===""&&e.length!==1&&e.shift(),z3(e,N)||TE(S)}function O(S,e){const v=Q[S]||[];return e&&oe[S]?[...v,...oe[S]]:v}return{getClassGroupId:he,getConflictingClassGroupIds:O}}function z3(k,N){var S;if(k.length===0)return N.classGroupId;const Q=k[0],oe=N.nextPart.get(Q),he=oe?z3(k.slice(1),oe):void 0;if(he)return he;if(N.validators.length===0)return;const O=k.join(Cy);return(S=N.validators.find(({validator:e})=>e(O)))==null?void 0:S.classGroupId}const Ab=/^\[(.+)\]$/;function TE(k){if(Ab.test(k)){const N=Ab.exec(k)[1],Q=N==null?void 0:N.substring(0,N.indexOf(":"));if(Q)return"arbitrary.."+Q}}function kE(k){const{theme:N,prefix:Q}=k,oe={nextPart:new Map,validators:[]};return ME(Object.entries(k.classGroups),Q).forEach(([O,S])=>{Em(S,oe,O,N)}),oe}function Em(k,N,Q,oe){k.forEach(he=>{if(typeof he=="string"){const O=he===""?N:Mb(N,he);O.classGroupId=Q;return}if(typeof he=="function"){if(AE(he)){Em(he(oe),N,Q,oe);return}N.validators.push({validator:he,classGroupId:Q});return}Object.entries(he).forEach(([O,S])=>{Em(S,Mb(N,O),Q,oe)})})}function Mb(k,N){let Q=k;return N.split(Cy).forEach(oe=>{Q.nextPart.has(oe)||Q.nextPart.set(oe,{nextPart:new Map,validators:[]}),Q=Q.nextPart.get(oe)}),Q}function AE(k){return k.isThemeGetter}function ME(k,N){return N?k.map(([Q,oe])=>{const he=oe.map(O=>typeof O=="string"?N+O:typeof O=="object"?Object.fromEntries(Object.entries(O).map(([S,e])=>[N+S,e])):O);return[Q,he]}):k}function SE(k){if(k<1)return{get:()=>{},set:()=>{}};let N=0,Q=new Map,oe=new Map;function he(O,S){Q.set(O,S),N++,N>k&&(N=0,oe=Q,Q=new Map)}return{get(O){let S=Q.get(O);if(S!==void 0)return S;if((S=oe.get(O))!==void 0)return he(O,S),S},set(O,S){Q.has(O)?Q.set(O,S):he(O,S)}}}const F3="!";function EE(k){const N=k.separator,Q=N.length===1,oe=N[0],he=N.length;return function(S){const e=[];let v=0,x=0,t;for(let n=0;n<S.length;n++){let i=S[n];if(v===0){if(i===oe&&(Q||S.slice(n,n+he)===N)){e.push(S.slice(x,n)),x=n+he;continue}if(i==="/"){t=n;continue}}i==="["?v++:i==="]"&&v--}const b=e.length===0?S:S.substring(x),g=b.startsWith(F3),c=g?b.substring(1):b,s=t&&t>x?t-x:void 0;return{modifiers:e,hasImportantModifier:g,baseClassName:c,maybePostfixModifierPosition:s}}}function LE(k){if(k.length<=1)return k;const N=[];let Q=[];return k.forEach(oe=>{oe[0]==="["?(N.push(...Q.sort(),oe),Q=[]):Q.push(oe)}),N.push(...Q.sort()),N}function CE(k){return{cache:SE(k.cacheSize),splitModifiers:EE(k),...wE(k)}}const PE=/\s+/;function OE(k,N){const{splitModifiers:Q,getClassGroupId:oe,getConflictingClassGroupIds:he}=N,O=new Set;return k.trim().split(PE).map(S=>{const{modifiers:e,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:t}=Q(S);let b=oe(t?x.substring(0,t):x),g=!!t;if(!b){if(!t)return{isTailwindClass:!1,originalClassName:S};if(b=oe(x),!b)return{isTailwindClass:!1,originalClassName:S};g=!1}const c=LE(e).join(":");return{isTailwindClass:!0,modifierId:v?c+F3:c,classGroupId:b,originalClassName:S,hasPostfixModifier:g}}).reverse().filter(S=>{if(!S.isTailwindClass)return!0;const{modifierId:e,classGroupId:v,hasPostfixModifier:x}=S,t=e+v;return O.has(t)?!1:(O.add(t),he(v,x).forEach(b=>O.add(e+b)),!0)}).reverse().map(S=>S.originalClassName).join(" ")}function Xo(){let k=0,N,Q,oe="";for(;k<arguments.length;)(N=arguments[k++])&&(Q=B3(N))&&(oe&&(oe+=" "),oe+=Q);return oe}function B3(k){if(typeof k=="string")return k;let N,Q="";for(let oe=0;oe<k.length;oe++)k[oe]&&(N=B3(k[oe]))&&(Q&&(Q+=" "),Q+=N);return Q}function Lm(k,...N){let Q,oe,he,O=S;function S(v){const x=N.reduce((t,b)=>b(t),k());return Q=CE(x),oe=Q.cache.get,he=Q.cache.set,O=e,e(v)}function e(v){const x=oe(v);if(x)return x;const t=OE(v,Q);return he(v,t),t}return function(){return O(Xo.apply(null,arguments))}}function Pa(k){const N=Q=>Q[k]||[];return N.isThemeGetter=!0,N}const N3=/^\[(?:([a-z-]+):)?(.+)\]$/i,IE=/^\d+\/\d+$/,RE=new Set(["px","full","screen"]),DE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,BE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,NE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function rc(k){return Pf(k)||RE.has(k)||IE.test(k)}function Dc(k){return Uh(k,"length",YE)}function Pf(k){return!!k&&!Number.isNaN(Number(k))}function b0(k){return Uh(k,"number",Pf)}function xp(k){return!!k&&Number.isInteger(Number(k))}function jE(k){return k.endsWith("%")&&Pf(k.slice(0,-1))}function xi(k){return N3.test(k)}function zc(k){return DE.test(k)}const UE=new Set(["length","size","percentage"]);function VE(k){return Uh(k,UE,j3)}function HE(k){return Uh(k,"position",j3)}const qE=new Set(["image","url"]);function GE(k){return Uh(k,qE,ZE)}function WE(k){return Uh(k,"",$E)}function bp(){return!0}function Uh(k,N,Q){const oe=N3.exec(k);return oe?oe[1]?typeof N=="string"?oe[1]===N:N.has(oe[1]):Q(oe[2]):!1}function YE(k){return zE.test(k)&&!FE.test(k)}function j3(){return!1}function $E(k){return BE.test(k)}function ZE(k){return NE.test(k)}function Cm(){const k=Pa("colors"),N=Pa("spacing"),Q=Pa("blur"),oe=Pa("brightness"),he=Pa("borderColor"),O=Pa("borderRadius"),S=Pa("borderSpacing"),e=Pa("borderWidth"),v=Pa("contrast"),x=Pa("grayscale"),t=Pa("hueRotate"),b=Pa("invert"),g=Pa("gap"),c=Pa("gradientColorStops"),s=Pa("gradientColorStopPositions"),n=Pa("inset"),i=Pa("margin"),a=Pa("opacity"),r=Pa("padding"),o=Pa("saturate"),l=Pa("scale"),u=Pa("sepia"),h=Pa("skew"),f=Pa("space"),T=Pa("translate"),d=()=>["auto","contain","none"],y=()=>["auto","hidden","clip","visible","scroll"],m=()=>["auto",xi,N],w=()=>[xi,N],_=()=>["",rc,Dc],A=()=>["auto",Pf,xi],p=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",xi],I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[Pf,b0],F=()=>[Pf,xi];return{cacheSize:500,separator:":",theme:{colors:[bp],spacing:[rc,Dc],blur:["none","",zc,xi],brightness:D(),borderColor:[k],borderRadius:["none","","full",zc,xi],borderSpacing:w(),borderWidth:_(),contrast:D(),grayscale:R(),hueRotate:F(),invert:R(),gap:w(),gradientColorStops:[k],gradientColorStopPositions:[jE,Dc],inset:m(),margin:m(),opacity:D(),padding:w(),saturate:D(),scale:D(),sepia:R(),skew:F(),space:w(),translate:w()},classGroups:{aspect:[{aspect:["auto","square","video",xi]}],container:["container"],columns:[{columns:[zc]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...p(),xi]}],overflow:[{overflow:y()}],"overflow-x":[{"overflow-x":y()}],"overflow-y":[{"overflow-y":y()}],overscroll:[{overscroll:d()}],"overscroll-x":[{"overscroll-x":d()}],"overscroll-y":[{"overscroll-y":d()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[n]}],"inset-x":[{"inset-x":[n]}],"inset-y":[{"inset-y":[n]}],start:[{start:[n]}],end:[{end:[n]}],top:[{top:[n]}],right:[{right:[n]}],bottom:[{bottom:[n]}],left:[{left:[n]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xp,xi]}],basis:[{basis:m()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xi]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",xp,xi]}],"grid-cols":[{"grid-cols":[bp]}],"col-start-end":[{col:["auto",{span:["full",xp,xi]},xi]}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":[bp]}],"row-start-end":[{row:["auto",{span:[xp,xi]},xi]}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xi]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xi]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[r]}],px:[{px:[r]}],py:[{py:[r]}],ps:[{ps:[r]}],pe:[{pe:[r]}],pt:[{pt:[r]}],pr:[{pr:[r]}],pb:[{pb:[r]}],pl:[{pl:[r]}],m:[{m:[i]}],mx:[{mx:[i]}],my:[{my:[i]}],ms:[{ms:[i]}],me:[{me:[i]}],mt:[{mt:[i]}],mr:[{mr:[i]}],mb:[{mb:[i]}],ml:[{ml:[i]}],"space-x":[{"space-x":[f]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[f]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",xi,N]}],"min-w":[{"min-w":[xi,N,"min","max","fit"]}],"max-w":[{"max-w":[xi,N,"none","full","min","max","fit","prose",{screen:[zc]},zc]}],h:[{h:[xi,N,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[xi,N,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[xi,N,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[xi,N,"auto","min","max","fit"]}],"font-size":[{text:["base",zc,Dc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",b0]}],"font-family":[{font:[bp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xi]}],"line-clamp":[{"line-clamp":["none",Pf,b0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",rc,xi]}],"list-image":[{"list-image":["none",xi]}],"list-style-type":[{list:["none","disc","decimal",xi]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[k]}],"placeholder-opacity":[{"placeholder-opacity":[a]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[k]}],"text-opacity":[{"text-opacity":[a]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",rc,Dc]}],"underline-offset":[{"underline-offset":["auto",rc,xi]}],"text-decoration-color":[{decoration:[k]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:w()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xi]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xi]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[a]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...p(),HE]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",VE]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},GE]}],"bg-color":[{bg:[k]}],"gradient-from-pos":[{from:[s]}],"gradient-via-pos":[{via:[s]}],"gradient-to-pos":[{to:[s]}],"gradient-from":[{from:[c]}],"gradient-via":[{via:[c]}],"gradient-to":[{to:[c]}],rounded:[{rounded:[O]}],"rounded-s":[{"rounded-s":[O]}],"rounded-e":[{"rounded-e":[O]}],"rounded-t":[{"rounded-t":[O]}],"rounded-r":[{"rounded-r":[O]}],"rounded-b":[{"rounded-b":[O]}],"rounded-l":[{"rounded-l":[O]}],"rounded-ss":[{"rounded-ss":[O]}],"rounded-se":[{"rounded-se":[O]}],"rounded-ee":[{"rounded-ee":[O]}],"rounded-es":[{"rounded-es":[O]}],"rounded-tl":[{"rounded-tl":[O]}],"rounded-tr":[{"rounded-tr":[O]}],"rounded-br":[{"rounded-br":[O]}],"rounded-bl":[{"rounded-bl":[O]}],"border-w":[{border:[e]}],"border-w-x":[{"border-x":[e]}],"border-w-y":[{"border-y":[e]}],"border-w-s":[{"border-s":[e]}],"border-w-e":[{"border-e":[e]}],"border-w-t":[{"border-t":[e]}],"border-w-r":[{"border-r":[e]}],"border-w-b":[{"border-b":[e]}],"border-w-l":[{"border-l":[e]}],"border-opacity":[{"border-opacity":[a]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[e]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[e]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[a]}],"divide-style":[{divide:L()}],"border-color":[{border:[he]}],"border-color-x":[{"border-x":[he]}],"border-color-y":[{"border-y":[he]}],"border-color-t":[{"border-t":[he]}],"border-color-r":[{"border-r":[he]}],"border-color-b":[{"border-b":[he]}],"border-color-l":[{"border-l":[he]}],"divide-color":[{divide:[he]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[rc,xi]}],"outline-w":[{outline:[rc,Dc]}],"outline-color":[{outline:[k]}],"ring-w":[{ring:_()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[k]}],"ring-opacity":[{"ring-opacity":[a]}],"ring-offset-w":[{"ring-offset":[rc,Dc]}],"ring-offset-color":[{"ring-offset":[k]}],shadow:[{shadow:["","inner","none",zc,WE]}],"shadow-color":[{shadow:[bp]}],opacity:[{opacity:[a]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[Q]}],brightness:[{brightness:[oe]}],contrast:[{contrast:[v]}],"drop-shadow":[{"drop-shadow":["","none",zc,xi]}],grayscale:[{grayscale:[x]}],"hue-rotate":[{"hue-rotate":[t]}],invert:[{invert:[b]}],saturate:[{saturate:[o]}],sepia:[{sepia:[u]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[Q]}],"backdrop-brightness":[{"backdrop-brightness":[oe]}],"backdrop-contrast":[{"backdrop-contrast":[v]}],"backdrop-grayscale":[{"backdrop-grayscale":[x]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[t]}],"backdrop-invert":[{"backdrop-invert":[b]}],"backdrop-opacity":[{"backdrop-opacity":[a]}],"backdrop-saturate":[{"backdrop-saturate":[o]}],"backdrop-sepia":[{"backdrop-sepia":[u]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[S]}],"border-spacing-x":[{"border-spacing-x":[S]}],"border-spacing-y":[{"border-spacing-y":[S]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xi]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",xi]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",xi]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[l]}],"scale-x":[{"scale-x":[l]}],"scale-y":[{"scale-y":[l]}],rotate:[{rotate:[xp,xi]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[h]}],"skew-y":[{"skew-y":[h]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xi]}],accent:[{accent:["auto",k]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xi]}],"caret-color":[{caret:[k]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xi]}],fill:[{fill:[k,"none"]}],"stroke-w":[{stroke:[rc,Dc,b0]}],stroke:[{stroke:[k,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function XE(k,{cacheSize:N,prefix:Q,separator:oe,extend:he={},override:O={}}){R0(k,"cacheSize",N),R0(k,"prefix",Q),R0(k,"separator",oe);for(const S in O)KE(k[S],O[S]);for(const S in he)JE(k[S],he[S]);return k}function R0(k,N,Q){Q!==void 0&&(k[N]=Q)}function KE(k,N){if(N)for(const Q in N)R0(k,Q,N[Q])}function JE(k,N){if(N)for(const Q in N){const oe=N[Q];oe!==void 0&&(k[Q]=(k[Q]||[]).concat(oe))}}function QE(k,...N){return typeof k=="function"?Lm(Cm,k,...N):Lm(()=>XE(Cm(),k),...N)}const Jl=Lm(Cm);function U3(k,N){const Q={...k};for(const oe of N)delete Q[oe];return Q}function eL(k,N,Q){typeof N=="string"&&(N=N.split(".").map(he=>{const O=Number(he);return isNaN(O)?he:O}));let oe=k;for(const he of N){if(oe==null)return Q;oe=oe[he]}return oe!==void 0?oe:Q}const bg={to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1}},tL={as:{type:String,default:"button"},type:{type:String,default:"button"},disabled:{type:Boolean,default:null},active:{type:Boolean,default:void 0},exact:{type:Boolean,default:!1},exactQuery:{type:Boolean,default:!1},exactHash:{type:Boolean,default:!1},inactiveClass:{type:String,default:void 0}},nL=k=>Object.keys(bg).reduce((Q,oe)=>(k[oe]!==void 0&&(Q[oe]=k[oe]),Q),{}),Oh=k=>[...Object.keys(bg),...Object.keys(tL)].reduce((Q,oe)=>(k[oe]!==void 0&&(Q[oe]=k[oe]),Q),{}),rL=QE({extend:{classGroups:{icons:[k=>/^i-/.test(k)]}}}),iL=by((k,N,Q,oe)=>{if(oe==="default"||oe.startsWith("default.")||oe==="popper"||oe.startsWith("popper.")||oe.endsWith("avatar")&&N==="size"||oe.endsWith("chip")&&N==="size"||oe.endsWith("badge")&&N==="size"||N==="color"||N==="variant")return!1;if(typeof k[N]=="string"&&typeof Q=="string"&&k[N]&&Q)return k[N]=rL(k[N],Q),!0});function Tu(k,...N){return k==="override"?gg({},...N):iL({},...N)}function Sb(k){const N=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;k=k.replace(N,function(oe,he,O,S){return he+he+O+O+S+S});const Q=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(k);return Q?`${parseInt(Q[1],16)} ${parseInt(Q[2],16)} ${parseInt(Q[3],16)}`:null}const aL="inherit",oL="currentColor",sL="transparent",lL="#000",uL="#fff",cL={50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},fL={50:"rgb(var(--color-gray-50) / <alpha-value>)",100:"rgb(var(--color-gray-100) / <alpha-value>)",200:"rgb(var(--color-gray-200) / <alpha-value>)",300:"rgb(var(--color-gray-300) / <alpha-value>)",400:"rgb(var(--color-gray-400) / <alpha-value>)",500:"rgb(var(--color-gray-500) / <alpha-value>)",600:"rgb(var(--color-gray-600) / <alpha-value>)",700:"rgb(var(--color-gray-700) / <alpha-value>)",800:"rgb(var(--color-gray-800) / <alpha-value>)",900:"rgb(var(--color-gray-900) / <alpha-value>)",950:"rgb(var(--color-gray-950) / <alpha-value>)"},hL={50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},pL={50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},dL={50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"},gL={50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},vL={50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},mL={50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yL={50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},xL={50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},bL={50:"#EFFDF5",100:"#D9FBE8",200:"#B3F5D1",300:"#75EDAE",400:"#00DC82",500:"#00C16A",600:"#00A155",700:"#007F45",800:"#016538",900:"#0A5331",950:"#052e16"},_L={50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},wL={50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},TL={50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},kL={50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},AL={50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},ML={50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},SL={50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},EL={50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},LL={50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},CL={50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},PL={50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},OL="rgb(var(--ui-background) / <alpha-value>)",IL="rgb(var(--ui-foreground) / <alpha-value>)",RL={50:"rgb(var(--color-primary-50) / <alpha-value>)",100:"rgb(var(--color-primary-100) / <alpha-value>)",200:"rgb(var(--color-primary-200) / <alpha-value>)",300:"rgb(var(--color-primary-300) / <alpha-value>)",400:"rgb(var(--color-primary-400) / <alpha-value>)",500:"rgb(var(--color-primary-500) / <alpha-value>)",600:"rgb(var(--color-primary-600) / <alpha-value>)",700:"rgb(var(--color-primary-700) / <alpha-value>)",800:"rgb(var(--color-primary-800) / <alpha-value>)",900:"rgb(var(--color-primary-900) / <alpha-value>)",950:"rgb(var(--color-primary-950) / <alpha-value>)",DEFAULT:"rgb(var(--color-primary-DEFAULT) / <alpha-value>)"},DL={50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},_0={inherit:aL,current:oL,transparent:sL,black:lL,white:uL,slate:cL,gray:fL,zinc:hL,neutral:pL,stone:dL,red:gL,orange:vL,amber:mL,yellow:yL,lime:xL,green:bL,emerald:_L,teal:wL,cyan:TL,sky:kL,blue:AL,indigo:ML,violet:SL,purple:EL,fuchsia:LL,pink:CL,rose:PL,background:OL,foreground:IL,primary:RL,cool:DL},zL=zo(()=>{const k=Ko(),N=Yi(),Q=cr(()=>{const he=_0[k.ui.primary],O=_0[k.ui.gray];return he||console.warn(`[@nuxt/ui] Primary color '${k.ui.primary}' not found in Tailwind config`),O||console.warn(`[@nuxt/ui] Gray color '${k.ui.gray}' not found in Tailwind config`),`:root {
${Object.entries(he||_0.green).map(([S,e])=>`--color-primary-${S}: ${Sb(e)};`).join(`
`)}
--color-primary-DEFAULT: var(--color-primary-500);

${Object.entries(O||_0.cool).map(([S,e])=>`--color-gray-${S}: ${Sb(e)};`).join(`
`)}
}

.dark {
  --color-primary-DEFAULT: var(--color-primary-400);
}
`}),oe={style:[{innerHTML:()=>Q.value,tagPriority:-2,id:"nuxt-ui-colors"}]};if(N.isHydrating&&!N.payload.serverRendered){const he=document.createElement("style");he.innerHTML=Q.value,he.setAttribute("data-nuxt-ui-colors",""),document.head.appendChild(he),oe.script=[{innerHTML:"document.head.removeChild(document.querySelector('[data-nuxt-ui-colors]'))"}]}hd(oe)}),FL="__NUXT_COLOR_MODE__",BL="nuxt-color-mode",ic=window[FL]||{},NL=zo(k=>{const N=jh("color-mode",()=>_u({preference:ic.preference,value:ic.value,unknown:!1,forced:!1})).value;rl().afterEach(he=>{const O=he.meta.colorMode;O&&O!=="system"?(N.value=O,N.forced=!0):(O==="system"&&console.warn("You cannot force the colorMode to system at the page level."),N.forced=!1,N.value=N.preference==="system"?ic.getColorScheme():N.preference)});let Q;function oe(){Q||!window.matchMedia||(Q=window.matchMedia("(prefers-color-scheme: dark)"),Q.addEventListener("change",()=>{!N.forced&&N.preference==="system"&&(N.value=ic.getColorScheme())}))}na(()=>N.preference,he=>{var O;N.forced||(he==="system"?(N.value=ic.getColorScheme(),oe()):N.value=he,(O=window.localStorage)==null||O.setItem(BL,he))},{immediate:!0}),na(()=>N.value,(he,O)=>{let S;S=window.document.createElement("style"),S.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),window.document.head.appendChild(S),ic.removeColorScheme(O),ic.addColorScheme(he),window.getComputedStyle(S).opacity,document.head.removeChild(S)}),N.preference==="system"&&oe(),k.hook("app:mounted",()=>{N.unknown&&(N.preference=ic.preference,N.value=ic.value,N.unknown=!1)}),k.provide("colorMode",N)}),jL=zo(()=>{navigator&&navigator.userAgent&&navigator.userAgent.match(/Win[a-z0-9]*;/)&&document.documentElement.classList.add("nuxt-ui-scrollbars")});function UL(k={}){const N=k.path||window.location.pathname;let Q={};try{Q=Wp(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(k.force||(Q==null?void 0:Q.path)!==N||(Q==null?void 0:Q.expires)<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:N,expires:Date.now()+(k.ttl??1e4)}))}catch{}if(k.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:Yi().payload.state}))}catch{}window.location.pathname!==N?window.location.href=N:window.location.reload()}}const VL=zo({name:"nuxt:chunk-reload",setup(k){const N=rl(),Q=wu(),oe=new Set;N.beforeEach(()=>{oe.clear()}),k.hook("app:chunkError",({error:O})=>{oe.add(O)});function he(O){const e="href"in O&&O.href[0]==="#"?Q.app.baseURL+O.href:cd(Q.app.baseURL,O.fullPath);UL({path:e,persistState:!0})}k.hook("app:manifest:update",()=>{N.beforeResolve(he)}),N.onError((O,S)=>{oe.has(O)&&he(S)})}}),HL=zo(()=>({provide:{ui:Ko().ui.presets}})),qL=zo(()=>{const k=Ko(),N=Yi(),Q=cr(()=>`:root {
  --header-height: ${k.ui.variables.header.height};

  ${Object.entries(k.ui.variables.light).map(([he,O])=>`--ui-${he}: ${O};`).join(`
`)}
}

.dark {
  ${Object.entries(k.ui.variables.dark).map(([he,O])=>`--ui-${he}: ${O};`).join(`
`)}
}`),oe={style:[{innerHTML:()=>Q.value,tagPriority:-2,id:"nuxt-ui-variables"}]};if(N.isHydrating&&!N.payload.serverRendered){const he=document.createElement("style");he.innerHTML=Q.value,he.setAttribute("data-nuxt-ui-variables",""),document.head.appendChild(he),oe.script=[{innerHTML:"document.head.removeChild(document.querySelector('[data-nuxt-ui-variables]'))"}]}hd(oe)}),GL=zo(k=>{k.vueApp.directive("tab-switch",{mounted(N,Q){N.addEventListener("click",()=>{document.querySelectorAll(".tabcontent").forEach(S=>{S.style.display="none"}),document.querySelectorAll(".tablinks").forEach(S=>{S.classList.remove("active")});const O=document.getElementById(Q.value);O&&(O.style.display="block"),N.classList.add("active")})}})}),WL=[uS,fS,O7,R7,D7,j9,U9,G9,K9,vE,yE,zL,NL,jL,VL,HL,qL,GL];function YL(k,N){const Q=N/k*100;return 2/Math.PI*100*Math.atan(Q/50)}function $L(k={}){const{duration:N=2e3,throttle:Q=200,hideDelay:oe=500,resetDelay:he=400}=k,O=k.estimatedProgress||YL,S=Yi(),e=wr(0),v=wr(!1),x=wr(!1);let t=!1,b,g,c,s;const n=()=>{x.value=!1,i(0)};function i(f=0){if(!S.isHydrating){if(f>=100)return r();l(),e.value=f<0?0:f,Q?g=setTimeout(()=>{v.value=!0,u()},Q):(v.value=!0,u())}}function a(){c=setTimeout(()=>{v.value=!1,s=setTimeout(()=>{e.value=0},he)},oe)}function r(f={}){e.value=100,t=!0,l(),o(),f.error&&(x.value=!0),f.force?(e.value=0,v.value=!1):a()}function o(){clearTimeout(c),clearTimeout(s)}function l(){clearTimeout(g),cancelAnimationFrame(b)}function u(){t=!1;let f;function T(d){if(t)return;f??(f=d);const y=d-f;e.value=Math.max(0,Math.min(100,O(N,y))),b=requestAnimationFrame(T)}b=requestAnimationFrame(T)}let h=()=>{};{const f=S.hook("page:loading:start",()=>{n()}),T=S.hook("page:loading:end",()=>{r()}),d=S.hook("vue:error",()=>r());h=()=>{d(),f(),T(),l()}}return{_cleanup:h,progress:cr(()=>e.value),isLoading:cr(()=>v.value),error:cr(()=>x.value),start:n,set:i,finish:r,clear:l}}function ZL(k={}){const N=Yi(),Q=N._loadingIndicator=N._loadingIndicator||$L(k);return Hf()&&(N._loadingIndicatorDeps=N._loadingIndicatorDeps||0,N._loadingIndicatorDeps++,Ah(()=>{N._loadingIndicatorDeps--,N._loadingIndicatorDeps===0&&(Q._cleanup(),delete N._loadingIndicator)})),Q}const XL=Kr({name:"NuxtLoadingIndicator",props:{throttle:{type:Number,default:200},duration:{type:Number,default:2e3},height:{type:Number,default:3},color:{type:[String,Boolean],default:"repeating-linear-gradient(to right,#00dc82 0%,#34cdfe 50%,#0047e1 100%)"},errorColor:{type:String,default:"repeating-linear-gradient(to right,#f87171 0%,#ef4444 100%)"},estimatedProgress:{type:Function,required:!1}},setup(k,{slots:N,expose:Q}){const{progress:oe,isLoading:he,error:O,start:S,finish:e,clear:v}=ZL({duration:k.duration,throttle:k.throttle,estimatedProgress:k.estimatedProgress});return Q({progress:oe,isLoading:he,error:O,start:S,finish:e,clear:v}),()=>hi("div",{class:"nuxt-loading-indicator",style:{position:"fixed",top:0,right:0,left:0,pointerEvents:"none",width:"auto",height:`${k.height}px`,opacity:he.value?1:0,background:O.value?k.errorColor:k.color||void 0,backgroundSize:`${100/oe.value*100}% auto`,transform:`scaleX(${oe.value}%)`,transformOrigin:"left",transition:"transform 0.1s, height 0.4s, opacity 0.4s",zIndex:999999}},N)}}),io=(k,N,Q,oe,he=!1)=>{const O=lk(),S=Ko(),e=cr(()=>{var g;const x=Nu(N),t=Nu(Q),b=Nu(oe);return Tu((x==null?void 0:x.strategy)||((g=S.ui)==null?void 0:g.strategy),b?{wrapper:b}:{},x||{},he?eL(S.ui,k,{}):{},t||{})}),v=cr(()=>U3(O,["class"]));return{ui:e,attrs:v}};function V3({ui:k,props:N}){const Q=Ml();if(Ta("ButtonGroupContextConsumer",!0),Oi("ButtonGroupContextConsumer",!1))return{size:cr(()=>N.size),rounded:cr(()=>k.value.rounded)};let he=Q.parent,O;for(;he&&!O;){if(he.type.name==="ButtonGroup"){O=Oi(`group-${he.uid}`);break}he=he.parent}const S=cr(()=>O==null?void 0:O.value.children.indexOf(Q));return la(()=>{O==null||O.value.register(Q)}),wo(()=>{O==null||O.value.unregister(Q)}),{size:cr(()=>(O==null?void 0:O.value.size)||N.size),rounded:cr(()=>!O||S.value===-1?k.value.rounded:O.value.children.length===1?O.value.ui.rounded:S.value===0?O.value.rounded.start:S.value===O.value.children.length-1?O.value.rounded.end:"rounded-none")}}const KL={wrapper:"relative inline-flex items-center justify-center flex-shrink-0",background:"bg-gray-100 dark:bg-gray-800",rounded:"rounded-full",text:"font-medium leading-none text-gray-900 dark:text-white truncate",placeholder:"font-medium leading-none text-gray-500 dark:text-gray-400 truncate",size:{"3xs":"h-4 w-4 text-[8px]","2xs":"h-5 w-5 text-[10px]",xs:"h-6 w-6 text-xs",sm:"h-8 w-8 text-sm",md:"h-10 w-10 text-base",lg:"h-12 w-12 text-lg",xl:"h-14 w-14 text-xl","2xl":"h-16 w-16 text-2xl","3xl":"h-20 w-20 text-3xl"},chip:{base:"absolute rounded-full ring-1 ring-white dark:ring-gray-900 flex items-center justify-center text-white dark:text-gray-900 font-medium",background:"bg-{color}-500 dark:bg-{color}-400",position:{"top-right":"top-0 right-0","bottom-right":"bottom-0 right-0","top-left":"top-0 left-0","bottom-left":"bottom-0 left-0"},size:{"3xs":"h-[4px] min-w-[4px] text-[4px] p-px","2xs":"h-[5px] min-w-[5px] text-[5px] p-px",xs:"h-1.5 min-w-[0.375rem] text-[6px] p-px",sm:"h-2 min-w-[0.5rem] text-[7px] p-0.5",md:"h-2.5 min-w-[0.625rem] text-[8px] p-0.5",lg:"h-3 min-w-[0.75rem] text-[10px] p-0.5",xl:"h-3.5 min-w-[0.875rem] text-[11px] p-1","2xl":"h-4 min-w-[1rem] text-[12px] p-1","3xl":"h-5 min-w-[1.25rem] text-[14px] p-1"}},icon:{base:"text-gray-500 dark:text-gray-400 flex-shrink-0",size:{"3xs":"h-2 w-2","2xs":"h-2.5 w-2.5",xs:"h-3 w-3",sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6",xl:"h-7 w-7","2xl":"h-8 w-8","3xl":"h-10 w-10"}},default:{size:"sm",icon:null,chipColor:null,chipPosition:"top-right"}},JL={base:"inline-flex items-center",rounded:"rounded-md",font:"font-medium",size:{xs:"text-xs px-1.5 py-0.5",sm:"text-xs px-2 py-1",md:"text-sm px-2 py-1",lg:"text-sm px-2.5 py-1.5"},color:{white:{solid:"ring-1 ring-inset ring-gray-300 dark:ring-gray-700 text-gray-900 dark:text-white bg-white dark:bg-gray-900"},gray:{solid:"ring-1 ring-inset ring-gray-300 dark:ring-gray-700 text-gray-700 dark:text-gray-200 bg-gray-50 dark:bg-gray-800"},black:{solid:"text-white dark:text-gray-900 bg-gray-900 dark:bg-white"}},variant:{solid:"bg-{color}-500 dark:bg-{color}-400 text-white dark:text-gray-900",outline:"text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400",soft:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400",subtle:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400 ring-opacity-25 dark:ring-opacity-25"},default:{size:"sm",variant:"solid",color:"primary"}},H3={base:"focus:outline-none focus-visible:outline-0 disabled:cursor-not-allowed disabled:opacity-75 flex-shrink-0",font:"font-medium",rounded:"rounded-md",truncate:"text-left break-all line-clamp-1",block:"w-full flex justify-center items-center",inline:"inline-flex items-center",size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base"},gap:{"2xs":"gap-x-1",xs:"gap-x-1.5",sm:"gap-x-1.5",md:"gap-x-2",lg:"gap-x-2.5",xl:"gap-x-2.5"},padding:{"2xs":"px-2 py-1",xs:"px-2.5 py-1.5",sm:"px-2.5 py-1.5",md:"px-3 py-2",lg:"px-3.5 py-2.5",xl:"px-3.5 py-2.5"},square:{"2xs":"p-1",xs:"p-1.5",sm:"p-1.5",md:"p-2",lg:"p-2.5",xl:"p-2.5"},color:{white:{solid:"shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-700 text-gray-900 dark:text-white bg-white hover:bg-gray-50 disabled:bg-white dark:bg-gray-900 dark:hover:bg-gray-800/50 dark:disabled:bg-gray-900 focus-visible:ring-2 focus-visible:ring-primary-500 dark:focus-visible:ring-primary-400",ghost:"text-gray-900 dark:text-white hover:bg-white dark:hover:bg-gray-900 focus-visible:ring-inset focus-visible:ring-2 focus-visible:ring-primary-500 dark:focus-visible:ring-primary-400"},gray:{solid:"shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-700 text-gray-700 dark:text-gray-200 bg-gray-50 hover:bg-gray-100 disabled:bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700/50 dark:disabled:bg-gray-800 focus-visible:ring-2 focus-visible:ring-primary-500 dark:focus-visible:ring-primary-400",ghost:"text-gray-700 dark:text-gray-200 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-800 focus-visible:ring-inset focus-visible:ring-2 focus-visible:ring-primary-500 dark:focus-visible:ring-primary-400",link:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 underline-offset-4 hover:underline focus-visible:ring-inset focus-visible:ring-2 focus-visible:ring-primary-500 dark:focus-visible:ring-primary-400"},black:{solid:"shadow-sm text-white dark:text-gray-900 bg-gray-900 hover:bg-gray-800 disabled:bg-gray-900 dark:bg-white dark:hover:bg-gray-100 dark:disabled:bg-white focus-visible:ring-inset focus-visible:ring-2 focus-visible:ring-primary-500 dark:focus-visible:ring-primary-400",link:"text-gray-900 dark:text-white underline-offset-4 hover:underline focus-visible:ring-inset focus-visible:ring-2 focus-visible:ring-primary-500 dark:focus-visible:ring-primary-400"}},variant:{solid:"shadow-sm text-white dark:text-gray-900 bg-{color}-500 hover:bg-{color}-600 disabled:bg-{color}-500 dark:bg-{color}-400 dark:hover:bg-{color}-500 dark:disabled:bg-{color}-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-{color}-500 dark:focus-visible:outline-{color}-400",outline:"ring-1 ring-inset ring-current text-{color}-500 dark:text-{color}-400 hover:bg-{color}-50 disabled:bg-transparent dark:hover:bg-{color}-950 dark:disabled:bg-transparent focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400",soft:"text-{color}-500 dark:text-{color}-400 bg-{color}-50 hover:bg-{color}-100 disabled:bg-{color}-50 dark:bg-{color}-950 dark:hover:bg-{color}-900 dark:disabled:bg-{color}-950 focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400",ghost:"text-{color}-500 dark:text-{color}-400 hover:bg-{color}-50 disabled:bg-transparent dark:hover:bg-{color}-950 dark:disabled:bg-transparent focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400",link:"text-{color}-500 hover:text-{color}-600 disabled:text-{color}-500 dark:text-{color}-400 dark:hover:text-{color}-500 dark:disabled:text-{color}-400 underline-offset-4 hover:underline focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400"},icon:{base:"flex-shrink-0",loading:"animate-spin",size:{"2xs":"h-4 w-4",xs:"h-4 w-4",sm:"h-5 w-5",md:"h-5 w-5",lg:"h-5 w-5",xl:"h-6 w-6"}},default:{size:"sm",variant:"solid",color:"primary",loadingIcon:"i-heroicons-arrow-path-20-solid"}},pd={base:"invisible before:visible before:block before:rotate-45 before:z-[-1] before:w-2 before:h-2",ring:"before:ring-1 before:ring-gray-200 dark:before:ring-gray-800",rounded:"before:rounded-sm",background:"before:bg-gray-200 dark:before:bg-gray-800",shadow:"before:shadow",placement:"group-data-[popper-placement*='right']:-left-1 group-data-[popper-placement*='left']:-right-1 group-data-[popper-placement*='top']:-bottom-1 group-data-[popper-placement*='bottom']:-top-1"};({...pd});const QL={wrapper:"w-full flex flex-col",container:"w-full flex flex-col",item:{base:"",size:"text-sm",color:"text-gray-500 dark:text-gray-400",padding:"pt-1.5 pb-3",icon:"ms-auto transform transition-transform duration-200"},transition:{enterActiveClass:"overflow-hidden transition-[height] duration-200 ease-out",leaveActiveClass:"overflow-hidden transition-[height] duration-200 ease-out"},default:{openIcon:"i-heroicons-chevron-down-20-solid",closeIcon:"",class:"mb-1.5 w-full",variant:"soft"}},eC={base:"inline-flex items-center justify-center text-gray-900 dark:text-white",padding:"px-1",size:{xs:"h-4 min-w-[16px] text-[10px]",sm:"h-5 min-w-[20px] text-[11px]",md:"h-6 min-w-[24px] text-[12px]"},rounded:"rounded",font:"font-medium font-sans",background:"bg-gray-100 dark:bg-gray-800",ring:"ring-1 ring-gray-300 dark:ring-gray-700 ring-inset",default:{size:"sm"}},Eb={container:"z-20 group",trigger:"flex items-center w-full",width:"w-full",height:"max-h-60",base:"relative focus:outline-none overflow-y-auto scroll-py-1",background:"bg-white dark:bg-gray-800",shadow:"shadow-lg",rounded:"rounded-md",padding:"p-1",ring:"ring-1 ring-gray-200 dark:ring-gray-700",empty:"text-sm text-gray-400 dark:text-gray-500 px-2 py-1.5",option:{base:"cursor-default select-none relative flex items-center justify-between gap-1",rounded:"rounded-md",padding:"px-1.5 py-1.5",size:"text-sm",color:"text-gray-900 dark:text-white",container:"flex items-center gap-1.5 min-w-0",active:"bg-gray-100 dark:bg-gray-900",inactive:"",selected:"pe-7",disabled:"cursor-not-allowed opacity-50",empty:"text-sm text-gray-400 dark:text-gray-500 px-2 py-1.5",icon:{base:"flex-shrink-0 h-5 w-5",active:"text-gray-900 dark:text-white",inactive:"text-gray-400 dark:text-gray-500"},selectedIcon:{wrapper:"absolute inset-y-0 end-0 flex items-center",padding:"pe-2",base:"h-5 w-5 text-gray-900 dark:text-white flex-shrink-0"},avatar:{base:"flex-shrink-0",size:"2xs"},chip:{base:"flex-shrink-0 w-2 h-2 mx-1 rounded-full"}},transition:{leaveActiveClass:"transition ease-in duration-100",leaveFromClass:"opacity-100",leaveToClass:"opacity-0"},popper:{placement:"bottom-end"},default:{selectedIcon:"i-heroicons-check-20-solid",trailingIcon:"i-heroicons-chevron-down-20-solid"},arrow:{...pd,ring:"before:ring-1 before:ring-gray-200 dark:before:ring-gray-700",background:"before:bg-white dark:before:bg-gray-700"}};({...Eb,option:{...Eb.option},arrow:{...pd}});const tC={base:"mx-auto",padding:"px-4 sm:px-6 lg:px-8",constrained:"max-w-7xl"};({...pd});const nC={wrapper:"relative",container:"z-50 group",trigger:"inline-flex w-full",width:"",background:"bg-white dark:bg-gray-900",shadow:"shadow-lg",rounded:"rounded-md",ring:"ring-1 ring-gray-200 dark:ring-gray-800",base:"overflow-hidden focus:outline-none relative",transition:{enterActiveClass:"transition ease-out duration-200",enterFromClass:"opacity-0 translate-y-1",enterToClass:"opacity-100 translate-y-0",leaveActiveClass:"transition ease-in duration-150",leaveFromClass:"opacity-100 translate-y-0",leaveToClass:"opacity-0 translate-y-1"},overlay:{base:"fixed inset-0 transition-opacity z-50",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enterActiveClass:"ease-out duration-200",enterFromClass:"opacity-0",enterToClass:"opacity-100",leaveActiveClass:"ease-in duration-150",leaveFromClass:"opacity-100",leaveToClass:"opacity-0"}},popper:{strategy:"fixed"},default:{openDelay:0,closeDelay:0},arrow:pd},rC={wrapper:"w-full pointer-events-auto",container:"relative overflow-hidden",inner:"w-0 flex-1",title:"text-sm font-medium text-gray-900 dark:text-white",description:"mt-1 text-sm leading-4 text-gray-500 dark:text-gray-400",actions:"flex items-center gap-2 mt-3 flex-shrink-0",background:"bg-white dark:bg-gray-900",shadow:"shadow-lg",rounded:"rounded-lg",padding:"p-4",gap:"gap-3",ring:"ring-1 ring-gray-200 dark:ring-gray-800",icon:{base:"flex-shrink-0 w-5 h-5",color:"text-{color}-500 dark:text-{color}-400"},avatar:{base:"flex-shrink-0 self-center",size:"md"},progress:{base:"absolute bottom-0 end-0 start-0 h-1",background:"bg-{color}-500 dark:bg-{color}-400"},transition:{enterActiveClass:"transform ease-out duration-300 transition",enterFromClass:"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2",enterToClass:"translate-y-0 opacity-100 sm:translate-x-0",leaveActiveClass:"transition ease-in duration-100",leaveFromClass:"opacity-100",leaveToClass:"opacity-0"},default:{color:"primary",icon:null,timeout:5e3,closeButton:{icon:"i-heroicons-x-mark-20-solid",color:"gray",variant:"link",padded:!1},actionButton:{size:"xs",color:"white"}}},iC={wrapper:"fixed flex flex-col justify-end z-[55]",position:"bottom-0 end-0",width:"w-full sm:w-96",container:"px-4 sm:px-6 py-6 space-y-3 overflow-y-auto"},Ps=(k,N)=>{const Q=k.__vccOpts||k;for(const[oe,he]of N)Q[oe]=he;return Q},Fc=Tu(Ia.ui.strategy,Ia.ui.badge,JL),aC=Kr({inheritAttrs:!1,props:{size:{type:String,default:()=>Fc.default.size,validator(k){return Object.keys(Fc.size).includes(k)}},color:{type:String,default:()=>Fc.default.color,validator(k){return[...Ia.ui.colors,...Object.keys(Fc.color)].includes(k)}},variant:{type:String,default:()=>Fc.default.variant,validator(k){return[...Object.keys(Fc.variant),...Object.values(Fc.color).flatMap(N=>Object.keys(N))].includes(k)}},label:{type:[String,Number],default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(k){const{ui:N,attrs:Q}=io("badge",Ai(k,"ui"),Fc),{size:oe,rounded:he}=V3({ui:N,props:k}),O=cr(()=>{var e,v;const S=((v=(e=N.value.color)==null?void 0:e[k.color])==null?void 0:v[k.variant])||N.value.variant[k.variant];return Jl(Xo(N.value.base,N.value.font,he.value,N.value.size[oe.value],S==null?void 0:S.replaceAll("{color}",k.color)),k.class)});return{attrs:Q,badgeClass:O}}});function oC(k,N,Q,oe,he,O){return pr(),Wr("span",ii({class:k.badgeClass},k.attrs),[fi(k.$slots,"default",{},()=>[To(wa(k.label),1)])],16)}const q3=Ps(aC,[["render",oC]]),Ov=Tu(Ia.ui.strategy,Ia.ui.kbd,eC),sC=Kr({inheritAttrs:!1,props:{value:{type:String,default:null},size:{type:String,default:()=>Ov.default.size,validator(k){return Object.keys(Ov.size).includes(k)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(k){const{ui:N,attrs:Q}=io("kbd",Ai(k,"ui"),Ov),oe=cr(()=>Jl(Xo(N.value.base,N.value.size[k.size],N.value.padding,N.value.rounded,N.value.font,N.value.background,N.value.ring),k.class));return{ui:N,attrs:Q,kbdClass:oe}}});function lC(k,N,Q,oe,he,O){return pr(),Wr("kbd",ii({class:k.kbdClass},k.attrs),[fi(k.$slots,"default",{},()=>[To(wa(k.value),1)])],16)}const uC=Ps(sC,[["render",lC]]),G3=Object.freeze({left:0,top:0,width:16,height:16}),W3=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Py=Object.freeze({...G3,...W3});Object.freeze({...Py,body:"",hidden:!1});({...G3});const Y3=Object.freeze({width:null,height:null}),$3=Object.freeze({...Y3,...W3});function cC(k,N){const Q={...k};for(const oe in N){const he=N[oe],O=typeof he;oe in Y3?(he===null||he&&(O==="string"||O==="number"))&&(Q[oe]=he):O===typeof Q[oe]&&(Q[oe]=oe==="rotate"?he%4:he)}return Q}const fC=/[\s,]+/;function hC(k,N){N.split(fC).forEach(Q=>{switch(Q.trim()){case"horizontal":k.hFlip=!0;break;case"vertical":k.vFlip=!0;break}})}function pC(k,N=0){const Q=k.replace(/^-?[0-9.]*/,"");function oe(he){for(;he<0;)he+=4;return he%4}if(Q===""){const he=parseInt(k);return isNaN(he)?0:oe(he)}else if(Q!==k){let he=0;switch(Q){case"%":he=25;break;case"deg":he=90}if(he){let O=parseFloat(k.slice(0,k.length-Q.length));return isNaN(O)?0:(O=O/he,O%1===0?oe(O):0)}}return N}const dC=/(-?[0-9.]*[0-9]+[0-9.]*)/g,gC=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Lb(k,N,Q){if(N===1)return k;if(Q=Q||100,typeof k=="number")return Math.ceil(k*N*Q)/Q;if(typeof k!="string")return k;const oe=k.split(dC);if(oe===null||!oe.length)return k;const he=[];let O=oe.shift(),S=gC.test(O);for(;;){if(S){const e=parseFloat(O);isNaN(e)?he.push(O):he.push(Math.ceil(e*N*Q)/Q)}else he.push(O);if(O=oe.shift(),O===void 0)return he.join("");S=!S}}function vC(k,N="defs"){let Q="";const oe=k.indexOf("<"+N);for(;oe>=0;){const he=k.indexOf(">",oe),O=k.indexOf("</"+N);if(he===-1||O===-1)break;const S=k.indexOf(">",O);if(S===-1)break;Q+=k.slice(he+1,O).trim(),k=k.slice(0,oe).trim()+k.slice(S+1)}return{defs:Q,content:k}}function mC(k,N){return k?"<defs>"+k+"</defs>"+N:N}function yC(k,N,Q){const oe=vC(k);return mC(oe.defs,N+oe.content+Q)}const xC=k=>k==="unset"||k==="undefined"||k==="none";function bC(k,N){const Q={...Py,...k},oe={...$3,...N},he={left:Q.left,top:Q.top,width:Q.width,height:Q.height};let O=Q.body;[Q,oe].forEach(n=>{const i=[],a=n.hFlip,r=n.vFlip;let o=n.rotate;a?r?o+=2:(i.push("translate("+(he.width+he.left).toString()+" "+(0-he.top).toString()+")"),i.push("scale(-1 1)"),he.top=he.left=0):r&&(i.push("translate("+(0-he.left).toString()+" "+(he.height+he.top).toString()+")"),i.push("scale(1 -1)"),he.top=he.left=0);let l;switch(o<0&&(o-=Math.floor(o/4)*4),o=o%4,o){case 1:l=he.height/2+he.top,i.unshift("rotate(90 "+l.toString()+" "+l.toString()+")");break;case 2:i.unshift("rotate(180 "+(he.width/2+he.left).toString()+" "+(he.height/2+he.top).toString()+")");break;case 3:l=he.width/2+he.left,i.unshift("rotate(-90 "+l.toString()+" "+l.toString()+")");break}o%2===1&&(he.left!==he.top&&(l=he.left,he.left=he.top,he.top=l),he.width!==he.height&&(l=he.width,he.width=he.height,he.height=l)),i.length&&(O=yC(O,'<g transform="'+i.join(" ")+'">',"</g>"))});const S=oe.width,e=oe.height,v=he.width,x=he.height;let t,b;S===null?(b=e===null?"1em":e==="auto"?x:e,t=Lb(b,v/x)):(t=S==="auto"?v:S,b=e===null?Lb(t,x/v):e==="auto"?x:e);const g={},c=(n,i)=>{xC(i)||(g[n]=i.toString())};c("width",t),c("height",b);const s=[he.left,he.top,v,x];return g.viewBox=s.join(" "),{attributes:g,viewBox:s,body:O}}const _C=/\sid="(\S+)"/g,wC="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let TC=0;function kC(k,N=wC){const Q=[];let oe;for(;oe=_C.exec(k);)Q.push(oe[1]);if(!Q.length)return k;const he="suffix"+(Math.random()*16777216|Date.now()).toString(16);return Q.forEach(O=>{const S=typeof N=="function"?N(O):N+(TC++).toString(),e=O.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");k=k.replace(new RegExp('([#;"])('+e+')([")]|\\.[a-z])',"g"),"$1"+S+he+"$3")}),k=k.replace(new RegExp(he,"g"),""),k}function AC(k,N){let Q=k.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const oe in N)Q+=" "+oe+'="'+N[oe]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+Q+">"+k+"</svg>"}function MC(k){return k.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function SC(k){return"data:image/svg+xml,"+MC(k)}function EC(k){return'url("'+SC(k)+'")'}const Cb={...$3,inline:!1},LC={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},CC={display:"inline-block"},Pm={backgroundColor:"currentColor"},Z3={backgroundColor:"transparent"},Pb={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},Ob={webkitMask:Pm,mask:Pm,background:Z3};for(const k in Ob){const N=Ob[k];for(const Q in Pb)N[k+Q]=Pb[Q]}const D0={};["horizontal","vertical"].forEach(k=>{const N=k.slice(0,1)+"Flip";D0[k+"-flip"]=N,D0[k.slice(0,1)+"-flip"]=N,D0[k+"Flip"]=N});function Ib(k){return k+(k.match(/^[-0-9.]+$/)?"px":"")}const PC=(k,N)=>{const Q=cC(Cb,N),oe={...LC},he=N.mode||"svg",O={},S=N.style,e=typeof S=="object"&&!(S instanceof Array)?S:{};for(let n in N){const i=N[n];if(i!==void 0)switch(n){case"icon":case"style":case"onLoad":case"mode":break;case"inline":case"hFlip":case"vFlip":Q[n]=i===!0||i==="true"||i===1;break;case"flip":typeof i=="string"&&hC(Q,i);break;case"color":O.color=i;break;case"rotate":typeof i=="string"?Q[n]=pC(i):typeof i=="number"&&(Q[n]=i);break;case"ariaHidden":case"aria-hidden":i!==!0&&i!=="true"&&delete oe["aria-hidden"];break;default:{const a=D0[n];a?(i===!0||i==="true"||i===1)&&(Q[a]=!0):Cb[n]===void 0&&(oe[n]=i)}}}const v=bC(k,Q),x=v.attributes;if(Q.inline&&(O.verticalAlign="-0.125em"),he==="svg"){oe.style={...O,...e},Object.assign(oe,x);let n=0,i=N.id;return typeof i=="string"&&(i=i.replace(/-/g,"_")),oe.innerHTML=kC(v.body,i?()=>i+"ID"+n++:"iconifyVue"),hi("svg",oe)}const{body:t,width:b,height:g}=k,c=he==="mask"||(he==="bg"?!1:t.indexOf("currentColor")!==-1),s=AC(t,{...x,width:b+"",height:g+""});return oe.style={...O,"--svg":EC(s),width:Ib(x.width),height:Ib(x.height),...CC,...c?Pm:Z3,...e},hi("span",oe)},OC=Object.create(null),IC=Kr({inheritAttrs:!1,render(){const k=this.$attrs,N=k.icon,Q=typeof N=="string"?OC[N]:typeof N=="object"?N:null;return Q===null||typeof Q!="object"||typeof Q.body!="string"?this.$slots.default?this.$slots.default():null:PC({...Py,...Q},k)}}),Fp=/^[a-z0-9]+(-[a-z0-9]+)*$/,_g=(k,N,Q,oe="")=>{const he=k.split(":");if(k.slice(0,1)==="@"){if(he.length<2||he.length>3)return null;oe=he.shift().slice(1)}if(he.length>3||!he.length)return null;if(he.length>1){const e=he.pop(),v=he.pop(),x={provider:he.length>0?he[0]:oe,prefix:v,name:e};return N&&!z0(x)?null:x}const O=he[0],S=O.split("-");if(S.length>1){const e={provider:oe,prefix:S.shift(),name:S.join("-")};return N&&!z0(e)?null:e}if(Q&&oe===""){const e={provider:oe,prefix:"",name:O};return N&&!z0(e,Q)?null:e}return null},z0=(k,N)=>k?!!((k.provider===""||k.provider.match(Fp))&&(N&&k.prefix===""||k.prefix.match(Fp))&&k.name.match(Fp)):!1,X3=Object.freeze({left:0,top:0,width:16,height:16}),tg=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Oy=Object.freeze({...X3,...tg}),Om=Object.freeze({...Oy,body:"",hidden:!1});function RC(k,N){const Q={};!k.hFlip!=!N.hFlip&&(Q.hFlip=!0),!k.vFlip!=!N.vFlip&&(Q.vFlip=!0);const oe=((k.rotate||0)+(N.rotate||0))%4;return oe&&(Q.rotate=oe),Q}function Rb(k,N){const Q=RC(k,N);for(const oe in Om)oe in tg?oe in k&&!(oe in Q)&&(Q[oe]=tg[oe]):oe in N?Q[oe]=N[oe]:oe in k&&(Q[oe]=k[oe]);return Q}function DC(k,N){const Q=k.icons,oe=k.aliases||Object.create(null),he=Object.create(null);function O(S){if(Q[S])return he[S]=[];if(!(S in he)){he[S]=null;const e=oe[S]&&oe[S].parent,v=e&&O(e);v&&(he[S]=[e].concat(v))}return he[S]}return Object.keys(Q).concat(Object.keys(oe)).forEach(O),he}function zC(k,N,Q){const oe=k.icons,he=k.aliases||Object.create(null);let O={};function S(e){O=Rb(oe[e]||he[e],O)}return S(N),Q.forEach(S),Rb(k,O)}function K3(k,N){const Q=[];if(typeof k!="object"||typeof k.icons!="object")return Q;k.not_found instanceof Array&&k.not_found.forEach(he=>{N(he,null),Q.push(he)});const oe=DC(k);for(const he in oe){const O=oe[he];O&&(N(he,zC(k,he,O)),Q.push(he))}return Q}const FC={provider:"",aliases:{},not_found:{},...X3};function Iv(k,N){for(const Q in N)if(Q in k&&typeof k[Q]!=typeof N[Q])return!1;return!0}function J3(k){if(typeof k!="object"||k===null)return null;const N=k;if(typeof N.prefix!="string"||!k.icons||typeof k.icons!="object"||!Iv(k,FC))return null;const Q=N.icons;for(const he in Q){const O=Q[he];if(!he.match(Fp)||typeof O.body!="string"||!Iv(O,Om))return null}const oe=N.aliases||Object.create(null);for(const he in oe){const O=oe[he],S=O.parent;if(!he.match(Fp)||typeof S!="string"||!Q[S]&&!oe[S]||!Iv(O,Om))return null}return N}const Db=Object.create(null);function BC(k,N){return{provider:k,prefix:N,icons:Object.create(null),missing:new Set}}function Bf(k,N){const Q=Db[k]||(Db[k]=Object.create(null));return Q[N]||(Q[N]=BC(k,N))}function Iy(k,N){return J3(N)?K3(N,(Q,oe)=>{oe?k.icons[Q]=oe:k.missing.add(Q)}):[]}function NC(k,N,Q){try{if(typeof Q.body=="string")return k.icons[N]={...Q},!0}catch{}return!1}let Qp=!1;function Q3(k){return typeof k=="boolean"&&(Qp=k),Qp}function jC(k){const N=typeof k=="string"?_g(k,!0,Qp):k;if(N){const Q=Bf(N.provider,N.prefix),oe=N.name;return Q.icons[oe]||(Q.missing.has(oe)?null:void 0)}}function UC(k,N){const Q=_g(k,!0,Qp);if(!Q)return!1;const oe=Bf(Q.provider,Q.prefix);return NC(oe,Q.name,N)}function VC(k,N){if(typeof k!="object")return!1;if(typeof N!="string"&&(N=k.provider||""),Qp&&!N&&!k.prefix){let he=!1;return J3(k)&&(k.prefix="",K3(k,(O,S)=>{S&&UC(O,S)&&(he=!0)})),he}const Q=k.prefix;if(!z0({provider:N,prefix:Q,name:"a"}))return!1;const oe=Bf(N,Q);return!!Iy(oe,k)}const HC=Object.freeze({width:null,height:null}),qC=Object.freeze({...HC,...tg});""+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);const Im=Object.create(null);function GC(k,N){Im[k]=N}function Rm(k){return Im[k]||Im[""]}function Ry(k){let N;if(typeof k.resources=="string")N=[k.resources];else if(N=k.resources,!(N instanceof Array)||!N.length)return null;return{resources:N,path:k.path||"/",maxURL:k.maxURL||500,rotate:k.rotate||750,timeout:k.timeout||5e3,random:k.random===!0,index:k.index||0,dataAfterTimeout:k.dataAfterTimeout!==!1}}const Dy=Object.create(null),_p=["https://api.simplesvg.com","https://api.unisvg.com"],F0=[];for(;_p.length>0;)_p.length===1||Math.random()>.5?F0.push(_p.shift()):F0.push(_p.pop());Dy[""]=Ry({resources:["https://api.iconify.design"].concat(F0)});function Dm(k,N){const Q=Ry(N);return Q===null?!1:(Dy[k]=Q,!0)}function zy(k){return Dy[k]}const WC=()=>{let k;try{if(k=fetch,typeof k=="function")return k}catch{}};let zb=WC();function YC(k,N){const Q=zy(k);if(!Q)return 0;let oe;if(!Q.maxURL)oe=0;else{let he=0;Q.resources.forEach(S=>{he=Math.max(he,S.length)});const O=N+".json?icons=";oe=Q.maxURL-he-Q.path.length-O.length}return oe}function $C(k){return k===404}const ZC=(k,N,Q)=>{const oe=[],he=YC(k,N),O="icons";let S={type:O,provider:k,prefix:N,icons:[]},e=0;return Q.forEach((v,x)=>{e+=v.length+1,e>=he&&x>0&&(oe.push(S),S={type:O,provider:k,prefix:N,icons:[]},e=v.length),S.icons.push(v)}),oe.push(S),oe};function XC(k){if(typeof k=="string"){const N=zy(k);if(N)return N.path}return"/"}const KC=(k,N,Q)=>{if(!zb){Q("abort",424);return}let oe=XC(N.provider);switch(N.type){case"icons":{const O=N.prefix,e=N.icons.join(","),v=new URLSearchParams({icons:e});oe+=O+".json?"+v.toString();break}case"custom":{const O=N.uri;oe+=O.slice(0,1)==="/"?O.slice(1):O;break}default:Q("abort",400);return}let he=503;zb(k+oe).then(O=>{const S=O.status;if(S!==200){setTimeout(()=>{Q($C(S)?"abort":"next",S)});return}return he=501,O.json()}).then(O=>{if(typeof O!="object"||O===null){setTimeout(()=>{O===404?Q("abort",O):Q("next",he)});return}setTimeout(()=>{Q("success",O)})}).catch(()=>{Q("next",he)})},JC={prepare:ZC,send:KC};function QC(k){const N={loaded:[],missing:[],pending:[]},Q=Object.create(null);k.sort((he,O)=>he.provider!==O.provider?he.provider.localeCompare(O.provider):he.prefix!==O.prefix?he.prefix.localeCompare(O.prefix):he.name.localeCompare(O.name));let oe={provider:"",prefix:"",name:""};return k.forEach(he=>{if(oe.name===he.name&&oe.prefix===he.prefix&&oe.provider===he.provider)return;oe=he;const O=he.provider,S=he.prefix,e=he.name,v=Q[O]||(Q[O]=Object.create(null)),x=v[S]||(v[S]=Bf(O,S));let t;e in x.icons?t=N.loaded:S===""||x.missing.has(e)?t=N.missing:t=N.pending;const b={provider:O,prefix:S,name:e};t.push(b)}),N}function e4(k,N){k.forEach(Q=>{const oe=Q.loaderCallbacks;oe&&(Q.loaderCallbacks=oe.filter(he=>he.id!==N))})}function eP(k){k.pendingCallbacksFlag||(k.pendingCallbacksFlag=!0,setTimeout(()=>{k.pendingCallbacksFlag=!1;const N=k.loaderCallbacks?k.loaderCallbacks.slice(0):[];if(!N.length)return;let Q=!1;const oe=k.provider,he=k.prefix;N.forEach(O=>{const S=O.icons,e=S.pending.length;S.pending=S.pending.filter(v=>{if(v.prefix!==he)return!0;const x=v.name;if(k.icons[x])S.loaded.push({provider:oe,prefix:he,name:x});else if(k.missing.has(x))S.missing.push({provider:oe,prefix:he,name:x});else return Q=!0,!0;return!1}),S.pending.length!==e&&(Q||e4([k],O.id),O.callback(S.loaded.slice(0),S.missing.slice(0),S.pending.slice(0),O.abort))})}))}let tP=0;function nP(k,N,Q){const oe=tP++,he=e4.bind(null,Q,oe);if(!N.pending.length)return he;const O={id:oe,icons:N,callback:k,abort:he};return Q.forEach(S=>{(S.loaderCallbacks||(S.loaderCallbacks=[])).push(O)}),he}function rP(k,N=!0,Q=!1){const oe=[];return k.forEach(he=>{const O=typeof he=="string"?_g(he,N,Q):he;O&&oe.push(O)}),oe}var iP={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function aP(k,N,Q,oe){const he=k.resources.length,O=k.random?Math.floor(Math.random()*he):k.index;let S;if(k.random){let h=k.resources.slice(0);for(S=[];h.length>1;){const f=Math.floor(Math.random()*h.length);S.push(h[f]),h=h.slice(0,f).concat(h.slice(f+1))}S=S.concat(h)}else S=k.resources.slice(O).concat(k.resources.slice(0,O));const e=Date.now();let v="pending",x=0,t,b=null,g=[],c=[];typeof oe=="function"&&c.push(oe);function s(){b&&(clearTimeout(b),b=null)}function n(){v==="pending"&&(v="aborted"),s(),g.forEach(h=>{h.status==="pending"&&(h.status="aborted")}),g=[]}function i(h,f){f&&(c=[]),typeof h=="function"&&c.push(h)}function a(){return{startTime:e,payload:N,status:v,queriesSent:x,queriesPending:g.length,subscribe:i,abort:n}}function r(){v="failed",c.forEach(h=>{h(void 0,t)})}function o(){g.forEach(h=>{h.status==="pending"&&(h.status="aborted")}),g=[]}function l(h,f,T){const d=f!=="success";switch(g=g.filter(y=>y!==h),v){case"pending":break;case"failed":if(d||!k.dataAfterTimeout)return;break;default:return}if(f==="abort"){t=T,r();return}if(d){t=T,g.length||(S.length?u():r());return}if(s(),o(),!k.random){const y=k.resources.indexOf(h.resource);y!==-1&&y!==k.index&&(k.index=y)}v="completed",c.forEach(y=>{y(T)})}function u(){if(v!=="pending")return;s();const h=S.shift();if(h===void 0){if(g.length){b=setTimeout(()=>{s(),v==="pending"&&(o(),r())},k.timeout);return}r();return}const f={status:"pending",resource:h,callback:(T,d)=>{l(f,T,d)}};g.push(f),x++,b=setTimeout(u,k.rotate),Q(h,N,f.callback)}return setTimeout(u),a}function t4(k){const N={...iP,...k};let Q=[];function oe(){Q=Q.filter(e=>e().status==="pending")}function he(e,v,x){const t=aP(N,e,v,(b,g)=>{oe(),x&&x(b,g)});return Q.push(t),t}function O(e){return Q.find(v=>e(v))||null}return{query:he,find:O,setIndex:e=>{N.index=e},getIndex:()=>N.index,cleanup:oe}}function Fb(){}const Rv=Object.create(null);function oP(k){if(!Rv[k]){const N=zy(k);if(!N)return;const Q=t4(N),oe={config:N,redundancy:Q};Rv[k]=oe}return Rv[k]}function sP(k,N,Q){let oe,he;if(typeof k=="string"){const O=Rm(k);if(!O)return Q(void 0,424),Fb;he=O.send;const S=oP(k);S&&(oe=S.redundancy)}else{const O=Ry(k);if(O){oe=t4(O);const S=k.resources?k.resources[0]:"",e=Rm(S);e&&(he=e.send)}}return!oe||!he?(Q(void 0,424),Fb):oe.query(N,he,Q)().abort}const Bb="iconify2",ed="iconify",n4=ed+"-count",Nb=ed+"-version",r4=36e5,lP=168,uP=50;function zm(k,N){try{return k.getItem(N)}catch{}}function Fy(k,N,Q){try{return k.setItem(N,Q),!0}catch{}}function jb(k,N){try{k.removeItem(N)}catch{}}function Fm(k,N){return Fy(k,n4,N.toString())}function Bm(k){return parseInt(zm(k,n4))||0}const wg={local:!0,session:!0},i4={local:new Set,session:new Set};let By=!1;function cP(k){By=k}let w0=typeof window>"u"?{}:window;function a4(k){const N=k+"Storage";try{if(w0&&w0[N]&&typeof w0[N].length=="number")return w0[N]}catch{}wg[k]=!1}function o4(k,N){const Q=a4(k);if(!Q)return;const oe=zm(Q,Nb);if(oe!==Bb){if(oe){const e=Bm(Q);for(let v=0;v<e;v++)jb(Q,ed+v.toString())}Fy(Q,Nb,Bb),Fm(Q,0);return}const he=Math.floor(Date.now()/r4)-lP,O=e=>{const v=ed+e.toString(),x=zm(Q,v);if(typeof x=="string"){try{const t=JSON.parse(x);if(typeof t=="object"&&typeof t.cached=="number"&&t.cached>he&&typeof t.provider=="string"&&typeof t.data=="object"&&typeof t.data.prefix=="string"&&N(t,e))return!0}catch{}jb(Q,v)}};let S=Bm(Q);for(let e=S-1;e>=0;e--)O(e)||(e===S-1?(S--,Fm(Q,S)):i4[k].add(e))}function s4(){if(!By){cP(!0);for(const k in wg)o4(k,N=>{const Q=N.data,oe=N.provider,he=Q.prefix,O=Bf(oe,he);if(!Iy(O,Q).length)return!1;const S=Q.lastModified||-1;return O.lastModifiedCached=O.lastModifiedCached?Math.min(O.lastModifiedCached,S):S,!0})}}function fP(k,N){const Q=k.lastModifiedCached;if(Q&&Q>=N)return Q===N;if(k.lastModifiedCached=N,Q)for(const oe in wg)o4(oe,he=>{const O=he.data;return he.provider!==k.provider||O.prefix!==k.prefix||O.lastModified===N});return!0}function hP(k,N){By||s4();function Q(oe){let he;if(!wg[oe]||!(he=a4(oe)))return;const O=i4[oe];let S;if(O.size)O.delete(S=Array.from(O).shift());else if(S=Bm(he),S>=uP||!Fm(he,S+1))return;const e={cached:Math.floor(Date.now()/r4),provider:k.provider,data:N};return Fy(he,ed+S.toString(),JSON.stringify(e))}N.lastModified&&!fP(k,N.lastModified)||Object.keys(N.icons).length&&(N.not_found&&(N=Object.assign({},N),delete N.not_found),Q("local")||Q("session"))}function Ub(){}function pP(k){k.iconsLoaderFlag||(k.iconsLoaderFlag=!0,setTimeout(()=>{k.iconsLoaderFlag=!1,eP(k)}))}function dP(k,N){k.iconsToLoad?k.iconsToLoad=k.iconsToLoad.concat(N).sort():k.iconsToLoad=N,k.iconsQueueFlag||(k.iconsQueueFlag=!0,setTimeout(()=>{k.iconsQueueFlag=!1;const{provider:Q,prefix:oe}=k,he=k.iconsToLoad;delete k.iconsToLoad;let O;if(!he||!(O=Rm(Q)))return;O.prepare(Q,oe,he).forEach(e=>{sP(Q,e,v=>{if(typeof v!="object")e.icons.forEach(x=>{k.missing.add(x)});else try{const x=Iy(k,v);if(!x.length)return;const t=k.pendingIcons;t&&x.forEach(b=>{t.delete(b)}),hP(k,v)}catch(x){console.error(x)}pP(k)})})}))}const gP=(k,N)=>{const Q=rP(k,!0,Q3()),oe=QC(Q);if(!oe.pending.length){let v=!0;return N&&setTimeout(()=>{v&&N(oe.loaded,oe.missing,oe.pending,Ub)}),()=>{v=!1}}const he=Object.create(null),O=[];let S,e;return oe.pending.forEach(v=>{const{provider:x,prefix:t}=v;if(t===e&&x===S)return;S=x,e=t,O.push(Bf(x,t));const b=he[x]||(he[x]=Object.create(null));b[t]||(b[t]=[])}),oe.pending.forEach(v=>{const{provider:x,prefix:t,name:b}=v,g=Bf(x,t),c=g.pendingIcons||(g.pendingIcons=new Set);c.has(b)||(c.add(b),he[x][t].push(b))}),O.forEach(v=>{const{provider:x,prefix:t}=v;he[x][t].length&&dP(v,he[x][t])}),N?nP(N,oe,O):Ub},vP=k=>new Promise((N,Q)=>{const oe=typeof k=="string"?_g(k,!0):k;if(!oe){Q(k);return}gP([oe||k],he=>{if(he.length&&oe){const O=jC(oe);if(O){N({...Oy,...O});return}}Q(k)})});({...qC});const Vb={backgroundColor:"currentColor"},mP={backgroundColor:"transparent"},Hb={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},qb={webkitMask:Vb,mask:Vb,background:mP};for(const k in qb){const N=qb[k];for(const Q in Hb)N[k+Q]=Hb[Q]}const Dv={};["horizontal","vertical"].forEach(k=>{const N=k.slice(0,1)+"Flip";Dv[k+"-flip"]=N,Dv[k.slice(0,1)+"-flip"]=N,Dv[k+"Flip"]=N});Q3(!0);GC("",JC);if(typeof document<"u"&&typeof window<"u"){s4();const k=window;if(k.IconifyPreload!==void 0){const N=k.IconifyPreload,Q="Invalid IconifyPreload syntax.";typeof N=="object"&&N!==null&&(N instanceof Array?N:[N]).forEach(oe=>{try{(typeof oe!="object"||oe===null||oe instanceof Array||typeof oe.icons!="object"||typeof oe.prefix!="string"||!VC(oe))&&console.error(Q)}catch{console.error(Q)}})}if(k.IconifyProviders!==void 0){const N=k.IconifyProviders;if(typeof N=="object"&&N!==null)for(let Q in N){const oe="IconifyProviders["+Q+"] is invalid.";try{const he=N[Q];if(typeof he!="object"||!he||he.resources===void 0)continue;Dm(Q,he)||console.error(oe)}catch{console.error(oe)}}}}({...Oy});const yP=["fluent-emoji-high-contrast","material-symbols-light","cryptocurrency-color","icon-park-outline","icon-park-twotone","fluent-emoji-flat","emojione-monotone","streamline-emojis","heroicons-outline","simple-line-icons","material-symbols","flat-color-icons","icon-park-solid","pepicons-pencil","heroicons-solid","pepicons-print","cryptocurrency","pixelarticons","system-uicons","bitcoin-icons","devicon-plain","entypo-social","token-branded","grommet-icons","vscode-icons","pepicons-pop","svg-spinners","fluent-emoji","simple-icons","circle-flags","medical-icon","icomoon-free","majesticons","radix-icons","humbleicons","fa6-regular","emojione-v1","skill-icons","academicons","healthicons","fluent-mdl2","teenyicons","ant-design","gravity-ui","akar-icons","lets-icons","streamline","fa6-brands","file-icons","game-icons","foundation","fa-regular","mono-icons","hugeicons","iconamoon","zondicons","mdi-light","eos-icons","gridicons","icon-park","heroicons","fa6-solid","meteocons","arcticons","dashicons","fa-brands","websymbol","fontelico","mingcute","flowbite","marketeq","bytesize","guidance","openmoji","emojione","nonicons","brandico","flagpack","fa-solid","fontisto","si-glyph","pepicons","iconoir","tdesign","clarity","octicon","codicon","pajamas","formkit","line-md","twemoji","noto-v1","fxemoji","devicon","raphael","flat-ui","topcoat","feather","tabler","carbon","lucide","memory","mynaui","circum","fluent","nimbus","entypo","icons8","subway","vaadin","solar","basil","typcn","charm","prime","quill","logos","token","covid","maki","gala","mage","ooui","noto","unjs","flag","iwwa","zmdi","bpmn","mdi","ion","uil","bxs","cil","uiw","uim","uit","uis","jam","oui","bxl","cib","cbi","cif","gis","map","geo","fad","eva","wpf","whh","ic","ph","ri","bi","bx","gg","ci","ep","fe","mi","f7","ei","wi","la","fa","oi","et","el","ls","vs","il","ps"];function xP(k=""){let N,Q="";if(k[0]==="@"&&k.includes(":")&&(Q=k.split(":")[0].slice(1),k=k.split(":").slice(1).join(":")),k.startsWith("i-")){k=k.replace(/^i-/,"");for(const oe of yP)if(k.startsWith(oe)){N=oe,k=k.slice(oe.length+1);break}}else if(k.includes(":")){const[oe,he]=k.split(":");N=oe,k=he}return{provider:Q,prefix:N||"",name:k||""}}const bP=Kr({__name:"Icon",props:{name:{type:String,required:!0},size:{type:String,default:""}},async setup(k){let N,Q;const oe=Yi(),he=Ko(),O=k;na(()=>{var i;return(i=he.nuxtIcon)==null?void 0:i.iconifyApiOptions},()=>{var i,a,r,o,l,u;if((a=(i=he.nuxtIcon)==null?void 0:i.iconifyApiOptions)!=null&&a.url){try{new URL(he.nuxtIcon.iconifyApiOptions.url)}catch{console.warn("Nuxt Icon: Invalid custom Iconify API URL");return}if((o=(r=he.nuxtIcon)==null?void 0:r.iconifyApiOptions)!=null&&o.publicApiFallback){Dm("custom",{resources:[(l=he.nuxtIcon)==null?void 0:l.iconifyApiOptions.url],index:0});return}Dm("",{resources:[(u=he.nuxtIcon)==null?void 0:u.iconifyApiOptions.url]})}},{immediate:!0});const S=jh("icons",()=>({})),e=wr(!1),v=cr(()=>{var i,a;return(a=(i=he.nuxtIcon)==null?void 0:i.aliases)!=null&&a[O.name]?he.nuxtIcon.aliases[O.name]:O.name}),x=cr(()=>xP(v.value)),t=cr(()=>[x.value.provider,x.value.prefix,x.value.name].filter(Boolean).join(":")),b=cr(()=>{var i;return(i=S.value)==null?void 0:i[t.value]}),g=cr(()=>{var i;return(i=oe.vueApp)==null?void 0:i.component(v.value)}),c=cr(()=>{var a,r,o;if(!O.size&&typeof((a=he.nuxtIcon)==null?void 0:a.size)=="boolean"&&!((r=he.nuxtIcon)!=null&&r.size))return;const i=O.size||((o=he.nuxtIcon)==null?void 0:o.size)||"1em";return String(Number(i))===i?`${i}px`:i}),s=cr(()=>{var i;return((i=he==null?void 0:he.nuxtIcon)==null?void 0:i.class)??"icon"});async function n(){var i;g.value||(i=S.value)!=null&&i[t.value]||(e.value=!0,S.value[t.value]=await vP(x.value).catch(()=>{}),e.value=!1)}return na(v,n),!g.value&&([N,Q]=fy(()=>n()),N=await N,Q()),(i,a)=>e.value?(pr(),Wr("span",{key:0,class:Cr(s.value),style:Kc({width:c.value,height:c.value})},null,6)):b.value?(pr(),ti(Fn(IC),{key:1,icon:b.value,class:Cr(s.value),width:c.value,height:c.value},null,8,["icon","class","width","height"])):g.value?(pr(),ti(ad(g.value),{key:2,class:Cr(s.value),width:c.value,height:c.value},null,8,["class","width","height"])):(pr(),Wr("span",{key:3,class:Cr(s.value),style:Kc({fontSize:c.value,lineHeight:c.value,width:c.value,height:c.value})},[fi(i.$slots,"default",{},()=>[To(wa(k.name),1)],!0)],6))}}),l4=Ps(bP,[["__scopeId","data-v-e8d572f6"]]),_P=Object.freeze(Object.defineProperty({__proto__:null,default:l4},Symbol.toStringTag,{value:"Module"})),wP=Kr({props:{name:{type:String,required:!0},dynamic:{type:Boolean,default:!1}},setup(k){const N=Ko();return{dynamic:cr(()=>{var oe,he;return k.dynamic||((he=(oe=N.ui)==null?void 0:oe.icons)==null?void 0:he.dynamic)})}}});function TP(k,N,Q,oe,he,O){const S=l4;return k.dynamic?(pr(),ti(S,{key:0,name:k.name},null,8,["name"])):(pr(),Wr("span",{key:1,class:Cr(k.name)},null,2))}const Os=Ps(wP,[["render",TP]]),kP=Object.freeze(Object.defineProperty({__proto__:null,default:Os},Symbol.toStringTag,{value:"Module"}));async function u4(k,N=rl()){const{path:Q,matched:oe}=N.resolve(k);if(!oe.length||(N._routePreloaded||(N._routePreloaded=new Set),N._routePreloaded.has(Q)))return;const he=N._preloadPromises=N._preloadPromises||[];if(he.length>4)return Promise.all(he).then(()=>u4(k,N));N._routePreloaded.add(Q);const O=oe.map(S=>{var e;return(e=S.components)==null?void 0:e.default}).filter(S=>typeof S=="function");for(const S of O){const e=Promise.resolve(S()).catch(()=>{}).finally(()=>he.splice(he.indexOf(e)));he.push(e)}await Promise.all(he)}const AP=(...k)=>k.find(N=>N!==void 0);function MP(k){const N=k.componentName||"NuxtLink";function Q(he,O){if(!he||k.trailingSlash!=="append"&&k.trailingSlash!=="remove")return he;if(typeof he=="string")return Gb(he,k.trailingSlash);const S="path"in he&&he.path!==void 0?he.path:O(he).path;return{...he,name:void 0,path:Gb(S,k.trailingSlash)}}function oe(he){const O=rl(),S=wu(),e=cr(()=>!!he.target&&he.target!=="_self"),v=cr(()=>{const n=he.to||he.href||"";return typeof n=="string"&&mc(n,{acceptRelative:!0})}),x=fc("RouterLink"),t=x&&typeof x!="string"?x.useLink:void 0,b=cr(()=>{if(he.external)return!0;const n=he.to||he.href||"";return typeof n=="object"?!1:n===""||v.value}),g=cr(()=>{const n=he.to||he.href||"";return b.value?n:Q(n,O.resolve)}),c=b.value||t==null?void 0:t({...he,to:g}),s=cr(()=>{var n;if(!g.value||v.value)return g.value;if(b.value){const i=typeof g.value=="object"?Wb(g.value):g.value;return Q(i,O.resolve)}return typeof g.value=="object"?((n=O.resolve(g.value))==null?void 0:n.href)??null:Q(cd(S.app.baseURL,g.value),O.resolve)});return{to:g,hasTarget:e,isAbsoluteUrl:v,isExternal:b,href:s,isActive:(c==null?void 0:c.isActive)??cr(()=>g.value===O.currentRoute.value.path),isExactActive:(c==null?void 0:c.isExactActive)??cr(()=>g.value===O.currentRoute.value.path),route:(c==null?void 0:c.route)??cr(()=>O.resolve(g.value)),async navigate(){await fM(s.value,{replace:he.replace,external:b.value||e.value})}}}return Kr({name:N,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1}},useLink:oe,setup(he,{slots:O}){const S=rl(),{to:e,href:v,navigate:x,isExternal:t,hasTarget:b,isAbsoluteUrl:g}=oe(he),c=wr(!1),s=wr(null),n=i=>{var a;s.value=he.custom?(a=i==null?void 0:i.$el)==null?void 0:a.nextElementSibling:i==null?void 0:i.$el};if(he.prefetch!==!1&&he.noPrefetch!==!0&&he.target!=="_blank"&&!EP()){const a=Yi();let r,o=null;la(()=>{const l=SP();Ly(()=>{r=Sm(()=>{var u;(u=s==null?void 0:s.value)!=null&&u.tagName&&(o=l.observe(s.value,async()=>{o==null||o(),o=null;const h=typeof e.value=="string"?e.value:t.value?Wb(e.value):S.resolve(e.value).fullPath;await Promise.all([a.hooks.callHook("link:prefetch",h).catch(()=>{}),!t.value&&!b.value&&u4(e.value,S).catch(()=>{})]),c.value=!0}))})})}),od(()=>{r&&I7(r),o==null||o(),o=null})}return()=>{var r;if(!t.value&&!b.value){const o={ref:n,to:e.value,activeClass:he.activeClass||k.activeClass,exactActiveClass:he.exactActiveClass||k.exactActiveClass,replace:he.replace,ariaCurrentValue:he.ariaCurrentValue,custom:he.custom};return he.custom||(c.value&&(o.class=he.prefetchedClass||k.prefetchedClass),o.rel=he.rel||void 0),hi(fc("RouterLink"),o,O.default)}const i=he.target||null,a=AP(he.noRel?"":he.rel,k.externalRelAttribute,g.value||b.value?"noopener noreferrer":"")||null;return he.custom?O.default?O.default({href:v.value,navigate:x,get route(){if(!v.value)return;const o=new URL(v.value,window.location.href);return{path:o.pathname,fullPath:o.pathname,get query(){return Dw(o.search)},hash:o.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:v.value}},rel:a,target:i,isExternal:t.value||b.value,isActive:!1,isExactActive:!1}):null:hi("a",{ref:s,href:v.value||null,rel:a,target:i},(r=O.default)==null?void 0:r.call(O))}}})}const c4=MP(CA);function Gb(k,N){const Q=N==="append"?Z0:ud;return mc(k)&&!k.startsWith("http")?k:Q(k,!0)}function SP(){const k=Yi();if(k._observer)return k._observer;let N=null;const Q=new Map,oe=(O,S)=>(N||(N=new IntersectionObserver(e=>{for(const v of e){const x=Q.get(v.target);(v.isIntersecting||v.intersectionRatio>0)&&x&&x()}})),Q.set(O,S),N.observe(O),()=>{Q.delete(O),N.unobserve(O),Q.size===0&&(N.disconnect(),N=null)});return k._observer={observe:oe}}function EP(){const k=navigator.connection;return!!(k&&(k.saveData||/2g/.test(k.effectiveType)))}function Wb(k){return my(k.path||"",k.query||{})+(k.hash?"#"+k.hash:"")}const LP=Kr({inheritAttrs:!1,props:{...bg,as:{type:String,default:"button"},type:{type:String,default:"button"},disabled:{type:Boolean,default:null},active:{type:Boolean,default:void 0},exact:{type:Boolean,default:!1},exactQuery:{type:Boolean,default:!1},exactHash:{type:Boolean,default:!1},inactiveClass:{type:String,default:void 0}},setup(k){function N(Q,oe,{isActive:he,isExactActive:O}){return k.exactQuery&&!$w(Q.query,oe.query)||k.exactHash&&Q.hash!==oe.hash?k.inactiveClass:k.exact&&O||!k.exact&&he?k.activeClass:k.inactiveClass}return{resolveLinkClass:N}}}),CP=["href","aria-disabled","role","rel","target","onClick"];function PP(k,N,Q,oe,he,O){const S=c4;return k.to?(pr(),ti(S,ii({key:1},k.$props,{custom:""}),{default:Yr(({route:e,href:v,target:x,rel:t,navigate:b,isActive:g,isExactActive:c,isExternal:s})=>[jr("a",ii(k.$attrs,{href:k.disabled?void 0:v,"aria-disabled":k.disabled?"true":void 0,role:k.disabled?"link":void 0,rel:t,target:x,class:k.active!==void 0?k.active?k.activeClass:k.inactiveClass:k.resolveLinkClass(e,k._.provides[Nh]||k.$route,{isActive:g,isExactActive:c}),onClick:n=>!s&&!k.disabled&&b(n)}),[fi(k.$slots,"default",Gx(tm({isActive:k.active!==void 0?k.active:k.exact?c:g})))],16,CP)]),_:3},16)):(pr(),ti(ad(k.as),ii({key:0,type:k.type,disabled:k.disabled},k.$attrs,{class:k.active?k.activeClass:k.inactiveClass}),{default:Yr(()=>[fi(k.$slots,"default",Gx(tm({isActive:k.active})))]),_:3},16,["type","disabled","class"]))}const rf=Ps(LP,[["render",PP]]),ac=Tu(Ia.ui.strategy,Ia.ui.button,H3),OP=Kr({components:{UIcon:Os,ULink:rf},inheritAttrs:!1,props:{...bg,type:{type:String,default:"button"},block:{type:Boolean,default:!1},label:{type:String,default:null},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:()=>ac.default.size,validator(k){return Object.keys(ac.size).includes(k)}},color:{type:String,default:()=>ac.default.color,validator(k){return[...Ia.ui.colors,...Object.keys(ac.color)].includes(k)}},variant:{type:String,default:()=>ac.default.variant,validator(k){return[...Object.keys(ac.variant),...Object.values(ac.color).flatMap(N=>Object.keys(N))].includes(k)}},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>ac.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:null},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},square:{type:Boolean,default:!1},truncate:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(k,{slots:N}){const{ui:Q,attrs:oe}=io("button",Ai(k,"ui"),ac),{size:he,rounded:O}=V3({ui:Q,props:k}),S=cr(()=>k.icon&&k.leading||k.icon&&!k.trailing||k.loading&&!k.trailing||k.leadingIcon),e=cr(()=>k.icon&&k.trailing||k.loading&&k.trailing||k.trailingIcon),v=cr(()=>k.square||!N.default&&!k.label),x=cr(()=>{var i,a;const n=((a=(i=Q.value.color)==null?void 0:i[k.color])==null?void 0:a[k.variant])||Q.value.variant[k.variant];return Jl(Xo(Q.value.base,Q.value.font,O.value,Q.value.size[he.value],Q.value.gap[he.value],k.padded&&Q.value[v.value?"square":"padding"][he.value],n==null?void 0:n.replaceAll("{color}",k.color),k.block?Q.value.block:Q.value.inline),k.class)}),t=cr(()=>k.loading?k.loadingIcon:k.leadingIcon||k.icon),b=cr(()=>k.loading&&!S.value?k.loadingIcon:k.trailingIcon||k.icon),g=cr(()=>Xo(Q.value.icon.base,Q.value.icon.size[he.value],k.loading&&Q.value.icon.loading)),c=cr(()=>Xo(Q.value.icon.base,Q.value.icon.size[he.value],k.loading&&!S.value&&Q.value.icon.loading)),s=cr(()=>nL(k));return{ui:Q,attrs:oe,isLeading:S,isTrailing:e,isSquare:v,buttonClass:x,leadingIconName:t,trailingIconName:b,leadingIconClass:g,trailingIconClass:c,linkProps:s}}});function IP(k,N,Q,oe,he,O){const S=Os,e=rf;return pr(),ti(e,ii({type:k.type,disabled:k.disabled||k.loading,class:k.buttonClass},{...k.linkProps,...k.attrs}),{default:Yr(()=>[fi(k.$slots,"leading",{disabled:k.disabled,loading:k.loading},()=>[k.isLeading&&k.leadingIconName?(pr(),ti(S,{key:0,name:k.leadingIconName,class:Cr(k.leadingIconClass),"aria-hidden":"true"},null,8,["name","class"])):li("",!0)]),fi(k.$slots,"default",{},()=>[k.label?(pr(),Wr("span",{key:0,class:Cr([k.truncate?k.ui.truncate:""])},wa(k.label),3)):li("",!0)]),fi(k.$slots,"trailing",{disabled:k.disabled,loading:k.loading},()=>[k.isTrailing&&k.trailingIconName?(pr(),ti(S,{key:0,name:k.trailingIconName,class:Cr(k.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])):li("",!0)])]),_:3},16,["type","disabled","class"])}const ku=Ps(OP,[["render",IP]]),RP=Object.freeze(Object.defineProperty({__proto__:null,default:ku},Symbol.toStringTag,{value:"Module"})),DP=()=>{const k=pc(),N=wr(!1),Q=wr(!1),oe=wr(!1),he=wr(!1);function O(){if(N.value){N.value=!1,setTimeout(()=>{Q.value=!Q.value},0);return}Q.value=!Q.value}function S(){if(oe.value){oe.value=!1,setTimeout(()=>{he.value=!he.value},200);return}he.value=!he.value}return na(()=>k.path,()=>{oe.value=!1}),{isHeaderDialogOpen:N,isContentSearchModalOpen:Q,isDashboardSidebarSlidoverOpen:oe,isDashboardSearchModalOpen:he,toggleContentSearch:O,toggleDashboardSearch:S}},f4=I3(DP),zP=()=>{const k=cr(()=>navigator&&navigator.userAgent&&navigator.userAgent.match(/Macintosh;/)),N=wr(" "),Q=fE(),oe=cr(()=>{var e,v,x;const he=(e=Q.value)==null?void 0:e.tagName,O=(v=Q.value)==null?void 0:v.contentEditable;return he==="INPUT"||he==="TEXTAREA"||O==="true"||O==="plaintext-only"?((x=Q.value)==null?void 0:x.name)||!0:!1});return la(()=>{N.value=k.value?"":"Ctrl"}),{macOS:k,metaSymbol:N,activeElement:Q,usingInput:oe}},FP=I3(zP),BP={class:"hidden lg:flex items-center gap-0.5 ml-auto -my-1 flex-shrink-0"},NP=Kr({__name:"ContentSearchButton",props:{label:{type:String,default:"Search..."}},setup(k){const N=Ko(),{toggleContentSearch:Q}=f4(),{metaSymbol:oe}=FP();return(he,O)=>{var v,x,t,b;const S=uC,e=ku;return pr(),ti(e,ii({icon:Fn(N).ui.icons.search,label:k.label,truncate:""},k.label?(x=(v=he.$ui)==null?void 0:v.button)==null?void 0:x.input:(b=(t=he.$ui)==null?void 0:t.button)==null?void 0:b.secondary,{"aria-label":"Search",class:[!!k.label&&"flex-1"],onClick:Fn(Q)}),hg({_:2},[k.label?{name:"trailing",fn:Yr(()=>[jr("div",BP,[Rr(S,null,{default:Yr(()=>[To(wa(Fn(oe)),1)]),_:1}),Rr(S,null,{default:Yr(()=>[To(" K ")]),_:1})])]),key:"0"}:void 0]),1040,["icon","label","class","onClick"])}}}),h4=Symbol.for("nuxt:client-only"),Ny=Kr({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(k,{slots:N,attrs:Q}){const oe=wr(!1);return la(()=>{oe.value=!0}),Ta(h4,!0),he=>{var v;if(oe.value)return(v=N.default)==null?void 0:v.call(N);const O=N.fallback||N.placeholder;if(O)return O();const S=he.fallback||he.placeholder||"",e=he.fallbackTag||he.placeholderTag||"span";return Wr(e,Q,S)}}}),zv=new WeakMap;function OD(k){if(zv.has(k))return zv.get(k);const N={...k};return N.render?N.render=(Q,oe,he,O,S,e)=>{var v;if(O.mounted$??Q.mounted$){const x=(v=k.render)==null?void 0:v.bind(Q)(Q,oe,he,O,S,e);return x.children===null||typeof x.children=="string"?Xl(x):hi(x)}else{const x=yb(Q._.vnode.el??null)??["<div></div>"];return nm(x.join(""),x.length)}}:N.template&&(N.template=`
      <template v-if="mounted$">${k.template}</template>
      <template v-else><div></div></template>
    `),N.setup=(Q,oe)=>{var v;const he=Ml(),O={...he.attrs},S=jP(he);for(const x in O)delete he.attrs[x];const e=wr(!1);return la(()=>{Object.assign(he.attrs,O),he.vnode.dirs=S,e.value=!0}),Promise.resolve(((v=k.setup)==null?void 0:v.call(k,Q,oe))||{}).then(x=>typeof x!="function"?(x=x||{},x.mounted$=e,x):(...t)=>{if(e.value){const b=x(...t);return b.children===null||typeof b.children=="string"?Xl(b):hi(b)}else{const b=yb((he==null?void 0:he.vnode.el)??null)??["<div></div>"];return nm(b.join(""),b.length)}})},zv.set(k,N),N}function jP(k){if(!k||!k.vnode.dirs)return null;const N=k.vnode.dirs;return k.vnode.dirs=null,N}const UP=()=>jh("color-mode").value,VP=jr("div",{class:"w-8 h-8"},null,-1),p4=Kr({inheritAttrs:!1,__name:"ColorModeButton",setup(k){const N=UP(),Q=Ko(),oe=cr({get(){return N.value==="dark"},set(){N.preference=N.value==="dark"?"light":"dark"}});return(he,O)=>{var v;const S=ku,e=Ny;return(v=Fn(N))!=null&&v.forced?li("",!0):(pr(),ti(e,{key:0},{fallback:Yr(()=>[VP]),default:Yr(()=>{var x,t;return[Rr(S,ii({icon:Fn(oe)?Fn(Q).ui.icons.dark:Fn(Q).ui.icons.light},{...(t=(x=he.$ui)==null?void 0:x.button)==null?void 0:t.secondary,...he.$attrs},{"aria-label":`Switch to ${Fn(oe)?"light":"dark"} mode`,onClick:O[0]||(O[0]=b=>oe.value=!Fn(oe))}),null,16,["icon","aria-label"])]}),_:1}))}}}),HP="data-n-ids",qP="-";function jy(k){var he,O,S,e,v,x;if(typeof k!="string")throw new TypeError("[nuxt] [useId] key must be a string.");k=`n${k.slice(1)}`;const N=Yi(),Q=Ml();if(!Q)throw new TypeError("[nuxt] `useId` must be called within a component setup function.");N._id||(N._id=0),Q._nuxtIdIndex||(Q._nuxtIdIndex={}),(he=Q._nuxtIdIndex)[k]||(he[k]=0);const oe=k+qP+Q._nuxtIdIndex[k]++;if(N.payload.serverRendered&&N.isHydrating&&!Oi(h4,!1)){const t=((O=Q.vnode.el)==null?void 0:O.nodeType)===8&&((e=(S=Q.vnode.el)==null?void 0:S.nextElementSibling)!=null&&e.getAttribute)?(v=Q.vnode.el)==null?void 0:v.nextElementSibling:Q.vnode.el,b=JSON.parse(((x=t==null?void 0:t.getAttribute)==null?void 0:x.call(t,HP))||"{}");if(b[oe])return b[oe]}return k+"_"+N._id++}function Uy(k){typeof queueMicrotask=="function"?queueMicrotask(k):Promise.resolve().then(k).catch(N=>setTimeout(()=>{throw N}))}function dd(){let k=[],N={addEventListener(Q,oe,he,O){return Q.addEventListener(oe,he,O),N.add(()=>Q.removeEventListener(oe,he,O))},requestAnimationFrame(...Q){let oe=requestAnimationFrame(...Q);N.add(()=>cancelAnimationFrame(oe))},nextFrame(...Q){N.requestAnimationFrame(()=>{N.requestAnimationFrame(...Q)})},setTimeout(...Q){let oe=setTimeout(...Q);N.add(()=>clearTimeout(oe))},microTask(...Q){let oe={current:!0};return Uy(()=>{oe.current&&Q[0]()}),N.add(()=>{oe.current=!1})},style(Q,oe,he){let O=Q.style.getPropertyValue(oe);return Object.assign(Q.style,{[oe]:he}),this.add(()=>{Object.assign(Q.style,{[oe]:O})})},group(Q){let oe=dd();return Q(oe),this.add(()=>oe.dispose())},add(Q){return k.push(Q),()=>{let oe=k.indexOf(Q);if(oe>=0)for(let he of k.splice(oe,1))he()}},dispose(){for(let Q of k.splice(0))Q()}};return N}let d4=Symbol("headlessui.useid"),GP=0;function Uu(){return Oi(d4,()=>`${++GP}`)()}function Vy(k){Ta(d4,k)}function Vr(k){var N;if(k==null||k.value==null)return null;let Q=(N=k.value.$el)!=null?N:k.value;return Q instanceof Node?Q:null}function Do(k,N,...Q){if(k in N){let he=N[k];return typeof he=="function"?he(...Q):he}let oe=new Error(`Tried to handle "${k}" but there is no handler defined. Only defined handlers are: ${Object.keys(N).map(he=>`"${he}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(oe,Do),oe}var WP=Object.defineProperty,YP=(k,N,Q)=>N in k?WP(k,N,{enumerable:!0,configurable:!0,writable:!0,value:Q}):k[N]=Q,Yb=(k,N,Q)=>(YP(k,typeof N!="symbol"?N+"":N,Q),Q);let $P=class{constructor(){Yb(this,"current",this.detect()),Yb(this,"currentId",0)}set(N){this.current!==N&&(this.currentId=0,this.current=N)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},gd=new $P;function Gu(k){if(gd.isServer)return null;if(k instanceof Node)return k.ownerDocument;if(k!=null&&k.hasOwnProperty("value")){let N=Vr(k);if(N)return N.ownerDocument}return document}let Nm=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(k=>`${k}:not([tabindex='-1'])`).join(",");var ps=(k=>(k[k.First=1]="First",k[k.Previous=2]="Previous",k[k.Next=4]="Next",k[k.Last=8]="Last",k[k.WrapAround=16]="WrapAround",k[k.NoScroll=32]="NoScroll",k))(ps||{}),td=(k=>(k[k.Error=0]="Error",k[k.Overflow=1]="Overflow",k[k.Success=2]="Success",k[k.Underflow=3]="Underflow",k))(td||{}),ZP=(k=>(k[k.Previous=-1]="Previous",k[k.Next=1]="Next",k))(ZP||{});function vd(k=document.body){return k==null?[]:Array.from(k.querySelectorAll(Nm)).sort((N,Q)=>Math.sign((N.tabIndex||Number.MAX_SAFE_INTEGER)-(Q.tabIndex||Number.MAX_SAFE_INTEGER)))}var Hy=(k=>(k[k.Strict=0]="Strict",k[k.Loose=1]="Loose",k))(Hy||{});function qy(k,N=0){var Q;return k===((Q=Gu(k))==null?void 0:Q.body)?!1:Do(N,{0(){return k.matches(Nm)},1(){let oe=k;for(;oe!==null;){if(oe.matches(Nm))return!0;oe=oe.parentElement}return!1}})}function RD(k){let N=Gu(k);gc(()=>{N&&!qy(N.activeElement,0)&&Zc(k)})}var XP=(k=>(k[k.Keyboard=0]="Keyboard",k[k.Mouse=1]="Mouse",k))(XP||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",k=>{k.metaKey||k.altKey||k.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",k=>{k.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:k.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Zc(k){k==null||k.focus({preventScroll:!0})}let KP=["textarea","input"].join(",");function JP(k){var N,Q;return(Q=(N=k==null?void 0:k.matches)==null?void 0:N.call(k,KP))!=null?Q:!1}function QP(k,N=Q=>Q){return k.slice().sort((Q,oe)=>{let he=N(Q),O=N(oe);if(he===null||O===null)return 0;let S=he.compareDocumentPosition(O);return S&Node.DOCUMENT_POSITION_FOLLOWING?-1:S&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function DD(k,N){return Yl(vd(),N,{relativeTo:k})}function Yl(k,N,{sorted:Q=!0,relativeTo:oe=null,skipElements:he=[]}={}){var O;let S=(O=Array.isArray(k)?k.length>0?k[0].ownerDocument:document:k==null?void 0:k.ownerDocument)!=null?O:document,e=Array.isArray(k)?Q?QP(k):k:vd(k);he.length>0&&e.length>1&&(e=e.filter(s=>!he.includes(s))),oe=oe??S.activeElement;let v=(()=>{if(N&5)return 1;if(N&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),x=(()=>{if(N&1)return 0;if(N&2)return Math.max(0,e.indexOf(oe))-1;if(N&4)return Math.max(0,e.indexOf(oe))+1;if(N&8)return e.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),t=N&32?{preventScroll:!0}:{},b=0,g=e.length,c;do{if(b>=g||b+g<=0)return 0;let s=x+b;if(N&16)s=(s+g)%g;else{if(s<0)return 3;if(s>=g)return 1}c=e[s],c==null||c.focus(t),b+=v}while(c!==S.activeElement);return N&6&&JP(c)&&c.select(),2}function g4(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function eO(){return/Android/gi.test(window.navigator.userAgent)}function tO(){return g4()||eO()}function T0(k,N,Q){gd.isServer||fo(oe=>{document.addEventListener(k,N,Q),oe(()=>document.removeEventListener(k,N,Q))})}function v4(k,N,Q){gd.isServer||fo(oe=>{window.addEventListener(k,N,Q),oe(()=>window.removeEventListener(k,N,Q))})}function m4(k,N,Q=cr(()=>!0)){function oe(O,S){if(!Q.value||O.defaultPrevented)return;let e=S(O);if(e===null||!e.getRootNode().contains(e))return;let v=function x(t){return typeof t=="function"?x(t()):Array.isArray(t)||t instanceof Set?t:[t]}(k);for(let x of v){if(x===null)continue;let t=x instanceof HTMLElement?x:Vr(x);if(t!=null&&t.contains(e)||O.composed&&O.composedPath().includes(t))return}return!qy(e,Hy.Loose)&&e.tabIndex!==-1&&O.preventDefault(),N(O,e)}let he=wr(null);T0("pointerdown",O=>{var S,e;Q.value&&(he.value=((e=(S=O.composedPath)==null?void 0:S.call(O))==null?void 0:e[0])||O.target)},!0),T0("mousedown",O=>{var S,e;Q.value&&(he.value=((e=(S=O.composedPath)==null?void 0:S.call(O))==null?void 0:e[0])||O.target)},!0),T0("click",O=>{tO()||he.value&&(oe(O,()=>he.value),he.value=null)},!0),T0("touchend",O=>oe(O,()=>O.target instanceof HTMLElement?O.target:null),!0),v4("blur",O=>oe(O,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function $b(k,N){if(k)return k;let Q=N??"button";if(typeof Q=="string"&&Q.toLowerCase()==="button")return"button"}function y4(k,N){let Q=wr($b(k.value.type,k.value.as));return la(()=>{Q.value=$b(k.value.type,k.value.as)}),fo(()=>{var oe;Q.value||Vr(N)&&Vr(N)instanceof HTMLButtonElement&&!((oe=Vr(N))!=null&&oe.hasAttribute("type"))&&(Q.value="button")}),Q}var ef=(k=>(k[k.None=0]="None",k[k.RenderStrategy=1]="RenderStrategy",k[k.Static=2]="Static",k))(ef||{}),Gc=(k=>(k[k.Unmount=0]="Unmount",k[k.Hidden=1]="Hidden",k))(Gc||{});function Is({visible:k=!0,features:N=0,ourProps:Q,theirProps:oe,...he}){var O;let S=b4(oe,Q),e=Object.assign(he,{props:S});if(k||N&2&&S.static)return Fv(e);if(N&1){let v=(O=S.unmount)==null||O?0:1;return Do(v,{0(){return null},1(){return Fv({...he,props:{...S,hidden:!0,style:{display:"none"}}})}})}return Fv(e)}function Fv({props:k,attrs:N,slots:Q,slot:oe,name:he}){var O,S;let{as:e,...v}=_4(k,["unmount","static"]),x=(O=Q.default)==null?void 0:O.call(Q,oe),t={};if(oe){let b=!1,g=[];for(let[c,s]of Object.entries(oe))typeof s=="boolean"&&(b=!0),s===!0&&g.push(c);b&&(t["data-headlessui-state"]=g.join(" "))}if(e==="template"){if(x=x4(x??[]),Object.keys(v).length>0||Object.keys(N).length>0){let[b,...g]=x??[];if(!nO(b)||g.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${he} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(v).concat(Object.keys(N)).map(n=>n.trim()).filter((n,i,a)=>a.indexOf(n)===i).sort((n,i)=>n.localeCompare(i)).map(n=>`  - ${n}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(n=>`  - ${n}`).join(`
`)].join(`
`));let c=b4((S=b.props)!=null?S:{},v,t),s=Xl(b,c,!0);for(let n in c)n.startsWith("on")&&(s.props||(s.props={}),s.props[n]=c[n]);return s}return Array.isArray(x)&&x.length===1?x[0]:x}return hi(e,Object.assign({},v,t),{default:()=>x})}function x4(k){return k.flatMap(N=>N.type===ki?x4(N.children):[N])}function b4(...k){if(k.length===0)return{};if(k.length===1)return k[0];let N={},Q={};for(let oe of k)for(let he in oe)he.startsWith("on")&&typeof oe[he]=="function"?(Q[he]!=null||(Q[he]=[]),Q[he].push(oe[he])):N[he]=oe[he];if(N.disabled||N["aria-disabled"])return Object.assign(N,Object.fromEntries(Object.keys(Q).map(oe=>[oe,void 0])));for(let oe in Q)Object.assign(N,{[oe](he,...O){let S=Q[oe];for(let e of S){if(he instanceof Event&&he.defaultPrevented)return;e(he,...O)}}});return N}function zD(k){let N=Object.assign({},k);for(let Q in N)N[Q]===void 0&&delete N[Q];return N}function _4(k,N=[]){let Q=Object.assign({},k);for(let oe of N)oe in Q&&delete Q[oe];return Q}function nO(k){return k==null?!1:typeof k.type=="string"||typeof k.type=="object"||typeof k.type=="function"}var Nf=(k=>(k[k.None=1]="None",k[k.Focusable=2]="Focusable",k[k.Hidden=4]="Hidden",k))(Nf||{});let Ih=Kr({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(k,{slots:N,attrs:Q}){return()=>{var oe;let{features:he,...O}=k,S={"aria-hidden":(he&2)===2?!0:(oe=O["aria-hidden"])!=null?oe:void 0,hidden:(he&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(he&4)===4&&(he&2)!==2&&{display:"none"}}};return Is({ourProps:S,theirProps:O,slot:{},attrs:Q,slots:N,name:"Hidden"})}}}),w4=Symbol("Context");var ro=(k=>(k[k.Open=1]="Open",k[k.Closed=2]="Closed",k[k.Closing=4]="Closing",k[k.Opening=8]="Opening",k))(ro||{});function rO(){return md()!==null}function md(){return Oi(w4,null)}function Gy(k){Ta(w4,k)}var el=(k=>(k.Space=" ",k.Enter="Enter",k.Escape="Escape",k.Backspace="Backspace",k.Delete="Delete",k.ArrowLeft="ArrowLeft",k.ArrowUp="ArrowUp",k.ArrowRight="ArrowRight",k.ArrowDown="ArrowDown",k.Home="Home",k.End="End",k.PageUp="PageUp",k.PageDown="PageDown",k.Tab="Tab",k))(el||{});function iO(k){function N(){document.readyState!=="loading"&&(k(),document.removeEventListener("DOMContentLoaded",N))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",N),N())}let Cf=[];iO(()=>{function k(N){N.target instanceof HTMLElement&&N.target!==document.body&&Cf[0]!==N.target&&(Cf.unshift(N.target),Cf=Cf.filter(Q=>Q!=null&&Q.isConnected),Cf.splice(10))}window.addEventListener("click",k,{capture:!0}),window.addEventListener("mousedown",k,{capture:!0}),window.addEventListener("focus",k,{capture:!0}),document.body.addEventListener("click",k,{capture:!0}),document.body.addEventListener("mousedown",k,{capture:!0}),document.body.addEventListener("focus",k,{capture:!0})});function Wy(k,N,Q,oe){gd.isServer||fo(he=>{k=k??window,k.addEventListener(N,Q,oe),he(()=>k.removeEventListener(N,Q,oe))})}var wl=(k=>(k[k.Forwards=0]="Forwards",k[k.Backwards=1]="Backwards",k))(wl||{});function Yy(){let k=wr(0);return v4("keydown",N=>{N.key==="Tab"&&(k.value=N.shiftKey?1:0)}),k}function T4(k){if(!k)return new Set;if(typeof k=="function")return new Set(k());let N=new Set;for(let Q of k.value){let oe=Vr(Q);oe instanceof HTMLElement&&N.add(oe)}return N}var k4=(k=>(k[k.None=1]="None",k[k.InitialFocus=2]="InitialFocus",k[k.TabLock=4]="TabLock",k[k.FocusLock=8]="FocusLock",k[k.RestoreFocus=16]="RestoreFocus",k[k.All=30]="All",k))(k4||{});let wp=Object.assign(Kr({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:wr(new Set)}},inheritAttrs:!1,setup(k,{attrs:N,slots:Q,expose:oe}){let he=wr(null);oe({el:he,$el:he});let O=cr(()=>Gu(he)),S=wr(!1);la(()=>S.value=!0),wo(()=>S.value=!1),oO({ownerDocument:O},cr(()=>S.value&&!!(k.features&16)));let e=sO({ownerDocument:O,container:he,initialFocus:cr(()=>k.initialFocus)},cr(()=>S.value&&!!(k.features&2)));lO({ownerDocument:O,container:he,containers:k.containers,previousActiveElement:e},cr(()=>S.value&&!!(k.features&8)));let v=Yy();function x(c){let s=Vr(he);s&&(n=>n())(()=>{Do(v.value,{[wl.Forwards]:()=>{Yl(s,ps.First,{skipElements:[c.relatedTarget]})},[wl.Backwards]:()=>{Yl(s,ps.Last,{skipElements:[c.relatedTarget]})}})})}let t=wr(!1);function b(c){c.key==="Tab"&&(t.value=!0,requestAnimationFrame(()=>{t.value=!1}))}function g(c){if(!S.value)return;let s=T4(k.containers);Vr(he)instanceof HTMLElement&&s.add(Vr(he));let n=c.relatedTarget;n instanceof HTMLElement&&n.dataset.headlessuiFocusGuard!=="true"&&(A4(s,n)||(t.value?Yl(Vr(he),Do(v.value,{[wl.Forwards]:()=>ps.Next,[wl.Backwards]:()=>ps.Previous})|ps.WrapAround,{relativeTo:c.target}):c.target instanceof HTMLElement&&Zc(c.target)))}return()=>{let c={},s={ref:he,onKeydown:b,onFocusout:g},{features:n,initialFocus:i,containers:a,...r}=k;return hi(ki,[!!(n&4)&&hi(Ih,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:x,features:Nf.Focusable}),Is({ourProps:s,theirProps:{...N,...r},slot:c,attrs:N,slots:Q,name:"FocusTrap"}),!!(n&4)&&hi(Ih,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:x,features:Nf.Focusable})])}}}),{features:k4});function aO(k){let N=wr(Cf.slice());return na([k],([Q],[oe])=>{oe===!0&&Q===!1?Uy(()=>{N.value.splice(0)}):oe===!1&&Q===!0&&(N.value=Cf.slice())},{flush:"post"}),()=>{var Q;return(Q=N.value.find(oe=>oe!=null&&oe.isConnected))!=null?Q:null}}function oO({ownerDocument:k},N){let Q=aO(N);la(()=>{fo(()=>{var oe,he;N.value||((oe=k.value)==null?void 0:oe.activeElement)===((he=k.value)==null?void 0:he.body)&&Zc(Q())},{flush:"post"})}),wo(()=>{N.value&&Zc(Q())})}function sO({ownerDocument:k,container:N,initialFocus:Q},oe){let he=wr(null),O=wr(!1);return la(()=>O.value=!0),wo(()=>O.value=!1),la(()=>{na([N,Q,oe],(S,e)=>{if(S.every((x,t)=>(e==null?void 0:e[t])===x)||!oe.value)return;let v=Vr(N);v&&Uy(()=>{var x,t;if(!O.value)return;let b=Vr(Q),g=(x=k.value)==null?void 0:x.activeElement;if(b){if(b===g){he.value=g;return}}else if(v.contains(g)){he.value=g;return}b?Zc(b):Yl(v,ps.First|ps.NoScroll)===td.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),he.value=(t=k.value)==null?void 0:t.activeElement})},{immediate:!0,flush:"post"})}),he}function lO({ownerDocument:k,container:N,containers:Q,previousActiveElement:oe},he){var O;Wy((O=k.value)==null?void 0:O.defaultView,"focus",S=>{if(!he.value)return;let e=T4(Q);Vr(N)instanceof HTMLElement&&e.add(Vr(N));let v=oe.value;if(!v)return;let x=S.target;x&&x instanceof HTMLElement?A4(e,x)?(oe.value=x,Zc(x)):(S.preventDefault(),S.stopPropagation(),Zc(v)):Zc(oe.value)},!0)}function A4(k,N){for(let Q of k)if(Q.contains(N))return!0;return!1}function uO(k){let N=hc(k.getSnapshot());return wo(k.subscribe(()=>{N.value=k.getSnapshot()})),N}function cO(k,N){let Q=k(),oe=new Set;return{getSnapshot(){return Q},subscribe(he){return oe.add(he),()=>oe.delete(he)},dispatch(he,...O){let S=N[he].call(Q,...O);S&&(Q=S,oe.forEach(e=>e()))}}}function fO(){let k;return{before({doc:N}){var Q;let oe=N.documentElement;k=((Q=N.defaultView)!=null?Q:window).innerWidth-oe.clientWidth},after({doc:N,d:Q}){let oe=N.documentElement,he=oe.clientWidth-oe.offsetWidth,O=k-he;Q.style(oe,"paddingRight",`${O}px`)}}}function hO(){return g4()?{before({doc:k,d:N,meta:Q}){function oe(he){return Q.containers.flatMap(O=>O()).some(O=>O.contains(he))}N.microTask(()=>{var he;if(window.getComputedStyle(k.documentElement).scrollBehavior!=="auto"){let e=dd();e.style(k.documentElement,"scrollBehavior","auto"),N.add(()=>N.microTask(()=>e.dispose()))}let O=(he=window.scrollY)!=null?he:window.pageYOffset,S=null;N.addEventListener(k,"click",e=>{if(e.target instanceof HTMLElement)try{let v=e.target.closest("a");if(!v)return;let{hash:x}=new URL(v.href),t=k.querySelector(x);t&&!oe(t)&&(S=t)}catch{}},!0),N.addEventListener(k,"touchstart",e=>{if(e.target instanceof HTMLElement)if(oe(e.target)){let v=e.target;for(;v.parentElement&&oe(v.parentElement);)v=v.parentElement;N.style(v,"overscrollBehavior","contain")}else N.style(e.target,"touchAction","none")}),N.addEventListener(k,"touchmove",e=>{if(e.target instanceof HTMLElement){if(e.target.tagName==="INPUT")return;if(oe(e.target)){let v=e.target;for(;v.parentElement&&v.dataset.headlessuiPortal!==""&&!(v.scrollHeight>v.clientHeight||v.scrollWidth>v.clientWidth);)v=v.parentElement;v.dataset.headlessuiPortal===""&&e.preventDefault()}else e.preventDefault()}},{passive:!1}),N.add(()=>{var e;let v=(e=window.scrollY)!=null?e:window.pageYOffset;O!==v&&window.scrollTo(0,O),S&&S.isConnected&&(S.scrollIntoView({block:"nearest"}),S=null)})})}}:{}}function pO(){return{before({doc:k,d:N}){N.style(k.documentElement,"overflow","hidden")}}}function dO(k){let N={};for(let Q of k)Object.assign(N,Q(N));return N}let Of=cO(()=>new Map,{PUSH(k,N){var Q;let oe=(Q=this.get(k))!=null?Q:{doc:k,count:0,d:dd(),meta:new Set};return oe.count++,oe.meta.add(N),this.set(k,oe),this},POP(k,N){let Q=this.get(k);return Q&&(Q.count--,Q.meta.delete(N)),this},SCROLL_PREVENT({doc:k,d:N,meta:Q}){let oe={doc:k,d:N,meta:dO(Q)},he=[hO(),fO(),pO()];he.forEach(({before:O})=>O==null?void 0:O(oe)),he.forEach(({after:O})=>O==null?void 0:O(oe))},SCROLL_ALLOW({d:k}){k.dispose()},TEARDOWN({doc:k}){this.delete(k)}});Of.subscribe(()=>{let k=Of.getSnapshot(),N=new Map;for(let[Q]of k)N.set(Q,Q.documentElement.style.overflow);for(let Q of k.values()){let oe=N.get(Q.doc)==="hidden",he=Q.count!==0;(he&&!oe||!he&&oe)&&Of.dispatch(Q.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",Q),Q.count===0&&Of.dispatch("TEARDOWN",Q)}});function gO(k,N,Q){let oe=uO(Of),he=cr(()=>{let O=k.value?oe.value.get(k.value):void 0;return O?O.count>0:!1});return na([k,N],([O,S],[e],v)=>{if(!O||!S)return;Of.dispatch("PUSH",O,Q);let x=!1;v(()=>{x||(Of.dispatch("POP",e??O,Q),x=!0)})},{immediate:!0}),he}let Bv=new Map,Tp=new Map;function Zb(k,N=wr(!0)){fo(Q=>{var oe;if(!N.value)return;let he=Vr(k);if(!he)return;Q(function(){var S;if(!he)return;let e=(S=Tp.get(he))!=null?S:1;if(e===1?Tp.delete(he):Tp.set(he,e-1),e!==1)return;let v=Bv.get(he);v&&(v["aria-hidden"]===null?he.removeAttribute("aria-hidden"):he.setAttribute("aria-hidden",v["aria-hidden"]),he.inert=v.inert,Bv.delete(he))});let O=(oe=Tp.get(he))!=null?oe:0;Tp.set(he,O+1),O===0&&(Bv.set(he,{"aria-hidden":he.getAttribute("aria-hidden"),inert:he.inert}),he.setAttribute("aria-hidden","true"),he.inert=!0)})}function M4({defaultContainers:k=[],portals:N,mainTreeNodeRef:Q}={}){let oe=wr(null),he=Gu(oe);function O(){var S,e,v;let x=[];for(let t of k)t!==null&&(t instanceof HTMLElement?x.push(t):"value"in t&&t.value instanceof HTMLElement&&x.push(t.value));if(N!=null&&N.value)for(let t of N.value)x.push(t);for(let t of(S=he==null?void 0:he.querySelectorAll("html > *, body > *"))!=null?S:[])t!==document.body&&t!==document.head&&t instanceof HTMLElement&&t.id!=="headlessui-portal-root"&&(t.contains(Vr(oe))||t.contains((v=(e=Vr(oe))==null?void 0:e.getRootNode())==null?void 0:v.host)||x.some(b=>t.contains(b))||x.push(t));return x}return{resolveContainers:O,contains(S){return O().some(e=>e.contains(S))},mainTreeNodeRef:oe,MainTreeNode(){return Q!=null?null:hi(Ih,{features:Nf.Hidden,ref:oe})}}}let S4=Symbol("ForcePortalRootContext");function vO(){return Oi(S4,!1)}let Xb=Kr({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(k,{slots:N,attrs:Q}){return Ta(S4,k.force),()=>{let{force:oe,...he}=k;return Is({theirProps:he,ourProps:{},slot:{},slots:N,attrs:Q,name:"ForcePortalRoot"})}}}),E4=Symbol("StackContext");var jm=(k=>(k[k.Add=0]="Add",k[k.Remove=1]="Remove",k))(jm||{});function mO(){return Oi(E4,()=>{})}function yO({type:k,enabled:N,element:Q,onUpdate:oe}){let he=mO();function O(...S){oe==null||oe(...S),he(...S)}la(()=>{na(N,(S,e)=>{S?O(0,k,Q):e===!0&&O(1,k,Q)},{immediate:!0,flush:"sync"})}),wo(()=>{N.value&&O(1,k,Q)}),Ta(E4,O)}let xO=Symbol("DescriptionContext");function bO({slot:k=wr({}),name:N="Description",props:Q={}}={}){let oe=wr([]);function he(O){return oe.value.push(O),()=>{let S=oe.value.indexOf(O);S!==-1&&oe.value.splice(S,1)}}return Ta(xO,{register:he,slot:k,name:N,props:Q}),cr(()=>oe.value.length>0?oe.value.join(" "):void 0)}function _O(k){let N=Gu(k);if(!N){if(k===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${k}`)}let Q=N.getElementById("headlessui-portal-root");if(Q)return Q;let oe=N.createElement("div");return oe.setAttribute("id","headlessui-portal-root"),N.body.appendChild(oe)}const Um=new WeakMap;function wO(k){var N;return(N=Um.get(k))!=null?N:0}function Kb(k,N){let Q=N(wO(k));return Q<=0?Um.delete(k):Um.set(k,Q),Q}let TO=Kr({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(k,{slots:N,attrs:Q}){let oe=wr(null),he=cr(()=>Gu(oe)),O=vO(),S=Oi(C4,null),e=wr(O===!0||S==null?_O(oe.value):S.resolveTarget());e.value&&Kb(e.value,g=>g+1);let v=wr(!1);la(()=>{v.value=!0}),fo(()=>{O||S!=null&&(e.value=S.resolveTarget())});let x=Oi(Vm,null),t=!1,b=Ml();return na(oe,()=>{if(t||!x)return;let g=Vr(oe);g&&(wo(x.register(g),b),t=!0)}),wo(()=>{var g,c;let s=(g=he.value)==null?void 0:g.getElementById("headlessui-portal-root");!s||e.value!==s||Kb(e.value,n=>n-1)||e.value.children.length>0||(c=e.value.parentElement)==null||c.removeChild(e.value)}),()=>{if(!v.value||e.value===null)return null;let g={ref:oe,"data-headlessui-portal":""};return hi(bw,{to:e.value},Is({ourProps:g,theirProps:k,slot:{},attrs:Q,slots:N,name:"Portal"}))}}}),Vm=Symbol("PortalParentContext");function L4(){let k=Oi(Vm,null),N=wr([]);function Q(O){return N.value.push(O),k&&k.register(O),()=>oe(O)}function oe(O){let S=N.value.indexOf(O);S!==-1&&N.value.splice(S,1),k&&k.unregister(O)}let he={register:Q,unregister:oe,portals:N};return[N,Kr({name:"PortalWrapper",setup(O,{slots:S}){return Ta(Vm,he),()=>{var e;return(e=S.default)==null?void 0:e.call(S)}}})]}let C4=Symbol("PortalGroupContext"),kO=Kr({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(k,{attrs:N,slots:Q}){let oe=_u({resolveTarget(){return k.target}});return Ta(C4,oe),()=>{let{target:he,...O}=k;return Is({theirProps:O,ourProps:{},slot:{},attrs:N,slots:Q,name:"PortalGroup"})}}});var AO=(k=>(k[k.Open=0]="Open",k[k.Closed=1]="Closed",k))(AO||{});let Hm=Symbol("DialogContext");function P4(k){let N=Oi(Hm,null);if(N===null){let Q=new Error(`<${k} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(Q,P4),Q}return N}let k0="DC8F892D-2EBD-447C-A4C8-A03058436FF4",MO=Kr({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:k0},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:k=>!0},setup(k,{emit:N,attrs:Q,slots:oe,expose:he}){var O,S;let e=(O=k.id)!=null?O:`headlessui-dialog-${Uu()}`,v=wr(!1);la(()=>{v.value=!0});let x=!1,t=cr(()=>k.role==="dialog"||k.role==="alertdialog"?k.role:(x||(x=!0,console.warn(`Invalid role [${t}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")),b=wr(0),g=md(),c=cr(()=>k.open===k0&&g!==null?(g.value&ro.Open)===ro.Open:k.open),s=wr(null),n=cr(()=>Gu(s));if(he({el:s,$el:s}),!(k.open!==k0||g!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof c.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${c.value===k0?void 0:k.open}`);let i=cr(()=>v.value&&c.value?0:1),a=cr(()=>i.value===0),r=cr(()=>b.value>1),o=Oi(Hm,null)!==null,[l,u]=L4(),{resolveContainers:h,mainTreeNodeRef:f,MainTreeNode:T}=M4({portals:l,defaultContainers:[cr(()=>{var D;return(D=M.panelRef.value)!=null?D:s.value})]}),d=cr(()=>r.value?"parent":"leaf"),y=cr(()=>g!==null?(g.value&ro.Closing)===ro.Closing:!1),m=cr(()=>o||y.value?!1:a.value),w=cr(()=>{var D,F,q;return(q=Array.from((F=(D=n.value)==null?void 0:D.querySelectorAll("body > *"))!=null?F:[]).find(z=>z.id==="headlessui-portal-root"?!1:z.contains(Vr(f))&&z instanceof HTMLElement))!=null?q:null});Zb(w,m);let _=cr(()=>r.value?!0:a.value),A=cr(()=>{var D,F,q;return(q=Array.from((F=(D=n.value)==null?void 0:D.querySelectorAll("[data-headlessui-portal]"))!=null?F:[]).find(z=>z.contains(Vr(f))&&z instanceof HTMLElement))!=null?q:null});Zb(A,_),yO({type:"Dialog",enabled:cr(()=>i.value===0),element:s,onUpdate:(D,F)=>{if(F==="Dialog")return Do(D,{[jm.Add]:()=>b.value+=1,[jm.Remove]:()=>b.value-=1})}});let p=bO({name:"DialogDescription",slot:cr(()=>({open:c.value}))}),L=wr(null),M={titleId:L,panelRef:wr(null),dialogState:i,setTitleId(D){L.value!==D&&(L.value=D)},close(){N("close",!1)}};Ta(Hm,M);let C=cr(()=>!(!a.value||r.value));m4(h,(D,F)=>{D.preventDefault(),M.close(),gc(()=>F==null?void 0:F.focus())},C);let R=cr(()=>!(r.value||i.value!==0));Wy((S=n.value)==null?void 0:S.defaultView,"keydown",D=>{R.value&&(D.defaultPrevented||D.key===el.Escape&&(D.preventDefault(),D.stopPropagation(),M.close()))});let I=cr(()=>!(y.value||i.value!==0||o));return gO(n,I,D=>{var F;return{containers:[...(F=D.containers)!=null?F:[],h]}}),fo(D=>{if(i.value!==0)return;let F=Vr(s);if(!F)return;let q=new ResizeObserver(z=>{for(let V of z){let X=V.target.getBoundingClientRect();X.x===0&&X.y===0&&X.width===0&&X.height===0&&M.close()}});q.observe(F),D(()=>q.disconnect())}),()=>{let{open:D,initialFocus:F,...q}=k,z={...Q,ref:s,id:e,role:t.value,"aria-modal":i.value===0?!0:void 0,"aria-labelledby":L.value,"aria-describedby":p.value},V={open:i.value===0};return hi(Xb,{force:!0},()=>[hi(TO,()=>hi(kO,{target:s.value},()=>hi(Xb,{force:!1},()=>hi(wp,{initialFocus:F,containers:h,features:a.value?Do(d.value,{parent:wp.features.RestoreFocus,leaf:wp.features.All&~wp.features.FocusLock}):wp.features.None},()=>hi(u,{},()=>Is({ourProps:z,theirProps:{...q,...Q},slot:V,attrs:Q,slots:oe,visible:i.value===0,features:ef.RenderStrategy|ef.Static,name:"Dialog"})))))),hi(T)])}}}),SO=Kr({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(k,{attrs:N,slots:Q,expose:oe}){var he;let O=(he=k.id)!=null?he:`headlessui-dialog-panel-${Uu()}`,S=P4("DialogPanel");oe({el:S.panelRef,$el:S.panelRef});function e(v){v.stopPropagation()}return()=>{let{...v}=k,x={id:O,ref:S.panelRef,onClick:e};return Is({ourProps:x,theirProps:v,slot:{open:S.dialogState.value===0},attrs:N,slots:Q,name:"DialogPanel"})}}});var EO=(k=>(k[k.Open=0]="Open",k[k.Closed=1]="Closed",k))(EO||{});let O4=Symbol("DisclosureContext");function $y(k){let N=Oi(O4,null);if(N===null){let Q=new Error(`<${k} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(Q,$y),Q}return N}let I4=Symbol("DisclosurePanelContext");function LO(){return Oi(I4,null)}let CO=Kr({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(k,{slots:N,attrs:Q}){let oe=wr(k.defaultOpen?0:1),he=wr(null),O=wr(null),S={buttonId:wr(`headlessui-disclosure-button-${Uu()}`),panelId:wr(`headlessui-disclosure-panel-${Uu()}`),disclosureState:oe,panel:he,button:O,toggleDisclosure(){oe.value=Do(oe.value,{0:1,1:0})},closeDisclosure(){oe.value!==1&&(oe.value=1)},close(e){S.closeDisclosure();let v=e?e instanceof HTMLElement?e:e.value instanceof HTMLElement?Vr(e):Vr(S.button):Vr(S.button);v==null||v.focus()}};return Ta(O4,S),Gy(cr(()=>Do(oe.value,{0:ro.Open,1:ro.Closed}))),()=>{let{defaultOpen:e,...v}=k,x={open:oe.value===0,close:S.close};return Is({theirProps:v,ourProps:{},slot:x,slots:N,attrs:Q,name:"Disclosure"})}}}),PO=Kr({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(k,{attrs:N,slots:Q,expose:oe}){let he=$y("DisclosureButton"),O=LO(),S=cr(()=>O===null?!1:O.value===he.panelId.value);la(()=>{S.value||k.id!==null&&(he.buttonId.value=k.id)}),wo(()=>{S.value||(he.buttonId.value=null)});let e=wr(null);oe({el:e,$el:e}),S.value||fo(()=>{he.button.value=e.value});let v=y4(cr(()=>({as:k.as,type:N.type})),e);function x(){var g;k.disabled||(S.value?(he.toggleDisclosure(),(g=Vr(he.button))==null||g.focus()):he.toggleDisclosure())}function t(g){var c;if(!k.disabled)if(S.value)switch(g.key){case el.Space:case el.Enter:g.preventDefault(),g.stopPropagation(),he.toggleDisclosure(),(c=Vr(he.button))==null||c.focus();break}else switch(g.key){case el.Space:case el.Enter:g.preventDefault(),g.stopPropagation(),he.toggleDisclosure();break}}function b(g){switch(g.key){case el.Space:g.preventDefault();break}}return()=>{var g;let c={open:he.disclosureState.value===0},{id:s,...n}=k,i=S.value?{ref:e,type:v.value,onClick:x,onKeydown:t}:{id:(g=he.buttonId.value)!=null?g:s,ref:e,type:v.value,"aria-expanded":he.disclosureState.value===0,"aria-controls":he.disclosureState.value===0||Vr(he.panel)?he.panelId.value:void 0,disabled:k.disabled?!0:void 0,onClick:x,onKeydown:t,onKeyup:b};return Is({ourProps:i,theirProps:n,slot:c,attrs:N,slots:Q,name:"DisclosureButton"})}}}),OO=Kr({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(k,{attrs:N,slots:Q,expose:oe}){let he=$y("DisclosurePanel");la(()=>{k.id!==null&&(he.panelId.value=k.id)}),wo(()=>{he.panelId.value=null}),oe({el:he.panel,$el:he.panel}),Ta(I4,he.panelId);let O=md(),S=cr(()=>O!==null?(O.value&ro.Open)===ro.Open:he.disclosureState.value===0);return()=>{var e;let v={open:he.disclosureState.value===0,close:he.close},{id:x,...t}=k,b={id:(e=he.panelId.value)!=null?e:x,ref:he.panel};return Is({ourProps:b,theirProps:t,slot:v,attrs:N,slots:Q,features:ef.RenderStrategy|ef.Static,visible:S.value,name:"DisclosurePanel"})}}});var IO=(k=>(k[k.Open=0]="Open",k[k.Closed=1]="Closed",k))(IO||{});let R4=Symbol("PopoverContext");function Zy(k){let N=Oi(R4,null);if(N===null){let Q=new Error(`<${k} /> is missing a parent <${F4.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(Q,Zy),Q}return N}let RO=Symbol("PopoverGroupContext");function D4(){return Oi(RO,null)}let z4=Symbol("PopoverPanelContext");function DO(){return Oi(z4,null)}let F4=Kr({name:"Popover",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"}},setup(k,{slots:N,attrs:Q,expose:oe}){var he;let O=wr(null);oe({el:O,$el:O});let S=wr(1),e=wr(null),v=wr(null),x=wr(null),t=wr(null),b=cr(()=>Gu(O)),g=cr(()=>{var u,h;if(!Vr(e)||!Vr(t))return!1;for(let _ of document.querySelectorAll("body > *"))if(Number(_==null?void 0:_.contains(Vr(e)))^Number(_==null?void 0:_.contains(Vr(t))))return!0;let f=vd(),T=f.indexOf(Vr(e)),d=(T+f.length-1)%f.length,y=(T+1)%f.length,m=f[d],w=f[y];return!((u=Vr(t))!=null&&u.contains(m))&&!((h=Vr(t))!=null&&h.contains(w))}),c={popoverState:S,buttonId:wr(null),panelId:wr(null),panel:t,button:e,isPortalled:g,beforePanelSentinel:v,afterPanelSentinel:x,togglePopover(){S.value=Do(S.value,{0:1,1:0})},closePopover(){S.value!==1&&(S.value=1)},close(u){c.closePopover();let h=u?u instanceof HTMLElement?u:u.value instanceof HTMLElement?Vr(u):Vr(c.button):Vr(c.button);h==null||h.focus()}};Ta(R4,c),Gy(cr(()=>Do(S.value,{0:ro.Open,1:ro.Closed})));let s={buttonId:c.buttonId,panelId:c.panelId,close(){c.closePopover()}},n=D4(),i=n==null?void 0:n.registerPopover,[a,r]=L4(),o=M4({mainTreeNodeRef:n==null?void 0:n.mainTreeNodeRef,portals:a,defaultContainers:[e,t]});function l(){var u,h,f,T;return(T=n==null?void 0:n.isFocusWithinPopoverGroup())!=null?T:((u=b.value)==null?void 0:u.activeElement)&&(((h=Vr(e))==null?void 0:h.contains(b.value.activeElement))||((f=Vr(t))==null?void 0:f.contains(b.value.activeElement)))}return fo(()=>i==null?void 0:i(s)),Wy((he=b.value)==null?void 0:he.defaultView,"focus",u=>{var h,f;u.target!==window&&u.target instanceof HTMLElement&&S.value===0&&(l()||e&&t&&(o.contains(u.target)||(h=Vr(c.beforePanelSentinel))!=null&&h.contains(u.target)||(f=Vr(c.afterPanelSentinel))!=null&&f.contains(u.target)||c.closePopover()))},!0),m4(o.resolveContainers,(u,h)=>{var f;c.closePopover(),qy(h,Hy.Loose)||(u.preventDefault(),(f=Vr(e))==null||f.focus())},cr(()=>S.value===0)),()=>{let u={open:S.value===0,close:c.close};return hi(ki,[hi(r,{},()=>Is({theirProps:{...k,...Q},ourProps:{ref:O},slot:u,slots:N,attrs:Q,name:"Popover"})),hi(o.MainTreeNode)])}}}),zO=Kr({name:"PopoverButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(k,{attrs:N,slots:Q,expose:oe}){var he;let O=(he=k.id)!=null?he:`headlessui-popover-button-${Uu()}`,S=Zy("PopoverButton"),e=cr(()=>Gu(S.button));oe({el:S.button,$el:S.button}),la(()=>{S.buttonId.value=O}),wo(()=>{S.buttonId.value=null});let v=D4(),x=v==null?void 0:v.closeOthers,t=DO(),b=cr(()=>t===null?!1:t.value===S.panelId.value),g=wr(null),c=`headlessui-focus-sentinel-${Uu()}`;b.value||fo(()=>{S.button.value=Vr(g)});let s=y4(cr(()=>({as:k.as,type:N.type})),g);function n(u){var h,f,T,d,y;if(b.value){if(S.popoverState.value===1)return;switch(u.key){case el.Space:case el.Enter:u.preventDefault(),(f=(h=u.target).click)==null||f.call(h),S.closePopover(),(T=Vr(S.button))==null||T.focus();break}}else switch(u.key){case el.Space:case el.Enter:u.preventDefault(),u.stopPropagation(),S.popoverState.value===1&&(x==null||x(S.buttonId.value)),S.togglePopover();break;case el.Escape:if(S.popoverState.value!==0)return x==null?void 0:x(S.buttonId.value);if(!Vr(S.button)||(d=e.value)!=null&&d.activeElement&&!((y=Vr(S.button))!=null&&y.contains(e.value.activeElement)))return;u.preventDefault(),u.stopPropagation(),S.closePopover();break}}function i(u){b.value||u.key===el.Space&&u.preventDefault()}function a(u){var h,f;k.disabled||(b.value?(S.closePopover(),(h=Vr(S.button))==null||h.focus()):(u.preventDefault(),u.stopPropagation(),S.popoverState.value===1&&(x==null||x(S.buttonId.value)),S.togglePopover(),(f=Vr(S.button))==null||f.focus()))}function r(u){u.preventDefault(),u.stopPropagation()}let o=Yy();function l(){let u=Vr(S.panel);if(!u)return;function h(){Do(o.value,{[wl.Forwards]:()=>Yl(u,ps.First),[wl.Backwards]:()=>Yl(u,ps.Last)})===td.Error&&Yl(vd().filter(f=>f.dataset.headlessuiFocusGuard!=="true"),Do(o.value,{[wl.Forwards]:ps.Next,[wl.Backwards]:ps.Previous}),{relativeTo:Vr(S.button)})}h()}return()=>{let u=S.popoverState.value===0,h={open:u},{...f}=k,T=b.value?{ref:g,type:s.value,onKeydown:n,onClick:a}:{ref:g,id:O,type:s.value,"aria-expanded":S.popoverState.value===0,"aria-controls":Vr(S.panel)?S.panelId.value:void 0,disabled:k.disabled?!0:void 0,onKeydown:n,onKeyup:i,onClick:a,onMousedown:r};return hi(ki,[Is({ourProps:T,theirProps:{...N,...f},slot:h,attrs:N,slots:Q,name:"PopoverButton"}),u&&!b.value&&S.isPortalled.value&&hi(Ih,{id:c,features:Nf.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:l})])}}}),FO=Kr({name:"PopoverPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(k,{attrs:N,slots:Q,expose:oe}){var he;let O=(he=k.id)!=null?he:`headlessui-popover-panel-${Uu()}`,{focus:S}=k,e=Zy("PopoverPanel"),v=cr(()=>Gu(e.panel)),x=`headlessui-focus-sentinel-before-${Uu()}`,t=`headlessui-focus-sentinel-after-${Uu()}`;oe({el:e.panel,$el:e.panel}),la(()=>{e.panelId.value=O}),wo(()=>{e.panelId.value=null}),Ta(z4,e.panelId),fo(()=>{var r,o;if(!S||e.popoverState.value!==0||!e.panel)return;let l=(r=v.value)==null?void 0:r.activeElement;(o=Vr(e.panel))!=null&&o.contains(l)||Yl(Vr(e.panel),ps.First)});let b=md(),g=cr(()=>b!==null?(b.value&ro.Open)===ro.Open:e.popoverState.value===0);function c(r){var o,l;switch(r.key){case el.Escape:if(e.popoverState.value!==0||!Vr(e.panel)||v.value&&!((o=Vr(e.panel))!=null&&o.contains(v.value.activeElement)))return;r.preventDefault(),r.stopPropagation(),e.closePopover(),(l=Vr(e.button))==null||l.focus();break}}function s(r){var o,l,u,h,f;let T=r.relatedTarget;T&&Vr(e.panel)&&((o=Vr(e.panel))!=null&&o.contains(T)||(e.closePopover(),((u=(l=Vr(e.beforePanelSentinel))==null?void 0:l.contains)!=null&&u.call(l,T)||(f=(h=Vr(e.afterPanelSentinel))==null?void 0:h.contains)!=null&&f.call(h,T))&&T.focus({preventScroll:!0})))}let n=Yy();function i(){let r=Vr(e.panel);if(!r)return;function o(){Do(n.value,{[wl.Forwards]:()=>{var l;Yl(r,ps.First)===td.Error&&((l=Vr(e.afterPanelSentinel))==null||l.focus())},[wl.Backwards]:()=>{var l;(l=Vr(e.button))==null||l.focus({preventScroll:!0})}})}o()}function a(){let r=Vr(e.panel);if(!r)return;function o(){Do(n.value,{[wl.Forwards]:()=>{let l=Vr(e.button),u=Vr(e.panel);if(!l)return;let h=vd(),f=h.indexOf(l),T=h.slice(0,f+1),d=[...h.slice(f+1),...T];for(let y of d.slice())if(y.dataset.headlessuiFocusGuard==="true"||u!=null&&u.contains(y)){let m=d.indexOf(y);m!==-1&&d.splice(m,1)}Yl(d,ps.First,{sorted:!1})},[wl.Backwards]:()=>{var l;Yl(r,ps.Previous)===td.Error&&((l=Vr(e.button))==null||l.focus())}})}o()}return()=>{let r={open:e.popoverState.value===0,close:e.close},{focus:o,...l}=k,u={ref:e.panel,id:O,onKeydown:c,onFocusout:S&&e.popoverState.value===0?s:void 0,tabIndex:-1};return Is({ourProps:u,theirProps:{...N,...l},attrs:N,slot:r,slots:{...Q,default:(...h)=>{var f;return[hi(ki,[g.value&&e.isPortalled.value&&hi(Ih,{id:x,ref:e.beforePanelSentinel,features:Nf.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:i}),(f=Q.default)==null?void 0:f.call(Q,...h),g.value&&e.isPortalled.value&&hi(Ih,{id:t,ref:e.afterPanelSentinel,features:Nf.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:a})])]}},features:ef.RenderStrategy|ef.Static,visible:g.value,name:"PopoverPanel"})}}});function BO(k){let N={called:!1};return(...Q)=>{if(!N.called)return N.called=!0,k(...Q)}}function Nv(k,...N){k&&N.length>0&&k.classList.add(...N)}function A0(k,...N){k&&N.length>0&&k.classList.remove(...N)}var qm=(k=>(k.Finished="finished",k.Cancelled="cancelled",k))(qm||{});function NO(k,N){let Q=dd();if(!k)return Q.dispose;let{transitionDuration:oe,transitionDelay:he}=getComputedStyle(k),[O,S]=[oe,he].map(e=>{let[v=0]=e.split(",").filter(Boolean).map(x=>x.includes("ms")?parseFloat(x):parseFloat(x)*1e3).sort((x,t)=>t-x);return v});return O!==0?Q.setTimeout(()=>N("finished"),O+S):N("finished"),Q.add(()=>N("cancelled")),Q.dispose}function Jb(k,N,Q,oe,he,O){let S=dd(),e=O!==void 0?BO(O):()=>{};return A0(k,...he),Nv(k,...N,...Q),S.nextFrame(()=>{A0(k,...Q),Nv(k,...oe),S.add(NO(k,v=>(A0(k,...oe,...N),Nv(k,...he),e(v))))}),S.add(()=>A0(k,...N,...Q,...oe,...he)),S.add(()=>e("cancelled")),S.dispose}function Mf(k=""){return k.split(/\s+/).filter(N=>N.length>1)}let Xy=Symbol("TransitionContext");var jO=(k=>(k.Visible="visible",k.Hidden="hidden",k))(jO||{});function UO(){return Oi(Xy,null)!==null}function VO(){let k=Oi(Xy,null);if(k===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return k}function HO(){let k=Oi(Ky,null);if(k===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return k}let Ky=Symbol("NestingContext");function Tg(k){return"children"in k?Tg(k.children):k.value.filter(({state:N})=>N==="visible").length>0}function B4(k){let N=wr([]),Q=wr(!1);la(()=>Q.value=!0),wo(()=>Q.value=!1);function oe(O,S=Gc.Hidden){let e=N.value.findIndex(({id:v})=>v===O);e!==-1&&(Do(S,{[Gc.Unmount](){N.value.splice(e,1)},[Gc.Hidden](){N.value[e].state="hidden"}}),!Tg(N)&&Q.value&&(k==null||k()))}function he(O){let S=N.value.find(({id:e})=>e===O);return S?S.state!=="visible"&&(S.state="visible"):N.value.push({id:O,state:"visible"}),()=>oe(O,Gc.Unmount)}return{children:N,register:he,unregister:oe}}let N4=ef.RenderStrategy,qO=Kr({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(k,{emit:N,attrs:Q,slots:oe,expose:he}){let O=wr(0);function S(){O.value|=ro.Opening,N("beforeEnter")}function e(){O.value&=~ro.Opening,N("afterEnter")}function v(){O.value|=ro.Closing,N("beforeLeave")}function x(){O.value&=~ro.Closing,N("afterLeave")}if(!UO()&&rO())return()=>hi(j4,{...k,onBeforeEnter:S,onAfterEnter:e,onBeforeLeave:v,onAfterLeave:x},oe);let t=wr(null),b=cr(()=>k.unmount?Gc.Unmount:Gc.Hidden);he({el:t,$el:t});let{show:g,appear:c}=VO(),{register:s,unregister:n}=HO(),i=wr(g.value?"visible":"hidden"),a={value:!0},r=Uu(),o={value:!1},l=B4(()=>{!o.value&&i.value!=="hidden"&&(i.value="hidden",n(r),x())});la(()=>{let _=s(r);wo(_)}),fo(()=>{if(b.value===Gc.Hidden&&r){if(g.value&&i.value!=="visible"){i.value="visible";return}Do(i.value,{hidden:()=>n(r),visible:()=>s(r)})}});let u=Mf(k.enter),h=Mf(k.enterFrom),f=Mf(k.enterTo),T=Mf(k.entered),d=Mf(k.leave),y=Mf(k.leaveFrom),m=Mf(k.leaveTo);la(()=>{fo(()=>{if(i.value==="visible"){let _=Vr(t);if(_ instanceof Comment&&_.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function w(_){let A=a.value&&!c.value,p=Vr(t);!p||!(p instanceof HTMLElement)||A||(o.value=!0,g.value&&S(),g.value||v(),_(g.value?Jb(p,u,h,f,T,L=>{o.value=!1,L===qm.Finished&&e()}):Jb(p,d,y,m,T,L=>{o.value=!1,L===qm.Finished&&(Tg(l)||(i.value="hidden",n(r),x()))})))}return la(()=>{na([g],(_,A,p)=>{w(p),a.value=!1},{immediate:!0})}),Ta(Ky,l),Gy(cr(()=>Do(i.value,{visible:ro.Open,hidden:ro.Closed})|O.value)),()=>{let{appear:_,show:A,enter:p,enterFrom:L,enterTo:M,entered:C,leave:R,leaveFrom:I,leaveTo:D,...F}=k,q={ref:t},z={...F,...c.value&&g.value&&gd.isServer?{class:Cr([Q.class,F.class,...u,...h])}:{}};return Is({theirProps:z,ourProps:q,slot:{},slots:oe,attrs:Q,features:N4,visible:i.value==="visible",name:"TransitionChild"})}}}),GO=qO,j4=Kr({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(k,{emit:N,attrs:Q,slots:oe}){let he=md(),O=cr(()=>k.show===null&&he!==null?(he.value&ro.Open)===ro.Open:k.show);fo(()=>{if(![!0,!1].includes(O.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let S=wr(O.value?"visible":"hidden"),e=B4(()=>{S.value="hidden"}),v=wr(!0),x={show:O,appear:cr(()=>k.appear||!v.value)};return la(()=>{fo(()=>{v.value=!1,O.value?S.value="visible":Tg(e)||(S.value="hidden")})}),Ta(Ky,e),Ta(Xy,x),()=>{let t=_4(k,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),b={unmount:k.unmount};return Is({ourProps:{...b,as:"template"},theirProps:{},slot:{},slots:{...oe,default:()=>[hi(GO,{onBeforeEnter:()=>N("beforeEnter"),onAfterEnter:()=>N("afterEnter"),onBeforeLeave:()=>N("beforeLeave"),onAfterLeave:()=>N("afterLeave"),...Q,...b,...t},oe.default)]},attrs:{},features:N4,visible:S.value==="visible",name:"Transition"})}}});const jv=Tu(Ia.ui.strategy,Ia.ui.accordion,QL),WO=Tu(Ia.ui.strategy,Ia.ui.button,H3),YO=Kr({components:{HDisclosure:CO,HDisclosureButton:PO,HDisclosurePanel:OO,UIcon:Os,UButton:ku},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},defaultOpen:{type:Boolean,default:!1},openIcon:{type:String,default:()=>jv.default.openIcon},unmount:{type:Boolean,default:!1},closeIcon:{type:String,default:()=>jv.default.closeIcon},multiple:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["open"],setup(k,{emit:N}){const{ui:Q,attrs:oe}=io("accordion",Ai(k,"ui"),jv,Ai(k,"class")),he=cr(()=>WO),O=wr([]),S=cr(()=>O.value.map(({open:g})=>g));na(S,(g,c)=>{for(const s in g){const n=c[s],i=g[s];!n&&i&&N("open",s)}},{immediate:!0});function e(g,c){!k.items[g].closeOthers&&k.multiple||O.value.forEach(s=>{s.open&&s.close(c.target)})}function v(g,c){const s=g;s.style.height="0",s.offsetHeight,s.style.height=s.scrollHeight+"px",s.addEventListener("transitionend",c,{once:!0})}function x(g){const c=g;c.style.height=c.scrollHeight+"px",c.offsetHeight}function t(g){const c=g;c.style.height="auto"}function b(g,c){const s=g;s.style.height="0",s.addEventListener("transitionend",c,{once:!0})}return Vy(()=>jy("$SZ7s8siktv")),{ui:Q,uiButton:he,attrs:oe,buttonRefs:O,closeOthers:e,omit:U3,onEnter:v,onBeforeLeave:x,onAfterEnter:t,onLeave:b}}}),$O={key:1};function ZO(k,N,Q,oe,he,O){const S=Os,e=ku,v=fc("HDisclosureButton"),x=fc("HDisclosurePanel"),t=fc("HDisclosure");return pr(),Wr("div",{class:Cr(k.ui.wrapper)},[(pr(!0),Wr(ki,null,nl(k.items,(b,g)=>(pr(),ti(t,{key:g,as:"div",class:Cr(k.ui.container),"default-open":k.defaultOpen||b.defaultOpen},{default:Yr(({open:c,close:s})=>[Rr(v,{ref_for:!0,ref:()=>k.buttonRefs[g]={open:c,close:s},as:"template",disabled:b.disabled,onClick:n=>k.closeOthers(g,n),onKeydown:[C2(n=>k.closeOthers(g,n),["enter"]),C2(n=>k.closeOthers(g,n),["space"])]},{default:Yr(()=>[fi(k.$slots,"default",{item:b,index:g,open:c,close:s},()=>[Rr(e,ii({ref_for:!0},{...k.omit(k.ui.default,["openIcon","closeIcon"]),...k.attrs,...k.omit(b,["slot","disabled","content","defaultOpen"])}),{trailing:Yr(()=>[Rr(S,{name:c&&k.closeIcon?k.closeIcon:k.openIcon,class:Cr([c&&!k.closeIcon?"-rotate-180":"",k.uiButton.icon.size[b.size||k.uiButton.default.size],k.ui.item.icon])},null,8,["name","class"])]),_:2},1040)])]),_:2},1032,["disabled","onClick","onKeydown"]),Rr(Jc,ii({ref_for:!0},k.ui.transition,{onEnter:k.onEnter,onAfterEnter:k.onAfterEnter,onBeforeLeave:k.onBeforeLeave,onLeave:k.onLeave}),{default:Yr(()=>[k.unmount?(pr(),ti(x,{key:0,class:Cr([k.ui.item.base,k.ui.item.size,k.ui.item.color,k.ui.item.padding]),unmount:""},{default:Yr(()=>[fi(k.$slots,b.slot||"item",{item:b,index:g,open:c,close:s},()=>[To(wa(b.content),1)])]),_:2},1032,["class"])):ok((pr(),Wr("div",$O,[Rr(x,{class:Cr([k.ui.item.base,k.ui.item.size,k.ui.item.color,k.ui.item.padding]),static:""},{default:Yr(()=>[fi(k.$slots,b.slot||"item",{item:b,index:g,open:c,close:s},()=>[To(wa(b.content),1)])]),_:2},1032,["class"])],512)),[[r8,c]])]),_:2},1040,["onEnter","onAfterEnter","onBeforeLeave","onLeave"])]),_:2},1032,["class","default-open"]))),128))],2)}const XO=Ps(YO,[["render",ZO]]),KO=Kr({inheritAttrs:!1,__name:"NavigationAccordion",props:{level:{type:Number,default:0},links:{type:Array,default:()=>[]},multiple:{type:Boolean,default:!0},defaultOpen:{type:[Boolean,Number],default:void 0},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(k){const N=Ko(),Q=cr(()=>{const v=Xo("space-y-3",oe.level>0&&"border-l border-gray-200 dark:border-gray-800 -ml-px hover:border-gray-300 dark:hover:border-gray-700"),x=Xo("border-l border-gray-200 dark:border-gray-800",oe.level>0?"ml-6":"ml-2.5");return{wrapper:v,container:"space-y-3",item:{padding:"",color:"text-inherit dark:text-inherit"},button:{base:"flex items-center gap-1.5 group w-full focus-visible:outline-primary",active:"text-primary border-current",inactive:"border-transparent",level:"border-l -ml-px pl-3.5",icon:{base:"w-5 h-5 flex-shrink-0"},trailingIcon:{name:N.ui.icons.chevron,base:"w-5 h-5 ms-auto transform transition-transform duration-200 flex-shrink-0 mr-1.5",active:"text-gray-700 dark:text-gray-200",inactive:"text-gray-500 dark:text-gray-400 group-hover:text-gray-700 dark:group-hover:text-gray-200 -rotate-90"},label:"text-sm/6 font-semibold truncate"},tree:x,links:{}}}),oe=k,he=pc(),{ui:O,attrs:S}=io("navigation.accordion",Ai(oe,"ui"),Q,Ai(oe,"class"),!0),e=cr(()=>{var v;return(v=oe.links)==null?void 0:v.map(x=>{const t=!oe.defaultOpen||typeof oe.defaultOpen=="number"&&oe.level<oe.defaultOpen||x.to&&he.path.startsWith(x.to.toString());return{label:x.label,icon:x.icon,slot:x.label.toLowerCase(),disabled:x.disabled,defaultOpen:t,children:x.children}})});return(v,x)=>{const t=Os,b=rf,g=U4,c=XO;return pr(),ti(c,ii({key:Fn(he).path,items:Fn(e),multiple:k.multiple,ui:Fn(O)},Fn(S)),hg({default:Yr(({item:s,open:n})=>[Rr(b,{class:Cr([Fn(O).button.base,k.level>0&&Fn(O).button.level]),"active-class":Fn(O).button.active,"inactive-class":Fn(O).button.inactive},{default:Yr(()=>[s.icon?(pr(),ti(t,{key:0,name:s.icon,class:Cr(Fn(O).button.icon.base)},null,8,["name","class"])):li("",!0),jr("span",{class:Cr(Fn(O).button.label)},wa(s.label),3),s.disabled?li("",!0):(pr(),ti(t,{key:1,name:Fn(O).button.trailingIcon.name,class:Cr([Fn(O).button.trailingIcon.base,n?Fn(O).button.trailingIcon.active:Fn(O).button.trailingIcon.inactive])},null,8,["name","class"]))]),_:2},1032,["class","active-class","inactive-class"])]),_:2},[nl(k.links,({label:s},n)=>({name:s.toLowerCase(),fn:Yr(({item:i})=>[Rr(g,{links:i.children,level:k.level+1,"default-open":k.defaultOpen,multiple:k.multiple,class:Cr(Fn(O).tree),ui:{links:Fn(O).links}},null,8,["links","level","default-open","multiple","class","ui"])])}))]),1040,["items","multiple","ui"])}}}),JO=Kr({inheritAttrs:!1,__name:"NavigationLinks",props:{level:{type:Number,default:0},links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(k){const N={wrapper:"space-y-3",wrapperLevel:"space-y-1.5",base:"flex items-center gap-1.5 group",active:"text-primary font-medium border-current",inactive:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 border-transparent hover:border-gray-500 dark:hover:border-gray-400",level:"border-l -ml-px pl-4",icon:{base:"w-5 h-5 flex-shrink-0"},badge:{base:"rounded-full"},label:"text-sm/6 truncate"},Q=k,{ui:oe,attrs:he}=io("navigation.links",Ai(Q,"ui"),N,Ai(Q,"class"),!0);return(O,S)=>{var t;const e=Os,v=q3,x=rf;return(t=k.links)!=null&&t.length?(pr(),Wr("div",ii({key:0,class:k.level>0?Fn(oe).wrapperLevel:Fn(oe).wrapper},Fn(he)),[(pr(!0),Wr(ki,null,nl(k.links,(b,g)=>(pr(),ti(x,ii({key:g,ref_for:!0},Fn(Oh)(b),{class:[Fn(oe).base,k.level>0&&Fn(oe).level],"active-class":Fn(oe).active,"inactive-class":Fn(oe).inactive,onClick:b.click}),{default:Yr(()=>[b.icon?(pr(),ti(e,{key:0,name:b.icon,class:Cr(Fn(Jl)(Fn(oe).icon.base,b.iconClass))},null,8,["name","class"])):li("",!0),jr("span",{class:Cr(Fn(oe).label)},wa(b.label),3),fi(O.$slots,"badge",{link:b},()=>[b.badge?(pr(),ti(v,ii({key:0,ref_for:!0},typeof b.badge=="string"?{size:"xs",variant:"subtle",label:b.badge}:{size:"xs",variant:"subtle",...b.badge},{class:Fn(oe).badge.base}),null,16,["class"])):li("",!0)])]),_:2},1040,["class","active-class","inactive-class","onClick"]))),128))],16)):li("",!0)}}}),U4=Kr({inheritAttrs:!1,__name:"NavigationTree",props:{level:{type:Number,default:0},links:{type:Array,default:()=>[]},multiple:{type:Boolean,default:!0},defaultOpen:{type:[Boolean,Number],default:void 0},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(k){const N={wrapper:"space-y-3",accordion:{},links:{}},Q=k,{ui:oe,attrs:he}=io("navigation.tree",Ai(Q,"ui"),N,Ai(Q,"class"),!0),O=cr(()=>{var v;const S=[];let e={type:void 0,children:[]};for(const x of Q.links){const t=(v=x.children)!=null&&v.length?"accordion":"link";e.type||(e.type=t),e.type===t?e.children.push(x):(S.push(e),e={type:t,children:[x]})}return e.children.length&&S.push(e),S});return(S,e)=>{var t;const v=KO,x=JO;return(t=Fn(O))!=null&&t.length?(pr(),Wr("nav",ii({key:0,class:Fn(oe).wrapper},Fn(he)),[(pr(!0),Wr(ki,null,nl(Fn(O),(b,g)=>(pr(),Wr(ki,{key:g},[b.type==="accordion"?(pr(),ti(v,{key:0,links:b.children,level:k.level,multiple:k.multiple,"default-open":k.defaultOpen,ui:{...Fn(oe).accordion,links:Fn(oe).links}},null,8,["links","level","multiple","default-open","ui"])):(pr(),ti(x,{key:1,links:b.children,level:k.level,ui:Fn(oe).links},null,8,["links","level","ui"]))],64))),128))],16)):li("",!0)}}}),QO=Kr({inheritAttrs:!1,__name:"HeaderPopoverLinks",props:{links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(k){const N=Ko(),Q=cr(()=>({wrapper:"p-2 space-y-1",base:"block px-2 py-1.5 rounded-md flex items-start gap-1.5",active:"bg-gray-100/50 dark:bg-gray-800/50 text-primary",inactive:"hover:bg-gray-100/50 dark:hover:bg-gray-800/50",label:"font-semibold text-sm/6 inline-block relative",description:"text-sm leading-snug text-gray-500 dark:text-gray-400 line-clamp-2",icon:{base:"w-4 h-4 flex-shrink-0 mt-1"},externalIcon:{name:N.ui.icons.external,base:"w-3 h-3 absolute top-0.5 -right-3.5 text-gray-400 dark:text-gray-500"}})),oe=k,{ui:he,attrs:O}=io("header.popover.links",Ai(oe,"ui"),Q,Ai(oe,"class"),!0);return(S,e)=>{var t;const v=Os,x=rf;return(t=k.links)!=null&&t.length?(pr(),Wr("div",ii({key:0,class:Fn(he).wrapper},Fn(O)),[(pr(!0),Wr(ki,null,nl(k.links,(b,g)=>(pr(),ti(x,ii({key:g,ref_for:!0},Fn(Oh)(b),{class:Fn(he).base,"active-class":Fn(he).active,"inactive-class":Fn(he).inactive,onClick:b.click}),{default:Yr(()=>[b.icon?(pr(),ti(v,{key:0,name:b.icon,class:Cr(Fn(Jl)(Fn(he).icon.base,b.iconClass))},null,8,["name","class"])):li("",!0),jr("p",{class:Cr([b.target==="_blank"&&"pr-3"])},[jr("span",{class:Cr(Fn(he).label)},[To(wa(b.label)+" ",1),b.target==="_blank"?(pr(),ti(v,{key:0,name:Fn(he).externalIcon.name,class:Cr(Fn(he).externalIcon.base)},null,8,["name","class"])):li("",!0)],2),b.description?(pr(),Wr("span",{key:0,class:Cr(Fn(he).description)},wa(b.description),3)):li("",!0)],2)]),_:2},1040,["class","active-class","inactive-class","onClick"]))),128))],16)):li("",!0)}}});function Al(k){if(k==null)return window;if(k.toString()!=="[object Window]"){var N=k.ownerDocument;return N&&N.defaultView||window}return k}function jf(k){var N=Al(k).Element;return k instanceof N||k instanceof Element}function Zl(k){var N=Al(k).HTMLElement;return k instanceof N||k instanceof HTMLElement}function Jy(k){if(typeof ShadowRoot>"u")return!1;var N=Al(k).ShadowRoot;return k instanceof N||k instanceof ShadowRoot}var zf=Math.max,ng=Math.min,Rh=Math.round;function Gm(){var k=navigator.userAgentData;return k!=null&&k.brands&&Array.isArray(k.brands)?k.brands.map(function(N){return N.brand+"/"+N.version}).join(" "):navigator.userAgent}function V4(){return!/^((?!chrome|android).)*safari/i.test(Gm())}function Dh(k,N,Q){N===void 0&&(N=!1),Q===void 0&&(Q=!1);var oe=k.getBoundingClientRect(),he=1,O=1;N&&Zl(k)&&(he=k.offsetWidth>0&&Rh(oe.width)/k.offsetWidth||1,O=k.offsetHeight>0&&Rh(oe.height)/k.offsetHeight||1);var S=jf(k)?Al(k):window,e=S.visualViewport,v=!V4()&&Q,x=(oe.left+(v&&e?e.offsetLeft:0))/he,t=(oe.top+(v&&e?e.offsetTop:0))/O,b=oe.width/he,g=oe.height/O;return{width:b,height:g,top:t,right:x+b,bottom:t+g,left:x,x,y:t}}function Qy(k){var N=Al(k),Q=N.pageXOffset,oe=N.pageYOffset;return{scrollLeft:Q,scrollTop:oe}}function eI(k){return{scrollLeft:k.scrollLeft,scrollTop:k.scrollTop}}function tI(k){return k===Al(k)||!Zl(k)?Qy(k):eI(k)}function qu(k){return k?(k.nodeName||"").toLowerCase():null}function af(k){return((jf(k)?k.ownerDocument:k.document)||window.document).documentElement}function e1(k){return Dh(af(k)).left+Qy(k).scrollLeft}function dc(k){return Al(k).getComputedStyle(k)}function t1(k){var N=dc(k),Q=N.overflow,oe=N.overflowX,he=N.overflowY;return/auto|scroll|overlay|hidden/.test(Q+he+oe)}function nI(k){var N=k.getBoundingClientRect(),Q=Rh(N.width)/k.offsetWidth||1,oe=Rh(N.height)/k.offsetHeight||1;return Q!==1||oe!==1}function rI(k,N,Q){Q===void 0&&(Q=!1);var oe=Zl(N),he=Zl(N)&&nI(N),O=af(N),S=Dh(k,he,Q),e={scrollLeft:0,scrollTop:0},v={x:0,y:0};return(oe||!oe&&!Q)&&((qu(N)!=="body"||t1(O))&&(e=tI(N)),Zl(N)?(v=Dh(N,!0),v.x+=N.clientLeft,v.y+=N.clientTop):O&&(v.x=e1(O))),{x:S.left+e.scrollLeft-v.x,y:S.top+e.scrollTop-v.y,width:S.width,height:S.height}}function n1(k){var N=Dh(k),Q=k.offsetWidth,oe=k.offsetHeight;return Math.abs(N.width-Q)<=1&&(Q=N.width),Math.abs(N.height-oe)<=1&&(oe=N.height),{x:k.offsetLeft,y:k.offsetTop,width:Q,height:oe}}function kg(k){return qu(k)==="html"?k:k.assignedSlot||k.parentNode||(Jy(k)?k.host:null)||af(k)}function H4(k){return["html","body","#document"].indexOf(qu(k))>=0?k.ownerDocument.body:Zl(k)&&t1(k)?k:H4(kg(k))}function Bp(k,N){var Q;N===void 0&&(N=[]);var oe=H4(k),he=oe===((Q=k.ownerDocument)==null?void 0:Q.body),O=Al(oe),S=he?[O].concat(O.visualViewport||[],t1(oe)?oe:[]):oe,e=N.concat(S);return he?e:e.concat(Bp(kg(S)))}function iI(k){return["table","td","th"].indexOf(qu(k))>=0}function Qb(k){return!Zl(k)||dc(k).position==="fixed"?null:k.offsetParent}function aI(k){var N=/firefox/i.test(Gm()),Q=/Trident/i.test(Gm());if(Q&&Zl(k)){var oe=dc(k);if(oe.position==="fixed")return null}var he=kg(k);for(Jy(he)&&(he=he.host);Zl(he)&&["html","body"].indexOf(qu(he))<0;){var O=dc(he);if(O.transform!=="none"||O.perspective!=="none"||O.contain==="paint"||["transform","perspective"].indexOf(O.willChange)!==-1||N&&O.willChange==="filter"||N&&O.filter&&O.filter!=="none")return he;he=he.parentNode}return null}function yd(k){for(var N=Al(k),Q=Qb(k);Q&&iI(Q)&&dc(Q).position==="static";)Q=Qb(Q);return Q&&(qu(Q)==="html"||qu(Q)==="body"&&dc(Q).position==="static")?N:Q||aI(k)||N}var Tl="top",xu="bottom",bu="right",kl="left",r1="auto",xd=[Tl,xu,bu,kl],zh="start",nd="end",oI="clippingParents",q4="viewport",kp="popper",sI="reference",e_=xd.reduce(function(k,N){return k.concat([N+"-"+zh,N+"-"+nd])},[]),G4=[].concat(xd,[r1]).reduce(function(k,N){return k.concat([N,N+"-"+zh,N+"-"+nd])},[]),lI="beforeRead",uI="read",cI="afterRead",fI="beforeMain",hI="main",pI="afterMain",dI="beforeWrite",gI="write",vI="afterWrite",mI=[lI,uI,cI,fI,hI,pI,dI,gI,vI];function yI(k){var N=new Map,Q=new Set,oe=[];k.forEach(function(O){N.set(O.name,O)});function he(O){Q.add(O.name);var S=[].concat(O.requires||[],O.requiresIfExists||[]);S.forEach(function(e){if(!Q.has(e)){var v=N.get(e);v&&he(v)}}),oe.push(O)}return k.forEach(function(O){Q.has(O.name)||he(O)}),oe}function xI(k){var N=yI(k);return mI.reduce(function(Q,oe){return Q.concat(N.filter(function(he){return he.phase===oe}))},[])}function bI(k){var N;return function(){return N||(N=new Promise(function(Q){Promise.resolve().then(function(){N=void 0,Q(k())})})),N}}function _I(k){var N=k.reduce(function(Q,oe){var he=Q[oe.name];return Q[oe.name]=he?Object.assign({},he,oe,{options:Object.assign({},he.options,oe.options),data:Object.assign({},he.data,oe.data)}):oe,Q},{});return Object.keys(N).map(function(Q){return N[Q]})}function wI(k,N){var Q=Al(k),oe=af(k),he=Q.visualViewport,O=oe.clientWidth,S=oe.clientHeight,e=0,v=0;if(he){O=he.width,S=he.height;var x=V4();(x||!x&&N==="fixed")&&(e=he.offsetLeft,v=he.offsetTop)}return{width:O,height:S,x:e+e1(k),y:v}}function TI(k){var N,Q=af(k),oe=Qy(k),he=(N=k.ownerDocument)==null?void 0:N.body,O=zf(Q.scrollWidth,Q.clientWidth,he?he.scrollWidth:0,he?he.clientWidth:0),S=zf(Q.scrollHeight,Q.clientHeight,he?he.scrollHeight:0,he?he.clientHeight:0),e=-oe.scrollLeft+e1(k),v=-oe.scrollTop;return dc(he||Q).direction==="rtl"&&(e+=zf(Q.clientWidth,he?he.clientWidth:0)-O),{width:O,height:S,x:e,y:v}}function W4(k,N){var Q=N.getRootNode&&N.getRootNode();if(k.contains(N))return!0;if(Q&&Jy(Q)){var oe=N;do{if(oe&&k.isSameNode(oe))return!0;oe=oe.parentNode||oe.host}while(oe)}return!1}function Wm(k){return Object.assign({},k,{left:k.x,top:k.y,right:k.x+k.width,bottom:k.y+k.height})}function kI(k,N){var Q=Dh(k,!1,N==="fixed");return Q.top=Q.top+k.clientTop,Q.left=Q.left+k.clientLeft,Q.bottom=Q.top+k.clientHeight,Q.right=Q.left+k.clientWidth,Q.width=k.clientWidth,Q.height=k.clientHeight,Q.x=Q.left,Q.y=Q.top,Q}function t_(k,N,Q){return N===q4?Wm(wI(k,Q)):jf(N)?kI(N,Q):Wm(TI(af(k)))}function AI(k){var N=Bp(kg(k)),Q=["absolute","fixed"].indexOf(dc(k).position)>=0,oe=Q&&Zl(k)?yd(k):k;return jf(oe)?N.filter(function(he){return jf(he)&&W4(he,oe)&&qu(he)!=="body"}):[]}function MI(k,N,Q,oe){var he=N==="clippingParents"?AI(k):[].concat(N),O=[].concat(he,[Q]),S=O[0],e=O.reduce(function(v,x){var t=t_(k,x,oe);return v.top=zf(t.top,v.top),v.right=ng(t.right,v.right),v.bottom=ng(t.bottom,v.bottom),v.left=zf(t.left,v.left),v},t_(k,S,oe));return e.width=e.right-e.left,e.height=e.bottom-e.top,e.x=e.left,e.y=e.top,e}function Vu(k){return k.split("-")[0]}function Fh(k){return k.split("-")[1]}function i1(k){return["top","bottom"].indexOf(k)>=0?"x":"y"}function Y4(k){var N=k.reference,Q=k.element,oe=k.placement,he=oe?Vu(oe):null,O=oe?Fh(oe):null,S=N.x+N.width/2-Q.width/2,e=N.y+N.height/2-Q.height/2,v;switch(he){case Tl:v={x:S,y:N.y-Q.height};break;case xu:v={x:S,y:N.y+N.height};break;case bu:v={x:N.x+N.width,y:e};break;case kl:v={x:N.x-Q.width,y:e};break;default:v={x:N.x,y:N.y}}var x=he?i1(he):null;if(x!=null){var t=x==="y"?"height":"width";switch(O){case zh:v[x]=v[x]-(N[t]/2-Q[t]/2);break;case nd:v[x]=v[x]+(N[t]/2-Q[t]/2);break}}return v}function $4(){return{top:0,right:0,bottom:0,left:0}}function Z4(k){return Object.assign({},$4(),k)}function X4(k,N){return N.reduce(function(Q,oe){return Q[oe]=k,Q},{})}function a1(k,N){N===void 0&&(N={});var Q=N,oe=Q.placement,he=oe===void 0?k.placement:oe,O=Q.strategy,S=O===void 0?k.strategy:O,e=Q.boundary,v=e===void 0?oI:e,x=Q.rootBoundary,t=x===void 0?q4:x,b=Q.elementContext,g=b===void 0?kp:b,c=Q.altBoundary,s=c===void 0?!1:c,n=Q.padding,i=n===void 0?0:n,a=Z4(typeof i!="number"?i:X4(i,xd)),r=g===kp?sI:kp,o=k.rects.popper,l=k.elements[s?r:g],u=MI(jf(l)?l:l.contextElement||af(k.elements.popper),v,t,S),h=Dh(k.elements.reference),f=Y4({reference:h,element:o,strategy:"absolute",placement:he}),T=Wm(Object.assign({},o,f)),d=g===kp?T:h,y={top:u.top-d.top+a.top,bottom:d.bottom-u.bottom+a.bottom,left:u.left-d.left+a.left,right:d.right-u.right+a.right},m=k.modifiersData.offset;if(g===kp&&m){var w=m[he];Object.keys(y).forEach(function(_){var A=[bu,xu].indexOf(_)>=0?1:-1,p=[Tl,xu].indexOf(_)>=0?"y":"x";y[_]+=w[p]*A})}return y}var n_={placement:"bottom",modifiers:[],strategy:"absolute"};function r_(){for(var k=arguments.length,N=new Array(k),Q=0;Q<k;Q++)N[Q]=arguments[Q];return!N.some(function(oe){return!(oe&&typeof oe.getBoundingClientRect=="function")})}function SI(k){k===void 0&&(k={});var N=k,Q=N.defaultModifiers,oe=Q===void 0?[]:Q,he=N.defaultOptions,O=he===void 0?n_:he;return function(e,v,x){x===void 0&&(x=O);var t={placement:"bottom",orderedModifiers:[],options:Object.assign({},n_,O),modifiersData:{},elements:{reference:e,popper:v},attributes:{},styles:{}},b=[],g=!1,c={state:t,setOptions:function(a){var r=typeof a=="function"?a(t.options):a;n(),t.options=Object.assign({},O,t.options,r),t.scrollParents={reference:jf(e)?Bp(e):e.contextElement?Bp(e.contextElement):[],popper:Bp(v)};var o=xI(_I([].concat(oe,t.options.modifiers)));return t.orderedModifiers=o.filter(function(l){return l.enabled}),s(),c.update()},forceUpdate:function(){if(!g){var a=t.elements,r=a.reference,o=a.popper;if(r_(r,o)){t.rects={reference:rI(r,yd(o),t.options.strategy==="fixed"),popper:n1(o)},t.reset=!1,t.placement=t.options.placement,t.orderedModifiers.forEach(function(y){return t.modifiersData[y.name]=Object.assign({},y.data)});for(var l=0;l<t.orderedModifiers.length;l++){if(t.reset===!0){t.reset=!1,l=-1;continue}var u=t.orderedModifiers[l],h=u.fn,f=u.options,T=f===void 0?{}:f,d=u.name;typeof h=="function"&&(t=h({state:t,options:T,name:d,instance:c})||t)}}}},update:bI(function(){return new Promise(function(i){c.forceUpdate(),i(t)})}),destroy:function(){n(),g=!0}};if(!r_(e,v))return c;c.setOptions(x).then(function(i){!g&&x.onFirstUpdate&&x.onFirstUpdate(i)});function s(){t.orderedModifiers.forEach(function(i){var a=i.name,r=i.options,o=r===void 0?{}:r,l=i.effect;if(typeof l=="function"){var u=l({state:t,name:a,instance:c,options:o}),h=function(){};b.push(u||h)}})}function n(){b.forEach(function(i){return i()}),b=[]}return c}}var M0={passive:!0};function EI(k){var N=k.state,Q=k.instance,oe=k.options,he=oe.scroll,O=he===void 0?!0:he,S=oe.resize,e=S===void 0?!0:S,v=Al(N.elements.popper),x=[].concat(N.scrollParents.reference,N.scrollParents.popper);return O&&x.forEach(function(t){t.addEventListener("scroll",Q.update,M0)}),e&&v.addEventListener("resize",Q.update,M0),function(){O&&x.forEach(function(t){t.removeEventListener("scroll",Q.update,M0)}),e&&v.removeEventListener("resize",Q.update,M0)}}const K4={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:EI,data:{}};function LI(k){var N=k.state,Q=k.name;N.modifiersData[Q]=Y4({reference:N.rects.reference,element:N.rects.popper,strategy:"absolute",placement:N.placement})}const CI={name:"popperOffsets",enabled:!0,phase:"read",fn:LI,data:{}};var PI={top:"auto",right:"auto",bottom:"auto",left:"auto"};function OI(k,N){var Q=k.x,oe=k.y,he=N.devicePixelRatio||1;return{x:Rh(Q*he)/he||0,y:Rh(oe*he)/he||0}}function i_(k){var N,Q=k.popper,oe=k.popperRect,he=k.placement,O=k.variation,S=k.offsets,e=k.position,v=k.gpuAcceleration,x=k.adaptive,t=k.roundOffsets,b=k.isFixed,g=S.x,c=g===void 0?0:g,s=S.y,n=s===void 0?0:s,i=typeof t=="function"?t({x:c,y:n}):{x:c,y:n};c=i.x,n=i.y;var a=S.hasOwnProperty("x"),r=S.hasOwnProperty("y"),o=kl,l=Tl,u=window;if(x){var h=yd(Q),f="clientHeight",T="clientWidth";if(h===Al(Q)&&(h=af(Q),dc(h).position!=="static"&&e==="absolute"&&(f="scrollHeight",T="scrollWidth")),h=h,he===Tl||(he===kl||he===bu)&&O===nd){l=xu;var d=b&&h===u&&u.visualViewport?u.visualViewport.height:h[f];n-=d-oe.height,n*=v?1:-1}if(he===kl||(he===Tl||he===xu)&&O===nd){o=bu;var y=b&&h===u&&u.visualViewport?u.visualViewport.width:h[T];c-=y-oe.width,c*=v?1:-1}}var m=Object.assign({position:e},x&&PI),w=t===!0?OI({x:c,y:n},Al(Q)):{x:c,y:n};if(c=w.x,n=w.y,v){var _;return Object.assign({},m,(_={},_[l]=r?"0":"",_[o]=a?"0":"",_.transform=(u.devicePixelRatio||1)<=1?"translate("+c+"px, "+n+"px)":"translate3d("+c+"px, "+n+"px, 0)",_))}return Object.assign({},m,(N={},N[l]=r?n+"px":"",N[o]=a?c+"px":"",N.transform="",N))}function II(k){var N=k.state,Q=k.options,oe=Q.gpuAcceleration,he=oe===void 0?!0:oe,O=Q.adaptive,S=O===void 0?!0:O,e=Q.roundOffsets,v=e===void 0?!0:e,x={placement:Vu(N.placement),variation:Fh(N.placement),popper:N.elements.popper,popperRect:N.rects.popper,gpuAcceleration:he,isFixed:N.options.strategy==="fixed"};N.modifiersData.popperOffsets!=null&&(N.styles.popper=Object.assign({},N.styles.popper,i_(Object.assign({},x,{offsets:N.modifiersData.popperOffsets,position:N.options.strategy,adaptive:S,roundOffsets:v})))),N.modifiersData.arrow!=null&&(N.styles.arrow=Object.assign({},N.styles.arrow,i_(Object.assign({},x,{offsets:N.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:v})))),N.attributes.popper=Object.assign({},N.attributes.popper,{"data-popper-placement":N.placement})}const J4={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:II,data:{}};function RI(k){var N=k.state;Object.keys(N.elements).forEach(function(Q){var oe=N.styles[Q]||{},he=N.attributes[Q]||{},O=N.elements[Q];!Zl(O)||!qu(O)||(Object.assign(O.style,oe),Object.keys(he).forEach(function(S){var e=he[S];e===!1?O.removeAttribute(S):O.setAttribute(S,e===!0?"":e)}))})}function DI(k){var N=k.state,Q={popper:{position:N.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(N.elements.popper.style,Q.popper),N.styles=Q,N.elements.arrow&&Object.assign(N.elements.arrow.style,Q.arrow),function(){Object.keys(N.elements).forEach(function(oe){var he=N.elements[oe],O=N.attributes[oe]||{},S=Object.keys(N.styles.hasOwnProperty(oe)?N.styles[oe]:Q[oe]),e=S.reduce(function(v,x){return v[x]="",v},{});!Zl(he)||!qu(he)||(Object.assign(he.style,e),Object.keys(O).forEach(function(v){he.removeAttribute(v)}))})}}const zI={name:"applyStyles",enabled:!0,phase:"write",fn:RI,effect:DI,requires:["computeStyles"]};var FI=[K4,CI,J4,zI],BI={left:"right",right:"left",bottom:"top",top:"bottom"};function B0(k){return k.replace(/left|right|bottom|top/g,function(N){return BI[N]})}var NI={start:"end",end:"start"};function a_(k){return k.replace(/start|end/g,function(N){return NI[N]})}function jI(k,N){N===void 0&&(N={});var Q=N,oe=Q.placement,he=Q.boundary,O=Q.rootBoundary,S=Q.padding,e=Q.flipVariations,v=Q.allowedAutoPlacements,x=v===void 0?G4:v,t=Fh(oe),b=t?e?e_:e_.filter(function(s){return Fh(s)===t}):xd,g=b.filter(function(s){return x.indexOf(s)>=0});g.length===0&&(g=b);var c=g.reduce(function(s,n){return s[n]=a1(k,{placement:n,boundary:he,rootBoundary:O,padding:S})[Vu(n)],s},{});return Object.keys(c).sort(function(s,n){return c[s]-c[n]})}function UI(k){if(Vu(k)===r1)return[];var N=B0(k);return[a_(k),N,a_(N)]}function VI(k){var N=k.state,Q=k.options,oe=k.name;if(!N.modifiersData[oe]._skip){for(var he=Q.mainAxis,O=he===void 0?!0:he,S=Q.altAxis,e=S===void 0?!0:S,v=Q.fallbackPlacements,x=Q.padding,t=Q.boundary,b=Q.rootBoundary,g=Q.altBoundary,c=Q.flipVariations,s=c===void 0?!0:c,n=Q.allowedAutoPlacements,i=N.options.placement,a=Vu(i),r=a===i,o=v||(r||!s?[B0(i)]:UI(i)),l=[i].concat(o).reduce(function(z,V){return z.concat(Vu(V)===r1?jI(N,{placement:V,boundary:t,rootBoundary:b,padding:x,flipVariations:s,allowedAutoPlacements:n}):V)},[]),u=N.rects.reference,h=N.rects.popper,f=new Map,T=!0,d=l[0],y=0;y<l.length;y++){var m=l[y],w=Vu(m),_=Fh(m)===zh,A=[Tl,xu].indexOf(w)>=0,p=A?"width":"height",L=a1(N,{placement:m,boundary:t,rootBoundary:b,altBoundary:g,padding:x}),M=A?_?bu:kl:_?xu:Tl;u[p]>h[p]&&(M=B0(M));var C=B0(M),R=[];if(O&&R.push(L[w]<=0),e&&R.push(L[M]<=0,L[C]<=0),R.every(function(z){return z})){d=m,T=!1;break}f.set(m,R)}if(T)for(var I=s?3:1,D=function(V){var X=l.find(function(j){var H=f.get(j);if(H)return H.slice(0,V).every(function(G){return G})});if(X)return d=X,"break"},F=I;F>0;F--){var q=D(F);if(q==="break")break}N.placement!==d&&(N.modifiersData[oe]._skip=!0,N.placement=d,N.reset=!0)}}const HI={name:"flip",enabled:!0,phase:"main",fn:VI,requiresIfExists:["offset"],data:{_skip:!1}};function qI(k,N,Q){var oe=Vu(k),he=[kl,Tl].indexOf(oe)>=0?-1:1,O=typeof Q=="function"?Q(Object.assign({},N,{placement:k})):Q,S=O[0],e=O[1];return S=S||0,e=(e||0)*he,[kl,bu].indexOf(oe)>=0?{x:e,y:S}:{x:S,y:e}}function GI(k){var N=k.state,Q=k.options,oe=k.name,he=Q.offset,O=he===void 0?[0,0]:he,S=G4.reduce(function(t,b){return t[b]=qI(b,N.rects,O),t},{}),e=S[N.placement],v=e.x,x=e.y;N.modifiersData.popperOffsets!=null&&(N.modifiersData.popperOffsets.x+=v,N.modifiersData.popperOffsets.y+=x),N.modifiersData[oe]=S}const WI={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:GI};function YI(k){return k==="x"?"y":"x"}function Np(k,N,Q){return zf(k,ng(N,Q))}function $I(k,N,Q){var oe=Np(k,N,Q);return oe>Q?Q:oe}function ZI(k){var N=k.state,Q=k.options,oe=k.name,he=Q.mainAxis,O=he===void 0?!0:he,S=Q.altAxis,e=S===void 0?!1:S,v=Q.boundary,x=Q.rootBoundary,t=Q.altBoundary,b=Q.padding,g=Q.tether,c=g===void 0?!0:g,s=Q.tetherOffset,n=s===void 0?0:s,i=a1(N,{boundary:v,rootBoundary:x,padding:b,altBoundary:t}),a=Vu(N.placement),r=Fh(N.placement),o=!r,l=i1(a),u=YI(l),h=N.modifiersData.popperOffsets,f=N.rects.reference,T=N.rects.popper,d=typeof n=="function"?n(Object.assign({},N.rects,{placement:N.placement})):n,y=typeof d=="number"?{mainAxis:d,altAxis:d}:Object.assign({mainAxis:0,altAxis:0},d),m=N.modifiersData.offset?N.modifiersData.offset[N.placement]:null,w={x:0,y:0};if(h){if(O){var _,A=l==="y"?Tl:kl,p=l==="y"?xu:bu,L=l==="y"?"height":"width",M=h[l],C=M+i[A],R=M-i[p],I=c?-T[L]/2:0,D=r===zh?f[L]:T[L],F=r===zh?-T[L]:-f[L],q=N.elements.arrow,z=c&&q?n1(q):{width:0,height:0},V=N.modifiersData["arrow#persistent"]?N.modifiersData["arrow#persistent"].padding:$4(),X=V[A],j=V[p],H=Np(0,f[L],z[L]),G=o?f[L]/2-I-H-X-y.mainAxis:D-H-X-y.mainAxis,ie=o?-f[L]/2+I+H+j+y.mainAxis:F+H+j+y.mainAxis,re=N.elements.arrow&&yd(N.elements.arrow),te=re?l==="y"?re.clientTop||0:re.clientLeft||0:0,K=(_=m==null?void 0:m[l])!=null?_:0,J=M+G-K-te,$=M+ie-K,ae=Np(c?ng(C,J):C,M,c?zf(R,$):R);h[l]=ae,w[l]=ae-M}if(e){var ue,ce=l==="x"?Tl:kl,de=l==="x"?xu:bu,pe=h[u],me=u==="y"?"height":"width",be=pe+i[ce],we=pe-i[de],Te=[Tl,kl].indexOf(a)!==-1,Le=(ue=m==null?void 0:m[u])!=null?ue:0,Ie=Te?be:pe-f[me]-T[me]-Le+y.altAxis,_e=Te?pe+f[me]+T[me]-Le-y.altAxis:we,fe=c&&Te?$I(Ie,pe,_e):Np(c?Ie:be,pe,c?_e:we);h[u]=fe,w[u]=fe-pe}N.modifiersData[oe]=w}}const XI={name:"preventOverflow",enabled:!0,phase:"main",fn:ZI,requiresIfExists:["offset"]};var KI=function(N,Q){return N=typeof N=="function"?N(Object.assign({},Q.rects,{placement:Q.placement})):N,Z4(typeof N!="number"?N:X4(N,xd))};function JI(k){var N,Q=k.state,oe=k.name,he=k.options,O=Q.elements.arrow,S=Q.modifiersData.popperOffsets,e=Vu(Q.placement),v=i1(e),x=[kl,bu].indexOf(e)>=0,t=x?"height":"width";if(!(!O||!S)){var b=KI(he.padding,Q),g=n1(O),c=v==="y"?Tl:kl,s=v==="y"?xu:bu,n=Q.rects.reference[t]+Q.rects.reference[v]-S[v]-Q.rects.popper[t],i=S[v]-Q.rects.reference[v],a=yd(O),r=a?v==="y"?a.clientHeight||0:a.clientWidth||0:0,o=n/2-i/2,l=b[c],u=r-g[t]-b[s],h=r/2-g[t]/2+o,f=Np(l,h,u),T=v;Q.modifiersData[oe]=(N={},N[T]=f,N.centerOffset=f-h,N)}}function QI(k){var N=k.state,Q=k.options,oe=Q.element,he=oe===void 0?"[data-popper-arrow]":oe;he!=null&&(typeof he=="string"&&(he=N.elements.popper.querySelector(he),!he)||W4(N.elements.popper,he)&&(N.elements.arrow=he))}const eR={name:"arrow",enabled:!0,phase:"main",fn:JI,effect:QI,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},tR=SI({defaultModifiers:[...FI,WI,HI,XI,J4,K4,eR]});function nR({locked:k=!1,overflowPadding:N=8,offsetDistance:Q=8,offsetSkid:oe=0,gpuAcceleration:he=!0,adaptive:O=!0,scroll:S=!0,resize:e=!0,arrow:v=!1,placement:x,strategy:t},b){const g=wr(null),c=wr(null),s=wr(null);return la(()=>{fo(n=>{if(!c.value||!g.value&&!(b!=null&&b.value))return;const i=eg(c),a=eg(g);if(!(i instanceof HTMLElement)||!a)return;const r={modifiers:[{name:"flip",enabled:!k},{name:"preventOverflow",options:{padding:N}},{name:"offset",options:{offset:[oe,Q]}},{name:"computeStyles",options:{adaptive:O,gpuAcceleration:he}},{name:"eventListeners",options:{scroll:S,resize:e}},{name:"arrow",enabled:v}]};x&&(r.placement=x),t&&(r.strategy=t),s.value=tR(a,i,r),n(s.value.destroy)})}),[g,c,s]}const Uv=Tu(Ia.ui.strategy,Ia.ui.popover,nC),rR=Kr({components:{HPopover:F4,HPopoverButton:zO,HPopoverPanel:FO},inheritAttrs:!1,props:{mode:{type:String,default:"click",validator:k=>["click","hover"].includes(k)},open:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},openDelay:{type:Number,default:()=>Uv.default.openDelay},closeDelay:{type:Number,default:()=>Uv.default.closeDelay},overlay:{type:Boolean,default:!1},popper:{type:Object,default:()=>({})},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:open"],setup(k,{emit:N}){const{ui:Q,attrs:oe}=io("popover",Ai(k,"ui"),Uv,Ai(k,"class")),he=cr(()=>gg(k.mode==="hover"?{offsetDistance:0}:{},k.popper,Q.value.popper)),[O,S]=nR(he.value),e=wr(null),v=wr(null);let x=null,t=null;la(()=>{var a,r;const n=(a=e.value)==null?void 0:a.$.provides;if(!n)return;const i=Object.getOwnPropertySymbols(n);v.value=i.length&&n[i[0]],k.open&&((r=v.value)==null||r.togglePopover())});const b=cr(()=>{var r,o,l;if(k.mode!=="hover")return{};const n=((r=k.popper)==null?void 0:r.offsetDistance)||((o=Q.value.popper)==null?void 0:o.offsetDistance)||8,i=(l=he.value.placement)==null?void 0:l.split("-")[0],a=`${n}px`;return i==="top"||i==="bottom"?{paddingTop:a,paddingBottom:a}:i==="left"||i==="right"?{paddingLeft:a,paddingRight:a}:{paddingTop:a,paddingBottom:a,paddingLeft:a,paddingRight:a}});function g(n){!n.cancelable||!v.value||(v.value.popoverState===0?v.value.closePopover():v.value.togglePopover())}function c(){k.mode!=="hover"||!v.value||(t&&(clearTimeout(t),t=null),v.value.popoverState!==0&&(x=x||setTimeout(()=>{v.value.togglePopover&&v.value.togglePopover(),x=null},k.openDelay)))}function s(){k.mode!=="hover"||!v.value||(x&&(clearTimeout(x),x=null),v.value.popoverState!==1&&(t=t||setTimeout(()=>{v.value.closePopover&&v.value.closePopover(),t=null},k.closeDelay)))}return na(()=>k.open,(n,i)=>{v.value&&(i===void 0||n===i||(n?v.value.popoverState=0:v.value.closePopover()))}),na(()=>{var n;return(n=v.value)==null?void 0:n.popoverState},(n,i)=>{i===void 0||n===i||N("update:open",n===0)}),Vy(()=>jy("$dcv2Y3vSTA")),{ui:Q,attrs:oe,popover:e,popper:he,trigger:O,container:S,containerStyle:b,onTouchStart:g,onMouseEnter:c,onMouseLeave:s}}}),iR=["disabled"];function aR(k,N,Q,oe,he,O){const S=fc("HPopoverButton"),e=fc("HPopoverPanel"),v=fc("HPopover");return pr(),ti(v,ii({ref:"popover",class:k.ui.wrapper},k.attrs,{onMouseleave:k.onMouseLeave}),{default:Yr(({open:x,close:t})=>[Rr(S,{ref:"trigger",as:"div",disabled:k.disabled,class:Cr(k.ui.trigger),role:"button",onMouseenter:k.onMouseEnter,onTouchstartPassive:k.onTouchStart},{default:Yr(()=>[fi(k.$slots,"default",{open:x,close:t},()=>[jr("button",{disabled:k.disabled}," Open ",8,iR)])]),_:2},1032,["disabled","class","onMouseenter","onTouchstartPassive"]),k.overlay?(pr(),ti(Jc,ii({key:0,appear:""},k.ui.overlay.transition),{default:Yr(()=>[x?(pr(),Wr("div",{key:0,class:Cr([k.ui.overlay.base,k.ui.overlay.background])},null,2)):li("",!0)]),_:2},1040)):li("",!0),x?(pr(),Wr("div",{key:1,ref:"container",class:Cr([k.ui.container,k.ui.width]),style:Kc(k.containerStyle),onMouseenter:N[0]||(N[0]=(...b)=>k.onMouseEnter&&k.onMouseEnter(...b))},[Rr(Jc,ii({appear:""},k.ui.transition),{default:Yr(()=>[jr("div",null,[k.popper.arrow?(pr(),Wr("div",{key:0,"data-popper-arrow":"",class:Cr(Object.values(k.ui.arrow))},null,2)):li("",!0),Rr(e,{class:Cr([k.ui.base,k.ui.background,k.ui.ring,k.ui.rounded,k.ui.shadow]),static:""},{default:Yr(()=>[fi(k.$slots,"panel",{open:x,close:t})]),_:2},1032,["class"])])]),_:2},1040)],38)):li("",!0)]),_:3},16,["class","onMouseleave"])}const oR=Ps(rR,[["render",aR]]),sR=Kr({inheritAttrs:!1,__name:"HeaderLinks",props:{links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(k){const N=Ko(),Q=cr(()=>({wrapper:"flex items-center gap-x-8",base:"text-sm/6 font-semibold flex items-center gap-1",active:"text-primary",inactive:"hover:text-primary",trailingIcon:{name:N.ui.icons.chevron,base:"w-5 h-5 transform transition-transform duration-200 flex-shrink-0",active:"rotate-180",inactive:""},externalIcon:{name:N.ui.icons.external,base:"w-3 h-3 absolute top-0.5 -right-3.5 text-gray-400 dark:text-gray-500"},default:{popover:{mode:"hover",openDelay:0,ui:{width:"max-w-[16rem]"}}}})),oe=k,{ui:he,attrs:O}=io("header.links",Ai(oe,"ui"),Q,Ai(oe,"class"),!0);return(S,e)=>{var g;const v=Os,x=rf,t=QO,b=oR;return(g=k.links)!=null&&g.length?(pr(),Wr("ul",ii({key:0,class:Fn(he).wrapper},Fn(O)),[(pr(!0),Wr(ki,null,nl(k.links,(c,s)=>{var n;return pr(),Wr("li",{key:s,class:"relative"},[(n=c.children)!=null&&n.length?(pr(),ti(b,ii({key:0,ref_for:!0},Fn(he).default.popover),{default:Yr(({open:i})=>[Rr(x,ii({ref_for:!0},Fn(Oh)(c),{class:Fn(he).base,"active-class":Fn(he).active,"inactive-class":Fn(he).inactive,onClick:c.click}),{default:Yr(()=>[fi(S.$slots,"label",{link:c},()=>[To(wa(c.label),1)]),Rr(v,{name:Fn(he).trailingIcon.name,class:Cr([Fn(he).trailingIcon.base,i?Fn(he).trailingIcon.active:Fn(he).trailingIcon.inactive])},null,8,["name","class"])]),_:2},1040,["class","active-class","inactive-class","onClick"])]),panel:Yr(({close:i})=>[fi(S.$slots,"panel",{link:c,close:i},()=>[Rr(t,{links:c.children,onClick:i},null,8,["links","onClick"])])]),_:2},1040)):(pr(),ti(x,ii({key:1,ref_for:!0},Fn(Oh)(c),{class:Fn(he).base,"active-class":Fn(he).active,"inactive-class":Fn(he).inactive,onClick:c.click}),{default:Yr(()=>[fi(S.$slots,"label",{link:c},()=>[To(wa(c.label),1)]),c.target==="_blank"?(pr(),ti(v,{key:0,name:Fn(he).externalIcon.name,class:Cr(Fn(he).externalIcon.base)},null,8,["name","class"])):li("",!0)]),_:2},1040,["class","active-class","inactive-class","onClick"]))])}),128))],16)):li("",!0)}}}),lR=Tu(Ia.ui.strategy,Ia.ui.container,tC),uR=Kr({inheritAttrs:!1,props:{as:{type:String,default:"div"},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(k){const{ui:N,attrs:Q}=io("container",Ai(k,"ui"),lR),oe=cr(()=>Jl(Xo(N.value.base,N.value.padding,N.value.constrained),k.class));return{ui:N,attrs:Q,containerClass:oe}}});function cR(k,N,Q,oe,he,O){return pr(),ti(ad(k.as),ii({class:k.containerClass},k.attrs),{default:Yr(()=>[fi(k.$slots,"default")]),_:3},16,["class"])}const o1=Ps(uR,[["render",cR]]),fR=Kr({inheritAttrs:!1,__name:"AsideLinks",props:{links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(k){const N=Ko(),Q=cr(()=>({wrapper:"space-y-3 mb-3 lg:mb-6 -mx-1 lg:mx-0",base:"flex items-center gap-1.5 lg:gap-2 group",active:"text-primary font-semibold",inactive:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 font-medium",icon:{wrapper:"rounded-md p-1 inline-flex ring-inset ring-1",base:"w-4 h-4 flex-shrink-0",active:"bg-primary ring-primary text-background",inactive:"bg-gray-100/50 dark:bg-gray-800/50 ring-gray-300 dark:ring-gray-700 group-hover:bg-primary group-hover:ring-primary group-hover:text-background"},externalIcon:{name:N.ui.icons.external,base:"w-3 h-3 absolute top-0.5 -right-3.5 text-gray-400 dark:text-gray-500"},label:"text-sm/6 relative"})),oe=k,{ui:he,attrs:O}=io("aside.links",Ai(oe,"ui"),Q,Ai(oe,"class"),!0);return(S,e)=>{var t;const v=Os,x=rf;return(t=k.links)!=null&&t.length?(pr(),Wr("div",ii({key:0,class:Fn(he).wrapper},Fn(O)),[(pr(!0),Wr(ki,null,nl(k.links,(b,g)=>(pr(),ti(x,ii({key:g,ref_for:!0},Fn(Oh)(b),{class:Fn(he).base,"active-class":Fn(he).active,"inactive-class":Fn(he).inactive,onClick:b.click}),{default:Yr(({isActive:c})=>[b.icon?(pr(),Wr("div",{key:0,class:Cr([Fn(he).icon.wrapper,b.active||c?Fn(he).icon.active:Fn(he).icon.inactive])},[Rr(v,{name:b.icon,class:Cr(Fn(Jl)(Fn(he).icon.base,b.iconClass))},null,8,["name","class"])],2)):li("",!0),jr("span",{class:Cr(Fn(he).label)},[To(wa(b.label)+" ",1),b.target==="_blank"?(pr(),ti(v,{key:0,name:Fn(he).externalIcon.name,class:Cr(Fn(he).externalIcon.base)},null,8,["name","class"])):li("",!0)],2)]),_:2},1040,["class","active-class","inactive-class","onClick"]))),128))],16)):li("",!0)}}}),Ym=k=>k.map(N=>{if(!N.children||typeof N.children=="string")return N.children||"";if(Array.isArray(N.children))return Ym(N.children);if(N.children.default)return Ym(N.children.default())}).join(""),hR=Kr({inheritAttrs:!1,__name:"Header",props:{to:{type:String,default:"/"},title:{type:String,default:void 0},links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(k){const N=Ko(),Q=cr(()=>({wrapper:"bg-background/75 backdrop-blur border-b border-gray-200 dark:border-gray-800 -mb-px sticky top-0 z-50",container:"flex items-center justify-between gap-3 h-[--header-height]",left:"lg:flex-1 flex items-center gap-1.5",center:"hidden lg:flex",right:"flex items-center justify-end lg:flex-1 gap-1.5",logo:"flex-shrink-0 font-bold text-xl text-gray-900 dark:text-white flex items-end gap-1.5",panel:{wrapper:"fixed inset-0 z-50 overflow-y-auto bg-background lg:hidden",header:"px-4 sm:px-6",body:"px-4 sm:px-6 pt-3 pb-6"},button:{base:"lg:hidden",icon:{open:N.ui.icons.menu,close:N.ui.icons.close}}})),oe=k,he=pc(),O=X_(),{isHeaderDialogOpen:S}=f4(),{ui:e,attrs:v}=io("header",Ai(oe,"ui"),Q,Ai(oe,"class"),!0),x=cr(()=>(oe.title||O.logo&&Ym(O.logo())||"Logo").trim());return na(()=>he.fullPath,()=>{S.value=!1}),Vy(()=>jy("$Vr9J0fb80I")),(t,b)=>{const g=c4,c=sR,s=ku,n=o1,i=fR;return pr(),Wr("header",ii({class:Fn(e).wrapper},Fn(v)),[fi(t.$slots,"top"),Rr(n,{class:Cr(Fn(e).container)},{default:Yr(()=>[jr("div",{class:Cr(Fn(e).left)},[fi(t.$slots,"left",{},()=>[Rr(g,{to:k.to,"aria-label":Fn(x),class:Cr(Fn(e).logo)},{default:Yr(()=>[fi(t.$slots,"logo",{},()=>[To(wa(k.title||"Nuxt UI Pro"),1)])]),_:3},8,["to","aria-label","class"])])],2),fi(t.$slots,"center",{},()=>[Rr(c,{links:k.links,class:Cr(Fn(e).center)},null,8,["links","class"])]),jr("div",{class:Cr(Fn(e).right)},[fi(t.$slots,"right"),fi(t.$slots,"panel-button",{open:Fn(S)},()=>{var a,r;return[k.links.length||t.$slots.panel?(pr(),ti(s,ii({key:0,class:Fn(e).button.base},(r=(a=t.$ui)==null?void 0:a.button)==null?void 0:r.secondary,{"aria-label":`${Fn(S)?"Close":"Open"} Menu`,icon:Fn(S)?Fn(e).button.icon.close:Fn(e).button.icon.open,onClick:b[0]||(b[0]=o=>S.value=!Fn(S))}),null,16,["class","aria-label","icon"])):li("",!0)]})],2)]),_:3},8,["class"]),fi(t.$slots,"bottom"),Rr(Fn(j4),{show:Fn(S),as:"template"},{default:Yr(()=>[Rr(Fn(MO),{as:"div",onClose:b[2]||(b[2]=a=>S.value=!1)},{default:Yr(()=>[Rr(Fn(SO),{class:Cr(Fn(e).panel.wrapper)},{default:Yr(()=>[jr("div",{class:Cr([Fn(e).panel.header,Fn(e).wrapper])},[jr("div",{class:Cr(Fn(e).container)},[jr("div",{class:Cr(Fn(e).left)},[fi(t.$slots,"left",{},()=>[Rr(g,{to:k.to,"aria-label":Fn(x),class:Cr(Fn(e).logo)},{default:Yr(()=>[fi(t.$slots,"logo",{},()=>[To(wa(k.title||"Nuxt UI Pro"),1)])]),_:3},8,["to","aria-label","class"])])],2),fi(t.$slots,"center"),jr("div",{class:Cr(Fn(e).right)},[fi(t.$slots,"right"),fi(t.$slots,"panel-button",{open:Fn(S)},()=>{var a,r;return[Rr(s,ii({class:Fn(e).button.base},(r=(a=t.$ui)==null?void 0:a.button)==null?void 0:r.secondary,{"aria-label":`${Fn(S)?"Close":"Open"} Menu`,icon:Fn(S)?Fn(e).button.icon.close:Fn(e).button.icon.open,onClick:b[1]||(b[1]=o=>S.value=!Fn(S))}),null,16,["class","aria-label","icon"])]})],2)],2)],2),jr("div",{class:Cr(Fn(e).panel.body)},[fi(t.$slots,"panel",{},()=>[Rr(i,{links:k.links},null,8,["links"])])],2)]),_:3},8,["class"])]),_:3})]),_:3},8,["show"])],16)}}}),pR=/\d/,dR=["-","_","/","."];function gR(k=""){if(!pR.test(k))return k!==k.toLowerCase()}function s1(k,N){const Q=dR,oe=[];if(!k||typeof k!="string")return oe;let he="",O,S;for(const e of k){const v=Q.includes(e);if(v===!0){oe.push(he),he="",O=void 0;continue}const x=gR(e);if(S===!1){if(O===!1&&x===!0){oe.push(he),he=e,O=x;continue}if(O===!0&&x===!1&&he.length>1){const t=he.at(-1);oe.push(he.slice(0,Math.max(0,he.length-1))),he=t+e,O=x;continue}}he+=e,O=x,S=v}return oe.push(he),oe}function Q4(k){return k?k[0].toUpperCase()+k.slice(1):""}function FD(k,N){return k?(Array.isArray(k)?k:s1(k)).map(Q=>Q4(N!=null&&N.normalize?Q.toLowerCase():Q)).join(""):""}function BD(k,N){return k?(Array.isArray(k)?k:s1(k)).map(Q=>Q.toLowerCase()).join("-"):""}function e5(k,N){const Q={[(N==null?void 0:N.labelAttribute)||"title"]:"label",_path:"to"};return k.map(oe=>{var O;const he={};for(const S in oe){if(S==="children"){he.children=(O=oe.children)!=null&&O.length?e5(oe.children,N):void 0;continue}oe[S]&&(he[Q[S]||S]=oe[S])}return he})}function ND(k){var N;return(N=k._dir)!=null&&N.title?k._dir.title:s1(k._dir).map(Q=>Q4(Q)).join(" ")}function vR(k,N){return!k||!N?[]:k.reduce((Q,oe)=>(N._path&&(N._path+"/").startsWith(oe._path+"/")&&oe.children&&(Q.push(oe),Q.push(...vR(oe.children,N))),Q),[])}const mR={key:0,class:"absolute left-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10"},yR={__name:"AppDropdown",setup(k){const N=wr(!1);return(Q,oe)=>(pr(),Wr("div",{class:"relative",onMouseenter:oe[0]||(oe[0]=he=>N.value=!0),onMouseleave:oe[1]||(oe[1]=he=>N.value=!1)},[fi(Q.$slots,"link",{},void 0,!0),N.value?(pr(),Wr("div",mR,[fi(Q.$slots,"dropdown",{},void 0,!0)])):li("",!0)],32))}},o_=Ps(yR,[["__scopeId","data-v-7f61ae83"]]),Wu=k=>(j_("data-v-b9d897e9"),k=k(),U_(),k),xR={class:"subheader bg-gray-800 text-white py-2 relative"},bR=Wu(()=>jr("i",{class:"fas fa-chevron-left text-white"},null,-1)),_R=[bR],wR={class:"flex flex-nowrap space-x-4"},TR=Wu(()=>jr("li",null,[jr("a",{href:"/tutorials/longitudinal-analyses-models/growth-curve-models/latent_growth_curve_models_tutorial",class:"text-white hover:text-gray-300 whitespace-nowrap"},"Growth Curves")],-1)),kR=Wu(()=>jr("li",null,[jr("a",{href:"#",class:"text-white hover:text-gray-300 whitespace-nowrap"},"Cheat Sheets")],-1)),AR=Wu(()=>jr("li",null,[jr("a",{href:"/tutorials/longitudinal-analyses-models/mixed-effects-and-multilevel/linear-mixedeffects-models",class:"text-white hover:text-gray-300 whitespace-nowrap"},"Linear Mixed Models")],-1)),MR=Wu(()=>jr("li",null,[jr("a",{href:"/tools#ides",class:"text-white hover:text-gray-300 whitespace-nowrap"},"IDEs")],-1)),SR=Wu(()=>jr("li",null,[jr("a",{href:"#",class:"text-white hover:text-gray-300 whitespace-nowrap"},"Data Wrangling")],-1)),ER=Wu(()=>jr("ul",{class:"py-1"},[jr("li",null,[jr("a",{href:"#",class:"block px-4 py-2 text-gray-700 hover:bg-gray-100"},"Overview")]),jr("li",null,[jr("a",{href:"#",class:"block px-4 py-2 text-gray-700 hover:bg-gray-100"},"Python")]),jr("li",null,[jr("a",{href:"#",class:"block px-4 py-2 text-gray-700 hover:bg-gray-100"},"Machine Learning")])],-1)),LR=Wu(()=>jr("li",null,[jr("a",{href:"/tools#programming-languages",class:"text-white hover:text-gray-300 whitespace-nowrap"},"Programming Languages")],-1)),CR=Wu(()=>jr("ul",{class:"py-1"},[jr("li",null,[jr("a",{href:"#",class:"block px-4 py-2 text-gray-700 hover:bg-gray-100"},"Python")]),jr("li",null,[jr("a",{href:"#",class:"block px-4 py-2 text-gray-700 hover:bg-gray-100"},"JavaScript")]),jr("li",null,[jr("a",{href:"#",class:"block px-4 py-2 text-gray-700 hover:bg-gray-100"},"Java")]),jr("li",null,[jr("a",{href:"#",class:"block px-4 py-2 text-gray-700 hover:bg-gray-100"},"C++")])],-1)),PR=nm('<li data-v-b9d897e9><a href="#" class="text-white hover:text-gray-300 whitespace-nowrap" data-v-b9d897e9>Workshops</a></li><li data-v-b9d897e9><a href="/tutorials" class="text-white hover:text-gray-300 whitespace-nowrap" data-v-b9d897e9>Tutorials</a></li><li data-v-b9d897e9><a href="/tutorials/data-visualization/viz_customizing-plots-ggplot2" class="text-white hover:text-gray-300 whitespace-nowrap" data-v-b9d897e9>Visualizations</a></li><li data-v-b9d897e9><a href="/tools#notebooks" class="text-white hover:text-gray-300 whitespace-nowrap" data-v-b9d897e9>Quarto</a></li><li data-v-b9d897e9><a href="/tools/6.data-formats" class="text-white hover:text-gray-300 whitespace-nowrap" data-v-b9d897e9>Markdown</a></li><li data-v-b9d897e9><a href="#" class="text-white hover:text-gray-300 whitespace-nowrap" data-v-b9d897e9>Book Club</a></li><li data-v-b9d897e9><a href="#" class="text-white hover:text-gray-300 whitespace-nowrap" data-v-b9d897e9>Missing Data</a></li><li data-v-b9d897e9><a href="https://longitudinaldev.slack.com" class="text-white hover:text-gray-300 whitespace-nowrap" data-v-b9d897e9>Slack Channel</a></li><li data-v-b9d897e9><a href="https://github.com/OpenDevSci/LongDev-ABCD" class="text-white hover:text-gray-300 whitespace-nowrap" data-v-b9d897e9>Github</a></li><li data-v-b9d897e9><a href="/playground" class="text-white hover:text-gray-300 whitespace-nowrap" data-v-b9d897e9>Playground</a></li>',10),OR=Wu(()=>jr("i",{class:"fas fa-chevron-right text-white"},null,-1)),IR=[OR],RR={__name:"AppSubheader",setup(k){const N=wr(null),Q=()=>{N.value.scrollBy({left:-200,behavior:"smooth"})},oe=()=>{N.value.scrollBy({left:200,behavior:"smooth"})};return(he,O)=>(pr(),Wr("div",xR,[jr("button",{class:"absolute left-0 top-1/2 transform -translate-y-1/2 bg-gray-700 p-2 rounded-l z-10",onClick:Q},_R),jr("div",{ref_key:"scrollContainer",ref:N,class:"flex flex-col md:flex-row justify-between items-center px-4 overflow-x-auto ml-8 mr-8"},[jr("ul",wR,[TR,kR,AR,MR,Rr(o_,null,{link:Yr(()=>[SR]),dropdown:Yr(()=>[ER]),_:1}),Rr(o_,null,{link:Yr(()=>[LR]),dropdown:Yr(()=>[CR]),_:1}),PR])],512),jr("button",{class:"absolute right-0 top-1/2 transform -translate-y-1/2 bg-gray-700 p-2 rounded-r z-10",onClick:oe},IR)]))}},DR=Ps(RR,[["__scopeId","data-v-b9d897e9"]]),zR=k=>(j_("data-v-cd5bcd63"),k=k(),U_(),k),FR=zR(()=>jr("span",{class:"highlighted-logo"},"Longitudinal.dev",-1)),BR=Kr({__name:"AppHeader",setup(k){const N=Oi("navigation",[]),{header:Q}=Ko();return(oe,he)=>{var g;const O=q3,S=fc("router-link"),e=NP,v=p4,x=ku,t=U4,b=hR;return pr(),Wr(ki,null,[Rr(b,null,hg({logo:Yr(()=>{var c,s,n,i;return[(s=(c=Fn(Q))==null?void 0:c.logo)!=null&&s.dark||(i=(n=Fn(Q))==null?void 0:n.logo)!=null&&i.light?(pr(),Wr(ki,{key:0},[],64)):(pr(),Wr(ki,{key:1},[FR,Rr(S,{to:"/about"},{default:Yr(()=>[Rr(O,{label:"tl;dr",variant:"subtle",class:"mb-0.5 cursor-pointer"})]),_:1})],64))]}),right:Yr(()=>{var c,s,n;return[(c=Fn(Q))!=null&&c.search?(pr(),ti(e,{key:0,label:null,class:"lg:hidden"})):li("",!0),(s=Fn(Q))!=null&&s.colorMode?(pr(),ti(v,{key:1})):li("",!0),(n=Fn(Q))!=null&&n.links?(pr(!0),Wr(ki,{key:2},nl(Fn(Q).links,(i,a)=>(pr(),ti(x,ii({key:a,ref_for:!0},{color:"gray",variant:"ghost",...i}),null,16))),128)):li("",!0)]}),panel:Yr(()=>[Rr(t,{links:("mapContentNavigation"in oe?oe.mapContentNavigation:Fn(e5))(Fn(N))},null,8,["links"])]),_:2},[(g=Fn(Q))!=null&&g.search?{name:"center",fn:Yr(()=>[Rr(e,{class:"hidden lg:flex"})]),key:"0"}:void 0]),1024),Rr(DR)],64)}}}),t5=Ps(BR,[["__scopeId","data-v-cd5bcd63"]]),NR=Kr({props:{vnode:{type:Object,required:!0},route:{type:Object,required:!0},vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(k){const N=k.renderKey,Q=k.route,oe={};for(const he in k.route)Object.defineProperty(oe,he,{get:()=>N===k.renderKey?k.route[he]:Q[he]});return Ta(Nh,lc(oe)),()=>hi(k.vnode,{ref:k.vnodeRef})}}),jR=Kr({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(k,{attrs:N,slots:Q,expose:oe}){const he=Yi(),O=wr(),S=Oi(Nh,null);let e;oe({pageRef:O});const v=Oi(Jw,null);let x;const t=he.deferHydration();if(he.isHydrating){const b=he.hooks.hookOnce("app:error",t);rl().beforeEach(b)}return k.pageKey&&na(()=>k.pageKey,(b,g)=>{b!==g&&he.callHook("page:loading:start")}),()=>hi(L3,{name:k.name,route:k.route,...N},{default:b=>{const g=VR(S,b.route,b.Component),c=S&&S.matched.length===b.route.matched.length;if(!b.Component){if(x&&!c)return x;t();return}if(x&&v&&!v.isCurrent(b.route))return x;if(g&&S&&(!v||v!=null&&v.isCurrent(S)))return c?x:null;const s=Mm(b,k.pageKey);!he.isHydrating&&!HR(S,b.route,b.Component)&&e===s&&he.callHook("page:loading:end"),e=s;const n=!!(k.transition??b.route.meta.pageTransition??dm),i=n&&UR([k.transition,b.route.meta.pageTransition,dm,{onAfterLeave:()=>{he.callHook("page:transition:finish",b.Component)}}].filter(Boolean)),a=k.keepalive??b.route.meta.keepalive??LA;return x=C3(Jc,n&&i,m7(a,hi(uy,{suspensible:!0,onPending:()=>he.callHook("page:start",b.Component),onResolve:()=>{gc(()=>he.callHook("page:finish",b.Component).then(()=>he.callHook("page:loading:end")).finally(t))}},{default:()=>{const r=hi(NR,{key:s||void 0,vnode:Q.default?hi(ki,void 0,Q.default(b)):b.Component,route:b.route,renderKey:s||void 0,trackRootNodes:n,vnodeRef:O});return a&&(r.type.name=b.Component.type.name||b.Component.type.__name||"RouteProvider"),r}}))).default(),x}})}});function UR(k){const N=k.map(Q=>({...Q,onAfterLeave:Q.onAfterLeave?Ey(Q.onAfterLeave):void 0}));return gg(...N)}function VR(k,N,Q){if(!k)return!1;const oe=N.matched.findIndex(he=>{var O;return((O=he.components)==null?void 0:O.default)===(Q==null?void 0:Q.type)});return!oe||oe===-1?!1:N.matched.slice(0,oe).some((he,O)=>{var S,e,v;return((S=he.components)==null?void 0:S.default)!==((v=(e=k.matched[O])==null?void 0:e.components)==null?void 0:v.default)})||Q&&Mm({route:N,Component:Q})!==Mm({route:k,Component:Q})}function HR(k,N,Q){return k?N.matched.findIndex(he=>{var O;return((O=he.components)==null?void 0:O.default)===(Q==null?void 0:Q.type)})<N.matched.length-1:!1}const qR=Kr({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},async setup(k,N){const Q=await Hc[k.name]().then(oe=>oe.default||oe);return()=>hi(Q,k.layoutProps,N.slots)}}),GR=Kr({name:"NuxtLayout",inheritAttrs:!1,props:{name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},setup(k,N){const Q=Yi(),oe=Oi(Nh),he=oe===pc()?g7():oe,O=cr(()=>{let v=Fn(k.name)??he.meta.layout??"default";return v&&!(v in Hc)&&k.fallback&&(v=Fn(k.fallback)),v}),S=wr();N.expose({layoutRef:S});const e=Q.deferHydration();if(Q.isHydrating){const v=Q.hooks.hookOnce("app:error",e);rl().beforeEach(v)}return()=>{const v=O.value&&O.value in Hc,x=he.meta.layoutTransition??EA;return C3(Jc,v&&x,{default:()=>hi(uy,{suspensible:!0,onResolve:()=>{gc(e)}},{default:()=>hi(WR,{layoutProps:ii(N.attrs,{ref:S}),key:O.value||void 0,name:O.value,shouldProvide:!k.name,hasTransition:!!x},N.slots)})}).default()}}}),WR=Kr({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean}},setup(k,N){const Q=k.name;return k.shouldProvide&&Ta(Jw,{isCurrent:oe=>Q===(oe.meta.layout??"default")}),()=>{var oe,he;return!Q||typeof Q=="string"&&!(Q in Hc)?(he=(oe=N.slots).default)==null?void 0:he.call(oe):hi(qR,{key:Q,layoutProps:k.layoutProps,name:Q},N.slots)}}}),n5=Kr({inheritAttrs:!1,__name:"Main",props:{class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(k){const N={wrapper:"min-h-[calc(100vh-var(--header-height))]"},Q=k,{ui:oe,attrs:he}=io("main",Ai(Q,"ui"),N,Ai(Q,"class"),!0);return(O,S)=>(pr(),Wr("main",ii({class:Fn(oe).wrapper},Fn(he)),[fi(O.$slots,"default")],16))}}),YR=Kr({inheritAttrs:!1,__name:"FooterLinks",props:{links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(k){const N=Ko(),Q=cr(()=>({wrapper:"flex flex-col md:flex-row items-center justify-center gap-4 lg:gap-6",base:"text-sm",active:"text-gray-900 dark:text-white font-medium",inactive:"text-gray-500 dark:text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",externalIcon:{name:N.ui.icons.external,base:"w-3 h-3 absolute top-0.5 -right-3.5 text-gray-400 dark:text-gray-500"}})),oe=k,{ui:he,attrs:O}=io("footer.links",Ai(oe,"ui"),Q,Ai(oe,"class"),!0);return(S,e)=>{var t;const v=Os,x=rf;return(t=k.links)!=null&&t.length?(pr(),Wr("ul",ii({key:0,class:Fn(he).wrapper},Fn(O)),[(pr(!0),Wr(ki,null,nl(k.links,(b,g)=>(pr(),Wr("li",{key:g,class:"relative"},[Rr(x,ii({ref_for:!0},Fn(Oh)(b),{class:Fn(he).base,"active-class":Fn(he).active,"inactive-class":Fn(he).inactive,onClick:b.click}),{default:Yr(()=>[To(wa(b.label)+" ",1),b.target==="_blank"?(pr(),ti(v,{key:0,name:Fn(he).externalIcon.name,class:Cr(Fn(he).externalIcon.base)},null,8,["name","class"])):li("",!0)]),_:2},1040,["class","active-class","inactive-class","onClick"])]))),128))],16)):li("",!0)}}}),$R=Kr({inheritAttrs:!1,__name:"Footer",props:{links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(k){const N={wrapper:"relative",top:{wrapper:"",container:"py-8 lg:py-12"},bottom:{wrapper:"",container:"py-8 lg:py-4 lg:flex lg:items-center lg:justify-between lg:gap-x-3",left:"flex items-center justify-center lg:justify-start lg:flex-1 gap-x-1.5 mt-3 lg:mt-0 lg:order-1",center:"mt-3 lg:mt-0 lg:order-2 flex items-center justify-center",right:"lg:flex-1 flex items-center justify-center lg:justify-end gap-x-1.5 lg:order-3"}},Q=k,{ui:oe,attrs:he}=io("footer",Ai(Q,"ui"),N,Ai(Q,"class"),!0);return(O,S)=>{const e=o1,v=YR;return pr(),Wr("footer",ii({class:Fn(oe).wrapper},Fn(he)),[O.$slots.top?(pr(),Wr("div",{key:0,class:Cr(Fn(oe).top.wrapper)},[Rr(e,{class:Cr(Fn(oe).top.container)},{default:Yr(()=>[fi(O.$slots,"top")]),_:3},8,["class"])],2)):li("",!0),jr("div",{class:Cr(Fn(oe).bottom.wrapper)},[Rr(e,{class:Cr(Fn(oe).bottom.container)},{default:Yr(()=>[jr("div",{class:Cr(Fn(oe).bottom.right)},[fi(O.$slots,"right")],2),jr("div",{class:Cr(Fn(oe).bottom.center)},[fi(O.$slots,"center",{},()=>[Rr(v,{links:k.links},null,8,["links"])])],2),jr("div",{class:Cr(Fn(oe).bottom.left)},[fi(O.$slots,"left")],2)]),_:3},8,["class"])],2)],16)}}}),r5=Kr({__name:"AppFooter",setup(k){const{footer:N}=Ko();return(Q,oe)=>{const he=p4,O=ku,S=$R;return pr(),ti(S,null,{left:Yr(()=>[To(wa(Fn(N).credits),1)]),right:Yr(()=>{var e,v,x;return[(e=Fn(N))!=null&&e.colorMode?(pr(),ti(he,{key:0})):li("",!0),(v=Fn(N))!=null&&v.links?(pr(!0),Wr(ki,{key:1},nl((x=Fn(N))==null?void 0:x.links,(t,b)=>(pr(),ti(O,ii({key:b,ref_for:!0},{color:"gray",variant:"ghost",...t}),null,16))),128)):li("",!0)]}),_:1})}}}),Sf=Tu(Ia.ui.strategy,Ia.ui.avatar,KL),ZR=Kr({components:{UIcon:Os},inheritAttrs:!1,props:{as:{type:[String,Object],default:"img"},src:{type:[String,Boolean],default:null},alt:{type:String,default:null},text:{type:String,default:null},icon:{type:String,default:()=>Sf.default.icon},size:{type:String,default:()=>Sf.default.size,validator(k){return Object.keys(Sf.size).includes(k)}},chipColor:{type:String,default:()=>Sf.default.chipColor,validator(k){return["gray",...Ia.ui.colors].includes(k)}},chipPosition:{type:String,default:()=>Sf.default.chipPosition,validator(k){return Object.keys(Sf.chip.position).includes(k)}},chipText:{type:[String,Number],default:null},imgClass:{type:String,default:""},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(k){const{ui:N,attrs:Q}=io("avatar",Ai(k,"ui"),Sf),oe=cr(()=>typeof k.src=="boolean"?null:k.src),he=cr(()=>(k.alt||"").split(" ").map(b=>b.charAt(0)).join("").substring(0,2)),O=cr(()=>Jl(Xo(N.value.wrapper,(x.value||!oe.value)&&N.value.background,N.value.rounded,N.value.size[k.size]),k.class)),S=cr(()=>Jl(Xo(N.value.rounded,N.value.size[k.size]),k.imgClass)),e=cr(()=>Xo(N.value.icon.base,N.value.icon.size[k.size])),v=cr(()=>Xo(N.value.chip.base,N.value.chip.size[k.size],N.value.chip.position[k.chipPosition],N.value.chip.background.replaceAll("{color}",k.chipColor))),x=wr(!1);na(()=>k.src,()=>{x.value&&(x.value=!1)});function t(){x.value=!0}return{ui:N,attrs:Q,wrapperClass:O,imgClass:S,iconClass:e,chipClass:v,url:oe,placeholder:he,error:x,onError:t}}});function XR(k,N,Q,oe,he,O){const S=Os;return pr(),Wr("span",{class:Cr(k.wrapperClass)},[k.url&&!k.error?(pr(),ti(ad(k.as),ii({key:0,class:k.imgClass,alt:k.alt,src:k.url},k.attrs,{onError:k.onError}),null,16,["class","alt","src","onError"])):k.text?(pr(),Wr("span",{key:1,class:Cr(k.ui.text)},wa(k.text),3)):k.icon?(pr(),ti(S,{key:2,name:k.icon,class:Cr(k.iconClass)},null,8,["name","class"])):k.placeholder?(pr(),Wr("span",{key:3,class:Cr(k.ui.placeholder)},wa(k.placeholder),3)):li("",!0),k.chipColor?(pr(),Wr("span",{key:4,class:Cr(k.chipClass)},wa(k.chipText),3)):li("",!0),fi(k.$slots,"default")],2)}const i5=Ps(ZR,[["render",XR]]);function KR(k,N,Q){let oe=null;const{pause:he,resume:O,timestamp:S}=dE({controls:!0}),e=wr(null),v=cr(()=>e.value?N-(S.value-e.value):0);function x(...n){oe=setTimeout(()=>{oe=null,e.value=null,k(...n)},v.value)}function t(){oe&&(clearTimeout(oe),oe=null)}function b(){e.value=Date.now(),x()}function g(){t(),he()}function c(){t(),he()}function s(){x(),O(),e.value=(e.value||0)+(Date.now()-S.value)}return b(),{start:b,stop:g,pause:c,resume:s,remaining:v}}const Ap=Tu(Ia.ui.strategy,Ia.ui.notification,rC),JR=Kr({components:{UIcon:Os,UAvatar:i5,UButton:ku},inheritAttrs:!1,props:{id:{type:[String,Number],required:!0},title:{type:String,default:null},description:{type:String,default:null},icon:{type:String,default:()=>Ap.default.icon},avatar:{type:Object,default:null},closeButton:{type:Object,default:()=>Ap.default.closeButton},timeout:{type:Number,default:()=>Ap.default.timeout},actions:{type:Array,default:()=>[]},callback:{type:Function,default:null},color:{type:String,default:()=>Ap.default.color,validator(k){return["gray",...Ia.ui.colors].includes(k)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["close"],setup(k,{emit:N}){const{ui:Q,attrs:oe}=io("notification",Ai(k,"ui"),Ap);let he=null;const O=wr(k.timeout),S=cr(()=>{var n,i;return Jl(Xo(Q.value.wrapper,(n=Q.value.background)==null?void 0:n.replaceAll("{color}",k.color),Q.value.rounded,Q.value.shadow,(i=Q.value.ring)==null?void 0:i.replaceAll("{color}",k.color)),k.class)}),e=cr(()=>{var n;return Xo(Q.value.progress.base,(n=Q.value.progress.background)==null?void 0:n.replaceAll("{color}",k.color))}),v=cr(()=>({width:`${O.value/k.timeout*100||0}%`})),x=cr(()=>{var n;return Xo(Q.value.icon.base,(n=Q.value.icon.color)==null?void 0:n.replaceAll("{color}",k.color))});function t(){he&&he.pause()}function b(){he&&he.resume()}function g(){he&&he.stop(),k.callback&&k.callback(),N("close")}function c(n){he&&he.stop(),n.click&&n.click(),N("close")}function s(){he&&he.stop(),k.timeout&&(he=KR(()=>{g()},k.timeout),fo(()=>{O.value=he.remaining.value}))}return na(()=>k.timeout,s),la(s),wo(()=>{he&&he.stop()}),{ui:Q,attrs:oe,wrapperClass:S,progressClass:e,progressStyle:v,iconClass:x,onMouseover:t,onMouseleave:b,onClose:g,onAction:c,twMerge:Jl}}});function QR(k,N,Q,oe,he,O){const S=Os,e=i5,v=ku;return pr(),ti(Jc,ii({appear:""},k.ui.transition),{default:Yr(()=>[jr("div",ii({class:k.wrapperClass,role:"status"},k.attrs,{onMouseover:N[0]||(N[0]=(...x)=>k.onMouseover&&k.onMouseover(...x)),onMouseleave:N[1]||(N[1]=(...x)=>k.onMouseleave&&k.onMouseleave(...x))}),[jr("div",{class:Cr([k.ui.container,k.ui.rounded,k.ui.ring])},[jr("div",{class:Cr(["flex",[k.ui.padding,k.ui.gap,{"items-start":k.description||k.$slots.description,"items-center":!k.description&&!k.$slots.description}]])},[k.icon?(pr(),ti(S,{key:0,name:k.icon,class:Cr(k.iconClass)},null,8,["name","class"])):li("",!0),k.avatar?(pr(),ti(e,ii({key:1},{size:k.ui.avatar.size,...k.avatar},{class:k.ui.avatar.base}),null,16,["class"])):li("",!0),jr("div",{class:Cr(k.ui.inner)},[k.title||k.$slots.title?(pr(),Wr("p",{key:0,class:Cr(k.ui.title)},[fi(k.$slots,"title",{title:k.title},()=>[To(wa(k.title),1)])],2)):li("",!0),k.description||k.$slots.description?(pr(),Wr("div",{key:1,class:Cr(k.twMerge(k.ui.description,!(k.title&&k.$slots.title)&&"mt-0 leading-5"))},[fi(k.$slots,"description",{description:k.description},()=>[To(wa(k.description),1)])],2)):li("",!0),(k.description||k.$slots.description)&&k.actions.length?(pr(),Wr("div",{key:2,class:Cr(k.ui.actions)},[(pr(!0),Wr(ki,null,nl(k.actions,(x,t)=>(pr(),ti(v,ii({key:t,ref_for:!0},{...k.ui.default.actionButton||{},...x},{onClick:Tv(b=>k.onAction(x),["stop"])}),null,16,["onClick"]))),128))],2)):li("",!0)],2),k.closeButton||!k.description&&!k.$slots.description&&k.actions.length?(pr(),Wr("div",{key:2,class:Cr(k.twMerge(k.ui.actions,"mt-0"))},[!k.description&&!k.$slots.description&&k.actions.length?(pr(!0),Wr(ki,{key:0},nl(k.actions,(x,t)=>(pr(),ti(v,ii({key:t,ref_for:!0},{...k.ui.default.actionButton||{},...x},{onClick:Tv(b=>k.onAction(x),["stop"])}),null,16,["onClick"]))),128)):li("",!0),k.closeButton?(pr(),ti(v,ii({key:1,"aria-label":"Close"},{...k.ui.default.closeButton||{},...k.closeButton},{onClick:Tv(k.onClose,["stop"])}),null,16,["onClick"])):li("",!0)],2)):li("",!0)],2),k.timeout?(pr(),Wr("div",{key:0,class:Cr(k.progressClass),style:Kc(k.progressStyle)},null,6)):li("",!0)],2)],16)]),_:3},16)}const a5=Ps(JR,[["render",QR]]);function eD(){const k=jh("notifications",()=>[]);function N(O){const S={id:new Date().getTime().toString(),...O};return k.value.findIndex(v=>v.id===S.id)===-1&&k.value.push(S),S}function Q(O){k.value=k.value.filter(S=>S.id!==O)}function oe(O,S){const e=k.value.findIndex(v=>v.id===O);if(e!==-1){const v=k.value[e];k.value.splice(e,1,{...v,...S})}}function he(){k.value=[]}return{add:N,remove:Q,update:oe,clear:he}}const tD=Tu(Ia.ui.strategy,Ia.ui.notifications,iC),nD=Kr({components:{UNotification:a5},inheritAttrs:!1,props:{class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(k){const{ui:N,attrs:Q}=io("notifications",Ai(k,"ui"),tD),oe=eD(),he=jh("notifications",()=>[]),O=cr(()=>Jl(Xo(N.value.wrapper,N.value.position,N.value.width),k.class));return{ui:N,attrs:Q,toast:oe,notifications:he,wrapperClass:O}}});function rD(k,N,Q,oe,he,O){const S=a5;return pr(),ti(bw,{to:"body"},[jr("div",ii({class:k.wrapperClass,role:"region"},k.attrs),[k.notifications.length?(pr(),Wr("div",{key:0,class:Cr(k.ui.container)},[(pr(!0),Wr(ki,null,nl(k.notifications,e=>(pr(),Wr("div",{key:e.id},[Rr(S,ii({ref_for:!0},e,{class:e.click&&"cursor-pointer",onClick:v=>e.click&&e.click(e),onClose:v=>k.toast.remove(e.id)}),hg({_:2},[nl(k.$slots,(v,x)=>({name:x,fn:Yr(t=>[fi(k.$slots,x,ii({ref_for:!0},t))])}))]),1040,["class","onClick","onClose"])]))),128))],2)):li("",!0)],16)])}const o5=Ps(nD,[["render",rD]]),iD=k=>k==="defer"||k===!1;function l1(...k){var s;const N=typeof k[k.length-1]=="string"?k.pop():void 0;typeof k[0]!="string"&&k.unshift(N);let[Q,oe,he={}]=k;if(typeof Q!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof oe!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const O=Yi(),S=oe,e=()=>gh.value,v=()=>O.isHydrating?O.payload.data[Q]:O.static.data[Q];he.server=he.server??!0,he.default=he.default??e,he.getCachedData=he.getCachedData??v,he.lazy=he.lazy??!1,he.immediate=he.immediate??!0,he.deep=he.deep??gh.deep,he.dedupe=he.dedupe??"cancel";const x=()=>he.getCachedData(Q,O)!=null;if(!O._asyncData[Q]||!he.immediate){(s=O.payload._errors)[Q]??(s[Q]=gh.errorValue);const n=he.deep?wr:hc;O._asyncData[Q]={data:n(he.getCachedData(Q,O)??he.default()),pending:wr(!x()),error:Ai(O.payload._errors,Q),status:wr("idle"),_default:he.default}}const t={...O._asyncData[Q]};delete t._default,t.refresh=t.execute=(n={})=>{if(O._asyncDataPromises[Q]){if(iD(n.dedupe??he.dedupe))return O._asyncDataPromises[Q];O._asyncDataPromises[Q].cancelled=!0}if((n._initial||O.isHydrating&&n._initial!==!1)&&x())return Promise.resolve(he.getCachedData(Q,O));t.pending.value=!0,t.status.value="pending";const i=new Promise((a,r)=>{try{a(S(O))}catch(o){r(o)}}).then(async a=>{if(i.cancelled)return O._asyncDataPromises[Q];let r=a;he.transform&&(r=await he.transform(a)),he.pick&&(r=oD(r,he.pick)),O.payload.data[Q]=r,t.data.value=r,t.error.value=gh.errorValue,t.status.value="success"}).catch(a=>{if(i.cancelled)return O._asyncDataPromises[Q];t.error.value=fd(a),t.data.value=Fn(he.default()),t.status.value="error"}).finally(()=>{i.cancelled||(t.pending.value=!1,delete O._asyncDataPromises[Q])});return O._asyncDataPromises[Q]=i,O._asyncDataPromises[Q]},t.clear=()=>aD(O,Q);const b=()=>t.refresh({_initial:!0}),g=he.server!==!1&&O.payload.serverRendered;{const n=Ml();if(n&&!n._nuxtOnBeforeMountCbs){n._nuxtOnBeforeMountCbs=[];const r=n._nuxtOnBeforeMountCbs;W_(()=>{r.forEach(o=>{o()}),r.splice(0,r.length)}),wo(()=>r.splice(0,r.length))}g&&O.isHydrating&&(t.error.value||x())?(t.pending.value=!1,t.status.value=t.error.value?"error":"success"):n&&(O.payload.serverRendered&&O.isHydrating||he.lazy)&&he.immediate?n._nuxtOnBeforeMountCbs.push(b):he.immediate&&b();const i=Hf();if(he.watch){const r=na(he.watch,()=>t.refresh());i&&Ah(r)}const a=O.hook("app:data:refresh",async r=>{(!r||r.includes(Q))&&await t.refresh()});i&&Ah(a)}const c=Promise.resolve(O._asyncDataPromises[Q]).then(()=>t);return Object.assign(c,t),c}function aD(k,N){N in k.payload.data&&(k.payload.data[N]=void 0),N in k.payload._errors&&(k.payload._errors[N]=gh.errorValue),k._asyncData[N]&&(k._asyncData[N].data.value=void 0,k._asyncData[N].error.value=gh.errorValue,k._asyncData[N].pending.value=!1,k._asyncData[N].status.value="idle"),N in k._asyncDataPromises&&(k._asyncDataPromises[N].cancelled=!0,k._asyncDataPromises[N]=void 0)}function oD(k,N){const Q={};for(const oe of N)Q[oe]=k[oe];return Q}function u1(k){return JSON.stringify(k,sD)}function sD(k,N){return N instanceof RegExp?`--REGEX ${N.toString()}`:N}const s5=k=>{let N=u1(k);return N=typeof Buffer<"u"?Buffer.from(N).toString("base64"):btoa(N),N=N.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),(N.match(/.{1,100}/g)||[]).join("/")},c1=()=>({isEnabled:()=>{const oe=pc().query;return Object.prototype.hasOwnProperty.call(oe,"preview")&&!oe.preview?!1:!!(oe.preview||I0("previewToken").value||sessionStorage.getItem("previewToken"))},getPreviewToken:()=>I0("previewToken").value||sessionStorage.getItem("previewToken")||void 0,setPreviewToken:oe=>{I0("previewToken").value=oe,pc().query.preview=oe||"",oe?sessionStorage.setItem("previewToken",oe):sessionStorage.removeItem("previewToken"),window.location.reload()}}),rg=k=>zw(k,wu().public.content.api.baseURL),jD=()=>{throw console.warn("useContent is only accessible when you are using `documentDriven` mode."),console.warn("Learn more by visiting: https://content.nuxt.com/document-driven"),new Error("useContent is only accessible when you are using `documentDriven` mode.")},l5=()=>{const{experimental:k}=wu().public.content;return k.clientDB?!0:c1().isEnabled()},s_=(k,N)=>N.split(".").reduce((Q,oe)=>Q&&Q[oe],k),f1=(k,N)=>Object.keys(k).filter(N).reduce((Q,oe)=>Object.assign(Q,{[oe]:k[oe]}),{}),UD=k=>N=>k&&k.length?f1(N,Q=>!k.includes(Q)):N,VD=k=>N=>Array.isArray(N)?N.map(Q=>k(Q)):k(N),u5=k=>{const N=[],Q=[];for(const oe of k)["$","_"].includes(oe)?N.push(oe):Q.push(oe);return{prefixes:N,properties:Q}},HD=(k=[])=>N=>{if(k.length===0||!N)return N;const{prefixes:Q,properties:oe}=u5(k);return f1(N,he=>!oe.includes(he)&&!Q.includes(he[0]))},qD=(k=[])=>N=>{if(k.length===0||!N)return N;const{prefixes:Q,properties:oe}=u5(k);return f1(N,he=>oe.includes(he)||Q.includes(he[0]))},GD=(k,N)=>{const Q=new Intl.Collator(N.$locale,{numeric:N.$numeric,caseFirst:N.$caseFirst,sensitivity:N.$sensitivity}),oe=Object.keys(N).filter(he=>!he.startsWith("$"));for(const he of oe)k=k.sort((O,S)=>{const e=[s_(O,he),s_(S,he)].map(v=>{if(v!==null)return v instanceof Date?v.toISOString():v});return N[he]===-1&&e.reverse(),Q.compare(e[0],e[1])});return k},WD=(k,N="Expected an array")=>{if(!Array.isArray(k))throw new TypeError(N)},oc=k=>Array.isArray(k)?k:[void 0,null].includes(k)?[]:[k],lD=["sort","where","only","without"];function uD(k,N={}){const Q={};for(const S of Object.keys(N.initialParams||{}))Q[S]=lD.includes(S)?oc(N.initialParams[S]):N.initialParams[S];const oe=(S,e=v=>v)=>(...v)=>(Q[S]=e(...v),O),he=S=>{var e;return N.legacy?S!=null&&S.surround?S.surround:S&&(S!=null&&S.dirConfig&&(S.result={_path:(e=S.dirConfig)==null?void 0:e._path,...S.result,_dir:S.dirConfig}),S!=null&&S._path||Array.isArray(S)||!Object.prototype.hasOwnProperty.call(S,"result")?S:S==null?void 0:S.result):S},O={params:()=>({...Q,...Q.where?{where:[...oc(Q.where)]}:{},...Q.sort?{sort:[...oc(Q.sort)]}:{}}),only:oe("only",oc),without:oe("without",oc),where:oe("where",S=>[...oc(Q.where),...oc(S)]),sort:oe("sort",S=>[...oc(Q.sort),...oc(S)]),limit:oe("limit",S=>parseInt(String(S),10)),skip:oe("skip",S=>parseInt(String(S),10)),find:()=>k(O).then(he),findOne:()=>k(oe("first")(!0)).then(he),count:()=>k(oe("count")(!0)).then(he),locale:S=>O.where({_locale:S}),withSurround:oe("surround",(S,e)=>({query:S,...e})),withDirConfig:()=>oe("dirConfig")(!0)};return N.legacy&&(O.findSurround=(S,e)=>O.withSurround(S,e).find().then(he)),O}const cD=()=>async k=>{const{content:N}=wu().public,Q=k.params(),oe=N.experimental.stripQueryParameters?rg(`/query/${`${$p(Q)}.${N.integrity}`}/${s5(Q)}.json`):rg(`/query/${$p(Q)}.${N.integrity}.json`);if(l5())return(await Ur(()=>import("./J81HAcOp.js"),[],import.meta.url).then(S=>S.useContentDatabase())).fetch(k);const he=await $fetch(oe,{method:"GET",responseType:"json",params:N.experimental.stripQueryParameters?void 0:{_params:u1(Q),previewToken:c1().getPreviewToken()}});if(typeof he=="string"&&he.startsWith("<!DOCTYPE html>"))throw new Error("Not found");return he};function fD(k,...N){const{content:Q}=wu().public,oe=uD(cD(),{initialParams:typeof k!="string"?k:{},legacy:!0});let he;typeof k=="string"&&(he=fm(cd(k,...N)));const O=oe.params;return oe.params=()=>{var e,v,x;const S=O();return he&&(S.where=S.where||[],S.first&&(S.where||[]).length===0?S.where.push({_path:ud(he)}):S.where.push({_path:new RegExp(`^${he.replace(/[-[\]{}()*+.,^$\s/]/g,"\\$&")}`)})),(e=S.sort)!=null&&e.length||(S.sort=[{_file:1,$numeric:!0}]),Q.locales.length&&((x=(v=S.where)==null?void 0:v.find(b=>b._locale))!=null&&x._locale||(S.where=S.where||[],S.where.push({_locale:Q.defaultLocale}))),S},oe}const c5=async k=>{const{content:N}=wu().public;typeof(k==null?void 0:k.params)!="function"&&(k=fD(k));const Q=k.params(),oe=N.experimental.stripQueryParameters?rg(`/navigation/${`${$p(Q)}.${N.integrity}`}/${s5(Q)}.json`):rg(`/navigation/${$p(Q)}.${N.integrity}.json`);if(l5())return(await Ur(()=>import("./J81HAcOp.js"),[],import.meta.url).then(S=>S.generateNavigation))(Q);const he=await $fetch(oe,{method:"GET",responseType:"json",params:N.experimental.stripQueryParameters?void 0:{_params:u1(Q),previewToken:c1().getPreviewToken()}});if(typeof he=="string"&&he.startsWith("<!DOCTYPE html>"))throw new Error("Not found");return he};function hD(k,N,Q){const[oe={},he]=typeof N=="string"?[{},N]:[N,Q],O=cr(()=>Nu(k)),S=oe.key||$p([he,typeof O.value=="string"?O.value:"",...pD(oe)]);if(!S||typeof S!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+S);const e=S===he?"$f"+S:S;if(!oe.baseURL&&typeof O.value=="string"&&O.value[0]==="/"&&O.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:v,lazy:x,default:t,transform:b,pick:g,watch:c,immediate:s,getCachedData:n,deep:i,dedupe:a,...r}=oe,o=_u({...OA,...r,cache:typeof oe.cache=="boolean"?void 0:oe.cache}),l={server:v,lazy:x,default:t,transform:b,pick:g,immediate:s,getCachedData:n,deep:i,dedupe:a,watch:c===!1?[]:[o,O,...c||[]]};let u;return l1(e,()=>{var y;(y=u==null?void 0:u.abort)==null||y.call(u),u=typeof AbortController<"u"?new AbortController:{};const f=Nu(oe.timeout);let T;return f&&(T=setTimeout(()=>u.abort(),f),u.signal.onabort=()=>clearTimeout(T)),(oe.$fetch||globalThis.$fetch)(O.value,{signal:u.signal,...o}).finally(()=>{clearTimeout(T)})},l)}function f5(k,N,Q){const[oe={},he]=typeof N=="string"?[{},N]:[N,Q];return hD(k,{...oe,lazy:!0},he)}function pD(k){var Q;const N=[((Q=Nu(k.method))==null?void 0:Q.toUpperCase())||"GET",Nu(k.baseURL)];for(const oe of[k.params||k.query]){const he=Nu(oe);if(!he)continue;const O={};for(const[S,e]of Object.entries(he))O[Nu(S)]=Nu(e);N.push(O)}return N}const dD=Xr(()=>Ur(()=>import("./BzIAakft.js"),__vite__mapDeps([54,16,55]),import.meta.url).then(k=>k.default||k)),gD=jr("div",{class:"relative group flex mt-5 justify-center items-center"},[jr("i",{class:"fas fa-exclamation-triangle text-4xl text-yellow-500"}),jr("div",{class:"bg-gray-800 text-white mt-5 text-sm py-1 px-2 rounded"}," Site under development, current content may not be accurate ")],-1),vD=Kr({__name:"app",async setup(k){let N,Q;const{seo:oe}=Ko(),{data:he}=([N,Q]=fy(()=>l1("navigation",()=>c5())),N=await N,Q(),N),{data:O}=f5("/api/search.json",{default:()=>[],server:!1},"$siNM9WAguS");return hd({meta:[{name:"viewport",content:"width=device-width, initial-scale=1"}],link:[{rel:"icon",href:"/logo.svg"}],htmlAttrs:{lang:"en"}}),p3({titleTemplate:`%s - ${oe==null?void 0:oe.siteName}`,ogSiteName:oe==null?void 0:oe.siteName,ogImage:"https://docs-template.nuxt.dev/social-card.png",twitterImage:"https://docs-template.nuxt.dev/social-card.png",twitterCard:"summary_large_image"}),Ta("navigation",he),(S,e)=>{const v=XL,x=t5,t=jR,b=GR,g=n5,c=r5,s=dD,n=Ny,i=o5;return pr(),Wr(ki,null,[Rr(v),Rr(x),Rr(g,null,{default:Yr(()=>[gD,Rr(b,null,{default:Yr(()=>[Rr(t)]),_:1})]),_:1}),Rr(c),Rr(n,null,{default:Yr(()=>[Rr(s,{files:Fn(O),navigation:Fn(he)},null,8,["files","navigation"])]),_:1}),Rr(i)],64)}}}),mD=Kr({inheritAttrs:!1,__name:"PageError",props:{error:{type:Object,default:void 0},status:{type:Number,default:404},name:{type:String,default:"An error occurred"},message:{type:String,default:"This is not the page you're looking for."},clearButton:{type:Object,default:()=>({})},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(k){const N={wrapper:"min-h-[calc(100vh-var(--header-height))] flex flex-col items-center justify-center",status:"text-base font-semibold text-primary",name:"text-3xl font-bold tracking-tight text-gray-900 dark:text-white sm:text-5xl",message:"mt-6 text-base/7 text-gray-500 dark:text-gray-400 text-center",links:"mt-10 flex items-center justify-center gap-x-6",default:{clearButton:{label:"Go back home",color:"primary",size:"lg"}}},Q=k,{ui:oe,attrs:he}=io("page.error",Ai(Q,"ui"),N,Ai(Q,"class"),!0),O=()=>e3({redirect:"/"});return(S,e)=>{var x,t,b,g;const v=ku;return pr(),Wr("div",ii({class:Fn(oe).wrapper},Fn(he)),[jr("p",{class:Cr(Fn(oe).status)},wa(((x=k.error)==null?void 0:x.statusCode)||k.status),3),jr("h1",{class:Cr(Fn(oe).name)},wa(((t=k.error)==null?void 0:t.name)||((b=k.error)==null?void 0:b.statusMessage)||k.name),3),jr("p",{class:Cr(Fn(oe).message)},wa((g=k.error)!=null&&g.message&&k.error.message!==(k.error.name||k.error.statusMessage||k.name)?k.error.message:k.message),3),jr("div",{class:Cr(Fn(oe).links)},[Rr(v,ii({...Fn(oe).default.clearButton,...k.clearButton},{onClick:O}),null,16)],2)],16)}}}),yD=Kr({inheritAttrs:!1,__name:"Page",props:{class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(k){const N={wrapper:"flex flex-col lg:grid lg:grid-cols-10 lg:gap-8",left:"lg:col-span-2",center:{narrow:"lg:col-span-6",base:"lg:col-span-8",full:"lg:col-span-10"},right:"lg:col-span-2 order-first lg:order-last"},Q=k,oe=X_(),{ui:he,attrs:O}=io("page",Ai(Q,"ui"),N,Ai(Q,"class"),!0),S=cr(()=>oe.left&&oe.right?he.value.center.narrow:oe.left||oe.right?he.value.center.base:he.value.center.full);return(e,v)=>(pr(),Wr("div",ii({class:Fn(he).wrapper},Fn(O)),[e.$slots.left?(pr(),Wr("div",{key:0,class:Cr(Fn(he).left)},[fi(e.$slots,"left")],2)):li("",!0),jr("div",{class:Cr(Fn(S))},[fi(e.$slots,"default")],2),e.$slots.right?(pr(),Wr("div",{key:1,class:Cr(Fn(he).right)},[fi(e.$slots,"right")],2)):li("",!0)],16))}}),xD=Xr(()=>Ur(()=>import("./BzIAakft.js"),__vite__mapDeps([54,16,55]),import.meta.url).then(k=>k.default||k)),bD=Kr({__name:"error",props:{error:{type:Object,required:!0}},async setup(k){let N,Q;p3({title:"Page not found",description:"We are sorry but this page could not be found."}),hd({htmlAttrs:{lang:"en"}});const{data:oe}=([N,Q]=fy(()=>l1("navigation",()=>c5())),N=await N,Q(),N),{data:he}=f5("/api/search.json",{default:()=>[],server:!1},"$mar46U4SiV");return Ta("navigation",oe),(O,S)=>{const e=t5,v=mD,x=yD,t=o1,b=n5,g=r5,c=xD,s=Ny,n=o5;return pr(),Wr("div",null,[Rr(e),Rr(b,null,{default:Yr(()=>[Rr(t,null,{default:Yr(()=>[Rr(x,null,{default:Yr(()=>[Rr(v,{error:k.error},null,8,["error"])]),_:1})]),_:1})]),_:1}),Rr(g),Rr(s,null,{default:Yr(()=>[Rr(c,{files:Fn(he),navigation:Fn(oe)},null,8,["files","navigation"])]),_:1}),Rr(n)])}}}),_D={key:0},l_={__name:"nuxt-root",setup(k){const N=()=>null,Q=Yi(),oe=Q.deferHydration();if(Q.isHydrating){const v=Q.hooks.hookOnce("app:error",oe);rl().beforeEach(v)}const he=!1;Ta(Nh,pc()),Q.hooks.callHookWith(v=>v.map(x=>x()),"vue:setup");const O=vg(),S=!1;$_((v,x,t)=>{if(Q.hooks.callHook("vue:error",v,x,t).catch(b=>console.error("[nuxt] Error in `vue:error` hook",b)),hM(v)&&(v.fatal||v.unhandled))return Q.runWithContext(()=>vh(v)),!1});const e=!1;return(v,x)=>(pr(),ti(uy,{onResolve:Fn(oe)},{default:Yr(()=>[Fn(S)?(pr(),Wr("div",_D)):Fn(O)?(pr(),ti(Fn(bD),{key:1,error:Fn(O)},null,8,["error"])):Fn(e)?(pr(),ti(Fn(N),{key:2,context:Fn(e)},null,8,["context"])):Fn(he)?(pr(),ti(ad(Fn(he)),{key:3})):(pr(),ti(Fn(vD),{key:4}))]),_:1},8,["onResolve"]))}};let u_;{let k;u_=async function(){var S,e;if(k)return k;const oe=!!((S=window.__NUXT__)!=null&&S.serverRendered||((e=document.getElementById("__NUXT_DATA__"))==null?void 0:e.dataset.ssr)==="true")?k8(l_):T8(l_),he=DA({vueApp:oe});async function O(v){await he.callHook("app:error",v),he.payload.error=he.payload.error||fd(v)}oe.config.errorHandler=O;try{await BA(he,WL)}catch(v){O(v)}try{await he.hooks.callHook("app:created",oe),await he.hooks.callHook("app:beforeMount",oe),oe.mount(IA),await he.hooks.callHook("app:mounted",oe),await gc()}catch(v){O(v)}return oe.config.errorHandler===O&&(oe.config.errorHandler=void 0),oe},k=u_().catch(N=>{throw console.error("Error while mounting app:",N),N})}export{Gu as $,T8 as A,jD as B,Xi as C,cr as D,Fn as E,ki as F,hc as G,na as H,wD as I,Ah as J,dd as K,Do as L,_u as M,Vr as N,m4 as O,Ta as P,Gy as Q,ro as R,hi as S,Jc as T,Ih as U,zD as V,Nf as W,Is as X,_4 as Y,Uu as Z,Ur as _,rl as a,BD as a$,ef as a0,fo as a1,md as a2,Oi as a3,Xl as a4,QP as a5,el as a6,gc as a7,Cf as a8,tO as a9,qO as aA,FP as aB,qc as aC,f4 as aD,LD as aE,UP as aF,vR as aG,Gx as aH,tm as aI,_o as aJ,ED as aK,c4 as aL,Jl as aM,Oh as aN,rf as aO,W_ as aP,od as aQ,Tv as aR,fy as aS,fd as aT,p3 as aU,l1 as aV,ND as aW,yD as aX,ud as aY,nm as aZ,V9 as a_,Kl as aa,Os as ab,i5 as ac,uC as ad,Vy as ae,jy as af,fc as ag,nl as ah,ti as ai,fi as aj,ii as ak,Kc as al,Tu as am,Ia as an,ku as ao,io as ap,Ai as aq,gg as ar,MD as as,Xo as at,ok as au,r8 as av,hg as aw,MO as ax,SO as ay,j4 as az,wo as b,$p as b0,o1 as b1,I3 as b2,PD as b3,qf as b4,SD as b5,eg as b6,bg as b7,kD as b8,_0 as b9,CD as bA,eD as bB,hd as bC,Z0 as bD,TD as bE,c5 as bF,fm as bG,cd as bH,xP as bI,s_ as bJ,WD as bK,oc as bL,UD as bM,GD as bN,VD as bO,HD as bP,qD as bQ,AD as bR,uD as bS,zw as bT,X_ as ba,nL as bb,Ym as bc,q3 as bd,q9 as be,OD as bf,Ny as bg,Uw as bh,qy as bi,Hy as bj,y4 as bk,DD as bl,ps as bm,RD as bn,C2 as bo,ad as bp,PO as bq,OO as br,CO as bs,nk as bt,c1 as bu,Ml as bv,FD as bw,Sh as bx,Zo as by,Wp as bz,pr as c,Kr as d,Wr as e,jr as f,li as g,Rr as h,I0 as i,U_ as j,To as k,Ps as l,by as m,Cr as n,la as o,j_ as p,jh as q,wr as r,fD as s,wa as t,Yi as u,wu as v,Yr as w,pc as x,B2 as y,Ko as z};
