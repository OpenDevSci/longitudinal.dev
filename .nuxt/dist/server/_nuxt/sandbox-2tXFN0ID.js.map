{"version":3,"file":"sandbox-2tXFN0ID.js","sources":["../../../../components/MeanComponent.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <h2 class=\"title\">Calculate Descriptive Statistics with Tidyverse</h2>\n    <p>\n      Click \"Run\" to calculate and display the descriptive statistics for the\n      selected variables (Age, Education, CogTestScore).\n    </p>\n\n    <!-- Code Editor -->\n    <textarea v-model=\"descStatsCode\" rows=\"8\" cols=\"60\" class=\"code-editor\" />\n    <small>Edit the R code and click \"Run\" to see the results.</small>\n\n    <!-- Run Button -->\n    <button class=\"run-button\" @click=\"calculateDescriptiveStats\">Run</button>\n\n    <!-- Display Output -->\n    <h3>Descriptive Statistics</h3>\n    <div id=\"desc-output\" class=\"output-box\">\n      Descriptive statistics will appear here...\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from \"vue\";\n\n// User-editable R code to calculate descriptive statistics with tidyverse\nconst descStatsCode = ref(`\n    library(tidyverse)\n    url <- \"https://gist.githubusercontent.com/swhawes/447351298561aa1a9d90e87c650977ff/raw/c18a661edeae55718b0aa424273742e977a737da/longitudinal_dataset.csv\"\n    data <- read_csv(url) %>% as_tibble()\n    desc_stats <- data %>%\n      summarise(\n        mean_Age = mean(Age, na.rm = TRUE),\n        mean_Education = mean(Education, na.rm = TRUE),\n        mean_CogTestScore = mean(CogTestScore, na.rm = TRUE)\n      )\n    desc_stats\n  `);\n\nasync function calculateDescriptiveStats() {\n  const { WebR } = await import(\"https://webr.r-wasm.org/latest/webr.mjs\");\n  const webr = new WebR();\n  await webr.init();\n\n  // Preload tidyverse package\n  await webr.installPackages([\"tidyverse\"]);\n\n  try {\n    const result = await webr.evalR(descStatsCode.value);\n    const descData = await result.toJs();\n\n    console.log(\"Raw R Output:\", descData); // Log the raw output\n\n    if (descData && descData.values && Array.isArray(descData.values)) {\n      // Process the data\n    } else {\n      throw new Error(\"Unexpected data structure returned from R.\");\n    }\n  } catch (error) {\n    document.getElementById(\n      \"desc-output\"\n    ).innerHTML = `Error: ${error.message}`;\n  }\n}\n</script>\n\n<style scoped>\n.container {\n  font-family: \"Arial\", sans-serif;\n  padding: 20px;\n  max-width: 800px;\n  margin: 0 auto;\n  background: #fafafa;\n  border-radius: 10px;\n  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);\n}\n\n.title {\n  color: #333;\n  text-align: center;\n  margin-bottom: 20px;\n  font-size: 24px;\n}\n\n.code-editor {\n  width: 100%;\n  padding: 10px;\n  font-family: monospace;\n  font-size: 14px;\n  border: 2px solid #ccc;\n  border-radius: 5px;\n  background-color: #f0f0f0;\n  color: #333;\n}\n\n.run-button {\n  background-color: #007bff;\n  color: white;\n  padding: 10px 20px;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n  font-size: 16px;\n}\n\n.run-button:hover {\n  background-color: #0056b3;\n}\n\n.output-box {\n  margin-top: 15px;\n  padding: 15px;\n  background-color: #ffffff;\n  border: 1px solid #ddd;\n  border-radius: 5px;\n  color: #333;\n  font-size: 14px;\n}\n\ntable {\n  width: 100%;\n  border-collapse: collapse;\n}\n\ntable,\nth,\ntd {\n  border: 1px solid #ddd;\n}\n\nth,\ntd {\n  padding: 8px;\n  text-align: left;\n}\n</style>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,UAAM,gBAAgB,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAWvB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}