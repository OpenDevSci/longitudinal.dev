import{d as m,M as f,o as w,H as x,aQ as U,S as I,be as N,c as C,e as b,f as s,h as p,bf as h,w as O,u as R,bg as D}from"./BFOc3Iih.js";let y;const B=new Uint8Array(16);function k(){if(!y&&(y=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!y))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return y(B)}const o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));function z(e,t=0){return o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]}const P=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),g={randomUUID:P};function V(e,t,a){if(g.randomUUID&&!t&&!e)return g.randomUUID();e=e||{};const i=e.random||(e.rng||k)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,z(i)}const v=m({props:{data:{type:Array,required:!0},config:{type:Object,required:!1,default:void 0},layout:{type:Object,required:!1,default:void 0}},emits:["on-ready"],setup(e,t){const a=f({plotlyId:`plotly-${V()}`,resizeObserver:{},timeOutFunctionId:{},plotlyHTMLElement:{}}),i=async()=>{a.plotlyHTMLElement=await N.newPlot(a.plotlyId,e.data,e.layout,e.config),t.emit("on-ready",a.plotlyHTMLElement)},n=()=>{a.resizeObserver=new ResizeObserver(()=>{clearTimeout(a.timeOutFunctionId),a.timeOutFunctionId=setTimeout(()=>{i()},100)});const l=document.getElementById(a.plotlyId);l&&a.resizeObserver.observe(l)};return w(()=>{i(),n()}),x(()=>[e.data,e.layout,e.config],()=>{i()},{deep:!0}),U(()=>{a.resizeObserver.disconnect()}),()=>I("div",{id:a.plotlyId})}}),S=h(v),F=s("h1",null,"Test Re-Draw",-1),$={__name:"PieChart.client",setup(e){const t=[[{values:[19,26,55],labels:["Residential","Non-Residential","Utility"],type:"pie"}],[{values:[16,15,12,6,5,4,42],labels:["US","China","European Union","Russian Federation","Brazil","India","Rest of World"],domain:{column:0},name:"GHG Emissions",hoverinfo:"label+percent+name",hole:.4,type:"pie"},{values:[27,11,25,8,1,3,25],labels:["US","China","European Union","Russian Federation","Brazil","India","Rest of World"],text:"CO2",textposition:"inside",domain:{column:1},name:"CO2 Emissions",hoverinfo:"label+percent+name",hole:.4,type:"pie"}]],a=[{title:"[layout0] Pie Chart on `PieChart.client.vue`"},{title:"[layout1] Pie Chart on `PieChart.client.vue`",showlegend:!1}],i=[{scrollZoom:!0,displayModeBar:!0},{scrollZoom:!1,displayModeBar:!1}],n=f({changeDataNo:1,data:t[0],changeConfigNo:1,config:i[0],changeLayoutNo:1,layout:a[0]});function l(){n.data=t[n.changeDataNo],n.changeDataNo=n.changeDataNo==1?0:1}function c(){n.layout=a[n.changeLayoutNo],n.changeLayoutNo=n.changeLayoutNo==1?0:1}function u(){n.config=i[n.changeConfigNo],n.changeConfigNo=n.changeConfigNo==1?0:1}return(d,r)=>{const _=S;return C(),b("div",null,[F,s("button",{onClick:l,style:{width:"100%"}}," Change Data "),s("button",{onClick:c,style:{width:"100%"}}," Change Layout "),s("button",{onClick:u,style:{width:"100%"}}," Change Config "),p(_,{data:n.data,layout:n.layout,config:n.config,style:{width:"100%"}},null,8,["data","layout","config"])])}}},j=h(v),q=h($),A=s("h1",null,"Table View",-1),G=s("h1",null,"nuxt-plotly module playground!",-1),W=m({__name:"plotly-view",setup(e){const i=[{x:[1,2,3,4,5],y:[10,20,30,20,10],type:"scatter",mode:"markers",marker:{size:20}}],n={scrollZoom:!0,displayModeBar:!1};function l(c){var d,r;const{$plotly:u}=R();console.log({$plotly:u}),console.log({plotlyHTMLElement:c}),(d=c.on)==null||d.call(c,"plotly_afterplot",function(){console.log("done plotting")}),(r=c.on)==null||r.call(c,"plotly_click",function(){alert("You clicked this Plotly chart!"),u.downloadImage(c,{format:"png",width:800,height:600,filename:"newplot"})})}return(c,u)=>{const d=j,r=D,_=q;return C(),b("div",null,[A,G,p(r,null,{default:O(()=>[p(d,{data:i,layout:c.docs,config:n,style:{width:"100%"},onOnReady:l},null,8,["layout"])]),_:1}),p(_)])}}});export{W as default};
